{"doc":{"isMarkdown":true,"isTranslated":true,"isActive":true,"flaws":{},"title":"Usando a API Web Storage","mdn_url":"/pt-BR/docs/Web/API/Web_Storage_API/Using_the_Web_Storage_API","locale":"pt-BR","native":"Português (do Brasil)","sidebarHTML":"<ol><li><strong><a href=\"/pt-BR/docs/Web/API/Web_Storage_API\">Web Storage API</a></strong></li><li class=\"toggle\"><details open=\"\"><summary>Guias</summary><ol><li><a href=\"/pt-BR/docs/Web/API/Web_Storage_API/Using_the_Web_Storage_API\">Using the Web Storage API</a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>Interfaces</summary><ol><li><a href=\"/pt-BR/docs/Web/API/Storage\"><code>Storage</code></a></li><li><a href=\"/pt-BR/docs/Web/API/StorageEvent\"><code>StorageEvent</code></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>Propriedades</summary><ol><li><a href=\"/pt-BR/docs/Web/API/Window/sessionStorage\"><code>Window.sessionStorage</code></a></li><li><a href=\"/pt-BR/docs/Web/API/Window/localStorage\"><code>Window.localStorage</code></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>Eventos</summary><ol><li><a href=\"/pt-BR/docs/Web/API/Window/storage_event\"><code>Window</code>: <code>storage</code></a></li></ol></details></li></ol>","body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<p>A API Web Storage fornece mecanismos pelos quais os navegadores podem armazenar pares de chaves/valores de uma maneira muito mais segura e intuitiva do que usar cookies. Este artigo fornece um passo a passo sobre como usar essa tecnologia.</p>"}},{"type":"prose","value":{"id":"conceitos_básicos","title":"Conceitos básicos","isH3":false,"content":"<p>Objetos <code>Storage</code> são simples conjuntos contendo pares de chave/valor, de forma parecida com objetos, porém eles permanecem intactos mesmo após a página ser recarregada. As chaves e valores são sempre strings (note que chaves cujo nome seja um número inteiro serão automaticamente convertidas par strings, assim como acontece nos objetos). Você pode acessar esses valores como você faria com um objeto ou usando os métodos <a href=\"/pt-BR/docs/Web/API/Storage/getItem\"><code>Storage.getItem()</code></a> e <a href=\"/pt-BR/docs/Web/API/Storage/setItem\"><code>Storage.setItem()</code></a>. As três linhas seguintes definem o valor de <code>corDefinida</code> de maneiras diferentes, mas com o mesmo resultado:</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code>localStorage<span class=\"token punctuation\">.</span>corDefinida <span class=\"token operator\">=</span> <span class=\"token string\">'#a4509b'</span><span class=\"token punctuation\">;</span>\nlocalStorage<span class=\"token punctuation\">[</span><span class=\"token string\">'corDefinida'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token string\">'#a4509b'</span><span class=\"token punctuation\">;</span>\nlocalStorage<span class=\"token punctuation\">.</span><span class=\"token function\">setItem</span><span class=\"token punctuation\">(</span><span class=\"token string\">'corDefinida'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'#a4509b'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<blockquote>\n  <p><strong>Nota:</strong> Recomendamos que você utilize a API Web Storage (<code>setItem</code>, <code>getItem</code>, <code>removeItem</code>, <code>key</code>, <code>length</code>) para evitar as <a href=\"https://www.2ality.com/2012/01/objects-as-maps.html\" class=\"external\" rel=\" noopener\">armadilhas</a> associadas ao uso de objetos literais como mapas de chave-valor.</p>\n</blockquote>\n<p>Os dois mecanismos presentes na Web Storage são os seguintes:</p>\n<ul>\n  <li>O <strong><code>sessionStorage</code></strong> mantém uma área de armazenamento separada para cada origem diferente. Cada uma dessas áreas fica disponível durante a sessão da página (ou seja, enquanto a aba do navegador estiver aberta, incluindo recarregamentos e restaurações de páginas).</li>\n  <li>O <strong><code>localStorage</code></strong> faz a mesma coisa, mas os dados armazenados aqui continuam existindo mesmo depois do navegador ser fechado e reaberto.</li>\n</ul>\n<p>Esses mecanismos estão disponíveis através das propriedades <a href=\"/pt-BR/docs/Web/API/Window/sessionStorage\"><code>Window.sessionStorage</code></a> e <a href=\"/pt-BR/docs/Web/API/Window/localStorage\"><code>Window.localStorage</code></a> (de forma mais específica, em navegadores compatíveis, o objeto <code>Window</code> implementa os objetos <code>WindowLocalStorage</code> e <code>WindowSessionStorage</code>, aos quais as propriedades <code>localStorage</code> and <code>sessionStorage</code> pertencem, respectivamente) — invocar uma dessas propriedades irá criar uma instância do objeto <a href=\"/pt-BR/docs/Web/API/Storage\"><code>Storage</code></a>, através do qual itens de dados podem ser definidos, acessados e removidos. Cada origem recebe objetos Storage diferentes para <code>sessionStorage</code> and <code>localStorage</code> — eles operam e são controlados separadamente.</p>\n<p>Por exemplo, chamar <code>localStorage</code> pela primeira vez em um documento retornará um objeto <a href=\"/pt-BR/docs/Web/API/Storage\"><code>Storage</code></a>; chamar <code>sessionStorage</code> em um documento retornará um outro objeto <a href=\"/pt-BR/docs/Web/API/Storage\"><code>Storage</code></a>. Ambos podem ser manipulados da mesma maneira, mas de forma isolada.</p>"}},{"type":"prose","value":{"id":"detectando_a_disponibilidade_do_localstorage","title":"Detectando a disponibilidade do localStorage","isH3":false,"content":"<p>Para poder usarmos o localStorage, devemos antes verificar se ele é compatível e está disponível na sessão atual de navegação.</p>"}},{"type":"prose","value":{"id":"testando_a_disponibilidade","title":"Testando a disponibilidade","isH3":true,"content":"<p>Navegadores compatíveis com localStorage terão uma propriedade no objeto <code>window</code> chamada <code>localStorage</code>. Contudo, por várias razões, apenas verificar se essa propriedade existe pode gerar erros. Se ela existir, ainda não haverá garantias de que o localStorage está de fato disponível para uso, já que vários navegadores fornecem opções que desativam o localStorage. Dessa forma, um navegador pode ser <em>compatível</em> com o localStorage, mas também pode não torná-lo <em>disponível</em> para os scripts usarem. One example of that is Safari, which in Private Browsing mode gives us an empty localStorage object with a quota of zero, effectively making it unusable. However, we might still get a legitimate QuotaExceededError, which only means that we've used up all available storage space, but storage is actually <em>available</em>. Our feature detect should take these scenarios into account.</p>\n<p>Here is a function that detects whether localStorage is both supported and available:</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">function</span> <span class=\"token function\">storageAvailable</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">type</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">var</span> storage <span class=\"token operator\">=</span> window<span class=\"token punctuation\">[</span>type<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n            x <span class=\"token operator\">=</span> <span class=\"token string\">'__storage_test__'</span><span class=\"token punctuation\">;</span>\n        storage<span class=\"token punctuation\">.</span><span class=\"token function\">setItem</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">,</span> x<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        storage<span class=\"token punctuation\">.</span><span class=\"token function\">removeItem</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">return</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">catch</span><span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> e <span class=\"token keyword\">instanceof</span> <span class=\"token class-name\">DOMException</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token punctuation\">(</span>\n            <span class=\"token comment\">// everything except Firefox</span>\n            e<span class=\"token punctuation\">.</span>code <span class=\"token operator\">===</span> <span class=\"token number\">22</span> <span class=\"token operator\">||</span>\n            <span class=\"token comment\">// Firefox</span>\n            e<span class=\"token punctuation\">.</span>code <span class=\"token operator\">===</span> <span class=\"token number\">1014</span> <span class=\"token operator\">||</span>\n            <span class=\"token comment\">// test name field too, because code might not be present</span>\n            <span class=\"token comment\">// everything except Firefox</span>\n            e<span class=\"token punctuation\">.</span>name <span class=\"token operator\">===</span> <span class=\"token string\">'QuotaExceededError'</span> <span class=\"token operator\">||</span>\n            <span class=\"token comment\">// Firefox</span>\n            e<span class=\"token punctuation\">.</span>name <span class=\"token operator\">===</span> <span class=\"token string\">'NS_ERROR_DOM_QUOTA_REACHED'</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&amp;&amp;</span>\n            <span class=\"token comment\">// acknowledge QuotaExceededError only if there's something already stored</span>\n            storage<span class=\"token punctuation\">.</span>length <span class=\"token operator\">!==</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>And here is how you would use it:</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token function\">storageAvailable</span><span class=\"token punctuation\">(</span><span class=\"token string\">'localStorage'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// Yippee! We can use localStorage awesomeness</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// Too bad, no localStorage for us</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>You can test for sessionStorage instead by calling <code>storageAvailable('sessionStorage')</code>.</p>\n<p>See here for a <a href=\"https://gist.github.com/paulirish/5558557\" class=\"external\" rel=\" noopener\">brief history of feature-detecting localStorage</a>.</p>"}},{"type":"prose","value":{"id":"example","title":"Example","isH3":false,"content":"<p>To illustrate some typical web storage usage, we have created a simple example, imaginatively called <strong>Web Storage Demo</strong>. The <a href=\"https://mdn.github.io/dom-examples/web-storage/\" class=\"external\" rel=\" noopener\">landing page</a> provides controls that can be used to customize the color, font, and decorative image:</p>\n<p>\n  <img src=\"https://mdn.mozillademos.org/files/9685/landing.png\" alt=\"\" loading=\"lazy\">When you choose different options, the page is instantly updated; in addition, your choices are stored in <code>localStorage</code>, so that when you leave the page and load it again, later on, your choices are remembered.\n</p>\n<p>We have also provided an <a href=\"https://mdn.github.io/dom-examples/web-storage/event.html\" class=\"external\" rel=\" noopener\">event output page</a> — if you load this page in another tab, then make changes to your choices in the landing page, you'll see the updated storage information outputted as a <a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/StorageEvent\"><code>StorageEvent</code> <small>(en-US)</small></a> is fired.</p>\n<p>\n  <img src=\"https://mdn.mozillademos.org/files/9687/event-output.png\" alt=\"\" loading=\"lazy\">\n</p>\n<blockquote>\n  <p><strong>Nota:</strong> As well as viewing the example pages live using the above links, you can also <a href=\"https://github.com/mdn/dom-examples/tree/master/web-storage\" class=\"external\" rel=\" noopener\">check out the source code</a>.</p>\n</blockquote>"}},{"type":"prose","value":{"id":"testing_whether_your_storage_has_been_populated","title":"Testing whether your storage has been populated","isH3":true,"content":"<p>To start with on <a href=\"https://github.com/mdn/dom-examples/blob/master/web-storage/main.js\" class=\"external\" rel=\" noopener\">main.js</a>, we will test whether the storage object has already been populated (i.e., the page was previously accessed):</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>localStorage<span class=\"token punctuation\">.</span><span class=\"token function\">getItem</span><span class=\"token punctuation\">(</span><span class=\"token string\">'bgcolor'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">populateStorage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">setStyles</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>The <a href=\"/pt-BR/docs/Web/API/Storage/getItem\"><code>Storage.getItem()</code></a> method is used to get a data item from storage; in this case, we are testing to see whether the <code>bgcolor</code> item exists; if not, we run <code>populateStorage()</code> to add the existing customization values to the storage. If there are already values there, we run <code>setStyles()</code> to update the page styling with the stored values.</p>\n<p><strong>Note</strong>: You could also use <a href=\"/pt-BR/docs/Web/API/Storage/length\"><code>Storage.length</code></a> to test whether the storage object is empty or not.</p>"}},{"type":"prose","value":{"id":"getting_values_from_storage","title":"Getting values from storage","isH3":true,"content":"<p>As noted above, values can be retrieved from storage using <a href=\"/pt-BR/docs/Web/API/Storage/getItem\"><code>Storage.getItem()</code></a>. This takes the key of the data item as an argument, and returns the data value. For example:</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">function</span> <span class=\"token function\">setStyles</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">var</span> currentColor <span class=\"token operator\">=</span> localStorage<span class=\"token punctuation\">.</span><span class=\"token function\">getItem</span><span class=\"token punctuation\">(</span><span class=\"token string\">'bgcolor'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">var</span> currentFont <span class=\"token operator\">=</span> localStorage<span class=\"token punctuation\">.</span><span class=\"token function\">getItem</span><span class=\"token punctuation\">(</span><span class=\"token string\">'font'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">var</span> currentImage <span class=\"token operator\">=</span> localStorage<span class=\"token punctuation\">.</span><span class=\"token function\">getItem</span><span class=\"token punctuation\">(</span><span class=\"token string\">'image'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">'bgcolor'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>value <span class=\"token operator\">=</span> currentColor<span class=\"token punctuation\">;</span>\n  document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">'font'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>value <span class=\"token operator\">=</span> currentFont<span class=\"token punctuation\">;</span>\n  document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">'image'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>value <span class=\"token operator\">=</span> currentImage<span class=\"token punctuation\">;</span>\n\n  htmlElem<span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">.</span>backgroundColor <span class=\"token operator\">=</span> <span class=\"token string\">'#'</span> <span class=\"token operator\">+</span> currentColor<span class=\"token punctuation\">;</span>\n  pElem<span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">.</span>fontFamily <span class=\"token operator\">=</span> currentFont<span class=\"token punctuation\">;</span>\n  imgElem<span class=\"token punctuation\">.</span><span class=\"token function\">setAttribute</span><span class=\"token punctuation\">(</span><span class=\"token string\">'src'</span><span class=\"token punctuation\">,</span> currentImage<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>Here, the first three lines grab the values from local storage. Next, we set the values displayed in the form elements to those values, so that they keep in sync when you reload the page. Finally, we update the styles/decorative image on the page, so your customization options come up again on reload.</p>"}},{"type":"prose","value":{"id":"setting_values_in_storage","title":"Setting values in storage","isH3":true,"content":"<p><a href=\"/pt-BR/docs/Web/API/Storage/setItem\"><code>Storage.setItem()</code></a> is used both to create new data items, and (if the data item already exists) update existing values. This takes two arguments — the key of the data item to create/modify, and the value to store in it.</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">function</span> <span class=\"token function\">populateStorage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  localStorage<span class=\"token punctuation\">.</span><span class=\"token function\">setItem</span><span class=\"token punctuation\">(</span><span class=\"token string\">'bgcolor'</span><span class=\"token punctuation\">,</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">'bgcolor'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  localStorage<span class=\"token punctuation\">.</span><span class=\"token function\">setItem</span><span class=\"token punctuation\">(</span><span class=\"token string\">'font'</span><span class=\"token punctuation\">,</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">'font'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  localStorage<span class=\"token punctuation\">.</span><span class=\"token function\">setItem</span><span class=\"token punctuation\">(</span><span class=\"token string\">'image'</span><span class=\"token punctuation\">,</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">'image'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token function\">setStyles</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>The <code>populateStorage()</code> function sets three items in local storage — the background color, font, and image path. It then runs the <code>setStyles()</code> function to update the page styles, etc.</p>\n<p>We've also included an <code>onchange</code> handler on each form element so that the data and styling are updated whenever a form value is changed:</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code>bgcolorForm<span class=\"token punctuation\">.</span>onchange <span class=\"token operator\">=</span> populateStorage<span class=\"token punctuation\">;</span>\nfontForm<span class=\"token punctuation\">.</span>onchange <span class=\"token operator\">=</span> populateStorage<span class=\"token punctuation\">;</span>\nimageForm<span class=\"token punctuation\">.</span>onchange <span class=\"token operator\">=</span> populateStorage<span class=\"token punctuation\">;</span>\n</code></pre></div>"}},{"type":"prose","value":{"id":"responding_to_storage_changes_with_the_storageevent","title":"Responding to storage changes with the StorageEvent","isH3":true,"content":"<p>The <a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/StorageEvent\"><code>StorageEvent</code> <small>(en-US)</small></a> is fired whenever a change is made to the <a href=\"/pt-BR/docs/Web/API/Storage\"><code>Storage</code></a> object (note that this event is not fired for sessionStorage changes). This won't work on the same page that is making the changes — it is really a way for other pages on the domain using the storage to sync any changes that are made. Pages on other domains can't access the same storage objects.</p>\n<p>On the events page (see <a href=\"https://github.com/mdn/dom-examples/blob/master/web-storage/event.js\" class=\"external\" rel=\" noopener\">events.js</a>) the only JavaScript is as follows:</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code>window<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'storage'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">e</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.my-key'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>textContent <span class=\"token operator\">=</span> e<span class=\"token punctuation\">.</span>key<span class=\"token punctuation\">;</span>\n  document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.my-old'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>textContent <span class=\"token operator\">=</span> e<span class=\"token punctuation\">.</span>oldValue<span class=\"token punctuation\">;</span>\n  document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.my-new'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>textContent <span class=\"token operator\">=</span> e<span class=\"token punctuation\">.</span>newValue<span class=\"token punctuation\">;</span>\n  document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.my-url'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>textContent <span class=\"token operator\">=</span> e<span class=\"token punctuation\">.</span>url<span class=\"token punctuation\">;</span>\n  document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.my-storage'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>textContent <span class=\"token operator\">=</span> e<span class=\"token punctuation\">.</span>storageArea<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<p>Here we add an event listener to the <code>window</code> object that fires when the <a href=\"/pt-BR/docs/Web/API/Storage\"><code>Storage</code></a> object associated with the current origin is changed. As you can see above, the event object associated with this event has a number of properties containing useful information — the key of the data that changed, the old value before the change, the new value after that change, the URL of the document that changed the storage, and the storage object itself.</p>"}},{"type":"prose","value":{"id":"deleting_data_records","title":"Deleting data records","isH3":true,"content":"<p>Web Storage also provides a couple of simple methods to remove data. We don't use these in our demo, but they are very simple to add to your project:</p>\n<ul>\n  <li><a href=\"/pt-BR/docs/Web/API/Storage/removeItem\"><code>Storage.removeItem()</code></a> takes a single argument — the key of the data item you want to remove — and removes it from the storage object for that domain.</li>\n  <li><a href=\"/pt-BR/docs/Web/API/Storage/clear\"><code>Storage.clear()</code></a> takes no arguments, and simply empties the entire storage object for that domain.</li>\n</ul>"}},{"type":"prose","value":{"id":"specifications","title":"Specifications","isH3":false,"content":"<table>\n  <thead>\n    <tr>\n      <th>Specification</th>\n      <th>Status</th>\n      <th>Comment</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <td><a href=\"https://html.spec.whatwg.org/multipage/webstorage.html#webstorage\" hreflang=\"en\" lang=\"en\" class=\"external\" title=\"The 'HTML Living Standard' specification\" rel=\" noopener\">HTML Living Standard</a></td>\n      <td><span class=\"spec-living\">Padrão em tempo real</span></td>\n      <td></td>\n    </tr>\n  </tbody>\n</table>"}},{"type":"browser_compatibility","value":{"title":"Compatibilidade com navegadores","id":"compatibilidade_com_navegadores","isH3":false,"data":null,"query":"api.Window.localStorage,api.Window.sessionStorage","browsers":null}},{"type":"prose","value":{"id":"see_also","title":"See also","isH3":false,"content":"<ul>\n  <li><a href=\"/pt-BR/docs/Web/API/Web_Storage_API\">Web Storage API landing page</a></li>\n</ul>"}}],"toc":[{"text":"Conceitos básicos","id":"conceitos_básicos"},{"text":"Detectando a disponibilidade do localStorage","id":"detectando_a_disponibilidade_do_localstorage"},{"text":"Example","id":"example"},{"text":"Specifications","id":"specifications"},{"text":"Compatibilidade com navegadores","id":"compatibilidade_com_navegadores"},{"text":"See also","id":"see_also"}],"summary":"A API Web Storage fornece mecanismos pelos quais os navegadores podem armazenar pares de chaves/valores de uma maneira muito mais segura e intuitiva do que usar cookies. Este artigo fornece um passo a passo sobre como usar essa tecnologia.","popularity":0,"modified":"2022-10-01T03:41:16.000Z","other_translations":[{"title":"Using the Web Storage API","locale":"en-US","native":"English (US)"},{"title":"Usando la API de almacenamiento web","locale":"es","native":"Español"},{"title":"Utiliser l'API Web Storage","locale":"fr","native":"Français"},{"title":"Web Storage API の使用","locale":"ja","native":"日本語"},{"title":"Web Storage API 사용하기","locale":"ko","native":"한국어"},{"title":"Использование Web Storage API","locale":"ru","native":"Русский"},{"title":"使用 Web Storage API","locale":"zh-CN","native":"中文 (简体)"}],"source":{"folder":"pt-br/web/api/web_storage_api/using_the_web_storage_api","github_url":"https://github.com/mdn/translated-content/blob/main/files/pt-br/web/api/web_storage_api/using_the_web_storage_api/index.md","last_commit_url":"https://github.com/mdn/translated-content/commit/921c46a374ab0a9f4cc809af0370f8c412e54701","filename":"index.md"},"parents":[{"uri":"/pt-BR/docs/Web","title":"Tecnologia Web para desenvolvedores"},{"uri":"/pt-BR/docs/Web/API","title":"APIs da Web"},{"uri":"/pt-BR/docs/Web/API/Web_Storage_API","title":"API de Armazenamento na Web"},{"uri":"/pt-BR/docs/Web/API/Web_Storage_API/Using_the_Web_Storage_API","title":"Usando a API Web Storage"}],"pageTitle":"Usando a API Web Storage - APIs da Web | MDN","noIndexing":false}}