{"doc":{"isMarkdown":false,"isTranslated":true,"isActive":true,"flaws":{},"title":"Использование Geolocation API","mdn_url":"/ru/docs/Web/API/Geolocation_API/Using_the_Geolocation_API","locale":"ru","native":"Русский","sidebarHTML":"<ol><li><strong><a href=\"/ru/docs/Web/API/Geolocation_API\">Geolocation API</a></strong></li><li class=\"toggle\"><details open=\"\"><summary>Руководства</summary><ol><li><a href=\"/ru/docs/Web/API/Geolocation_API/Using_the_Geolocation_API\">Using the Geolocation API</a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>Интерфейсы</summary><ol><li><a href=\"/ru/docs/Web/API/Geolocation\"><code>Geolocation</code></a></li><li><a href=\"/ru/docs/Web/API/GeolocationCoordinates\"><code>GeolocationCoordinates</code></a></li><li><a href=\"/ru/docs/Web/API/GeolocationPosition\"><code>GeolocationPosition</code></a></li><li><a href=\"/ru/docs/Web/API/GeolocationPositionError\"><code>GeolocationPositionError</code></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>Свойства</summary><ol><li><a href=\"/ru/docs/Web/API/Navigator/geolocation\"><code>Navigator.geolocation</code></a></li></ol></details></li></ol>","body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<div id=\"sect1\"><div class=\"notecard secure\" id=\"sect2\"><p><strong>Secure context:</strong> This feature is available only in <a href=\"/en-US/docs/Web/Security/Secure_Contexts\" class=\"only-in-en-us\" title=\"Currently only available in English (US)\">secure contexts (en-US)</a> (HTTPS), in some or all <a href=\"#browser_compatibility\">supporting browsers</a>.</p></div></div>\n\n<p>Geolocation API позволяет пользователю предоставлять своё местоположение web-приложению, если пользователь согласится предоставить его. Из соображений конфиденциальности, у пользователя будет запрошено разрешение на предоставление информации о местоположении.</p>"}},{"type":"prose","value":{"id":"объект_геолокации","title":"Объект геолокации","isH3":false,"content":"<p><a href=\"ru/docs/Web/API/Geolocation\">API геолокации</a> доступен через объект <a href=\"/ru/docs/Web/API/Navigator/geolocation\"><code>navigator.geolocation</code></a>.</p>\n\n<p>Если объект существует, функции определения местоположения доступны. Вы можете проверить это следующим образом:</p>\n\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token string\">\"geolocation\"</span> <span class=\"token keyword\">in</span> navigator<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">/* местоположение доступно */</span>\n<span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">/* местоположение НЕ доступно */</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>"}},{"type":"prose","value":{"id":"получение_текущего_местоположения","title":"Получение текущего местоположения","isH3":true,"content":"<p>Чтобы получить текущее местоположение пользователя, вы должны вызвать метод <a href=\"/ru/docs/Web/API/Geolocation/getCurrentPosition\" title=\"getCurrentPosition()\"><code>getCurrentPosition()</code></a>. Это инициирует асинхронный запрос для обнаружения местоположения пользователя, и запрашивает аппаратные средства позиционирования, чтобы получить последнюю актуальную информацию. Когда местоположение определено, выполняется callback. По желанию вы можете указать вторую callback функцию для обработки ошибки, которая запустится в случае ошибки. Третий, опциональный параметр - объект с опциями, где вы можете настроить максимальное значение возвращаемых данных, время ожидания ответа на запрос, и, при желании, точность возвращаемых данных.</p>\n\n<div class=\"note notecard\" id=\"sect3\">\n<p><strong>Note:</strong> По умолчанию <a href=\"/ru/docs/Web/API/Geolocation/getCurrentPosition\" title=\"getCurrentPosition()\"><code>getCurrentPosition()</code></a> пытается вернуть результат так быстро, как это возможно, за счёт чего даёт не очень точный результат. Это может быть полезно, если вам нужно быстро получить ответ, при этом не важна точность. Устройства с GPS, например, могут пытаться скорректировать данные GPS около минуты и даже больше, поэтому в самом начале могут вернуться менее точные данные (местоположение IP или wifi-сети), полученные <a href=\"/ru/docs/Web/API/Geolocation/getCurrentPosition\" title=\"getCurrentPosition()\"><code>getCurrentPosition()</code></a>.</p>\n</div>\n\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code>navigator<span class=\"token punctuation\">.</span>geolocation<span class=\"token punctuation\">.</span><span class=\"token function\">getCurrentPosition</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">position</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">do_something</span><span class=\"token punctuation\">(</span>position<span class=\"token punctuation\">.</span>coords<span class=\"token punctuation\">.</span>latitude<span class=\"token punctuation\">,</span> position<span class=\"token punctuation\">.</span>coords<span class=\"token punctuation\">.</span>longitude<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n\n<p>Функция <code>do_something()</code>, в примере выше, будет вызвана лишь тогда, когда данные о местоположении будут получены.</p>"}},{"type":"prose","value":{"id":"наблюдение_за_текущим_местоположением","title":"Наблюдение за текущим местоположением","isH3":true,"content":"<p>Если данные о местоположении меняются (либо устройство находится в движении, либо пришли более точные данные о геопозиции), вы можете указать callback функцию, которая будет вызывается при любом обновлении данных о местоположении. Это делается с использованием функции <a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/Geolocation/watchPosition\"><code>watchPosition()</code> <small>(en-US)</small></a>, которая имеет несколько входных параметров: <a href=\"/ru/docs/Web/API/Geolocation/getCurrentPosition\" title=\"getCurrentPosition()\"><code>getCurrentPosition()</code></a>. Эта функция вызывается много раз, позволяя браузеру обновлять данные о текущей локации либо во время движения, либо после получения более точной информации о местоположении (после применения более точных приёмов). Функция, которая вызывается при ошибке, для <a href=\"/ru/docs/Web/API/Geolocation/getCurrentPosition\" title=\"getCurrentPosition()\"><code>getCurrentPosition()</code></a>, при желании, может быть вызвана неоднократно.</p>\n\n<div class=\"note notecard\" id=\"sect4\">\n<p><strong>Примечание:</strong> вы можете использовать <a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/Geolocation/watchPosition\"><code>watchPosition()</code> <small>(en-US)</small></a> без вызова <a href=\"/ru/docs/Web/API/Geolocation/getCurrentPosition\" title=\"getCurrentPosition()\"><code>getCurrentPosition()</code></a>.</p>\n</div>\n\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">var</span> watchID <span class=\"token operator\">=</span> navigator<span class=\"token punctuation\">.</span>geolocation<span class=\"token punctuation\">.</span><span class=\"token function\">watchPosition</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">position</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">do_something</span><span class=\"token punctuation\">(</span>position<span class=\"token punctuation\">.</span>coords<span class=\"token punctuation\">.</span>latitude<span class=\"token punctuation\">,</span> position<span class=\"token punctuation\">.</span>coords<span class=\"token punctuation\">.</span>longitude<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n\n<p>Метод <a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/Geolocation/watchPosition\"><code>watchPosition()</code> <small>(en-US)</small></a> возвращает числовой ID, который может быть использован для идентификации наблюдателя за местоположением; используйте его вместе с методом <a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/Geolocation/clearWatch\"><code>clearWatch()</code> <small>(en-US)</small></a>, чтобы перестать получать новые данные о местоположении.</p>\n\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code>navigator<span class=\"token punctuation\">.</span>geolocation<span class=\"token punctuation\">.</span><span class=\"token function\">clearWatch</span><span class=\"token punctuation\">(</span>watchID<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>"}},{"type":"prose","value":{"id":"точная_настройка_отклика","title":"Точная настройка отклика","isH3":true,"content":"<p><a href=\"/ru/docs/Web/API/Geolocation/getCurrentPosition\" title=\"getCurrentPosition()\"><code>getCurrentPosition()</code></a> и <a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/Geolocation/watchPosition\"><code>watchPosition()</code> <small>(en-US)</small></a> принимают колбэк-функцию при успехе, необязательную колбэк-функцию при ошибке и необязательный объект <code><a href=\"/ru/docs/conflicting/Web/API/Geolocation/getCurrentPosition\">PositionOptions</a></code>.</p>\n\n<p>Этот объект позволяет вам включить возможность определения позиции с высокой точностью, указать максимальное время кеширования значения позиции (при повторных запросах, пока время не вышло, вам будет возвращается кешированное значение; после браузер будет запрашивать актуальные данные), а также указать значение, устанавливающее интервал — как часто браузер должен пытаться получить данные о местоположении, прежде чем выйдет время.</p>\n\n<p>Вызов <a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/Geolocation/watchPosition\"><code>watchPosition</code> <small>(en-US)</small></a> может выглядит следующим образом:</p>\n\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">function</span> <span class=\"token function\">geo_success</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">position</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">do_something</span><span class=\"token punctuation\">(</span>position<span class=\"token punctuation\">.</span>coords<span class=\"token punctuation\">.</span>latitude<span class=\"token punctuation\">,</span> position<span class=\"token punctuation\">.</span>coords<span class=\"token punctuation\">.</span>longitude<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">geo_error</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Извините, нет доступной позиции.\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">var</span> geo_options <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">enableHighAccuracy</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">maximumAge</span>        <span class=\"token operator\">:</span> <span class=\"token number\">30000</span><span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">timeout</span>           <span class=\"token operator\">:</span> <span class=\"token number\">27000</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">var</span> wpid <span class=\"token operator\">=</span> navigator<span class=\"token punctuation\">.</span>geolocation<span class=\"token punctuation\">.</span><span class=\"token function\">watchPosition</span><span class=\"token punctuation\">(</span>geo_success<span class=\"token punctuation\">,</span> geo_error<span class=\"token punctuation\">,</span> geo_options<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>"}},{"type":"prose","value":{"id":"описание_позиции","title":"Описание позиции","isH3":false,"content":"<p>Местоположение пользователя содержится в экземпляре объекта <a href=\"/ru/docs/Web/API/GeolocationPosition\"><code>GeolocationPosition</code></a>, содержащего внутри экземпляр другого объекта — <a href=\"/ru/docs/Web/API/GeolocationCoordinates\"><code>GeolocationCoordinates</code></a>.</p>\n\n<p>Экземпляр <code>GeolocationPosition</code> содержит только две вещи, свойство <code>coords</code>, внутри которого <code>GeolocationCoordinates</code> и свойство timestamp, внутри которого экземпляр <a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/DOMTimeStamp\"><code>DOMTimeStamp</code> <small>(en-US)</small></a>, предоставляющее метку времени, созданную при получении данные.</p>\n\n<p>Экземпляр <code>GeolocationCoordinates</code> содержит некоторое количество свойств, двое из которых вы будете чаще всего использовать: <code>latitude</code> и <code>longitude</code>, которые помогут вам отобразить полученную позицию на карте. Поэтому многие колбэк-функции с успешным получением позиции выглядят очень просто:</p>\n\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">function</span> <span class=\"token function\">success</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">position</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> latitude  <span class=\"token operator\">=</span> position<span class=\"token punctuation\">.</span>coords<span class=\"token punctuation\">.</span>latitude<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> longitude <span class=\"token operator\">=</span> position<span class=\"token punctuation\">.</span>coords<span class=\"token punctuation\">.</span>longitude<span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// Дальше код, который что-то делает с широтой(latitude) и долготой(longitude)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n\n<p>Однако, вы также можете получить и другую информацию из объекта <code>GeolocationCoordinates</code>, такую как высота над уровнем моря, скорость, направление устройства и точные данные о высоте, долготе и широте.</p>"}},{"type":"prose","value":{"id":"обработка_ошибок","title":"Обработка ошибок","isH3":false,"content":"<p>Callback-функция для ошибок, если она была передана в <code>getCurrentPosition()</code> или <code>watchPosition()</code>, ожидает экземпляр объекта <code><a href=\"/en-US/docs/Web/API/GeolocationPositionError\">GeolocationPositionError</a></code> в качестве первого аргумента. Он будет содержать два свойства, <code>code</code>, который укажет на то, какая именно ошибка произошла и понятное для человека <code>message</code>, описывающее значение поля code.</p>\n\n<p>Функция может выглядеть примерно так:</p>\n\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">function</span> <span class=\"token function\">errorCallback</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">error</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span><span class=\"token string\">'ERROR('</span> <span class=\"token operator\">+</span> error<span class=\"token punctuation\">.</span>code <span class=\"token operator\">+</span> <span class=\"token string\">'): '</span> <span class=\"token operator\">+</span> error<span class=\"token punctuation\">.</span>message<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n</code></pre></div>"}},{"type":"prose","value":{"id":"примеры","title":"Примеры","isH3":false,"content":"<p>Следующий пример использует Geolocation API для того, чтобы получить широту и долготу пользователя. При успешном выполнении, ссылка будет вести на <code>openstreetmap.org</code>, который отобразит пользовательскую позицию на карте.</p>"}},{"type":"prose","value":{"id":"html","title":"HTML","isH3":true,"content":"<div class=\"code-example\"><pre class=\"brush: html; notranslate\"><code><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">id</span> <span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span> <span class=\"token punctuation\">\"</span>find-me<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>Show my location<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>br</span><span class=\"token punctuation\">/&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span> <span class=\"token attr-name\">id</span> <span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span> <span class=\"token punctuation\">\"</span>status<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token attr-name\">id</span> <span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span> <span class=\"token punctuation\">\"</span>map-link<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">target</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>_blank<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">&gt;</span></span>\n</code></pre></div>"}},{"type":"prose","value":{"id":"javascript","title":"JavaScript","isH3":true,"content":"<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">function</span> <span class=\"token function\">geoFindMe</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\n  <span class=\"token keyword\">const</span> status <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">'#status'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> mapLink <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">'#map-link'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  mapLink<span class=\"token punctuation\">.</span>href <span class=\"token operator\">=</span> <span class=\"token string\">''</span><span class=\"token punctuation\">;</span>\n  mapLink<span class=\"token punctuation\">.</span>textContent <span class=\"token operator\">=</span> <span class=\"token string\">''</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">function</span> <span class=\"token function\">success</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">position</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> latitude  <span class=\"token operator\">=</span> position<span class=\"token punctuation\">.</span>coords<span class=\"token punctuation\">.</span>latitude<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">const</span> longitude <span class=\"token operator\">=</span> position<span class=\"token punctuation\">.</span>coords<span class=\"token punctuation\">.</span>longitude<span class=\"token punctuation\">;</span>\n\n    status<span class=\"token punctuation\">.</span>textContent <span class=\"token operator\">=</span> <span class=\"token string\">''</span><span class=\"token punctuation\">;</span>\n    mapLink<span class=\"token punctuation\">.</span>href <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">https://www.openstreetmap.org/#map=18/</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>latitude<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">/</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>longitude<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span>\n    mapLink<span class=\"token punctuation\">.</span>textContent <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">Широта: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>latitude<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> °, Долгота: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>longitude<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> °</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">function</span> <span class=\"token function\">error</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    status<span class=\"token punctuation\">.</span>textContent <span class=\"token operator\">=</span> <span class=\"token string\">'Невозможно получить ваше местоположение'</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>navigator<span class=\"token punctuation\">.</span>geolocation<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    status<span class=\"token punctuation\">.</span>textContent <span class=\"token operator\">=</span> <span class=\"token string\">'Geolocation не поддерживается вашим браузером'</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n    status<span class=\"token punctuation\">.</span>textContent <span class=\"token operator\">=</span> <span class=\"token string\">'Определение местоположения…'</span><span class=\"token punctuation\">;</span>\n    navigator<span class=\"token punctuation\">.</span>geolocation<span class=\"token punctuation\">.</span><span class=\"token function\">getCurrentPosition</span><span class=\"token punctuation\">(</span>success<span class=\"token punctuation\">,</span> error<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n<span class=\"token punctuation\">}</span>\n\ndocument<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">'#find-me'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'click'</span><span class=\"token punctuation\">,</span> geoFindMe<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>"}},{"type":"prose","value":{"id":"демо","title":"Демо","isH3":true,"content":"<p><iframe class=\"sample-code-frame\" title=\"Примеры sample\" id=\"frame_примеры\" width=\"350\" height=\"150\" src=\"https://yari-demos.prod.mdn.mozit.cloud/ru/docs/Web/API/Geolocation_API/Using_the_Geolocation_API/_sample_.%D0%BF%D1%80%D0%B8%D0%BC%D0%B5%D1%80%D1%8B.html\" allow=\"geolocation\" loading=\"lazy\"></iframe></p>"}}],"toc":[{"text":"Объект геолокации","id":"объект_геолокации"},{"text":"Описание позиции","id":"описание_позиции"},{"text":"Обработка ошибок","id":"обработка_ошибок"},{"text":"Примеры","id":"примеры"}],"summary":"Geolocation API позволяет пользователю предоставлять своё местоположение web-приложению, если пользователь согласится предоставить его. Из соображений конфиденциальности, у пользователя будет запрошено разрешение на предоставление информации о местоположении.","popularity":0.0005,"modified":"2022-10-01T03:41:16.000Z","other_translations":[{"title":"Using the Geolocation API","locale":"en-US","native":"English (US)"},{"title":"位置情報 API の使用","locale":"ja","native":"日本語"},{"title":"Geolocation API 사용하기","locale":"ko","native":"한국어"},{"title":"使用地理位置 API","locale":"zh-CN","native":"中文 (简体)"}],"source":{"folder":"ru/web/api/geolocation_api/using_the_geolocation_api","github_url":"https://github.com/mdn/translated-content/blob/main/files/ru/web/api/geolocation_api/using_the_geolocation_api/index.html","last_commit_url":"https://github.com/mdn/translated-content/commit/921c46a374ab0a9f4cc809af0370f8c412e54701","filename":"index.html"},"parents":[{"uri":"/ru/docs/Web","title":"Веб-технологии для разработчиков"},{"uri":"/ru/docs/Web/API","title":"Интерфейсы веб API"},{"uri":"/ru/docs/Web/API/Geolocation_API","title":"Использование геолокации"},{"uri":"/ru/docs/Web/API/Geolocation_API/Using_the_Geolocation_API","title":"Использование Geolocation API"}],"pageTitle":"Использование Geolocation API - Интерфейсы веб API | MDN","noIndexing":false}}