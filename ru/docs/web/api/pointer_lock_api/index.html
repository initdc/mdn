<!DOCTYPE html><html lang="en-US" prefix="og: https://ogp.me/ns#"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="icon" href="/favicon-48x48.97046865.png"><link rel="apple-touch-icon" href="/apple-touch-icon.0ea0fa02.png"><meta name="theme-color" content="#ffffff"><link rel="manifest" href="/manifest.56b1cedc.json"><link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" title="MDN Web Docs"><script>Array.prototype.flat&&Array.prototype.includes||document.write('<script src="https://polyfill.io/v3/polyfill.min.js?features=Array.prototype.flat%2Ces6"><\/script>')</script><title>Pointer Lock API - –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –≤–µ–± API | MDN</title><link rel="preload" as="font" type="font/woff2" crossorigin="" href="/static/media/ZillaSlab-Bold.subset.0beac26b.woff2"><link rel="alternate" title="Pointer Lock API" href="https://developer.mozilla.org/ru/docs/Web/API/Pointer_Lock_API" hreflang="ru"><link rel="alternate" title="Pointer Lock API" href="https://developer.mozilla.org/zh-TW/docs/Web/API/Pointer_Lock_API" hreflang="zh-TW"><link rel="alternate" title="Pointer Lock API" href="https://developer.mozilla.org/zh-CN/docs/Web/API/Pointer_Lock_API" hreflang="zh"><link rel="alternate" title="Pointer Lock API" href="https://developer.mozilla.org/ja/docs/Web/API/Pointer_Lock_API" hreflang="ja"><link rel="alternate" title="Pointer Lock API" href="https://developer.mozilla.org/fr/docs/Web/API/Pointer_Lock_API" hreflang="fr"><link rel="alternate" title="API Pointer Lock" href="https://developer.mozilla.org/es/docs/Web/API/Pointer_Lock_API" hreflang="es"><link rel="alternate" title="Pointer Lock API" href="https://developer.mozilla.org/en-US/docs/Web/API/Pointer_Lock_API" hreflang="en"><meta name="description" content="Pointer lock API(–ø—Ä–µ–∂–Ω–µ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ Mouse Lock API) –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –º–µ—Ç–æ–¥—ã –≤–≤–æ–¥–∞, –æ—Å–Ω–æ–≤–∞–Ω–Ω—ã–µ –Ω–∞ –¥–≤–∏–∂–µ–Ω–∏–∏ –º—ã—à–∏ , –∞ –Ω–µ —Ç–æ–ª—å–∫–æ –∞–±—Å–æ–ª—é—Ç–Ω–æ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω—ã—Ö –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞—Ö –∫—É—Ä—Å–æ—Ä–∞ –≤ –æ–∫–Ω–µ. –≠—Ç–æ –¥–∞—ë—Ç –≤–∞–º –¥–æ—Å—Ç—É–ø –∫ –Ω–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–º –¥–≤–∏–∂–µ–Ω–∏—è–º –º—ã—à–∏, –ø—Ä–∏–∫—Ä–µ–ø–ª—è–µ—Ç –∫—É—Ä—Å–æ—Ä –º—ã—à–∏ –∫ –ª—é–±–æ–º—É —ç–ª–µ–º–µ–Ω—Ç—É –≤ –æ–∫–Ω–µ –±—Ä–∞—É–∑–µ—Ä–∞, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤—ã—á–∏—Å–ª—è—Ç—å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –º—ã—à–∏ –Ω–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–π –æ–±–ª–∞—Å—Ç—å—é –æ–∫–Ω–∞ –ø—Ä–æ–µ–∫—Ü–∏–∏, –∏ —Å–∫—Ä—ã–≤–∞–µ—Ç –∫—É—Ä—Å–æ—Ä –∏–∑ –ø–æ–ª—è –∑—Ä–µ–Ω–∏—è. –≠—Ç–æ –∏–¥–µ–∞–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è 3D –∏–≥—Ä, –Ω–∞–ø—Ä–∏–º–µ—Ä."><meta property="og:url" content="https://developer.mozilla.org/ru/docs/Web/API/Pointer_Lock_API"><meta property="og:title" content="Pointer Lock API - –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –≤–µ–± API | MDN"><meta property="og:description" content="Pointer lock API(–ø—Ä–µ–∂–Ω–µ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ Mouse Lock API) –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –º–µ—Ç–æ–¥—ã –≤–≤–æ–¥–∞, –æ—Å–Ω–æ–≤–∞–Ω–Ω—ã–µ –Ω–∞ –¥–≤–∏–∂–µ–Ω–∏–∏ –º—ã—à–∏ , –∞ –Ω–µ —Ç–æ–ª—å–∫–æ –∞–±—Å–æ–ª—é—Ç–Ω–æ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω—ã—Ö –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞—Ö –∫—É—Ä—Å–æ—Ä–∞ –≤ –æ–∫–Ω–µ. –≠—Ç–æ –¥–∞—ë—Ç –≤–∞–º –¥–æ—Å—Ç—É–ø –∫ –Ω–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–º –¥–≤–∏–∂–µ–Ω–∏—è–º –º—ã—à–∏, –ø—Ä–∏–∫—Ä–µ–ø–ª—è–µ—Ç –∫—É—Ä—Å–æ—Ä –º—ã—à–∏ –∫ –ª—é–±–æ–º—É —ç–ª–µ–º–µ–Ω—Ç—É –≤ –æ–∫–Ω–µ –±—Ä–∞—É–∑–µ—Ä–∞, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤—ã—á–∏—Å–ª—è—Ç—å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –º—ã—à–∏ –Ω–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–π –æ–±–ª–∞—Å—Ç—å—é –æ–∫–Ω–∞ –ø—Ä–æ–µ–∫—Ü–∏–∏, –∏ —Å–∫—Ä—ã–≤–∞–µ—Ç –∫—É—Ä—Å–æ—Ä –∏–∑ –ø–æ–ª—è –∑—Ä–µ–Ω–∏—è. –≠—Ç–æ –∏–¥–µ–∞–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è 3D –∏–≥—Ä, –Ω–∞–ø—Ä–∏–º–µ—Ä."><meta property="og:locale" content="ru"><meta property="og:image" content="https://developer.mozilla.org/mdn-social-share.0ca9dbda.png"><meta property="twitter:card" content="summary_large_image"><meta name="robots" content="index, follow"><link rel="canonical" href="https://developer.mozilla.org/ru/docs/Web/API/Pointer_Lock_API"><style media="print">.breadcrumbs-container,.document-toc-container,.language-menu,.language-toggle,.on-github,.page-footer,.page-header-main,nav.sidebar,ul.prev-next{display:none!important}.main-page-content,.main-page-content pre{padding:2px}.main-page-content pre{border-left-width:2px}</style><link href="/static/css/main.55b68e13.chunk.css" rel="stylesheet"><script src="/static/js/runtime-main.4bb4c356.js" defer=""></script><script src="/static/js/4.a756dea3.chunk.js" defer=""></script><script src="/static/js/main.d4d565e0.chunk.js" defer=""></script></head><body><div id="root"><ul id="nav-access" class="a11y-nav"><li><a id="skip-main" href="#content">Skip to main content</a></li><li><a id="skip-search" href="#main-q">Skip to search</a></li><li><a id="skip-select-language" href="#select-language">Skip to select language</a></li></ul><div class="page-wrapper document-page"><header class="page-header"><a href="/ru/" class="logo" aria-label="MDN Web Docs"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 451.74 135"><path d="M7.14 8.35v111.06h111.05V8.35zm103.71 56c-.48.92-1 1.79-1.46 2.71a3.44 3.44 0 01-3.54 2 2.4 2.4 0 00-1.55.5c-1.37.9-2.76 1.79-4.18 2.63a7.33 7.33 0 01-6.35.34 29.71 29.71 0 00-10.63-2 11.7 11.7 0 00-9.46 4.31 14.84 14.84 0 00-2.13 4.29c-1.24 3.07-2.3 21.38-2.3 26.05 0 0-17.62-3.42-34.15-20.34l4.31-11.32h-13.5l9.76-10.35h-16.8l9.77-10.34H12.69L30.45 34a40.9 40.9 0 0119.77-10.83c7.1-1.22 8.93-.53 13.31.77l2.43.73.85.25 3.1.95a12.56 12.56 0 006.21.09 11.37 11.37 0 018.25 1 8.24 8.24 0 014.1 6.22 7.29 7.29 0 003.61 5.49 59.45 59.45 0 009.32 4.11c2.27.86 4.54 1.84 6.79 2.72a6.81 6.81 0 012.86 2.06 4.81 4.81 0 011.1 2.73c.14 2 .37 4 .47 6a15.24 15.24 0 01-1.77 8.03zM320.12 39.62a5.42 5.42 0 00-4.53 2.13 7.36 7.36 0 00-1.7 4.43v2.36a6.28 6.28 0 001.7 4.46 5.63 5.63 0 004.3 1.82 5.12 5.12 0 004.57-2.27A9.7 9.7 0 00326 47a8.11 8.11 0 00-1.67-5.52 5.36 5.36 0 00-4.21-1.86zM387.38 39.53a5.52 5.52 0 00-4.7 2.15 8.8 8.8 0 00-1.63 5.49 9.23 9.23 0 001.58 5.45 5.38 5.38 0 004.7 2.25 5.61 5.61 0 004.74-2.2 8.91 8.91 0 001.68-5.59 8.24 8.24 0 00-1.75-5.52 5.76 5.76 0 00-4.62-2.03zM299.47 41.35a4.34 4.34 0 00-4-1.92 4.55 4.55 0 00-3.89 1.73 8.37 8.37 0 00-1.58 4.17h10.48a6.3 6.3 0 00-1.01-3.98zM357.74 30.75H352v23.31h5.72q5.47 0 8.35-3t2.93-8.65q0-5.43-2.88-8.55t-8.38-3.11z"></path><path d="M121.55 8.35v70.8h323V8.35zm42.21 22.45h-4V54h3.68v3.73h-11.25V54h3.31V36.79h-.19l-9.63 19.12h-2.12l-10-19.4h-.19V54h3.45v3.73h-11.15V54h3.68V30.8h-4v-3.73H133l11.66 22.56h.19l11.18-22.56h7.7zm29.12 22.67q-4.11 4.28-11.38 4.28h-14.06v-3.69h3.73V30.75h-3.73v-3.68h13.83q7.59 0 11.66 4.29a15.4 15.4 0 014 11 15.33 15.33 0 01-4.05 11.11zm38.89-22.67h-3.68v27h-2.6L208.08 35h-.19v19h4.67v3.73h-12.22V54h3.49V30.8h-4v-3.73h7.08l16.9 22.09h.19V30.8h-4.58v-3.73h12.32zm43.8 27h-3.31l-7.83-23.18h-.19l-7.55 23.18h-3.35l-8.78-27h-2.65v-3.73H253v3.73h-3.87L255 50.71h.23l6.61-19.91H259v-3.73h11v3.73h-2.78l6.61 20.1h.23l5.43-20.1h-4.15v-3.73h11v3.73h-2.54zm26.71-1.51a9.66 9.66 0 01-6.42 2 10.2 10.2 0 01-7.41-2.74c-1.89-1.82-2.83-4.47-2.83-7.93a12.37 12.37 0 012.64-8.12 9 9 0 017.32-3.21 8.62 8.62 0 016.75 2.69 9.65 9.65 0 012.45 6.52 13.67 13.67 0 01-.28 2.69H290q.29 6.71 6.18 6.7a5.2 5.2 0 003.71-1.18 5.82 5.82 0 001.67-2.83l3.45.71a7.21 7.21 0 01-2.73 4.65zm25.77-1.63c-1.51 2.4-3.92 3.61-7.22 3.61s-5.84-1.29-7.22-3.87c0 .25-.1.82-.21 1.7s-.19 1.44-.22 1.7H309c.16-1 .31-2 .47-3.07a21.42 21.42 0 00.24-3.16v-23h-3.4v-3.3h7.55V40.9a9.76 9.76 0 012.67-3.28 7.33 7.33 0 014.74-1.4 8.48 8.48 0 016.5 2.78q2.55 2.74 2.55 7.74a14.6 14.6 0 01-2.27 7.87zm41.39-1.14q-4.11 4.28-11.37 4.28H344v-3.74h3.73V30.75H344v-3.68h13.83q7.59 0 11.66 4.29a15.41 15.41 0 014.06 11 15.34 15.34 0 01-4.11 11.11zm25.65 1.68a10.53 10.53 0 01-7.9 3.07 10 10 0 01-7.63-3 10.93 10.93 0 01-2.8-7.83 12.13 12.13 0 012.69-7.93q2.69-3.3 8-3.3t8 3.28a12 12 0 012.64 7.76 10.86 10.86 0 01-3 7.9zm22.61.57c-1.4 1.66-3.63 2.5-6.68 2.5a9.58 9.58 0 01-7.15-2.76q-2.72-2.76-2.71-7.91a12.25 12.25 0 012.69-8 9.17 9.17 0 017.5-3.28 15 15 0 013.82.48 10.37 10.37 0 013.5 1.65l.85 5.47-3.35.38-.76-3.54a8.07 8.07 0 00-4.11-1 4.9 4.9 0 00-4.39 2.15 9.93 9.93 0 00-1.41 5.55 8.9 8.9 0 001.5 5.38 5.23 5.23 0 004.44 2c2.92 0 4.67-1.7 5.23-5.1l3.5.71a10.34 10.34 0 01-2.47 5.27zm20.48.75a11.68 11.68 0 01-6.63 1.75 15.52 15.52 0 01-8.26-2.08L424 51l3.26.33-.1 2.74a7 7 0 002.06.66 12.63 12.63 0 002.19.19 8.68 8.68 0 003.66-.75 2.5 2.5 0 001.63-2.36 2.25 2.25 0 00-1.32-2.2 12.65 12.65 0 00-3.28-1 47.39 47.39 0 01-3.9-.82 7.5 7.5 0 01-3.25-1.7 4.67 4.67 0 01-1.33-3.66c0-2.36.88-4 2.62-4.91a12 12 0 015.6-1.37 15 15 0 014.08.55 16.65 16.65 0 013.47 1.39l.47 5.1-3.3.37-.48-3.3a9.5 9.5 0 00-4.06-.9 5.62 5.62 0 00-2.87.66 2.33 2.33 0 00-1.15 2.25 2.13 2.13 0 001.3 2.07 11.91 11.91 0 003.21.92 36.69 36.69 0 013.82.83 7.46 7.46 0 013.21 1.74 4.9 4.9 0 011.3 3.73 5.56 5.56 0 01-2.66 4.91z"></path><path d="M181.17 30.75h-5.71v23.31h5.71q5.47 0 8.36-3t2.88-8.61q0-5.43-2.88-8.55t-8.36-3.15zM121.63 119.32V81.74h114.91v37.58zM153.22 109h-2v-6.85a4.8 4.8 0 00-1.58-4 5.57 5.57 0 00-3.55-1.26 5 5 0 00-4.92 3.26 4.19 4.19 0 00-1.88-2.46 5.82 5.82 0 00-3-.8 4.89 4.89 0 00-4.56 2.56v-2.21h-6.28v3.26h2v8.5h-2v3.23h9.11V109h-2.86v-5.25a4.4 4.4 0 01.69-2.56 2.47 2.47 0 012.21-1q2.57 0 2.56 3.63v8.41h6.29V109h-2v-5.25a4.47 4.47 0 01.67-2.56 2.42 2.42 0 012.19-1q2.63 0 2.63 3.63v8.41h6.28zm9.88-12.07q-4 0-6 2.36a8.41 8.41 0 00-2 5.66 7.25 7.25 0 002.17 5.62 8 8 0 005.65 2 8.54 8.54 0 005.94-2.11 7.27 7.27 0 002.34-5.67 8.21 8.21 0 00-2-5.51q-2.07-2.34-6.1-2.34zm-.1 12.35a3 3 0 01-2.63-1.33 5.68 5.68 0 01-.9-3.26 5 5 0 011-3.28 3.23 3.23 0 012.61-1.18 3.5 3.5 0 012.59 1.08 4.56 4.56 0 011.07 3.31 5.21 5.21 0 01-1 3.41 3.33 3.33 0 01-2.74 1.25zm25-2.3l-3.39-.29-.7 2.32H179l8.32-9.54-.32-2.23h-13.19l-.53 5.25 3.16.34.67-2.36h4.65l-8.25 9.53.44 2.26h13.13zm7.62-9.74h-4.46v5.39h4.46zm0 9.61h-4.46v5.39h4.46zm13.54-17.49h-4.23l-6.48 22.88h4.22zm8.68 0h-4.23l-6.45 22.88h4.19zm15 22.51l-.07-2.26a1.22 1.22 0 01-.56.1c-.69 0-1-.39-1-1.16v-6.49a4.39 4.39 0 00-1.8-3.84 7 7 0 00-4.16-1.28 14.55 14.55 0 00-3.16.3 24.14 24.14 0 00-3.29 1.06l-.56 3.46 3.39.4.5-1.69a2.78 2.78 0 011.08-.37 11.3 11.3 0 011.25-.07c1.19 0 1.89.37 2.09 1.1a8.55 8.55 0 01.3 2.26v.5a8.91 8.91 0 00-1.18-.11h-1.21a12.64 12.64 0 00-4.81.88 3.53 3.53 0 00-2.18 3.64 3.66 3.66 0 001.48 3.33 5.63 5.63 0 003.11 1 4.67 4.67 0 003-.91 6.78 6.78 0 001.8-2 3 3 0 003.33 3 5.54 5.54 0 002.66-.85zm-9.25-2.32a1.69 1.69 0 01-1.36-.52 1.81 1.81 0 01-.43-1.21 1.67 1.67 0 01.86-1.68 4.63 4.63 0 012-.42 7.69 7.69 0 011.07.07l1.06.13a3.58 3.58 0 01-1.08 2.74 3.24 3.24 0 01-2.11.89z"></path></svg></a><button type="button" class="ghost main-menu-toggle" aria-haspopup="true" aria-label="Show Menu"></button><div class="page-header-main "><nav class="main-nav" aria-label="Main menu"><ul class="main-menu nojs"><li class="top-level-entry-container"><button id="technologies-button" type="button" class="top-level-entry" aria-haspopup="menu" aria-expanded="false">Technologies</button><ul class="technologies " role="menu" aria-labelledby="technologies-button"><li role="none"><a tabindex="-1" href="/ru/docs/Web" role="menuitem">Technologies Overview</a></li><li role="none"><a tabindex="-1" href="/ru/docs/Web/HTML" role="menuitem">HTML</a></li><li role="none"><a tabindex="-1" href="/ru/docs/Web/CSS" role="menuitem">CSS</a></li><li role="none"><a tabindex="-1" href="/ru/docs/Web/JavaScript" role="menuitem">JavaScript</a></li><li role="none"><a tabindex="-1" href="/ru/docs/Web/Guide/Graphics" role="menuitem">Graphics</a></li><li role="none"><a tabindex="-1" href="/ru/docs/Web/HTTP" role="menuitem">HTTP</a></li><li role="none"><a tabindex="-1" href="/ru/docs/Web/API" role="menuitem">APIs</a></li><li role="none"><a tabindex="-1" href="/ru/docs/Mozilla/Add-ons/WebExtensions" role="menuitem">Browser Extensions</a></li><li role="none"><a tabindex="-1" href="/ru/docs/Web/MathML" role="menuitem">MathML</a></li></ul></li><li class="top-level-entry-container"><button id="references-guides-button" type="button" class="top-level-entry" aria-haspopup="menu" aria-expanded="false">References &amp; Guides</button><ul class="references-guides " role="menu" aria-labelledby="references-guides-button"><li role="none"><a tabindex="-1" href="/ru/docs/Learn" role="menuitem">Learn web development</a></li><li role="none"><a tabindex="-1" href="/ru/docs/Web/Tutorials" role="menuitem">Tutorials</a></li><li role="none"><a tabindex="-1" href="/ru/docs/Web/Reference" role="menuitem">References</a></li><li role="none"><a tabindex="-1" href="/ru/docs/Web/Guide" role="menuitem">Developer Guides</a></li><li role="none"><a tabindex="-1" href="/ru/docs/Web/Accessibility" role="menuitem">Accessibility</a></li><li role="none"><a tabindex="-1" href="/ru/docs/Games" role="menuitem">Game development</a></li><li role="none"><a tabindex="-1" href="/ru/docs/Web" role="menuitem">...more docs</a></li></ul></li><li class="top-level-entry-container"><button id="feedback-button" type="button" class="top-level-entry" aria-haspopup="menu" aria-expanded="false">Feedback</button><ul class="feedback " role="menu" aria-labelledby="feedback-button"><li role="none"><a tabindex="-1" href="/ru/docs/MDN/Contribute/Feedback" role="menuitem">Send Feedback</a></li><li role="none"><a tabindex="-1" href="/ru/docs/MDN/Contribute" role="menuitem">Contribute to MDN</a></li><li role="none"><a tabindex="-1" target="_blank" rel="noopener noreferrer" href="https://github.com/mdn/content/issues/new" role="menuitem">Report a content issue<!-- --> üåê</a></li><li role="none"><a tabindex="-1" target="_blank" rel="noopener noreferrer" href="https://github.com/mdn/yari/issues/new" role="menuitem">Report a platform issue<!-- --> üåê</a></li></ul></li></ul></nav><div class="header-search"><form action="/ru/search" class="search-form search-widget" role="search"><label for="main-q" class="visually-hidden">Search MDN</label><input type="search" name="q" id="main-q" class="search-input-field" placeholder="Site search... (Press &quot;/&quot; to focus)" pattern="(.|\s)*\S(.|\s)*" required="" value=""><input type="submit" class="ghost search-button" value="" aria-label="Search"></form></div><div class="auth-container"></div></div></header><div class="breadcrumb-locale-container"><nav class="breadcrumbs-container" aria-label="Breadcrumb navigation"><ol typeof="BreadcrumbList" vocab="https://schema.org/" aria-label="breadcrumbs"><li property="itemListElement" typeof="ListItem"><a class="breadcrumb" property="item" typeof="WebPage" href="/ru/docs/Web"><span property="name">–í–µ–±-—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤</span></a><meta property="position" content="1"></li><li property="itemListElement" typeof="ListItem"><a class="breadcrumb-penultimate" property="item" typeof="WebPage" href="/ru/docs/Web/API"><span property="name">–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –≤–µ–± API</span></a><meta property="position" content="2"></li><li property="itemListElement" typeof="ListItem"><a class="breadcrumb-current-page" property="item" typeof="WebPage" href="/ru/docs/Web/API/Pointer_Lock_API"><span property="name">Pointer Lock API</span></a><meta property="position" content="3"></li></ol></nav><ul class="language-toggle"><li><a href="#select-language" class="language-icon"><span class="show-desktop">Change language</span></a></li><li><a class="view-in-english" href="/en-US/docs/Web/API/Pointer_Lock_API"><span class="show-desktop">View in</span> English</a></li></ul></div><div class="localized-content-note notecard inline neutral"><a href="/en-US/docs/MDN/Contribute/Localize#active_locales">–≠—Ç–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –±—ã–ª–∞ –ø–µ—Ä–µ–≤–µ–¥–µ–Ω–∞ —Å –∞–Ω–≥–ª–∏–π—Å–∫–æ–≥–æ —è–∑—ã–∫–∞ —Å–∏–ª–∞–º–∏ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞. –í—ã —Ç–æ–∂–µ –º–æ–∂–µ—Ç–µ –≤–Ω–µ—Å—Ç–∏ —Å–≤–æ–π –≤–∫–ª–∞–¥, –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–∏–≤—à–∏—Å—å –∫ —Ä—É—Å—Å–∫–æ—è–∑—ã—á–Ω–æ–º—É —Å–æ–æ–±—â–µ—Å—Ç–≤—É MDN Web Docs.</a></div><aside class="document-toc-container"><section class="document-toc"><header><h2>Table of contents</h2><button type="button" class="ghost toc-trigger-mobile" aria-controls="toc-entries" aria-expanded="false">Table of contents</button></header><ul id="toc-entries"><li><a href="#basics">–û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏</a></li><li><a href="#method_overview">–û–±–∑–æ—Ä –º–µ—Ç–æ–¥–æ–≤/—Å–≤–æ–π—Å—Ç–≤</a></li><li><a href="#mouselocklostevent">pointerlockchange event</a></li><li><a href="#mouselocklostevent_2">pointerlockerror event</a></li><li><a href="#extensions">Extensions to mouse events</a></li><li><a href="#example">Simple example walkthrough</a></li><li><a href="#iframe_limitations">iframe limitations</a></li><li><a href="#specifications">Specifications</a></li><li><a href="#browser_compatibility">Browser compatibility</a></li><li><a href="#see_also">See also</a></li></ul></section></aside><main id="content" class="main-content" role="main"><article class="main-page-content" lang="ru"><h1>Pointer Lock API</h1><div><p><strong>Pointer lock</strong> <strong>API</strong>(–ø—Ä–µ–∂–Ω–µ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ Mouse Lock API) –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –º–µ—Ç–æ–¥—ã –≤–≤–æ–¥–∞, –æ—Å–Ω–æ–≤–∞–Ω–Ω—ã–µ –Ω–∞ –¥–≤–∏–∂–µ–Ω–∏–∏ –º—ã—à–∏ , –∞ –Ω–µ —Ç–æ–ª—å–∫–æ –∞–±—Å–æ–ª—é—Ç–Ω–æ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω—ã—Ö –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞—Ö –∫—É—Ä—Å–æ—Ä–∞ –≤ –æ–∫–Ω–µ. –≠—Ç–æ –¥–∞—ë—Ç –≤–∞–º –¥–æ—Å—Ç—É–ø –∫ –Ω–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–º –¥–≤–∏–∂–µ–Ω–∏—è–º –º—ã—à–∏, –ø—Ä–∏–∫—Ä–µ–ø–ª—è–µ—Ç –∫—É—Ä—Å–æ—Ä –º—ã—à–∏ –∫ –ª—é–±–æ–º—É —ç–ª–µ–º–µ–Ω—Ç—É –≤ –æ–∫–Ω–µ –±—Ä–∞—É–∑–µ—Ä–∞, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤—ã—á–∏—Å–ª—è—Ç—å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –º—ã—à–∏ –Ω–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–π –æ–±–ª–∞—Å—Ç—å—é –æ–∫–Ω–∞ –ø—Ä–æ–µ–∫—Ü–∏–∏, –∏ —Å–∫—Ä—ã–≤–∞–µ—Ç –∫—É—Ä—Å–æ—Ä –∏–∑ –ø–æ–ª—è –∑—Ä–µ–Ω–∏—è. –≠—Ç–æ –∏–¥–µ–∞–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è 3D –∏–≥—Ä, –Ω–∞–ø—Ä–∏–º–µ—Ä.</p>

<p>–ë–æ–ª–µ–µ —Ç–æ–≥–æ, API –ø–æ–ª–µ–∑–Ω–æ –¥–ª—è –ª—é–±—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –¥–∞–Ω–Ω—ã–µ –º—ã—à–∏ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–≤–∏–∂–µ–Ω–∏—è–º–∏, –≤—Ä–∞—â–µ–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤ –∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∑–∞–ø–∏—Å–µ–π. –ù–∞–ø—Ä–∏–º–µ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å –Ω–∞–∫–ª–æ–Ω–æ–º –ø—Ä–æ—Å—Ç–æ –¥–≤–∏–≥–∞—è –º—ã—à—å, –Ω–µ –Ω–∞–∂–∏–º–∞—è –Ω–∏ –Ω–∞ –∫–∞–∫–∏–µ –∫–Ω–æ–ø–∫–∏. –°–∞–º–∏ –∫–Ω–æ–ø–∫–∏ –æ—Å–≤–æ–±–æ–∂–¥–∞—é—Ç—Å—è –ø–æ–¥ –¥—Ä—É–≥–∏–µ –∑–∞–¥–∞—á–∏. –ü—Ä–∏–º–µ—Ä–∞–º–∏ –º–æ–≥—É—Ç –ø–æ—Å–ª—É–∂–∏—Ç—å  –ø—Ä–æ–≥—Ä–∞–º–º—ã –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∫–∞—Ä—Ç –∏–ª–∏ —Å–ø—É—Ç–Ω–∏–∫–æ–≤–æ–π —Å—ä—ë–º–∫–∏.</p>

<p>–ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —É–∫–∞–∑–∞—Ç–µ–ª—è –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤–∞–º –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ –¥–∞–Ω–Ω—ã–º –º—ã—à–∏, –¥–∞–∂–µ –µ—Å–ª–∏ –∫—É—Ä—Å–æ—Ä —É—à—ë–ª –∑–∞ –≥—Ä–∞–Ω–∏—Ü—ã —ç–∫—Ä–∞–Ω–∞ –∏–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞. –ù–∞–ø—Ä–∏–º–µ—Ä, –≤–∞—à–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å –≤—Ä–∞—â–∞—Ç—å –∏–ª–∏ —É–ø—Ä–∞–≤–ª—è—Ç—å 3D –º–æ–¥–µ–ª—å—é –¥–≤–∏–∂–µ–Ω–∏–µ–º –º—ã—à–∏ –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ. –ë–µ–∑ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –≤—Ä–∞—â–µ–Ω–∏–µ –∏–ª–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è, –∫–∞–∫ —Ç–æ–ª—å–∫–æ –∫—É—Ä—Å–æ—Ä –¥–æ—Å—Ç–∏–≥–∞–µ—Ç –∫—Ä–∞—è –±—Ä–∞—É–∑–µ—Ä–∞ –∏–ª–∏ —ç–∫—Ä–∞–Ω–∞. –ì–µ–π–º–µ—Ä—ã —Ç–µ–ø–µ—Ä—å –º–æ–≥—É—Ç –Ω–∞–∂–∏–º–∞—Ç—å –∫–Ω–æ–ø–∫–∏ –∏ –≤–æ–¥–∏—Ç—å –∫—É—Ä—Å–æ—Ä–æ–º –≤–∑–∞–¥ –∏ –≤–ø–µ—Ä—ë–¥, –Ω–µ –±–æ—è—Å—å –ø–æ–∫–∏–Ω—É—Ç—å –∏–≥—Ä–æ–≤–æ–µ –ø–æ–ª–µ –∏ —Å–ª—É—á–∞–π–Ω–æ –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—Å—è –Ω–∞ –¥—Ä—É–≥–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ.</p></div><h2 id="basics"><a href="#basics" title="Permalink to –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏">–û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏</a></h2><div><p>Pointer lock is related to <a href="/en-US/DOM/element.setCapture" title="element.setCapture">mouse capture</a>. Mouse capture provides continued delivery of events to a target element while a mouse is being dragged, but it stops when the mouse button is released. Pointer lock is different from mouse capture in the following ways:</p>

<ul>
 <li>It is persistent: Pointer lock does not release the mouse until an explicit API call is made or the user uses a specific release gesture.</li>
 <li>It is not limited by browser or screen boundaries.</li>
 <li>It continues to send events regardless of mouse button state.</li>
 <li>It hides the cursor.</li>
</ul></div><h2 id="method_overview"><a href="#method_overview" title="Permalink to –û–±–∑–æ—Ä –º–µ—Ç–æ–¥–æ–≤/—Å–≤–æ–π—Å—Ç–≤">–û–±–∑–æ—Ä –º–µ—Ç–æ–¥–æ–≤/—Å–≤–æ–π—Å—Ç–≤</a></h2><div><p>–≠—Ç–æ—Ç —Ä–∞–∑–¥–µ–ª —Å–æ–¥–µ—Ä–∂–∏—Ç –∫—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∫–∞–∂–¥–æ–≥–æ —Å–≤–æ–π—Å—Ç–≤–∞ –∏ –º–µ—Ç–æ–¥–∞, —Å–≤—è–∑–∞–Ω–Ω–æ–≥–æ —Å–æ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–µ–π –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ —É–∫–∞–∑–∞—Ç–µ–ª—è.</p></div><h3 id="requestpointerlock()"><a href="#requestpointerlock()" title="Permalink to requestPointerLock()">requestPointerLock()</a></h3><div><p>The Pointer lock API, similar to the <a href="/en-US/docs/Web/API/Fullscreen_API">Fullscreen API</a>, extends DOM elements by adding a new method, <a href="/ru/docs/Web/API/Element/requestPointerLock" title="requestPointerLock"><code>requestPointerLock</code></a>, which is vendor-prefixed for now. You would currently declare it something like this, for example if you wanted to request pointer lock on a <code>canvas</code> element.:</p>

<div class="code-example"><pre class="brush: js notranslate"><code>canvas<span class="token punctuation">.</span>requestPointerLock <span class="token operator">=</span> canvas<span class="token punctuation">.</span>requestPointerLock <span class="token operator">||</span>
                            canvas<span class="token punctuation">.</span>mozRequestPointerLock <span class="token operator">||</span>
                            canvas<span class="token punctuation">.</span>webkitRequestPointerLock<span class="token punctuation">;</span>

canvas<span class="token punctuation">.</span><span class="token function">requestPointerLock</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div></div><h3 id="pointerlockelement_and_exitpointerlock()"><a href="#pointerlockelement_and_exitpointerlock()" title="Permalink to pointerLockElement and exitPointerLock()">pointerLockElement and exitPointerLock()</a></h3><div><p>The Pointer lock API also extends the <a href="/ru/docs/Web/API/Document"><code>Document</code></a> interface, adding both a new property and a new method. The new property is used for accessing the currently locked element (if any), and is named <a class="only-in-en-us" title="Currently only available in English (US)" href="/en-US/docs/Web/API/Document/pointerLockElement"><code>pointerLockElement</code> <small>(en-US)</small></a>, which is vendor-prefixed for now. The new method on <a href="/ru/docs/Web/API/Document"><code>Document</code></a> is <a class="only-in-en-us" title="Currently only available in English (US)" href="/en-US/docs/Web/API/Document/exitPointerLock"><code>exitPointerLock</code> <small>(en-US)</small></a> and, as the name implies, it is used to exit Pointer lock.</p>

<p>The <a class="only-in-en-us" title="Currently only available in English (US)" href="/en-US/docs/Web/API/Document/pointerLockElement"><code>pointerLockElement</code> <small>(en-US)</small></a> property is useful for determining if any element is currently pointer locked (e.g., for doing a boolean check) and also for obtaining a reference to the locked element, if any.</p>

<p>Here is an example of using <code>pointerLockElement</code>:</p>

<div class="code-example"><pre class="brush: js notranslate"><code><span class="token keyword">if</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>pointerLockElement <span class="token operator">===</span> canvas <span class="token operator">||</span>
  document<span class="token punctuation">.</span>mozPointerLockElement <span class="token operator">===</span> canvas <span class="token operator">||</span>
  document<span class="token punctuation">.</span>webkitPointerLockElement <span class="token operator">===</span> canvas<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'The pointer lock status is now locked'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'The pointer lock status is now unlocked'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>

<p>The <a class="only-in-en-us" title="Currently only available in English (US)" href="/en-US/docs/Web/API/Document/exitPointerLock"><code>Document.exitPointerLock</code> <small>(en-US)</small></a> method is used to exit pointer lock, and like <a href="/ru/docs/Web/API/Element/requestPointerLock" title="requestPointerLock"><code>requestPointerLock</code></a>, works asynchronously using the <code><a href="/en-US/docs/Web/API/Document/pointerlockchange_event" title="Currently only available in English (US)" class="only-in-en-us">pointerlockchange (en-US)</a></code> and <code><a href="/en-US/docs/Web/API/Document/pointerlockerror_event" title="Currently only available in English (US)" class="only-in-en-us">pointerlockerror (en-US)</a></code> events, which you'll see more about below.</p>

<div class="code-example"><pre class="brush: js notranslate"><code>document<span class="token punctuation">.</span>exitPointerLock <span class="token operator">=</span> document<span class="token punctuation">.</span>exitPointerLock    <span class="token operator">||</span>
                           document<span class="token punctuation">.</span>mozExitPointerLock <span class="token operator">||</span>
                           document<span class="token punctuation">.</span>webkitExitPointerLock<span class="token punctuation">;</span>

<span class="token comment">// Attempt to unlock</span>
document<span class="token punctuation">.</span><span class="token function">exitPointerLock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></div><h2 id="mouselocklostevent"><a href="#mouselocklostevent" title="Permalink to pointerlockchange event">pointerlockchange event</a></h2><div><p>When the Pointer lock state changes‚Äîfor example, when calling <a href="/ru/docs/Web/API/Element/requestPointerLock" title="requestPointerLock"><code>requestPointerLock</code></a>, <a class="only-in-en-us" title="Currently only available in English (US)" href="/en-US/docs/Web/API/Document/exitPointerLock"><code>exitPointerLock</code> <small>(en-US)</small></a>, the user pressing the ESC key, etc.‚Äîthe <code><a href="/en-US/docs/Web/API/Document/pointerlockchange_event" title="Currently only available in English (US)" class="only-in-en-us">pointerlockchange (en-US)</a></code> event is dispatched to the <code>document</code>. This is a simple event and contains no extra data.</p>

<div class="code-example"><pre class="brush: js notranslate"><code><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">"onpointerlockchange"</span> <span class="token keyword">in</span> document<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'pointerlockchange'</span><span class="token punctuation">,</span> lockChangeAlert<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">"onmozpointerlockchange"</span> <span class="token keyword">in</span> document<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'mozpointerlockchange'</span><span class="token punctuation">,</span> lockChangeAlert<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">"onwebkitpointerlockchange"</span> <span class="token keyword">in</span> document<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'webkitpointerlockchange'</span><span class="token punctuation">,</span> lockChangeAlert<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">lockChangeAlert</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>pointerLockElement <span class="token operator">===</span> canvas <span class="token operator">||</span>
  document<span class="token punctuation">.</span>mozPointerLockElement <span class="token operator">===</span> canvas <span class="token operator">||</span>
  document<span class="token punctuation">.</span>webkitPointerLockElement <span class="token operator">===</span> canvas<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'The pointer lock status is now locked'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Do something useful in response</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'The pointer lock status is now unlocked'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Do something useful in response</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div></div><h2 id="mouselocklostevent_2"><a href="#mouselocklostevent_2" title="Permalink to pointerlockerror event">pointerlockerror event</a></h2><div><p>When there is an error caused by calling <a href="/ru/docs/Web/API/Element/requestPointerLock" title="requestPointerLock"><code>requestPointerLock</code></a> or <a class="only-in-en-us" title="Currently only available in English (US)" href="/en-US/docs/Web/API/Document/exitPointerLock"><code>exitPointerLock</code> <small>(en-US)</small></a>, the <code><a href="/en-US/docs/Web/API/Document/pointerlockerror_event" title="Currently only available in English (US)" class="only-in-en-us">pointerlockerror (en-US)</a></code> event is dispatched to the <code>document</code>. This is a simple event and contains no extra data.</p>

<div class="code-example"><pre class="brush: js notranslate"><code>document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'pointerlockerror'</span><span class="token punctuation">,</span> lockError<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'mozpointerlockerror'</span><span class="token punctuation">,</span> lockError<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'webkitpointerlockerror'</span><span class="token punctuation">,</span> lockError<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">lockError</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"Pointer lock failed"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>

<div class="note notecard" id="sect1"><strong>Note</strong>: The above events are currently prefixed with <code>moz</code> in Firefox and <code>webkit</code> in Chrome. </div></div><h2 id="extensions"><a href="#extensions" title="Permalink to Extensions to mouse events">Extensions to mouse events</a></h2><div><p>The Pointer lock API extends the normal <a href="/ru/docs/Web/API/MouseEvent"><code>MouseEvent</code></a> interface with movement attributes.</p>

<pre class="idl notranslate">partial interface MouseEvent {
    readonly attribute <a>long</a> <a href="https://dvcs.w3.org/hg/webevents/raw-file/default/mouse-lock.html#widl-MouseEvent-movementX" class="external" rel=" noopener">movementX</a>;
    readonly attribute <a>long</a> <a href="https://dvcs.w3.org/hg/webevents/raw-file/default/mouse-lock.html#widl-MouseEvent-movementY" class="external" rel=" noopener">movementY</a>;
};</pre>

<div class="note notecard" id="sect2">The movement attributes are currently prefixed as <code>.mozMovementX</code> and <code>.mozMovementY</code> in Firefox, and<code>.webkitMovementX</code> and <code>.webkitMovementY</code> in Chrome.</div>

<p>Two new parameters to mouse events‚Äî<a class="only-in-en-us" title="Currently only available in English (US)" href="/en-US/docs/Web/API/MouseEvent/movementX"><code>movementX</code> <small>(en-US)</small></a> and <a class="only-in-en-us" title="Currently only available in English (US)" href="/en-US/docs/Web/API/MouseEvent/movementY"><code>movementY</code> <small>(en-US)</small></a>‚Äîprovide the change in mouse positions. The values of the parameters are the same as the difference between the values of <a href="/ru/docs/Web/API/MouseEvent"><code>MouseEvent</code></a> properties, <a href="/ru/docs/Web/API/MouseEvent/screenX" title="screenX"><code>screenX</code></a> and <a class="only-in-en-us" title="Currently only available in English (US)" href="/en-US/docs/Web/API/MouseEvent/screenY"><code>screenY</code> <small>(en-US)</small></a>, which are stored in two subsequent <code><a href="/en-US/docs/Web/API/Element/mousemove_event" title="Currently only available in English (US)" class="only-in-en-us">mousemove (en-US)</a></code> events, <code>eNow</code> and <code>ePrevious</code>. In other words, the Pointer lock parameter <code>movementX = eNow.screenX - ePrevious.screenX</code>.</p></div><h3 id="locked_state"><a href="#locked_state" title="Permalink to Locked state">Locked state</a></h3><div><p>When Pointer lock is enabled, the standard <a href="/ru/docs/Web/API/MouseEvent"><code>MouseEvent</code></a> properties <a href="/ru/docs/Web/API/MouseEvent/clientX" title="clientX"><code>clientX</code></a>, <a href="/ru/docs/Web/API/MouseEvent/clientY" title="clientY"><code>clientY</code></a>, <a href="/ru/docs/Web/API/MouseEvent/screenX" title="screenX"><code>screenX</code></a>, and <a class="only-in-en-us" title="Currently only available in English (US)" href="/en-US/docs/Web/API/MouseEvent/screenY"><code>screenY</code> <small>(en-US)</small></a> are held constant, as if the mouse is not moving. The <a class="only-in-en-us" title="Currently only available in English (US)" href="/en-US/docs/Web/API/MouseEvent/movementX"><code>movementX</code> <small>(en-US)</small></a> and <a class="only-in-en-us" title="Currently only available in English (US)" href="/en-US/docs/Web/API/MouseEvent/movementY"><code>movementY</code> <small>(en-US)</small></a> properties continue to provide the mouse's change in position. There is no limit to <a class="only-in-en-us" title="Currently only available in English (US)" href="/en-US/docs/Web/API/MouseEvent/movementX"><code>movementX</code> <small>(en-US)</small></a> and <a class="only-in-en-us" title="Currently only available in English (US)" href="/en-US/docs/Web/API/MouseEvent/movementY"><code>movementY</code> <small>(en-US)</small></a> values if the mouse is continuously moving in a single direction. The concept of the mouse cursor does not exist and the cursor cannot move off the window or be clamped by a screen edge.</p></div><h3 id="unlocked_state"><a href="#unlocked_state" title="Permalink to Unlocked state">Unlocked state</a></h3><div><p>The parameters <a class="only-in-en-us" title="Currently only available in English (US)" href="/en-US/docs/Web/API/MouseEvent/movementX"><code>movementX</code> <small>(en-US)</small></a> and <a class="only-in-en-us" title="Currently only available in English (US)" href="/en-US/docs/Web/API/MouseEvent/movementY"><code>movementY</code> <small>(en-US)</small></a> are valid regardless of the mouse lock state, and are available even when unlocked for convenience.</p>

<p>When the mouse is unlocked, the system cursor can exit and re-enter the browser window. If that happens, <a class="only-in-en-us" title="Currently only available in English (US)" href="/en-US/docs/Web/API/MouseEvent/movementX"><code>movementX</code> <small>(en-US)</small></a> and <a class="only-in-en-us" title="Currently only available in English (US)" href="/en-US/docs/Web/API/MouseEvent/movementY"><code>movementY</code> <small>(en-US)</small></a> could be set to zero.</p></div><h2 id="example"><a href="#example" title="Permalink to Simple example walkthrough">Simple example walkthrough</a></h2><div><p>We've written a <a href="https://mdn.github.io/dom-examples/pointer-lock/" class="external" rel=" noopener">simple pointer lock demo</a> to show you how to use it to set up a simple control system (<a href="https://github.com/mdn/dom-examples/tree/master/pointer-lock" class="external" rel=" noopener">see source code</a>). The demo looks like this:</p>

<p><img alt="A red circle on top of a black background." src="https://mdn.mozillademos.org/files/7953/pointer-lock.png" style="display: block; margin: 0px auto;" loading="lazy"></p>

<p>This demo uses JavaScript to draw a ball on top of an <a href="/ru/docs/Web/HTML/Element/canvas"><code>&lt;canvas&gt;</code></a> element. When you click the canvas, pointer lock is then used to remove the mouse pointer and allow you to move the ball directly using the mouse. Let's see how this works.</p>

<p>Set initial x and y positions on the canvas:</p>

<div class="code-example"><pre class="brush: js notranslate"><code><span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token number">50</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> y <span class="token operator">=</span> <span class="token number">50</span><span class="token punctuation">;</span></code></pre></div>

<p>The <code>canvasDraw()</code> function draws the ball in the current x and y positions, but it also includes <code>if()</code> statements to check whether the ball has gone off the edges of the canvas. If so, it makes the ball wrap around to the opposite edge.</p>

<div class="code-example"><pre class="brush: js notranslate"><code><span class="token keyword">function</span> <span class="token function">canvasDraw</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>x <span class="token operator">&gt;</span> canvas<span class="token punctuation">.</span>clientWidth<span class="token operator">+</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">if</span><span class="token punctuation">(</span>y <span class="token operator">&gt;</span> canvas<span class="token punctuation">.</span>clientHeight<span class="token operator">+</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    y <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">if</span><span class="token punctuation">(</span>x <span class="token operator">&lt;</span> <span class="token operator">-</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    x <span class="token operator">=</span> canvas<span class="token punctuation">.</span>clientWidth<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">if</span><span class="token punctuation">(</span>y <span class="token operator">&lt;</span> <span class="token operator">-</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    y <span class="token operator">=</span> canvas<span class="token punctuation">.</span>clientHeight<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  ctx<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> <span class="token string">"black"</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span>canvas<span class="token punctuation">.</span>clientWidth<span class="token punctuation">,</span>canvas<span class="token punctuation">.</span>clientHeight<span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> <span class="token string">"#f00"</span><span class="token punctuation">;</span>

  ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">arc</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token function">degToRad</span><span class="token punctuation">(</span><span class="token number">360</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>

<p>The pointer lock methods are currently prefixed, so next we'll fork them for the different browser implementations.</p>

<div class="code-example"><pre class="brush: js notranslate"><code>canvas<span class="token punctuation">.</span>requestPointerLock <span class="token operator">=</span> canvas<span class="token punctuation">.</span>requestPointerLock <span class="token operator">||</span>
           canvas<span class="token punctuation">.</span>mozRequestPointerLock <span class="token operator">||</span>
           canvas<span class="token punctuation">.</span>webkitRequestPointerLock<span class="token punctuation">;</span>
<span class="token comment">// pointer lock object forking for cross browser</span>

document<span class="token punctuation">.</span>exitPointerLock <span class="token operator">=</span> document<span class="token punctuation">.</span>exitPointerLock <span class="token operator">||</span>
         document<span class="token punctuation">.</span>mozExitPointerLock <span class="token operator">||</span>
         document<span class="token punctuation">.</span>webkitExitPointerLock<span class="token punctuation">;</span>
<span class="token comment">//document.exitPointerLock();</span></code></pre></div>

<p>Now we set up an event listener to run the requestPointerLock() method on the canvas when it is clicked, which initiates pointer lock.</p>

<div class="code-example"><pre class="brush: js notranslate"><code>canvas<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  canvas<span class="token punctuation">.</span><span class="token function">requestPointerLock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>

<p>Now for the dedicated pointer lock event listener: <code>pointerlockchange</code>. When this occurs, we run a function called <code>lockChangeAlert()</code> to handle the change.</p>

<div class="code-example"><pre class="brush: js notranslate"><code><span class="token comment">// pointer lock event listener</span>

<span class="token comment">// Hook pointer lock state change events for different browsers</span>
document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'pointerlockchange'</span><span class="token punctuation">,</span> lockChangeAlert<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'mozpointerlockchange'</span><span class="token punctuation">,</span> lockChangeAlert<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'webkitpointerlockchange'</span><span class="token punctuation">,</span> lockChangeAlert<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>

<p>This function checks the pointLockElement property to see if it is our canvas. If so, it attached an event listener to handle the mouse movements with the <code>canvasLoop()</code> function. If not, it removes the event listener again.</p>

<div class="code-example"><pre class="brush: js notranslate"><code><span class="token keyword">function</span> <span class="token function">lockChangeAlert</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>pointerLockElement <span class="token operator">===</span> canvas <span class="token operator">||</span>
  document<span class="token punctuation">.</span>mozPointerLockElement <span class="token operator">===</span> canvas <span class="token operator">||</span>
  document<span class="token punctuation">.</span>webkitPointerLockElement <span class="token operator">===</span> canvas<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'The pointer lock status is now locked'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"mousemove"</span><span class="token punctuation">,</span> canvasLoop<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'The pointer lock status is now unlocked'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    document<span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span><span class="token string">"mousemove"</span><span class="token punctuation">,</span> canvasLoop<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>

<p>A tracker is set up to write out the X and Y values to the screen, for reference.</p>

<div class="code-example"><pre class="brush: js notranslate"><code>  <span class="token keyword">var</span> tracker <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'p'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> body <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'body'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>tracker<span class="token punctuation">)</span><span class="token punctuation">;</span>
  tracker<span class="token punctuation">.</span>style<span class="token punctuation">.</span>position <span class="token operator">=</span> <span class="token string">'absolute'</span><span class="token punctuation">;</span>
  tracker<span class="token punctuation">.</span>style<span class="token punctuation">.</span>top <span class="token operator">=</span> <span class="token string">'0'</span><span class="token punctuation">;</span>
  tracker<span class="token punctuation">.</span>style<span class="token punctuation">.</span>right <span class="token operator">=</span> <span class="token string">'10px'</span><span class="token punctuation">;</span>
  tracker<span class="token punctuation">.</span>style<span class="token punctuation">.</span>backgroundColor <span class="token operator">=</span> <span class="token string">'white'</span><span class="token punctuation">;</span></code></pre></div>

<p>The <code>canvasLoop()</code> function first forks the <code>movementX</code> and <code>movementY</code> properties, as they are also prefixed currently in some browsers. It then adds those property's values to x and y, and reruns <code>canvasDraw()</code> with those new values so the ball position is updated. Finally, we use <code>requestAnimationFrame()</code> to run the loop again and again.</p>

<pre class="notranslate">function canvasLoop(e) {
  var movementX = e.movementX ||
      e.mozMovementX          ||
      e.webkitMovementX       ||
      0;

  var movementY = e.movementY ||
      e.mozMovementY      ||
      e.webkitMovementY   ||
      0;

  x += movementX;
  y += movementY;

  canvasDraw();

  var animation = requestAnimationFrame(canvasLoop);

  tracker.innerHTML = "X position: " + x + ', Y position: ' + y;
}</pre></div><h2 id="iframe_limitations"><a href="#iframe_limitations" title="Permalink to iframe limitations">iframe limitations</a></h2><div><p>Pointer lock can only lock one iframe at a time. If you lock one iframe, you cannot try to lock another iframe and transfer the target to it; Pointer lock will error out. To avoid this limitation, first unlock the locked iframe, and then lock the other.</p>

<p>While iframes work by default, "sandboxed" iframes block Pointer lock. The ability to avoid this limitation, in the form of the attribute/value combination <code>&lt;iframe sandbox="allow-pointer-lock"&gt;</code>, is expected to appear in Chrome soon.</p></div><h2 id="specifications"><a href="#specifications" title="Permalink to Specifications">Specifications</a></h2><div><table class="standard-table">
 <thead>
  <tr>
   <th scope="col">Specification</th>
   <th scope="col">Status</th>
   <th scope="col">Comment</th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td><a href="https://w3c.github.io/pointerlock/" hreflang="en" lang="en" class="external" title="–°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è 'Pointer Lock'" rel=" noopener">Pointer Lock</a></td>
   <td><span class="spec-cr">–ö–∞–Ω–¥–∏–¥–∞—Ç –≤ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏</span></td>
   <td>Initial specification.</td>
  </tr>
 </tbody>
</table></div><h2 id="browser_compatibility"><a href="#browser_compatibility" title="Permalink to Browser compatibility">Browser compatibility</a></h2><p>BCD tables only load in the browser</p><div><p></p><p></p></div><h2 id="see_also"><a href="#see_also" title="Permalink to See also">See also</a></h2><div><ul>
 <li><a href="/ru/docs/Web/API/MouseEvent"><code>MouseEvent</code></a></li>
</ul></div></article><aside class="metadata"><div class="metadata-content-container"><div id="on-github" class="on-github"><h3>Found a problem with this page?</h3><ul><li><a href="https://github.com/mdn/translated-content/edit/main/files/ru/web/api/pointer_lock_api/index.html" title="You're going to need to sign in to GitHub first (Opens in a new tab)" target="_blank" rel="noopener noreferrer">Edit on <b>GitHub</b></a></li><li><a href="https://github.com/mdn/translated-content/blob/main/files/ru/web/api/pointer_lock_api/index.html" title="Folder: ru/web/api/pointer_lock_api (Opens in a new tab)" target="_blank" rel="noopener noreferrer">Source on <b>GitHub</b></a></li><li><a href="https://github.com/mdn/translated-content/issues/new?body=MDN+URL%3A+https%3A%2F%2Fdeveloper.mozilla.org%2Fru%2Fdocs%2FWeb%2FAPI%2FPointer_Lock_API%0A%0A%23%23%23%23+What+information+was+incorrect%2C+unhelpful%2C+or+incomplete%3F%0A%0A%0A%23%23%23%23+Specific+section+or+headline%3F%0A%0A%0A%23%23%23%23+What+did+you+expect+to+see%3F%0A%0A%0A%23%23%23%23+Did+you+test+this%3F+If+so%2C+how%3F%0A%0A%0A%3C%21--+Do+not+make+changes+below+this+line+--%3E%0A%3Cdetails%3E%0A%3Csummary%3EMDN+Content+page+report+details%3C%2Fsummary%3E%0A%0A*+Folder%3A+%60ru%2Fweb%2Fapi%2Fpointer_lock_api%60%0A*+MDN+URL%3A+https%3A%2F%2Fdeveloper.mozilla.org%2Fru%2Fdocs%2FWeb%2FAPI%2FPointer_Lock_API%0A*+GitHub+URL%3A+https%3A%2F%2Fgithub.com%2Fmdn%2Ftranslated-content%2Fblob%2Fmain%2Ffiles%2Fru%2Fweb%2Fapi%2Fpointer_lock_api%2Findex.html%0A*+Last+commit%3A+https%3A%2F%2Fgithub.com%2Fmdn%2Ftranslated-content%2Fcommit%2F921c46a374ab0a9f4cc809af0370f8c412e54701%0A*+Document+last+modified%3A+2022-10-01T03%3A41%3A16.000Z%0A%0A%3C%2Fdetails%3E&amp;title=Issue+with+%22Pointer+Lock+API%22%3A+%28short+summary+here+please%29&amp;labels=needs-triage%2Cl10n-ru" title="This will take you to https://github.com/mdn/content to file a new issue" target="_blank" rel="noopener noreferrer">Report a problem with this content on <b>GitHub</b></a></li><li>Want to fix the problem yourself? See<!-- --> <a href="https://github.com/mdn/content/blob/main/README.md" target="_blank" rel="noopener noreferrer">our Contribution guide</a>.</li></ul></div><p class="last-modified-date"><b>Last modified:</b> <time datetime="2022-10-01T03:41:16.000Z">Oct 1, 2022</time>,<!-- --> <a href="/ru/docs/Web/API/Pointer_Lock_API/contributors.txt">by MDN contributors</a></p><form class="language-menu"><fieldset id="select-language"><legend>Change your language</legend><label for="language-selector" class="visually-hidden">Select your preferred language</label> <select id="language-selector" name="language"><option selected="" value="ru">–†—É—Å—Å–∫–∏–π</option><option value="en-US">English (US)</option><option value="es">Espa√±ol</option><option value="fr">Fran√ßais</option><option value="ja">Êó•Êú¨Ë™û</option><option value="zh-CN">‰∏≠Êñá (ÁÆÄ‰Ωì)</option><option value="zh-TW">Ê≠£È´î‰∏≠Êñá (ÁπÅÈ´î)</option></select> <button type="submit" class="button minimal">Change language</button></fieldset></form></div></aside></main></div><footer id="nav-footer" class="page-footer"><div class="content-container"><div class="page-footer-logo"><a href="/ru/" class="logo" aria-label="MDN Web Docs"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 451.74 135" fill="#fff"><path d="M7.14 8.35v111.06h111.05V8.35zm103.71 56c-.48.92-1 1.79-1.46 2.71a3.44 3.44 0 01-3.54 2 2.4 2.4 0 00-1.55.5c-1.37.9-2.76 1.79-4.18 2.63a7.33 7.33 0 01-6.35.34 29.71 29.71 0 00-10.63-2 11.7 11.7 0 00-9.46 4.31 14.84 14.84 0 00-2.13 4.29c-1.24 3.07-2.3 21.38-2.3 26.05 0 0-17.62-3.42-34.15-20.34l4.31-11.32h-13.5l9.76-10.35h-16.8l9.77-10.34H12.69L30.45 34a40.9 40.9 0 0119.77-10.83c7.1-1.22 8.93-.53 13.31.77l2.43.73.85.25 3.1.95a12.56 12.56 0 006.21.09 11.37 11.37 0 018.25 1 8.24 8.24 0 014.1 6.22 7.29 7.29 0 003.61 5.49 59.45 59.45 0 009.32 4.11c2.27.86 4.54 1.84 6.79 2.72a6.81 6.81 0 012.86 2.06 4.81 4.81 0 011.1 2.73c.14 2 .37 4 .47 6a15.24 15.24 0 01-1.77 8.03zM320.12 39.62a5.42 5.42 0 00-4.53 2.13 7.36 7.36 0 00-1.7 4.43v2.36a6.28 6.28 0 001.7 4.46 5.63 5.63 0 004.3 1.82 5.12 5.12 0 004.57-2.27A9.7 9.7 0 00326 47a8.11 8.11 0 00-1.67-5.52 5.36 5.36 0 00-4.21-1.86zM387.38 39.53a5.52 5.52 0 00-4.7 2.15 8.8 8.8 0 00-1.63 5.49 9.23 9.23 0 001.58 5.45 5.38 5.38 0 004.7 2.25 5.61 5.61 0 004.74-2.2 8.91 8.91 0 001.68-5.59 8.24 8.24 0 00-1.75-5.52 5.76 5.76 0 00-4.62-2.03zM299.47 41.35a4.34 4.34 0 00-4-1.92 4.55 4.55 0 00-3.89 1.73 8.37 8.37 0 00-1.58 4.17h10.48a6.3 6.3 0 00-1.01-3.98zM357.74 30.75H352v23.31h5.72q5.47 0 8.35-3t2.93-8.65q0-5.43-2.88-8.55t-8.38-3.11z"></path><path d="M121.55 8.35v70.8h323V8.35zm42.21 22.45h-4V54h3.68v3.73h-11.25V54h3.31V36.79h-.19l-9.63 19.12h-2.12l-10-19.4h-.19V54h3.45v3.73h-11.15V54h3.68V30.8h-4v-3.73H133l11.66 22.56h.19l11.18-22.56h7.7zm29.12 22.67q-4.11 4.28-11.38 4.28h-14.06v-3.69h3.73V30.75h-3.73v-3.68h13.83q7.59 0 11.66 4.29a15.4 15.4 0 014 11 15.33 15.33 0 01-4.05 11.11zm38.89-22.67h-3.68v27h-2.6L208.08 35h-.19v19h4.67v3.73h-12.22V54h3.49V30.8h-4v-3.73h7.08l16.9 22.09h.19V30.8h-4.58v-3.73h12.32zm43.8 27h-3.31l-7.83-23.18h-.19l-7.55 23.18h-3.35l-8.78-27h-2.65v-3.73H253v3.73h-3.87L255 50.71h.23l6.61-19.91H259v-3.73h11v3.73h-2.78l6.61 20.1h.23l5.43-20.1h-4.15v-3.73h11v3.73h-2.54zm26.71-1.51a9.66 9.66 0 01-6.42 2 10.2 10.2 0 01-7.41-2.74c-1.89-1.82-2.83-4.47-2.83-7.93a12.37 12.37 0 012.64-8.12 9 9 0 017.32-3.21 8.62 8.62 0 016.75 2.69 9.65 9.65 0 012.45 6.52 13.67 13.67 0 01-.28 2.69H290q.29 6.71 6.18 6.7a5.2 5.2 0 003.71-1.18 5.82 5.82 0 001.67-2.83l3.45.71a7.21 7.21 0 01-2.73 4.65zm25.77-1.63c-1.51 2.4-3.92 3.61-7.22 3.61s-5.84-1.29-7.22-3.87c0 .25-.1.82-.21 1.7s-.19 1.44-.22 1.7H309c.16-1 .31-2 .47-3.07a21.42 21.42 0 00.24-3.16v-23h-3.4v-3.3h7.55V40.9a9.76 9.76 0 012.67-3.28 7.33 7.33 0 014.74-1.4 8.48 8.48 0 016.5 2.78q2.55 2.74 2.55 7.74a14.6 14.6 0 01-2.27 7.87zm41.39-1.14q-4.11 4.28-11.37 4.28H344v-3.74h3.73V30.75H344v-3.68h13.83q7.59 0 11.66 4.29a15.41 15.41 0 014.06 11 15.34 15.34 0 01-4.11 11.11zm25.65 1.68a10.53 10.53 0 01-7.9 3.07 10 10 0 01-7.63-3 10.93 10.93 0 01-2.8-7.83 12.13 12.13 0 012.69-7.93q2.69-3.3 8-3.3t8 3.28a12 12 0 012.64 7.76 10.86 10.86 0 01-3 7.9zm22.61.57c-1.4 1.66-3.63 2.5-6.68 2.5a9.58 9.58 0 01-7.15-2.76q-2.72-2.76-2.71-7.91a12.25 12.25 0 012.69-8 9.17 9.17 0 017.5-3.28 15 15 0 013.82.48 10.37 10.37 0 013.5 1.65l.85 5.47-3.35.38-.76-3.54a8.07 8.07 0 00-4.11-1 4.9 4.9 0 00-4.39 2.15 9.93 9.93 0 00-1.41 5.55 8.9 8.9 0 001.5 5.38 5.23 5.23 0 004.44 2c2.92 0 4.67-1.7 5.23-5.1l3.5.71a10.34 10.34 0 01-2.47 5.27zm20.48.75a11.68 11.68 0 01-6.63 1.75 15.52 15.52 0 01-8.26-2.08L424 51l3.26.33-.1 2.74a7 7 0 002.06.66 12.63 12.63 0 002.19.19 8.68 8.68 0 003.66-.75 2.5 2.5 0 001.63-2.36 2.25 2.25 0 00-1.32-2.2 12.65 12.65 0 00-3.28-1 47.39 47.39 0 01-3.9-.82 7.5 7.5 0 01-3.25-1.7 4.67 4.67 0 01-1.33-3.66c0-2.36.88-4 2.62-4.91a12 12 0 015.6-1.37 15 15 0 014.08.55 16.65 16.65 0 013.47 1.39l.47 5.1-3.3.37-.48-3.3a9.5 9.5 0 00-4.06-.9 5.62 5.62 0 00-2.87.66 2.33 2.33 0 00-1.15 2.25 2.13 2.13 0 001.3 2.07 11.91 11.91 0 003.21.92 36.69 36.69 0 013.82.83 7.46 7.46 0 013.21 1.74 4.9 4.9 0 011.3 3.73 5.56 5.56 0 01-2.66 4.91z"></path><path d="M181.17 30.75h-5.71v23.31h5.71q5.47 0 8.36-3t2.88-8.61q0-5.43-2.88-8.55t-8.36-3.15zM121.63 119.32V81.74h114.91v37.58zM153.22 109h-2v-6.85a4.8 4.8 0 00-1.58-4 5.57 5.57 0 00-3.55-1.26 5 5 0 00-4.92 3.26 4.19 4.19 0 00-1.88-2.46 5.82 5.82 0 00-3-.8 4.89 4.89 0 00-4.56 2.56v-2.21h-6.28v3.26h2v8.5h-2v3.23h9.11V109h-2.86v-5.25a4.4 4.4 0 01.69-2.56 2.47 2.47 0 012.21-1q2.57 0 2.56 3.63v8.41h6.29V109h-2v-5.25a4.47 4.47 0 01.67-2.56 2.42 2.42 0 012.19-1q2.63 0 2.63 3.63v8.41h6.28zm9.88-12.07q-4 0-6 2.36a8.41 8.41 0 00-2 5.66 7.25 7.25 0 002.17 5.62 8 8 0 005.65 2 8.54 8.54 0 005.94-2.11 7.27 7.27 0 002.34-5.67 8.21 8.21 0 00-2-5.51q-2.07-2.34-6.1-2.34zm-.1 12.35a3 3 0 01-2.63-1.33 5.68 5.68 0 01-.9-3.26 5 5 0 011-3.28 3.23 3.23 0 012.61-1.18 3.5 3.5 0 012.59 1.08 4.56 4.56 0 011.07 3.31 5.21 5.21 0 01-1 3.41 3.33 3.33 0 01-2.74 1.25zm25-2.3l-3.39-.29-.7 2.32H179l8.32-9.54-.32-2.23h-13.19l-.53 5.25 3.16.34.67-2.36h4.65l-8.25 9.53.44 2.26h13.13zm7.62-9.74h-4.46v5.39h4.46zm0 9.61h-4.46v5.39h4.46zm13.54-17.49h-4.23l-6.48 22.88h4.22zm8.68 0h-4.23l-6.45 22.88h4.19zm15 22.51l-.07-2.26a1.22 1.22 0 01-.56.1c-.69 0-1-.39-1-1.16v-6.49a4.39 4.39 0 00-1.8-3.84 7 7 0 00-4.16-1.28 14.55 14.55 0 00-3.16.3 24.14 24.14 0 00-3.29 1.06l-.56 3.46 3.39.4.5-1.69a2.78 2.78 0 011.08-.37 11.3 11.3 0 011.25-.07c1.19 0 1.89.37 2.09 1.1a8.55 8.55 0 01.3 2.26v.5a8.91 8.91 0 00-1.18-.11h-1.21a12.64 12.64 0 00-4.81.88 3.53 3.53 0 00-2.18 3.64 3.66 3.66 0 001.48 3.33 5.63 5.63 0 003.11 1 4.67 4.67 0 003-.91 6.78 6.78 0 001.8-2 3 3 0 003.33 3 5.54 5.54 0 002.66-.85zm-9.25-2.32a1.69 1.69 0 01-1.36-.52 1.81 1.81 0 01-.43-1.21 1.67 1.67 0 01.86-1.68 4.63 4.63 0 012-.42 7.69 7.69 0 011.07.07l1.06.13a3.58 3.58 0 01-1.08 2.74 3.24 3.24 0 01-2.11.89z"></path></svg></a></div><ul class="link-list-mdn"><li><a href="/ru/docs/Web">Web Technologies</a></li><li><a href="/ru/docs/Learn">Learn Web Development</a></li><li><a href="/ru/docs/MDN/About">About MDN</a></li><li><a href="/ru/docs/MDN/Feedback">Feedback</a></li></ul><ul class="link-list-moz"><li><a href="https://www.mozilla.org/about/" target="_blank" rel="noopener noreferrer">About</a></li><li><a href="https://shop.spreadshirt.com/mdn-store/" target="_blank" rel="noopener noreferrer">MDN Web Docs Store</a></li><li><a href="https://www.mozilla.org/contact/" target="_blank" rel="noopener noreferrer">Contact Us</a></li><li><a href="https://www.mozilla.org/firefox/?utm_source=developer.mozilla.org&amp;utm_campaign=footer&amp;utm_medium=referral" target="_blank" rel="noopener noreferrer">Firefox</a></li></ul><div class="social social-mdn"><h4>MDN</h4><ul><li><a class="social-icon twitter" href="https://twitter.com/mozdevnet" target="_blank" rel="noopener noreferrer"><span class="visually-hidden">MDN on Twitter</span></a></li><li><a class="social-icon github" href="https://github.com/mdn/" target="_blank" rel="noopener noreferrer"><span class="visually-hidden">MDN on Github</span></a></li></ul></div><div class="social social-moz"><h4>Mozilla</h4><ul><li><a class="social-icon twitter" href="https://twitter.com/mozilla" target="_blank" rel="noopener noreferrer"><span class="visually-hidden">Mozilla on Twitter</span></a></li><li><a class="social-icon instagram" href="https://www.instagram.com/mozillagram/" target="_blank" rel="noopener noreferrer"><span class="visually-hidden">Mozilla on Instagram</span></a></li></ul></div><p id="license" class="footer-license">¬© 2005-<!-- -->2022<!-- --> Mozilla and individual contributors. Content is available under<!-- --> <a href="/docs/MDN/About#Copyrights_and_licenses">these licenses</a>.</p><ul class="footer-legal"><li><a href="https://www.mozilla.org/about/legal/terms/mozilla" target="_blank" rel="noopener noreferrer">Terms</a></li><li><a href="https://www.mozilla.org/privacy/websites/" target="_blank" rel="noopener noreferrer">Privacy</a></li><li><a href="https://www.mozilla.org/privacy/websites/#cookies" target="_blank" rel="noopener noreferrer">Cookies</a></li></ul></div></footer><div class="page-overlay hidden"></div></div><script type="application/json" id="hydration">{"doc":{"isMarkdown":false,"isTranslated":true,"isActive":true,"flaws":{},"title":"Pointer Lock API","mdn_url":"/ru/docs/Web/API/Pointer_Lock_API","locale":"ru","native":"–†—É—Å—Å–∫–∏–π","sidebarHTML":"","body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<p><strong>Pointer lock</strong> <strong>API</strong>(–ø—Ä–µ–∂–Ω–µ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ Mouse Lock API) –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –º–µ—Ç–æ–¥—ã –≤–≤–æ–¥–∞, –æ—Å–Ω–æ–≤–∞–Ω–Ω—ã–µ –Ω–∞ –¥–≤–∏–∂–µ–Ω–∏–∏ –º—ã—à–∏ , –∞ –Ω–µ —Ç–æ–ª—å–∫–æ –∞–±—Å–æ–ª—é—Ç–Ω–æ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω—ã—Ö –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞—Ö –∫—É—Ä—Å–æ—Ä–∞ –≤ –æ–∫–Ω–µ. –≠—Ç–æ –¥–∞—ë—Ç –≤–∞–º –¥–æ—Å—Ç—É–ø –∫ –Ω–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–º –¥–≤–∏–∂–µ–Ω–∏—è–º –º—ã—à–∏, –ø—Ä–∏–∫—Ä–µ–ø–ª—è–µ—Ç –∫—É—Ä—Å–æ—Ä –º—ã—à–∏ –∫ –ª—é–±–æ–º—É —ç–ª–µ–º–µ–Ω—Ç—É –≤ –æ–∫–Ω–µ –±—Ä–∞—É–∑–µ—Ä–∞, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤—ã—á–∏—Å–ª—è—Ç—å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –º—ã—à–∏ –Ω–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–π –æ–±–ª–∞—Å—Ç—å—é –æ–∫–Ω–∞ –ø—Ä–æ–µ–∫—Ü–∏–∏, –∏ —Å–∫—Ä—ã–≤–∞–µ—Ç –∫—É—Ä—Å–æ—Ä –∏–∑ –ø–æ–ª—è –∑—Ä–µ–Ω–∏—è. –≠—Ç–æ –∏–¥–µ–∞–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è 3D –∏–≥—Ä, –Ω–∞–ø—Ä–∏–º–µ—Ä.</p>\n\n<p>–ë–æ–ª–µ–µ —Ç–æ–≥–æ, API –ø–æ–ª–µ–∑–Ω–æ –¥–ª—è –ª—é–±—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –¥–∞–Ω–Ω—ã–µ –º—ã—à–∏ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–≤–∏–∂–µ–Ω–∏—è–º–∏, –≤—Ä–∞—â–µ–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤ –∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∑–∞–ø–∏—Å–µ–π. –ù–∞–ø—Ä–∏–º–µ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å –Ω–∞–∫–ª–æ–Ω–æ–º –ø—Ä–æ—Å—Ç–æ –¥–≤–∏–≥–∞—è –º—ã—à—å, –Ω–µ –Ω–∞–∂–∏–º–∞—è –Ω–∏ –Ω–∞ –∫–∞–∫–∏–µ –∫–Ω–æ–ø–∫–∏. –°–∞–º–∏ –∫–Ω–æ–ø–∫–∏ –æ—Å–≤–æ–±–æ–∂–¥–∞—é—Ç—Å—è –ø–æ–¥ –¥—Ä—É–≥–∏–µ –∑–∞–¥–∞—á–∏. –ü—Ä–∏–º–µ—Ä–∞–º–∏ –º–æ–≥—É—Ç –ø–æ—Å–ª—É–∂–∏—Ç—å  –ø—Ä–æ–≥—Ä–∞–º–º—ã –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∫–∞—Ä—Ç –∏–ª–∏ —Å–ø—É—Ç–Ω–∏–∫–æ–≤–æ–π —Å—ä—ë–º–∫–∏.</p>\n\n<p>–ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —É–∫–∞–∑–∞—Ç–µ–ª—è –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤–∞–º –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ –¥–∞–Ω–Ω—ã–º –º—ã—à–∏, –¥–∞–∂–µ –µ—Å–ª–∏ –∫—É—Ä—Å–æ—Ä —É—à—ë–ª –∑–∞ –≥—Ä–∞–Ω–∏—Ü—ã —ç–∫—Ä–∞–Ω–∞ –∏–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞. –ù–∞–ø—Ä–∏–º–µ—Ä, –≤–∞—à–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å –≤—Ä–∞—â–∞—Ç—å –∏–ª–∏ —É–ø—Ä–∞–≤–ª—è—Ç—å 3D –º–æ–¥–µ–ª—å—é –¥–≤–∏–∂–µ–Ω–∏–µ–º –º—ã—à–∏ –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ. –ë–µ–∑ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –≤—Ä–∞—â–µ–Ω–∏–µ –∏–ª–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è, –∫–∞–∫ —Ç–æ–ª—å–∫–æ –∫—É—Ä—Å–æ—Ä –¥–æ—Å—Ç–∏–≥–∞–µ—Ç –∫—Ä–∞—è –±—Ä–∞—É–∑–µ—Ä–∞ –∏–ª–∏ —ç–∫—Ä–∞–Ω–∞. –ì–µ–π–º–µ—Ä—ã —Ç–µ–ø–µ—Ä—å –º–æ–≥—É—Ç –Ω–∞–∂–∏–º–∞—Ç—å –∫–Ω–æ–ø–∫–∏ –∏ –≤–æ–¥–∏—Ç—å –∫—É—Ä—Å–æ—Ä–æ–º –≤–∑–∞–¥ –∏ –≤–ø–µ—Ä—ë–¥, –Ω–µ –±–æ—è—Å—å –ø–æ–∫–∏–Ω—É—Ç—å –∏–≥—Ä–æ–≤–æ–µ –ø–æ–ª–µ –∏ —Å–ª—É—á–∞–π–Ω–æ –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—Å—è –Ω–∞ –¥—Ä—É–≥–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ.</p>"}},{"type":"prose","value":{"id":"basics","title":"–û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏","isH3":false,"content":"<p>Pointer lock is related to <a href=\"/en-US/DOM/element.setCapture\" title=\"element.setCapture\">mouse capture</a>. Mouse capture provides continued delivery of events to a target element while a mouse is being dragged, but it stops when the mouse button is released. Pointer lock is different from mouse capture in the following ways:</p>\n\n<ul>\n <li>It is persistent: Pointer lock does not release the mouse until an explicit API call is made or the user uses a specific release gesture.</li>\n <li>It is not limited by browser or screen boundaries.</li>\n <li>It continues to send events regardless of mouse button state.</li>\n <li>It hides the cursor.</li>\n</ul>"}},{"type":"prose","value":{"id":"method_overview","title":"–û–±–∑–æ—Ä –º–µ—Ç–æ–¥–æ–≤/—Å–≤–æ–π—Å—Ç–≤","isH3":false,"content":"<p>–≠—Ç–æ—Ç —Ä–∞–∑–¥–µ–ª —Å–æ–¥–µ—Ä–∂–∏—Ç –∫—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∫–∞–∂–¥–æ–≥–æ —Å–≤–æ–π—Å—Ç–≤–∞ –∏ –º–µ—Ç–æ–¥–∞, —Å–≤—è–∑–∞–Ω–Ω–æ–≥–æ —Å–æ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–µ–π –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ —É–∫–∞–∑–∞—Ç–µ–ª—è.</p>"}},{"type":"prose","value":{"id":"requestpointerlock()","title":"requestPointerLock()","isH3":true,"content":"<p>The Pointer lock API, similar to the <a href=\"/en-US/docs/Web/API/Fullscreen_API\">Fullscreen API</a>, extends DOM elements by adding a new method, <a href=\"/ru/docs/Web/API/Element/requestPointerLock\" title=\"requestPointerLock\"><code>requestPointerLock</code></a>, which is vendor-prefixed for now. You would currently declare it something like this, for example if you wanted to request pointer lock on a <code>canvas</code> element.:</p>\n\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code>canvas<span class=\"token punctuation\">.</span>requestPointerLock <span class=\"token operator\">=</span> canvas<span class=\"token punctuation\">.</span>requestPointerLock <span class=\"token operator\">||</span>\n                            canvas<span class=\"token punctuation\">.</span>mozRequestPointerLock <span class=\"token operator\">||</span>\n                            canvas<span class=\"token punctuation\">.</span>webkitRequestPointerLock<span class=\"token punctuation\">;</span>\n\ncanvas<span class=\"token punctuation\">.</span><span class=\"token function\">requestPointerLock</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n</code></pre></div>"}},{"type":"prose","value":{"id":"pointerlockelement_and_exitpointerlock()","title":"pointerLockElement and exitPointerLock()","isH3":true,"content":"<p>The Pointer lock API also extends the <a href=\"/ru/docs/Web/API/Document\"><code>Document</code></a> interface, adding both a new property and a new method. The new property is used for accessing the currently locked element (if any), and is named <a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/Document/pointerLockElement\"><code>pointerLockElement</code> <small>(en-US)</small></a>, which is vendor-prefixed for now. The new method on <a href=\"/ru/docs/Web/API/Document\"><code>Document</code></a> is <a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/Document/exitPointerLock\"><code>exitPointerLock</code> <small>(en-US)</small></a> and, as the name implies, it is used to exit Pointer lock.</p>\n\n<p>The <a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/Document/pointerLockElement\"><code>pointerLockElement</code> <small>(en-US)</small></a> property is useful for determining if any element is currently pointer locked (e.g., for doing a boolean check) and also for obtaining a reference to the locked element, if any.</p>\n\n<p>Here is an example of using <code>pointerLockElement</code>:</p>\n\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>document<span class=\"token punctuation\">.</span>pointerLockElement <span class=\"token operator\">===</span> canvas <span class=\"token operator\">||</span>\n  document<span class=\"token punctuation\">.</span>mozPointerLockElement <span class=\"token operator\">===</span> canvas <span class=\"token operator\">||</span>\n  document<span class=\"token punctuation\">.</span>webkitPointerLockElement <span class=\"token operator\">===</span> canvas<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'The pointer lock status is now locked'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'The pointer lock status is now unlocked'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n\n<p>The <a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/Document/exitPointerLock\"><code>Document.exitPointerLock</code> <small>(en-US)</small></a> method is used to exit pointer lock, and like <a href=\"/ru/docs/Web/API/Element/requestPointerLock\" title=\"requestPointerLock\"><code>requestPointerLock</code></a>, works asynchronously using the <code><a href=\"/en-US/docs/Web/API/Document/pointerlockchange_event\" title=\"Currently only available in English (US)\" class=\"only-in-en-us\">pointerlockchange (en-US)</a></code> and <code><a href=\"/en-US/docs/Web/API/Document/pointerlockerror_event\" title=\"Currently only available in English (US)\" class=\"only-in-en-us\">pointerlockerror (en-US)</a></code> events, which you'll see more about below.</p>\n\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code>document<span class=\"token punctuation\">.</span>exitPointerLock <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span>exitPointerLock    <span class=\"token operator\">||</span>\n                           document<span class=\"token punctuation\">.</span>mozExitPointerLock <span class=\"token operator\">||</span>\n                           document<span class=\"token punctuation\">.</span>webkitExitPointerLock<span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// Attempt to unlock</span>\ndocument<span class=\"token punctuation\">.</span><span class=\"token function\">exitPointerLock</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>"}},{"type":"prose","value":{"id":"mouselocklostevent","title":"pointerlockchange event","isH3":false,"content":"<p>When the Pointer lock state changes‚Äîfor example, when calling <a href=\"/ru/docs/Web/API/Element/requestPointerLock\" title=\"requestPointerLock\"><code>requestPointerLock</code></a>, <a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/Document/exitPointerLock\"><code>exitPointerLock</code> <small>(en-US)</small></a>, the user pressing the ESC key, etc.‚Äîthe <code><a href=\"/en-US/docs/Web/API/Document/pointerlockchange_event\" title=\"Currently only available in English (US)\" class=\"only-in-en-us\">pointerlockchange (en-US)</a></code> event is dispatched to the <code>document</code>. This is a simple event and contains no extra data.</p>\n\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token string\">\"onpointerlockchange\"</span> <span class=\"token keyword\">in</span> document<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  document<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'pointerlockchange'</span><span class=\"token punctuation\">,</span> lockChangeAlert<span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token string\">\"onmozpointerlockchange\"</span> <span class=\"token keyword\">in</span> document<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  document<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'mozpointerlockchange'</span><span class=\"token punctuation\">,</span> lockChangeAlert<span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token string\">\"onwebkitpointerlockchange\"</span> <span class=\"token keyword\">in</span> document<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  document<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'webkitpointerlockchange'</span><span class=\"token punctuation\">,</span> lockChangeAlert<span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">lockChangeAlert</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>document<span class=\"token punctuation\">.</span>pointerLockElement <span class=\"token operator\">===</span> canvas <span class=\"token operator\">||</span>\n  document<span class=\"token punctuation\">.</span>mozPointerLockElement <span class=\"token operator\">===</span> canvas <span class=\"token operator\">||</span>\n  document<span class=\"token punctuation\">.</span>webkitPointerLockElement <span class=\"token operator\">===</span> canvas<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'The pointer lock status is now locked'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">// Do something useful in response</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'The pointer lock status is now unlocked'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">// Do something useful in response</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>"}},{"type":"prose","value":{"id":"mouselocklostevent_2","title":"pointerlockerror event","isH3":false,"content":"<p>When there is an error caused by calling <a href=\"/ru/docs/Web/API/Element/requestPointerLock\" title=\"requestPointerLock\"><code>requestPointerLock</code></a> or <a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/Document/exitPointerLock\"><code>exitPointerLock</code> <small>(en-US)</small></a>, the <code><a href=\"/en-US/docs/Web/API/Document/pointerlockerror_event\" title=\"Currently only available in English (US)\" class=\"only-in-en-us\">pointerlockerror (en-US)</a></code> event is dispatched to the <code>document</code>. This is a simple event and contains no extra data.</p>\n\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code>document<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'pointerlockerror'</span><span class=\"token punctuation\">,</span> lockError<span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\ndocument<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'mozpointerlockerror'</span><span class=\"token punctuation\">,</span> lockError<span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\ndocument<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'webkitpointerlockerror'</span><span class=\"token punctuation\">,</span> lockError<span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">lockError</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">e</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Pointer lock failed\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n\n<div class=\"note notecard\" id=\"sect1\"><strong>Note</strong>: The above events are currently prefixed with <code>moz</code> in Firefox and <code>webkit</code> in Chrome. </div>"}},{"type":"prose","value":{"id":"extensions","title":"Extensions to mouse events","isH3":false,"content":"<p>The Pointer lock API extends the normal <a href=\"/ru/docs/Web/API/MouseEvent\"><code>MouseEvent</code></a> interface with movement attributes.</p>\n\n<pre class=\"idl notranslate\">partial interface MouseEvent {\n    readonly attribute <a>long</a> <a href=\"https://dvcs.w3.org/hg/webevents/raw-file/default/mouse-lock.html#widl-MouseEvent-movementX\" class=\"external\" rel=\" noopener\">movementX</a>;\n    readonly attribute <a>long</a> <a href=\"https://dvcs.w3.org/hg/webevents/raw-file/default/mouse-lock.html#widl-MouseEvent-movementY\" class=\"external\" rel=\" noopener\">movementY</a>;\n};</pre>\n\n<div class=\"note notecard\" id=\"sect2\">The movement attributes are currently prefixed as <code>.mozMovementX</code> and <code>.mozMovementY</code> in Firefox, and<code>.webkitMovementX</code> and <code>.webkitMovementY</code> in Chrome.</div>\n\n<p>Two new parameters to mouse events‚Äî<a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/MouseEvent/movementX\"><code>movementX</code> <small>(en-US)</small></a> and <a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/MouseEvent/movementY\"><code>movementY</code> <small>(en-US)</small></a>‚Äîprovide the change in mouse positions. The values of the parameters are the same as the difference between the values of <a href=\"/ru/docs/Web/API/MouseEvent\"><code>MouseEvent</code></a> properties, <a href=\"/ru/docs/Web/API/MouseEvent/screenX\" title=\"screenX\"><code>screenX</code></a> and <a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/MouseEvent/screenY\"><code>screenY</code> <small>(en-US)</small></a>, which are stored in two subsequent <code><a href=\"/en-US/docs/Web/API/Element/mousemove_event\" title=\"Currently only available in English (US)\" class=\"only-in-en-us\">mousemove (en-US)</a></code> events, <code>eNow</code> and <code>ePrevious</code>. In other words, the Pointer lock parameter <code>movementX = eNow.screenX - ePrevious.screenX</code>.</p>"}},{"type":"prose","value":{"id":"locked_state","title":"Locked state","isH3":true,"content":"<p>When Pointer lock is enabled, the standard <a href=\"/ru/docs/Web/API/MouseEvent\"><code>MouseEvent</code></a> properties <a href=\"/ru/docs/Web/API/MouseEvent/clientX\" title=\"clientX\"><code>clientX</code></a>, <a href=\"/ru/docs/Web/API/MouseEvent/clientY\" title=\"clientY\"><code>clientY</code></a>, <a href=\"/ru/docs/Web/API/MouseEvent/screenX\" title=\"screenX\"><code>screenX</code></a>, and <a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/MouseEvent/screenY\"><code>screenY</code> <small>(en-US)</small></a> are held constant, as if the mouse is not moving. The <a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/MouseEvent/movementX\"><code>movementX</code> <small>(en-US)</small></a> and <a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/MouseEvent/movementY\"><code>movementY</code> <small>(en-US)</small></a> properties continue to provide the mouse's change in position. There is no limit to <a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/MouseEvent/movementX\"><code>movementX</code> <small>(en-US)</small></a> and <a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/MouseEvent/movementY\"><code>movementY</code> <small>(en-US)</small></a> values if the mouse is continuously moving in a single direction. The concept of the mouse cursor does not exist and the cursor cannot move off the window or be clamped by a screen edge.</p>"}},{"type":"prose","value":{"id":"unlocked_state","title":"Unlocked state","isH3":true,"content":"<p>The parameters <a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/MouseEvent/movementX\"><code>movementX</code> <small>(en-US)</small></a> and <a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/MouseEvent/movementY\"><code>movementY</code> <small>(en-US)</small></a> are valid regardless of the mouse lock state, and are available even when unlocked for convenience.</p>\n\n<p>When the mouse is unlocked, the system cursor can exit and re-enter the browser window. If that happens, <a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/MouseEvent/movementX\"><code>movementX</code> <small>(en-US)</small></a> and <a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/MouseEvent/movementY\"><code>movementY</code> <small>(en-US)</small></a> could be set to zero.</p>"}},{"type":"prose","value":{"id":"example","title":"Simple example walkthrough","isH3":false,"content":"<p>We've written a <a href=\"https://mdn.github.io/dom-examples/pointer-lock/\" class=\"external\" rel=\" noopener\">simple pointer lock demo</a> to show you how to use it to set up a simple control system (<a href=\"https://github.com/mdn/dom-examples/tree/master/pointer-lock\" class=\"external\" rel=\" noopener\">see source code</a>). The demo looks like this:</p>\n\n<p><img alt=\"A red circle on top of a black background.\" src=\"https://mdn.mozillademos.org/files/7953/pointer-lock.png\" style=\"display: block; margin: 0px auto;\" loading=\"lazy\"></p>\n\n<p>This demo uses JavaScript to draw a ball on top of an <a href=\"/ru/docs/Web/HTML/Element/canvas\"><code>&lt;canvas&gt;</code></a> element. When you click the canvas, pointer lock is then used to remove the mouse pointer and allow you to move the ball directly using the mouse. Let's see how this works.</p>\n\n<p>Set initial x and y positions on the canvas:</p>\n\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">var</span> x <span class=\"token operator\">=</span> <span class=\"token number\">50</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> y <span class=\"token operator\">=</span> <span class=\"token number\">50</span><span class=\"token punctuation\">;</span></code></pre></div>\n\n<p>The <code>canvasDraw()</code> function draws the ball in the current x and y positions, but it also includes <code>if()</code> statements to check whether the ball has gone off the edges of the canvas. If so, it makes the ball wrap around to the opposite edge.</p>\n\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">function</span> <span class=\"token function\">canvasDraw</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>x <span class=\"token operator\">&gt;</span> canvas<span class=\"token punctuation\">.</span>clientWidth<span class=\"token operator\">+</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    x <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>y <span class=\"token operator\">&gt;</span> canvas<span class=\"token punctuation\">.</span>clientHeight<span class=\"token operator\">+</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    y <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>x <span class=\"token operator\">&lt;</span> <span class=\"token operator\">-</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    x <span class=\"token operator\">=</span> canvas<span class=\"token punctuation\">.</span>clientWidth<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>y <span class=\"token operator\">&lt;</span> <span class=\"token operator\">-</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    y <span class=\"token operator\">=</span> canvas<span class=\"token punctuation\">.</span>clientHeight<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  ctx<span class=\"token punctuation\">.</span>fillStyle <span class=\"token operator\">=</span> <span class=\"token string\">\"black\"</span><span class=\"token punctuation\">;</span>\n  ctx<span class=\"token punctuation\">.</span><span class=\"token function\">fillRect</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span>canvas<span class=\"token punctuation\">.</span>clientWidth<span class=\"token punctuation\">,</span>canvas<span class=\"token punctuation\">.</span>clientHeight<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  ctx<span class=\"token punctuation\">.</span>fillStyle <span class=\"token operator\">=</span> <span class=\"token string\">\"#f00\"</span><span class=\"token punctuation\">;</span>\n\n  ctx<span class=\"token punctuation\">.</span><span class=\"token function\">beginPath</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  ctx<span class=\"token punctuation\">.</span><span class=\"token function\">arc</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">,</span>y<span class=\"token punctuation\">,</span><span class=\"token number\">20</span><span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span><span class=\"token function\">degToRad</span><span class=\"token punctuation\">(</span><span class=\"token number\">360</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  ctx<span class=\"token punctuation\">.</span><span class=\"token function\">fill</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n\n<p>The pointer lock methods are currently prefixed, so next we'll fork them for the different browser implementations.</p>\n\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code>canvas<span class=\"token punctuation\">.</span>requestPointerLock <span class=\"token operator\">=</span> canvas<span class=\"token punctuation\">.</span>requestPointerLock <span class=\"token operator\">||</span>\n           canvas<span class=\"token punctuation\">.</span>mozRequestPointerLock <span class=\"token operator\">||</span>\n           canvas<span class=\"token punctuation\">.</span>webkitRequestPointerLock<span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// pointer lock object forking for cross browser</span>\n\ndocument<span class=\"token punctuation\">.</span>exitPointerLock <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span>exitPointerLock <span class=\"token operator\">||</span>\n         document<span class=\"token punctuation\">.</span>mozExitPointerLock <span class=\"token operator\">||</span>\n         document<span class=\"token punctuation\">.</span>webkitExitPointerLock<span class=\"token punctuation\">;</span>\n<span class=\"token comment\">//document.exitPointerLock();</span></code></pre></div>\n\n<p>Now we set up an event listener to run the requestPointerLock() method on the canvas when it is clicked, which initiates pointer lock.</p>\n\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code>canvas<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onclick</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  canvas<span class=\"token punctuation\">.</span><span class=\"token function\">requestPointerLock</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n\n<p>Now for the dedicated pointer lock event listener: <code>pointerlockchange</code>. When this occurs, we run a function called <code>lockChangeAlert()</code> to handle the change.</p>\n\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token comment\">// pointer lock event listener</span>\n\n<span class=\"token comment\">// Hook pointer lock state change events for different browsers</span>\ndocument<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'pointerlockchange'</span><span class=\"token punctuation\">,</span> lockChangeAlert<span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\ndocument<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'mozpointerlockchange'</span><span class=\"token punctuation\">,</span> lockChangeAlert<span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\ndocument<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'webkitpointerlockchange'</span><span class=\"token punctuation\">,</span> lockChangeAlert<span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n\n<p>This function checks the pointLockElement property to see if it is our canvas. If so, it attached an event listener to handle the mouse movements with the <code>canvasLoop()</code> function. If not, it removes the event listener again.</p>\n\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">function</span> <span class=\"token function\">lockChangeAlert</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>document<span class=\"token punctuation\">.</span>pointerLockElement <span class=\"token operator\">===</span> canvas <span class=\"token operator\">||</span>\n  document<span class=\"token punctuation\">.</span>mozPointerLockElement <span class=\"token operator\">===</span> canvas <span class=\"token operator\">||</span>\n  document<span class=\"token punctuation\">.</span>webkitPointerLockElement <span class=\"token operator\">===</span> canvas<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'The pointer lock status is now locked'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    document<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"mousemove\"</span><span class=\"token punctuation\">,</span> canvasLoop<span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'The pointer lock status is now unlocked'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    document<span class=\"token punctuation\">.</span><span class=\"token function\">removeEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"mousemove\"</span><span class=\"token punctuation\">,</span> canvasLoop<span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n\n<p>A tracker is set up to write out the X and Y values to the screen, for reference.</p>\n\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code>  <span class=\"token keyword\">var</span> tracker <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">createElement</span><span class=\"token punctuation\">(</span><span class=\"token string\">'p'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">var</span> body <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">'body'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  body<span class=\"token punctuation\">.</span><span class=\"token function\">appendChild</span><span class=\"token punctuation\">(</span>tracker<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  tracker<span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">.</span>position <span class=\"token operator\">=</span> <span class=\"token string\">'absolute'</span><span class=\"token punctuation\">;</span>\n  tracker<span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">.</span>top <span class=\"token operator\">=</span> <span class=\"token string\">'0'</span><span class=\"token punctuation\">;</span>\n  tracker<span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">.</span>right <span class=\"token operator\">=</span> <span class=\"token string\">'10px'</span><span class=\"token punctuation\">;</span>\n  tracker<span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">.</span>backgroundColor <span class=\"token operator\">=</span> <span class=\"token string\">'white'</span><span class=\"token punctuation\">;</span></code></pre></div>\n\n<p>The <code>canvasLoop()</code> function first forks the <code>movementX</code> and <code>movementY</code> properties, as they are also prefixed currently in some browsers. It then adds those property's values to x and y, and reruns <code>canvasDraw()</code> with those new values so the ball position is updated. Finally, we use <code>requestAnimationFrame()</code> to run the loop again and again.</p>\n\n<pre class=\"notranslate\">function canvasLoop(e) {\n  var movementX = e.movementX ||\n      e.mozMovementX          ||\n      e.webkitMovementX       ||\n      0;\n\n  var movementY = e.movementY ||\n      e.mozMovementY      ||\n      e.webkitMovementY   ||\n      0;\n\n  x += movementX;\n  y += movementY;\n\n  canvasDraw();\n\n  var animation = requestAnimationFrame(canvasLoop);\n\n  tracker.innerHTML = \"X position: \" + x + ', Y position: ' + y;\n}</pre>"}},{"type":"prose","value":{"id":"iframe_limitations","title":"iframe limitations","isH3":false,"content":"<p>Pointer lock can only lock one iframe at a time. If you lock one iframe, you cannot try to lock another iframe and transfer the target to it; Pointer lock will error out. To avoid this limitation, first unlock the locked iframe, and then lock the other.</p>\n\n<p>While iframes work by default, \"sandboxed\" iframes block Pointer lock. The ability to avoid this limitation, in the form of the attribute/value combination <code>&lt;iframe sandbox=\"allow-pointer-lock\"&gt;</code>, is expected to appear in Chrome soon.</p>"}},{"type":"prose","value":{"id":"specifications","title":"Specifications","isH3":false,"content":"<table class=\"standard-table\">\n <thead>\n  <tr>\n   <th scope=\"col\">Specification</th>\n   <th scope=\"col\">Status</th>\n   <th scope=\"col\">Comment</th>\n  </tr>\n </thead>\n <tbody>\n  <tr>\n   <td><a href=\"https://w3c.github.io/pointerlock/\" hreflang=\"en\" lang=\"en\" class=\"external\" title=\"–°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è 'Pointer Lock'\" rel=\" noopener\">Pointer Lock</a></td>\n   <td><span class=\"spec-cr\">–ö–∞–Ω–¥–∏–¥–∞—Ç –≤ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏</span></td>\n   <td>Initial specification.</td>\n  </tr>\n </tbody>\n</table>"}},{"type":"browser_compatibility","value":{"title":"Browser compatibility","id":"browser_compatibility","isH3":false,"query":"api.Element.requestPointerLock","dataURL":"/ru/docs/Web/API/Pointer_Lock_API/bcd.json"}},{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<p></p><p></p>"}},{"type":"prose","value":{"id":"see_also","title":"See also","isH3":false,"content":"<ul>\n <li><a href=\"/ru/docs/Web/API/MouseEvent\"><code>MouseEvent</code></a></li>\n</ul>"}}],"toc":[{"text":"–û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏","id":"basics"},{"text":"–û–±–∑–æ—Ä –º–µ—Ç–æ–¥–æ–≤/—Å–≤–æ–π—Å—Ç–≤","id":"method_overview"},{"text":"pointerlockchange event","id":"mouselocklostevent"},{"text":"pointerlockerror event","id":"mouselocklostevent_2"},{"text":"Extensions to mouse events","id":"extensions"},{"text":"Simple example walkthrough","id":"example"},{"text":"iframe limitations","id":"iframe_limitations"},{"text":"Specifications","id":"specifications"},{"text":"Browser compatibility","id":"browser_compatibility"},{"text":"See also","id":"see_also"}],"summary":"Pointer lock API(–ø—Ä–µ–∂–Ω–µ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ Mouse Lock API) –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –º–µ—Ç–æ–¥—ã –≤–≤–æ–¥–∞, –æ—Å–Ω–æ–≤–∞–Ω–Ω—ã–µ –Ω–∞ –¥–≤–∏–∂–µ–Ω–∏–∏ –º—ã—à–∏ , –∞ –Ω–µ —Ç–æ–ª—å–∫–æ –∞–±—Å–æ–ª—é—Ç–Ω–æ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω—ã—Ö –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞—Ö –∫—É—Ä—Å–æ—Ä–∞ –≤ –æ–∫–Ω–µ. –≠—Ç–æ –¥–∞—ë—Ç –≤–∞–º –¥–æ—Å—Ç—É–ø –∫ –Ω–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–º –¥–≤–∏–∂–µ–Ω–∏—è–º –º—ã—à–∏, –ø—Ä–∏–∫—Ä–µ–ø–ª—è–µ—Ç –∫—É—Ä—Å–æ—Ä –º—ã—à–∏ –∫ –ª—é–±–æ–º—É —ç–ª–µ–º–µ–Ω—Ç—É –≤ –æ–∫–Ω–µ –±—Ä–∞—É–∑–µ—Ä–∞, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤—ã—á–∏—Å–ª—è—Ç—å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –º—ã—à–∏ –Ω–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–π –æ–±–ª–∞—Å—Ç—å—é –æ–∫–Ω–∞ –ø—Ä–æ–µ–∫—Ü–∏–∏, –∏ —Å–∫—Ä—ã–≤–∞–µ—Ç –∫—É—Ä—Å–æ—Ä –∏–∑ –ø–æ–ª—è –∑—Ä–µ–Ω–∏—è. –≠—Ç–æ –∏–¥–µ–∞–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è 3D –∏–≥—Ä, –Ω–∞–ø—Ä–∏–º–µ—Ä.","popularity":0,"modified":"2022-10-01T03:41:16.000Z","other_translations":[{"title":"Pointer Lock API","locale":"en-US","native":"English (US)"},{"title":"API Pointer Lock","locale":"es","native":"Espa√±ol"},{"title":"Pointer Lock API","locale":"fr","native":"Fran√ßais"},{"title":"Pointer Lock API","locale":"ja","native":"Êó•Êú¨Ë™û"},{"title":"Pointer Lock API","locale":"zh-CN","native":"‰∏≠Êñá (ÁÆÄ‰Ωì)"},{"title":"Pointer Lock API","locale":"zh-TW","native":"Ê≠£È´î‰∏≠Êñá (ÁπÅÈ´î)"}],"source":{"folder":"ru/web/api/pointer_lock_api","github_url":"https://github.com/mdn/translated-content/blob/main/files/ru/web/api/pointer_lock_api/index.html","last_commit_url":"https://github.com/mdn/translated-content/commit/921c46a374ab0a9f4cc809af0370f8c412e54701","filename":"index.html"},"parents":[{"uri":"/ru/docs/Web","title":"–í–µ–±-—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤"},{"uri":"/ru/docs/Web/API","title":"–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –≤–µ–± API"},{"uri":"/ru/docs/Web/API/Pointer_Lock_API","title":"Pointer Lock API"}],"pageTitle":"Pointer Lock API - –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –≤–µ–± API | MDN","noIndexing":false}}</script></body></html>