{"doc":{"isMarkdown":true,"isTranslated":true,"isActive":true,"flaws":{},"title":"Push API","mdn_url":"/ru/docs/Web/API/Push_API","locale":"ru","native":"Русский","sidebarHTML":"<ol><li><strong><a href=\"/ru/docs/Web/API/Push_API\">Push API</a></strong></li><li><strong><a href=\"/ru/docs/Web/API/Push_API\"><code>Push_API</code></a></strong></li><li class=\"toggle\"><details open=\"\"><summary>Похожие страницы для Push API</summary><ol><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/PushEvent\"><code>PushEvent</code> <small>(en-US)</small></a></li><li><a href=\"/ru/docs/Web/API/PushManager\"><code>PushManager</code></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/PushMessageData\"><code>PushMessageData</code> <small>(en-US)</small></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/PushSubscription\"><code>PushSubscription</code> <small>(en-US)</small></a></li><li><a href=\"/ru/docs/Web/API/ServiceWorkerRegistration/pushManager\"><code>ServiceWorkerRegistration.pushManager</code></a></li></ol></details></li></ol>","body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<p><strong>Push API</strong> предоставляет веб-приложениям возможность принимать сообщения с сервера независимо от того, запущено веб-приложение прямо сейчас или нет. Что в свою очередь позволяет разработчикам оперативно уведомлять пользователей, которые разрешили присылать себе уведомления о новом контенте.</p>"}},{"type":"prose","value":{"id":"об_использовании_push_api","title":"Об использовании Push API","isH3":false,"content":"<blockquote>\n  <p><strong>Обратите внимание:</strong> При использовании PushManager-подписок жизненно важно защищать запросы от CSRF/XSRF-атак в вашем приложении. Подробнее читайте по ссылкам:</p>\n  <ul>\n    <li><a href=\"https://cheatsheetseries.owasp.org/cheatsheets/Cross-Site_Request_Forgery_Prevention_Cheat_Sheet.html\" class=\"external\" rel=\" noopener\">Cross-Site Request Forgery (CSRF) Prevention Cheat Sheet</a></li>\n    <li><a href=\"https://blog.codinghorror.com/preventing-csrf-and-xsrf-attacks/\" class=\"external\" rel=\" noopener\">Preventing CSRF and XSRF Attacks</a></li>\n  </ul>\n</blockquote>\n<p>Для получения сообщений от сервера у приложения должен быть активированный <a href=\"/ru/docs/Web/API/Service_Worker_API\">сервис-воркер</a>. После активации у сервис-воркера появится возможность подписаться на канал для получения сообщений, используя <a href=\"/ru/docs/Web/API/PushManager/subscribe\"><code>PushManager.subscribe()</code></a>.</p>\n<p>В результате подписки будет получен объект <a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/PushSubscription\"><code>PushSubscription</code> <small>(en-US)</small></a> со всей необходимой информацией, которая может потребоваться приложению для обращения за сообщениями на сервер: URL-адрес и ключ шифрования.</p>\n<p>После подписки сервис-воркеру можно добавить обработчик <a class=\"page-not-created\" title=\"Документация об этом ещё не написана; пожалуйста, поспособствуйте её написанию!\"><code>ServiceWorkerGlobalScope.onpush</code></a> для получения сообщений от сервера. В качестве реакции на сообщение можно, например, обращаться к серверу за данными и показывать пользователю уведомление с помощью метода <a href=\"/ru/docs/Web/API/ServiceWorkerRegistration/showNotification\"><code>ServiceWorkerRegistration.showNotification()</code></a>.</p>\n<p>Для сервис-воркера каждая подписка уникальна, а её URL-адрес — уникальная <a href=\"https://www.w3.org/TR/capability-urls/\" class=\"external\" rel=\" noopener\">специальная ссылка</a>. Поскольку это всё, что нужно для обращения к серверу, данную ссылку нужно держать в секрете, иначе любое другое приложение сможет воспользоваться вашим сервером.</p>\n<p>Для получения push-сообщений сервис-воркеру требуются ресурсы, что может влиять, например, на расход батареи. Во всех браузерах эти проблемы решаются по-разному, какого-то единого стандарта на этот счёт нет. Например, браузер Firefox ограничивает количество сообщений, которое можно отправить приложению, однако сообщения с показом уведомления в этот лимит не попадают. В Chrome таких ограничений нет.</p>"}},{"type":"prose","value":{"id":"интерфейсы","title":"Интерфейсы","isH3":false,"content":"<dl>\n  <dt id=\"pushevent_en-us\"><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/PushEvent\"><code>PushEvent</code> <small>(en-US)</small></a></dt>\n  <dd>\n    <p>Описывает действие, направленное в <a href=\"/en-US/docs/Web/API/ServiceWorkerGlobalScope\">глобальную область видимости</a> <a href=\"/ru/docs/Web/API/ServiceWorker\" title=\"сервис-воркера\"><code>сервис-воркера</code></a>. Включает информацию, переданную сервером <a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/PushSubscription\"><code>подписчикам</code> <small>(en-US)</small></a>.</p>\n  </dd>\n  <dt id=\"pushmanager\"><a href=\"/ru/docs/Web/API/PushManager\"><code>PushManager</code></a></dt>\n  <dd>\n    <p>Предоставляет возможность подписаться на сообщения от сторонних серверов и получить URL-адрес для отправки push-уведомлений.</p>\n  </dd>\n  <dt id=\"pushmessagedata_en-us\"><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/PushMessageData\"><code>PushMessageData</code> <small>(en-US)</small></a></dt>\n  <dd>\n    <p>Содержит данные, отправленные сервером, и методы для управления ими.</p>\n  </dd>\n  <dt id=\"pushsubscription_en-us\"><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/PushSubscription\"><code>PushSubscription</code> <small>(en-US)</small></a></dt>\n  <dd>\n    <p>Предоставляет возможность получить URL-адрес подписки, а также содержит метод для отписки.</p>\n  </dd>\n  <dt id=\"pushsubscriptionoptions_en-us\"><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/PushSubscriptionOptions\"><code>PushSubscriptionOptions</code> <small>(en-US)</small></a></dt>\n  <dd>\n    <p>Описывает параметры конкретной подписки.</p>\n  </dd>\n</dl>"}},{"type":"prose","value":{"id":"методы_сервис-воркера_для_работы_c_push_api","title":"Методы сервис-воркера для работы c Push API","isH3":false,"content":"<p>Спецификация Push API расширяет <a href=\"/ru/docs/Web/API/Service_Worker_API\">возможности сервис-воркеров</a> для работы с push-сообщениями: позволяет отслеживать и реагировать на такие сообщения, а также следить за изменениями в подписках.</p>\n<dl>\n  <dt id=\"serviceworkerregistration.pushmanager\"><a href=\"/ru/docs/Web/API/ServiceWorkerRegistration/pushManager\"><code>ServiceWorkerRegistration.pushManager</code></a> <span title=\"Это значение изменять нельзя.\" class=\"badge inline readonly\">Только для чтения </span></dt>\n  <dd>\n    <p>Позволяет обратиться к интерфейсу по управлению подписками <a href=\"/ru/docs/Web/API/PushManager\"><code>PushManager</code></a>, в том числе для добавления подписки, получения информации о текущей подписке, а также позволяет узнать о возможности отправки сообщений. Работа с push-сообщениями начинается с этого свойства сервис-воркера.</p>\n  </dd>\n  <dt id=\"serviceworkerglobalscope.onpush\"><a class=\"page-not-created\" title=\"Документация об этом ещё не написана; пожалуйста, поспособствуйте её написанию!\"><code>ServiceWorkerGlobalScope.onpush</code></a></dt>\n  <dd>\n    <p>Обработчик событий, срабатывает всякий раз, когда происходит событие <code><a href=\"/ru/docs/Web/Reference/Events/push\" title=\"This is a link to an unwritten page\" class=\"page-not-created\">push</a></code>; то есть при получении push-сообщений от сервера.</p>\n  </dd>\n  <dt id=\"serviceworkerglobalscope.onpushsubscriptionchange\"><a class=\"page-not-created\" title=\"Документация об этом ещё не написана; пожалуйста, поспособствуйте её написанию!\"><code>ServiceWorkerGlobalScope.onpushsubscriptionchange</code></a></dt>\n  <dd>\n    <p>Обработчик событий, срабатывает всякий раз, когда происходит событие <code><a href=\"/ru/docs/Web/Reference/Events/pushsubscriptionchange\" title=\"This is a link to an unwritten page\" class=\"page-not-created\">pushsubscriptionchange</a></code>; будет полезен в ситуациях, когда подписка была просрочена или вот-вот будет просрочена (при условии, что для подписки был указан срок действия).</p>\n  </dd>\n</dl>"}},{"type":"prose","value":{"id":"примеры","title":"Примеры","isH3":false,"content":"<p>На <a href=\"https://serviceworke.rs/\" class=\"external\" rel=\" noopener\">сайте-инструкции по работе с сервис-воркерами</a> от Mozilla вы найдёте множество примеров использования <strong>Push API</strong>.</p>"}},{"type":"prose","value":{"id":"спецификации","title":"Спецификации","isH3":false,"content":"<table>\n  <thead>\n    <tr>\n      <th>Спецификация</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <td><a href=\"https://w3c.github.io/push-api/\" class=\"external\" rel=\" noopener\">Push API</a></td>\n    </tr>\n  </tbody>\n</table>"}},{"type":"prose","value":{"id":"поддержка_браузерами","title":"Поддержка браузерами","isH3":false,"content":""}},{"type":"browser_compatibility","value":{"title":"PushEvent","id":"pushevent","isH3":true,"query":"api.PushEvent","dataURL":"/ru/docs/Web/API/Push_API/bcd.json"}},{"type":"browser_compatibility","value":{"title":"PushMessageData","id":"pushmessagedata","isH3":true,"query":"api.PushMessageData","dataURL":"/ru/docs/Web/API/Push_API/bcd-2.json"}},{"type":"prose","value":{"id":"смотрите_также","title":"Смотрите также","isH3":false,"content":"<ul>\n  <li><a href=\"https://blog.mozilla.org/services/2016/08/23/sending-vapid-identified-webpush-notifications-via-mozillas-push-service/\" class=\"external\" rel=\" noopener\">Sending VAPID identified WebPush Notifications via Mozilla's Push Service</a></li>\n  <li><a href=\"https://developers.google.com/web/fundamentals/engage-and-retain/push-notifications/\" class=\"external\" rel=\" noopener\">Web Push Notifications: Timely, Relevant, and Precise</a>, Joseph Medley</li>\n  <li><a href=\"/en-US/docs/Web/API/Service_Worker_API\">Service Worker API</a></li>\n</ul>"}}],"toc":[{"text":"Об использовании Push API","id":"об_использовании_push_api"},{"text":"Интерфейсы","id":"интерфейсы"},{"text":"Методы сервис-воркера для работы c Push API","id":"методы_сервис-воркера_для_работы_c_push_api"},{"text":"Примеры","id":"примеры"},{"text":"Спецификации","id":"спецификации"},{"text":"Поддержка браузерами","id":"поддержка_браузерами"},{"text":"Смотрите также","id":"смотрите_также"}],"summary":"Push API предоставляет веб-приложениям возможность принимать сообщения с сервера независимо от того, запущено веб-приложение прямо сейчас или нет. Что в свою очередь позволяет разработчикам оперативно уведомлять пользователей, которые разрешили присылать себе уведомления о новом контенте.","popularity":0.0004,"modified":"2022-10-01T03:41:16.000Z","other_translations":[{"title":"Push API","locale":"en-US","native":"English (US)"},{"title":"Push API","locale":"es","native":"Español"},{"title":"Push API","locale":"fr","native":"Français"},{"title":"Push API","locale":"ja","native":"日本語"},{"title":"Push API","locale":"ko","native":"한국어"},{"title":"API Push","locale":"pt-BR","native":"Português (do Brasil)"},{"title":"开发式平台","locale":"zh-CN","native":"中文 (简体)"}],"source":{"folder":"ru/web/api/push_api","github_url":"https://github.com/mdn/translated-content/blob/main/files/ru/web/api/push_api/index.md","last_commit_url":"https://github.com/mdn/translated-content/commit/921c46a374ab0a9f4cc809af0370f8c412e54701","filename":"index.md"},"parents":[{"uri":"/ru/docs/Web","title":"Веб-технологии для разработчиков"},{"uri":"/ru/docs/Web/API","title":"Интерфейсы веб API"},{"uri":"/ru/docs/Web/API/Push_API","title":"Push API"}],"pageTitle":"Push API - Интерфейсы веб API | MDN","noIndexing":false}}