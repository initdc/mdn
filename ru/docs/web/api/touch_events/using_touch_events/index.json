{"doc":{"isMarkdown":false,"isTranslated":true,"isActive":true,"flaws":{},"title":"Использование событий касания","mdn_url":"/ru/docs/Web/API/Touch_events/Using_Touch_Events","locale":"ru","native":"Русский","sidebarHTML":"<ol><li><strong><a href=\"/ru/docs/Web/API/Touch_events\">Touch events</a></strong></li><li class=\"toggle\"><details open=\"\"><summary>Руководства</summary><ol><li><a href=\"/ru/docs/Web/API/Touch_events/Using_Touch_Events\">Using Touch Events</a></li><li><a href=\"/ru/docs/Web/API/Touch_events/Multi-touch_interaction\">Multi-touch interaction</a></li><li><a href=\"/ru/docs/Web/API/Pointer_events\">Pointer events</a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>Интерфейсы</summary><ol><li><a href=\"/ru/docs/Web/API/Touch\"><code>Touch</code></a></li><li><a href=\"/ru/docs/Web/API/TouchEvent\"><code>TouchEvent</code></a></li><li><a href=\"/ru/docs/Web/API/TouchList\"><code>TouchList</code></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>События</summary><ol><li><a href=\"/ru/docs/Web/API/Element/touchcancel_event\"><code>Element</code>: <code>touchcancel</code></a></li><li><a href=\"/ru/docs/Web/API/Element/touchend_event\"><code>Element</code>: <code>touchend</code></a></li><li><a href=\"/ru/docs/Web/API/Element/touchmove_event\"><code>Element</code>: <code>touchmove</code></a></li><li><a href=\"/ru/docs/Web/API/Element/touchstart_event\"><code>Element</code>: <code>touchstart</code></a></li></ol></details></li></ol>","body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<p></p><p></p>\n\n<p>На сегодняшний день бо́льшая часть содержимого в вебе рассчитана на работу с использованием клавиатуры и мыши. Тем не менее, всё больше появляется устройств с сенсорным экраном (особенно мобильных) и веб-приложения могут либо напрямую обрабатывать сенсорный ввод с помощью <a href=\"/ru/docs/Web/API/Touch_events\" title=\"Событий касаний\"><code>Событий касаний</code></a>, либо интерпретировать события мыши. Недостатком использования событий мыши является то, что они не поддерживают одновременный ввод, тогда как события касаний поддерживают несколько одновременных прикосновений (возможно в разных местах сенсорной поверхности), повышая тем самым удобство работы с интерфейсом.</p>\n\n<p>Интерфейсы событий касания поддерживают взаимодействие с приложением с помощью одного или нескольких одновременных прикосновений, такие как жест двумя пальцами. Взаимодействие с помощью нескольких одновременных прикосновений начинается, когда палец (или стилус) впервые касается контактной поверхности. Другие пальцы могут последовательно касаться поверхности и, если нужно, перемещаться по ней. Взаимодействие заканчивается, когда пальцы убираются с поверхности. На протяжении этого взаимодействия приложение получает события касания на начальной стадии, стадии перемещения и стадии завершения. Приложение может применять собственную семантику к сенсорному вводу.</p>"}},{"type":"prose","value":{"id":"интерфейсы","title":"Интерфейсы","isH3":false,"content":"<p>События касаний включают три интерфейса <a href=\"/ru/docs/Web/API/Touch\"><code>Touch</code></a>, <a href=\"/ru/docs/Web/API/TouchEvent\"><code>TouchEvent</code></a> и <a href=\"/ru/docs/Web/API/TouchList\"><code>TouchList</code></a>, а также следующие типы событий</p>\n\n<ul>\n <li><code><a href=\"/en-US/docs/Web/API/Element/touchstart_event\" title=\"Currently only available in English (US)\" class=\"only-in-en-us\">touchstart (en-US)</a></code> - вызывается в момент касания сенсорной поверхности</li>\n <li><code><a href=\"/en-US/docs/Web/API/Element/touchmove_event\" title=\"Currently only available in English (US)\" class=\"only-in-en-us\">touchmove (en-US)</a></code> - вызывается при перемещении по сенсорной поверхности</li>\n <li><code><a href=\"/en-US/docs/Web/API/Element/touchend_event\" title=\"Currently only available in English (US)\" class=\"only-in-en-us\">touchend (en-US)</a></code> - вызывается, если убрали палец</li>\n <li><code><a href=\"/en-US/docs/Web/API/Element/touchcancel_event\" title=\"Currently only available in English (US)\" class=\"only-in-en-us\">touchcancel (en-US)</a></code> -  вызывается в  момент прерывания события (например, создано слишком много точек касания).</li>\n</ul>\n\n<p>Интерфейс <a href=\"/ru/docs/Web/API/Touch\"><code>Touch</code></a> представляет собой одну точка контакта с сенсорной поверхностью. Точка контакта обычно называется точкой касания или просто касанием. Касание обычно генерируется пальцем или стилусом на сенсорной поверхности. <a href=\"/docs/Web/API/Touch#properties\">Свойства</a> точки касания включают уникальный идентификатор, целевой элемент точки касания, а также координаты X и Y точки касания относительно области видимости, страницы или экрана.</p>\n\n<p>Интерфейс <a href=\"/ru/docs/Web/API/TouchList\"><code>TouchList</code></a> представляет список точек контакта с сенсорной поверхностью, по одной точке касания на каждый контакт с поверхностью. Таким образом, если пользователь активировал сенсорную поверхность одним пальцем, список будет содержать один элемент, а если пользователь прикоснулся к поверхности тремя пальцами, в списке будет три элемента.</p>\n\n<p>Интерфейс <a href=\"/ru/docs/Web/API/TouchEvent\"><code>TouchEvent</code></a> представляет событие, которое отправляется, когда меняется состояние контактов с сенсорной поверхностью. Изменения состояния включают начальный контакт с сенсорной поверхностью, перемещение точки касания при сохранении контакта с поверхностью, отпускание точки касания и прерывание события касания. Атрибуты интерфейса включают состояние нескольких клавиш-модификаторов (например, клавиши <kbd>Shift</kbd>) и следующий список данных:</p>\n\n<ul>\n <li><a href=\"/ru/docs/Web/API/TouchEvent/touches\" title=\"touches\"><code>touches</code></a> - список всех точек касания, находящихся в данный момент на экране</li>\n <li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/TouchEvent/targetTouches\"><code>targetTouches</code> <small>(en-US)</small></a> - список точек касания на целевом DOM-элементе</li>\n <li><a href=\"/ru/docs/Web/API/TouchEvent/changedTouches\" title=\"changedTouches\"><code>changedTouches</code></a> - список точек касания, элементы которых зависят от типа связанного события:\n  <ul>\n   <li>Для события <code><a href=\"/en-US/docs/Web/API/Element/touchstart_event\" title=\"Currently only available in English (US)\" class=\"only-in-en-us\">touchstart (en-US)</a></code> - список точек касания, которые стали активными во время события</li>\n   <li>Для события <code><a href=\"/en-US/docs/Web/API/Element/touchmove_event\" title=\"Currently only available in English (US)\" class=\"only-in-en-us\">touchmove (en-US)</a></code> - список точек касания, которые изменились с последнего события</li>\n   <li>Для события <code><a href=\"/en-US/docs/Web/API/Element/touchend_event\" title=\"Currently only available in English (US)\" class=\"only-in-en-us\">touchend (en-US)</a></code> - список точек касания, которые были удалены с поверхности (то есть, набор точек касания, соответствующих пальцам, которые больше не касаются поверхности)</li>\n  </ul>\n </li>\n</ul>\n\n<p>Вместе эти интерфейсы определяют относительно низкоуровневый набор функций, но при этом поддерживают множество видов взаимодействия с помощью касаний, включая знакомые жесты с несколькими касаниями, такие как пролистывание несколькими пальцами, вращение, сжатие и масштабирование.</p>"}},{"type":"prose","value":{"id":"от_интерфейсов_к_жестам","title":"От интерфейсов к жестам","isH3":false,"content":"<p>При определении семантики жеста, приложение может учитывать различные факторы. Например, расстояние, которое прошла точка от начала до конца касания. Другим возможным фактором может быть время, например, количество времени между началом касания и завершением, или количество времени между двумя последовательными касаниями, предназначенными для создания жеста двойного нажатия. Направленность свайпа (например, слева направо, справа налево и т.д) является ещё одним фактором.</p>\n\n<p>Списки касаний, которые использует приложение, зависят от семантики его жестов. Например, если приложение поддерживает однократное касание (тап) одного элемента, будет использоваться список <a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/TouchEvent/targetTouches\"><code>targetTouches</code> <small>(en-US)</small></a> в обработчике события <code><a href=\"/en-US/docs/Web/API/Element/touchstart_event\" title=\"Currently only available in English (US)\" class=\"only-in-en-us\">touchstart (en-US)</a></code> для обработки точки касания в свойственной приложению манере. Если приложение поддерживает свайп двумя пальцами для любых двух точек касания, оно будет использовать список <a href=\"/ru/docs/Web/API/TouchEvent/changedTouches\" title=\"changedTouches\"><code>changedTouches</code></a> в обработчике <code><a href=\"/en-US/docs/Web/API/Element/touchmove_event\" title=\"Currently only available in English (US)\" class=\"only-in-en-us\">touchmove (en-US)</a></code> для того, чтобы определить, были ли перемещены эти две точки касания, а затем реализовать семантику этого жеста в свойственной приложению манере.</p>\n\n<p>Когда есть только одна активная точка касания, браузер обычно отправляет эмулированные события и мыши и клика. Мультитач-действия, включающие две и больше активных точек касания, обычно генерируют только события касания. Чтобы предотвратить отправку эмулированных событий мыши, используйте метод <a href=\"/ru/docs/Web/API/Event/preventDefault\" title=\"preventDefault()\"><code>preventDefault()</code></a> в обработчиках событий касания. Дополнительную информацию о взаимодействии между событиями мыши и событиями касаний можно найти в статье <a href=\"/ru/docs/conflicting/Web/API/Pointer_events\" title=\"Поддержка TouchEvent и MouseEvent\"><code>Поддержка TouchEvent и MouseEvent</code></a>.</p>"}},{"type":"prose","value":{"id":"основные_шаги","title":"Основные шаги","isH3":false,"content":"<p>Этот раздел содержит пример базового использования приведённых выше интерфейсов. Более подробный пример можно найти в статье <a href=\"/ru/docs/Web/API/Touch_events\" title=\"События касаний (тач-события)\"><code>События касаний (тач-события)</code></a>.</p>\n\n<p>Назначьте обработчик событий для каждого типа события касания.</p>\n\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token comment\">// Назначение обработчика событий касания</span>\nsomeElement<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'touchstart'</span><span class=\"token punctuation\">,</span> process_touchstart<span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nsomeElement<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'touchmove'</span><span class=\"token punctuation\">,</span> process_touchmove<span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nsomeElement<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'touchcancel'</span><span class=\"token punctuation\">,</span> process_touchcancel<span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nsomeElement<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'touchend'</span><span class=\"token punctuation\">,</span> process_touchend<span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n\n<p>Обработчик события, реализующий семантику жестов приложения</p>\n\n<pre class=\"notranslate\">// Обработчик touchstart\nfunction process_touchstart(ev) {\n  // Используется данные события, чтобы вызвать соответствующие обработчики жестов\n  switch (ev.touches.length) {\n    case 1: handle_one_touch(ev); break;\n    case 2: handle_two_touches(ev); break;\n    case 3: handle_three_touches(ev); break;\n    default: gesture_not_supported(ev); break;\n  }\n}\n</pre>\n\n<p>Доступ к атрибутам точки касания.</p>\n\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token comment\">// Создание обработчика события \"touchstart\"</span>\nsomeElement<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'touchstart'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">ev</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// Перебор точек события, которые были активированы</span>\n  <span class=\"token comment\">// для этого элемента и обработка каждого целевого элемента события</span>\n  <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">var</span> i<span class=\"token operator\">=</span><span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> ev<span class=\"token punctuation\">.</span>targetTouches<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">process_target</span><span class=\"token punctuation\">(</span>ev<span class=\"token punctuation\">.</span>targetTouches<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>target<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n\n<p>Предотвращение эмуляции событий мыши</p>\n\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token comment\">// Обработчик события \"touchmove\"</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">process_touchmove</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">ev</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// Вызов \"preventDefault()\"</span>\n  ev<span class=\"token punctuation\">.</span><span class=\"token function\">preventDefault</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>"}},{"type":"prose","value":{"id":"лучшие_практики","title":"Лучшие практики","isH3":false,"content":"<p>Вот несколько моментов, которых следует придерживаться при работе с событиями касаний:</p>\n\n<ul>\n <li>Сводите к минимуму объём работы, выполняемой в обработчиках касаний</li>\n <li>Добавляйте обработчики точек касаний к определённому целевому элементу, а не ко всему документу или узлам, расположенным выше в дереве</li>\n <li>Добавляйте обработчики событий <code><a href=\"/en-US/docs/Web/API/Element/touchmove_event\" title=\"Currently only available in English (US)\" class=\"only-in-en-us\">touchmove (en-US)</a></code>, <code><a href=\"/en-US/docs/Web/API/Element/touchend_event\" title=\"Currently only available in English (US)\" class=\"only-in-en-us\">touchend (en-US)</a></code> и <code><a href=\"/en-US/docs/Web/API/Element/touchcancel_event\" title=\"Currently only available in English (US)\" class=\"only-in-en-us\">touchcancel (en-US)</a></code> внутрь <code><a href=\"/en-US/docs/Web/API/Element/touchstart_event\" title=\"Currently only available in English (US)\" class=\"only-in-en-us\">touchstart (en-US)</a></code>.</li>\n <li>Целевой элемент или узел для события касания должен быть достаточно большим, для касания пальцем. Если целевая область слишком мала, прикосновений к ней может привести к вызову событий для других прилегающих элементов.</li>\n</ul>"}},{"type":"prose","value":{"id":"поддержка_браузерами","title":"Поддержка браузерами","isH3":false,"content":"<p>Согласно <a href=\"/docs/Web/API/Touch_events#browser_compatibility\">данным о совместимости с браузерами</a>, поддержка событий касания среди мобильных браузеров относительно неплохая. Десктопные браузеры немного отстают, хотя над этим уже ведётся работа. </p>\n\n<p>Некоторые новые функции, связанные с областью касания (областью контакта между пользователем и сенсорной поверхностью) - находятся в процессе стандартизации. Новый функционал включает в себя радиусы эллипса по осям X и Y, которые наиболее точно описывают область контакта с сенсорной поверхностью. <em>Угол поворота</em> точки касания - градус, на который нужно повернуть упомянутый эллипс, чтобы соответствовать области контакта - также стандартизирован, как и степень давления в точке касания.</p>"}},{"type":"prose","value":{"id":"а_что_насчёт_событий_указателя","title":"А что насчёт Событий Указателя?","isH3":false,"content":"<p>Внедрение новых механизмов ввода усложняет обработку всех возможных событий, таких как события клавиатуры, мыши, пера, касаний. Чтобы помочь решить эту проблему, <a href=\"https://www.w3.org/TR/pointerevents/\" class=\"external\" rel=\" noopener\">стандарт \"Pointer Events\"</a> определяет события и связанные с ними интерфейсы для обработки ввода с таких указывающих устройств, как мышь, перо, сенсорный экран и т.д. То есть, абстрактный <em>указатель</em> создаёт унифицированную модель ввода, которая может представлять точку контакта пальца, пера/стилуса или мыши. Подробнее в MDN-статье <a href=\"/ru/docs/Web/API/Pointer_events\">События указателя</a>.</p>\n\n<p>Модель событий указателя может упростить обработку разных способов ввода, поскольку указатель представляет ввод с любого устройства. В дополнение к этому, типы событий указателя очень похожи на типы событий мыши (например, <code>pointerdown</code> <code>pointerup</code>), таким образом, код для обработки событий указателя полностью совпадает с кодом обработки ввода с помощью мыши.</p>\n\n<p>Статус реализации событий указателя в браузерах <a href=\"/ru/docs/Web\">относительно высок</a>, поскольку Chrome, Firefox, IE11 и Edge имеют полные реализации.</p>"}},{"type":"prose","value":{"id":"примеры","title":"Примеры","isH3":false,"content":"<p>Следующие документы описывают, как использовать события касаний и включают код с примерами</p>\n\n<ul>\n <li><a href=\"/ru/docs/Web/API/Touch_events\" title=\"События касаний\"><code>События касаний</code></a></li>\n <li><a href=\"https://developers.google.com/web/fundamentals/design-and-ui/input/touch/touch-events\" class=\"external\" rel=\" noopener\">Реализация кастомных жестов</a></li>\n <li><a href=\"http://www.javascriptkit.com/javatutors/touchevents.shtml\" class=\"external\" rel=\" noopener\">Введение в события касаний в JavaScript</a></li>\n <li><a href=\"https://www.codicode.com/art/easy_way_to_add_touch_support_to_your_website.aspx\" class=\"external\" rel=\" noopener\">Добавление поддержки сенсорных экранов на сайта (простой способ)</a></li>\n</ul>\n\n<p>Демонстрация событий касания:</p>\n\n<ul>\n <li><a href=\"https://rbyers.github.io/paint.html\" class=\"external\" rel=\" noopener\">Paint Program (by Rick Byers)</a></li>\n <li><a href=\"http://patrickhlauke.github.io/touch/\" class=\"external\" rel=\" noopener\">Touch/pointer tests and demos (by Patrick H. Lauke)</a></li>\n</ul>"}},{"type":"prose","value":{"id":"сообщество","title":"Сообщество","isH3":false,"content":"<ul>\n <li><a href=\"https://github.com/w3c/touch-events\" class=\"external\" rel=\" noopener\">Группа сообщества Событий касания</a></li>\n <li><a href=\"https://lists.w3.org/Archives/Public/public-touchevents/\" class=\"external\" rel=\" noopener\">Mail list</a></li>\n <li><a href=\"irc://irc.w3.org:6667/\">W3C #touchevents IRC channel</a></li>\n</ul>"}},{"type":"prose","value":{"id":"связанные_темы_и_источники","title":"Связанные темы и источники","isH3":false,"content":"<ul>\n <li><a href=\"https://www.w3.org/TR/pointerevents/\" class=\"external\" rel=\" noopener\">Стандарт \"Pointer Events\"</a></li>\n</ul>"}}],"toc":[{"text":"Интерфейсы","id":"интерфейсы"},{"text":"От интерфейсов к жестам","id":"от_интерфейсов_к_жестам"},{"text":"Основные шаги","id":"основные_шаги"},{"text":"Лучшие практики","id":"лучшие_практики"},{"text":"Поддержка браузерами","id":"поддержка_браузерами"},{"text":"А что насчёт Событий Указателя?","id":"а_что_насчёт_событий_указателя"},{"text":"Примеры","id":"примеры"},{"text":"Сообщество","id":"сообщество"},{"text":"Связанные темы и источники","id":"связанные_темы_и_источники"}],"summary":"На сегодняшний день бо́льшая часть содержимого в вебе рассчитана на работу с использованием клавиатуры и мыши. Тем не менее, всё больше появляется устройств с сенсорным экраном (особенно мобильных) и веб-приложения могут либо напрямую обрабатывать сенсорный ввод с помощью Событий касаний, либо интерпретировать события мыши. Недостатком использования событий мыши является то, что они не поддерживают одновременный ввод, тогда как события касаний поддерживают несколько одновременных прикосновений (возможно в разных местах сенсорной поверхности), повышая тем самым удобство работы с интерфейсом.","popularity":0.0004,"modified":"2022-10-01T03:41:16.000Z","other_translations":[{"title":"Using Touch Events","locale":"en-US","native":"English (US)"},{"title":"使用触摸事件","locale":"zh-CN","native":"中文 (简体)"}],"source":{"folder":"ru/web/api/touch_events/using_touch_events","github_url":"https://github.com/mdn/translated-content/blob/main/files/ru/web/api/touch_events/using_touch_events/index.html","last_commit_url":"https://github.com/mdn/translated-content/commit/921c46a374ab0a9f4cc809af0370f8c412e54701","filename":"index.html"},"parents":[{"uri":"/ru/docs/Web","title":"Веб-технологии для разработчиков"},{"uri":"/ru/docs/Web/API","title":"Интерфейсы веб API"},{"uri":"/ru/docs/Web/API/Touch_events","title":"События касаний (тач-события)"},{"uri":"/ru/docs/Web/API/Touch_events/Using_Touch_Events","title":"Использование событий касания"}],"pageTitle":"Использование событий касания - Интерфейсы веб API | MDN","noIndexing":false}}