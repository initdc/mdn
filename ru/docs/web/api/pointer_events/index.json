{"doc":{"isMarkdown":false,"isTranslated":true,"isActive":true,"flaws":{},"title":"События указателя","mdn_url":"/ru/docs/Web/API/Pointer_events","locale":"ru","native":"Русский","sidebarHTML":"<ol><li><strong><a href=\"/ru/docs/Web/API/Pointer_events\">Pointer events</a></strong></li><li class=\"toggle\"><details open=\"\"><summary>Руководства</summary><ol><li><a href=\"/ru/docs/Web/API/Pointer_events/Using_Pointer_Events\">Using Pointer Events</a></li><li><a href=\"/ru/docs/Web/API/Pointer_events/Multi-touch_interaction\">Multi-touch interaction</a></li><li><a href=\"/ru/docs/Web/API/Pointer_events/Pinch_zoom_gestures\">Pinch zoom gestures</a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>Интерфейсы</summary><ol><li><a href=\"/ru/docs/Web/API/PointerEvent\"><code>PointerEvent</code></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>Свойства</summary><ol><li><a href=\"/ru/docs/Web/API/Navigator/maxTouchPoints\"><code>Navigator.maxTouchPoints</code></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>Методы</summary><ol><li><a href=\"/ru/docs/Web/API/Element/setPointerCapture\"><code>Element.setPointerCapture()</code></a></li><li><a href=\"/ru/docs/Web/API/Element/releasePointerCapture\"><code>Element.releasePointerCapture()</code></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>События</summary><ol><li><a href=\"/ru/docs/Web/API/HTMLElement/gotpointercapture_event\"><code>HTMLElement</code>: <code>gotpointercapture</code></a></li><li><a href=\"/ru/docs/Web/API/HTMLElement/lostpointercapture_event\"><code>HTMLElement</code>: <code>lostpointercapture</code></a></li><li><a href=\"/ru/docs/Web/API/HTMLElement/pointercancel_event\"><code>HTMLElement</code>: <code>pointercancel</code></a></li><li><a href=\"/ru/docs/Web/API/HTMLElement/pointerdown_event\"><code>HTMLElement</code>: <code>pointerdown</code></a></li><li><a href=\"/ru/docs/Web/API/HTMLElement/pointerenter_event\"><code>HTMLElement</code>: <code>pointerenter</code></a></li><li><a href=\"/ru/docs/Web/API/HTMLElement/pointerleave_event\"><code>HTMLElement</code>: <code>pointerleave</code></a></li><li><a href=\"/ru/docs/Web/API/HTMLElement/pointermove_event\"><code>HTMLElement</code>: <code>pointermove</code></a></li><li><a href=\"/ru/docs/Web/API/HTMLElement/pointerout_event\"><code>HTMLElement</code>: <code>pointerout</code></a></li><li><a href=\"/ru/docs/Web/API/HTMLElement/pointerover_event\"><code>HTMLElement</code>: <code>pointerover</code></a></li><li><a href=\"/ru/docs/Web/API/HTMLElement/pointerup_event\"><code>HTMLElement</code>: <code>pointerup</code></a></li></ol></details></li></ol>","body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<p></p><p></p>\n\n<p>Бо́льшая часть современного веб-контента предполагает, что указывающим устройством пользователя является мышь. Но поскольку многие устройства поддерживают другие типы указателей, таких как перо/стилус или сенсорная поверхность, возникает необходимость в расширении существующих событий указывающих устройств. Эту потребность удовлетворяют <em><a href=\"#term_pointer_event\">События указателя</a></em>.</p>\n\n<p>События указателя – это события DOM, которые вызываются для указывающего устройства. Они предназначены для создания единой модели обработки действий мыши, пера/стилуса или касания (одним или несколькими пальцами).</p>\n\n<p><em><a href=\"#term_pointer\">Указывающее устройство</a> – </em>это устройство, способное нацеливаться на определённый набор координат экрана. Наличие единой модели событий для указывающих устройств позволяет разработчикам проще создавать веб-сайты и приложения, а пользователям обеспечивает удобство использования вне зависимости от устройства.</p>\n\n<p>События, необходимые для обработки общего ввода указывающих устройств, аналогичны <a href=\"/ru/docs/Web/API/MouseEvent\" title=\"событиям мыши\"><code>событиям мыши</code></a> (<code>mousedown</code>/<code>pointerdown</code>, <code>mousemove</code>/<code>pointermove</code>, и так далее.). Следовательно, типы событий указывающих устройств намеренно похожи на события мыши.</p>\n\n<p>В дополнение к обычным свойствам, представленным и в событиях мыши (координаты, целевой элемент, состояния кнопок и так далее) события ввода у разных указывающих устройств содержат и уникальные свойства: степень давления, форма области контакта, наклон и так далее. На самом деле, интерфейс <a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/PointerEvent\"><code>PointerEvent</code> <small>(en-US)</small></a> наследует все свойства <a href=\"/ru/docs/Web/API/MouseEvent\"><code>MouseEvent</code></a>, облегчая так образом перенос содержимого из событий мыши в события указывающего устройства.</p>"}},{"type":"prose","value":{"id":"терминология","title":"Терминология","isH3":false,"content":"<dl>\n <dt id=\"состояние_активных_кнопок\">Состояние активных кнопок</dt>\n <dd>Ситуация, когда <em><a href=\"#term_pointer\">указывающее устройство</a> </em>имеет ненулевое значение свойства <code>buttons</code>. Например, в случае с пером, это ситуация, когда перо физически контактирует с сенсорной поверхностью. или хотя бы одна кнопка нажата при наведении курсора.</dd>\n <dt id=\"активное_указывающее_устройство\">Активное указывающее устройство</dt>\n <dd>Любое <em><a href=\"#term_pointer\">указывающее</a></em> устройство ввода, которое может производить события. Указывающее устройство считается активным, пока может производить события. Например, перо, которым коснулись экрана, считается активным, поскольку может производить дополнительные события при поднятии или перемещении.</dd>\n <dt id=\"term_digitizer\">Графический планшет (диджитайзер)</dt>\n <dd>Устройство с чувствительным покрытием, которое может фиксировать контакт. Чаще всего, это устройство с сенсорным экраном, который может распознавать касания указывающего устройства, такого как перо, стилус или палец. Некоторые сенсорные устройства могут определять приближение указателя и представлять это состояние как наведение мыши.</dd>\n <dt id=\"term_hit_test\">Тест попадания (hit test)</dt>\n <dd>Процесс, который браузер использует при определении целевого элемента для события указывающего устройства. Обычно заключается в сопоставлении позиции указателя и визуальной области элементов на экране.</dd>\n <dt id=\"term_pointer\">Указатель (указывающее устройство)</dt>\n <dd>Представление устройства ввода, которое может нацеливаться на определённую координату (или набор координат) на экране. Примером указателя может быть мышь, перо/стилус и прикосновение.</dd>\n <dt id=\"захват_указателя\">Захват указателя</dt>\n <dd>Захват указателя позволяет событиям этого указателя быть перенаправленными на элемент, отличный обычного результата проверки попадания (hit test)</dd>\n <dt id=\"term_pointer_event\">Событие указателя</dt>\n <dd><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/PointerEvent\"><code>Событие</code> <small>(en-US)</small></a> DOM , вызванное для <em><a href=\"#term_pointer\">указателя</a></em>.</dd>\n</dl>"}},{"type":"prose","value":{"id":"интерфейсы","title":"Интерфейсы","isH3":false,"content":"<p>Основным интерфейсом является <a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/PointerEvent\"><code>PointerEvent</code> <small>(en-US)</small></a>, который имеет <a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/PointerEvent/PointerEvent\"><code>constructor</code> <small>(en-US)</small></a> плюс несколько типов событий и связанные с ними глобальные обработчики событий.</p>\n\n<p>Стандарт также включает некоторые расширения для интерфейсов <a href=\"/ru/docs/Web/API/Element\"><code>Element</code></a> и <a href=\"/ru/docs/Web/API/Navigator\"><code>Navigator</code></a>.</p>\n\n<p>Следующие подразделы содержат краткое описание каждого интерфейса и свойства.</p>"}},{"type":"prose","value":{"id":"интерфейс_pointerevent","title":"Интерфейс PointerEvent","isH3":true,"content":"<p>Интерфейс <a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/PointerEvent\"><code>PointerEvent</code> <small>(en-US)</small></a> расширяет интерфейс <a href=\"/ru/docs/Web/API/MouseEvent\"><code>MouseEvent</code></a> и имеет следующие свойства. Все следующие свойства доступны <span title=\"Это значение изменять нельзя.\" class=\"badge inline readonly\">Только для чтения </span>.</p>\n\n<dl>\n <dt id=\"pointerid_en-us\"><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/PointerEvent/pointerId\"><code>pointerId</code> <small>(en-US)</small></a></dt>\n <dd>Уникальный идентификатор указателя, вызвавшего событие</dd>\n <dt id=\"width_en-us\"><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/PointerEvent/width\"><code>width</code> <small>(en-US)</small></a></dt>\n <dd>Ширина (величина по оси X) в пикселях CSS области контакта указателя с сенсорной поверхностью.</dd>\n <dt id=\"height_en-us\"><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/PointerEvent/height\"><code>height</code> <small>(en-US)</small></a></dt>\n <dd>Высота (величина по оси Y) в пикселях CSS области контакта указателя с сенсорной поверхностью.</dd>\n <dt id=\"pressure_en-us\"><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/PointerEvent/pressure\"><code>pressure</code> <small>(en-US)</small></a></dt>\n <dd>Степень давления указателя в диапазоне от <code>0</code> до <code>1</code>, где <code>0</code> – минимальное, а <code>1</code> – максимальное значение давления, которое способно обработать устройство.</dd>\n <dt id=\"tangentialpressure_en-us\"><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/PointerEvent/tangentialPressure\"><code>tangentialPressure</code> <small>(en-US)</small></a></dt>\n <dd>Степень тангенциального давления в диапазоне от <code>0</code> до <code>1</code>, где <code>0</code> – минимальное, а <code>1</code> – максимальное значение давления, которое способно обработать устройство..</dd>\n <dt id=\"tiltx_en-us\"><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/PointerEvent/tiltX\"><code>tiltX</code> <small>(en-US)</small></a></dt>\n <dd>Угол (в градуса, в диапазоне от <code>-90</code> до <code>90</code>) между плоскостью Y-Z и плоскостью, содержащей как ось указателя (например, пера\\стилуса), так и ось Y</dd>\n <dt id=\"tilty_en-us\"><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/PointerEvent/tiltY\"><code>tiltY</code> <small>(en-US)</small></a></dt>\n <dd>Угол (в градуса, в диапазоне от <code>-90</code> до <code>90</code>) между плоскостью X-Z и плоскостью, содержащей как ось указателя (например, пера\\стилуса), так и ось X</dd>\n <dt id=\"twist_en-us\"><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/PointerEvent/twist\"><code>twist</code> <small>(en-US)</small></a></dt>\n <dd>Поворот указывающего устройства (например, пера или стилуса) по часовой стрелке вокруг основной оси в градусах в диапазоне от<code> </code>0 до <code>359</code></dd>\n <dt id=\"pointertype_en-us\"><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/PointerEvent/pointerType\"><code>pointerType</code> <small>(en-US)</small></a></dt>\n <dd>Указывает на тип устройства, которое вызвало событие (мышь, перо, касание и т.д)</dd>\n <dt id=\"isprimary_en-us\"><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/PointerEvent/isPrimary\"><code>isPrimary</code> <small>(en-US)</small></a></dt>\n <dd>Указывает, является ли указывающее устройство основным для данного типа</dd>\n</dl>"}},{"type":"prose","value":{"id":"типы_событий_и_глобальные_обработчики_событий","title":"Типы событий и Глобальные Обработчики Событий","isH3":true,"content":"<p>События указателя имеют 10 типов, 7 из которых похожи на аналогичные события мыши (<code>down</code>, <code>up</code>, <code>move</code>, <code>over</code>, <code>out</code>, <code>enter</code> и <code>leave</code>).</p>\n\n<p>Ниже представлено короткое описание для каждого типа события и связанный <a href=\"/ru/docs/orphaned/Web/API/GlobalEventHandlers\" title=\"Глобальный обработчик события\"><code>Глобальный обработчик события</code></a>.</p>\n\n<table class=\"standard-table\">\n <thead>\n  <tr>\n   <th scope=\"col\">Событие</th>\n   <th scope=\"col\">Обработчик события</th>\n   <th scope=\"col\">Описание</th>\n  </tr>\n </thead>\n <tbody>\n  <tr>\n   <td><code><a href=\"/ru/docs/Web/Reference/Events/pointerover\" title=\"This is a link to an unwritten page\" class=\"page-not-created\">pointerover</a></code></td>\n   <td><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/Element/pointerover_event\"><code>onpointerover</code> <small>(en-US)</small></a></td>\n   <td>Вызывается, когда указатель появляется в пределах элемента (его <a href=\"#term_hit_test\">теста попадания</a>).</td>\n  </tr>\n  <tr>\n   <td><code><a href=\"/ru/docs/Web/Reference/Events/pointerenter\" title=\"This is a link to an unwritten page\" class=\"page-not-created\">pointerenter</a></code></td>\n   <td><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/Element/pointerenter_event\"><code>onpointerenter</code> <small>(en-US)</small></a></td>\n   <td>Вызывается, когда указатель перемещается в пределы элемента (его <a href=\"#term_hit_test\">теста попадания</a>) или одного из его потомков, в том числе в результате события <code>pointerdown</code> с устройства, которе не поддерживает наведение \"hover\" (смотрите <code>pointerdown</code>).</td>\n  </tr>\n  <tr>\n   <td><code><a href=\"/ru/docs/Web/Reference/Events/pointerdown\" title=\"This is a link to an unwritten page\" class=\"page-not-created\">pointerdown</a></code></td>\n   <td><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/Element/pointerdown_event\"><code>onpointerdown</code> <small>(en-US)</small></a></td>\n   <td>Вызывается, когда указатель принимает состояние активных кнопок.</td>\n  </tr>\n  <tr>\n   <td><code><a href=\"/ru/docs/Web/Reference/Events/pointermove\" title=\"This is a link to an unwritten page\" class=\"page-not-created\">pointermove</a></code></td>\n   <td><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/Element/pointermove_event\"><code>onpointermove</code> <small>(en-US)</small></a></td>\n   <td>Вызывается, когда изменяются координаты указателя. Это событие также используется, если изменение состояния указателя нельзя сообщить с помощью других событий.</td>\n  </tr>\n  <tr>\n   <td><code><a href=\"/ru/docs/Web/Reference/Events/pointerup\" title=\"This is a link to an unwritten page\" class=\"page-not-created\">pointerup</a></code></td>\n   <td><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/Element/pointerup_event\"><code>onpointerup</code> <small>(en-US)</small></a></td>\n   <td>Вызывается, когда указатель теряет состояние <em>активных кнопок</em>.</td>\n  </tr>\n  <tr>\n   <td><code><a href=\"/ru/docs/Web/Reference/Events/pointercancel\" title=\"This is a link to an unwritten page\" class=\"page-not-created\">pointercancel</a></code></td>\n   <td><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/Element/pointercancel_event\"><code>onpointercancel</code> <small>(en-US)</small></a></td>\n   <td>Браузер вызывает это событие, если приходит к выводу, что указывающее устройство больше не сможет генерировать события (например, если устройство деактивировано).</td>\n  </tr>\n  <tr>\n   <td><code><a href=\"/ru/docs/Web/Reference/Events/pointerout\" title=\"This is a link to an unwritten page\" class=\"page-not-created\">pointerout</a></code></td>\n   <td><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/Element/pointerout_event\"><code>onpointerout</code> <small>(en-US)</small></a></td>\n   <td>Вызывается по нескольким причинам, в том числе: когда указывающее устройство перемещается за пределы элемента (его <a href=\"#term_hit_test\">теста попадания</a>); запуск события pointerup для устройства, которое не поддерживает наведение \"hover\"; после запуска события <code>pointercancel</code>; когда перо покидает область обнаружения планшетом наведения указателя.</td>\n  </tr>\n  <tr>\n   <td><code><a href=\"/ru/docs/Web/Reference/Events/pointerleave\" title=\"This is a link to an unwritten page\" class=\"page-not-created\">pointerleave</a></code></td>\n   <td><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/Element/pointerleave_event\"><code>onpointerleave</code> <small>(en-US)</small></a></td>\n   <td>Вызывается, когда указывающее устройство перемещается за пределы элемента (его <a href=\"#term_hit_test\">теста попадания</a>). Для устройств, подобных перу, это событие вызывается, когда перо покидает область обнаружения планшетом наведения указателя.</td>\n  </tr>\n  <tr>\n   <td><code><a href=\"/ru/docs/Web/Reference/Events/gotpointercapture\" title=\"This is a link to an unwritten page\" class=\"page-not-created\">gotpointercapture</a></code></td>\n   <td><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/Element/gotpointercapture_event\"><code>ongotpointercapture</code> <small>(en-US)</small></a></td>\n   <td>Вызывается, когда элемент получает захват указывающего устройства.</td>\n  </tr>\n  <tr>\n   <td><code><a href=\"/ru/docs/Web/Reference/Events/lostpointercapture\" title=\"This is a link to an unwritten page\" class=\"page-not-created\">lostpointercapture</a></code></td>\n   <td><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/Element/lostpointercapture_event\"><code>onlostpointercapture</code> <small>(en-US)</small></a></td>\n   <td>Запускается после того, как указывающее устройство потеряло захват.</td>\n  </tr>\n </tbody>\n</table>"}},{"type":"prose","value":{"id":"расширения_элемента","title":"Расширения элемента","isH3":true,"content":"<p>Существует три расширения интерфейса <a href=\"/ru/docs/Web/API/Element\"><code>Element</code></a>:</p>\n\n<dl>\n <dt id=\"setpointercapture_en-us\"><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/Element/setPointerCapture\"><code>setPointerCapture()</code> <small>(en-US)</small></a></dt>\n <dd>Определяет определённый элемент в качестве цели захвата для будущих событий указателя.</dd>\n <dt id=\"releasepointercapture_en-us\"><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/Element/releasePointerCapture\"><code>releasePointerCapture()</code> <small>(en-US)</small></a></dt>\n <dd>Этот метод освобождает (прекращает) захватывание указывающим устройством, которое ранее было установлено для определённого события указателя.</dd>\n</dl>"}},{"type":"prose","value":{"id":"расширение_навигатора","title":"Расширение навигатора","isH3":true,"content":"<p>Свойство <a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/Navigator/maxTouchPoints\"><code>Navigator.maxTouchPoints</code> <small>(en-US)</small></a> используется для определения максимального количества одновременных точек касания, которые поддерживаются в каждый момент времени.</p>"}},{"type":"prose","value":{"id":"примеры","title":"Примеры","isH3":false,"content":"<p>Этот раздел содержит примеры базового использования интерфейсов событий указывающего устройства.</p>"}},{"type":"prose","value":{"id":"назначение_обработчиков_событий","title":"Назначение обработчиков событий","isH3":true,"content":"<p>В этом примере определённому элементу назначаются обработчики каждого типа события.</p>\n\n<div class=\"code-example\"><pre class=\"brush: html notranslate\"><code><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>html</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token script\"><span class=\"token language-javascript\">\n    <span class=\"token keyword\">function</span> <span class=\"token function\">over_handler</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">event</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">function</span> <span class=\"token function\">enter_handler</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">event</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">function</span> <span class=\"token function\">down_handler</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">event</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">function</span> <span class=\"token function\">move_handler</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">event</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">function</span> <span class=\"token function\">up_handler</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">event</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">function</span> <span class=\"token function\">cancel_handler</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">event</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">function</span> <span class=\"token function\">out_handler</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">event</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">function</span> <span class=\"token function\">leave_handler</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">event</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">function</span> <span class=\"token function\">gotcapture_handler</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">event</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">function</span> <span class=\"token function\">lostcapture_handler</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">event</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">function</span> <span class=\"token function\">init</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">var</span> el<span class=\"token operator\">=</span>document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"target\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token comment\">// Register pointer event handlers</span>\n      el<span class=\"token punctuation\">.</span>onpointerover <span class=\"token operator\">=</span> over_handler<span class=\"token punctuation\">;</span>\n      el<span class=\"token punctuation\">.</span>onpointerenter <span class=\"token operator\">=</span> enter_handler<span class=\"token punctuation\">;</span>\n      el<span class=\"token punctuation\">.</span>onpointerdown <span class=\"token operator\">=</span> down_handler<span class=\"token punctuation\">;</span>\n      el<span class=\"token punctuation\">.</span>onpointermove <span class=\"token operator\">=</span> move_handler<span class=\"token punctuation\">;</span>\n      el<span class=\"token punctuation\">.</span>onpointerup <span class=\"token operator\">=</span> up_handler<span class=\"token punctuation\">;</span>\n      el<span class=\"token punctuation\">.</span>onpointercancel <span class=\"token operator\">=</span> cancel_handler<span class=\"token punctuation\">;</span>\n      el<span class=\"token punctuation\">.</span>onpointerout <span class=\"token operator\">=</span> out_handler<span class=\"token punctuation\">;</span>\n      el<span class=\"token punctuation\">.</span>onpointerleave <span class=\"token operator\">=</span> leave_handler<span class=\"token punctuation\">;</span>\n      el<span class=\"token punctuation\">.</span>gotpointercapture <span class=\"token operator\">=</span> gotcapture_handler<span class=\"token punctuation\">;</span>\n      el<span class=\"token punctuation\">.</span>lostpointercapture <span class=\"token operator\">=</span> lostcapture_handler<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  </span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span> <span class=\"token special-attr\"><span class=\"token attr-name\">onload</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token value javascript language-javascript\"><span class=\"token function\">init</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span><span class=\"token punctuation\">\"</span></span></span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>target<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span> Touch me ... <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>html</span><span class=\"token punctuation\">&gt;</span></span>\n</code></pre></div>"}},{"type":"prose","value":{"id":"свойства_события","title":"Свойства события","isH3":true,"content":"<p>Этот пример демонстрирует доступ ко всем свойствам события касания.</p>\n\n<div class=\"code-example\"><pre class=\"brush: html notranslate\"><code><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>html</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token script\"><span class=\"token language-javascript\">\n    <span class=\"token keyword\">var</span> id <span class=\"token operator\">=</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">function</span> <span class=\"token function\">process_id</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">event</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token comment\">// Обработка этого события на основе идентификатора события</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">function</span> <span class=\"token function\">process_mouse</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">event</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token comment\">// Обработка события мыши</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">function</span> <span class=\"token function\">process_pen</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">event</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token comment\">// Обработка события пера</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">function</span> <span class=\"token function\">process_touch</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">event</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token comment\">// Обработка события касания</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">function</span> <span class=\"token function\">process_tilt</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">tiltX<span class=\"token punctuation\">,</span> tiltY</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token comment\">// Обработчик данных наклона</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">function</span> <span class=\"token function\">process_pressure</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">pressure</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token comment\">// Обработчик давления</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">function</span> <span class=\"token function\">process_non_primary</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">event</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token comment\">// Не основной обработчик</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">function</span> <span class=\"token function\">down_handler</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">ev</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token comment\">// Вычислить область контакта точки касания</span>\n      <span class=\"token keyword\">var</span> area <span class=\"token operator\">=</span> ev<span class=\"token punctuation\">.</span>width <span class=\"token operator\">*</span> ev<span class=\"token punctuation\">.</span>height<span class=\"token punctuation\">;</span>\n\n      <span class=\"token comment\">// Сравнить сохранённый ID с ID данного события и соответствующим образом обработать</span>\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>id <span class=\"token operator\">==</span> ev<span class=\"token punctuation\">.</span>identifier<span class=\"token punctuation\">)</span> <span class=\"token function\">process_id</span><span class=\"token punctuation\">(</span>ev<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n      <span class=\"token comment\">// Вызвать обработчик нужного типа указателя</span>\n      <span class=\"token keyword\">switch</span> <span class=\"token punctuation\">(</span>ev<span class=\"token punctuation\">.</span>pointerType<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">case</span> <span class=\"token string\">\"mouse\"</span><span class=\"token operator\">:</span>\n          <span class=\"token function\">process_mouse</span><span class=\"token punctuation\">(</span>ev<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n          <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">case</span> <span class=\"token string\">\"pen\"</span><span class=\"token operator\">:</span>\n          <span class=\"token function\">process_pen</span><span class=\"token punctuation\">(</span>ev<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n          <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">case</span> <span class=\"token string\">\"touch\"</span><span class=\"token operator\">:</span>\n          <span class=\"token function\">process_touch</span><span class=\"token punctuation\">(</span>ev<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n          <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">default</span><span class=\"token operator\">:</span>\n          console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"pointerType \"</span> <span class=\"token operator\">+</span> ev<span class=\"token punctuation\">.</span>pointerType <span class=\"token operator\">+</span> <span class=\"token string\">\" is Not suported\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span>\n\n      <span class=\"token comment\">// Вызвать обработчик наклона</span>\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>ev<span class=\"token punctuation\">.</span>tiltX <span class=\"token operator\">!=</span> <span class=\"token number\">0</span> <span class=\"token operator\">&amp;&amp;</span> ev<span class=\"token punctuation\">.</span>tiltY <span class=\"token operator\">!=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token function\">process_tilt</span><span class=\"token punctuation\">(</span>ev<span class=\"token punctuation\">.</span>tiltX<span class=\"token punctuation\">,</span> ev<span class=\"token punctuation\">.</span>tiltY<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n      <span class=\"token comment\">// Вызвать обработчик давления</span>\n      <span class=\"token function\">process_pressure</span><span class=\"token punctuation\">(</span>ev<span class=\"token punctuation\">.</span>pressure<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n      <span class=\"token comment\">// Если это события не является основным, то вызвать не основной обработчик</span>\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>ev<span class=\"token punctuation\">.</span>isPrimary<span class=\"token punctuation\">)</span> <span class=\"token function\">process_non_primary</span><span class=\"token punctuation\">(</span>ev<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">function</span> <span class=\"token function\">init</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">var</span> el<span class=\"token operator\">=</span>document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"target\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token comment\">// Назначение обработчика события \"pointerdown\"</span>\n      el<span class=\"token punctuation\">.</span>onpointerdown <span class=\"token operator\">=</span> down_handler<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  </span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span> <span class=\"token special-attr\"><span class=\"token attr-name\">onload</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token value javascript language-javascript\"><span class=\"token function\">init</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span><span class=\"token punctuation\">\"</span></span></span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>target<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span> Touch me ... <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>html</span><span class=\"token punctuation\">&gt;</span></span>\n</code></pre></div>"}},{"type":"prose","value":{"id":"определение_основного_указателя","title":"Определение Основного Указателя","isH3":false,"content":"<p>В некоторых сценариях может быть несколько указывающих устройств (например, устройство с сенсорным экраном и мышкой) или указывающее устройство, поддерживающее несколько контактных точек (например, сенсорный экран, который поддерживает касания несколькими пальцами). Приложение может использовать свойство <a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/PointerEvent/isPrimary\"><code>isPrimary</code> <small>(en-US)</small></a> для определения главного указателя среди набора активных точек каждого указателя. Если будет решено поддерживать только основной указатель, в приложении можно игнорировать все события указателя, не являющегося главным.</p>\n\n<p>У мышки может только один указатель, поэтому он всегда будет главным. Для сенсорного ввода указатель считается главным, если при этом нет других активных касаний. Для ввода пером или стилусом, указатель считается главным, если при этом нет касаний другими перьями.</p>"}},{"type":"prose","value":{"id":"определение_состояний_кнопок","title":"Определение состояний кнопок","isH3":false,"content":"<p>Некоторые указывающие устройства, такие как мышь или перо, поддерживают несколько кнопок, и эти кнопки могут нажиматься одновременно. Например, нажатие кнопки, когда другая кнопка на устройстве уже нажата.</p>\n\n<p>Для определения состояния нажатия кнопки, события указателя используют свойства <a href=\"/ru/docs/Web/API/MouseEvent/button\" title=\"button\"><code>button</code></a> и <a href=\"/ru/docs/Web/API/MouseEvent/buttons\" title=\"buttons\"><code>buttons</code></a> интерфейса <a href=\"/ru/docs/Web/API/MouseEvent\"><code>MouseEvent</code></a>, от которого наследуется от<a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/PointerEvent\"><code>PointerEvent</code> <small>(en-US)</small></a>.</p>\n\n<p>В следующей таблице приведены значения <code>button</code> и <code>buttons</code> для различных состояний кнопок устройства.</p>\n\n<table class=\"standard-table\">\n <thead>\n  <tr>\n   <th scope=\"col\">Состояние кнопок устройства</th>\n   <th scope=\"col\">button</th>\n   <th scope=\"col\">buttons</th>\n  </tr>\n </thead>\n <tbody>\n  <tr>\n   <td>С последнего события не было ни нажатия кнопок, ни касания пера</td>\n   <td><code>-1</code></td>\n   <td>—</td>\n  </tr>\n  <tr>\n   <td>Мышь перемещается без нажатых кнопок.<br>\n    Перо перемещается над планшетом в режиме \"hover\" без нажатых кнопок</td>\n   <td>—</td>\n   <td><code>0</code></td>\n  </tr>\n  <tr>\n   <td>Левая кнопка мыши, Касание пальцем, Касание пером</td>\n   <td><code>0</code></td>\n   <td><code>1</code></td>\n  </tr>\n  <tr>\n   <td>Средняя кнопка мыши</td>\n   <td><code>1</code></td>\n   <td><code>4</code></td>\n  </tr>\n  <tr>\n   <td>Правая кнопка мыши, Кнопка пера</td>\n   <td><code>2</code></td>\n   <td><code>2</code></td>\n  </tr>\n  <tr>\n   <td>Кнопка мыши X1 (назад)</td>\n   <td><code>3</code></td>\n   <td><code>8</code></td>\n  </tr>\n  <tr>\n   <td>Кнопка мыши X2 (вперёд)</td>\n   <td><code>4</code></td>\n   <td><code>16</code></td>\n  </tr>\n  <tr>\n   <td>Кнопка пера \"ластик\"</td>\n   <td><code>5</code></td>\n   <td><code>32</code></td>\n  </tr>\n </tbody>\n</table>\n\n<div class=\"note notecard\" id=\"sect1\">\n<p><strong>Примечание:</strong> Свойство <code>button</code> указывает на изменение состояния кнопки. Однако, как и в случае с касанием, когда одно событие влечёт за собой ещё несколько событий, все они имеют одинаковое значение.</p>\n</div>"}},{"type":"prose","value":{"id":"pointer_capture","title":"Pointer capture","isH3":false,"content":"<p>Pointer capture allows events for a particular <a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/PointerEvent\"><code>pointer event</code> <small>(en-US)</small></a> to be re-targeted to a particular element instead of the normal <a href=\"#term_hit_test\">hit test</a> at a pointer's location. This can be used to ensure that an element continues to receive pointer events even if the pointer device's contact moves off the element (for example by scrolling).</p>\n\n<p>The following example shows pointer capture being set on an element.</p>\n\n<div class=\"code-example\"><pre class=\"brush: html notranslate\"><code><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>html</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token script\"><span class=\"token language-javascript\">\n  <span class=\"token keyword\">function</span> <span class=\"token function\">downHandler</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">ev</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">let</span> el <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"target\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">// Element 'target' will receive/capture further events</span>\n    el<span class=\"token punctuation\">.</span><span class=\"token function\">setPointerCapture</span><span class=\"token punctuation\">(</span>ev<span class=\"token punctuation\">.</span>pointerId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">function</span> <span class=\"token function\">init</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">let</span> el <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"target\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    el<span class=\"token punctuation\">.</span>onpointerdown <span class=\"token operator\">=</span> downHandler<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span> <span class=\"token special-attr\"><span class=\"token attr-name\">onload</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token value javascript language-javascript\"><span class=\"token function\">init</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span><span class=\"token punctuation\">\"</span></span></span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>target<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span> Touch me ... <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>html</span><span class=\"token punctuation\">&gt;</span></span>\n</code></pre></div>\n\n<p>The following example shows a pointer capture being released (when a <code><a href=\"/ru/docs/Web/Reference/Events/pointercancel\" title=\"This is a link to an unwritten page\" class=\"page-not-created\">pointercancel</a></code> event occurs. The browser does this automatically when a <code><a href=\"/ru/docs/Web/Reference/Events/pointerup\" title=\"This is a link to an unwritten page\" class=\"page-not-created\">pointerup</a></code> or <code><a href=\"/ru/docs/Web/Reference/Events/pointercancel\" title=\"This is a link to an unwritten page\" class=\"page-not-created\">pointercancel</a></code> event occurs.</p>\n\n<div class=\"code-example\"><pre class=\"brush: html notranslate\"><code><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>html</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token script\"><span class=\"token language-javascript\">\n    <span class=\"token keyword\">function</span> <span class=\"token function\">downHandler</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">ev</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">let</span> el <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"target\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token comment\">// Element \"target\" will receive/capture further events</span>\n      el<span class=\"token punctuation\">.</span><span class=\"token function\">setPointerCapture</span><span class=\"token punctuation\">(</span>ev<span class=\"token punctuation\">.</span>pointerId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">function</span> <span class=\"token function\">cancelHandler</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">ev</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">let</span> el <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"target\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token comment\">// Release the pointer capture</span>\n      el<span class=\"token punctuation\">.</span><span class=\"token function\">releasePointerCapture</span><span class=\"token punctuation\">(</span>ev<span class=\"token punctuation\">.</span>pointerId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">function</span> <span class=\"token function\">init</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">let</span> el <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"target\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token comment\">// Register pointerdown and pointercancel handlers</span>\n      el<span class=\"token punctuation\">.</span>onpointerdown <span class=\"token operator\">=</span> downHandler<span class=\"token punctuation\">;</span>\n      el<span class=\"token punctuation\">.</span>onpointercancel <span class=\"token operator\">=</span> cancelHandler<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  </span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span> <span class=\"token special-attr\"><span class=\"token attr-name\">onload</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token value javascript language-javascript\"><span class=\"token function\">init</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span><span class=\"token punctuation\">\"</span></span></span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>target<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span> Touch me ... <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>html</span><span class=\"token punctuation\">&gt;</span></span>\n</code></pre></div>"}},{"type":"prose","value":{"id":"touch-action_css_property","title":"touch-action CSS property","isH3":false,"content":"<p>The <a href=\"/ru/docs/Web/CSS/touch-action\"><code>touch-action</code></a> CSS property is used to specify whether or not the browser should apply its default (<em>native</em>) touch behavior (such as zooming or panning) to a region. This property may be applied to all elements except: non-replaced inline elements, table rows, row groups, table columns, and column groups.</p>\n\n<p>A value of <code>auto</code> means the browser is free to apply its default touch behavior (to the specified region) and the value of <code>none</code> disables the browser's default touch behavior for the region. The values <code>pan-x</code> and <code>pan-y</code>, mean that touches that begin on the specified region are only for horizontal and vertical scrolling, respectively. The value <code>manipulation</code> means the browser may consider touches that begin on the element are only for scrolling and zooming.</p>\n\n<p>In the following example, the browser's default touch behavior is disabled for the <code>div</code> element.</p>\n\n<div class=\"code-example\"><pre class=\"brush: html notranslate\"><code><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>html</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token special-attr\"><span class=\"token attr-name\">style</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token value css language-css\"><span class=\"token property\">touch-action</span><span class=\"token punctuation\">:</span>none<span class=\"token punctuation\">;</span></span><span class=\"token punctuation\">\"</span></span></span><span class=\"token punctuation\">&gt;</span></span>Can't touch this ... <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>html</span><span class=\"token punctuation\">&gt;</span></span>\n</code></pre></div>\n\n<p>In the following example, default touch behavior is disabled for some <code>button</code> elements.</p>\n\n<div class=\"code-example\"><pre class=\"brush: css notranslate\"><code><span class=\"token selector\">button#tiny</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">touch-action</span><span class=\"token punctuation\">:</span> none<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n\n<p>In the following example, when the <code>target</code> element is touched, it will only pan in the horizontal direction.</p>\n\n<div class=\"code-example\"><pre class=\"brush: css notranslate\"><code><span class=\"token selector\">#target</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">touch-action</span><span class=\"token punctuation\">:</span> pan-x<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>"}},{"type":"prose","value":{"id":"compatibility_with_mouse_events","title":"Compatibility with mouse events","isH3":false,"content":"<p>Although the pointer event interfaces enable applications to create enhanced user experiences on pointer enabled devices, the reality is the vast majority of today's web content is designed to only work with mouse input. Consequently, even if a browser supports pointer events, the browser must still process mouse events so content that assumes mouse-only input will work as is without direct modification. Ideally, a pointer enabled application does not need to explicitly handle mouse input. However, because the browser must process mouse events, there may be some compatibility issues that need to be handled. This section contains information about pointer event and mouse event interaction and the ramifications for application developers.</p>\n\n<p>The browser <em>may map generic pointer input to mouse events for compatibility with mouse-based content</em>. This mapping of events is called <em>compatibility mouse events</em>. Authors can prevent the production of certain compatibility mouse events by canceling the pointerdown event but note that:</p>\n\n<ul>\n <li>Mouse events can only be prevented when the pointer is down.</li>\n <li>Hovering pointers (e.g. a mouse with no buttons pressed) cannot have their mouse events prevented.</li>\n <li>The <code>mouseover</code>, <code>mouseout</code>, <code>mouseenter</code>, and <code>mouseleave</code> events are never prevented (even if the pointer is down).</li>\n</ul>"}},{"type":"prose","value":{"id":"best_practices","title":"Best practices","isH3":false,"content":"<p>Here are some <em>best practices</em> to consider when using pointer events:</p>\n\n<ul>\n <li>Minimize the amount of work performed in event handlers.</li>\n <li>Add the event handlers to a specific target element (rather than the entire document or nodes higher up in the document tree).</li>\n <li>The target element (node) should be large enough to accommodate the largest contact surface area (typically a finger touch). If the target area is too small, touching it could result in firing other events for adjacent elements.</li>\n</ul>"}},{"type":"prose","value":{"id":"specifications","title":"Specifications","isH3":false,"content":"<table>\n <thead>\n  <tr>\n   <th scope=\"col\">Specification</th>\n   <th scope=\"col\">Status</th>\n   <th scope=\"col\">Comment</th>\n  </tr>\n </thead>\n <tbody>\n  <tr>\n   <td><a href=\"https://w3c.github.io/pointerevents/\" hreflang=\"en\" lang=\"en\" class=\"external\" title=\"Спецификация 'Pointer Events – Level 3'\" rel=\" noopener\">Pointer Events – Level 3</a></td>\n   <td><span class=\"spec-ed\">Редакторский черновик</span></td>\n   <td>Added new APIs for <code>getCoalescedEvent</code> and <code>getPredictedEvents</code>, new <code>pointerrawupdate</code> event, additional <code>touch-action</code> property values <code>pan-left</code>, <code>pan-right</code>, <code>pan-up</code>, <code>pan-down</code>.</td>\n  </tr>\n  <tr>\n   <td><a href=\"https://www.w3.org/TR/pointerevents2/\" hreflang=\"en\" lang=\"en\" class=\"external\" title=\"Спецификация 'Pointer Events – Level 2'\" rel=\" noopener\">Pointer Events – Level 2</a></td>\n   <td><span class=\"spec-rec\">Рекомендация</span></td>\n   <td>Adds <code>hasPointerCapture</code> method and clarifies more edge cases and dynamic scenarios. </td>\n  </tr>\n  <tr>\n   <td><a href=\"https://www.w3.org/TR/pointerevents1/\" hreflang=\"en\" lang=\"en\" class=\"external\" title=\"Спецификация 'Pointer Events'\" rel=\" noopener\">Pointer Events</a></td>\n   <td><span class=\"spec-obsolete\">Устаревшая</span></td>\n   <td>Initial definition.</td>\n  </tr>\n </tbody>\n</table>"}},{"type":"browser_compatibility","value":{"title":"Browser compatibility","id":"browser_compatibility","isH3":false,"query":"api.PointerEvent","dataURL":"/ru/docs/Web/API/Pointer_events/bcd.json"}},{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<p></p><p></p>\n\n<p>Some new values have been defined for the <a href=\"/ru/docs/Web/CSS/touch-action\"><code>css touch-action</code></a> property as part of the <a href=\"https://w3c.github.io/pointerevents/\" hreflang=\"en\" lang=\"en\" class=\"external\" title=\"Спецификация 'Pointer Events – Level 3'\" rel=\" noopener\">Pointer Events – Level 3</a> specification but currently those new values have limited implementation support.</p>"}},{"type":"prose","value":{"id":"demos_and_examples","title":"Demos and examples","isH3":false,"content":"<ul>\n <li><a href=\"http://patrickhlauke.github.io/touch/\" class=\"external\" rel=\" noopener\">Touch/pointer tests and demos (by Patrick H. Lauke)</a></li>\n</ul>"}},{"type":"prose","value":{"id":"community","title":"Community","isH3":false,"content":"<ul>\n <li><a href=\"https://github.com/w3c/pointerevents\" class=\"external\" rel=\" noopener\">Pointer Events Working Group</a></li>\n <li><a href=\"https://lists.w3.org/Archives/Public/public-pointer-events/\" class=\"external\" rel=\" noopener\">Mail list</a></li>\n <li><a href=\"irc://irc.w3.org:6667/\">W3C #pointerevents IRC channel</a></li>\n</ul>"}},{"type":"prose","value":{"id":"related_topics_and_resources","title":"Related topics and resources","isH3":false,"content":"<ul>\n <li><a href=\"https://www.w3.org/TR/touch-events/\" class=\"external\" rel=\" noopener\">Touch Events Standard</a></li>\n</ul>"}}],"toc":[{"text":"Терминология","id":"терминология"},{"text":"Интерфейсы","id":"интерфейсы"},{"text":"Примеры","id":"примеры"},{"text":"Определение Основного Указателя","id":"определение_основного_указателя"},{"text":"Определение состояний кнопок","id":"определение_состояний_кнопок"},{"text":"Pointer capture","id":"pointer_capture"},{"text":"touch-action CSS property","id":"touch-action_css_property"},{"text":"Compatibility with mouse events","id":"compatibility_with_mouse_events"},{"text":"Best practices","id":"best_practices"},{"text":"Specifications","id":"specifications"},{"text":"Browser compatibility","id":"browser_compatibility"},{"text":"Demos and examples","id":"demos_and_examples"},{"text":"Community","id":"community"},{"text":"Related topics and resources","id":"related_topics_and_resources"}],"summary":"Бо́льшая часть современного веб-контента предполагает, что указывающим устройством пользователя является мышь. Но поскольку многие устройства поддерживают другие типы указателей, таких как перо/стилус или сенсорная поверхность, возникает необходимость в расширении существующих событий указывающих устройств. Эту потребность удовлетворяют События указателя.","popularity":0.0004,"modified":"2022-10-01T03:41:16.000Z","other_translations":[{"title":"Pointer events","locale":"en-US","native":"English (US)"},{"title":"Événements de pointeur","locale":"fr","native":"Français"},{"title":"ポインターイベント","locale":"ja","native":"日本語"},{"title":"Pointer events 指针事件","locale":"zh-CN","native":"中文 (简体)"}],"source":{"folder":"ru/web/api/pointer_events","github_url":"https://github.com/mdn/translated-content/blob/main/files/ru/web/api/pointer_events/index.html","last_commit_url":"https://github.com/mdn/translated-content/commit/921c46a374ab0a9f4cc809af0370f8c412e54701","filename":"index.html"},"parents":[{"uri":"/ru/docs/Web","title":"Веб-технологии для разработчиков"},{"uri":"/ru/docs/Web/API","title":"Интерфейсы веб API"},{"uri":"/ru/docs/Web/API/Pointer_events","title":"События указателя"}],"pageTitle":"События указателя - Интерфейсы веб API | MDN","noIndexing":false}}