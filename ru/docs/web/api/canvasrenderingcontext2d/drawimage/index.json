{"doc":{"isMarkdown":false,"isTranslated":true,"isActive":true,"flaws":{},"title":"CanvasRenderingContext2D.drawImage()","mdn_url":"/ru/docs/Web/API/CanvasRenderingContext2D/drawImage","locale":"ru","native":"Русский","sidebarHTML":"<ol><li><strong><a href=\"/ru/docs/Web/API/CanvasRenderingContext2D\"><code>CanvasRenderingContext2D</code></a></strong></li><li class=\"toggle\"><details open=\"\"><summary>Свойства</summary><ol><li><a href=\"/ru/docs/Web/API/CanvasRenderingContext2D/canvas\"><code>canvas</code></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/CanvasRenderingContext2D/direction\"><code>direction</code> <small>(en-US)</small></a></li><li><a href=\"/ru/docs/Web/API/CanvasRenderingContext2D/fillStyle\"><code>fillStyle</code></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/CanvasRenderingContext2D/filter\"><code>filter</code> <small>(en-US)</small></a></li><li><a href=\"/ru/docs/Web/API/CanvasRenderingContext2D/font\"><code>font</code></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/CanvasRenderingContext2D/fontKerning\"><code>fontKerning</code> <small>(en-US)</small></a></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/CanvasRenderingContext2D/fontStretch\"><code>fontStretch</code> <small>(en-US)</small></a></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/CanvasRenderingContext2D/fontVariantCaps\"><code>fontVariantCaps</code> <small>(en-US)</small></a></li><li><a href=\"/ru/docs/Web/API/CanvasRenderingContext2D/globalAlpha\"><code>globalAlpha</code></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/CanvasRenderingContext2D/globalCompositeOperation\"><code>globalCompositeOperation</code> <small>(en-US)</small></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/CanvasRenderingContext2D/imageSmoothingEnabled\"><code>imageSmoothingEnabled</code> <small>(en-US)</small></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/CanvasRenderingContext2D/imageSmoothingQuality\"><code>imageSmoothingQuality</code> <small>(en-US)</small></a></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/CanvasRenderingContext2D/letterSpacing\"><code>letterSpacing</code> <small>(en-US)</small></a></li><li><a href=\"/ru/docs/Web/API/CanvasRenderingContext2D/lineCap\"><code>lineCap</code></a></li><li><a href=\"/ru/docs/Web/API/CanvasRenderingContext2D/lineDashOffset\"><code>lineDashOffset</code></a></li><li><a href=\"/ru/docs/Web/API/CanvasRenderingContext2D/lineJoin\"><code>lineJoin</code></a></li><li><a href=\"/ru/docs/Web/API/CanvasRenderingContext2D/lineWidth\"><code>lineWidth</code></a></li><li><a href=\"/ru/docs/Web/API/CanvasRenderingContext2D/miterLimit\"><code>miterLimit</code></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/CanvasRenderingContext2D/shadowBlur\"><code>shadowBlur</code> <small>(en-US)</small></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/CanvasRenderingContext2D/shadowColor\"><code>shadowColor</code> <small>(en-US)</small></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/CanvasRenderingContext2D/shadowOffsetX\"><code>shadowOffsetX</code> <small>(en-US)</small></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/CanvasRenderingContext2D/shadowOffsetY\"><code>shadowOffsetY</code> <small>(en-US)</small></a></li><li><a href=\"/ru/docs/Web/API/CanvasRenderingContext2D/strokeStyle\"><code>strokeStyle</code></a></li><li><a href=\"/ru/docs/Web/API/CanvasRenderingContext2D/textAlign\"><code>textAlign</code></a></li><li><a href=\"/ru/docs/Web/API/CanvasRenderingContext2D/textBaseline\"><code>textBaseline</code></a></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/CanvasRenderingContext2D/textRendering\"><code>textRendering</code> <small>(en-US)</small></a></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/CanvasRenderingContext2D/wordSpacing\"><code>wordSpacing</code> <small>(en-US)</small></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>Методы</summary><ol><li><a href=\"/ru/docs/Web/API/CanvasRenderingContext2D/arc\"><code>arc()</code></a></li><li><a href=\"/ru/docs/Web/API/CanvasRenderingContext2D/arcTo\"><code>arcTo()</code></a></li><li><a href=\"/ru/docs/Web/API/CanvasRenderingContext2D/beginPath\"><code>beginPath()</code></a></li><li><a href=\"/ru/docs/Web/API/CanvasRenderingContext2D/bezierCurveTo\"><code>bezierCurveTo()</code></a></li><li><a href=\"/ru/docs/Web/API/CanvasRenderingContext2D/clearRect\"><code>clearRect()</code></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/CanvasRenderingContext2D/clip\"><code>clip()</code> <small>(en-US)</small></a></li><li><a href=\"/ru/docs/Web/API/CanvasRenderingContext2D/closePath\"><code>closePath()</code></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/CanvasRenderingContext2D/createConicGradient\"><code>createConicGradient()</code> <small>(en-US)</small></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/CanvasRenderingContext2D/createImageData\"><code>createImageData()</code> <small>(en-US)</small></a></li><li><a href=\"/ru/docs/Web/API/CanvasRenderingContext2D/createLinearGradient\"><code>createLinearGradient()</code></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/CanvasRenderingContext2D/createPattern\"><code>createPattern()</code> <small>(en-US)</small></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/CanvasRenderingContext2D/createRadialGradient\"><code>createRadialGradient()</code> <small>(en-US)</small></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/CanvasRenderingContext2D/drawFocusIfNeeded\"><code>drawFocusIfNeeded()</code> <small>(en-US)</small></a></li><li><em><code>drawImage()</code></em></li><li><a href=\"/ru/docs/Web/API/CanvasRenderingContext2D/ellipse\"><code>ellipse()</code></a></li><li><a href=\"/ru/docs/Web/API/CanvasRenderingContext2D/fill\"><code>fill()</code></a></li><li><a href=\"/ru/docs/Web/API/CanvasRenderingContext2D/fillRect\"><code>fillRect()</code></a></li><li><a href=\"/ru/docs/Web/API/CanvasRenderingContext2D/fillText\"><code>fillText()</code></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/CanvasRenderingContext2D/getContextAttributes\"><code>getContextAttributes()</code> <small>(en-US)</small></a></li><li><a href=\"/ru/docs/Web/API/CanvasRenderingContext2D/getImageData\"><code>getImageData()</code></a></li><li><a href=\"/ru/docs/Web/API/CanvasRenderingContext2D/getLineDash\"><code>getLineDash()</code></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/CanvasRenderingContext2D/getTransform\"><code>getTransform()</code> <small>(en-US)</small></a></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/CanvasRenderingContext2D/isContextLost\"><code>isContextLost()</code> <small>(en-US)</small></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/CanvasRenderingContext2D/isPointInPath\"><code>isPointInPath()</code> <small>(en-US)</small></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/CanvasRenderingContext2D/isPointInStroke\"><code>isPointInStroke()</code> <small>(en-US)</small></a></li><li><a href=\"/ru/docs/Web/API/CanvasRenderingContext2D/lineTo\"><code>lineTo()</code></a></li><li><a href=\"/ru/docs/Web/API/CanvasRenderingContext2D/measureText\"><code>measureText()</code></a></li><li><a href=\"/ru/docs/Web/API/CanvasRenderingContext2D/moveTo\"><code>moveTo()</code></a></li><li><a href=\"/ru/docs/Web/API/CanvasRenderingContext2D/putImageData\"><code>putImageData()</code></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/CanvasRenderingContext2D/quadraticCurveTo\"><code>quadraticCurveTo()</code> <small>(en-US)</small></a></li><li><a href=\"/ru/docs/Web/API/CanvasRenderingContext2D/rect\"><code>rect()</code></a></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/CanvasRenderingContext2D/reset\"><code>reset()</code> <small>(en-US)</small></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/CanvasRenderingContext2D/resetTransform\"><code>resetTransform()</code> <small>(en-US)</small></a></li><li><a href=\"/ru/docs/Web/API/CanvasRenderingContext2D/restore\"><code>restore()</code></a></li><li><a href=\"/ru/docs/Web/API/CanvasRenderingContext2D/rotate\"><code>rotate()</code></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/CanvasRenderingContext2D/roundRect\"><code>roundRect()</code> <small>(en-US)</small></a></li><li><a href=\"/ru/docs/Web/API/CanvasRenderingContext2D/save\"><code>save()</code></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/CanvasRenderingContext2D/scale\"><code>scale()</code> <small>(en-US)</small></a></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/CanvasRenderingContext2D/scrollPathIntoView\"><code>scrollPathIntoView()</code> <small>(en-US)</small></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/CanvasRenderingContext2D/setLineDash\"><code>setLineDash()</code> <small>(en-US)</small></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/CanvasRenderingContext2D/setTransform\"><code>setTransform()</code> <small>(en-US)</small></a></li><li><a href=\"/ru/docs/Web/API/CanvasRenderingContext2D/stroke\"><code>stroke()</code></a></li><li><a href=\"/ru/docs/Web/API/CanvasRenderingContext2D/strokeRect\"><code>strokeRect()</code></a></li><li><a href=\"/ru/docs/Web/API/CanvasRenderingContext2D/strokeText\"><code>strokeText()</code></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/CanvasRenderingContext2D/transform\"><code>transform()</code> <small>(en-US)</small></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/CanvasRenderingContext2D/translate\"><code>translate()</code> <small>(en-US)</small></a></li></ol></details></li></ol>","body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<div id=\"sect1\"></div>\n\n<p><code><strong>CanvasRenderingContext2D</strong></code><strong><code>.drawImage()</code></strong> метод Canvas 2D API предоставляет разные способы рисования изображения на холсте.</p>"}},{"type":"prose","value":{"id":"синтаксис","title":"Синтаксис","isH3":false,"content":"<pre class=\"syntaxbox notranslate\">void <var><em>ctx</em>.drawImage(image, dx, dy);</var>\nvoid <var><em>ctx</em>.drawImage(image, dx, dy, dWidth, dHeight);</var>\nvoid <var><em>ctx</em>.drawImage(image, sx, sy, sWidth, sHeight, dx, dy, dWidth, dHeight);</var>\n</pre>\n\n<p><img alt=\"drawImage\" src=\"https://mdn.mozillademos.org/files/225/Canvas_drawimage.jpg\" style=\"float: right;\" loading=\"lazy\"></p>"}},{"type":"prose","value":{"id":"параметры","title":"Параметры","isH3":true,"content":"<dl>\n <dt id=\"image\"><code>image</code></dt>\n <dd>Элемент для отображения в контексте. Функция принимает любой источник изображения, пригодный для отображения на холсте (<a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/CanvasRenderingContext2D\"><code>CanvasImageSource</code> <small>(en-US)</small></a>), конкретнее, <a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/CSSImageValue\"><code>CSSImageValue</code> <small>(en-US)</small></a>,  <a href=\"/ru/docs/Web/API/HTMLImageElement\"><code>HTMLImageElement</code></a>, <a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/SVGImageElement\"><code>SVGImageElement</code> <small>(en-US)</small></a>, <a href=\"/ru/docs/Web/API/HTMLVideoElement\"><code>HTMLVideoElement</code></a>, <a href=\"/ru/docs/Web/API/HTMLCanvasElement\"><code>HTMLCanvasElement</code></a>, <a href=\"/ru/docs/Web/API/ImageBitmap\"><code>ImageBitmap</code></a> или <a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/OffscreenCanvas\"><code>OffscreenCanvas</code> <small>(en-US)</small></a>.</dd>\n <dt id=\"dx\"><code>dx</code></dt>\n <dd>Координата по оси Х, обозначающая стартовую точку холста-приёмника, в которую будет помещён верхний левый угол исходного <code>image</code>.</dd>\n <dt id=\"dy\"><code>dy</code></dt>\n <dd>Координата по оси Y, обозначающая стартовую точку холста-приёмника, в которую будет помещён верхний левый угол исходного <code>image</code>.</dd>\n <dt id=\"dwidth\"><code>dWidth</code></dt>\n <dd>Ширина изображения, полученного из исходного <code>image</code>. Эта опция позволяет масштабировать изображение по ширине. Если опция не задана, изображение не будет масштабировано.</dd>\n <dt id=\"dheight\"><code>dHeight</code></dt>\n <dd>Высота изображения, полученного из исходного <code>image</code>. Эта опция позволяет масштабировать изображение по высоте. Если опция не задана, изображение не будет масштабировано.</dd>\n <dt id=\"sx\"><code>sx</code></dt>\n <dd>Координата по оси X верхнего левого угла фрагмента, который будет вырезан из изображения-источника и помещён в контекст-приёмник.</dd>\n <dt id=\"sy\"><code>sy</code></dt>\n <dd>Координата по оси Y верхнего левого угла фрагмента, который будет вырезан из изображения-источника и помещён в контекст-приёмник.</dd>\n <dt id=\"swidth\"><code>sWidth</code></dt>\n <dd>Ширина фрагмента, который будет вырезан из изображения источника и помещён в контекст-приёмник. Если не задана, фрагмент от точки, заданной <code>sx</code> и <code>sy</code> до правого нижнего угла источника будет целиком скопирован в контекст-приёмник.</dd>\n <dt id=\"sheight\"><code>sHeight</code></dt>\n <dd>Высота фрагмента, который будет вырезан из изображения источника и помещён в контекст-приёмник.</dd>\n</dl>"}},{"type":"prose","value":{"id":"исключения","title":"Исключения","isH3":true,"content":"<dl>\n <dt id=\"index_size_err\"><code>INDEX_SIZE_ERR</code></dt>\n <dd>Выбрасывается, если ширина или высота источника или приёмника равна нулю.</dd>\n <dt id=\"invalid_state_err\"><code>INVALID_STATE_ERR</code></dt>\n <dd>Источник не имеет данных изображения.</dd>\n <dt id=\"type_mismatch_err\"><code>TYPE_MISMATCH_ERR</code></dt>\n <dd>Тип данных источника не поддерживается.</dd>\n</dl>"}},{"type":"prose","value":{"id":"примеры","title":"Примеры","isH3":false,"content":""}},{"type":"prose","value":{"id":"использование_метода_drawimage","title":"Использование метода <code>drawImage</code>","isH3":true,"content":"<p>Вот простой пример использования <code>drawImage</code>.</p>\n\n<h4 id=\"html\">HTML</h4>\n\n<div class=\"code-example\"><pre class=\"brush: html notranslate\"><code><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>canvas</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>canvas<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>canvas</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>img</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>source<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>https://mdn.mozillademos.org/files/5397/rhino.jpg<span class=\"token punctuation\">\"</span></span>\n       <span class=\"token attr-name\">width</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>300<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">height</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>227<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n</code></pre></div>\n\n<h4 id=\"javascript\">JavaScript</h4>\n\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">var</span> canvas <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">'canvas'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> ctx <span class=\"token operator\">=</span> canvas<span class=\"token punctuation\">.</span><span class=\"token function\">getContext</span><span class=\"token punctuation\">(</span><span class=\"token string\">'2d'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> image <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">'source'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nctx<span class=\"token punctuation\">.</span><span class=\"token function\">drawImage</span><span class=\"token punctuation\">(</span>image<span class=\"token punctuation\">,</span> <span class=\"token number\">33</span><span class=\"token punctuation\">,</span> <span class=\"token number\">71</span><span class=\"token punctuation\">,</span> <span class=\"token number\">104</span><span class=\"token punctuation\">,</span> <span class=\"token number\">124</span><span class=\"token punctuation\">,</span> <span class=\"token number\">21</span><span class=\"token punctuation\">,</span> <span class=\"token number\">20</span><span class=\"token punctuation\">,</span> <span class=\"token number\">87</span><span class=\"token punctuation\">,</span> <span class=\"token number\">104</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n\n<p>Отредактируйте код ниже и посмотрите, как ваши изменения отражаются на холсте:</p>\n\n\n\n<p><iframe class=\"sample-code-frame\" title=\"Playable code sample\" id=\"frame_playable_code\" width=\"700\" height=\"360\" src=\"https://yari-demos.prod.mdn.mozit.cloud/ru/docs/Web/API/CanvasRenderingContext2D/drawImage/_sample_.playable_code.html\" loading=\"lazy\"></iframe></p>","titleAsText":"Использование метода drawImage"}},{"type":"prose","value":{"id":"понимание_размеров_изображения-источника","title":"Понимание размеров изображения-источника","isH3":true,"content":"<p>Метод <code>drawImage()</code> использует <em>внутренние размеры</em> элемента-источника, выраженные в CSS-пикселях (а не реальные размеры самой картинки).</p>\n\n<p>Например, если изображение было загружено с использованием необязательных параметров <code>width</code> и <code>height</code> в конструкторе <a href=\"/ru/docs/Web/API/HTMLImageElement\"><code>HTMLImageElement</code></a>, вместо <code>element.width</code> и <code>element.height</code> вам следует использовать свойства <code>naturalWidth</code> и <code>naturalHeight</code> экземпляра картинки (или <code>videoWidth</code> и <code>videoHeight</code>, если источник <a href=\"/ru/docs/Web/HTML/Element/video\"><code>&lt;video&gt;</code></a>), чтобы добиться правильного масштабирования и получения фрагментов картинки.</p>\n\n<h4 id=\"html_2\">HTML</h4>\n\n<div class=\"code-example\"><pre class=\"brush: html notranslate\"><code><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>canvas</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>canvas<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>canvas</span><span class=\"token punctuation\">&gt;</span></span></code></pre></div>\n\n<h4 id=\"javascript_2\">JavaScript</h4>\n\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">var</span> canvas <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">'canvas'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> ctx <span class=\"token operator\">=</span> canvas<span class=\"token punctuation\">.</span><span class=\"token function\">getContext</span><span class=\"token punctuation\">(</span><span class=\"token string\">'2d'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">var</span> image <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Image</span><span class=\"token punctuation\">(</span><span class=\"token number\">60</span><span class=\"token punctuation\">,</span> <span class=\"token number\">45</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   <span class=\"token comment\">// Размер изображения</span>\nimage<span class=\"token punctuation\">.</span>onload <span class=\"token operator\">=</span> drawImageActualSize<span class=\"token punctuation\">;</span> <span class=\"token comment\">// Рисуем изображение, когда оно будет загружено</span>\n\n<span class=\"token comment\">// load an image of intrinsic size 300x227 in CSS pixels</span>\nimage<span class=\"token punctuation\">.</span>src <span class=\"token operator\">=</span> <span class=\"token string\">'https://mdn.mozillademos.org/files/5397/rhino.jpg'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">drawImageActualSize</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// use the intrinsic size of image in CSS pixels for the canvas element</span>\n  canvas<span class=\"token punctuation\">.</span>width <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>naturalWidth<span class=\"token punctuation\">;</span>\n  canvas<span class=\"token punctuation\">.</span>height <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>naturalHeight<span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// will draw the image as 300x227 ignoring the custom size of 60x45</span>\n  <span class=\"token comment\">// given in the constructor</span>\n  ctx<span class=\"token punctuation\">.</span><span class=\"token function\">drawImage</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// To use the custom size we'll have to specify the scale parameters</span>\n  <span class=\"token comment\">// using the element's width and height properties - lets draw one</span>\n  <span class=\"token comment\">// on top in the corner:</span>\n  ctx<span class=\"token punctuation\">.</span><span class=\"token function\">drawImage</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>width<span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>height<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n\n<h4 id=\"результат\">Результат</h4>\n\n<p><iframe class=\"sample-code-frame\" title=\"Понимание размеров изображения-источника sample\" id=\"frame_понимание_размеров_изображения-источника\" width=\"700\" height=\"360\" src=\"https://yari-demos.prod.mdn.mozit.cloud/ru/docs/Web/API/CanvasRenderingContext2D/drawImage/_sample_.%D0%BF%D0%BE%D0%BD%D0%B8%D0%BC%D0%B0%D0%BD%D0%B8%D0%B5_%D1%80%D0%B0%D0%B7%D0%BC%D0%B5%D1%80%D0%BE%D0%B2_%D0%B8%D0%B7%D0%BE%D0%B1%D1%80%D0%B0%D0%B6%D0%B5%D0%BD%D0%B8%D1%8F-%D0%B8%D1%81%D1%82%D0%BE%D1%87%D0%BD%D0%B8%D0%BA%D0%B0.html\" loading=\"lazy\"></iframe></p>\n\n<p> </p>"}},{"type":"prose","value":{"id":"спецификация","title":"Спецификация","isH3":false,"content":"<p> </p>\n\n<table class=\"standard-table\">\n <tbody>\n  <tr>\n   <th scope=\"col\">Спецификация</th>\n   <th scope=\"col\">Статус</th>\n   <th scope=\"col\">Комментарий</th>\n  </tr>\n  <tr>\n   <td><a href=\"https://html.spec.whatwg.org/multipage/scripting.html#dom-context-2d-drawimage\" hreflang=\"en\" lang=\"en\" class=\"external\" rel=\" noopener\">HTML Living Standard<br><small lang=\"ru\">Определение 'CanvasRenderingContext2D.drawImage' в этой спецификации.</small></a></td>\n   <td><span class=\"spec-living\">Живой стандарт</span></td>\n   <td> </td>\n  </tr>\n </tbody>\n</table>"}},{"type":"browser_compatibility","value":{"title":"Совместимость с браузерами","id":"совместимость_с_браузерами","isH3":false,"query":"api.CanvasRenderingContext2D.drawImage","dataURL":"/ru/docs/Web/API/CanvasRenderingContext2D/drawImage/bcd.json"}},{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<p></p><p></p>"}},{"type":"prose","value":{"id":"дополнительно_о_совместимости","title":"Дополнительно о совместимости","isH3":false,"content":"<ul>\n <li>Поддержка переворачивания изображения с использованием отрицательных значений <code>sw</code> и <code>sh</code> была добавлена в Gecko 5.0 (Firefox 5.0 / Thunderbird 5.0 / SeaMonkey 2.2).</li>\n <li>Начиная с (Firefox 5.0 / Thunderbird 5.0 / SeaMonkey 2.2), <code>drawImage()</code> поддерживает отрицательные значения аргументов. Таким образом, можно переворачивать изображение вокруг разных осей.</li>\n <li>Начиная с (Firefox 5.0 / Thunderbird 5.0 / SeaMonkey 2.2), передача <code>null</code> или <code>undefined</code> как источника для <code>drawImage()</code> корректно выбрасывает исключение <code>TYPE_MISMATCH_ERR</code>.</li>\n <li>Вплоть до Gecko 7.0 (Firefox 7.0 / Thunderbird 7.0 / SeaMonkey 2.4) Firefox выбрасывал исключение в случае, если какая-то из координат равнялась нулю или бесконечности. Согласно спецификации, этого больше не происходит.</li>\n <li>Gecko 9.0 (Firefox 9.0 / Thunderbird 9.0 / SeaMonkey 2.6) теперь корректно поддерживает CORS без необходимости <a href=\"/en-US/CORS_Enabled_Image#what_is_a_.22tainted.22_canvas.3f\" title=\"en/CORS_Enabled_Image#What_is_a_.22tainted.22_canvas.3F\">\"порчи\" холста</a>.</li>\n <li>Gecko 11.0 (Firefox 11.0 / Thunderbird 11.0 / SeaMonkey 2.8) теперь поддерживает SVG как источник для <code>drawImage()</code> без необходимости <a href=\"/en-US/CORS_Enabled_Image#what_is_a_.22tainted.22_canvas.3f\" title=\"en/CORS_Enabled_Image#What_is_a_.22tainted.22_canvas.3F\">\"порчи\" холста</a>.</li>\n</ul>"}},{"type":"prose","value":{"id":"дополнительно","title":"Дополнительно","isH3":false,"content":"<ul>\n <li><code>drawImage()</code> корректно работает с <a href=\"/ru/docs/Web/API/HTMLVideoElement\"><code>HTMLVideoElement</code></a> только в том случае, когда <a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/HTMLMediaElement/readyState\"><code>HTMLMediaElement.readyState</code> <small>(en-US)</small></a><strong> больше единицы</strong> (т.е., событие <strong>seek</strong> корректно вызывается после установки свойства <code>currentTime</code>)</li>\n <li><code>drawImage()</code> будет использовать внутренний размер элемента-источника, выраженный в CSS-пикселях, при рисовании, фрагментировании или масштабировании.</li>\n <li><code>drawImage()</code> проигнорирует все EXIF-данные изображений, в том числе и <code>Orientation</code>. Такое поведение метода особенно проблематично для iOS-устройств. Вам потребуется распознать ориентацию самостоятельно и использовать <code>rotate()</code> для её корректировки.</li>\n</ul>"}},{"type":"prose","value":{"id":"смотрите_также","title":"Смотрите также","isH3":false,"content":"<ul>\n <li>Родительский интерфейс метода <a href=\"/ru/docs/Web/API/CanvasRenderingContext2D\"><code>CanvasRenderingContext2D</code></a>.</li>\n</ul>"}}],"toc":[{"text":"Синтаксис","id":"синтаксис"},{"text":"Примеры","id":"примеры"},{"text":"Спецификация","id":"спецификация"},{"text":"Совместимость с браузерами","id":"совместимость_с_браузерами"},{"text":"Дополнительно о совместимости","id":"дополнительно_о_совместимости"},{"text":"Дополнительно","id":"дополнительно"},{"text":"Смотрите также","id":"смотрите_также"}],"summary":"CanvasRenderingContext2D.drawImage() метод Canvas 2D API предоставляет разные способы рисования изображения на холсте.","popularity":0.001,"modified":"2022-10-01T03:41:16.000Z","other_translations":[{"title":"CanvasRenderingContext2D.drawImage()","locale":"en-US","native":"English (US)"},{"title":"CanvasRenderingContext2D.drawImage()","locale":"es","native":"Español"},{"title":"CanvasRenderingContext2D.drawImage()","locale":"fr","native":"Français"},{"title":"CanvasRenderingContext2D.drawImage()","locale":"zh-CN","native":"中文 (简体)"}],"source":{"folder":"ru/web/api/canvasrenderingcontext2d/drawimage","github_url":"https://github.com/mdn/translated-content/blob/main/files/ru/web/api/canvasrenderingcontext2d/drawimage/index.html","last_commit_url":"https://github.com/mdn/translated-content/commit/921c46a374ab0a9f4cc809af0370f8c412e54701","filename":"index.html"},"parents":[{"uri":"/ru/docs/Web","title":"Веб-технологии для разработчиков"},{"uri":"/ru/docs/Web/API","title":"Интерфейсы веб API"},{"uri":"/ru/docs/Web/API/CanvasRenderingContext2D","title":"CanvasRenderingContext2D"},{"uri":"/ru/docs/Web/API/CanvasRenderingContext2D/drawImage","title":"CanvasRenderingContext2D.drawImage()"}],"pageTitle":"CanvasRenderingContext2D.drawImage() - Интерфейсы веб API | MDN","noIndexing":false}}