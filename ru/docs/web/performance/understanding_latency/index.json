{"doc":{"isMarkdown":false,"isTranslated":true,"isActive":true,"flaws":{},"title":"Время ожидания (latency)","mdn_url":"/ru/docs/Web/Performance/Understanding_latency","locale":"ru","native":"Русский","sidebarHTML":"","body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<p><strong>Latency</strong> (дальше - <strong>время ожидания</strong>) - это время, которое требуется на доставку пакета данных от источника к пункту назначения. В деле оптимизации производительности важно сокращать проблемы, которые приводят к длительному времени ожидания. Также  необходимо научиться тестировать работу приложения в условиях плохого соединения. В этой статье мы рассмотрим само понятие времени ожидание, его причины, способы детекции и исправления.</p>"}},{"type":"prose","value":{"id":"что_такое_время_ожидания","title":"Что такое \"время ожидания\"?","isH3":false,"content":"<p>Время ожидания - это промежуток времени, который проходит с момента старта запроса до момента получения ответа. При запросе первых 14КБ время ожидания дольше, потому что весь запрос включает в себя <a href=\"/ru/docs/Glossary/DNS\">DNS</a> запрос, соединение  <a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Glossary/TCP_handshake\">TCP handshake <small>(en-US)</small></a>, установление безопасного соединения <a href=\"/ru/docs/Glossary/TLS\">TLS</a>. Последующие запросы будут иметь меньшее время ожидания, так как соединение с сервером уже установлено.</p>\n\n<p>Время ожидания описывает величину задержки сети или, в частности, интернет-соединения. Малое время ожидания подразумевает едва заметные задержки. Большое время ожидания подразумевает большие задержки. Одно из основных усилий в оптимизации приложения должно быть направлено на снижение этого времени ожидания.</p>\n\n<p>Улучшить время ожидания, связанное только с одним ресурсом, например, с HTML кодом страницы - это довольно просто. Но приложения, как правило, состоят из множества запросов: CSS, JavaScript-файлы, медиа. Чем больше запросов исходит со страницы, тем большее влияние оказывает время ожидания на общие впечатления пользователя.</p>\n\n<p>При соединении с малым временем ожидания ресурсы появляются практически мгновенно. При соединении с большим временем ожидания задержка между запросом и ответом становится заметной. Мы можем определить время ожидания, измеряя скорость, с которой данные проходят из одной сети к другой.</p>\n\n<p>Время ожидания может быть измерено для одного направления (например, сколько времени проходит до отправки запроса) или для полного пути обмена сообщениями (сколько времени заняли запрос и получение ответов).</p>"}},{"type":"prose","value":{"id":"эмуляция_времени_ожидания","title":"Эмуляция времени ожидания","isH3":false,"content":"<p>Для эмуляции большой времени задержки вы можете использовать средства разработчика. В англоязычных интерфейсах эмуляция называется \"Throttling\".</p>\n\n<p><img alt=\"Emulate latency by emulating throttling\" src=\"https://mdn.mozillademos.org/files/16805/emulate_latency.png\" loading=\"lazy\"></p>\n\n<p>В Firefox кнопка переключения находится на панели Network (Сеть), в заголовке таблицы. С помощью инструмента вы можете испытать работу приложения в сетях от GPRS до высокоскоростных. Также вы можете сами указать скорость загрузки и время ожидания. Браузеры предоставляют разные наборы значений, но, как правило, все они покрывают перечисленные ниже случаи:</p>\n\n<table>\n <thead>\n  <tr>\n   <th>Selection</th>\n   <th>Download speed</th>\n   <th>Upload speed</th>\n   <th>Minimum latency (ms)</th>\n  </tr>\n </thead>\n <tbody>\n  <tr>\n   <td>GPRS</td>\n   <td>50 Kbps</td>\n   <td>20 Kbps</td>\n   <td>500</td>\n  </tr>\n  <tr>\n   <td>Regular 2G</td>\n   <td>250 Kbps</td>\n   <td>50 Kbps</td>\n   <td>300</td>\n  </tr>\n  <tr>\n   <td>Good 2G</td>\n   <td>450 Kbps</td>\n   <td>150 Kbps</td>\n   <td>150</td>\n  </tr>\n  <tr>\n   <td>Regular 3G</td>\n   <td>750 Kbps</td>\n   <td>250 Kbps</td>\n   <td>100</td>\n  </tr>\n  <tr>\n   <td>Good 3G</td>\n   <td>1.5 Mbps</td>\n   <td>750 Kbps</td>\n   <td>40</td>\n  </tr>\n  <tr>\n   <td>Regular 4G/LTE</td>\n   <td>4 Mbps</td>\n   <td>3 Mbps</td>\n   <td>20</td>\n  </tr>\n  <tr>\n   <td>DSL</td>\n   <td>2 Mbps</td>\n   <td>1 Mbps</td>\n   <td>5</td>\n  </tr>\n  <tr>\n   <td>Wi-Fi</td>\n   <td>30 Mbps</td>\n   <td>15 Mbps</td>\n   <td>2</td>\n  </tr>\n </tbody>\n</table>"}},{"type":"prose","value":{"id":"временные_показатели_сети","title":"Временные показатели сети","isH3":false,"content":"<p>Кроме того, во вкладке Network (Сеть), вы можете изучить, как много времени занял тот или иной запрос. На изображении ниже - пример загрузка SVG файла размером 267.5КБ.</p>\n\n<div id=\"sect1\"><img alt=\"The time it took for a large SVG asset to load.\" src=\"https://mdn.mozillademos.org/files/16807/latencymlw.png\" loading=\"lazy\"></div>\n\n<p>Когда запрос находится в очереди, ожидая установки соединения с сервером, он считается заблокированным. Блокировка случается, когда браузер уже обрабатывает слишком много соединений одновременно (в большей степени это относится к предыдущему поколению HTTP1.1, который позволял поддерживать до 6 соединений за раз). Пока все соединения обрабатываются, браузер не может загружать другие ресурсы. Как только загрузка ресурса завершается - соединение освобождается.</p>\n\n<p><strong>DNS поиск (DNS resolution) </strong>- это время, которое требуется на <a class=\"page-not-created\" title=\"Документация об этом ещё не написана; пожалуйста, поспособствуйте её написанию!\">DNS lookup</a>. Это процесс, когда браузер находит соответствие между именем домена и его IP-адресом. Если вы обращаетесь ко многим доменам, DNS поиск занимает больше времени.</p>\n\n<p><strong>Установка соединения (Connecting) </strong>- это время, требуемое на <a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Glossary/TCP_handshake\">TCP handshake <small>(en-US)</small></a>. Это процесс SYN - ACK, когда браузер и сервер договариваются о формате соединения. Как и DNS, чем больше соединений к разным серверам вы используете, тем больше время создания соединений.</p>\n\n<p> <strong><a href=\"/ru/docs/Glossary/TLS\">TLS</a> handshake</strong> - это процесс установки безопасного соединения. И хотя установка безопасного соединения занимает дополнительное время, ни в коем случае не стоит отказываться от него, жертвуя безопасностью пользователей.</p>\n\n<p><strong>Отправка</strong> <strong>(Sending)</strong> - время, необходимое для отправки HTTP запроса на сервер.</p>\n\n<p><strong>Ожидание (Waiting</strong>) - это ожидание обработки запроса сервером. Например, вы хотите получить изображение. В этом случае сервер должен обратиться к файловой системе, найти файл, передать его HTTP соединению. В случае сложных динамических запросов процесс может занимать секунды и минуты. Это ещё одно место для оптимизации, но уже не клиентское, а серверное.</p>\n\n<p><strong>Получение (Receiving</strong>) - это время на загрузку ответа. Этот показатель - комбинация скорости сети и размера файла. Если изображение было закешировано, то его загрузка может произойти мгновенно. Но если не использовать кеш и включить эмуляцию медленной сети, изображение может загружаться 43 секунды!</p>"}},{"type":"prose","value":{"id":"измерение_времени_ожидания","title":"Измерение времени ожидания","isH3":false,"content":"<p><strong>Время ожидания сети (Network latency</strong>) - это время, которое требуется на отправку запроса и полную загрузку ответа.</p>\n\n<p><strong>Время ожидания диска (Disk latency</strong>) - это время, которое требуется устройству на то, чтобы получить запрос, понять его, найти файл в файловой системе и вернуть ответ.</p>"}}],"toc":[{"text":"Что такое \"время ожидания\"?","id":"что_такое_время_ожидания"},{"text":"Эмуляция времени ожидания","id":"эмуляция_времени_ожидания"},{"text":"Временные показатели сети","id":"временные_показатели_сети"},{"text":"Измерение времени ожидания","id":"измерение_времени_ожидания"}],"summary":"Latency (дальше - время ожидания) - это время, которое требуется на доставку пакета данных от источника к пункту назначения. В деле оптимизации производительности важно сокращать проблемы, которые приводят к длительному времени ожидания. Также  необходимо научиться тестировать работу приложения в условиях плохого соединения. В этой статье мы рассмотрим само понятие времени ожидание, его причины, способы детекции и исправления.","popularity":0.0005,"modified":"2022-10-01T03:41:16.000Z","other_translations":[{"title":"Understanding latency","locale":"en-US","native":"English (US)"}],"source":{"folder":"ru/web/performance/understanding_latency","github_url":"https://github.com/mdn/translated-content/blob/main/files/ru/web/performance/understanding_latency/index.html","last_commit_url":"https://github.com/mdn/translated-content/commit/921c46a374ab0a9f4cc809af0370f8c412e54701","filename":"index.html"},"parents":[{"uri":"/ru/docs/Web","title":"Веб-технологии для разработчиков"},{"uri":"/ru/docs/Web/Performance","title":"Web Performance"},{"uri":"/ru/docs/Web/Performance/Understanding_latency","title":"Время ожидания (latency)"}],"pageTitle":"Время ожидания (latency) - Web Performance | MDN","noIndexing":false}}