(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[9],{106:function(e,t,n){},122:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return f}));var c=n(8),r=n.n(c),a=n(12),s=n(3),i=n(1),o=n.n(i),u=n(4),d=n(14),j=n(6),l=n(19),h=n(9),b=n(70),x=(n(78),n(106),n(0));function f(){var e=Object(u.d)(),t=Object(s.a)(e,1)[0],n=Object(h.a)(),c=Object(l.c)(),i=new URLSearchParams,f=o.a.useMemo((function(){return c&&c.isAuthenticated?"/api/v1/settings":null}),[c]),m=Object(d.a)(f,function(){var e=Object(a.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:if((n=e.sent).ok){e.next=5;break}throw new Error("".concat(n.status," on ").concat(t));case 5:return e.next=7,n.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),p=m.data,g=m.error,w="/".concat(n,"/"),v=t.get("next")||w;v.toLowerCase()===window.location.pathname.toLowerCase()&&(v=w);return i.set("next",v),j.d?Object(x.jsx)(b.a,{}):Object(x.jsx)(x.Fragment,{children:c?c.isAuthenticated?Object(x.jsxs)("form",{className:"sign-out-form",method:"post",action:"/users/fxa/login/logout/",children:[Object(x.jsx)("h2",{children:"You're already signed in."}),p&&p.csrfmiddlewaretoken&&Object(x.jsx)("input",{type:"hidden",name:"csrfmiddlewaretoken",value:p.csrfmiddlewaretoken}),Object(x.jsx)("input",{type:"hidden",name:"next",value:v}),g&&Object(x.jsx)("div",{className:"notecard negative",children:Object(x.jsxs)("p",{children:[Object(x.jsx)("strong",{children:"Server error"})," Unable to connect to the server."]})}),p&&p.csrfmiddlewaretoken&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("button",{type:"submit",className:"ghost",children:"Sign out"}),"or, ",Object(x.jsx)("a",{href:"/",children:"return to the home page"})]}),"."]}):Object(x.jsx)(x.Fragment,{children:Object(x.jsx)("ul",{className:"auth-buttons",children:Object(x.jsx)("li",{children:Object(x.jsx)("a",{href:"".concat("","/users/fxa/login/authenticate/?").concat(i.toString()),className:"button icon-button outline",onClick:function(){Object(l.b)()},children:"Sign in with Firefox Accounts"})})})}):Object(x.jsx)(O,{})})}function O(){return Object(x.jsx)("p",{style:{minHeight:200},children:"Loading..."})}},70:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var c=n(0);function r(){return Object(c.jsxs)("div",{className:"notecard warning",children:[Object(c.jsx)("h4",{children:"Authentication disabled"}),Object(c.jsx)("p",{children:"Authentication and the user settings app is currently disabled."})]})}},78:function(e,t,n){}}]);
//# sourceMappingURL=9.d278f6c6.chunk.js.map