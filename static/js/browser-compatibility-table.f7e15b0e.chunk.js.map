{"version":3,"sources":["document/ingredients/browser-compatibility-table/browser-info.tsx","document/ingredients/browser-compatibility-table/error-boundary.tsx","document/ingredients/browser-compatibility-table/utils.ts","document/ingredients/browser-compatibility-table/feature-row.tsx","document/ingredients/browser-compatibility-table/headers.tsx","document/ingredients/browser-compatibility-table/legend.tsx","document/ingredients/browser-compatibility-table/index.tsx"],"names":["BrowserInfoContext","React","createContext","BrowserName","id","browserInfo","useContext","Error","name","BrowserPreviewName","preview_name","BrowserCompatibilityErrorBoundary","state","error","_errorInfo","this","setState","className","props","children","Component","getFirst","a","Array","isArray","asList","isTruthy","t","Boolean","listFeatures","identifier","parentName","rootName","features","__compat","push","compat","isRoot","Object","entries","subName","subIdentifier","getSupportClassName","support","flags","version_added","version_removed","partial_implementation","length","StatusIcons","status","icons","experimental","title","text","iconClassName","deprecated","standard_track","filter","map","icon","labelFromString","version","browser","startsWith","slice","CellText","memo","label","currentSupport","added","removed","isSupported","Icon","CellIcons","supportItem","prefix","alternative_name","notes","FlagsNote","info","hasAddedVersion","hasRemovedVersion","flag","i","valueToSet","value_to_set","Fragment","type","pref_url","some","getNotes","locale","flatMap","item","supportNotes","iconName","note","keys","x","includes","flat","hasNotes","dangerouslySetInnerHTML","__html","CompatCell","showNotes","onToggle","supportClassName","browserReleaseDate","release_date","getSupportBrowserReleaseDate","aria-expanded","tabIndex","undefined","onClick","aria-hidden","FeatureRow","titleNode","index","feature","browsers","activeCell","onToggleCell","description","activeBrowser","bad_url","mdn_url","href","scope","colSpan","PLATFORM_BROWSERS","desktop","mobile","server","PlatformHeaders","platforms","platform","browsersInPlatform","browserCount","platformId","replace","BrowserHeaders","Headers","LEGEND_LABELS","yes","partial","preview","no","unknown","footnote","disabled","altname","getActiveLegendItems","legendItems","Set","add","values","browserSupport","versionSupport","key","has","Legend","FeatureListAccordion","useReducer","activeRow","activeColumn","row","column","dispatchCellToggle","BrowserCompatibilityTable","query","data","location","useLocation","breadcrumbs","split","category","hasNodeJSData","hasDenoData","delete","gatherPlatformsAndBrowsers","Provider","value","sp","URLSearchParams","body","pathname","Date","toISOString","trim","set","toString","getNewIssueURL","target","rel"],"mappings":"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","file":"static/js/browser-compatibility-table.f7e15b0e.chunk.js","sourcesContent":["import React, { useContext } from \"react\";\nimport type bcd from \"@mdn/browser-compat-data/types\";\n\nexport const BrowserInfoContext = React.createContext<bcd.Browsers | null>(\n  null\n);\n\nexport function BrowserName({ id }: { id: bcd.BrowserNames }) {\n  const browserInfo = useContext(BrowserInfoContext);\n  if (!browserInfo) {\n    throw new Error(\"Missing browser info\");\n  }\n  return <>{browserInfo[id].name}</>;\n}\n\nexport function BrowserPreviewName({ id }: { id: bcd.BrowserNames }) {\n  const browserInfo = useContext(BrowserInfoContext);\n  if (!browserInfo) {\n    throw new Error(\"Missing browser info\");\n  }\n  return <>{browserInfo[id].preview_name}</>;\n}\n","import React from \"react\";\n\n/**\n * The error boundary for BrowserCompatibilityTable.\n *\n * When the whole BrowserCompatibilityTable crashes, for whatever reason,\n * this component will show a friendly message\n * to replace that crashed component\n */\nexport class BrowserCompatibilityErrorBoundary extends React.Component<\n  any,\n  any\n> {\n  state = {\n    error: null,\n  };\n  componentDidCatch(error, _errorInfo) {\n    this.setState({\n      error,\n    });\n    // TODO: Report this error to Sentry, https://github.com/mdn/yari/issues/99\n  }\n  render() {\n    if (this.state.error) {\n      return (\n        <>\n          <div className=\"bc-table-error-boundary\">\n            Unfortunately, this table has encountered unhandled error and the\n            content cannot be shown.\n            {/* TODO: When error reporting is set up, the message should include \"We have been notified of this error\" or something similar */}\n          </div>\n        </>\n      );\n    }\n    return this.props.children;\n  }\n}\n","import type bcd from \"@mdn/browser-compat-data/types\";\n\nexport function getFirst<T>(a: T | T[]): T;\nexport function getFirst<T>(a: T | T[] | undefined): T | undefined {\n  return Array.isArray(a) ? a[0] : a;\n}\n\nexport function asList<T>(a: T | T[]): T[] {\n  return Array.isArray(a) ? a : [a];\n}\n\nexport function isTruthy<T>(t: T | false | undefined | null): t is T {\n  return Boolean(t);\n}\n\ninterface Feature {\n  name: string;\n  compat: bcd.CompatStatement;\n  isRoot: boolean;\n}\n\nexport function listFeatures(\n  identifier: bcd.Identifier,\n  parentName: string = \"\",\n  rootName: string = \"\"\n): Feature[] {\n  const features: Feature[] = [];\n  if (rootName && identifier.__compat) {\n    features.push({\n      name: rootName,\n      compat: identifier.__compat,\n      isRoot: true,\n    });\n  }\n\n  for (const [subName, subIdentifier] of Object.entries(identifier)) {\n    if (subName !== \"__compat\" && subIdentifier.__compat) {\n      features.push({\n        name: parentName ? `${parentName}.${subName}` : subName,\n        compat: subIdentifier.__compat,\n        isRoot: parentName !== \"\",\n      });\n      features.push(...listFeatures(subIdentifier, subName));\n    }\n  }\n  return features;\n}\n","import React, { useContext } from \"react\";\nimport type bcd from \"@mdn/browser-compat-data/types\";\nimport {\n  BrowserInfoContext,\n  BrowserName,\n  BrowserPreviewName,\n} from \"./browser-info\";\nimport { asList, getFirst, isTruthy } from \"./utils\";\n\n// Yari builder will attach extra keys from the compat data\n// it gets from @mdn/browser-compat-data. These are \"Yari'esque\"\n// extras that helps us avoiding to have a separate data structure.\ninterface CompatStatementExtended extends bcd.CompatStatement {\n  // When a compat statement has a .mdn_url but it's actually not a good\n  // one, the Yari builder will attach an extra boolean that indicates\n  // that it's not a valid link.\n  // Note, it's only 'true' if it's present, hence this interface definition.\n  bad_url?: true;\n}\n\n// Extended for the fields, beyond the bcd types, that are extra-added\n// exclusively in Yari.\ninterface SimpleSupportStatementExtended extends bcd.SimpleSupportStatement {\n  // Known for some support statements where the browser *version* is known,\n  // as opposed to just \"true\" and if the version release date is known.\n  release_date?: string;\n}\n\ntype SupportStatementExtended =\n  | SimpleSupportStatementExtended\n  | SimpleSupportStatementExtended[];\n\nfunction getSupportClassName(\n  support: SupportStatementExtended | undefined\n): string {\n  if (!support) {\n    return \"unknown\";\n  }\n\n  let { flags, version_added, version_removed, partial_implementation } =\n    getFirst(support);\n\n  let className;\n  if (version_added === null) {\n    className = \"unknown\";\n  } else if (version_added === \"preview\") {\n    className = \"preview\";\n  } else if (version_added) {\n    className = \"yes\";\n    if (version_removed || (flags && flags.length)) {\n      className = \"no\";\n    }\n  } else {\n    className = \"no\";\n  }\n  if (partial_implementation && !version_removed) {\n    className = \"partial\";\n  }\n\n  return className;\n}\n\nfunction getSupportBrowserReleaseDate(\n  support: SupportStatementExtended | undefined\n): string | undefined {\n  if (!support) {\n    return undefined;\n  }\n  return getFirst(support).release_date;\n}\n\nfunction StatusIcons({ status }: { status: bcd.StatusBlock }) {\n  const icons = [\n    status.experimental && {\n      title: \"Experimental. Expect behavior to change in the future.\",\n      text: \"Experimental\",\n      iconClassName: \"ic-experimental\",\n    },\n    status.deprecated && {\n      title: \"Deprecated. Not for use in new websites.\",\n      text: \"Deprecated\",\n      iconClassName: \"ic-deprecated\",\n    },\n    !status.standard_track && {\n      title: \"Non-standard. Expect poor cross-browser support.\",\n      text: \"Non-standard\",\n      iconClassName: \"ic-non-standard\",\n    },\n  ].filter(isTruthy);\n  return icons.length === 0 ? null : (\n    <div className=\"bc-icons\">\n      {icons.map((icon) => (\n        <abbr key={icon.iconClassName} className=\"only-icon\" title={icon.title}>\n          <span>{icon.text}</span>\n          <i className={icon.iconClassName} />\n        </abbr>\n      ))}\n    </div>\n  );\n}\n\nfunction labelFromString(\n  version: string | boolean | null | undefined,\n  browser: bcd.BrowserNames\n) {\n  if (typeof version !== \"string\") {\n    return <>{\"?\"}</>;\n  }\n  // Treat BCD ranges as exact versions to avoid confusion for the reader\n  // See https://github.com/mdn/yari/issues/3238\n  if (version.startsWith(\"≤\")) {\n    return <>{version.slice(1)}</>;\n  }\n  if (version === \"preview\") {\n    return <BrowserPreviewName id={browser} />;\n  }\n  return <>{version}</>;\n}\n\nconst CellText = React.memo(\n  ({\n    support,\n    browser,\n  }: {\n    support: bcd.SupportStatement | undefined;\n    browser: bcd.BrowserNames;\n  }) => {\n    const currentSupport = getFirst(support);\n\n    const added = currentSupport && currentSupport.version_added;\n    const removed = currentSupport && currentSupport.version_removed;\n\n    let status:\n      | { isSupported: \"unknown\" }\n      | {\n          isSupported: \"no\" | \"yes\" | \"partial\" | \"preview\";\n          label?: React.ReactNode;\n        };\n\n    switch (added) {\n      case null:\n        status = { isSupported: \"unknown\" };\n        break;\n      case true:\n        status = { isSupported: \"yes\" };\n        break;\n      case false:\n        status = { isSupported: \"no\" };\n        break;\n      case \"preview\":\n        status = { isSupported: \"preview\" };\n        break;\n      default:\n        status = { isSupported: \"yes\", label: labelFromString(added, browser) };\n        break;\n    }\n\n    if (removed) {\n      status = {\n        isSupported: \"no\",\n        label: (\n          <>\n            {labelFromString(added, browser)}&#8202;&ndash;&#8202;\n            {labelFromString(removed, browser)}\n          </>\n        ),\n      };\n    } else if (currentSupport && currentSupport.partial_implementation) {\n      status = {\n        isSupported: \"partial\",\n        label:\n          typeof added === \"string\"\n            ? labelFromString(added, browser)\n            : \"Partial\",\n      };\n    }\n\n    let label: string | React.ReactNode;\n    let title = \"\";\n    switch (status.isSupported) {\n      case \"yes\":\n        title = \"Full support\";\n        label = status.label || \"Yes\";\n        break;\n\n      case \"partial\":\n        title = \"Partial support\";\n        label = status.label || \"Partial\";\n        break;\n\n      case \"no\":\n        title = \"No support\";\n        label = status.label || \"No\";\n        break;\n\n      case \"preview\":\n        title = \"Preview browser support\";\n        label = <BrowserPreviewName id={browser} />;\n        break;\n\n      case \"unknown\":\n        title = \"Compatibility unknown; please update this.\";\n        label = \"?\";\n        break;\n    }\n\n    return (\n      <>\n        <abbr\n          className={`bc-level-${getSupportClassName(\n            currentSupport\n          )} only-icon`}\n          title={title}\n        >\n          <span>{title}</span>\n        </abbr>\n        <span>{label}</span>\n      </>\n    );\n  }\n);\n\nfunction Icon({ name }: { name: string }) {\n  return (\n    <abbr className=\"only-icon\" title={name}>\n      <span>{name}</span>\n      <i className={`ic-${name}`} />\n    </abbr>\n  );\n}\n\nfunction CellIcons({ support }: { support: bcd.SupportStatement | undefined }) {\n  const supportItem = getFirst(support);\n  if (!supportItem) {\n    return null;\n  }\n  return (\n    <div className=\"bc-icons\">\n      {supportItem.prefix && <Icon name=\"prefix\" />}\n      {supportItem.alternative_name && <Icon name=\"altname\" />}\n      {supportItem.flags && <Icon name=\"disabled\" />}\n      {supportItem.notes && <Icon name=\"footnote\" />}\n    </div>\n  );\n}\n\nfunction FlagsNote({\n  supportItem,\n  browser,\n}: {\n  supportItem: bcd.SimpleSupportStatement;\n  browser: bcd.BrowserNames;\n}) {\n  const browserInfo = useContext(BrowserInfoContext);\n  if (!browserInfo) {\n    throw new Error(\"Missing browser info\");\n  }\n  const info = browserInfo[browser];\n\n  const hasAddedVersion = typeof supportItem.version_added === \"string\";\n  const hasRemovedVersion = typeof supportItem.version_removed === \"string\";\n  const flags = supportItem.flags || [];\n  return (\n    <>\n      {hasAddedVersion && `From version ${supportItem.version_added}`}\n      {hasRemovedVersion && (\n        <>\n          {hasAddedVersion ? \" until\" : \"Until\"} version{\" \"}\n          {supportItem.version_removed} (exclusive)\n        </>\n      )}\n      {hasAddedVersion || hasRemovedVersion ? \": this\" : \"This\"} feature is\n      behind the\n      {flags.map((flag, i) => {\n        const valueToSet = flag.value_to_set && (\n          <>\n            {\" \"}\n            (needs to be set to <code>{flag.value_to_set}</code>)\n          </>\n        );\n        return (\n          <React.Fragment key={flag.name}>\n            <code>{flag.name}</code>\n            {flag.type === \"preference\" && <> preferences{valueToSet}</>}\n            {flag.type === \"runtime_flag\" && <> runtime flag{valueToSet}</>}\n            {i < flags.length - 1 && \" and the \"}\n          </React.Fragment>\n        );\n      })}\n      .\n      {info.pref_url &&\n        flags.some((flag) => flag.type === \"preference\") &&\n        ` To change preferences in ${info.name}, visit ${info.pref_url}.`}\n    </>\n  );\n}\n\nfunction getNotes(\n  browser: bcd.BrowserNames,\n  support: bcd.SupportStatement,\n  locale: string\n) {\n  return asList(support)\n    .flatMap((item, i) => {\n      const supportNotes = [\n        item.version_removed\n          ? {\n              iconName: \"footnote\",\n              label: (\n                <>\n                  Removed in {labelFromString(item.version_removed, browser)}{\" \"}\n                  and later\n                </>\n              ),\n            }\n          : null,\n        item.partial_implementation\n          ? {\n              iconName: \"footnote\",\n              label: \"Partial support\",\n            }\n          : null,\n        item.prefix\n          ? {\n              iconName: \"footnote\",\n              label: `Implemented with the vendor prefix: ${item.prefix}`,\n            }\n          : null,\n        item.alternative_name\n          ? {\n              iconName: \"footnote\",\n              label: `Alternate name: ${item.alternative_name}`,\n            }\n          : null,\n        item.flags\n          ? {\n              iconName: \"footnote\",\n              label: <FlagsNote browser={browser} supportItem={item} />,\n            }\n          : null,\n        item.notes\n          ? (Array.isArray(item.notes) ? item.notes : [item.notes]).map(\n              (note) => ({ iconName: \"footnote\", label: note })\n            )\n          : null,\n        item.version_added === \"preview\"\n          ? {\n              iconName: \"footnote\",\n              label: \"Preview browser support\",\n            }\n          : null,\n        // If we encounter nothing else than the required `version_added` and\n        // `release_date` properties, assume full support\n        Object.keys(item).filter(\n          (x) => ![\"version_added\", \"release_date\"].includes(x)\n        ).length === 0 && item.version_added !== \"preview\"\n          ? {\n              iconName: \"footnote\",\n              label: \"Full support\",\n            }\n          : null,\n      ]\n        .flat()\n        .filter(isTruthy);\n\n      const hasNotes = supportNotes.length > 0;\n      return (\n        (i === 0 || hasNotes) && (\n          <React.Fragment key={i}>\n            <div className=\"bc-notes-wrapper\">\n              <dt\n                className={`bc-supports-${getSupportClassName(\n                  item\n                )} bc-supports`}\n              >\n                <CellText support={item} browser={browser} />\n                <CellIcons support={item} />\n              </dt>\n              {supportNotes.map(({ iconName, label }, i) => {\n                return (\n                  <dd key={i}>\n                    <Icon name={iconName} />{\" \"}\n                    {typeof label === \"string\" ? (\n                      <span dangerouslySetInnerHTML={{ __html: label }} />\n                    ) : (\n                      label\n                    )}\n                  </dd>\n                );\n              })}\n              {!hasNotes && <dd />}\n            </div>\n          </React.Fragment>\n        )\n      );\n    })\n    .filter(isTruthy);\n}\n\nfunction CompatCell({\n  browser,\n  support,\n  showNotes,\n  onToggle,\n  locale,\n}: {\n  browser: bcd.BrowserNames;\n  support: bcd.SupportStatement | undefined;\n  showNotes: boolean;\n  onToggle: () => void;\n  locale: string;\n}) {\n  const supportClassName = getSupportClassName(support);\n  const browserReleaseDate = getSupportBrowserReleaseDate(support);\n  // Whenever the support statement is complex (array with more than one entry)\n  // or if a single entry is complex (prefix, notes, etc.),\n  // we need to render support details in `bc-history`\n  const hasNotes =\n    support &&\n    (asList(support).length > 1 ||\n      asList(support).some(\n        (item) =>\n          item.prefix || item.notes || item.alternative_name || item.flags\n      ));\n  return (\n    <>\n      <td\n        className={`bc-browser-${browser} bc-supports-${supportClassName} ${\n          hasNotes ? \"bc-has-history\" : \"\"\n        }`}\n        aria-expanded={showNotes ? \"true\" : \"false\"}\n        tabIndex={hasNotes ? 0 : undefined}\n        onClick={\n          hasNotes\n            ? () => {\n                onToggle();\n              }\n            : undefined\n        }\n        title={\n          browserReleaseDate ? `Released ${browserReleaseDate}` : undefined\n        }\n      >\n        <span className=\"bc-browser-name\">\n          <BrowserName id={browser} />\n        </span>\n        <CellText {...{ support }} browser={browser} />\n        <CellIcons support={support} />\n        {hasNotes && (\n          <button\n            type=\"button\"\n            title=\"Open implementation notes\"\n            className={`bc-history-link only-icon ${\n              showNotes ? \"bc-history-link-inverse\" : \"\"\n            }`}\n          >\n            <span>Open</span>\n            <i className=\"ic-history\" aria-hidden=\"true\" />\n          </button>\n        )}\n        {showNotes && (\n          <dl className=\"bc-notes-list bc-history bc-history-mobile\">\n            {getNotes(browser, support!, locale)}\n          </dl>\n        )}\n      </td>\n    </>\n  );\n}\n\nexport const FeatureRow = React.memo(\n  ({\n    index,\n    feature,\n    browsers,\n    activeCell,\n    onToggleCell,\n    locale,\n  }: {\n    index: number;\n    feature: {\n      name: string;\n      compat: CompatStatementExtended;\n      isRoot: boolean;\n    };\n    browsers: bcd.BrowserNames[];\n    activeCell: number | null;\n    onToggleCell: ([row, column]: [number, number]) => void;\n    locale: string;\n  }) => {\n    const { name, compat, isRoot } = feature;\n    const title = compat.description ? (\n      <span dangerouslySetInnerHTML={{ __html: compat.description }} />\n    ) : (\n      <code>{name}</code>\n    );\n    const activeBrowser = activeCell !== null ? browsers[activeCell] : null;\n\n    let titleNode: string | React.ReactNode;\n\n    if (compat.bad_url && compat.mdn_url) {\n      titleNode = (\n        <div className=\"bc-table-row-header\">\n          <abbr className=\"new\" title={`${compat.mdn_url} does not exist`}>\n            {title}\n          </abbr>\n          {compat.status && <StatusIcons status={compat.status} />}\n        </div>\n      );\n    } else if (compat.mdn_url && !isRoot) {\n      titleNode = (\n        <a href={compat.mdn_url} className=\"bc-table-row-header\">\n          {title}\n          {compat.status && <StatusIcons status={compat.status} />}\n        </a>\n      );\n    } else {\n      titleNode = (\n        <div className=\"bc-table-row-header\">\n          {title}\n          {compat.status && <StatusIcons status={compat.status} />}\n        </div>\n      );\n    }\n\n    return (\n      <>\n        <tr>\n          <th scope=\"row\">{titleNode}</th>\n          {browsers.map((browser, i) => (\n            <CompatCell\n              key={browser}\n              browser={browser}\n              support={compat.support[browser]}\n              showNotes={activeCell === i}\n              onToggle={() => onToggleCell([index, i])}\n              locale={locale}\n            />\n          ))}\n        </tr>\n        {activeBrowser && (\n          <tr className=\"bc-history\">\n            <td colSpan={browsers.length + 1}>\n              <dl className=\"bc-notes-list\">\n                {getNotes(\n                  activeBrowser,\n                  compat.support[activeBrowser]!,\n                  locale\n                )}\n              </dl>\n            </td>\n          </tr>\n        )}\n      </>\n    );\n  }\n);\n","import type bcd from \"@mdn/browser-compat-data/types\";\nimport { BrowserName } from \"./browser-info\";\n\nexport const PLATFORM_BROWSERS: { [key: string]: bcd.BrowserNames[] } = {\n  desktop: [\"chrome\", \"edge\", \"firefox\", \"ie\", \"opera\", \"safari\"],\n  mobile: [\n    \"webview_android\",\n    \"chrome_android\",\n    \"firefox_android\",\n    \"opera_android\",\n    \"safari_ios\",\n    \"samsunginternet_android\",\n  ],\n  server: [\"deno\", \"nodejs\"],\n  \"webextensions-desktop\": [\"chrome\", \"edge\", \"firefox\", \"opera\", \"safari\"],\n  \"webextensions-mobile\": [\"firefox_android\", \"safari_ios\"],\n};\n\nfunction PlatformHeaders({ platforms, browsers }) {\n  return (\n    <tr className=\"bc-platforms\">\n      <td />\n      {platforms.map((platform) => {\n        // Get the intersection of browsers in the `browsers` array and the\n        // `PLATFORM_BROWSERS[platform]`.\n        const browsersInPlatform = PLATFORM_BROWSERS[platform].filter(\n          (browser) => browsers.includes(browser)\n        );\n        const browserCount = Object.keys(browsersInPlatform).length;\n        const platformId = platform.replace(\"webextensions-\", \"\");\n        return (\n          <th\n            key={platform}\n            className={`bc-platform-${platformId}`}\n            colSpan={browserCount}\n            title={platform}\n          >\n            <span>{platform}</span>\n          </th>\n        );\n      })}\n    </tr>\n  );\n}\n\nfunction BrowserHeaders({ browsers }: { browsers }) {\n  return (\n    <tr className=\"bc-browsers\">\n      <td />\n      {browsers.map((browser) => (\n        <th key={browser} className={`bc-browser-${browser}`}>\n          <span className={`bc-head-txt-label bc-head-icon-${browser}`}>\n            <BrowserName id={browser} />\n          </span>\n        </th>\n      ))}\n    </tr>\n  );\n}\n\nexport function Headers({ platforms, browsers }) {\n  return (\n    <thead>\n      <PlatformHeaders platforms={platforms} browsers={browsers} />\n      <BrowserHeaders browsers={browsers} />\n    </thead>\n  );\n}\n","import type bcd from \"@mdn/browser-compat-data/types\";\nimport { asList, listFeatures } from \"./utils\";\n\n// Also specifies the order in which the legend appears\nconst LEGEND_LABELS = {\n  yes: \"Full support\",\n  partial: \"Partial support\",\n  preview: \"In development. Supported in a pre-release version.\",\n  no: \"No support\",\n  unknown: \"Compatibility unknown\",\n  experimental: \"Experimental. Expect behavior to change in the future.\",\n  \"non-standard\": \"Non-standard. Check cross-browser support before using.\",\n  deprecated: \"Deprecated. Not for use in new websites.\",\n  footnote: \"See implementation notes.\",\n  disabled: \"User must explicitly enable this feature.\",\n  altname: \"Uses a non-standard name.\",\n  prefix: \"Requires a vendor prefix or different name for use.\",\n};\ntype LEGEND_KEY = keyof typeof LEGEND_LABELS;\n\nfunction getActiveLegendItems(compat: bcd.Identifier, name: string) {\n  const legendItems = new Set<LEGEND_KEY>();\n\n  for (const feature of listFeatures(compat, \"\", name)) {\n    const { status } = feature.compat;\n\n    if (status) {\n      if (status.experimental) {\n        legendItems.add(\"experimental\");\n      }\n      if (status.deprecated) {\n        legendItems.add(\"deprecated\");\n      }\n      if (!status.standard_track) {\n        legendItems.add(\"non-standard\");\n      }\n    }\n\n    for (const browserSupport of Object.values(feature.compat.support)) {\n      if (!browserSupport) {\n        legendItems.add(\"no\");\n        continue;\n      }\n\n      for (const versionSupport of asList(browserSupport)) {\n        if (versionSupport.version_added) {\n          if (versionSupport.flags && versionSupport.flags.length) {\n            legendItems.add(\"no\");\n          } else if (versionSupport.version_added === \"preview\") {\n            legendItems.add(\"preview\");\n          } else {\n            legendItems.add(\"yes\");\n          }\n        } else if (versionSupport.version_added == null) {\n          legendItems.add(\"unknown\");\n        } else {\n          legendItems.add(\"no\");\n        }\n\n        if (versionSupport.partial_implementation) {\n          legendItems.add(\"partial\");\n        }\n        if (versionSupport.prefix) {\n          legendItems.add(\"prefix\");\n        }\n        if (versionSupport.notes) {\n          legendItems.add(\"footnote\");\n        }\n        if (versionSupport.alternative_name) {\n          legendItems.add(\"altname\");\n        }\n        if (versionSupport.flags) {\n          legendItems.add(\"disabled\");\n        }\n      }\n    }\n  }\n  return Object.keys(LEGEND_LABELS)\n    .filter((key) => legendItems.has(key as LEGEND_KEY))\n    .map((key) => [key, LEGEND_LABELS[key]]);\n}\n\nexport function Legend({\n  compat,\n  name,\n}: {\n  compat: bcd.Identifier;\n  name: string;\n}) {\n  return (\n    <section className=\"bc-legend\">\n      <h3 className=\"visually-hidden\" id=\"Legend\">\n        Legend\n      </h3>\n      <dl className=\"bc-legend-items-container\">\n        {getActiveLegendItems(compat, name).map(([key, label]) =>\n          [\"yes\", \"partial\", \"no\", \"unknown\", \"preview\"].includes(key) ? (\n            <div className=\"bc-legend-item\" key={key}>\n              <dt key={key}>\n                <span className={`bc-supports-${key} bc-supports`}>\n                  <abbr\n                    className={`bc-level bc-level-${key} only-icon`}\n                    title={label}\n                  >\n                    <span>{label}</span>\n                  </abbr>\n                </span>\n              </dt>\n              <dd>{label}</dd>\n            </div>\n          ) : (\n            <div className=\"bc-legend-item\" key={key}>\n              <dt>\n                <abbr\n                  className={`only-icon legend-icons ic-${key}`}\n                  title={label}\n                ></abbr>\n              </dt>\n              <dd>{label}</dd>\n            </div>\n          )\n        )}\n      </dl>\n    </section>\n  );\n}\n","import React, { useReducer } from \"react\";\nimport { useLocation } from \"react-router-dom\";\nimport type bcd from \"@mdn/browser-compat-data/types\";\nimport { BrowserInfoContext } from \"./browser-info\";\nimport { BrowserCompatibilityErrorBoundary } from \"./error-boundary\";\nimport { FeatureRow } from \"./feature-row\";\nimport { Headers, PLATFORM_BROWSERS } from \"./headers\";\nimport { Legend } from \"./legend\";\nimport { listFeatures } from \"./utils\";\n\n// Note! Don't import any SCSS here inside *this* component.\n// It's done in the component that lazy-loads this component.\n\n// This string is used to prefill the body when clicking to file a new BCD\n// issue over on github.com/mdn/browser-compat-data\nconst NEW_ISSUE_TEMPLATE = `\n<!-- Tips: where applicable, specify browser name, browser version, and mobile operating system version -->\n\n#### What information was incorrect, unhelpful, or incomplete?\n\n#### What did you expect to see?\n\n#### Did you test this? If so, how?\n\n\n<!-- Do not make changes below this line -->\n<details>\n<summary>MDN page report details</summary>\n\n* Query: \\`$QUERY_ID\\`\n* MDN URL: https://developer.mozilla.org$PATHNAME\n* Report started: $DATE\n\n</details>\n`;\n\n/**\n * Return a list of platforms and browsers that are relevant for this category &\n * data.\n *\n * If the category is \"webextensions\", only those are shown. In all other cases\n * at least the entirety of the \"desktop\" and \"mobile\" platforms are shown. If\n * the category is JavaScript, the entirety of the \"server\" category is also\n * shown. In all other categories, if compat data has info about Deno / Node.js\n * those are also shown. Deno is always shown if Node.js is shown.\n */\nfunction gatherPlatformsAndBrowsers(\n  category: string,\n  data: bcd.Identifier\n): [string[], bcd.BrowserNames[]] {\n  const hasNodeJSData = data.__compat && \"nodejs\" in data.__compat.support;\n  const hasDenoData = data.__compat && \"deno\" in data.__compat.support;\n\n  let platforms = [\"desktop\", \"mobile\"];\n  if (category === \"javascript\" || hasNodeJSData || hasDenoData) {\n    platforms.push(\"server\");\n  } else if (category === \"webextensions\") {\n    platforms = [\"webextensions-desktop\", \"webextensions-mobile\"];\n  }\n\n  const browsers = new Set(\n    platforms.map((platform) => PLATFORM_BROWSERS[platform] || []).flat()\n  );\n\n  // If there is no Node.js data for a category outside of \"javascript\", don't\n  // show it. It ended up in the browser list because there is data for Deno.\n  if (category !== \"javascript\" && !hasNodeJSData) {\n    browsers.delete(\"nodejs\");\n  }\n\n  return [platforms, [...browsers]];\n}\n\ntype CellIndex = [number, number];\n\nfunction FeatureListAccordion({\n  features,\n  browsers,\n  locale,\n}: {\n  features: ReturnType<typeof listFeatures>;\n  browsers: bcd.BrowserNames[];\n  locale: string;\n}) {\n  const [[activeRow, activeColumn], dispatchCellToggle] = useReducer<\n    React.Reducer<CellIndex | [null, null], CellIndex>\n  >(\n    ([activeRow, activeColumn], [row, column]) =>\n      activeRow === row && activeColumn === column\n        ? [null, null]\n        : [row, column],\n    [null, null]\n  );\n\n  return (\n    <>\n      {features.map((feature, i) => (\n        <FeatureRow\n          key={i}\n          {...{ feature, browsers }}\n          index={i}\n          activeCell={activeRow === i ? activeColumn : null}\n          onToggleCell={([row, column]: [number, number]) => {\n            dispatchCellToggle([row, column]);\n          }}\n          locale={locale}\n        />\n      ))}\n    </>\n  );\n}\n\nexport default function BrowserCompatibilityTable({\n  query,\n  data,\n  browsers: browserInfo,\n  locale,\n}: {\n  query: string;\n  data: bcd.Identifier;\n  browsers: bcd.Browsers;\n  locale: string;\n}) {\n  const location = useLocation();\n\n  if (!data || !Object.keys(data).length) {\n    throw new Error(\n      \"BrowserCompatibilityTable component called with empty data\"\n    );\n  }\n\n  const breadcrumbs = query.split(\".\");\n  const category = breadcrumbs[0];\n  const name = breadcrumbs[breadcrumbs.length - 1];\n\n  const [platforms, browsers] = gatherPlatformsAndBrowsers(category, data);\n\n  function getNewIssueURL() {\n    const url = \"https://github.com/mdn/browser-compat-data/issues/new\";\n    const sp = new URLSearchParams();\n    const body = NEW_ISSUE_TEMPLATE.replace(/\\$PATHNAME/g, location.pathname)\n      .replace(/\\$DATE/g, new Date().toISOString())\n      .replace(/\\$QUERY_ID/g, query)\n      .trim();\n    sp.set(\"body\", body);\n    sp.set(\"title\", `${query} - <PUT TITLE HERE>`);\n    return `${url}?${sp.toString()}`;\n  }\n\n  return (\n    <BrowserCompatibilityErrorBoundary>\n      <BrowserInfoContext.Provider value={browserInfo}>\n        <a\n          className=\"bc-github-link external external-icon\"\n          href={getNewIssueURL()}\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n          title=\"Report an issue with this compatibility data\"\n        >\n          Report problems with this compatibility data on GitHub\n        </a>\n        <table key=\"bc-table\" className=\"bc-table bc-table-web\">\n          <Headers {...{ platforms, browsers }} />\n          <tbody>\n            <FeatureListAccordion\n              browsers={browsers}\n              features={listFeatures(data, \"\", name)}\n              locale={locale}\n            />\n          </tbody>\n        </table>\n        <Legend compat={data} name={name} />\n\n        {/* https://github.com/mdn/yari/issues/1191 */}\n        <div className=\"hidden\">\n          The compatibility table on this page is generated from structured\n          data. If you'd like to contribute to the data, please check out{\" \"}\n          <a href=\"https://github.com/mdn/browser-compat-data\">\n            https://github.com/mdn/browser-compat-data\n          </a>{\" \"}\n          and send us a pull request.\n        </div>\n      </BrowserInfoContext.Provider>\n    </BrowserCompatibilityErrorBoundary>\n  );\n}\n"],"sourceRoot":""}