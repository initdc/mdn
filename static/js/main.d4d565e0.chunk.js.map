{"version":3,"sources":["constants.ts","ui/atoms/loading/index.tsx","hooks.ts","ui/atoms/page-content/index.tsx","ga-context.tsx","user-context.tsx","document/hooks.ts","search-utils.ts","document/preloading.tsx","ui/molecules/search/index.tsx","document/ingredients/utils.tsx","document/ingredients/prose.tsx","document/lazy-bcd-table.tsx","document/ingredients/spec-section.tsx","ui/molecules/breadcrumbs/index.tsx","ui/molecules/language-toggle/index.tsx","document/molecules/note-banner/index.tsx","document/molecules/localized-content-note/index.tsx","document/organisms/toc/index.tsx","document/organisms/sidebar/index.tsx","document/molecules/retired-locale-note/index.tsx","ui/molecules/language-menu/index.tsx","document/on-github.tsx","document/organisms/metadata/index.tsx","document/index.tsx","ui/molecules/blog-feed/index.tsx","ui/molecules/home-contribute/index.tsx","ui/molecules/home-hero/index.tsx","homepage/index.tsx","ui/molecules/a11y-nav/index.tsx","assets/logo.svg","ui/atoms/logo/index.tsx","ui/organisms/footer/index.tsx","ui/molecules/dropdown/index.tsx","ui/atoms/signin-link/index.tsx","ui/molecules/login/index.tsx","ui/molecules/main-menu/index.tsx","ui/organisms/header/index.tsx","site-search/index.tsx","page-not-found/index.tsx","auth/index.tsx","settings/index.tsx","app.tsx","index.tsx"],"names":["DISABLE_AUTH","Boolean","JSON","parse","process","CRUD_MODE","REACT_APP_CRUD_MODE","stringify","CRUD_MODE_HOSTNAMES","REACT_APP_CRUD_MODE_HOSTNAMES","split","map","x","trim","filter","VALID_LOCALES","Set","DEFAULT_GEO_COUNTRY","REACT_APP_DEFAULT_GEO_COUNTRY","Loading","message","delay","minHeight","React","useReducer","show","callback","useEffect","timeout","setTimeout","clearTimeout","useTimeout","style","className","useLocale","locale","useParams","has","MainContentContainer","children","id","role","PageContentContainer","extraClasses","GA_SESSION_STORAGE_KEY","getPostponedEvents","value","sessionStorage","getItem","e","ga","window","GAContext","GAProvider","props","events","removeItem","Provider","useGA","useContext","UserDataContext","SESSION_STORAGE_KEY","getSessionStorageData","data","parsed","geo","error","console","warn","toString","removeSessionStorageData","UserDataProvider","useSWR","url","a","fetch","response","ok","Error","status","json","username","isAuthenticated","is_authenticated","isBetaTester","is_beta_tester","isStaff","is_staff","isSuperuser","is_super_user","avatarUrl","avatar_url","isSubscriber","is_subscriber","subscriberNumber","subscriber_number","email","country","setItem","setSessionStorageData","useUserData","useDocumentURL","slug","endsWith","substring","length","useCopyExamplesToClipboard","doc","navigator","clipboard","document","querySelectorAll","forEach","element","wrapper","parentElement","button","createElement","span","textContent","setAttribute","appendChild","onclick","copiedSuccessfully","text","writeText","classList","add","showCopiedMessage","hideCopiedMessage","log","msg","getCopiedMessageElement","remove","querySelector","top","useFocusOnSlash","inputRef","focusOnSearchMaybe","event","input","current","key","ctrlKey","metaKey","includes","target","tagName","activeElement","preventDefault","focus","addEventListener","removeEventListener","INACTIVE_PLACEHOLDER","orientation","userAgent","indexOf","getPlaceholder","isFocused","prefetches","preload","prefetcher","rel","href","head","_isSupported","preloadSupported","prefetchElement","relList","supports","IntersectionObserver","IntersectionObserverEntry","prototype","PreloadingDocumentLink","onMouseOver","to","LazySearchNavigateWidget","lazy","Search","onResultPicked","useSearchParams","queryState","get","useState","setValue","useQueryParamState","setIsFocused","defaultSelection","setDefaultSelection","shouldUpgradeSearch","setShouldUpgradeSearch","searchProps","useMemo","inputValue","onChangeInputValue","onChangeIsFocused","onChangeSelection","selection","onMouseEnter","fallback","BasicSearchWidget","useRef","action","htmlFor","ref","type","name","placeholder","pattern","required","onChange","autoFocus","onFocus","onBlur","onSelect","HTMLInputElement","selectionStart","selectionEnd","aria-label","DisplayH2","title","titleAsText","toLowerCase","Permalink","DisplayH3","dangerouslySetInnerHTML","__html","Prose","section","content","ProseWithHeading","isH3","BrowserCompatibilityTable","isServer","LazyBrowserCompatibilityTable","query","dataURL","LazyBrowserCompatibilityTableInner","bcdDataURL","setBCDDataURL","revalidateOnFocus","ErrorBoundary","state","this","color","textDecoration","onClick","location","reload","margin","fontFamily","Component","SpecificationSection","specifications","scope","spec","bcdSpecificationURL","Breadcrumbs","parents","typeof","vocab","parent","i","currentCrumb","isLast","isPenultimate","property","uri","LanguageToggle","translations","pathname","useLocation","destination","scrollIntoView","behavior","hitType","eventCategory","eventAction","eventLabel","translation","destinationLocale","translationURL","replace","getEnglishLink","NoteBanner","linkText","startsWith","undefined","LocalizedContentNote","isActive","activeLocaleNoteContent","fr","ja","ko","ru","inactiveLocaleNoteContent","de","es","TOC","toc","showTOC","setShowTOC","aria-controls","aria-expanded","item","SidebarContainer","RenderSideBar","related_content","node","SidebarLeaf","sidebarHTML","SidebarLeaflets","open","childNode","RetiredLocaleNote","PREFERRED_LOCALE_COOKIE_NAME","LanguageMenu","native","navigate","useNavigate","preferredLocale","setPreferredLocale","onSubmit","localeURL","cookieValueBefore","cookie","find","row","cookieValue","hostname","scrollTo","t","OnGitHubLink","EditOnGitHubLink","SourceOnGitHubLink","NewIssueOnGitHubLink","source","github_url","folder","NEW_ISSUE_TEMPLATE","CONTENT_LABELS_PREFIXES","LOCALE_LABEL_ALIASES","Map","baseURL","sp","URLSearchParams","last_commit_url","body","mdn_url","modified","Date","toISOString","set","titleShort","slice","labels","contentLabel","prefix","label","push","localeLabel","join","LastModified","date","dateTime","toLocaleString","year","month","day","Metadata","other_translations","Toolbar","MathMLPolyfillMaybe","Document","mountCounter","documentURL","searchParams","redirected","initialData","refreshInterval","pageTitle","hash","DOMException","LoadingError","isTranslated","isPreview","Suspense","reloadPage","mutate","hasMathML","lang","RenderDocumentBody","PROSE_NO_HEADING","Response","statusText","BlogFeed","feedEntries","feedEntry","summary","pubDate","creator","Contribute","HomeHero","Homepage","A11yNav","showLangMenuSkiplink","sendAccessMenuItemClick","URL","onContextMenu","_extends","Object","assign","arguments","hasOwnProperty","call","apply","_objectWithoutProperties","excluded","sourceKeys","keys","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","d","_ref6","_ref7","_ref8","_ref9","SvgLogo","_ref","svgRef","titleId","xmlns","viewBox","ForwardRef","Logo","mode","fill","Footer","getFullYear","Dropdown","showDropdownMenu","setShowDropdownMenu","forceClose","mounted","componentClassName","aria-haspopup","aria-owns","ariaOwns","ariaLabel","hideArrow","aria-hidden","right","SignInLink","avatarImage","Login","LoginInner","userData","forceCloseDropdown","setForceCloseDropdown","next","src","alt","MainMenu","toggleMainMenu","previousActiveElement","mainMenuRef","visibleSubMenuId","setVisibleSubMenuId","focusedSubmenuItemIndex","setFocusedSubmenuItemIndex","submenuCollapsedOnBlurId","setSubmenuCollapsedOnBlurId","hideSubMenuIfVisible","onMenuButtonFocus","mainMenu","menus","items","external","onGithubElement","menuEntry","onKeyDown","itemCount","onSubmenuKeydown","expandedState","toggleSubMenu","aria-labelledby","index","submenuId","tabIndex","Header","showMainMenu","setShowMainMenu","mainMenuToggleRef","pageOverlay","mainMenuButton","toggle","innerWidth","SiteSearchForm","SearchResults","SiteSearch","page","FallbackLink","PageNotFound","setURL","SignInApp","SignOutApp","Container","SignIn","SignOut","SettingsApp","Settings","AllFlaws","Translations","DocumentEdit","DocumentCreate","DocumentManage","WritersHomepage","Sitemap","Layout","pageType","StandardLayout","DocumentLayout","PageOrPageNotFound","pageNotFound","notFound","setNotFound","initialPathname","LoadingFallback","App","appProps","homePage","routes","path","container","getElementById","hydrationElement","appData","app","StrictMode","firstElementChild","origin","ReactDOM","hydrate","render"],"mappings":"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","file":"static/js/main.d4d565e0.chunk.js","sourcesContent":["export const DISABLE_AUTH = Boolean(\n  JSON.parse(process.env.REACT_APP_DISABLE_AUTH || \"false\")\n);\n\nexport const CRUD_MODE = Boolean(\n  JSON.parse(\n    process.env.REACT_APP_CRUD_MODE ||\n      JSON.stringify(process.env.NODE_ENV === \"development\")\n  )\n);\n\nexport const CRUD_MODE_HOSTNAMES = (\n  process.env.REACT_APP_CRUD_MODE_HOSTNAMES ||\n  \"localhost,localhost.org,127.0.0.1\"\n)\n  .split(\",\")\n  .map((x) => x.trim())\n  .filter(Boolean);\n\n// Remember to keep this in sync with the list inside the Node code.\n// E.g. libs/constants.js\n// Hardcoding the list in both places is most convenient and most performant.\n// We could encode the list in the SSR rendering but that means the client side\n// code needs to depend on having access to the `window` global first.\nexport const VALID_LOCALES = new Set([\n  \"de\",\n  \"en-US\",\n  \"es\",\n  \"fr\",\n  \"ja\",\n  \"ko\",\n  \"pl\",\n  \"pt-BR\",\n  \"ru\",\n  \"zh-CN\",\n  \"zh-TW\",\n]);\n\nexport const DEFAULT_GEO_COUNTRY =\n  process.env.REACT_APP_DEFAULT_GEO_COUNTRY || \"United States\";\n","import React from \"react\";\n\nimport \"./index.scss\";\n\nexport function useTimeout(callback: React.EffectCallback, delay: number) {\n  React.useEffect(() => {\n    const timeout = setTimeout(callback, delay);\n    return () => clearTimeout(timeout);\n  }, [delay, callback]);\n}\n\nexport function Loading({\n  message = \"Loading…\",\n  delay = 1000,\n  minHeight = 200,\n}: {\n  message?: string;\n  delay?: number;\n  minHeight?: number;\n}) {\n  const [show, enableShow] = React.useReducer(() => true, false);\n  useTimeout(enableShow, delay);\n  const style = { minHeight };\n  return (\n    <div className=\"generic-loading\" style={style}>\n      <p>{show ? message : \"\"}</p>\n    </div>\n  );\n}\n","import { useParams } from \"react-router-dom\";\n\n// This is a bit of a necessary hack!\n// The only reason this list is needed is because of the PageNotFound rendering.\n// If someone requests `https://domain/some-random-word` what will happen is that\n// Lambda@Edge will send the `build/en-us/_spas/404.html` rendered page. That\n// rendered page has all the React stuff like routing.\n// The <App/> component can know what it needs to render but what's problematic\n// is that all and any other app will think that the locale is `some-random-word`\n// just because it's the first portion of the URL.\n// So, for example, the top navbar will think it can use the `useLocale()` hook\n// and get the current locale from the react-router context. Now the navbar menu\n// items, for example, will think the locale is `some-random-word` and make links\n// like `/some-random-word/docs/Web`.\nimport { VALID_LOCALES } from \"./constants\";\n\nexport function useLocale() {\n  const { locale } = useParams();\n  return locale && VALID_LOCALES.has(locale) ? locale : \"en-US\";\n}\n","import React from \"react\";\n\n// What we use on the document pages\nexport function MainContentContainer({\n  children,\n  className = \"main-content\",\n}: {\n  children: React.ReactNode;\n  className?: string;\n}) {\n  return (\n    <main\n      // This exists for the benefit of a11y navigation which\n      // uses anchor links to focus in on the content.\n      id=\"content\"\n      className={className}\n      role=\"main\"\n    >\n      {children}\n    </main>\n  );\n}\n\n// What we use on almost all pages\nexport function PageContentContainer({\n  children,\n  extraClasses,\n}: {\n  children: React.ReactNode;\n  extraClasses?: string;\n}) {\n  return (\n    <MainContentContainer\n      className={`page-content-container ${extraClasses ? extraClasses : \"\"}`}\n    >\n      {children}\n    </MainContentContainer>\n  );\n}\n","import * as React from \"react\";\nimport { useContext, useEffect, useState } from \"react\";\n\nexport type GAFunction = (...any) => void;\n\nconst GA_SESSION_STORAGE_KEY = \"ga\";\n\nfunction getPostponedEvents() {\n  let value;\n  try {\n    value = sessionStorage.getItem(GA_SESSION_STORAGE_KEY);\n  } catch (e) {\n    // No sessionStorage support\n    return [];\n  }\n  return JSON.parse(value || JSON.stringify([]));\n}\n\n/**\n * Saves given events into sessionStorage so that they are sent once the next\n * page has loaded. This should be used for events that need to be sent without\n * delaying navigation to a new page (which would cancel pending network\n * requests).\n */\nexport function gaSendOnNextPage(newEvents: any[]) {\n  const events = getPostponedEvents();\n  const value = JSON.stringify(events.concat(newEvents));\n  try {\n    sessionStorage.setItem(GA_SESSION_STORAGE_KEY, value);\n  } catch (e) {\n    // No sessionStorage support\n  }\n}\n\ndeclare global {\n  interface Window {\n    ga?: Function;\n  }\n}\n\nfunction ga(...args) {\n  if (typeof window === \"object\" && typeof window.ga === \"function\") {\n    window.ga(...args);\n  }\n}\n\nconst GAContext = React.createContext<GAFunction>(ga);\n\n/**\n * If we're running in the browser (not being server-side rendered)\n * and if the HTML document includes the Google Analytics snippet that\n * defines the ga() function, then this provider component makes that\n * ga() function available to any component via:\n *\n *    let ga = useContext(GAProvider.context)\n *\n * If we're not in a browser or if google analytics is not enabled,\n * then we provide a dummy function that ignores its arguments and\n * does nothing.  The idea is that components can always safely call\n * the function provided by this component.\n */\nexport function GAProvider(props: { children: React.ReactNode }) {\n  /**\n   * Checks for the existence of postponed analytics events, which we store\n   * in sessionStorage. It also clears them so that they aren't sent again.\n   */\n  useEffect(() => {\n    const events = getPostponedEvents();\n    try {\n      sessionStorage.removeItem(GA_SESSION_STORAGE_KEY);\n    } catch (e) {\n      // No sessionStorage support\n    }\n    for (const event of events) {\n      ga(\"send\", event);\n    }\n  }, []);\n\n  return <GAContext.Provider value={ga}>{props.children}</GAContext.Provider>;\n}\n\n// This is a custom hook to return the GA client id. It returns the\n// empty string until (and unless) it can determine that id from the GA object.\nexport function useClientId() {\n  const [clientId, setClientId] = useState<string>(\"\");\n  const ga = useContext(GAContext);\n  useEffect(() => {\n    ga((tracker) => {\n      setClientId(tracker.get(\"clientId\"));\n    });\n  }, [ga]);\n\n  return clientId;\n}\n\nexport function useGA() {\n  return useContext(GAContext);\n}\n","import * as React from \"react\";\nimport useSWR from \"swr\";\n\nimport { DISABLE_AUTH, DEFAULT_GEO_COUNTRY } from \"./constants\";\n\nexport type UserData = {\n  username: string | null | undefined;\n  isAuthenticated: boolean;\n  isBetaTester: boolean;\n  isContributor?: boolean; // This is not implemented on backend yet\n  isStaff: boolean;\n  isSuperuser: boolean;\n  avatarUrl: string | null | undefined;\n  isSubscriber: boolean;\n  subscriberNumber: number | null | undefined;\n  email: string | null | undefined;\n  geo: {\n    country: string;\n  };\n};\n\nconst UserDataContext = React.createContext<UserData | null>(null);\n\n// The argument for using sessionStorage rather than localStorage is because\n// it's marginally simpler and \"safer\". For example, if we use localStorage\n// it might stick in the browser for a very long time and we might change\n// the structure of that JSON we store in there.\n// Also, localStorage doesn't go away. So if we decide to not do this stuff\n// anymore we won't have users who have that stuff stuck in their browser\n// \"forever\".\nconst SESSION_STORAGE_KEY = \"whoami\";\n\nfunction getSessionStorageData() {\n  try {\n    const data = sessionStorage.getItem(SESSION_STORAGE_KEY);\n    if (data) {\n      const parsed = JSON.parse(data);\n      // Because it was added late, if the stored value doesn't contain\n      // then following keys, consider the stored data stale.\n      if (!parsed.geo) {\n        // If we don't do this check, you might be returning stored data\n        // that doesn't match any of the new keys.\n        return false;\n      }\n      return parsed as UserData;\n    }\n  } catch (error: any) {\n    console.warn(\"sessionStorage.getItem didn't work\", error.toString());\n    return null;\n  }\n}\n\nexport function removeSessionStorageData() {\n  try {\n    // It's safe to call .removeItem() on a key that doesn't already exist,\n    // and it's pointless to first do a .hasItem() before the .removeItem()\n    // because internally that's what .removeItem() already does.\n    sessionStorage.removeItem(SESSION_STORAGE_KEY);\n  } catch (error: any) {\n    console.warn(\"sessionStorage.removeItem didn't work\", error.toString());\n  }\n}\n\nfunction setSessionStorageData(data: UserData) {\n  try {\n    sessionStorage.setItem(SESSION_STORAGE_KEY, JSON.stringify(data));\n  } catch (error: any) {\n    console.warn(\"sessionStorage.setItem didn't work\", error.toString());\n  }\n}\n\nexport function UserDataProvider(props: { children: React.ReactNode }) {\n  const { data } = useSWR<UserData | null, Error | null>(\n    DISABLE_AUTH ? null : \"/api/v1/whoami\",\n    async (url) => {\n      const response = await fetch(url);\n      if (!response.ok) {\n        removeSessionStorageData();\n        throw new Error(`${response.status} on ${response.url}`);\n      }\n      const data = await response.json();\n      return {\n        username: data.username || null,\n        isAuthenticated: data.is_authenticated || false,\n        isBetaTester: data.is_beta_tester || false,\n        isStaff: data.is_staff || false,\n        isSuperuser: data.is_super_user || false,\n        avatarUrl: data.avatar_url || null,\n        isSubscriber: data.is_subscriber || false,\n        subscriberNumber: data.subscriber_number || null,\n        email: data.email || null,\n        geo: {\n          country: (data.geo && data.geo.country) || DEFAULT_GEO_COUNTRY,\n        },\n      };\n    }\n  );\n\n  React.useEffect(() => {\n    if (data) {\n      // At this point, the XHR request has set `data` to be an object.\n      // The user is definitely signed in or not signed in.\n      setSessionStorageData(data);\n    }\n  }, [data]);\n\n  return (\n    <UserDataContext.Provider value={data || getSessionStorageData() || null}>\n      {props.children}\n    </UserDataContext.Provider>\n  );\n}\n\nexport function useUserData() {\n  return React.useContext(UserDataContext);\n}\n","import React from \"react\";\nimport { useParams } from \"react-router-dom\";\n\nimport { Doc } from \"./types\";\n\nexport function useDocumentURL() {\n  const { \"*\": slug, locale } = useParams();\n  const url = `/${locale}/docs/${slug}`;\n  // If you're in local development Express will force the trailing /\n  // on any URL. We can't keep that if we're going to compare the current\n  // pathname with the document's mdn_url.\n  return url.endsWith(\"/\") ? url.substring(0, url.length - 1) : url;\n}\n\nexport function useCopyExamplesToClipboard(doc: Doc | undefined) {\n  React.useEffect(() => {\n    if (!doc) {\n      return;\n    }\n    if (!navigator.clipboard) {\n      console.log(\n        \"Copy-to-clipboard disabled because your browser does not appear to support it.\"\n      );\n      return;\n    }\n\n    [...document.querySelectorAll(\"div.code-example pre:not(.hidden)\")].forEach(\n      (element) => {\n        const wrapper = element.parentElement;\n        // No idea how a parentElement could be falsy in practice, but it can\n        // in theory and hence in TypeScript. So to having to test for it, bail\n        // early if we have to.\n        if (!wrapper) return;\n\n        const button = document.createElement(\"button\");\n        const span = document.createElement(\"span\");\n        span.textContent = \"Copy to Clipboard\";\n\n        button.setAttribute(\"aria-hidden\", \"false\");\n        button.setAttribute(\"type\", \"button\");\n        button.setAttribute(\"class\", \"copy-icon\");\n        span.setAttribute(\"class\", \"visually-hidden\");\n\n        button.appendChild(span);\n        wrapper.appendChild(button);\n\n        button.onclick = async () => {\n          let copiedSuccessfully = true;\n          try {\n            const text = element.textContent || \"\";\n            await navigator.clipboard.writeText(text);\n          } catch (err) {\n            console.error(\n              \"Error when trying to use navigator.clipboard.writeText()\",\n              err\n            );\n            copiedSuccessfully = false;\n          }\n\n          if (copiedSuccessfully) {\n            button.classList.add(\"copied\");\n            showCopiedMessage(wrapper, \"Copied!\");\n          } else {\n            button.classList.add(\"failed\");\n            showCopiedMessage(wrapper, \"Error trying to copy to clipboard!\");\n          }\n\n          setTimeout(\n            () => {\n              hideCopiedMessage(wrapper);\n            },\n            copiedSuccessfully ? 1000 : 3000\n          );\n        };\n      }\n    );\n  }, [doc]);\n}\n\nfunction showCopiedMessage(wrapper: HTMLElement, msg: string) {\n  const element = getCopiedMessageElement(wrapper);\n  element.textContent = msg;\n  element.classList.add(\"show\");\n  element.setAttribute(\"aria-hidden\", \"false\");\n}\n\nfunction hideCopiedMessage(wrapper: HTMLElement) {\n  const element = getCopiedMessageElement(wrapper);\n  if (element) {\n    element.classList.remove(\"show\");\n    element.setAttribute(\"aria-hidden\", \"true\");\n  }\n}\n\nfunction getCopiedMessageElement(wrapper: HTMLElement) {\n  const className = \"copy-icon-message\";\n  let element: HTMLSpanElement | null = wrapper.querySelector(\n    `span.${className}`\n  );\n  if (!element) {\n    element = document.createElement(\"span\");\n    element.classList.add(className);\n    element.setAttribute(\"aria-hidden\", \"true\");\n    element.style.top = \"52px\";\n    wrapper.appendChild(element);\n  }\n  return element;\n}\n","import React, { useEffect } from \"react\";\n\nexport type SearchProps = {\n  inputValue: string;\n  onChangeInputValue: (value: string) => void;\n  isFocused: boolean;\n  onChangeIsFocused: (isFocused: boolean) => void;\n};\n\nexport function useFocusOnSlash(\n  inputRef: React.RefObject<null | HTMLInputElement>\n) {\n  useEffect(() => {\n    function focusOnSearchMaybe(event) {\n      const input = inputRef.current;\n      if (\n        event.key === \"/\" &&\n        !event.ctrlKey &&\n        !event.metaKey &&\n        ![\"TEXTAREA\", \"INPUT\"].includes(event.target.tagName)\n      ) {\n        if (input && document.activeElement !== input) {\n          event.preventDefault();\n          input.focus();\n        }\n      }\n    }\n    document.addEventListener(\"keydown\", focusOnSearchMaybe);\n    return () => {\n      document.removeEventListener(\"keydown\", focusOnSearchMaybe);\n    };\n  }, [inputRef]);\n}\n\nfunction isMobileUserAgent() {\n  return (\n    typeof window !== \"undefined\" &&\n    (typeof window.orientation !== \"undefined\" ||\n      navigator.userAgent.indexOf(\"IEMobile\") !== -1)\n  );\n}\n\nconst ACTIVE_PLACEHOLDER = \"Go ahead. Type your search...\";\n// Make this one depend on figuring out if you're on a mobile device\n// because there you can't really benefit from keyboard shortcuts.\nconst INACTIVE_PLACEHOLDER = isMobileUserAgent()\n  ? \"Site search...\"\n  : 'Site search... (Press \"/\" to focus)';\n\nexport const getPlaceholder = (isFocused: boolean) =>\n  isFocused ? ACTIVE_PLACEHOLDER : INACTIVE_PLACEHOLDER;\n","import { Link, LinkProps } from \"react-router-dom\";\n\nconst prefetches = new Set<string>();\n\nexport function preload(url: string) {\n  if (prefetches.has(url)) {\n    return;\n  }\n\n  const prefetcher = document.createElement(\"link\");\n  prefetcher.rel = \"prefetch\";\n  prefetcher.href = url;\n  document.head.appendChild(prefetcher);\n\n  prefetches.add(url);\n}\n\nlet _isSupported: boolean | null = null;\nexport function preloadSupported() {\n  if (_isSupported !== null) return _isSupported;\n\n  const prefetchElement = document.createElement(\"link\");\n  _isSupported = Boolean(\n    prefetchElement.relList &&\n      prefetchElement.relList.supports &&\n      prefetchElement.relList.supports(\"prefetch\") &&\n      window.IntersectionObserver &&\n      \"isIntersecting\" in IntersectionObserverEntry.prototype\n  );\n  return _isSupported;\n}\n\nexport function PreloadingDocumentLink(props: LinkProps) {\n  return (\n    <Link\n      {...props}\n      onMouseOver={(event) => {\n        if (preloadSupported()) {\n          preload(`${props.to}/index.json`);\n        }\n        if (props.onMouseOver) {\n          props.onMouseOver(event);\n        }\n      }}\n    >\n      {props.children}\n    </Link>\n  );\n}\n","import React, {\n  Suspense,\n  lazy,\n  useState,\n  useMemo,\n  useRef,\n  useEffect,\n} from \"react\";\nimport { useSearchParams } from \"react-router-dom\";\n\nimport { useLocale } from \"../../../hooks\";\n\nimport \"./index.scss\";\n\nimport \"./basic-search-widget.scss\";\nimport {\n  getPlaceholder,\n  SearchProps,\n  useFocusOnSlash,\n} from \"../../../search-utils\";\nconst LazySearchNavigateWidget = lazy(() => import(\"../../../search\"));\n\nfunction useQueryParamState() {\n  const [searchParams] = useSearchParams();\n  const queryState = searchParams.get(\"q\") || \"\";\n  const [value, setValue] = useState(queryState);\n\n  // The site-search page might trigger an update to the current\n  // `?q=...` value and if that happens we want to be reflected in the search inputs\n  React.useEffect(() => {\n    setValue(queryState);\n  }, [setValue, queryState]);\n\n  return [value, setValue] as const;\n}\n\nexport function Search({\n  preload,\n  onResultPicked,\n}: {\n  preload?: boolean;\n  onResultPicked?: () => void;\n}) {\n  const [value, setValue] = useQueryParamState();\n  const [isFocused, setIsFocused] = useState(false);\n  const [defaultSelection, setDefaultSelection] = useState([0, 0] as const);\n  const [shouldUpgradeSearch, setShouldUpgradeSearch] = useState(false);\n\n  const searchProps = useMemo(\n    () => ({\n      inputValue: value,\n      onChangeInputValue: (value) => setValue(value),\n      isFocused,\n      onChangeIsFocused: (isFocused) => setIsFocused(isFocused),\n      defaultSelection,\n      onChangeSelection: (selection) => setDefaultSelection(selection),\n      onMouseEnter: () => setShouldUpgradeSearch(true),\n    }),\n    [value, isFocused, defaultSelection, setValue]\n  );\n\n  useEffect(() => {\n    if (isFocused || preload) {\n      setShouldUpgradeSearch(true);\n    }\n  }, [isFocused, setShouldUpgradeSearch, preload]);\n\n  return (\n    <div className=\"header-search\">\n      {shouldUpgradeSearch ? (\n        <Suspense fallback={<BasicSearchWidget {...searchProps} />}>\n          <LazySearchNavigateWidget\n            {...searchProps}\n            onResultPicked={onResultPicked}\n          />\n        </Suspense>\n      ) : (\n        <BasicSearchWidget {...searchProps} />\n      )}\n    </div>\n  );\n}\n\nexport function BasicSearchWidget({\n  isFocused,\n  onChangeIsFocused,\n  inputValue,\n  onChangeInputValue,\n  onChangeSelection,\n  onMouseEnter,\n}: SearchProps & {\n  onChangeSelection: (selection: [number, number]) => void;\n  onMouseEnter: () => void;\n}) {\n  const locale = useLocale();\n  const inputRef = useRef<null | HTMLInputElement>(null);\n\n  useFocusOnSlash(inputRef);\n\n  return (\n    <form\n      action={`/${locale}/search`}\n      className=\"search-form search-widget\"\n      role=\"search\"\n    >\n      <label htmlFor=\"main-q\" className=\"visually-hidden\">\n        Search MDN\n      </label>\n      <input\n        ref={inputRef}\n        type=\"search\"\n        name=\"q\"\n        id=\"main-q\"\n        className=\"search-input-field\"\n        placeholder={getPlaceholder(isFocused)}\n        pattern=\"(.|\\s)*\\S(.|\\s)*\"\n        required\n        value={inputValue}\n        onMouseEnter={onMouseEnter}\n        onChange={(e) => {\n          onChangeInputValue(e.target.value);\n        }}\n        autoFocus={isFocused}\n        onFocus={() => onChangeIsFocused(true)}\n        onBlur={() => onChangeIsFocused(false)}\n        onSelect={(event) => {\n          if (event.target instanceof HTMLInputElement) {\n            onChangeSelection([\n              event.target.selectionStart!,\n              event.target.selectionEnd!,\n            ]);\n          }\n        }}\n      />\n      <input\n        type=\"submit\"\n        className=\"ghost search-button\"\n        value=\"\"\n        aria-label=\"Search\"\n      />\n    </form>\n  );\n}\n","export function DisplayH2({\n  id,\n  title,\n  titleAsText,\n}: {\n  id: string;\n  title: string;\n  titleAsText?: string;\n}) {\n  return (\n    <h2 id={id.toLowerCase()}>\n      <Permalink title={title} titleAsText={titleAsText} id={id} />\n    </h2>\n  );\n}\n\nexport function DisplayH3({\n  id,\n  title,\n  titleAsText,\n}: {\n  id: string;\n  title: string;\n  titleAsText?: string;\n}) {\n  return (\n    <h3 id={id.toLowerCase()}>\n      <Permalink title={title} titleAsText={titleAsText} id={id} />\n    </h3>\n  );\n}\n\nfunction Permalink({\n  id,\n  title,\n  titleAsText,\n}: {\n  id: string;\n  title: string;\n  titleAsText?: string;\n}) {\n  return (\n    <a\n      href={`#${id.toLowerCase()}`}\n      title={`Permalink to ${titleAsText || title}`}\n      dangerouslySetInnerHTML={{ __html: title }}\n    ></a>\n  );\n}\n","import { DisplayH2, DisplayH3 } from \"./utils\";\n\nexport function Prose({ section }) {\n  return <div dangerouslySetInnerHTML={{ __html: section.content }} />;\n}\n\nexport function ProseWithHeading({ id, section }) {\n  return (\n    <>\n      {section.isH3 ? (\n        <DisplayH3\n          id={id}\n          title={section.title}\n          titleAsText={section.titleAsText}\n        />\n      ) : (\n        <DisplayH2\n          id={id}\n          title={section.title}\n          titleAsText={section.titleAsText}\n        />\n      )}\n      <Prose section={section} />\n    </>\n  );\n}\n","import React, { lazy, Suspense, useEffect, useState } from \"react\";\nimport useSWR from \"swr\";\n\nimport { DisplayH2, DisplayH3 } from \"./ingredients/utils\";\nimport { Loading } from \"../ui/atoms/loading\";\n// Because it's bad for web performance to lazy-load CSS during the initial render\n// (because the page is saying \"Wait! Stop rendering, now that I've downloaded\n// some JS I decided I need more CSSOM to block the rendering.\")\n// Therefore, we import all the necessary CSS here in this file so that\n// the BCD table CSS becomes part of the core bundle.\n// That means that when the lazy-loading happens, it only needs to lazy-load\n// the JS (and the JSON XHR fetch of course)\nimport \"./ingredients/browser-compatibility-table/index.scss\";\nimport { useLocale } from \"../hooks\";\n\nconst BrowserCompatibilityTable = lazy(\n  () =>\n    import(\n      /* webpackChunkName: \"browser-compatibility-table\" */ \"./ingredients/browser-compatibility-table\"\n    )\n);\n\nconst isServer = typeof window === \"undefined\";\n\nexport function LazyBrowserCompatibilityTable({\n  id,\n  title,\n  isH3,\n  query,\n  dataURL,\n}: {\n  id: string;\n  title: string;\n  isH3: boolean;\n  query: string;\n  dataURL: string | null;\n}) {\n  return (\n    <>\n      {title && !isH3 && <DisplayH2 id={id} title={title} />}\n      {title && isH3 && <DisplayH3 id={id} title={title} />}\n      {dataURL ? (\n        <LazyBrowserCompatibilityTableInner dataURL={dataURL} />\n      ) : (\n        <div className=\"notecard warning\">\n          <p>\n            No compatibility data found for <code>{query}</code>.<br />\n            <a href=\"#on-github\">Check for problems with this page</a> or\n            contribute missing data to{\" \"}\n            <a href=\"https://github.com/mdn/browser-compat-data\">\n              mdn/browser-compat-data\n            </a>\n            .\n          </p>\n        </div>\n      )}\n    </>\n  );\n}\n\nfunction LazyBrowserCompatibilityTableInner({ dataURL }: { dataURL: string }) {\n  const locale = useLocale();\n  const [bcdDataURL, setBCDDataURL] = useState(\"\");\n\n  const { error, data } = useSWR(\n    bcdDataURL ? bcdDataURL : null,\n    async (url) => {\n      const response = await fetch(url);\n      if (!response.ok) {\n        throw new Error(await response.text());\n      }\n      return await response.json();\n    },\n    { revalidateOnFocus: false }\n  );\n\n  useEffect(() => {\n    setBCDDataURL(dataURL);\n  }, [dataURL]);\n\n  if (isServer) {\n    return <p>BCD tables only load in the browser</p>;\n  }\n  if (!data && !error) {\n    return <Loading />;\n  }\n  if (error) {\n    return <p>Error loading BCD data</p>;\n  }\n\n  return (\n    <ErrorBoundary>\n      <Suspense fallback={<Loading message=\"Loading BCD table\" />}>\n        <BrowserCompatibilityTable locale={locale} {...data} />\n      </Suspense>\n    </ErrorBoundary>\n  );\n}\n\ntype ErrorBoundaryProps = {};\ntype ErrorBoundaryState = {\n  error: Error | null;\n};\n\nclass ErrorBoundary extends React.Component<\n  ErrorBoundaryProps,\n  ErrorBoundaryState\n> {\n  constructor(props: ErrorBoundaryProps) {\n    super(props);\n    this.state = { error: null };\n  }\n\n  static getDerivedStateFromError(error: Error) {\n    return { error };\n  }\n\n  // componentDidCatch(error: Error, errorInfo) {\n  //   console.log({ error, errorInfo });\n  // }\n\n  render() {\n    if (this.state.error) {\n      return (\n        <div className=\"notecard negative\">\n          <p>\n            <strong>Error loading browser compatibility table</strong>\n          </p>\n          <p>\n            This can happen if the JavaScript, which is loaded later, didn't\n            successfully load.\n          </p>\n          <p>\n            <a\n              href=\".\"\n              className=\"button\"\n              style={{ color: \"white\", textDecoration: \"none\" }}\n              onClick={(event) => {\n                event.preventDefault();\n                window.location.reload();\n              }}\n            >\n              Try reloading the page\n            </a>\n          </p>\n          <hr style={{ margin: 20 }} />\n          <p>\n            <small>If you're curious, this was the error:</small>\n            <br />\n            <small style={{ fontFamily: \"monospace\" }}>\n              {this.state.error.toString()}\n            </small>\n          </p>\n        </div>\n      );\n    }\n\n    return this.props.children;\n  }\n}\n","import { DisplayH2, DisplayH3 } from \"./utils\";\n\nexport function SpecificationSection({\n  id,\n  title,\n  isH3,\n  specifications,\n  query,\n}: {\n  id: string;\n  title: string;\n  isH3: boolean;\n  specifications: Array<{\n    title: string;\n    bcdSpecificationURL: string;\n  }>;\n  query: string;\n}) {\n  return (\n    <>\n      {title && !isH3 && <DisplayH2 id={id} title={title} />}\n      {title && isH3 && <DisplayH3 id={id} title={title} />}\n\n      {specifications.length > 0 ? (\n        <table className=\"standard-table\">\n          <thead>\n            <tr>\n              <th scope=\"col\">Specification</th>\n            </tr>\n          </thead>\n          <tbody>\n            {specifications.map((spec) => (\n              <tr key={spec.bcdSpecificationURL}>\n                <td>\n                  <a href={spec.bcdSpecificationURL}>\n                    {spec.title} <br />\n                    {spec.bcdSpecificationURL.includes(\"#\") && (\n                      <small>\n                        # {`${spec.bcdSpecificationURL.split(\"#\")[1]}`}\n                      </small>\n                    )}\n                  </a>\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      ) : (\n        <div className=\"notecard warning\">\n          <h4>No specification found</h4>\n          <p>\n            No specification data found for <code>{query}</code>.<br />\n            <a href=\"#on-github\">Check for problems with this page</a> or\n            contribute a missing <code>spec_url</code> to{\" \"}\n            <a href=\"https://github.com/mdn/browser-compat-data\">\n              mdn/browser-compat-data\n            </a>\n            . Also make sure the specification is included in{\" \"}\n            <a href=\"https://github.com/w3c/browser-specs\">w3c/browser-specs</a>\n            .\n          </p>\n        </div>\n      )}\n    </>\n  );\n}\n","import { DocParent } from \"../../../document/types\";\nimport { PreloadingDocumentLink } from \"../../../document/preloading\";\n\nimport \"./index.scss\";\n\nexport function Breadcrumbs({ parents }: { parents: DocParent[] }) {\n  if (!parents.length) {\n    throw new Error(\"Empty parents array\");\n  }\n\n  return (\n    <nav className=\"breadcrumbs-container\" aria-label=\"Breadcrumb navigation\">\n      <ol\n        typeof=\"BreadcrumbList\"\n        vocab=\"https://schema.org/\"\n        aria-label=\"breadcrumbs\"\n      >\n        {parents.map((parent, i) => {\n          const currentCrumb = i + 1;\n          const isLast = currentCrumb === parents.length;\n          const isPenultimate = currentCrumb === parents.length - 1;\n\n          return (\n            <li key={parent.uri} property=\"itemListElement\" typeof=\"ListItem\">\n              <PreloadingDocumentLink\n                to={parent.uri}\n                className={\n                  isLast\n                    ? \"breadcrumb-current-page\"\n                    : isPenultimate\n                    ? \"breadcrumb-penultimate\"\n                    : \"breadcrumb\"\n                }\n                property=\"item\"\n                typeof=\"WebPage\"\n              >\n                <span property=\"name\">{parent.title}</span>\n              </PreloadingDocumentLink>\n              <meta property=\"position\" content={`${currentCrumb}`} />\n            </li>\n          );\n        })}\n      </ol>\n    </nav>\n  );\n}\n","import { Link, useLocation } from \"react-router-dom\";\n\nimport { Translation } from \"../../../document/types\";\nimport { useGA } from \"../../../ga-context\";\n\nimport \"./index.scss\";\n\nexport function LanguageToggle({\n  locale,\n  translations,\n}: {\n  locale: string;\n  translations: Translation[];\n}) {\n  const ga = useGA();\n  const { pathname } = useLocation();\n  function translateURL(destinationLocale: string) {\n    return pathname.replace(`/${locale}/`, `/${destinationLocale}/`);\n  }\n\n  function getEnglishLink() {\n    for (const translation of translations) {\n      if (translation.locale.toLowerCase() === \"en-us\") {\n        const translationURL = translateURL(translation.locale);\n        return (\n          <Link\n            to={translationURL}\n            className=\"view-in-english\"\n            onClick={() => {\n              ga(\"send\", {\n                hitType: \"event\",\n                eventCategory: \"Language\",\n                eventAction: \"Switch to English\",\n                eventLabel: `${window.location.pathname} to ${translationURL}`,\n              });\n            }}\n          >\n            <span className=\"show-desktop\">View in</span> English\n          </Link>\n        );\n      }\n    }\n    return null;\n  }\n\n  return (\n    <ul\n      className={\n        locale.toLowerCase() === \"en-us\"\n          ? \"language-toggle single-option\"\n          : \"language-toggle\"\n      }\n    >\n      <li>\n        <a\n          href=\"#select-language\"\n          className=\"language-icon\"\n          onClick={(event) => {\n            const destination = document.querySelector(\"#select-language\");\n            if (destination) {\n              destination.scrollIntoView({ behavior: \"smooth\" });\n              event.preventDefault();\n            }\n\n            ga(\"send\", {\n              hitType: \"event\",\n              eventCategory: \"Language\",\n              eventAction: \"Anchor to language choice\",\n              eventLabel: window.location.pathname,\n            });\n          }}\n        >\n          <span className=\"show-desktop\">Change language</span>\n        </a>\n      </li>\n      {locale.toLowerCase() !== \"en-us\" && <li>{getEnglishLink()}</li>}\n    </ul>\n  );\n}\n","export function NoteBanner({\n  linkText,\n  url,\n  type,\n}: {\n  linkText: string;\n  url: string;\n  type: \"neutral\" | \"warning\";\n}) {\n  return (\n    <div className={`localized-content-note notecard inline ${type}`}>\n      <a href={url} className={!url.startsWith(\"/\") ? \"external\" : undefined}>\n        {linkText}\n      </a>\n    </div>\n  );\n}\n","import { NoteBanner } from \"../note-banner\";\n\nexport function LocalizedContentNote({\n  isActive,\n  locale,\n}: {\n  isActive: boolean;\n  locale: string;\n}) {\n  const activeLocaleNoteContent = {\n    \"en-US\": {\n      linkText:\n        \"This page was translated from English by the community. Learn more and join the MDN Web Docs community.\",\n    },\n    fr: {\n      linkText:\n        \"Cette page a été traduite à partir de l'anglais par la communauté. Vous pouvez également contribuer en rejoignant la communauté francophone sur MDN Web Docs.\",\n    },\n    ja: {\n      linkText:\n        \"このページはコミュニティーの尽力で英語から翻訳されました。MDN Web Docs コミュニティーについてもっと知り、仲間になるにはこちらから。\",\n    },\n    ko: {\n      linkText:\n        \"이 페이지는 영어로부터 커뮤니티에 의하여 번역되었습니다. MDN Web Docs에서 한국 커뮤니티에 가입하여 자세히 알아보세요.\",\n    },\n    ru: {\n      linkText:\n        \"Эта страница была переведена с английского языка силами сообщества. Вы тоже можете внести свой вклад, присоединившись к русскоязычному сообществу MDN Web Docs.\",\n    },\n  };\n  const inactiveLocaleNoteContent = {\n    de: {\n      linkText:\n        \"Der Inhalt dieser Seite wurde von der Community übersetzt, jedoch wird er nicht mehr aktiv gepflegt und kann daher veraltet sein. Wenn du mithelfen möchtest, kannst du hier herausfinden wie deaktivierte Übersetzungen reaktiviert werden können.\",\n    },\n    \"en-US\": {\n      linkText:\n        \"This page was translated from English by the community, but it's not maintained and may be out-of-date. To help maintain it, learn how to activate locales.\",\n    },\n    es: {\n      linkText:\n        \"Esta página fue traducida del inglés por la comunidad, pero no se mantiene activamente, por lo que puede estar desactualizada. Si desea ayudar a mantenerlo, descubra cómo activar las configuraciones regionales inactivas.\",\n    },\n  };\n\n  const linkText = isActive\n    ? (activeLocaleNoteContent[locale] &&\n        activeLocaleNoteContent[locale].linkText) ||\n      activeLocaleNoteContent[\"en-US\"].linkText\n    : (inactiveLocaleNoteContent[locale] &&\n        inactiveLocaleNoteContent[locale].linkText) ||\n      inactiveLocaleNoteContent[\"en-US\"].linkText;\n  const url = isActive\n    ? \"/en-US/docs/MDN/Contribute/Localize#active_locales\"\n    : \"https://github.com/mdn/translated-content#promoting-an-inactive-locale-to-tier-1\";\n\n  const type = isActive ? \"neutral\" : \"warning\";\n  return <NoteBanner linkText={linkText} url={url} type={type} />;\n}\n","import React from \"react\";\n\nimport { Toc } from \"../../types\";\n\nimport \"./index.scss\";\n\nexport function TOC({ toc }: { toc: Toc[] }) {\n  const [showTOC, setShowTOC] = React.useState(false);\n\n  return (\n    <aside className=\"document-toc-container\">\n      <section className=\"document-toc\">\n        <header>\n          <h2>Table of contents</h2>\n          <button\n            type=\"button\"\n            className=\"ghost toc-trigger-mobile\"\n            onClick={() => {\n              setShowTOC(!showTOC);\n            }}\n            aria-controls=\"toc-entries\"\n            aria-expanded={showTOC}\n          >\n            Table of contents\n          </button>\n        </header>\n        <ul id=\"toc-entries\" className={showTOC ? \"show-toc\" : undefined}>\n          {toc.map((item) => (\n            <li key={item.id}>\n              <a\n                href={`#${item.id.toLowerCase()}`}\n                dangerouslySetInnerHTML={{ __html: item.text }}\n              ></a>\n            </li>\n          ))}\n        </ul>\n      </section>\n    </aside>\n  );\n}\n","import { Link } from \"react-router-dom\";\n\nimport \"./index.scss\";\n\nfunction SidebarContainer({ children }) {\n  return (\n    <nav id=\"sidebar-quicklinks\" className=\"sidebar\">\n      {children}\n    </nav>\n  );\n}\n\nexport function RenderSideBar({ doc }) {\n  if (!doc.related_content) {\n    if (doc.sidebarHTML) {\n      return (\n        <SidebarContainer>\n          <h4>Related Topics</h4>\n          <div\n            dangerouslySetInnerHTML={{\n              __html: `${doc.sidebarHTML}`,\n            }}\n          />\n        </SidebarContainer>\n      );\n    }\n    return null;\n  }\n  return doc.related_content.map((node) => (\n    <SidebarLeaf key={node.title} parent={node} />\n  ));\n}\n\nfunction SidebarLeaf({ parent }) {\n  return (\n    <SidebarContainer>\n      <h4>{parent.title}</h4>\n      <ul>\n        {parent.content.map((node) => {\n          if (node.content) {\n            return (\n              <li key={node.title}>\n                <SidebarLeaflets node={node} />\n              </li>\n            );\n          } else {\n            return (\n              <li key={node.uri}>\n                <Link to={node.uri}>{node.title}</Link>\n              </li>\n            );\n          }\n        })}\n      </ul>\n    </SidebarContainer>\n  );\n}\n\nfunction SidebarLeaflets({ node }) {\n  return (\n    <details open={node.open}>\n      <summary>\n        {node.uri ? <Link to={node.uri}>{node.title}</Link> : node.title}\n      </summary>\n      <ol>\n        {node.content.map((childNode) => {\n          if (childNode.content) {\n            return (\n              <li key={childNode.title}>\n                <SidebarLeaflets node={childNode} />\n              </li>\n            );\n          } else {\n            return (\n              <li\n                key={childNode.uri}\n                className={childNode.isActive && \"active\"}\n              >\n                <Link to={childNode.uri}>{childNode.title}</Link>\n              </li>\n            );\n          }\n        })}\n      </ol>\n    </details>\n  );\n}\n","import { NoteBanner } from \"../note-banner\";\n\nexport function RetiredLocaleNote() {\n  return (\n    <NoteBanner\n      linkText={\n        \"The page you requested has been retired, so we've sent you to the English equivalent.\"\n      }\n      url={\n        \"https://hacks.mozilla.org/2021/03/mdn-localization-in-march-tier-1-locales-unfrozen-and-future-plans/\"\n      }\n      type={\"neutral\"}\n    />\n  );\n}\n","import React from \"react\";\nimport { useLocation, useNavigate } from \"react-router-dom\";\n\nimport { useGA } from \"../../../ga-context\";\nimport { Translation } from \"../../../document/types\";\n\nimport \"./index.scss\";\n\n// This needs to match what's set in 'libs/constants.js' on the server/builder!\nconst PREFERRED_LOCALE_COOKIE_NAME = \"preferredlocale\";\n\nexport function LanguageMenu({\n  locale,\n  translations,\n  native,\n}: {\n  locale: string;\n  translations: Translation[];\n  native: string;\n}) {\n  const ga = useGA();\n  const { pathname } = useLocation();\n  const navigate = useNavigate();\n  const [preferredLocale, setPreferredLocale] = React.useState(locale);\n\n  function translateURL(destinationLocale: string) {\n    return pathname.replace(`/${locale}/`, `/${destinationLocale}/`);\n  }\n\n  return (\n    <form\n      className=\"language-menu\"\n      onSubmit={(event) => {\n        event.preventDefault();\n        // The default is the current locale itself. If that's what's chosen,\n        // don't bother redirecting.\n        if (preferredLocale !== locale) {\n          const localeURL = translateURL(preferredLocale);\n          let cookieValueBefore = document.cookie\n            .split(\"; \")\n            .find((row) => row.startsWith(`${PREFERRED_LOCALE_COOKIE_NAME}=`));\n          if (cookieValueBefore && cookieValueBefore.includes(\"=\")) {\n            cookieValueBefore = cookieValueBefore.split(\"=\")[1];\n          }\n\n          for (const translation of translations) {\n            if (translation.locale === preferredLocale) {\n              let cookieValue = `${PREFERRED_LOCALE_COOKIE_NAME}=${\n                translation.locale\n              };max-age=${60 * 60 * 24 * 365 * 3};path=/`;\n              if (\n                !(\n                  document.location.hostname === \"localhost\" ||\n                  document.location.hostname === \"localhost.org\"\n                )\n              ) {\n                cookieValue += \";secure\";\n              }\n              document.cookie = cookieValue;\n            }\n          }\n\n          ga(\"send\", {\n            hitType: \"event\",\n            eventCategory: \"Language\",\n            eventAction: `Change preferred language (cookie before: ${\n              cookieValueBefore || \"none\"\n            })`,\n            eventLabel: `${window.location.pathname} to ${localeURL}`,\n          });\n\n          navigate(localeURL);\n          window.scrollTo(0, 0);\n        }\n      }}\n    >\n      <fieldset id=\"select-language\">\n        <legend>Change your language</legend>\n        <label htmlFor=\"language-selector\" className=\"visually-hidden\">\n          Select your preferred language\n        </label>{\" \"}\n        <select\n          id=\"language-selector\"\n          name=\"language\"\n          value={preferredLocale}\n          onChange={(event) => {\n            const { value } = event.target;\n            setPreferredLocale(value);\n          }}\n        >\n          {/*\n          This option is alway there and always first.\n          The reason it doesn't have the `disabled` attribute is because it\n          might not render when viewing the select un-opened and instead what\n          you see is the second option.\n          The onChange callback is a protection for doing nothing if the\n          already current locale is chosen.\n         */}\n          <option value={locale}>{native}</option>\n          {translations.map((t) => {\n            return (\n              <option key={t.locale} value={t.locale}>\n                {t.native}\n              </option>\n            );\n          })}\n        </select>{\" \"}\n        <button type=\"submit\" className=\"button minimal\">\n          Change language\n        </button>\n      </fieldset>\n    </form>\n  );\n}\n","import { Doc } from \"./types\";\n\nexport function OnGitHubLink({ doc }: { doc: Doc }) {\n  return (\n    <div id=\"on-github\" className=\"on-github\">\n      <h3>Found a problem with this page?</h3>\n      <ul>\n        <li>\n          <EditOnGitHubLink doc={doc} />\n        </li>\n        <li>\n          <SourceOnGitHubLink doc={doc} />\n        </li>\n        <li>\n          <NewIssueOnGitHubLink doc={doc} />\n        </li>\n        <li>\n          Want to fix the problem yourself? See{\" \"}\n          <a\n            href=\"https://github.com/mdn/content/blob/main/README.md\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n            our Contribution guide\n          </a>\n          .\n        </li>\n      </ul>\n    </div>\n  );\n}\n\nfunction SourceOnGitHubLink({ doc }: { doc: Doc }) {\n  const { github_url, folder } = doc.source;\n  return (\n    <a\n      href={github_url}\n      title={`Folder: ${folder} (Opens in a new tab)`}\n      target=\"_blank\"\n      rel=\"noopener noreferrer\"\n    >\n      Source on <b>GitHub</b>\n    </a>\n  );\n}\n\nfunction EditOnGitHubLink({ doc }: { doc: Doc }) {\n  const { github_url } = doc.source;\n  return (\n    <a\n      href={github_url.replace(\"/blob/\", \"/edit/\")}\n      title={`You're going to need to sign in to GitHub first (Opens in a new tab)`}\n      target=\"_blank\"\n      rel=\"noopener noreferrer\"\n    >\n      Edit on <b>GitHub</b>\n    </a>\n  );\n}\n\nconst NEW_ISSUE_TEMPLATE = `\nMDN URL: https://developer.mozilla.org$PATHNAME\n\n#### What information was incorrect, unhelpful, or incomplete?\n\n\n#### Specific section or headline?\n\n\n#### What did you expect to see?\n\n\n#### Did you test this? If so, how?\n\n\n<!-- Do not make changes below this line -->\n<details>\n<summary>MDN Content page report details</summary>\n\n* Folder: \\`$FOLDER\\`\n* MDN URL: https://developer.mozilla.org$PATHNAME\n* GitHub URL: $GITHUB_URL\n* Last commit: $LAST_COMMIT_URL\n* Document last modified: $DATE\n\n</details>\n  `.trim();\n\n// These are the hardcoded prefixes that get their own new-issue label in\n// in GitHub. The prefix is matched all in lower-case but the label itself\n// can have case.\n// The labels do not not needs to exist in advance on the GitHub repo.\n// If not matched to any of these labels, it will default to \"Other\" as the label.\nconst CONTENT_LABELS_PREFIXES = [\n  [\"web/javascript\", \"JS\"],\n  [\"web/css\", \"CSS\"],\n  [\"web/html\", \"HTML\"],\n  [\"web/api\", \"WebAPI\"],\n  [\"web/http\", \"HTTP\"],\n  [\"web/svg\", \"SVG\"],\n  [\"web/media\", \"Media\"],\n  [\"web/mathml\", \"MathML\"],\n  [\"webassembly\", \"wasm\"],\n  [\"mozilla/add-ons/webextensions\", \"WebExt\"],\n  [\"web/accessibility\", \"Accessibility\"],\n  [\"learn\", \"Learn\"],\n  [\"tools\", \"DevTools\"],\n];\n\n// For all locales that as spelled differently as a issue label, map the locale\n// to the proper label name. For locales not mentioned here, we keep the locale\n// as is.\nconst LOCALE_LABEL_ALIASES = new Map([\n  [\"zh-cn\", \"zh\"],\n  [\"zh-tw\", \"zh\"],\n]);\n\nfunction NewIssueOnGitHubLink({ doc }: { doc: Doc }) {\n  let baseURL = \"https://github.com/mdn/content/issues/new\";\n  const sp = new URLSearchParams();\n\n  const { folder, github_url, last_commit_url } = doc.source;\n  const body = NEW_ISSUE_TEMPLATE.replace(/\\$PATHNAME/g, doc.mdn_url)\n    .replace(/\\$FOLDER/g, folder)\n    .replace(/\\$GITHUB_URL/g, github_url)\n    .replace(/\\$LAST_COMMIT_URL/g, last_commit_url)\n    .replace(\n      /\\$DATE/g,\n      doc.modified ? new Date(doc.modified).toISOString() : \"*date not known*\"\n    )\n    .trim();\n  sp.set(\"body\", body);\n  const maxLength = 50;\n  const titleShort =\n    doc.title.length > maxLength\n      ? `${doc.title.slice(0, maxLength)}…`\n      : doc.title;\n  sp.set(\"title\", `Issue with \"${titleShort}\": (short summary here please)`);\n\n  const slug = doc.mdn_url.split(\"/docs/\")[1].toLowerCase();\n  const { locale } = doc;\n\n  const labels = [\"needs-triage\"];\n  let contentLabel = \"\";\n  for (const [prefix, label] of CONTENT_LABELS_PREFIXES) {\n    if (slug.startsWith(prefix)) {\n      contentLabel = label;\n      break;\n    }\n  }\n  if (!contentLabel) {\n    contentLabel = \"Other\";\n  }\n  if (locale === \"en-US\") {\n    labels.push(`Content:${contentLabel}`);\n  } else {\n    baseURL = \"https://github.com/mdn/translated-content/issues/new\";\n    const localeLabel =\n      LOCALE_LABEL_ALIASES.get(locale.toLowerCase()) || locale.toLowerCase();\n    labels.push(`l10n-${localeLabel}`);\n    // Maybe a l10n-unsupported label would be useful to add?\n  }\n\n  sp.set(\"labels\", labels.join(\",\"));\n\n  const href = `${baseURL}?${sp.toString()}`;\n\n  return (\n    <a\n      href={href}\n      title=\"This will take you to https://github.com/mdn/content to file a new issue\"\n      target=\"_blank\"\n      rel=\"noopener noreferrer\"\n    >\n      Report a problem with this content on <b>GitHub</b>\n    </a>\n  );\n}\n","import { LanguageMenu } from \"../../../ui/molecules/language-menu\";\nimport { OnGitHubLink } from \"../../on-github\";\n\nimport \"./index.scss\";\n\nfunction LastModified({ value, locale }) {\n  if (!value) {\n    return <span>Last modified date not known</span>;\n  }\n  const date = new Date(value);\n  // Justification for these is to match historically\n  const dateStringOptions: Intl.DateTimeFormatOptions = {\n    year: \"numeric\",\n    month: \"short\",\n    day: \"numeric\",\n  };\n  return (\n    <>\n      <b>Last modified:</b>{\" \"}\n      <time dateTime={value}>\n        {date.toLocaleString(locale, dateStringOptions)}\n      </time>\n    </>\n  );\n}\n\nexport function Metadata({ doc, locale }) {\n  const translations = doc.other_translations || [];\n  const { native } = doc;\n\n  return (\n    <aside className=\"metadata\">\n      <div className=\"metadata-content-container\">\n        {doc.isActive && <OnGitHubLink doc={doc} />}\n        <p className=\"last-modified-date\">\n          <LastModified value={doc.modified} locale={locale} />,{\" \"}\n          <a href={`${doc.mdn_url}/contributors.txt`}>by MDN contributors</a>\n        </p>\n        {translations && !!translations.length && (\n          <LanguageMenu\n            translations={translations}\n            native={native}\n            locale={locale}\n          />\n        )}\n      </div>\n    </aside>\n  );\n}\n","import React from \"react\";\nimport { useSearchParams, useParams, useNavigate } from \"react-router-dom\";\nimport useSWR, { mutate } from \"swr\";\n\nimport { CRUD_MODE } from \"../constants\";\nimport { useGA } from \"../ga-context\";\nimport { useDocumentURL, useCopyExamplesToClipboard } from \"./hooks\";\nimport { Doc } from \"./types\";\n// Ingredients\nimport { Prose, ProseWithHeading } from \"./ingredients/prose\";\nimport { LazyBrowserCompatibilityTable } from \"./lazy-bcd-table\";\nimport { SpecificationSection } from \"./ingredients/spec-section\";\n\n// Misc\n// Sub-components\nimport { Breadcrumbs } from \"../ui/molecules/breadcrumbs\";\nimport { LanguageToggle } from \"../ui/molecules/language-toggle\";\nimport { LocalizedContentNote } from \"./molecules/localized-content-note\";\nimport { TOC } from \"./organisms/toc\";\nimport { RenderSideBar } from \"./organisms/sidebar\";\nimport { RetiredLocaleNote } from \"./molecules/retired-locale-note\";\nimport { MainContentContainer } from \"../ui/atoms/page-content\";\nimport { Loading } from \"../ui/atoms/loading\";\nimport { Metadata } from \"./organisms/metadata\";\n\nimport \"./index.scss\";\n\n// It's unfortunate but it is what it is at the moment. Not every page has an\n// interactive example (in its HTML blob) but we don't know that in advance.\n// But just in case it does, we need to have the CSS ready in the main bundle.\n// Perhaps a more ideal solution would be that the interactive example <iframe>\n// code could come with its own styling rather than it having to be part of the\n// main bundle all the time.\nimport \"./interactive-examples.scss\";\n\n// Lazy sub-components\nconst Toolbar = React.lazy(() => import(\"./toolbar\"));\nconst MathMLPolyfillMaybe = React.lazy(() => import(\"./mathml-polyfill\"));\n\nexport function Document(props /* TODO: define a TS interface for this */) {\n  const ga = useGA();\n  const mountCounter = React.useRef(0);\n  const documentURL = useDocumentURL();\n  const { locale } = useParams();\n  const [searchParams] = useSearchParams();\n\n  const navigate = useNavigate();\n\n  const dataURL = `${documentURL}/index.json`;\n  const { data: doc, error } = useSWR<Doc>(\n    dataURL,\n    async (url) => {\n      const response = await fetch(url);\n      if (!response.ok) {\n        if (response.status === 404) {\n          throw new Error(`${response.status} on ${url}: Page not found`);\n        }\n        const text = await response.text();\n        throw new Error(`${response.status} on ${url}: ${text}`);\n      }\n      const { doc } = await response.json();\n      if (response.redirected) {\n        navigate(doc.mdn_url);\n      }\n      return doc;\n    },\n    {\n      initialData:\n        props.doc &&\n        props.doc.mdn_url.toLowerCase() === documentURL.toLowerCase()\n          ? props.doc\n          : null,\n      revalidateOnFocus: CRUD_MODE,\n      refreshInterval: CRUD_MODE ? 500 : 0,\n    }\n  );\n\n  useCopyExamplesToClipboard(doc);\n\n  React.useEffect(() => {\n    if (!doc && !error) {\n      document.title = \"⏳ Loading…\";\n    } else if (error) {\n      document.title = \"💔 Loading error\";\n    } else if (doc) {\n      document.title = doc.pageTitle;\n    }\n  }, [doc, error]);\n\n  React.useEffect(() => {\n    if (doc && !error) {\n      if (mountCounter.current > 0) {\n        // 'dimension19' means it's a client-side navigation.\n        // I.e. not the initial load but the location has now changed.\n        // Note that in local development, where you use `localhost:3000`\n        // this will always be true because it's always client-side navigation.\n        ga(\"set\", \"dimension19\", \"Yes\");\n        ga(\"send\", {\n          hitType: \"pageview\",\n          location: window.location.toString(),\n        });\n      }\n\n      // By counting every time a document is mounted, we can use this to know if\n      // a client-side navigation happened.\n      mountCounter.current++;\n    }\n  }, [ga, doc, error]);\n\n  React.useEffect(() => {\n    const location = document.location;\n\n    // Did you arrive on this page with a location hash?\n    if (location.hash && location.hash !== location.hash.toLowerCase()) {\n      // The location hash isn't lowercase. That probably means it's from before\n      // we made all `<h2 id>` and `<h3 id>` values always lowercase.\n      // Let's see if it can easily be fixed, but let's be careful and\n      // only do this if there is an element that matches.\n      try {\n        if (document.querySelector(location.hash.toLowerCase())) {\n          location.hash = location.hash.toLowerCase();\n        }\n      } catch (error) {\n        if (error instanceof DOMException) {\n          // You can't assume that the anchor on the page is a valid string\n          // for `document.querySelector()`.\n          // E.g. /en-US/docs/Web/HTML/Element/input#Form_<input>_types\n          // So if that the case, just ignore the error.\n          // It's not that critical to correct anyway.\n        } else {\n          throw error;\n        }\n      }\n    }\n  }, []);\n\n  if (!doc && !error) {\n    return <Loading minHeight={600} message=\"Loading document...\" />;\n  }\n\n  if (error) {\n    return <LoadingError error={error} />;\n  }\n\n  if (!doc) {\n    return null;\n  }\n\n  const translations = doc.other_translations || [];\n\n  const isServer = typeof window === \"undefined\";\n\n  return (\n    <>\n      {/* if we have either breadcrumbs or translations for the current page,\n      continue rendering the section */}\n      {(doc.parents || !!translations.length) && (\n        <div className=\"breadcrumb-locale-container\">\n          {doc.parents && <Breadcrumbs parents={doc.parents} />}\n          {translations && !!translations.length && (\n            <LanguageToggle locale={locale} translations={translations} />\n          )}\n        </div>\n      )}\n\n      {doc.isTranslated ? (\n        <LocalizedContentNote isActive={doc.isActive} locale={locale} />\n      ) : (\n        searchParams.get(\"retiredLocale\") && <RetiredLocaleNote />\n      )}\n\n      {doc.toc && !!doc.toc.length && <TOC toc={doc.toc} />}\n\n      <MainContentContainer>\n        {!isServer && CRUD_MODE && !props.isPreview && doc.isActive && (\n          <React.Suspense fallback={<Loading message={\"Loading toolbar\"} />}>\n            <Toolbar\n              doc={doc}\n              reloadPage={() => {\n                mutate(dataURL);\n              }}\n            />\n          </React.Suspense>\n        )}\n        {!isServer && doc.hasMathML && (\n          <React.Suspense fallback={null}>\n            <MathMLPolyfillMaybe />\n          </React.Suspense>\n        )}\n        <article className=\"main-page-content\" lang={doc.locale}>\n          <h1>{doc.title}</h1>\n          <RenderDocumentBody doc={doc} />\n        </article>\n        <Metadata doc={doc} locale={locale} />\n      </MainContentContainer>\n\n      {doc.sidebarHTML && <RenderSideBar doc={doc} />}\n    </>\n  );\n}\n\n/** These prose sections should be rendered WITHOUT a heading. */\nconst PROSE_NO_HEADING = [\"short_description\", \"overview\"];\n\nfunction RenderDocumentBody({ doc }) {\n  return doc.body.map((section, i) => {\n    if (section.type === \"prose\") {\n      // Only exceptional few should use the <Prose/> component,\n      // as opposed to <ProseWithHeading/>.\n      if (!section.value.id || PROSE_NO_HEADING.includes(section.value.id)) {\n        return (\n          <Prose\n            key={section.value.id || `prose${i}`}\n            section={section.value}\n          />\n        );\n      } else {\n        return (\n          <ProseWithHeading\n            key={section.value.id}\n            id={section.value.id}\n            section={section.value}\n          />\n        );\n      }\n    } else if (section.type === \"browser_compatibility\") {\n      return (\n        <LazyBrowserCompatibilityTable\n          key={`browser_compatibility${i}`}\n          {...section.value}\n        />\n      );\n    } else if (section.type === \"specifications\") {\n      return (\n        <SpecificationSection key={`specifications${i}`} {...section.value} />\n      );\n    } else {\n      console.warn(section);\n      throw new Error(`No idea how to handle a '${section.type}' section`);\n    }\n  });\n}\n\nfunction LoadingError({ error }) {\n  return (\n    <div className=\"page-content-container loading-error\">\n      <h3>Loading Error</h3>\n      {error instanceof window.Response ? (\n        <p>\n          <b>{error.status}</b> on <b>{error.url}</b>\n          <br />\n          <small>{error.statusText}</small>\n        </p>\n      ) : (\n        <p>\n          <code>{error.toString()}</code>\n        </p>\n      )}\n      <p>\n        <a href=\".\">Try reloading the page</a>\n      </p>\n    </div>\n  );\n}\n","import \"./index.scss\";\n\nimport { FeedEntry } from \"../../../homepage/types\";\n\nexport function BlogFeed({ feedEntries }: { feedEntries?: FeedEntry[] }) {\n  return (\n    <div className=\"blog-feed\">\n      <h2>Hacks Blog</h2>\n      <p>\n        <a href=\"http://hacks.mozilla.org/\" className=\"blog-link\">\n          Read more at hacks.mozilla.org\n        </a>\n      </p>\n\n      {feedEntries ? (\n        <ul>\n          {feedEntries.map((feedEntry) => {\n            return (\n              <li key={feedEntry.url} className=\"readable-line-length\">\n                <h3>\n                  <a href={feedEntry.url}>{feedEntry.title}</a>\n                </h3>\n                <p>{feedEntry.summary}</p>\n                <p className=\"post-meta\">\n                  Posted {feedEntry.pubDate} by {feedEntry.creator}\n                </p>\n              </li>\n            );\n          })}\n        </ul>\n      ) : (\n        <p>No feed entries at the moment.</p>\n      )}\n    </div>\n  );\n}\n","import * as React from \"react\";\n\nimport \"./index.scss\";\n\nexport function Contribute() {\n  return (\n    <div className=\"contribute\">\n      <h2>Help improve MDN Web Docs</h2>\n      <p>\n        All parts of MDN (docs and the site itself) are created by an open\n        community of developers. Please join us! Pick one of these ways to help:\n      </p>\n\n      <ul>\n        <li>\n          <a href=\"/en-US/docs/MDN/Getting_started\">Getting started</a>\n        </li>\n        <li>\n          <a href=\"/en-US/docs/MDN/Contribute\">Contributing to MDN content</a>\n        </li>\n        <li>\n          <a href=\"https://github.com/mdn/yari#readme\">\n            Contributing to the MDN codebase\n          </a>\n        </li>\n        <li>\n          <a href=\"https://github.com/mdn/browser-compat-data\">\n            Updating browser compatibility data\n          </a>\n        </li>\n      </ul>\n    </div>\n  );\n}\n","import * as React from \"react\";\n\nimport \"./index.scss\";\n\nexport function HomeHero() {\n  return (\n    <div className=\"hero\">\n      <div className=\"hero-content\">\n        <h1>Resources for developers, by developers.</h1>\n        <ul>\n          <li>\n            <a href=\"/en-US/docs/Web\">Web Technologies</a>\n          </li>\n          <li>\n            <a href=\"/en-US/docs/Learn\">Learn Web Development</a>\n          </li>\n          <li>\n            <a href=\"/en-US/docs/Tools\">Developer Tools</a>\n          </li>\n        </ul>\n      </div>\n    </div>\n  );\n}\n","import useSWR from \"swr\";\n\nimport { CRUD_MODE } from \"../constants\";\nimport { BlogFeed } from \"../ui/molecules/blog-feed\";\nimport { Contribute } from \"../ui/molecules/home-contribute\";\nimport { HomeHero } from \"../ui/molecules/home-hero\";\n\nimport \"./index.scss\";\n\nimport { FeedEntry } from \"./types\";\n\ninterface HomepageData {\n  feedEntries: FeedEntry[];\n}\n\nexport function Homepage(props /* TODO: define a TS interface for this */) {\n  const { data, error } = useSWR<HomepageData>(\n    \"./index.json\",\n    async (url) => {\n      const response = await fetch(url);\n      if (!response.ok) {\n        const text = await response.text();\n        throw new Error(`${response.status} on ${url}: ${text}`);\n      }\n      return await response.json();\n    },\n    {\n      initialData: props.feedEntries\n        ? { feedEntries: props.feedEntries }\n        : undefined,\n      revalidateOnFocus: CRUD_MODE,\n    }\n  );\n\n  return (\n    <main id=\"content\" role=\"main\">\n      <HomeHero />\n      <div className=\"home-content-container\">\n        {error ? (\n          <p>\n            Error downloading feed entries (<code>{error.toString()}</code>)\n          </p>\n        ) : (\n          <BlogFeed feedEntries={data && data.feedEntries} />\n        )}\n        <Contribute />\n      </div>\n    </main>\n  );\n}\n","import { useLocation } from \"react-router-dom\";\n\nimport { useGA } from \"../../../ga-context\";\n\nimport \"./index.scss\";\n\nexport function A11yNav() {\n  const ga = useGA();\n  const { pathname } = useLocation();\n  const showLangMenuSkiplink = pathname.includes(\"/docs/\");\n\n  /**\n   * Send a signal to GA when there is an interaction on one\n   * of the access menu links.\n   * @param {Object} event - The event object that was fired\n   */\n  function sendAccessMenuItemClick(event) {\n    const action = new URL(event.target.href).hash;\n    const label = event.target.textContent;\n\n    ga(\"send\", {\n      hitType: \"event\",\n      eventCategory: \"Access Links\",\n      eventAction: action,\n      eventLabel: label,\n    });\n  }\n\n  return (\n    <ul id=\"nav-access\" className=\"a11y-nav\">\n      <li>\n        <a\n          id=\"skip-main\"\n          href=\"#content\"\n          onClick={sendAccessMenuItemClick}\n          onContextMenu={sendAccessMenuItemClick}\n        >\n          Skip to main content\n        </a>\n      </li>\n      <li>\n        <a\n          id=\"skip-search\"\n          href=\"#main-q\"\n          onClick={sendAccessMenuItemClick}\n          onContextMenu={sendAccessMenuItemClick}\n        >\n          Skip to search\n        </a>\n      </li>\n      {showLangMenuSkiplink && (\n        <li>\n          <a\n            id=\"skip-select-language\"\n            href=\"#select-language\"\n            onClick={sendAccessMenuItemClick}\n            onContextMenu={sendAccessMenuItemClick}\n          >\n            Skip to select language\n          </a>\n        </li>\n      )}\n    </ul>\n  );\n}\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M7.14,8.35V119.41H118.19V8.35Zm103.71,56c-.48.92-1,1.79-1.46,2.71a3.44,3.44,0,0,1-3.54,2,2.4,2.4,0,0,0-1.55.5c-1.37.9-2.76,1.79-4.18,2.63a7.33,7.33,0,0,1-6.35.34,29.71,29.71,0,0,0-10.63-2,11.7,11.7,0,0,0-9.46,4.31,14.84,14.84,0,0,0-2.13,4.29c-1.24,3.07-2.3,21.38-2.3,26.05,0,0-17.62-3.42-34.15-20.34l4.31-11.32H25.91l9.76-10.35H18.87l9.77-10.34H12.69L30.45,34A40.9,40.9,0,0,1,50.22,23.17c7.1-1.22,8.93-.53,13.31.77l2.43.73.85.25,3.1.95a12.56,12.56,0,0,0,6.21.09,11.37,11.37,0,0,1,8.25,1,8.24,8.24,0,0,1,4.1,6.22,7.29,7.29,0,0,0,3.61,5.49,59.45,59.45,0,0,0,9.32,4.11c2.27.86,4.54,1.84,6.79,2.72a6.81,6.81,0,0,1,2.86,2.06,4.81,4.81,0,0,1,1.1,2.73c.14,2,.37,4,.47,6h0A15.24,15.24,0,0,1,110.85,64.32Z\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M320.12,39.62a5.42,5.42,0,0,0-4.53,2.13,7.36,7.36,0,0,0-1.7,4.43v2.36a6.28,6.28,0,0,0,1.7,4.46,5.63,5.63,0,0,0,4.3,1.82,5.12,5.12,0,0,0,4.57-2.27A9.7,9.7,0,0,0,326,47a8.11,8.11,0,0,0-1.67-5.52A5.36,5.36,0,0,0,320.12,39.62Z\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M387.38,39.53a5.52,5.52,0,0,0-4.7,2.15,8.8,8.8,0,0,0-1.63,5.49,9.23,9.23,0,0,0,1.58,5.45,5.38,5.38,0,0,0,4.7,2.25,5.61,5.61,0,0,0,4.74-2.2,8.91,8.91,0,0,0,1.68-5.59A8.24,8.24,0,0,0,392,41.56,5.76,5.76,0,0,0,387.38,39.53Z\"\n});\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M299.47,41.35a4.34,4.34,0,0,0-4-1.92,4.55,4.55,0,0,0-3.89,1.73A8.37,8.37,0,0,0,290,45.33h10.48A6.3,6.3,0,0,0,299.47,41.35Z\"\n});\n\nvar _ref6 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M357.74,30.75H352V54.06h5.72q5.47,0,8.35-3T369,42.41q0-5.43-2.88-8.55T357.74,30.75Z\"\n});\n\nvar _ref7 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M121.55,8.35v70.8h323V8.35ZM163.76,30.8h-4V54h3.68v3.73H152.19V54h3.31V36.79h-.19l-9.63,19.12h-2.12l-10-19.4h-.19V54h3.45v3.73H125.67V54h3.68V30.8h-4V27.07H133l11.66,22.56h.19l11.18-22.56h7.7Zm29.12,22.67q-4.11,4.28-11.38,4.28H167.44V54.06h3.73V30.75h-3.73V27.07h13.83q7.59,0,11.66,4.29a15.4,15.4,0,0,1,4,11A15.33,15.33,0,0,1,192.88,53.47ZM231.77,30.8h-3.68v27h-2.6L208.08,35h-.19V54h4.67v3.73H200.34V54h3.49V30.8h-4V27.07h7.08l16.9,22.09H224V30.8h-4.58V27.07h12.32Zm43.8,27h-3.31l-7.83-23.18h-.19l-7.55,23.18h-3.35L244.56,30.8h-2.65V27.07H253V30.8h-3.87L255,50.71h.23l6.61-19.91H259V27.07h11V30.8h-2.78l6.61,20.1h.23l5.43-20.1h-4.15V27.07h11V30.8h-2.54Zm26.71-1.51a9.66,9.66,0,0,1-6.42,2,10.2,10.2,0,0,1-7.41-2.74c-1.89-1.82-2.83-4.47-2.83-7.93a12.37,12.37,0,0,1,2.64-8.12,9,9,0,0,1,7.32-3.21,8.62,8.62,0,0,1,6.75,2.69,9.65,9.65,0,0,1,2.45,6.52,13.67,13.67,0,0,1-.28,2.69H290q.29,6.71,6.18,6.7a5.2,5.2,0,0,0,3.71-1.18,5.82,5.82,0,0,0,1.67-2.83l3.45.71A7.21,7.21,0,0,1,302.28,56.24Zm25.77-1.63c-1.51,2.4-3.92,3.61-7.22,3.61s-5.84-1.29-7.22-3.87c0,.25-.1.82-.21,1.7s-.19,1.44-.22,1.7H309c.16-1,.31-2,.47-3.07a21.42,21.42,0,0,0,.24-3.16v-23h-3.4V25.27h7.55V40.9a9.76,9.76,0,0,1,2.67-3.28,7.33,7.33,0,0,1,4.74-1.4A8.48,8.48,0,0,1,327.77,39q2.55,2.74,2.55,7.74A14.6,14.6,0,0,1,328.05,54.61Zm41.39-1.14q-4.11,4.28-11.37,4.28H344V54.06h3.73V30.75H344V27.07h13.83q7.59,0,11.66,4.29a15.41,15.41,0,0,1,4.06,11A15.34,15.34,0,0,1,369.44,53.47Zm25.65,1.68a10.53,10.53,0,0,1-7.9,3.07,10,10,0,0,1-7.63-3,10.93,10.93,0,0,1-2.8-7.83,12.13,12.13,0,0,1,2.69-7.93q2.69-3.3,8-3.3t8,3.28a12,12,0,0,1,2.64,7.76A10.86,10.86,0,0,1,395.09,55.15Zm22.61.57c-1.4,1.66-3.63,2.5-6.68,2.5a9.58,9.58,0,0,1-7.15-2.76q-2.72-2.76-2.71-7.91a12.25,12.25,0,0,1,2.69-8,9.17,9.17,0,0,1,7.5-3.28,15,15,0,0,1,3.82.48,10.37,10.37,0,0,1,3.5,1.65l.85,5.47-3.35.38-.76-3.54a8.07,8.07,0,0,0-4.11-1,4.9,4.9,0,0,0-4.39,2.15,9.93,9.93,0,0,0-1.41,5.55A8.9,8.9,0,0,0,407,52.84a5.23,5.23,0,0,0,4.44,2c2.92,0,4.67-1.7,5.23-5.1l3.5.71A10.34,10.34,0,0,1,417.7,55.72Zm20.48.75a11.68,11.68,0,0,1-6.63,1.75,15.52,15.52,0,0,1-8.26-2.08L424,51l3.26.33-.1,2.74a7,7,0,0,0,2.06.66,12.63,12.63,0,0,0,2.19.19,8.68,8.68,0,0,0,3.66-.75,2.5,2.5,0,0,0,1.63-2.36,2.25,2.25,0,0,0-1.32-2.2,12.65,12.65,0,0,0-3.28-1c-1.31-.22-2.61-.49-3.9-.82a7.5,7.5,0,0,1-3.25-1.7,4.67,4.67,0,0,1-1.33-3.66c0-2.36.88-4,2.62-4.91a12,12,0,0,1,5.6-1.37,15,15,0,0,1,4.08.55,16.65,16.65,0,0,1,3.47,1.39l.47,5.1-3.3.37-.48-3.3a9.5,9.5,0,0,0-4.06-.9,5.62,5.62,0,0,0-2.87.66A2.33,2.33,0,0,0,428,42.27a2.13,2.13,0,0,0,1.3,2.07,11.91,11.91,0,0,0,3.21.92,36.69,36.69,0,0,1,3.82.83,7.46,7.46,0,0,1,3.21,1.74,4.9,4.9,0,0,1,1.3,3.73A5.56,5.56,0,0,1,438.18,56.47Z\"\n});\n\nvar _ref8 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M181.17,30.75h-5.71V54.06h5.71q5.47,0,8.36-3t2.88-8.61q0-5.43-2.88-8.55T181.17,30.75Z\"\n});\n\nvar _ref9 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M121.63,119.32V81.74H236.54v37.58ZM153.22,109h-2v-6.85a4.8,4.8,0,0,0-1.58-4,5.57,5.57,0,0,0-3.55-1.26,5,5,0,0,0-4.92,3.26,4.19,4.19,0,0,0-1.88-2.46,5.82,5.82,0,0,0-3-.8,4.89,4.89,0,0,0-4.56,2.56V97.24h-6.28v3.26h2V109h-2v3.23h9.11V109H131.7v-5.25a4.4,4.4,0,0,1,.69-2.56,2.47,2.47,0,0,1,2.21-1q2.57,0,2.56,3.63v8.41h6.29V109h-2v-5.25a4.47,4.47,0,0,1,.67-2.56,2.42,2.42,0,0,1,2.19-1q2.63,0,2.63,3.63v8.41h6.28Zm9.88-12.07q-4,0-6,2.36a8.41,8.41,0,0,0-2,5.66,7.25,7.25,0,0,0,2.17,5.62,8,8,0,0,0,5.65,2,8.54,8.54,0,0,0,5.94-2.11,7.27,7.27,0,0,0,2.34-5.67,8.21,8.21,0,0,0-2-5.51Q167.13,96.94,163.1,96.94ZM163,109.28a3,3,0,0,1-2.63-1.33,5.68,5.68,0,0,1-.9-3.26,5,5,0,0,1,1-3.28,3.23,3.23,0,0,1,2.61-1.18,3.5,3.5,0,0,1,2.59,1.08,4.56,4.56,0,0,1,1.07,3.31,5.21,5.21,0,0,1-1,3.41A3.33,3.33,0,0,1,163,109.28Zm25-2.3-3.39-.29-.7,2.32H179l8.32-9.54L187,97.24H173.81l-.53,5.25,3.16.34.67-2.36h4.65L173.51,110l.44,2.26h13.13Zm7.62-9.74h-4.46v5.39h4.46Zm0,9.61h-4.46v5.39h4.46Zm13.54-17.49h-4.23l-6.48,22.88h4.22Zm8.68,0h-4.23l-6.45,22.88h4.19Zm15,22.51-.07-2.26a1.22,1.22,0,0,1-.56.1c-.69,0-1-.39-1-1.16v-6.49a4.39,4.39,0,0,0-1.8-3.84,7,7,0,0,0-4.16-1.28,14.55,14.55,0,0,0-3.16.3,24.14,24.14,0,0,0-3.29,1.06l-.56,3.46,3.39.4.5-1.69a2.78,2.78,0,0,1,1.08-.37,11.3,11.3,0,0,1,1.25-.07c1.19,0,1.89.37,2.09,1.1a8.55,8.55,0,0,1,.3,2.26v.5a8.91,8.91,0,0,0-1.18-.11c-.41,0-.81,0-1.21,0a12.64,12.64,0,0,0-4.81.88,3.53,3.53,0,0,0-2.18,3.64,3.66,3.66,0,0,0,1.48,3.33,5.63,5.63,0,0,0,3.11,1,4.67,4.67,0,0,0,3-.91,6.78,6.78,0,0,0,1.8-2,3,3,0,0,0,3.33,3A5.54,5.54,0,0,0,232.85,111.87Zm-9.25-2.32a1.69,1.69,0,0,1-1.36-.52,1.81,1.81,0,0,1-.43-1.21,1.67,1.67,0,0,1,.86-1.68,4.63,4.63,0,0,1,2-.42,7.69,7.69,0,0,1,1.07.07l1.06.13a3.58,3.58,0,0,1-1.08,2.74A3.24,3.24,0,0,1,223.6,109.55Z\"\n});\n\nfunction SvgLogo(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 451.74 135\",\n    role: \"img\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title === undefined ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, \"MDN Logo\") : title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3, _ref4, _ref5, _ref6, _ref7, _ref8, _ref9);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgLogo);\nexport default __webpack_public_path__ + \"static/media/logo.7071ef15.svg\";\nexport { ForwardRef as ReactComponent };","import * as React from \"react\";\n\nimport { useLocale } from \"../../../hooks\";\nimport { ReactComponent as LogoSVG } from \"../../../assets/logo.svg\";\n\nimport \"./index.scss\";\n\nexport function Logo({ mode }: { mode?: string }) {\n  const locale = useLocale();\n\n  return (\n    <a href={`/${locale}/`} className=\"logo\" aria-label=\"MDN Web Docs\">\n      <LogoSVG fill={mode === \"dark\" ? \"#fff\" : undefined} />\n    </a>\n  );\n}\n","import * as React from \"react\";\nimport { useLocale } from \"../../../hooks\";\nimport { Logo } from \"../../atoms/logo\";\nimport \"./index.scss\";\n\nexport function Footer() {\n  const locale = useLocale();\n\n  return (\n    <footer id=\"nav-footer\" className=\"page-footer\">\n      <div className=\"content-container\">\n        <div className=\"page-footer-logo\">\n          <Logo mode=\"dark\" />\n        </div>\n        <ul className=\"link-list-mdn\">\n          <li>\n            <a href={`/${locale}/docs/Web`}>Web Technologies</a>\n          </li>\n          <li>\n            <a href={`/${locale}/docs/Learn`}>Learn Web Development</a>\n          </li>\n          <li>\n            <a href={`/${locale}/docs/MDN/About`}>About MDN</a>\n          </li>\n          <li>\n            <a href={`/${locale}/docs/MDN/Feedback`}>Feedback</a>\n          </li>\n        </ul>\n\n        <ul className=\"link-list-moz\">\n          <li>\n            <a\n              href=\"https://www.mozilla.org/about/\"\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n            >\n              About\n            </a>\n          </li>\n          <li>\n            <a\n              href=\"https://shop.spreadshirt.com/mdn-store/\"\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n            >\n              MDN Web Docs Store\n            </a>\n          </li>\n          <li>\n            <a\n              href=\"https://www.mozilla.org/contact/\"\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n            >\n              Contact Us\n            </a>\n          </li>\n          <li>\n            <a\n              href=\"https://www.mozilla.org/firefox/?utm_source=developer.mozilla.org&utm_campaign=footer&utm_medium=referral\"\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n            >\n              Firefox\n            </a>\n          </li>\n        </ul>\n\n        <div className=\"social social-mdn\">\n          <h4>MDN</h4>\n          <ul>\n            <li>\n              <a\n                className=\"social-icon twitter\"\n                href=\"https://twitter.com/mozdevnet\"\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n              >\n                <span className=\"visually-hidden\">MDN on Twitter</span>\n              </a>\n            </li>\n            <li>\n              <a\n                className=\"social-icon github\"\n                href=\"https://github.com/mdn/\"\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n              >\n                <span className=\"visually-hidden\">MDN on Github</span>\n              </a>\n            </li>\n          </ul>\n        </div>\n\n        <div className=\"social social-moz\">\n          <h4>Mozilla</h4>\n          <ul>\n            <li>\n              <a\n                className=\"social-icon twitter\"\n                href=\"https://twitter.com/mozilla\"\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n              >\n                <span className=\"visually-hidden\">Mozilla on Twitter</span>\n              </a>\n            </li>\n            <li>\n              <a\n                className=\"social-icon instagram\"\n                href=\"https://www.instagram.com/mozillagram/\"\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n              >\n                <span className=\"visually-hidden\">Mozilla on Instagram</span>\n              </a>\n            </li>\n          </ul>\n        </div>\n\n        <p id=\"license\" className=\"footer-license\">\n          &copy; 2005-{new Date().getFullYear()} Mozilla and individual\n          contributors. Content is available under{\" \"}\n          <a href=\"/docs/MDN/About#Copyrights_and_licenses\">these licenses</a>.\n        </p>\n\n        <ul className=\"footer-legal\">\n          <li>\n            <a\n              href=\"https://www.mozilla.org/about/legal/terms/mozilla\"\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n            >\n              Terms\n            </a>\n          </li>\n          <li>\n            <a\n              href=\"https://www.mozilla.org/privacy/websites/\"\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n            >\n              Privacy\n            </a>\n          </li>\n          <li>\n            <a\n              href=\"https://www.mozilla.org/privacy/websites/#cookies\"\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n            >\n              Cookies\n            </a>\n          </li>\n        </ul>\n      </div>\n    </footer>\n  );\n}\n","import * as React from \"react\";\n\nimport \"./index.scss\";\n\ntype DropdownProps = {\n  // A string set as the id attribute to uniquely identify this\n  // Dropdown component\n  id?: string;\n  // An optional string that, when specified, is added to the\n  // the existing classes for the dropdown-menu-items element.\n  // Useful when custom styling for a specific dropdown\n  // component is needed.\n  componentClassName?: string;\n  // The string or component to display. Clicking this will\n  // display the menu\n  label: string | React.ReactNode;\n  // An optional string that, when specified, is set as the `id` attribute\n  // of the `ul` menu element. This is then also used as the value of the\n  // `aria-owns` property on the menu trigger button\n  ariaOwns?: string;\n  // An optional string that, when specified, is used to set a custom\n  // label for the menu trigger button using `aria-label`\n  ariaLabel?: string;\n  // If set to true, the menu will be anchored to the right edge of\n  // the label and may extend beyond the left edge. If this is\n  // false or unset, the default behavior is to attach the menu to\n  // the left side of the label and allow it to extend beyond the\n  // right edge of the label.\n  right?: boolean;\n  // If true, we won't show the arrow next to the menu\n  hideArrow?: boolean;\n  // Optional function to trigger a closing.\n  forceClose?: boolean;\n  children: React.ReactNode;\n};\n\nexport default function Dropdown(props: DropdownProps) {\n  const [showDropdownMenu, setShowDropdownMenu] = React.useState(false);\n\n  function hideDropdownMenuIfVisible() {\n    if (showDropdownMenu) {\n      setShowDropdownMenu(false);\n    }\n  }\n\n  React.useEffect(() => {\n    if (props.forceClose) {\n      setShowDropdownMenu(false);\n    }\n  }, [props.forceClose]);\n\n  React.useEffect(() => {\n    let mounted = true;\n    document.addEventListener(\"keyup\", (event: KeyboardEvent) => {\n      if (event.key === \"Escape\" && mounted) {\n        hideDropdownMenuIfVisible();\n      }\n    });\n    return () => {\n      mounted = false;\n    };\n  });\n\n  return (\n    <div\n      className={`dropdown-container ${\n        props.componentClassName ? props.componentClassName : \"\"\n      }`}\n    >\n      <button\n        id={props.id}\n        type=\"button\"\n        className=\"ghost dropdown-menu-label\"\n        aria-haspopup=\"true\"\n        aria-owns={props.ariaOwns}\n        aria-label={props.ariaLabel}\n        onClick={() => {\n          setShowDropdownMenu(!showDropdownMenu);\n        }}\n      >\n        {props.label}\n        {!props.hideArrow && (\n          <span className=\"dropdown-arrow-down\" aria-hidden=\"true\">\n            ▼\n          </span>\n        )}\n      </button>\n      <ul\n        id={props.ariaOwns}\n        className={`dropdown-menu-items ${props.right ? \"right\" : \"\"} ${\n          showDropdownMenu ? \"show\" : \"\"\n        }`}\n        role=\"menu\"\n      >\n        {props.children}\n      </ul>\n    </div>\n  );\n}\n","import { Link, useLocation } from \"react-router-dom\";\n\nimport { useLocale } from \"../../../hooks\";\n\nexport default function SignInLink({ className }: { className?: string }) {\n  const locale = useLocale();\n  const { pathname } = useLocation();\n  const sp = new URLSearchParams();\n  // If pathname === '/en-US/sigin', i.e. you're already on the sign in page\n  // itself, then discard that as a 'next' parameter.\n  // Otherwise, you might get redirected back to the sign in page after you've\n  // successfully signed in.\n  sp.set(\"next\", pathname === `/${locale}/signin` ? `/${locale}/` : pathname);\n\n  return (\n    <Link\n      to={`/${locale}/signin?${sp.toString()}`}\n      rel=\"nofollow\"\n      className={className ? className : undefined}\n    >\n      Sign in\n    </Link>\n  );\n}\n","import React from \"react\";\nimport { Link, useLocation } from \"react-router-dom\";\n\nimport Dropdown from \"../dropdown\";\nimport { useLocale } from \"../../../hooks\";\nimport SignInLink from \"../../atoms/signin-link\";\nimport { useUserData } from \"../../../user-context\";\n\nimport { DISABLE_AUTH } from \"../../../constants\";\n\nimport \"./index.scss\";\n\nconst avatarImage = `${process.env.PUBLIC_URL || \"\"}/assets/avatar.png`;\n\nexport default function Login() {\n  // For example, if you're using Yari purely for previewing your content edits,\n  // it might not make sense to do any auth.\n  if (DISABLE_AUTH) {\n    return null;\n  }\n  // The reason the <Login/> wraps <LoginInner/> is to be able to\n  // potentially exit early depending on `DISABLE_AUTH`.\n  return <LoginInner />;\n}\n\nfunction LoginInner() {\n  const locale = useLocale();\n  const { pathname } = useLocation();\n  const userData = useUserData();\n\n  const [forceCloseDropdown, setForceCloseDropdown] = React.useState(false);\n\n  // if we don't have the user data yet, don't render anything\n  if (!userData || typeof window === \"undefined\") {\n    return null;\n  }\n\n  if (!(userData.isAuthenticated && userData.username)) {\n    // Otherwise, show a login prompt\n    return <SignInLink className=\"signin-link\" />;\n  }\n\n  // If pathname === '/en-US/sigin', i.e. you're already on the sign in page\n  // itself, then discard that as a 'next' parameter.\n  // Otherwise, you might get redirected back to the sign in page after you've\n  // successfully signed in.\n  const next = pathname === `/${locale}/signin` ? `/${locale}/` : pathname;\n\n  // If we have user data and the user is logged in, show their\n  // profile pic, defaulting to the dino head if the avatar\n  // URL doesn't work.\n  const label = (\n    <>\n      <img\n        src={userData.avatarUrl || avatarImage}\n        className=\"avatar\"\n        alt={userData.username}\n      />\n      <span className=\"avatar-username visually-hidden\">\n        {userData.username}\n      </span>\n    </>\n  );\n\n  return (\n    <Dropdown\n      id=\"user-avatar-menu\"\n      label={label}\n      right={true}\n      hideArrow={true}\n      forceClose={forceCloseDropdown}\n    >\n      <li>\n        <Link\n          to={`/${locale}/settings`}\n          onClick={() => {\n            setForceCloseDropdown(true);\n          }}\n        >\n          Account settings\n        </Link>\n      </li>\n      <li>\n        <Link\n          to={`/${locale}/signout?${new URLSearchParams({ next }).toString()}`}\n          onClick={() => {\n            setForceCloseDropdown(true);\n          }}\n        >\n          Sign out\n        </Link>\n      </li>\n    </Dropdown>\n  );\n}\n","import * as React from \"react\";\nimport { useEffect, useRef, useState } from \"react\";\n\nimport { useLocale } from \"../../../hooks\";\n\nimport \"./index.scss\";\n\nexport default function MainMenu({\n  toggleMainMenu,\n}: {\n  toggleMainMenu?: () => void;\n}) {\n  const locale = useLocale();\n  const previousActiveElement = useRef<null | HTMLButtonElement>(null);\n  const mainMenuRef = useRef<null | HTMLUListElement>(null);\n  const [visibleSubMenuId, setVisibleSubMenuId] = useState<string | null>(null);\n  const [focusedSubmenuItemIndex, setFocusedSubmenuItemIndex] =\n    useState<number>(-1);\n  const [submenuCollapsedOnBlurId, setSubmenuCollapsedOnBlurId] = useState<\n    string | null\n  >(null);\n  function hideSubMenuIfVisible() {\n    if (visibleSubMenuId) {\n      setVisibleSubMenuId(null);\n    }\n  }\n\n  /**\n   * Show and hide submenus in the main menu, send GA events and updates\n   * the ARIA state.\n   * @param {Object} event - onClick event triggered on top-level menu item\n   * @param {String} id - The current top-level menu item id\n   */\n  function toggleSubMenu(event, id) {\n    const expandedState = visibleSubMenuId === id ? false : true;\n\n    // store the current activeElement\n    previousActiveElement.current = document.activeElement as HTMLButtonElement;\n\n    setVisibleSubMenuId(visibleSubMenuId === id ? null : id);\n\n    if (expandedState) {\n      setFocusedSubmenuItemIndex(0);\n    }\n  }\n\n  function onMenuButtonFocus() {\n    setFocusedSubmenuItemIndex(-1);\n  }\n\n  /**\n   * Handle arrow keydown events on submenu to change focused item.\n   * @param {Object} event - keydown event triggered on submenu\n   * @param {String} id - submenu id\n   * @param {Number} itemCount - number of items in submenu\n   */\n  function onSubmenuKeydown(\n    event: React.KeyboardEvent,\n    id: string,\n    itemCount: number\n  ) {\n    if (event.key === \"ArrowDown\" || event.key === \"ArrowUp\") {\n      // prevent page scrolling\n      event.preventDefault();\n\n      // open submenu if closed\n      if (focusedSubmenuItemIndex === -1) {\n        previousActiveElement.current = event.target as HTMLButtonElement;\n        setVisibleSubMenuId(id);\n      }\n\n      switch (event.key) {\n        case \"ArrowDown\":\n          // focus below item and jump to top item if bottom item focused\n          setFocusedSubmenuItemIndex((focusedSubmenuItemIndex + 1) % itemCount);\n          break;\n        case \"ArrowUp\":\n          if (focusedSubmenuItemIndex <= 0) {\n            // jump to bottom item if top item focused\n            setFocusedSubmenuItemIndex(itemCount - 1);\n          } else {\n            setFocusedSubmenuItemIndex(focusedSubmenuItemIndex - 1);\n          }\n      }\n    }\n  }\n\n  /**\n   * Close submenu if focus leaves submenu due to tabbing or clicking outside\n   */\n  function onSubmenuItemBlur(submenuId: string, itemIndex: number) {\n    if (itemIndex === focusedSubmenuItemIndex) {\n      // prevent submenu from immediately re-opening if blur caused by clicking menu button\n      setSubmenuCollapsedOnBlurId(submenuId);\n      setTimeout(() => {\n        setSubmenuCollapsedOnBlurId(null);\n      }, 250);\n\n      hideSubMenuIfVisible();\n    }\n  }\n\n  useEffect(() => {\n    const mainMenu = mainMenuRef.current;\n\n    // by default the main menu contains a `nojs` class which\n    // then allows users on desktop to interact with the main\n    // menu via hover events if the JavsScript failed for whatever\n    // reason. If all is well though, we remove the class here and\n    // let JavaScript take over the interaction\n    if (mainMenu) {\n      mainMenu.classList.remove(\"nojs\");\n    }\n\n    const focusableSubmenuItemSelector = 'ul.show a[tabindex=\"0\"]';\n    mainMenu\n      ?.querySelector<HTMLAnchorElement>(focusableSubmenuItemSelector)\n      ?.focus();\n\n    document.addEventListener(\"keyup\", (event) => {\n      if (event.key === \"Escape\") {\n        hideSubMenuIfVisible();\n\n        if (previousActiveElement.current) {\n          previousActiveElement.current.focus();\n        }\n      }\n    });\n  });\n\n  const menus = [\n    {\n      label: \"Technologies\",\n      id: \"technologies\",\n      items: [\n        {\n          url: `/${locale}/docs/Web`,\n          label: \"Technologies Overview\",\n        },\n        {\n          url: `/${locale}/docs/Web/HTML`,\n          label: \"HTML\",\n        },\n        {\n          url: `/${locale}/docs/Web/CSS`,\n          label: \"CSS\",\n        },\n        {\n          url: `/${locale}/docs/Web/JavaScript`,\n          label: \"JavaScript\",\n        },\n        {\n          url: `/${locale}/docs/Web/Guide/Graphics`,\n          label: \"Graphics\",\n        },\n        {\n          url: `/${locale}/docs/Web/HTTP`,\n          label: \"HTTP\",\n        },\n        {\n          url: `/${locale}/docs/Web/API`,\n          label: \"APIs\",\n        },\n        {\n          url: `/${locale}/docs/Mozilla/Add-ons/WebExtensions`,\n          label: \"Browser Extensions\",\n        },\n        {\n          url: `/${locale}/docs/Web/MathML`,\n          label: \"MathML\",\n        },\n      ],\n    },\n    {\n      label: \"References & Guides\",\n      id: \"references-guides\",\n      items: [\n        {\n          url: `/${locale}/docs/Learn`,\n          label: \"Learn web development\",\n        },\n        {\n          url: `/${locale}/docs/Web/Tutorials`,\n          label: \"Tutorials\",\n        },\n        {\n          url: `/${locale}/docs/Web/Reference`,\n          label: \"References\",\n        },\n        {\n          url: `/${locale}/docs/Web/Guide`,\n          label: \"Developer Guides\",\n        },\n        {\n          url: `/${locale}/docs/Web/Accessibility`,\n          label: \"Accessibility\",\n        },\n        {\n          url: `/${locale}/docs/Games`,\n          label: \"Game development\",\n        },\n        {\n          url: `/${locale}/docs/Web`,\n          label: \"...more docs\",\n        },\n      ],\n    },\n    {\n      label: \"Feedback\",\n      id: \"feedback\",\n      items: [\n        {\n          url: `/${locale}/docs/MDN/Contribute/Feedback`,\n          label: \"Send Feedback\",\n        },\n        {\n          url: `/${locale}/docs/MDN/Contribute`,\n          label: \"Contribute to MDN\",\n        },\n        {\n          label: \"Report a content issue\",\n          external: true,\n          url: \"https://github.com/mdn/content/issues/new\",\n          onClick: (event) => {\n            const onGithubElement = document.querySelector(\"#on-github\");\n            if (onGithubElement) {\n              event.preventDefault();\n              if (toggleMainMenu) {\n                toggleMainMenu();\n              }\n              onGithubElement.scrollIntoView({ behavior: \"smooth\" });\n            }\n          },\n        },\n        {\n          label: \"Report a platform issue\",\n          external: true,\n          url: \"https://github.com/mdn/yari/issues/new\",\n        },\n      ],\n    },\n  ];\n\n  return (\n    <nav className=\"main-nav\" aria-label=\"Main menu\">\n      <ul className=\"main-menu nojs\" ref={mainMenuRef}>\n        {menus.map((menuEntry) => (\n          <li\n            key={menuEntry.id}\n            className=\"top-level-entry-container\"\n            onKeyDown={(event) => {\n              onSubmenuKeydown(event, menuEntry.id, menuEntry.items.length);\n            }}\n          >\n            <button\n              id={`${menuEntry.id}-button`}\n              type=\"button\"\n              className=\"top-level-entry\"\n              aria-haspopup=\"menu\"\n              aria-expanded={menuEntry.id === visibleSubMenuId}\n              onFocus={onMenuButtonFocus}\n              onClick={(event) => {\n                if (submenuCollapsedOnBlurId !== menuEntry.id) {\n                  // always toggle menu if not clicking button for currently open menu\n                  toggleSubMenu(event, menuEntry.id);\n                }\n                setSubmenuCollapsedOnBlurId(null);\n              }}\n            >\n              {menuEntry.label}\n            </button>\n            <ul\n              className={`${menuEntry.id} ${\n                menuEntry.id === visibleSubMenuId ? \"show\" : \"\"\n              }`}\n              role=\"menu\"\n              aria-labelledby={`${menuEntry.id}-button`}\n            >\n              {menuEntry.items.map((item, index) => (\n                <li\n                  key={item.url}\n                  role=\"none\"\n                  onBlur={() => onSubmenuItemBlur(menuEntry.id, index)}\n                  onMouseOver={() => setFocusedSubmenuItemIndex(index)}\n                >\n                  {item.external ? (\n                    <a\n                      tabIndex={index === focusedSubmenuItemIndex ? 0 : -1}\n                      target=\"_blank\"\n                      rel=\"noopener noreferrer\"\n                      href={item.url}\n                      onClick={(event) => {\n                        if (item.onClick) {\n                          item.onClick(event);\n                        }\n                      }}\n                      role=\"menuitem\"\n                    >\n                      {item.label} &#x1f310;\n                    </a>\n                  ) : (\n                    <a\n                      tabIndex={index === focusedSubmenuItemIndex ? 0 : -1}\n                      href={item.url}\n                      onClick={(event) => {\n                        if (item.onClick) {\n                          item.onClick(event);\n                        }\n                      }}\n                      role=\"menuitem\"\n                    >\n                      {item.label}\n                    </a>\n                  )}\n                </li>\n              ))}\n            </ul>\n          </li>\n        ))}\n      </ul>\n    </nav>\n  );\n}\n","import { useRef, useState } from \"react\";\n\nimport Login from \"../../molecules/login\";\nimport { Logo } from \"../../atoms/logo\";\nimport MainMenu from \"../../molecules/main-menu\";\nimport { Search } from \"../../molecules/search\";\n\nimport \"./index.scss\";\n\nexport function Header() {\n  const [showMainMenu, setShowMainMenu] = useState(false);\n  const mainMenuToggleRef = useRef<null | HTMLButtonElement>(null);\n\n  function toggleMainMenu() {\n    const pageOverlay = document.querySelector(\".page-overlay\");\n    const mainMenuButton = mainMenuToggleRef.current;\n\n    if (mainMenuButton) {\n      mainMenuButton.classList.toggle(\"expanded\");\n      setShowMainMenu(!showMainMenu);\n    }\n\n    if (pageOverlay) {\n      pageOverlay.classList.toggle(\"hidden\");\n    }\n  }\n\n  function alwaysPreloadSearchByClient() {\n    const isServer = typeof window === \"undefined\";\n    if (!isServer) {\n      // You can't look for 'iPad' in `navigator.userAgent` because of an iPad,\n      // that outcome doesn't method 'iPad'.\n      // But for tablets, on iOS we can detect by looking for 'Safari' and\n      // looking at the client width/height.\n      // Buy what's so specific about iPad?\n      // They are large enough that you don't need to use a hamburger to\n      // initially hide the menu, so we can't use that as a clue to start\n      // preloading the advanced search widget. But iPad uses iOS Safari\n      // which means it exhibits the \"bug\" where you can't programmatically\n      // trigger a input `.focus()` (and making the keyboard come up).\n      // So the last trouble-maker is iOS Safari tablets.\n      if (\n        navigator.userAgent.includes(\"Safari\") &&\n        !navigator.userAgent.includes(\"iPhone\") &&\n        window.innerWidth > 700 &&\n        window.innerWidth < 1200\n      ) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  return (\n    <header className=\"page-header\">\n      <Logo />\n      <button\n        ref={mainMenuToggleRef}\n        type=\"button\"\n        className=\"ghost main-menu-toggle\"\n        aria-haspopup=\"true\"\n        aria-label=\"Show Menu\"\n        onClick={toggleMainMenu}\n      />\n      <div className={`page-header-main ${showMainMenu ? \"show\" : \"\"}`}>\n        <MainMenu\n          toggleMainMenu={() => {\n            toggleMainMenu();\n          }}\n        />\n\n        <Search\n          // The preload option tells the <Search> component to immediately\n          // switch from the basic search widget to the \"fancy one\". I.e. the\n          // one that does autocomplete as you type.\n          // With CSS, the whole main menu is only visible if you're on a\n          // smaller screen. Such as a smartphone. If you have bothered to\n          // click to expand the menu, let's kill two birds with one stone:\n          //\n          //  1. You're very likely to want to interact with the search widget\n          //     and even if that's not the case, it's a rather painless\n          //     to start downloading (lazy-loading) the CSS and JS needed\n          //     just in case. At least we know that we're not at the\n          //     critical initial render we needs to be as fast as possible.\n          //  2. If you're on a small device, it's a very high probability\n          //     that you're on an Apple iPhone. The iOS Safari browser has\n          //     a \"bug\" or limitation in that you can't control focus on an\n          //     input field (e.g. `element.focus()`) programmatically unless\n          //     it was the synchronous result of a click. Because our technique\n          //     is to lazy-load the fancy search widget only after a first\n          //     click, we can't put the focus back into the input field\n          //     specifically for iOS Safari.\n          //\n          preload={showMainMenu || alwaysPreloadSearchByClient()}\n          onResultPicked={() => {\n            toggleMainMenu();\n          }}\n        />\n        <div className=\"auth-container\">\n          <Login />\n        </div>\n      </div>\n    </header>\n  );\n}\n","import React from \"react\";\nimport { useSearchParams } from \"react-router-dom\";\n\nimport { Loading } from \"../ui/atoms/loading\";\nimport { PageContentContainer } from \"../ui/atoms/page-content\";\nimport { useGA } from \"../ga-context\";\nimport \"./index.scss\";\n\nconst SiteSearchForm = React.lazy(() => import(\"./form\"));\nconst SearchResults = React.lazy(() => import(\"./search-results\"));\n\nexport function SiteSearch() {\n  const isServer = typeof window === \"undefined\";\n  const ga = useGA();\n  const [searchParams] = useSearchParams();\n\n  const query = searchParams.get(\"q\");\n  const page = searchParams.get(\"page\");\n  React.useEffect(() => {\n    if (query) {\n      let title = `Search: \"${query}\"`;\n      if (page && page !== \"1\") {\n        title += ` (page ${page})`;\n      }\n      document.title = title;\n    } else {\n      document.title = \"No query, no results.\";\n    }\n  }, [query, page]);\n\n  const mountCounter = React.useRef(0);\n  React.useEffect(() => {\n    if (ga) {\n      if (mountCounter.current > 0) {\n        // 'dimension19' means it's a client-side navigation.\n        // I.e. not the initial load but the location has now changed.\n        // Note that in local development, where you use `localhost:3000`\n        // this will always be true because it's always client-side navigation.\n        ga(\"set\", \"dimension19\", \"Yes\");\n        ga(\"send\", {\n          hitType: \"pageview\",\n          location: window.location.toString(),\n        });\n      }\n      // By counting every time a document is mounted, we can use this to know if\n      // a client-side navigation happened.\n      mountCounter.current++;\n    }\n  }, [query, page, ga]);\n\n  return (\n    <div className=\"site-search main-page-content\">\n      <PageContentContainer>\n        {query ? (\n          <h1>\n            Search results for: <span className=\"query-string\">{query}</span>{\" \"}\n            {page && page !== \"1\" && `(page ${page})`}\n          </h1>\n        ) : (\n          <h1>No query, no results.</h1>\n        )}\n\n        {!isServer && (\n          <React.Suspense fallback={<Loading />}>\n            <SiteSearchForm />\n          </React.Suspense>\n        )}\n\n        {!isServer && query && (\n          <React.Suspense fallback={<Loading />}>\n            <SearchResults />\n          </React.Suspense>\n        )}\n      </PageContentContainer>\n    </div>\n  );\n}\n","import React from \"react\";\nimport { useLocation } from \"react-router-dom\";\n\nimport { PageContentContainer } from \"../ui/atoms/page-content\";\nimport \"./index.scss\";\n\nconst FallbackLink = React.lazy(() => import(\"./fallback-link\"));\n\n// NOTE! To hack on this component, you have to use a trick to even get to this\n// unless you use the Express server on localhost:5042.\n// To get here, use http://localhost:3000/en-US/_404/Whatever/you/like\n// Now hot-reloading works and you can iterate faster.\n// Otherwise, you can use http://localhost:5042/en-US/docs/Whatever/you/like\n// (note the :5042 port) and that'll test it a bit more realistically.\n\nexport function PageNotFound() {\n  const location = useLocation();\n  const [url, setURL] = React.useState(\"\");\n\n  React.useEffect(() => {\n    // If we're in a useEffect, this means we're in a client-side rendering\n    // and in that case the current window.location is realistic.\n    // When it's server-side rendered, the URL is \"fake\" just to generate\n    // the \"empty template\" page.\n    setURL(location.pathname);\n  }, [location]);\n\n  return (\n    <div className=\"page-not-found\">\n      <PageContentContainer>\n        {/* This string should match the `pageTitle` set in ssr/render.js */}\n        <h1>Page not found</h1>\n\n        {url && (\n          <p className=\"sorry-message\">\n            Sorry, the page <code>{url}</code> could not be found.\n          </p>\n        )}\n\n        {url && (\n          <React.Suspense fallback={null}>\n            <FallbackLink url={url} />\n          </React.Suspense>\n        )}\n\n        <p>\n          <a href=\"/\">Go back to the home page</a>\n        </p>\n      </PageContentContainer>\n    </div>\n  );\n}\n","import React from \"react\";\n\nimport { Loading } from \"../ui/atoms/loading\";\nimport { PageContentContainer } from \"../ui/atoms/page-content\";\n\nconst SignInApp = React.lazy(() => import(\"./sign-in\"));\nconst SignOutApp = React.lazy(() => import(\"./sign-out\"));\n\nfunction Container({\n  pageTitle,\n  children,\n  className,\n}: {\n  pageTitle: string;\n  children: React.ReactNode;\n  className: string;\n}) {\n  const isServer = typeof window === \"undefined\";\n\n  React.useEffect(() => {\n    document.title = pageTitle;\n  }, [pageTitle]);\n\n  return (\n    <PageContentContainer extraClasses={`auth-page-container ${className}`}>\n      {/* The reason for displaying this <h1> here\n          is to avoid an unnecessary \"flicker\".\n          component here is loaded SSR and is immediately present.\n          Only the \"guts\" below is lazy loaded. By having the header already\n          present the page feels less flickery at a very affordable cost of\n          allowing this to be part of the main JS bundle.\n       */}\n      <h1 className=\"slab-highlight\">{pageTitle}</h1>\n      {!isServer && children}\n    </PageContentContainer>\n  );\n}\nexport function SignIn() {\n  return (\n    <Container className=\"sign-in\" pageTitle=\"Sign in to MDN Web Docs\">\n      <React.Suspense\n        fallback={<Loading message=\"Loading sign in…\" minHeight={400} />}\n      >\n        <SignInApp />\n      </React.Suspense>\n    </Container>\n  );\n}\n\nexport function SignOut() {\n  return (\n    <Container className=\"sign-out\" pageTitle=\"Sign out\">\n      <React.Suspense\n        fallback={<Loading message=\"Loading sign out…\" minHeight={400} />}\n      >\n        <SignOutApp />\n      </React.Suspense>\n    </Container>\n  );\n}\n","import React from \"react\";\n\nimport { Loading } from \"../ui/atoms/loading\";\nimport { PageContentContainer } from \"../ui/atoms/page-content\";\n\nconst SettingsApp = React.lazy(() => import(\"./app\"));\n\nexport function Settings() {\n  const pageTitle = \"Account settings\";\n  React.useEffect(() => {\n    document.title = pageTitle;\n  }, []);\n  const isServer = typeof window === \"undefined\";\n  return (\n    <div className=\"settings\">\n      <PageContentContainer extraClasses=\"account-settings\">\n        {/* The reason for displaying this <h1> here\n          is to avoid an unnecessary \"flicker\".\n          component here is loaded SSR and is immediately present.\n          Only the \"guts\" below is lazy loaded. By having the header already\n          present the page feels less flickery at a very affordable cost of\n          allowing this to be part of the main JS bundle.\n       */}\n        <h1 className=\"slab-highlight\">{pageTitle}</h1>\n        {!isServer && (\n          <React.Suspense\n            fallback={\n              <Loading\n                message=\"Loading account settings app…\"\n                minHeight={400}\n              />\n            }\n          >\n            <SettingsApp />\n          </React.Suspense>\n        )}\n      </PageContentContainer>\n    </div>\n  );\n}\n","import React from \"react\";\nimport { Routes, Route, useLocation } from \"react-router-dom\";\n\n// we include our base SASS here to ensure it is loaded\n// and applied before any component specific style\nimport \"./app.scss\";\n\nimport { CRUD_MODE } from \"./constants\";\nimport { Homepage } from \"./homepage\";\nimport { Document } from \"./document\";\nimport { A11yNav } from \"./ui/molecules/a11y-nav\";\nimport { Footer } from \"./ui/organisms/footer\";\nimport { Header } from \"./ui/organisms/header\";\nimport { SiteSearch } from \"./site-search\";\nimport { Loading } from \"./ui/atoms/loading\";\nimport { PageContentContainer } from \"./ui/atoms/page-content\";\nimport { PageNotFound } from \"./page-not-found\";\n\nimport { SignIn, SignOut } from \"./auth\";\nimport { Settings } from \"./settings\";\n// import { Banner } from \"./banners\";\n\nconst AllFlaws = React.lazy(() => import(\"./flaws\"));\nconst Translations = React.lazy(() => import(\"./translations\"));\nconst DocumentEdit = React.lazy(() => import(\"./document/forms/edit\"));\nconst DocumentCreate = React.lazy(() => import(\"./document/forms/create\"));\nconst DocumentManage = React.lazy(() => import(\"./document/forms/manage\"));\nconst WritersHomepage = React.lazy(() => import(\"./writers-homepage\"));\nconst Sitemap = React.lazy(() => import(\"./sitemap\"));\n\nconst isServer = typeof window === \"undefined\";\n\nfunction Layout({ pageType, children }) {\n  return (\n    <>\n      <A11yNav />\n      {/* Commented out for now. Kept as a record/reminder of how we implement\n       banners. As of May 27, 2021 we don't have any banners to show. At all.\n\n       Note, if you do uncomment banners again (because there's one to possible\n       display), remember to go to\n       */}\n      {/* !isServer && <Banner /> */}\n      <div className={`page-wrapper ${pageType}`}>\n        <Header />\n        {children}\n      </div>\n      <Footer />\n\n      {/* Shown on mobile when main navigation is expanded to provide a clear distinction between the foreground menu and the page content */}\n      <div className=\"page-overlay hidden\"></div>\n    </>\n  );\n}\n\nfunction StandardLayout({ children }) {\n  return <Layout pageType=\"standard-page\">{children}</Layout>;\n}\nfunction DocumentLayout({ children }) {\n  return <Layout pageType=\"document-page\">{children}</Layout>;\n}\n\n/** This component exists so you can dynamically change which sub-component to\n * render depending on the conditions. In particular, we need to be able to\n * render the <PageNotFound> component, in server-side rendering, if told to do\n * so. But if the client then changes the location (by clicking a <Link>\n * or a react-router navigate() call) we need to ignore the fact that it was\n * originally not found. Perhaps, this new location that the client is\n * requesting is going to work.\n */\nfunction PageOrPageNotFound({ pageNotFound, children }) {\n  // It's true by default if the SSR rendering says so.\n  const [notFound, setNotFound] = React.useState<boolean>(!!pageNotFound);\n  const { pathname } = useLocation();\n  const initialPathname = React.useRef(pathname);\n  React.useEffect(() => {\n    if (initialPathname.current && initialPathname.current !== pathname) {\n      setNotFound(false);\n    }\n  }, [pathname]);\n\n  return notFound ? (\n    <StandardLayout>\n      <PageNotFound />\n    </StandardLayout>\n  ) : (\n    children\n  );\n}\n\nfunction LoadingFallback({ message }: { message?: string }) {\n  return (\n    <StandardLayout>\n      <PageContentContainer>\n        {/* This extra minHeight is just so that the footer doesn't flicker\n          in and out as the fallback appears. */}\n        <Loading minHeight={800} message={message || \"Loading…\"} />\n      </PageContentContainer>\n    </StandardLayout>\n  );\n}\n\nexport function App(appProps) {\n  // When preparing a build for use in the NPM package, CRUD_MODE is always true.\n  // But if the App is loaded from the code that builds the SPAs, then `isServer`\n  // is true. So you have to have `isServer && CRUD_MODE` at the same time.\n  const homePage =\n    !isServer && CRUD_MODE ? (\n      <Layout pageType=\"standard-page\">\n        <WritersHomepage />\n      </Layout>\n    ) : (\n      <PageOrPageNotFound pageNotFound={appProps.pageNotFound}>\n        <Layout pageType=\"standard-page\">\n          <Homepage {...appProps} />\n        </Layout>\n      </PageOrPageNotFound>\n    );\n\n  const routes = (\n    <Routes>\n      {/*\n        Note, this can only happen in local development.\n        In production, all traffic at `/` is redirected to at least\n        having a locale. So it'll be `/en-US` (for example) by the\n        time it hits any React code.\n       */}\n      <Route path=\"/\" element={homePage} />\n      <Route\n        path=\"/:locale/*\"\n        element={\n          <Routes>\n            {CRUD_MODE && (\n              <>\n                <Route\n                  path=\"/_flaws\"\n                  element={\n                    <StandardLayout>\n                      <AllFlaws />\n                    </StandardLayout>\n                  }\n                />\n                <Route\n                  path=\"/_translations/*\"\n                  element={\n                    <StandardLayout>\n                      <Translations />\n                    </StandardLayout>\n                  }\n                />\n                <Route\n                  path=\"/_edit/*\"\n                  element={\n                    <StandardLayout>\n                      <DocumentEdit />\n                    </StandardLayout>\n                  }\n                />\n\n                {/* The following two are not \"enabled\". I.e. no link to them.\n                    See https://github.com/mdn/yari/issues/1614\n                 */}\n                <Route\n                  path=\"/_create/*\"\n                  element={\n                    <StandardLayout>\n                      <DocumentCreate />\n                    </StandardLayout>\n                  }\n                />\n                <Route\n                  path=\"/_manage/*\"\n                  element={\n                    <StandardLayout>\n                      <DocumentManage />\n                    </StandardLayout>\n                  }\n                />\n\n                {/*\n                This route exclusively exists for development on the <PageNotFound>\n                component itself.\n                Because it's impossible to trigger a 404 when using the React dev\n                server, the one on localhost:3000, you can use this endpoint\n                to simulate it.\n                 */}\n                <Route\n                  path=\"/_404/*\"\n                  element={\n                    <StandardLayout>\n                      <PageNotFound />\n                    </StandardLayout>\n                  }\n                />\n\n                {/*\n                This route exclusively exists for development on the <Homepage>\n                component itself.\n                Normally, you get to the home page by NOT being in CRUD_MODE, but\n                if you want to use the hot-reloading app, it might be convenient\n                to be able to run it locally\n                 */}\n                <Route\n                  path=\"/_homepage/*\"\n                  element={\n                    <StandardLayout>\n                      <Homepage />\n                    </StandardLayout>\n                  }\n                />\n\n                <Route\n                  path=\"/_sitemap/*\"\n                  element={\n                    <StandardLayout>\n                      <Sitemap />\n                    </StandardLayout>\n                  }\n                />\n              </>\n            )}\n            <Route path=\"/\" element={homePage} />\n            <Route\n              path=\"/search\"\n              element={\n                <StandardLayout>\n                  <SiteSearch />\n                </StandardLayout>\n              }\n            />\n            <Route\n              path=\"/signin\"\n              element={\n                <StandardLayout>\n                  <SignIn />\n                </StandardLayout>\n              }\n            />\n            <Route\n              path=\"/signout\"\n              element={\n                <StandardLayout>\n                  <SignOut />\n                </StandardLayout>\n              }\n            />\n            <Route\n              path=\"/settings\"\n              element={\n                <StandardLayout>\n                  <Settings {...appProps} />\n                </StandardLayout>\n              }\n            />\n            <Route\n              path=\"/docs/*\"\n              element={\n                <PageOrPageNotFound pageNotFound={appProps.pageNotFound}>\n                  <DocumentLayout>\n                    <Document {...appProps} />\n                  </DocumentLayout>\n                </PageOrPageNotFound>\n              }\n            />\n            <Route\n              path=\"*\"\n              element={\n                <StandardLayout>\n                  <PageNotFound />\n                </StandardLayout>\n              }\n            />\n          </Routes>\n        }\n      />\n    </Routes>\n  );\n  /* This might look a bit odd but it's actually quite handy.\n   * This way, when rendering client-side, we wrap all the routes in\n   * <React.Suspense> but in server-side rendering that goes away.\n   */\n  return isServer ? (\n    routes\n  ) : (\n    <React.Suspense fallback={<LoadingFallback />}>{routes}</React.Suspense>\n  );\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\n\nimport { App } from \"./app\";\nimport { GAProvider } from \"./ga-context\";\nimport { UserDataProvider } from \"./user-context\";\n\n// import * as serviceWorker from './serviceWorker';\n\nconst container = document.getElementById(\"root\");\nif (!container) {\n  throw new Error(\"missing root element\");\n}\n\n// The SSR rendering will put a `<script type=\"application/json\">` into the HTML.\n// If it's there, great, if it's not there, this'll be `undefined` the\n// components will know to fetch it with XHR.\nconst hydrationElement = document.getElementById(\"hydration\");\nconst appData = hydrationElement\n  ? JSON.parse(hydrationElement.textContent!)\n  : {};\n\nlet app = (\n  <GAProvider>\n    <UserDataProvider>\n      <Router>\n        <App {...appData} />\n      </Router>\n    </UserDataProvider>\n  </GAProvider>\n);\n\napp = <React.StrictMode>{app}</React.StrictMode>;\n\nif (container.firstElementChild) {\n  if (window.origin !== \"https://translate.googleusercontent.com\") {\n    ReactDOM.hydrate(app, container);\n  }\n} else {\n  ReactDOM.render(app, container);\n}\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n// serviceWorker.unregister();\n"],"sourceRoot":""}