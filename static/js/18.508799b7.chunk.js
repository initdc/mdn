(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[18],{116:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return m}));var c=n(8),a=n.n(c),r=n(12),o=n(20),s=n(73),u=n(4),l=n(14),i=(n(87),n(0));function d(e){var t=e.slug,n=e.locale;function c(){return(c=Object(r.a)(a.a.mark((function e(){var c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.confirm("Are you sure you want to delete this document and all its children?")){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,fetch("/_document?slug=".concat(encodeURIComponent(t||""),"&locale=").concat(n),{method:"DELETE",headers:{"Content-Type":"application/json"}});case 4:(c=e.sent).ok?window.alert("Document successfully deleted"):window.alert("Error while deleting document: ".concat(c.statusText));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(i.jsxs)("div",{children:[Object(i.jsx)("button",{type:"button",onClick:function(){return c.apply(this,arguments)},children:"delete"}),t," and all of its children"]})}function p(e){var t=e.slug,n=e.locale;function c(){return(c=Object(r.a)(a.a.mark((function e(){var c,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=window.prompt("Are you sure you want to move this document and all its children?")){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,fetch("/_document/move?slug=".concat(encodeURIComponent(t||""),"&newSlug=").concat(c,"&locale=").concat(n),{method:"put"});case 5:(r=e.sent).ok?window.alert("Document successfully moved"):window.alert("Error while deleting document: ".concat(r.statusText));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(i.jsxs)("div",{children:[Object(i.jsx)("button",{type:"button",onClick:function(){return c.apply(this,arguments)},children:"move"}),t," and all of its children"]})}function m(){var e=Object(o.b)(),t=Object(s.b)().locale,n="/_document?".concat(new URLSearchParams({url:e}).toString()),c=Object(l.a)(n,function(){var e=Object(r.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:if((n=e.sent).ok){e.next=5;break}throw new Error("".concat(n.status," on ").concat(t));case 5:return e.next=7,n.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).data;return c&&Object(i.jsxs)("main",{className:"page-content-container document-manage",role:"main",children:[Object(i.jsxs)("h2",{children:["Manage ",c.metadata.slug,Object(i.jsx)(u.b,{to:e,className:"close",children:"close"})]}),Object(i.jsx)(d,{slug:c.metadata.slug,locale:t}),Object(i.jsx)(p,{slug:c.metadata.slug,locale:t})]})||Object(i.jsxs)("main",{className:"page-content-container document-manage",role:"main",children:[" ","Loading \u2026"," "]})}},87:function(e,t,n){}}]);
//# sourceMappingURL=18.508799b7.chunk.js.map