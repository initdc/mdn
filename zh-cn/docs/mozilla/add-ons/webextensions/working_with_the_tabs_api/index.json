{"doc":{"isMarkdown":true,"isTranslated":true,"isActive":true,"flaws":{},"title":"Working with the Tabs API","mdn_url":"/zh-CN/docs/Mozilla/Add-ons/WebExtensions/Working_with_the_Tabs_API","locale":"zh-CN","native":"中文 (简体)","sidebarHTML":"\n  <ol>\n    <li><a href=\"/zh-CN/docs/Mozilla/Add-ons/WebExtensions\"><strong>浏览器扩展程序</strong></a></li>\n    <li class=\"toggle\">\n      <details>\n        <summary>开始</summary>\n        <ol>\n          <li><a href=\"/zh-CN/docs/Mozilla/Add-ons/WebExtensions/What_are_WebExtensions\">什么是扩展程序?</a></li>\n          <li><a href=\"/zh-CN/docs/Mozilla/Add-ons/WebExtensions/Your_first_WebExtension\">你的第一个扩展程序</a></li>\n          <li><a href=\"/zh-CN/docs/Mozilla/Add-ons/WebExtensions/Your_second_WebExtension\">你的第二个扩展程序</a></li>\n          <li><a href=\"/zh-CN/docs/Mozilla/Add-ons/WebExtensions/Anatomy_of_a_WebExtension\">详解扩展程序</a></li>\n          <li><a href=\"/zh-CN/docs/Mozilla/Add-ons/WebExtensions/Examples\">扩展程序示例</a></li>\n          <li><a href=\"/zh-CN/docs/Mozilla/Add-ons/WebExtensions/What_next_\">接下来呢?</a></li>\n        </ol>\n      </details>\n    </li>\n    <li class=\"toggle\">\n      <details>\n        <summary>概念</summary>\n        <ol>\n          <li><a href=\"/zh-CN/docs/Mozilla/Add-ons/WebExtensions/Using_the_JavaScript_APIs\">使用 JavaScript APIs</a></li>\n          <li><a href=\"/zh-CN/docs/Mozilla/Add-ons/WebExtensions/Content_scripts\">Content scripts</a></li>\n          <li><a href=\"/zh-CN/docs/Mozilla/Add-ons/WebExtensions/Match_patterns\">匹配样式</a></li>\n          <li><a href=\"/zh-CN/docs/Mozilla/Add-ons/WebExtensions/Working_with_files\">处理文件</a></li>\n          <li><a href=\"/zh-CN/docs/Mozilla/Add-ons/WebExtensions/Internationalization\">国际化</a></li>\n          <li><a href=\"/zh-CN/docs/Mozilla/Add-ons/WebExtensions/Content_Security_Policy\">内容安全举措</a></li>\n          <li><a href=\"/zh-CN/docs/Mozilla/Add-ons/WebExtensions/Native_messaging\">本地消息</a></li>\n          <li><a href=\"/zh-CN/docs/Mozilla/Add-ons/WebExtensions/Differences_between_API_implementations\">API实现之间的差异</a></li>\n          <li><a href=\"/zh-CN/docs/Mozilla/Add-ons/WebExtensions/Chrome_incompatibilities\">Chrome不兼容</a></li>\n        </ol>\n      </details>\n    </li>\n    <li class=\"toggle\">\n      <details>\n        <summary>用户界面</summary>\n        <ol>\n          <li><a href=\"/zh-CN/docs/Mozilla/Add-ons/WebExtensions/user_interface\">用户界面</a></li>\n          <li><a href=\"/zh-CN/docs/Mozilla/Add-ons/WebExtensions/user_interface/Browser_action\">工具栏按钮</a></li>\n          <li><a href=\"/zh-CN/docs/Mozilla/Add-ons/WebExtensions/user_interface/Page_actions\">地址栏按钮</a></li>\n          <li><a href=\"/zh-CN/docs/Mozilla/Add-ons/WebExtensions/user_interface/Sidebars\">侧边栏</a></li>\n          <li><a href=\"/zh-CN/docs/Mozilla/Add-ons/WebExtensions/user_interface/Context_menu_items\">上下文菜单项</a></li>\n          <li><a href=\"/zh-CN/docs/Mozilla/Add-ons/WebExtensions/user_interface/Options_pages\">选项页面</a></li>\n          <li><a href=\"/zh-CN/docs/Mozilla/Add-ons/WebExtensions/user_interface/Extension_pages\">扩展页面</a></li>\n          <li><a href=\"/zh-CN/docs/Mozilla/Add-ons/WebExtensions/user_interface/Notifications\">通知</a></li>\n          <li><a href=\"/zh-CN/docs/Mozilla/Add-ons/WebExtensions/user_interface/Omnibox\">地址栏建议</a></li>\n          <li><a href=\"/zh-CN/docs/Mozilla/Add-ons/WebExtensions/user_interface/devtools_panels\">开发人员工具面板</a></li>\n        </ol>\n      </details>\n    </li>\n    <li class=\"toggle\">\n      <details>\n        <summary>怎么做</summary>\n        <ol>\n          <li><a href=\"/zh-CN/docs/Mozilla/Add-ons/WebExtensions/Intercept_HTTP_requests\">拦截HTTP 请求</a></li>\n          <li><a href=\"/zh-CN/docs/Mozilla/Add-ons/WebExtensions/Modify_a_web_page\">修改网页</a></li>\n          <li><a href=\"/zh-CN/docs/Mozilla/Add-ons/WebExtensions/Safely_inserting_external_content_into_a_page\">插入外部内容</a></li>\n          <li><a href=\"/zh-CN/docs/Mozilla/Add-ons/WebExtensions/Sharing_objects_with_page_scripts\">Share objects with page scripts</a></li>\n          <li><a href=\"/zh-CN/docs/Mozilla/Add-ons/WebExtensions/Add_a_button_to_the_toolbar\">向工具栏添加按钮</a></li>\n          <li><a href=\"/zh-CN/docs/Mozilla/Add-ons/WebExtensions/Implement_a_settings_page\">应用设置页面</a></li>\n          <li><a href=\"/zh-CN/docs/Mozilla/Add-ons/WebExtensions/Working_with_the_Tabs_API\">使用Tabs API</a></li>\n          <li><a href=\"/zh-CN/docs/Mozilla/Add-ons/WebExtensions/Work_with_the_Bookmarks_API\">使用Bookmarks API</a></li>\n          <li><a href=\"/zh-CN/docs/Mozilla/Add-ons/WebExtensions/Work_with_the_Cookies_API\">使用Cookies API</a></li>\n          <li><a href=\"/zh-CN/docs/Mozilla/Add-ons/WebExtensions/Work_with_contextual_identities\">使用上下文身份</a></li>\n          <li><a href=\"/zh-CN/docs/Mozilla/Add-ons/WebExtensions/Interact_with_the_clipboard\">Interact with the clipboard</a></li>\n          <li><a href=\"/zh-CN/docs/Mozilla/Add-ons/WebExtensions/Build_a_cross_browser_extension\">构建跨浏览器扩展</a></li>\n        </ol>\n      </details>\n    </li>\n    <li class=\"toggle\">\n      <details>\n        <summary><a href=\"/zh-CN/docs/Mozilla/Add-ons/WebExtensions/Firefox_differentiators\">Firefox的优势</a></summary>\n      </details>\n    </li>\n    <li class=\"toggle\">\n      <details>\n        <summary>JavaScript APIs</summary>\n        <ol><li><a href=\"/zh-CN/docs/Mozilla/Add-ons/WebExtensions/Browser_support_for_JavaScript_APIs\">Browser support for JavaScript APIs</a></li><li><a href=\"/zh-CN/docs/Mozilla/Add-ons/WebExtensions/API/alarms\">alarms</a></li><li><a href=\"/zh-CN/docs/Mozilla/Add-ons/WebExtensions/API/bookmarks\">bookmarks</a></li><li><a href=\"/zh-CN/docs/Mozilla/Add-ons/WebExtensions/API/browserAction\">browserAction</a></li><li><a href=\"/zh-CN/docs/Mozilla/Add-ons/WebExtensions/API/captivePortal\">captivePortal</a></li><li><a href=\"/zh-CN/docs/Mozilla/Add-ons/WebExtensions/API/clipboard\">clipboard</a></li><li><a href=\"/zh-CN/docs/Mozilla/Add-ons/WebExtensions/API/contentScripts\">contentScripts</a></li><li><a href=\"/zh-CN/docs/Mozilla/Add-ons/WebExtensions/API/cookies\">cookies</a></li><li><a href=\"/zh-CN/docs/Mozilla/Add-ons/WebExtensions/API/downloads\">downloads</a></li><li><a href=\"/zh-CN/docs/Mozilla/Add-ons/WebExtensions/API/find\">find</a></li><li><a href=\"/zh-CN/docs/Mozilla/Add-ons/WebExtensions/API/history\">history</a></li><li><a href=\"/zh-CN/docs/Mozilla/Add-ons/WebExtensions/API/i18n\">i18n</a></li><li><a href=\"/zh-CN/docs/Mozilla/Add-ons/WebExtensions/API/idle\">idle</a></li><li><a href=\"/zh-CN/docs/Mozilla/Add-ons/WebExtensions/API/menus\">menus</a></li><li><a href=\"/zh-CN/docs/Mozilla/Add-ons/WebExtensions/API/permissions\">permissions</a></li><li><a href=\"/zh-CN/docs/Mozilla/Add-ons/WebExtensions/API/proxy\">proxy</a></li><li><a href=\"/zh-CN/docs/Mozilla/Add-ons/WebExtensions/API/runtime\">runtime</a></li><li><a href=\"/zh-CN/docs/Mozilla/Add-ons/WebExtensions/API/search\">search</a></li><li><a href=\"/zh-CN/docs/Mozilla/Add-ons/WebExtensions/API/sessions\">sessions</a></li><li><a href=\"/zh-CN/docs/Mozilla/Add-ons/WebExtensions/API/storage\">storage</a></li><li><a href=\"/zh-CN/docs/Mozilla/Add-ons/WebExtensions/API/tabs\">tabs</a></li><li><a href=\"/zh-CN/docs/Mozilla/Add-ons/WebExtensions/API/types\">types</a></li><li><a href=\"/zh-CN/docs/Mozilla/Add-ons/WebExtensions/API/webNavigation\">webNavigation</a></li><li><a href=\"/zh-CN/docs/Mozilla/Add-ons/WebExtensions/API/webRequest\">webRequest</a></li><li><a href=\"/zh-CN/docs/Mozilla/Add-ons/WebExtensions/API/windows\">windows</a></li></ol>\n      </details>\n    </li>\n    <li class=\"toggle\">\n      <details>\n      <summary>Manifest keys</summary>\n        <ol>\n          <li><a href=\"/zh-CN/docs/Mozilla/Add-ons/WebExtensions/manifest.json\">介绍</a></li>\n        </ol>\n      <ol><li><a href=\"/zh-CN/docs/Mozilla/Add-ons/WebExtensions/manifest.json/browser_specific_settings\">applications</a></li><li><a href=\"/zh-CN/docs/Mozilla/Add-ons/WebExtensions/manifest.json/browser_action\">browser_action</a></li><li><a href=\"/zh-CN/docs/Mozilla/Add-ons/WebExtensions/manifest.json/content_scripts\">content_scripts</a></li><li><a href=\"/zh-CN/docs/Mozilla/Add-ons/WebExtensions/manifest.json/default_locale\">default_locale</a></li><li><a href=\"/zh-CN/docs/Mozilla/Add-ons/WebExtensions/manifest.json/developer\">developer</a></li><li><a href=\"/zh-CN/docs/Mozilla/Add-ons/WebExtensions/manifest.json/homepage_url\">homepage_url</a></li><li><a href=\"/zh-CN/docs/Mozilla/Add-ons/WebExtensions/manifest.json/manifest_version\">manifest_version</a></li><li><a href=\"/zh-CN/docs/Mozilla/Add-ons/WebExtensions/manifest.json/version\">version</a></li><li><a href=\"/zh-CN/docs/Mozilla/Add-ons/WebExtensions/manifest.json/web_accessible_resources\">web_accessible_resources</a></li><li><a href=\"/zh-CN/docs/Mozilla/Add-ons/WebExtensions/manifest.json/author\">作者 - author</a></li><li><a href=\"/zh-CN/docs/Mozilla/Add-ons/WebExtensions/manifest.json/name\">名称 - name</a></li><li><a href=\"/zh-CN/docs/Mozilla/Add-ons/WebExtensions/manifest.json/background\">后台 - background</a></li><li><a href=\"/zh-CN/docs/Mozilla/Add-ons/WebExtensions/manifest.json/description\">描述 - description</a></li><li><a href=\"/zh-CN/docs/Mozilla/Add-ons/WebExtensions/manifest.json/permissions\">权限 - permissions</a></li><li><a href=\"/zh-CN/docs/Mozilla/Add-ons/WebExtensions/manifest.json/short_name\">短名称 - short_name</a></li></ol>\n      </details>\n    </li>\n     <li class=\"toggle\">\n      <details>\n        <summary>Extension Workshop</summary>\n        <ol>\n          <li><a href=\"https://extensionworkshop.com/documentation/develop/\">Develop</a></li>\n          <li><a href=\"https://extensionworkshop.com/documentation/publish/\">Publish</a></li>\n          <li><a href=\"https://extensionworkshop.com/documentation/manage/\">Manage</a></li>\n          <li><a href=\"https://extensionworkshop.com/documentation/enterprise/\">Enterprise</a></li>\n        </ol>\n      </details>\n    </li>\n    <li><a href=\"/zh-CN/docs/Mozilla/Add-ons/Contact_us\"><strong>联系我们</strong></a></li>\n    <li class=\"toggle\">\n      <details>\n        <summary>渠道</summary>\n        <ol>\n          <li><a href=\"https://blog.mozilla.org/addons\">Add-ons博客</a></li>\n          <li><a href=\"https://discourse.mozilla.org/c/add-ons\">Add-ons论坛</a></li>\n          <li><a href=\"https://chat.mozilla.org/#/room/%23addons:mozilla.org\">Add-ons chat</a></li>\n        </ol>\n      </details>\n    </li>\n  </ol>\n","body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<p>选项卡允许用户在其浏览器窗口中打开多个网页，然后在这些网页之间切换。使用 Tabs API，您可以使用和操作这些选项卡来创建实用程序，为用户提供使用选项卡或提供扩展功能的新方法。</p>\n<p>在这篇 how-to 文章中我们将看到：</p>\n<ul>\n  <li>使用 Tabs API 所需的权限。</li>\n  <li>使用<a href=\"/zh-CN/docs/Mozilla/Add-ons/WebExtensions/API/tabs/query\"><code>tabs.query</code></a>发现有关标签及其属性的更多信息。</li>\n  <li>创建、复制、移动、更新、重新加载和删除选项卡。</li>\n  <li>操纵标签的缩放大小。</li>\n  <li>操纵选项卡的 CSS。</li>\n</ul>\n<p>最后，我们通过查看 API 提供的其他一些其他功能。</p>\n<div class=\"notecard note\" id=\"sect1\">\n  <p><strong>备注：</strong> 其他地方有一些 Tab API 功能。这些是可用于使用脚本操作选项卡内容的方法<a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/tabs/connect\" class=\"only-in-en-us\" title=\"Currently only available in English (US)\">tabs.connect (en-US)</a>，<a href=\"/zh-CN/docs/Mozilla/Add-ons/WebExtensions/API/tabs/sendMessage\"><code>tabs.sendMessage</code></a>和<a href=\"/zh-CN/docs/Mozilla/Add-ons/WebExtensions/API/tabs/executeScript\"><code>tabs.executeScript</code></a>。如果您需要有关这些方法的更多信息，请参阅概念文章<a href=\"/zh-CN/docs/Mozilla/Add-ons/WebExtensions/Content_scripts\">内容脚本</a>和操作指南<a href=\"/zh-CN/docs/Mozilla/Add-ons/WebExtensions/Modify_a_web_page\">修改网页</a>。</p>\n</div>"}},{"type":"prose","value":{"id":"权限和选项卡_api","title":"权限和选项卡 API","isH3":false,"content":"<p>对于大多数 Tabs API 函数，您不需要任何权限; 但是，有一些例外：</p>\n<ul>\n  <li>需要<code>\"tabs\"</code>权限才能访问 Tab 对象的<code>Tab.url</code>，<code>Tab.title</code>和<code>Tab.favIconUrl</code>属性。在 Firefox 中，您还需要<code>\"tabs\"</code>来按 URL 执行<a href=\"/zh-CN/docs/Mozilla/Add-ons/WebExtensions/API/tabs/query\">查询</a>。</li>\n  <li><a href=\"/zh-CN/docs/Mozilla/Add-ons/WebExtensions/API/tabs/executeScript\"><code>tabs.executeScript</code></a>或<a href=\"/zh-CN/docs/Mozilla/Add-ons/WebExtensions/API/tabs/insertCSS\"><code>tabs.insertCSS</code></a>需要<a href=\"/zh-CN/docs/Mozilla/Add-ons/WebExtensions/manifest.json/permissions#host_permissions\">主机权限</a>。</li>\n</ul>\n<p>以下是您可以在扩展程序的 manifest.json 文件中请求<code>\"tabs\"</code>权限的方法：</p>\n<div class=\"code-example\"><pre class=\"brush: json notranslate\"><code><span class=\"token property\">\"permissions\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n  <span class=\"token string\">\"&lt;all_urls&gt;\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"tabs\"</span>\n<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n</code></pre></div>\n<p>此请求允许您在用户访问的所有网站上使用所有标签 API 功能。还有一种替代方法可以请求权限使用<a href=\"/zh-CN/docs/Mozilla/Add-ons/WebExtensions/API/tabs/executeScript\"><code>tabs.executeScript</code></a>或<a href=\"/zh-CN/docs/Mozilla/Add-ons/WebExtensions/API/tabs/insertCSS\"><code>tabs.insertCSS</code></a>，其中您不需要主机权限，形式为<a href=\"/zh-CN/docs/Mozilla/Add-ons/WebExtensions/manifest.json/permissions#activetab_permission\"><code>\"activeTab\"</code></a>。此权限与<code>&lt;all_urls&gt;</code>提供与<code>\"tabs\"</code>相同的权限，但有两个限制：</p>\n<ul>\n  <li>用户必须通过其浏览器或页面操作，上下文菜单或快捷键与扩展进行交互。</li>\n  <li>它仅在活动选项卡中授予权限。</li>\n</ul>\n<p>这种方法的好处是用户不会收到权限警告，也就是说您的扩展程序可以“访问所有网站的数据”。这是因为<code>&lt;all_urls&gt;</code>权限使扩展能够在任何选项卡中随时执行脚本，而<a href=\"/zh-CN/docs/Mozilla/Add-ons/WebExtensions/manifest.json/permissions#activetab_permission\"><code>\"activeTab\"</code></a>仅限于允许扩展在当前选项卡中执行用户请求的操作。</p>"}},{"type":"prose","value":{"id":"discovering_more_about_tabs_and_their_properties","title":"Discovering more about tabs and their properties","isH3":false,"content":"<p>There will be occasions when you want to get a list of all the tabs in all the browser windows. Other times you might want to find a subset of tabs that match some specific criteria, such as those opened from a specific tab or displaying pages from a particular domain. And once you have your list of tabs, you’ll probably want to know more about their properties.</p>\n<p>This is where <a href=\"/zh-CN/docs/Mozilla/Add-ons/WebExtensions/API/tabs/query\"><code>tabs.query</code></a> comes in. Used alone to get all tabs or taking the <code>queryInfo</code> object—to specify query criteria such as whether the tab is active, in the current window, or one or more of 17 criteria—<a href=\"/zh-CN/docs/Mozilla/Add-ons/WebExtensions/API/tabs/query\"><code>tabs.query</code></a> returns an array of <a href=\"/zh-CN/docs/Mozilla/Add-ons/WebExtensions/API/tabs/Tab\"><code>tabs.Tab</code></a> objects containing information about the tabs.</p>\n<p>Where you want information about the current tab only, you can get a <a href=\"/zh-CN/docs/Mozilla/Add-ons/WebExtensions/API/tabs/Tab\"><code>tabs.Tab</code></a> object for that tab using <a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/tabs/getCurrent\" class=\"only-in-en-us\" title=\"Currently only available in English (US)\">tabs.getCurrent (en-US)</a>. If you have a tab’s ID, you can get its <a href=\"/zh-CN/docs/Mozilla/Add-ons/WebExtensions/API/tabs/Tab\"><code>tabs.Tab</code></a> object using <a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/tabs/get\" class=\"only-in-en-us\" title=\"Currently only available in English (US)\">tabs.get (en-US)</a>.</p>\n<div class=\"notecard note\" id=\"sect2\">\n  <p><strong>备注：</strong></p>\n  <ul>\n    <li><strong>In Chrome,</strong> the user can select multiple tabs in a window, and the Tabs API sees these as highlighted tabs.</li>\n    <li><strong>In Firefox,</strong> the user can’t select multiple tabs, so “highlighted” and “active” are synonymous.</li>\n  </ul>\n</div>"}},{"type":"prose","value":{"id":"how_to_example","title":"How to example","isH3":true,"content":"<p>To see how <a href=\"/zh-CN/docs/Mozilla/Add-ons/WebExtensions/API/tabs/query\"><code>tabs.query</code></a> and <a href=\"/zh-CN/docs/Mozilla/Add-ons/WebExtensions/API/tabs/Tab\"><code>tabs.Tab</code></a> are used, let’s walk through how the <a href=\"https://github.com/mdn/webextensions-examples/tree/master/tabs-tabs-tabs\" class=\"external\" rel=\" noopener\">tabs-tabs-tabs</a> example adds the list of “switch to tabs” to its toolbar button popup.</p>\n<p>\n  <img src=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/Working_with_the_Tabs_API/switch_to_tab.png\" alt=\"The tabs tabs tabs toolbar menu showing the switch to tap area\" width=\"369\" height=\"645\" loading=\"lazy\">\n</p>"}},{"type":"prose","value":{"id":"manifest.json","title":"manifest.json","isH3":true,"content":"<p>Here is the <a href=\"https://github.com/mdn/webextensions-examples/blob/master/tabs-tabs-tabs/manifest.json\" class=\"external\" rel=\" noopener\">manifest.json</a>:</p>\n<div class=\"code-example\"><pre class=\"brush: json notranslate\"><code><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"browser_action\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"browser_style\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"default_title\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Tabs, tabs, tabs\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"default_popup\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"tabs.html\"</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"description\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"A list of methods you can perform on a tab.\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"homepage_url\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"https://github.com/mdn/webextensions-examples/tree/master/tabs-tabs-tabs\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"manifest_version\"</span><span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Tabs, tabs, tabs\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"permissions\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token string\">\"tabs\"</span>\n  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"version\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"1.0\"</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<div class=\"notecard note\" id=\"sect3\">\n  <p><strong>备注：</strong> Note the following:</p>\n  <ul>\n    <li><strong>tabs.html is defined as the <code>default_popup</code> in <code>browser_action</code>.</strong> It is displayed whenever the user clicks the extension’s toolbar icon.</li>\n    <li><strong>Permissions includes tabs.</strong> This is needed to support the tab list feature, as the extension reads the title of the tabs for display in the popup.</li>\n  </ul>\n</div>"}},{"type":"prose","value":{"id":"tabs.html","title":"tabs.html","isH3":true,"content":"<p>tabs.html defines the content of the extension’s popup:</p>\n<div class=\"code-example\"><pre class=\"brush: html notranslate\"><code><span class=\"token doctype\"><span class=\"token punctuation\">&lt;!</span><span class=\"token doctype-tag\">DOCTYPE</span> <span class=\"token name\">html</span><span class=\"token punctuation\">&gt;</span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>html</span><span class=\"token punctuation\">&gt;</span></span>\n\n <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>head</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">charset</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>utf-8<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>link</span> <span class=\"token attr-name\">rel</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>stylesheet<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>tabs.css<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/&gt;</span></span>\n <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>head</span><span class=\"token punctuation\">&gt;</span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">&gt;</span></span>\n\n <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>panel<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>panel-section panel-section-header<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n     <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text-section-header<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>Tabs-tabs-tabs<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>#<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>tabs-move-beginning<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>Move active tab to the beginning of the window<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>br</span><span class=\"token punctuation\">&gt;</span></span>\n\n\n…\n\nDefine the other menu items\n…\n\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>switch-tabs<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n\n     <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">&gt;</span></span>Switch to tab<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">&gt;</span></span>\n\n     <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>tabs-list<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n\n <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>tabs.js<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span><span class=\"token script\"></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">&gt;</span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">&gt;</span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>html</span><span class=\"token punctuation\">&gt;</span></span>\n</code></pre></div>\n<p>Here is a summary of the above does:</p>\n<ol>\n  <li>The menu items are declared.</li>\n  <li>An empty <code>div</code> with the ID <code>tabs-list</code> is declared to contain the list of tabs.</li>\n  <li>tabs.js is called.</li>\n</ol>"}},{"type":"prose","value":{"id":"tabs.js","title":"tabs.js","isH3":true,"content":"<p>In <a href=\"https://github.com/mdn/webextensions-examples/blob/master/tabs-tabs-tabs/tabs.js\" class=\"external\" rel=\" noopener\">tabs.js</a>, we’ll see how the list of tabs is built and added to the popup.</p>\n<h4 id=\"creating_the_popup\">Creating the popup</h4>\n<p>First, an event handler is added to execute <code>listTabs()</code> when tabs.html is loaded:</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code>document<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"DOMContentLoaded\"</span><span class=\"token punctuation\">,</span> listTabs<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<p>The first thing that <code>listTabs()</code> does is to call <code>getCurrentWindowTabs()</code>. This is where <a href=\"/zh-CN/docs/Mozilla/Add-ons/WebExtensions/API/tabs/query\"><code>tabs.query</code></a> is used to get a <a href=\"/zh-CN/docs/Mozilla/Add-ons/WebExtensions/API/tabs/Tab\"><code>tabs.Tab</code></a> object for the tabs in the current window:</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">function</span> <span class=\"token function\">getCurrentWindowTabs</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> browser<span class=\"token punctuation\">.</span>tabs<span class=\"token punctuation\">.</span><span class=\"token function\">query</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><span class=\"token literal-property property\">currentWindow</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>Now, <code>listTabs()</code> is ready to create the content for the popup.</p>\n<p>To start with:</p>\n<ol>\n  <li>Grab the <code>tabs-list</code> <code>div</code>.</li>\n  <li>Create a document fragment (into which the list will be built).</li>\n  <li>Set counters.</li>\n  <li>Clear the content of the <code>tabs-list</code> <code>div</code>.</li>\n</ol>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">function</span> <span class=\"token function\">listTabs</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n <span class=\"token function\">getCurrentWindowTabs</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">tabs</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">let</span> tabsList <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">'tabs-list'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">let</span> currentTabs <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">createDocumentFragment</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">let</span> limit <span class=\"token operator\">=</span> <span class=\"token number\">5</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">let</span> counter <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n\n    tabsList<span class=\"token punctuation\">.</span>textContent <span class=\"token operator\">=</span> <span class=\"token string\">''</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<p>Next, we’ll create the links for each tab:</p>\n<ol>\n  <li>Loops through the first 5 items from the <a href=\"/zh-CN/docs/Mozilla/Add-ons/WebExtensions/API/tabs/Tab\"><code>tabs.Tab</code></a> object.</li>\n  <li>For each item, add a hyperlink to the document fragment.\n    <ul>\n      <li>The link’s label—that is, its text—is set using the tab’s title (or the ID, if it has no title).</li>\n      <li>The link’s address is set using the tab’s ID.</li>\n    </ul>\n    <div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> tab <span class=\"token keyword\">of</span> tabs<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>tab<span class=\"token punctuation\">.</span>active <span class=\"token operator\">&amp;&amp;</span> counter <span class=\"token operator\">&lt;=</span> limit<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">let</span> tabLink <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">createElement</span><span class=\"token punctuation\">(</span><span class=\"token string\">'a'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    tabLink<span class=\"token punctuation\">.</span>textContent <span class=\"token operator\">=</span> tab<span class=\"token punctuation\">.</span>title <span class=\"token operator\">||</span> tab<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">;</span>\n\n   tabLink<span class=\"token punctuation\">.</span><span class=\"token function\">setAttribute</span><span class=\"token punctuation\">(</span><span class=\"token string\">'href'</span><span class=\"token punctuation\">,</span> tab<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    tabLink<span class=\"token punctuation\">.</span>classList<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token string\">'switch-tabs'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    currentTabs<span class=\"token punctuation\">.</span><span class=\"token function\">appendChild</span><span class=\"token punctuation\">(</span>tabLink<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n <span class=\"token punctuation\">}</span>\n\n counter <span class=\"token operator\">+=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n  </li>\n</ol>\n<p>Finally, the document fragment is written to the <code>tabs-list</code> div:</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code>    tabsList<span class=\"token punctuation\">.</span><span class=\"token function\">appendChild</span><span class=\"token punctuation\">(</span>currentTabs<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<h4 id=\"working_with_the_active_tab\">Working with the active tab</h4>\n<p>Another related example feature is the “Alert active tab” info option that dumps all the <a href=\"/zh-CN/docs/Mozilla/Add-ons/WebExtensions/API/tabs/Tab\"><code>tabs.Tab</code></a> object properties for the active tab into an alert:</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">.</span>target<span class=\"token punctuation\">.</span>id <span class=\"token operator\">===</span> <span class=\"token string\">\"tabs-alertinfo\"</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n   <span class=\"token function\">callOnActiveTab</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">tab</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n     <span class=\"token keyword\">let</span> props <span class=\"token operator\">=</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">;</span>\n     <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> item <span class=\"token keyword\">in</span> tab<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n       props <span class=\"token operator\">+=</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span> item <span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> = </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span> tab<span class=\"token punctuation\">[</span>item<span class=\"token punctuation\">]</span> <span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> \\n</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span>\n     <span class=\"token punctuation\">}</span>\n     <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span>props<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n   <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n <span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>Where <code>callOnActiveTab()</code> finds the active tab object by looping through the <a href=\"/zh-CN/docs/Mozilla/Add-ons/WebExtensions/API/tabs/Tab\"><code>tabs.Tab</code></a> objects looking for the item with active set:</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code>document<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"click\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">e</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n <span class=\"token keyword\">function</span> <span class=\"token function\">callOnActiveTab</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">callback</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n   <span class=\"token function\">getCurrentWindowTabs</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">tabs</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n     <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">var</span> tab <span class=\"token keyword\">of</span> tabs<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n       <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>tab<span class=\"token punctuation\">.</span>active<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n         <span class=\"token function\">callback</span><span class=\"token punctuation\">(</span>tab<span class=\"token punctuation\">,</span> tabs<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n       <span class=\"token punctuation\">}</span>\n     <span class=\"token punctuation\">}</span>\n   <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>"}},{"type":"prose","value":{"id":"creating_duplicating_moving_updating_reloading_and_removing_tabs","title":"Creating, duplicating, moving, updating, reloading, and removing tabs","isH3":false,"content":"<p>Having gathered information about the tabs you’ll most likely want to do something with them—either to offer users features for manipulating and managing tabs or to implement functionality in your extension.</p>\n<p>The following functions are available:</p>\n<ul>\n  <li>create a new tab (<a href=\"/zh-CN/docs/Mozilla/Add-ons/WebExtensions/API/tabs/create\"><code>tabs.create</code></a>).</li>\n  <li>duplicate a tab (<a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/tabs/duplicate\" class=\"only-in-en-us\" title=\"Currently only available in English (US)\">tabs.duplicate (en-US)</a>).</li>\n  <li>remove a tab (<a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/tabs/remove\" class=\"only-in-en-us\" title=\"Currently only available in English (US)\">tabs.remove (en-US)</a>).</li>\n  <li>move a tab (<a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/tabs/move\" class=\"only-in-en-us\" title=\"Currently only available in English (US)\">tabs.move (en-US)</a>).</li>\n  <li>update the tab’s URL—effectively browse to a new page—(<a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/tabs/update\" class=\"only-in-en-us\" title=\"Currently only available in English (US)\">tabs.update (en-US)</a>).</li>\n  <li>reload the tab’s page (<a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/tabs/reload\" class=\"only-in-en-us\" title=\"Currently only available in English (US)\">tabs.reload (en-US)</a>).</li>\n</ul>\n<div class=\"notecard note\" id=\"sect4\">\n  <p><strong>备注：</strong> These functions all require the ID (or IDs) of the tab they are manipulating:</p>\n  <ul>\n    <li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/tabs/duplicate\" class=\"only-in-en-us\" title=\"Currently only available in English (US)\">tabs.duplicate (en-US)</a></li>\n    <li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/tabs/remove\" class=\"only-in-en-us\" title=\"Currently only available in English (US)\">tabs.remove (en-US)</a></li>\n    <li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/tabs/move\" class=\"only-in-en-us\" title=\"Currently only available in English (US)\">tabs.move (en-US)</a></li>\n  </ul>\n  <p>Whereas the following functions will act on the active tab (if no tab ID is provided):</p>\n  <ul>\n    <li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/tabs/update\" class=\"only-in-en-us\" title=\"Currently only available in English (US)\">tabs.update (en-US)</a></li>\n    <li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/tabs/reload\" class=\"only-in-en-us\" title=\"Currently only available in English (US)\">tabs.reload (en-US)</a></li>\n  </ul>\n</div>"}},{"type":"prose","value":{"id":"how_to_example_2","title":"How to example","isH3":true,"content":"<p>The <a href=\"https://github.com/mdn/webextensions-examples/tree/master/tabs-tabs-tabs\" class=\"external\" rel=\" noopener\">tabs-tabs-tabs</a> example exercises all of these features except for updating a tab’s URL The way in which these APIs are used is similar, so we’ll look at one of the more involved implementations, that of the “Move active tab to the beginning of the window list” option.</p>\n<p>But first, here is a demonstration of the feature in action:</p><iframe width=\"560\" height=\"315\" src=\"https://www.youtube-nocookie.com/embed/-lJRzTIvhxo\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen=\"\" loading=\"lazy\"></iframe>\n<h4 id=\"manifest.json_2\"><a href=\"https://github.com/mdn/webextensions-examples/blob/master/tabs-tabs-tabs/manifest.json\" class=\"external\" rel=\" noopener\">manifest.json</a></h4>\n<p>None of the functions require a permission to operate, so there are no features in the manifest.json file that need to be highlighted.</p>\n<h4 id=\"tabs.html_2\"><a href=\"https://github.com/mdn/webextensions-examples/blob/master/tabs-tabs-tabs/tabs.html\" class=\"external\" rel=\" noopener\">tabs.html</a></h4>\n<p>tabs.html defines the “menu” displayed in the popup, which includes the “Move active tab to the beginning of the window list” option, with a series of <code>&lt;a&gt;</code> tags grouped by a visual separator. Each menu item is given an ID, which is used in tabs.js to determine which menu item is being requested.</p>\n<div class=\"code-example\"><pre class=\"brush: html notranslate\"><code>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>#<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>tabs-move-beginning<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>Move active tab to the beginning of the window<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>br</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>#<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>tabs-move-end<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>Move active tab to the end of the window<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>br</span><span class=\"token punctuation\">&gt;</span></span>\n\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>panel-section-separator<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n\n\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>#<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>tabs-duplicate<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>Duplicate active tab<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>br</span><span class=\"token punctuation\">&gt;</span></span>\n\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>#<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>tabs-reload<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>Reload active tab<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>br</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>#<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>tabs-alertinfo<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>Alert active tab info<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>br</span><span class=\"token punctuation\">&gt;</span></span>\n</code></pre></div>\n<h4 id=\"tabs.js_2\"><a href=\"https://github.com/mdn/webextensions-examples/blob/master/tabs-tabs-tabs/tabs.js\" class=\"external\" rel=\" noopener\">tabs.js</a></h4>\n<p>To implement the “menu” defined in tabs.html, tabs.js includes a listener for clicks in tabs.html:</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code>document<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"click\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">e</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n <span class=\"token keyword\">function</span> <span class=\"token function\">callOnActiveTab</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">callback</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\n   <span class=\"token function\">getCurrentWindowTabs</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">tabs</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n     <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">var</span> tab <span class=\"token keyword\">of</span> tabs<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n       <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>tab<span class=\"token punctuation\">.</span>active<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n         <span class=\"token function\">callback</span><span class=\"token punctuation\">(</span>tab<span class=\"token punctuation\">,</span> tabs<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n       <span class=\"token punctuation\">}</span>\n     <span class=\"token punctuation\">}</span>\n   <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>A series of <code>if</code> statements then look to match the ID of the item clicked.</p>\n<p>This code snippet is for the “Move active tab to the beginning of the window list” option:</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">.</span>target<span class=\"token punctuation\">.</span>id <span class=\"token operator\">===</span> <span class=\"token string\">\"tabs-move-beginning\"</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n   <span class=\"token function\">callOnActiveTab</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">tab<span class=\"token punctuation\">,</span> tabs</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n     <span class=\"token keyword\">var</span> index <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n     <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>tab<span class=\"token punctuation\">.</span>pinned<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n       index <span class=\"token operator\">=</span> <span class=\"token function\">firstUnpinnedTab</span><span class=\"token punctuation\">(</span>tabs<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n     <span class=\"token punctuation\">}</span>\n     console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">moving </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>tab<span class=\"token punctuation\">.</span>id<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> to </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>index<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span>\n     browser<span class=\"token punctuation\">.</span>tabs<span class=\"token punctuation\">.</span><span class=\"token function\">move</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>tab<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>index<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n   <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n <span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>It's worth noting the use of <code>console.log()</code>. This enables you to output information to the <a href=\"https://extensionworkshop.com/documentation/develop/debugging/\" class=\"external\" rel=\" noopener\">debugger</a> console, which can be useful when resolving issues found during development.</p>\n<p>\n  <img src=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/Working_with_the_Tabs_API/console.png\" alt=\"Example of the console.log output, from the move tabs feature, in the debugging console\" width=\"911\" height=\"329\" loading=\"lazy\">\n</p>\n<p>The move code first calls <code>callOnActiveTab()</code> which in turn calls <code>getCurrentWindowTabs()</code> to get a <a href=\"/zh-CN/docs/Mozilla/Add-ons/WebExtensions/API/tabs/Tab\"><code>tabs.Tab</code></a> object containing the active window’s tabs. It then loops through the object to find and return the active tab object:</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code> <span class=\"token keyword\">function</span> <span class=\"token function\">callOnActiveTab</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">callback</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n   <span class=\"token function\">getCurrentWindowTabs</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">tabs</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n     <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">var</span> tab <span class=\"token keyword\">of</span> tabs<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n       <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>tab<span class=\"token punctuation\">.</span>active<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n         <span class=\"token function\">callback</span><span class=\"token punctuation\">(</span>tab<span class=\"token punctuation\">,</span> tabs<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n       <span class=\"token punctuation\">}</span>\n     <span class=\"token punctuation\">}</span>\n   <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n <span class=\"token punctuation\">}</span>\n</code></pre></div>\n<h5 id=\"pinned_tabs\">Pinned tabs</h5>\n<p>A feature of tabs is that the user can <em>pin</em> tabs in a window. Pinned tabs are placed at the start of the tab list and cannot be moved. This means that the earliest position a tab can move to is the first position after any pinned tabs. So, <code>firstUnpinnedTab()</code> is called to find the position of the first unpinned tab by looping through the <code>tabs</code> object:</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">function</span> <span class=\"token function\">firstUnpinnedTab</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">tabs</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">var</span> tab <span class=\"token keyword\">of</span> tabs<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n   <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>tab<span class=\"token punctuation\">.</span>pinned<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n     <span class=\"token keyword\">return</span> tab<span class=\"token punctuation\">.</span>index<span class=\"token punctuation\">;</span>\n   <span class=\"token punctuation\">}</span>\n <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>We now have everything needed to move the tab: the active tab object from which we can get the tab ID and the position the tab is to be moved to. So, we can implement the move:</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code>     browser<span class=\"token punctuation\">.</span>tabs<span class=\"token punctuation\">.</span><span class=\"token function\">move</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>tab<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>index<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<p>The remaining functions to duplicate, reload, create, and remove tabs are implemented similarly.</p>"}},{"type":"prose","value":{"id":"manipulating_a_tab’s_zoom_level","title":"Manipulating a tab’s zoom level","isH3":false,"content":"<p>The next set of functions enable you to get (<a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/tabs/getZoom\" class=\"only-in-en-us\" title=\"Currently only available in English (US)\">tabs.getZoom (en-US)</a>) and set (<a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/tabs/setZoom\" class=\"only-in-en-us\" title=\"Currently only available in English (US)\">tabs.setZoom (en-US)</a>) the zoom level within a tab. You can also retrieve the zoom settings (<a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/tabs/getZoomSettings\" class=\"only-in-en-us\" title=\"Currently only available in English (US)\">tabs.getZoomSettings (en-US)</a>) but, at the time of writing, the ability to set the settings (<a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/tabs/setZoomSettings\" class=\"only-in-en-us\" title=\"Currently only available in English (US)\">tabs.setZoomSettings (en-US)</a>) wasn’t available in Firefox.</p>\n<p>The level of zoom can be between 30% and 300% (represented as decimals <code>0.3</code> to <code>3</code>).</p>\n<p>In Firefox the default zoom settings are:</p>\n<ul>\n  <li><strong>default zoom level:</strong> 100%.</li>\n  <li><strong>zoom mode:</strong> automatic (so the browser manages how zoom levels are set).</li>\n  <li><strong>scope of zoom changes:</strong> <code>\"per-origin\"</code>, meaning that when you visit a site again, it takes the zoom level set in your last visit.</li>\n</ul>"}},{"type":"prose","value":{"id":"how_to_example_3","title":"How to example","isH3":true,"content":"<p>The <a href=\"https://github.com/mdn/webextensions-examples/tree/master/tabs-tabs-tabs\" class=\"external\" rel=\" noopener\">tabs-tabs-tabs</a> example includes three demonstrations of the zoom feature: zoom in, zoom out, and reset zoom. Here is the feature in action:</p><iframe width=\"560\" height=\"315\" src=\"https://www.youtube-nocookie.com/embed/RFr3oYBCg28\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen=\"\" loading=\"lazy\"></iframe>\n<p>Let’s take a look at how the zoom in is implemented.</p>\n<h4 id=\"manifest.json_3\"><a href=\"https://github.com/mdn/webextensions-examples/blob/master/tabs-tabs-tabs/manifest.json\" class=\"external\" rel=\" noopener\">manifest.json</a></h4>\n<p>None of the zoom functions require permissions, so there are no features in the manifest.json file that need to be highlighted.</p>\n<h4 id=\"tabs.html_3\"><a href=\"https://github.com/mdn/webextensions-examples/blob/master/tabs-tabs-tabs/tabs.html\" class=\"external\" rel=\" noopener\">tabs.html</a></h4>\n<p>We have already discussed how the tabs.html defines the options for this extension, nothing new or unique is done to provide the zoom options.</p>\n<h4 id=\"tabs.js_3\"><a href=\"https://github.com/mdn/webextensions-examples/blob/master/tabs-tabs-tabs/tabs.js\" class=\"external\" rel=\" noopener\">tabs.js</a></h4>\n<p>tabs.js starts by defining several constants used in the zoom code:</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">const</span> <span class=\"token constant\">ZOOM_INCREMENT</span> <span class=\"token operator\">=</span> <span class=\"token number\">0.2</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> <span class=\"token constant\">MAX_ZOOM</span> <span class=\"token operator\">=</span> <span class=\"token number\">3</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> <span class=\"token constant\">MIN_ZOOM</span> <span class=\"token operator\">=</span> <span class=\"token number\">0.3</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> <span class=\"token constant\">DEFAULT_ZOOM</span> <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<p>It then uses the same listener we discussed earlier so it can act on clicks in tabs.html.</p>\n<p>For the zoom in feature, this runs:</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">.</span>target<span class=\"token punctuation\">.</span>id <span class=\"token operator\">===</span> <span class=\"token string\">\"tabs-add-zoom\"</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n   <span class=\"token function\">callOnActiveTab</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">tab</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n     <span class=\"token keyword\">var</span> gettingZoom <span class=\"token operator\">=</span> browser<span class=\"token punctuation\">.</span>tabs<span class=\"token punctuation\">.</span><span class=\"token function\">getZoom</span><span class=\"token punctuation\">(</span>tab<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n     gettingZoom<span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">zoomFactor</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n       <span class=\"token comment\">//the maximum zoomFactor is 3, it can't go higher</span>\n       <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>zoomFactor <span class=\"token operator\">&gt;=</span> <span class=\"token constant\">MAX_ZOOM</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n         <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Tab zoom factor is already at max!\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n       <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n         <span class=\"token keyword\">var</span> newZoomFactor <span class=\"token operator\">=</span> zoomFactor <span class=\"token operator\">+</span> <span class=\"token constant\">ZOOM_INCREMENT</span><span class=\"token punctuation\">;</span>\n         <span class=\"token comment\">//if the newZoomFactor is set to higher than the max accepted</span>\n         <span class=\"token comment\">//it won't change, and will never alert that it's at maximum</span>\n         newZoomFactor <span class=\"token operator\">=</span> newZoomFactor <span class=\"token operator\">&gt;</span> <span class=\"token constant\">MAX_ZOOM</span> <span class=\"token operator\">?</span> <span class=\"token constant\">MAX_ZOOM</span> <span class=\"token operator\">:</span> newZoomFactor<span class=\"token punctuation\">;</span>\n         browser<span class=\"token punctuation\">.</span>tabs<span class=\"token punctuation\">.</span><span class=\"token function\">setZoom</span><span class=\"token punctuation\">(</span>tab<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">,</span> newZoomFactor<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n       <span class=\"token punctuation\">}</span>\n     <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n   <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n <span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>This code uses <code>callOnActiveTab()</code> to get the details of the active tab, then <a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/tabs/getZoom\" class=\"only-in-en-us\" title=\"Currently only available in English (US)\">tabs.getZoom (en-US)</a> gets the tab’s current zoom factor. The current zoom is compared to the defined maximum (<code>MAX_ZOOM</code>) and an alert issued if the tab is already at the maximum zoom. Otherwise, the zoom level is incremented but limited to the maximum zoom, then the zoom is set with <a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/tabs/getZoom\" class=\"only-in-en-us\" title=\"Currently only available in English (US)\">tabs.getZoom (en-US)</a>.</p>"}},{"type":"prose","value":{"id":"manipulating_a_tab’s_css","title":"Manipulating a tab’s CSS","isH3":false,"content":"<p>Another significant capability offered by the Tabs API is the ability to manipulate the CSS within a tab—add new CSS to a tab (<a href=\"/zh-CN/docs/Mozilla/Add-ons/WebExtensions/API/tabs/insertCSS\"><code>tabs.insertCSS</code></a>) or remove CSS from a tab (<a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/tabs/removeCSS\" class=\"only-in-en-us\" title=\"Currently only available in English (US)\">tabs.removeCSS (en-US)</a>).</p>\n<p>This can be useful, for example, if you want to highlight certain page elements or change the default layout of the page.</p>"}},{"type":"prose","value":{"id":"how_to_example_4","title":"How to example","isH3":true,"content":"<p>The <a href=\"https://github.com/mdn/webextensions-examples/tree/master/apply-css\" class=\"external\" rel=\" noopener\">apply-css</a> example uses these features to add a red border to the web page in the active tab. Here is the feature in action:</p><iframe width=\"560\" height=\"315\" src=\"https://www.youtube-nocookie.com/embed/bcK-GT2Dyhs\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen=\"\" loading=\"lazy\"></iframe>\n<p>Let’s walk through how it’s set up.</p>\n<h4 id=\"manifest.json_4\"><a href=\"https://github.com/mdn/webextensions-examples/blob/master/apply-css/manifest.json\" class=\"external\" rel=\" noopener\">manifest.json</a></h4>\n<p>To use the CSS features you need either:</p>\n<ul>\n  <li><code>\"tabs\"</code> permission and <a href=\"/zh-CN/docs/Mozilla/Add-ons/WebExtensions/manifest.json/permissions#host_permissions\">host permission</a> or</li>\n  <li><code>\"activeTab\"</code> permission.</li>\n</ul>\n<p>The latter is the most useful, as it allows an extension to use <a href=\"/zh-CN/docs/Mozilla/Add-ons/WebExtensions/API/tabs/insertCSS\"><code>tabs.insertCSS</code></a> and <a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/tabs/removeCSS\" class=\"only-in-en-us\" title=\"Currently only available in English (US)\">tabs.removeCSS (en-US)</a> in the active tab when run from the extension’s browser or page action, context menu, or a shortcut.</p>\n<div class=\"code-example\"><pre class=\"brush: json notranslate\"><code><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"description\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Adds a page action to toggle applying CSS to pages.\"</span><span class=\"token punctuation\">,</span>\n\n <span class=\"token property\">\"manifest_version\"</span><span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span>\n <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"apply-css\"</span><span class=\"token punctuation\">,</span>\n <span class=\"token property\">\"version\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"1.0\"</span><span class=\"token punctuation\">,</span>\n <span class=\"token property\">\"homepage_url\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"https://github.com/mdn/webextensions-examples/tree/master/apply-css\"</span><span class=\"token punctuation\">,</span>\n\n <span class=\"token property\">\"background\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token property\">\"scripts\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"background.js\"</span><span class=\"token punctuation\">]</span>\n <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\n <span class=\"token property\">\"page_action\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token property\">\"default_icon\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"icons/off.svg\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"browser_style\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span>\n <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\n <span class=\"token property\">\"permissions\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token string\">\"activeTab\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"tabs\"</span>\n <span class=\"token punctuation\">]</span>\n\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>You will note that <code>\"tabs\"</code> permission is requested in addition to <code>\"activeTab\"</code>. This additional permission is needed to enable the extension’s script to access the tab’s URL, the importance of which we’ll see in a moment.</p>\n<p>The other main features in the manifest.json file are the definition of:</p>\n<ul>\n  <li><strong>a background script</strong>, which starts running as soon as the extension is loaded.</li>\n  <li><strong>a “page action”</strong>, which defines an icon to be added to the browser’s address bar.</li>\n</ul>\n<h4 id=\"background.js\"><a href=\"https://github.com/mdn/webextensions-examples/blob/master/apply-css/background.js\" class=\"external\" rel=\" noopener\">background.js</a></h4>\n<p>On startup, background.js sets some constants to define the CSS to be applied, titles for the “page action”, and a list of protocols the extension will work in:</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">const</span> <span class=\"token constant\">CSS</span> <span class=\"token operator\">=</span> <span class=\"token string\">\"body { border: 20px solid red; }\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> <span class=\"token constant\">TITLE_APPLY</span> <span class=\"token operator\">=</span> <span class=\"token string\">\"Apply CSS\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> <span class=\"token constant\">TITLE_REMOVE</span> <span class=\"token operator\">=</span> <span class=\"token string\">\"Remove CSS\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> <span class=\"token constant\">APPLICABLE_PROTOCOLS</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"http:\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"https:\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<p>When first loaded, the extension uses <a href=\"/zh-CN/docs/Mozilla/Add-ons/WebExtensions/API/tabs/query\"><code>tabs.query</code></a> to get a list of all the tabs in the current browser window. It then loops through the tabs calling <code>initializePageAction()</code>.</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">var</span> gettingAllTabs <span class=\"token operator\">=</span> browser<span class=\"token punctuation\">.</span>tabs<span class=\"token punctuation\">.</span><span class=\"token function\">query</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\ngettingAllTabs<span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">tabs</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> tab <span class=\"token keyword\">of</span> tabs<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n   <span class=\"token function\">initializePageAction</span><span class=\"token punctuation\">(</span>tab<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<p><code>initializePageAction</code> uses <code>protocolIsApplicable()</code> to determine whether the active tab’s URL is one the CSS can be applied to:</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">function</span> <span class=\"token function\">protocolIsApplicable</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">url</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n <span class=\"token keyword\">var</span> anchor <span class=\"token operator\">=</span>  document<span class=\"token punctuation\">.</span><span class=\"token function\">createElement</span><span class=\"token punctuation\">(</span><span class=\"token string\">'a'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n anchor<span class=\"token punctuation\">.</span>href <span class=\"token operator\">=</span> url<span class=\"token punctuation\">;</span>\n <span class=\"token keyword\">return</span> <span class=\"token constant\">APPLICABLE_PROTOCOLS</span><span class=\"token punctuation\">.</span><span class=\"token function\">includes</span><span class=\"token punctuation\">(</span>anchor<span class=\"token punctuation\">.</span>protocol<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>Then, if the example can act on the tab, <code>initializePageAction()</code> sets the tab’s <code>pageAction</code> (navigation bar) icon and title to use the “off” versions before making the <code>pageAction</code> visible:</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">function</span> <span class=\"token function\">initializePageAction</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">tab</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\n <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token function\">protocolIsApplicable</span><span class=\"token punctuation\">(</span>tab<span class=\"token punctuation\">.</span>url<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n   browser<span class=\"token punctuation\">.</span>pageAction<span class=\"token punctuation\">.</span><span class=\"token function\">setIcon</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><span class=\"token literal-property property\">tabId</span><span class=\"token operator\">:</span> tab<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">path</span><span class=\"token operator\">:</span> <span class=\"token string\">\"icons/off.svg\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n   browser<span class=\"token punctuation\">.</span>pageAction<span class=\"token punctuation\">.</span><span class=\"token function\">setTitle</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><span class=\"token literal-property property\">tabId</span><span class=\"token operator\">:</span> tab<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">title</span><span class=\"token operator\">:</span> <span class=\"token constant\">TITLE_APPLY</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n   browser<span class=\"token punctuation\">.</span>pageAction<span class=\"token punctuation\">.</span><span class=\"token function\">show</span><span class=\"token punctuation\">(</span>tab<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>Next, a listener on <code>pageAction.onClicked</code> waits for the <code>pageAction</code> icon to be clicked, and calls <code>toggleCSS</code> when it is.</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code>browser<span class=\"token punctuation\">.</span>pageAction<span class=\"token punctuation\">.</span>onClicked<span class=\"token punctuation\">.</span><span class=\"token function\">addListener</span><span class=\"token punctuation\">(</span>toggleCSS<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<p><code>toggleCSS()</code> gets the title of the <code>pageAction</code> and then takes the action described:</p>\n<ul>\n  <li><strong>For \"Apply CSS”:</strong>\n    <ul>\n      <li>toggles the <code>pageAction</code> icon and title to the “remove” versions.</li>\n      <li>applies the CSS using <a href=\"/zh-CN/docs/Mozilla/Add-ons/WebExtensions/API/tabs/insertCSS\"><code>tabs.insertCSS</code></a>.</li>\n    </ul>\n  </li>\n  <li><strong>For “Remove CSS”:</strong>\n    <ul>\n      <li>toggles the <code>pageAction</code> icon and title to the “apply” versions.</li>\n      <li>removes the CSS using <a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/tabs/removeCSS\" class=\"only-in-en-us\" title=\"Currently only available in English (US)\">tabs.removeCSS (en-US)</a>.</li>\n    </ul>\n  </li>\n</ul>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">function</span> <span class=\"token function\">toggleCSS</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">tab</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\n\n <span class=\"token keyword\">function</span> <span class=\"token function\">gotTitle</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">title</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>title <span class=\"token operator\">===</span> <span class=\"token constant\">TITLE_APPLY</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n     browser<span class=\"token punctuation\">.</span>pageAction<span class=\"token punctuation\">.</span><span class=\"token function\">setIcon</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><span class=\"token literal-property property\">tabId</span><span class=\"token operator\">:</span> tab<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">path</span><span class=\"token operator\">:</span> <span class=\"token string\">\"icons/on.svg\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n     browser<span class=\"token punctuation\">.</span>pageAction<span class=\"token punctuation\">.</span><span class=\"token function\">setTitle</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><span class=\"token literal-property property\">tabId</span><span class=\"token operator\">:</span> tab<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">title</span><span class=\"token operator\">:</span> <span class=\"token constant\">TITLE_REMOVE</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n     browser<span class=\"token punctuation\">.</span>tabs<span class=\"token punctuation\">.</span><span class=\"token function\">insertCSS</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><span class=\"token literal-property property\">code</span><span class=\"token operator\">:</span> <span class=\"token constant\">CSS</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n     browser<span class=\"token punctuation\">.</span>pageAction<span class=\"token punctuation\">.</span><span class=\"token function\">setIcon</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><span class=\"token literal-property property\">tabId</span><span class=\"token operator\">:</span> tab<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">path</span><span class=\"token operator\">:</span> <span class=\"token string\">\"icons/off.svg\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n     browser<span class=\"token punctuation\">.</span>pageAction<span class=\"token punctuation\">.</span><span class=\"token function\">setTitle</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><span class=\"token literal-property property\">tabId</span><span class=\"token operator\">:</span> tab<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">title</span><span class=\"token operator\">:</span> <span class=\"token constant\">TITLE_APPLY</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n     browser<span class=\"token punctuation\">.</span>tabs<span class=\"token punctuation\">.</span><span class=\"token function\">removeCSS</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><span class=\"token literal-property property\">code</span><span class=\"token operator\">:</span> <span class=\"token constant\">CSS</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n <span class=\"token punctuation\">}</span>\n\n <span class=\"token keyword\">var</span> gettingTitle <span class=\"token operator\">=</span> browser<span class=\"token punctuation\">.</span>pageAction<span class=\"token punctuation\">.</span><span class=\"token function\">getTitle</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><span class=\"token literal-property property\">tabId</span><span class=\"token operator\">:</span> tab<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n gettingTitle<span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span>gotTitle<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>Finally, to ensure that the <code>pageAction</code> is valid after each update to the tab, a listener on <a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/tabs/onUpdated\" class=\"only-in-en-us\" title=\"Currently only available in English (US)\">tabs.onUpdated (en-US)</a> calls <code>initializePageAction()</code> each time the tab is updated to check that the tab is still using a protocol to which the CSS can be applied.</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code>browser<span class=\"token punctuation\">.</span>tabs<span class=\"token punctuation\">.</span>onUpdated<span class=\"token punctuation\">.</span><span class=\"token function\">addListener</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">id<span class=\"token punctuation\">,</span> changeInfo<span class=\"token punctuation\">,</span> tab</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n <span class=\"token function\">initializePageAction</span><span class=\"token punctuation\">(</span>tab<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>"}},{"type":"prose","value":{"id":"some_other_interesting_abilities","title":"Some other interesting abilities","isH3":false,"content":"<p>There are a couple of other Tabs API features that don’t fit into one of the earlier sections:</p>\n<ul>\n  <li>Capture the visible tab content with <a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/tabs/captureVisibleTab\" class=\"only-in-en-us\" title=\"Currently only available in English (US)\">tabs.captureVisibleTab (en-US)</a>.</li>\n  <li>Detect the primary language of the content in a tab using <a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/tabs/detectLanguage\" class=\"only-in-en-us\" title=\"Currently only available in English (US)\">tabs.detectLanguage (en-US)</a>. This could be used, for example, to match the language in your extension’s UI with that of the page it’s running in.</li>\n</ul>"}},{"type":"prose","value":{"id":"learn_more","title":"Learn more","isH3":false,"content":"<p>If you want to learn more about the Tabs API, check out:</p>\n<ul>\n  <li><a href=\"/zh-CN/docs/Mozilla/Add-ons/WebExtensions/API/tabs\">Tabs API reference</a></li>\n  <li><a href=\"/zh-CN/docs/Mozilla/Add-ons/WebExtensions/Examples\">Example extensions</a> (many of which use the Tabs API)</li>\n</ul>"}}],"toc":[{"text":"权限和选项卡 API","id":"权限和选项卡_api"},{"text":"Discovering more about tabs and their properties","id":"discovering_more_about_tabs_and_their_properties"},{"text":"Creating, duplicating, moving, updating, reloading, and removing tabs","id":"creating_duplicating_moving_updating_reloading_and_removing_tabs"},{"text":"Manipulating a tab’s zoom level","id":"manipulating_a_tab’s_zoom_level"},{"text":"Manipulating a tab’s CSS","id":"manipulating_a_tab’s_css"},{"text":"Some other interesting abilities","id":"some_other_interesting_abilities"},{"text":"Learn more","id":"learn_more"}],"summary":"选项卡允许用户在其浏览器窗口中打开多个网页，然后在这些网页之间切换。使用 Tabs API，您可以使用和操作这些选项卡来创建实用程序，为用户提供使用选项卡或提供扩展功能的新方法。","popularity":0,"modified":"2022-10-01T03:41:16.000Z","other_translations":[{"title":"Working with the Tabs API","locale":"en-US","native":"English (US)"},{"title":"Travailler avec l'API Tabs","locale":"fr","native":"Français"},{"title":"Tabs API を使う","locale":"ja","native":"日本語"}],"source":{"folder":"zh-cn/mozilla/add-ons/webextensions/working_with_the_tabs_api","github_url":"https://github.com/mdn/translated-content/blob/main/files/zh-cn/mozilla/add-ons/webextensions/working_with_the_tabs_api/index.md","last_commit_url":"https://github.com/mdn/translated-content/commit/921c46a374ab0a9f4cc809af0370f8c412e54701","filename":"index.md"},"parents":[{"uri":"/zh-CN/docs/Mozilla","title":"Mozilla"},{"uri":"/zh-CN/docs/Mozilla/Add-ons","title":"附加组件"},{"uri":"/zh-CN/docs/Mozilla/Add-ons/WebExtensions","title":"浏览器扩展"},{"uri":"/zh-CN/docs/Mozilla/Add-ons/WebExtensions/Working_with_the_Tabs_API","title":"Working with the Tabs API"}],"pageTitle":"Working with the Tabs API - Mozilla | MDN","noIndexing":false}}