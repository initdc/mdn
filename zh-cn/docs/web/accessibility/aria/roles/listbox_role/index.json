{"doc":{"isMarkdown":true,"isTranslated":true,"isActive":true,"flaws":{},"title":"ARIA: listbox role","mdn_url":"/zh-CN/docs/Web/Accessibility/ARIA/Roles/listbox_role","locale":"zh-CN","native":"中文 (简体)","sidebarHTML":"\n  <ol>\n    <li><a href=\"/zh-CN/docs/Web/Accessibility/ARIA/Roles\"><strong>WAI-ARIA roles</strong></a><ol><li><a href=\"/zh-CN/docs/Web/Accessibility/ARIA/Roles/alert_role\"><code>ARIA: alert role</code></a></li><li><a href=\"/zh-CN/docs/Web/Accessibility/ARIA/Roles/alertdialog_role\"><code>ARIA: alertdialog role</code></a></li><li><a href=\"/zh-CN/docs/Web/Accessibility/ARIA/Roles/application_role\"><code>ARIA: application role</code></a></li><li><a href=\"/zh-CN/docs/Web/Accessibility/ARIA/Roles/article_role\"><code>ARIA: article role</code></a></li><li><a href=\"/zh-CN/docs/Web/Accessibility/ARIA/Roles/banner_role\"><code>ARIA: banner role</code></a></li><li><a href=\"/zh-CN/docs/Web/Accessibility/ARIA/Roles/button_role\"><code>ARIA: button role</code></a></li><li><a href=\"/zh-CN/docs/Web/Accessibility/ARIA/Roles/cell_role\"><code>ARIA: cell role</code></a></li><li><a href=\"/zh-CN/docs/Web/Accessibility/ARIA/Roles/checkbox_role\"><code>ARIA: checkbox role</code></a></li><li><a href=\"/zh-CN/docs/Web/Accessibility/ARIA/Roles/columnheader_role\"><code>ARIA: columnheader role</code></a></li><li><a href=\"/zh-CN/docs/Web/Accessibility/ARIA/Roles/combobox_role\"><code>ARIA: combobox role</code></a></li><li><a href=\"/zh-CN/docs/Web/Accessibility/ARIA/Roles/command_role\"><code>ARIA: command role</code></a></li><li><a href=\"/zh-CN/docs/Web/Accessibility/ARIA/Roles/comment_role\"><code>ARIA: comment role</code></a></li><li><a href=\"/zh-CN/docs/Web/Accessibility/ARIA/Roles/complementary_role\"><code>ARIA: complementary role</code></a></li><li><a href=\"/zh-CN/docs/Web/Accessibility/ARIA/Roles/composite_role\"><code>ARIA: composite role</code></a></li><li><a href=\"/zh-CN/docs/Web/Accessibility/ARIA/Roles/contentinfo_role\"><code>ARIA: contentinfo role</code></a></li><li><a href=\"/zh-CN/docs/Web/Accessibility/ARIA/Roles/definition_role\"><code>ARIA: definition role</code></a></li><li><a href=\"/zh-CN/docs/Web/Accessibility/ARIA/Roles/dialog_role\"><code>ARIA: dialog role</code></a></li><li><svg class=\"icon icon-deprecated\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-deprecated\"></use>\n</svg><a href=\"/zh-CN/docs/Web/Accessibility/ARIA/Roles/directory_role\"><code>ARIA: directory role</code></a></li><li><a href=\"/zh-CN/docs/Web/Accessibility/ARIA/Roles/document_role\"><code>ARIA: document role</code></a></li><li><a href=\"/zh-CN/docs/Web/Accessibility/ARIA/Roles/feed_role\"><code>ARIA: feed role</code></a></li><li><a href=\"/zh-CN/docs/Web/Accessibility/ARIA/Roles/figure_role\"><code>ARIA: figure role</code></a></li><li><a href=\"/zh-CN/docs/Web/Accessibility/ARIA/Roles/form_role\"><code>ARIA: form role</code></a></li><li><a href=\"/zh-CN/docs/Web/Accessibility/ARIA/Roles/generic_role\"><code>ARIA: generic role</code></a></li><li><a href=\"/zh-CN/docs/Web/Accessibility/ARIA/Roles/grid_role\"><code>ARIA: grid role</code></a></li><li><a href=\"/zh-CN/docs/Web/Accessibility/ARIA/Roles/gridcell_role\"><code>ARIA: gridcell role</code></a></li><li><a href=\"/zh-CN/docs/Web/Accessibility/ARIA/Roles/group_role\"><code>ARIA: group role</code></a></li><li><a href=\"/zh-CN/docs/Web/Accessibility/ARIA/Roles/heading_role\"><code>ARIA: heading role</code></a></li><li><a href=\"/zh-CN/docs/Web/Accessibility/ARIA/Roles/img_role\"><code>ARIA: img role</code></a></li><li><a href=\"/zh-CN/docs/Web/Accessibility/ARIA/Roles/input_role\"><code>ARIA: input role</code></a></li><li><a href=\"/zh-CN/docs/Web/Accessibility/ARIA/Roles/landmark_role\"><code>ARIA: landmark role</code></a></li><li><a href=\"/zh-CN/docs/Web/Accessibility/ARIA/Roles/link_role\"><code>ARIA: link role</code></a></li><li><a href=\"/zh-CN/docs/Web/Accessibility/ARIA/Roles/list_role\"><code>ARIA: list role</code></a></li><li><a href=\"/zh-CN/docs/Web/Accessibility/ARIA/Roles/listbox_role\"><code>ARIA: listbox role</code></a></li><li><a href=\"/zh-CN/docs/Web/Accessibility/ARIA/Roles/listitem_role\"><code>ARIA: listitem role</code></a></li><li><a href=\"/zh-CN/docs/Web/Accessibility/ARIA/Roles/log_role\"><code>ARIA: log role</code></a></li><li><a href=\"/zh-CN/docs/Web/Accessibility/ARIA/Roles/main_role\"><code>ARIA: main role</code></a></li><li><a href=\"/zh-CN/docs/Web/Accessibility/ARIA/Roles/mark_role\"><code>ARIA: mark role</code></a></li><li><a href=\"/zh-CN/docs/Web/Accessibility/ARIA/Roles/marquee_role\"><code>ARIA: marquee role</code></a></li><li><a href=\"/zh-CN/docs/Web/Accessibility/ARIA/Roles/math_role\"><code>ARIA: math role</code></a></li><li><a href=\"/zh-CN/docs/Web/Accessibility/ARIA/Roles/menu_role\"><code>ARIA: menu role</code></a></li><li><a href=\"/zh-CN/docs/Web/Accessibility/ARIA/Roles/menubar_role\"><code>ARIA: menubar role</code></a></li><li><a href=\"/zh-CN/docs/Web/Accessibility/ARIA/Roles/menuitem_role\"><code>ARIA: menuitem role</code></a></li><li><a href=\"/zh-CN/docs/Web/Accessibility/ARIA/Roles/menuitemcheckbox_role\"><code>ARIA: menuitemcheckbox role</code></a></li><li><a href=\"/zh-CN/docs/Web/Accessibility/ARIA/Roles/menuitemradio_role\"><code>ARIA: menuitemradio role</code></a></li><li><a href=\"/zh-CN/docs/Web/Accessibility/ARIA/Roles/meter_role\"><code>ARIA: meter role</code></a></li><li><a href=\"/zh-CN/docs/Web/Accessibility/ARIA/Roles/navigation_role\"><code>ARIA: navigation Role</code></a></li><li><a href=\"/zh-CN/docs/Web/Accessibility/ARIA/Roles/none_role\"><code>ARIA: none role</code></a></li><li><a href=\"/zh-CN/docs/Web/Accessibility/ARIA/Roles/note_role\"><code>ARIA: note role</code></a></li><li><a href=\"/zh-CN/docs/Web/Accessibility/ARIA/Roles/option_role\"><code>ARIA: option role</code></a></li><li><a href=\"/zh-CN/docs/Web/Accessibility/ARIA/Roles/presentation_role\"><code>ARIA: presentation role</code></a></li><li><a href=\"/zh-CN/docs/Web/Accessibility/ARIA/Roles/progressbar_role\"><code>ARIA: progressbar role</code></a></li><li><a href=\"/zh-CN/docs/Web/Accessibility/ARIA/Roles/radio_role\"><code>ARIA: radio role</code></a></li><li><a href=\"/zh-CN/docs/web/accessibility/aria/roles/radiogroup_role\"><code>ARIA: radiogroup role</code></a></li><li><a href=\"/zh-CN/docs/Web/Accessibility/ARIA/Roles/range_role\"><code>ARIA: range role</code></a></li><li><a href=\"/zh-CN/docs/Web/Accessibility/ARIA/Roles/region_role\"><code>ARIA: region role</code></a></li><li><a href=\"/zh-CN/docs/Web/Accessibility/ARIA/Roles/roletype_role\"><code>ARIA: roletype role</code></a></li><li><a href=\"/zh-CN/docs/Web/Accessibility/ARIA/Roles/row_role\"><code>ARIA: row role</code></a></li><li><a href=\"/zh-CN/docs/Web/Accessibility/ARIA/Roles/rowgroup_role\"><code>ARIA: rowgroup role</code></a></li><li><a href=\"/zh-CN/docs/Web/Accessibility/ARIA/Roles/rowheader_role\"><code>ARIA: rowheader role</code></a></li><li><a href=\"/zh-CN/docs/Web/Accessibility/ARIA/Roles/scrollbar_role\"><code>ARIA: scrollbar role</code></a></li><li><a href=\"/zh-CN/docs/Web/Accessibility/ARIA/Roles/search_role\"><code>ARIA: search role</code></a></li><li><a href=\"/zh-CN/docs/Web/Accessibility/ARIA/Roles/searchbox_role\"><code>ARIA: searchbox role</code></a></li><li><a href=\"/zh-CN/docs/Web/Accessibility/ARIA/Roles/section_role\"><code>ARIA: section role</code></a></li><li><a href=\"/zh-CN/docs/Web/Accessibility/ARIA/Roles/sectionhead_role\"><code>ARIA: sectionhead role</code></a></li><li><a href=\"/zh-CN/docs/Web/Accessibility/ARIA/Roles/select_role\"><code>ARIA: select role</code></a></li><li><a href=\"/zh-CN/docs/Web/Accessibility/ARIA/Roles/separator_role\"><code>ARIA: separator role</code></a></li><li><a href=\"/zh-CN/docs/Web/Accessibility/ARIA/Roles/slider_role\"><code>ARIA: slider role</code></a></li><li><a href=\"/zh-CN/docs/Web/Accessibility/ARIA/Roles/spinbutton_role\"><code>ARIA: spinbutton role</code></a></li><li><a href=\"/zh-CN/docs/Web/Accessibility/ARIA/Roles/status_role\"><code>ARIA: status role</code></a></li><li><a href=\"/zh-CN/docs/Web/Accessibility/ARIA/Roles/structural_roles\"><code>ARIA: document structural roles</code></a></li><li><a href=\"/zh-CN/docs/Web/Accessibility/ARIA/Roles/structure_role\"><code>ARIA: structure role</code></a></li><li><a href=\"/zh-CN/docs/Web/Accessibility/ARIA/Roles/suggestion_role\"><code>ARIA: suggestion role</code></a></li><li><a href=\"/zh-CN/docs/Web/Accessibility/ARIA/Roles/switch_role\"><code>ARIA: switch role</code></a></li><li><a href=\"/zh-CN/docs/Web/Accessibility/ARIA/Roles/tab_role\"><code>ARIA: tab role</code></a></li><li><a href=\"/zh-CN/docs/Web/Accessibility/ARIA/Roles/table_role\"><code>ARIA: table role</code></a></li><li><a href=\"/zh-CN/docs/Web/Accessibility/ARIA/Roles/tablist_role\"><code>ARIA: tablist role</code></a></li><li><a href=\"/zh-CN/docs/Web/Accessibility/ARIA/Roles/tabpanel_role\"><code>ARIA: tabpanel role</code></a></li><li><a href=\"/zh-CN/docs/Web/Accessibility/ARIA/Roles/term_role\"><code>ARIA: term role</code></a></li><li><a href=\"/zh-CN/docs/Web/Accessibility/ARIA/Roles/textbox_role\"><code>ARIA: textbox role</code></a></li><li><a href=\"/zh-CN/docs/Web/Accessibility/ARIA/Roles/timer_role\"><code>ARIA: timer role</code></a></li><li><a href=\"/zh-CN/docs/Web/Accessibility/ARIA/Roles/toolbar_role\"><code>ARIA: toolbar role</code></a></li><li><a href=\"/zh-CN/docs/Web/Accessibility/ARIA/Roles/tooltip_role\"><code>ARIA: tooltip role</code></a></li><li><a href=\"/zh-CN/docs/Web/Accessibility/ARIA/Roles/tree_role\"><code>ARIA: tree role</code></a></li><li><a href=\"/zh-CN/docs/Web/Accessibility/ARIA/Roles/treegrid_role\"><code>ARIA: treegrid role</code></a></li><li><a href=\"/zh-CN/docs/Web/Accessibility/ARIA/Roles/treeitem_role\"><code>ARIA: treeitem role</code></a></li><li><a href=\"/zh-CN/docs/Web/Accessibility/ARIA/Roles/widget_role\"><code>ARIA: widget role</code></a></li><li><a href=\"/zh-CN/docs/Web/Accessibility/ARIA/Roles/window_role\"><code>ARIA: window role</code></a></li></ol></li>\n  </ol>\n","body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<p><code>listbox</code> 角色用于列表，用户可以从中选择一个或多个静态选项，并且与 HTML <a href=\"/zh-CN/docs/Web/HTML/Element/select\"><code>&lt;select&gt;</code></a> 元素不同，它可能包含图像。</p>"}},{"type":"prose","value":{"id":"描述","title":"描述","isH3":false,"content":"<p><code>listbox</code> 角色用于标识创建列表的元素，用户可以从中选择一个或多个静态选项，类似于 HTML <a href=\"/zh-CN/docs/Web/HTML/Element/select\"><code>&lt;select&gt;</code></a> 元素。与 <a href=\"/zh-CN/docs/Web/HTML/Element/select\"><code>&lt;select&gt;</code></a> 不同，<code>listbox</code> 可以包含图像。<code>listbox</code> 的每个子项都应该有一个 <a href=\"https://www.w3.org/TR/2010/WD-wai-aria-20100916/roles#option\" class=\"external\" rel=\" noopener\"><code>option</code></a> role。</p>\n<p>强烈建议使用 HTML <a href=\"/zh-CN/docs/Web/HTML/Element/select\"><code>&lt;select&gt;</code></a> 元素，如果只能选择一个选项，则使用一组单选按钮，如果可以选择多个选项，则使用一组复选框，因为有很多键盘交互来管理所有后代的焦点和原生 HTML 元素为您提供相关的功能。</p>\n<p>具有 <code>listbox</code> 角色的元素含有隐式的 <code>aria-orientation</code> 和 <code>vertical</code> 值。</p>\n<p>当一个列表被 tab 聚焦到时，如果没有其他内容，将会选择列表中的第一项。可以用 Up/Down 方向键在列表中导航，按 Shift + Up/Down 方向键将移动并扩展选择。键入一个或多个字母将在列表项中导航（相同的字母指向以那个开头的每个选项，不同的字母指向以整个字符串开头的第一个选项）。如果当前选项有关联的菜单，Shift+F10 将启动该菜单。如果项目可被勾选，Space 可用于切换 <a href=\"https://www.w3.org/TR/wai-aria-practices/#checkbox\" class=\"external\" rel=\" noopener\"><code>checkbox</code></a> role。对于可选择的列表项，Space 切换它们的选择，Shift+Space 可用于选择连续的项目，Ctrl+ 方向键 移动而不选择，Ctrl+Space 可用于选择非连续的项目。建议使用 checkbox、link 或其他方法来选择所有项目，为此可以使用 Ctrl+A 作为快捷键。</p>\n<p>当 listbox 角色被添加到元素中，或含有它的元素变得可见时，屏幕阅读器会在 listbox 获得焦点时读出它的 label 和 role。如果列表中的 option 或选项获得焦点，则接下来会读出它，如果屏幕阅读器支持，则会在列表中指示选项的位置。当焦点在列表中移动时，屏幕阅读器会读出相关选项。</p>"}},{"type":"prose","value":{"id":"相关的_aria_角色、状态和属性","title":"相关的 ARIA 角色、状态和属性","isH3":true,"content":"<h4 id=\"相关角色\">相关角色</h4>\n<dl>\n  <dt id=\"option\"><a href=\"/en-US/docs/Web/Accessibility/ARIA/Roles/option_role\" class=\"only-in-en-us\" title=\"Currently only available in English (US)\">option (en-US)</a></dt>\n  <dd>\n    <p>需要一个或多个嵌套的 <code>option</code>。所有被选择的选项都含有 <code>aria-selected</code> 且值为 <code>true</code>。所有未选中的选项都含有 <code>aria-selected</code> 且值为 <code>false</code>。如果某个选项不可选择，<code>aria-selected</code> 会被忽略。</p>\n  </dd>\n  <dt id=\"list\"><a href=\"/zh-CN/docs/Web/Accessibility/ARIA/Roles/List_role\">list</a></dt>\n  <dd>\n    <p>包含 <code>listitem</code> 元素的部分</p>\n  </dd>\n</dl>\n<h4 id=\"状态和属性\">状态和属性</h4>\n<dl>\n  <dt id=\"aria-activedescendant\">aria-activedescendant</dt>\n  <dd>\n    <p>保存 listbox 中当前活动元素的 <code>id</code> 字符串。如果这是一个 option 元素，那么这将是最近与之交互选项的 <code>id</code>，无论该选项是否具有值为 <code>true</code> 的 <code>aria-selected</code>。即使在多选列表框中，也只会有一个 <code>id</code>。如果 <code>id</code> 不引用 listbox 的 DOM 后代，则 <code>id</code> 必须包含在 <code>aria-owns</code> 属性中的 ID 中。</p>\n  </dd>\n  <dt id=\"aria-owns\">aria-owns</dt>\n  <dd>\n    <p>这是一个以空格分隔的元素 ID 列表，它们不是 listbox 的 DOM 子元素。此处列出的 ID 也不能列在任何其他元素的 <code>aria-owns</code> 属性中。</p>\n  </dd>\n  <dt id=\"aria-multiselectable\">aria-multiselectable</dt>\n  <dd>\n    <p>如果用户可以选择多个选项，则存在并设置为 <code>true</code>。如果设置为 <code>true</code>，<em>每个</em> 可选的选项都应包含 <code>aria-selected</code> 属性并设置为 <code>true</code> 或 <code>false</code>。 <em>不可选</em>的选项<em>不应该</em>具有<code>aria-selected</code>属性。如果值为 <code>false</code> 或被省略，那么仅当前选中的选项（如果有任何选项被选中）才需要<code>aria-selected</code>属性，而且必须设置为<code>true</code>。</p>\n  </dd>\n  <dt id=\"aria-required\">aria-required</dt>\n  <dd>\n    <p>一个布尔属性，指示必须选择具有非空字符串值的选项。</p>\n  </dd>\n  <dt id=\"aria-readonly\">aria-readonly</dt>\n  <dd>\n    <p>用户无法更改选择或取消选择，但 listbox 是可操作的。</p>\n  </dd>\n  <dt id=\"aria-label\">aria-label</dt>\n  <dd>\n    <p>一个可供人类阅读的字符串，用于标识 listbox。如果有可见标签，则应使用 <code>aria-labelledby</code> 来引用该标签。</p>\n  </dd>\n  <dt id=\"aria-labelledby\">aria-labelledby</dt>\n  <dd>\n    <p>标识以空格分隔的元素 ID 列表中的一个或多个可见元素，这些元素标识 listbox。如果没有可见标签，则应该使用 <code>aria-label</code> 来包含标签。（注意：带有两个 L 的 \"labelled\" 是基于辅助功能 API 约定的正确拼写。）</p>\n  </dd>\n  <dt id=\"aria-roledescription\">aria-roledescription</dt>\n  <dd>\n    <p>一个可供人类阅读的字符串，可以更清楚地标识 listbox 的作用。屏幕阅读器通常会在阅读标签（如果存在）后向用户阅读此值，而不是说“listbox”。</p>\n  </dd>\n</dl>\n<p>（有关更多详细信息以及 ARIA 状态和属性的完整列表，请参阅 <a href=\"https://www.w3.org/TR/wai-aria-1.1/#listbox\" class=\"external\" rel=\" noopener\">ARIA <code>listbox</code> (role)</a> 文档。 )</p>"}},{"type":"prose","value":{"id":"键盘交互","title":"键盘交互","isH3":true,"content":"<ul>\n  <li>当单选 listbox 获得焦点时：\n    <ul>\n      <li>如果在 listbox 获得焦点之前没有选择任何选项，则第一个选项将获得焦点。（可选）可以自动选择第一个选项。</li>\n      <li>如果在列表框获得焦点之前选择了一个选项，则焦点将设置在所选选项上。</li>\n    </ul>\n  </li>\n  <li>当多选 listbox 获得焦点时：\n    <ul>\n      <li>如果在列表框获得焦点之前没有选择任何选项，则焦点将设置在第一个选项上，并且选择状态不会自动更改。</li>\n      <li>如果在列表框获得焦点之前选择了一个或多个选项，则焦点将设置在列表中选定的第一个选项上。</li>\n    </ul>\n  </li>\n  <li>\n    <kbd>Down Arrow</kbd>\n    : 将焦点移至下一个选项。（可选）在单选 listbox 中，选中的值也可以随焦点移动。\n  </li>\n  <li>\n    <kbd>Up Arrow</kbd>\n    : 将焦点移至上一个选项。（可选）在单选 listbox 中，选中的值也可以随焦点移动。\n  </li>\n  <li>\n    <kbd>Home</kbd>\n    (可选): 将焦点移至第一个选项。（可选）在单选列表框中，选中的值也可以随焦点移动。对于超过五个选项的列表，强烈建议支持此键。\n  </li>\n  <li>\n    <kbd>End</kbd>\n    (可选): 将焦点移至最后一个选项。（可选）在单选列表框中，选中的值也可以随焦点移动。对于超过五个选项的列表，强烈建议支持此键。\n  </li>\n  <li>建议所有 listbox 都预先输入，尤其是那些有七个以上选项的列表框：\n    <ul>\n      <li>键入字符时：焦点移至名称符合键入的字符开头的一项。</li>\n      <li>快速连续键入多个字符时：焦点移至名称符合键入的字符串开头的一项。</li>\n    </ul>\n  </li>\n  <li>\n    <strong>多项选择</strong>: 作者可以实现两种交互模型中的任何一种来支持多选：推荐模型，不需要用户在导航列表时按住修饰键，例如\n    <kbd>Shift</kbd>\n    或\n    <kbd>Control</kbd>\n    或者需要在导航时按住修饰键以避免丢失选择状态的替代模型。\n    <ul>\n      <li>推荐的选择模型——不需要按住修饰键：\n        <ul>\n          <li>\n            <kbd>Space</kbd>\n            : 更改焦点选项的选择状态。\n          </li>\n          <li>\n            <kbd>Shift + Down Arrow</kbd>\n            （可选）: 将焦点移动并切换到下一个选项的选定状态。\n          </li>\n          <li>\n            <kbd>Shift + Up Arrow</kbd>\n            （可选）: 将焦点移动并切换到上一个选项的选定状态。\n          </li>\n          <li>\n            <kbd>Shift + Space</kbd>\n            （可选）: 选择从最近选择的项目到焦点项目的连续项目。\n          </li>\n          <li>\n            <kbd>Control + Shift + Home</kbd>\n            （可选）: 选择焦点选项和直到第一个选项的所有选项。（可选）将焦点移至第一个选项。\n          </li>\n          <li>\n            <kbd>Control + Shift + End</kbd>\n            （可选）: 选择焦点选项和直到最后一个选项的所有选项。（可选）将焦点移到最后一个选项。\n          </li>\n          <li>\n            <kbd>Control + A</kbd>\n            （可选）: 选择列表中的所有选项。（可选）如果选择了所有选项，它也可以取消选择所有选项。\n          </li>\n        </ul>\n      </li>\n    </ul>\n  </li>\n</ul>"}},{"type":"prose","value":{"id":"所需的_javascript_功能","title":"所需的 JavaScript 功能","isH3":true,"content":"<h4 id=\"在单选_listbox_中选择一个选项\">在单选 listbox 中选择一个选项</h4>\n<p>当用户选择一个选项时，必须发生以下情况：</p>\n<ol>\n  <li>取消选择先前选择的选项，将 aria-selected 设置为 false，或完全删除该属性，将新未选择的选项的外观更改为未选择的。</li>\n  <li>选择新选择的选项，在该选项上设置 aria-selected=\"true\" 并将新选择的选项的外观更改为选中。</li>\n  <li>将列表框上的 <code>aria-activedescendant</code> 值更新为新选择的选项的 id</li>\n  <li>可视化处理选项的丢焦、聚焦和选定状态</li>\n</ol>\n<h4 id=\"在多选列表框中切换选项的状态\">在多选列表框中切换选项的状态</h4>\n<p>当用户点击一个选项、聚焦在一个选项时按下 <kbd>Space</kbd>或者以其他方式切换一个选项的状态，必须发生以下情况：</p>\n<ol>\n  <li>切换当前聚焦选项的 aria-selected 状态，如果它是 false，则将 aria-selected 的状态更改为 true，如果为 true，则将其更改为 false。</li>\n  <li>更改选项的外观以反映其选定状态</li>\n  <li>将列表框上的 aria-activedescendant 值更新为用户刚刚与之交互的选项的 id，即使他们将选项切换为取消选择。</li>\n</ol>\n<div class=\"notecard note\" id=\"sect1\">\n  <p><strong>备注：</strong> ARIA 使用的第一原则是您可以使用具有内置语义和行为的原生功能，而不是重新利用元素并<strong>添加</strong> ARIA 角色、状态或属性使其可访问。含有后代 <a href=\"/zh-CN/docs/Web/HTML/Element/option\"><code>&lt;option&gt;</code></a> 元素的 <a href=\"/zh-CN/docs/Web/HTML/Element/select\"><code>&lt;select&gt;</code></a> 元素带有所有需要的交互的原生处理方法。</p>\n</div>"}},{"type":"prose","value":{"id":"例子","title":"例子","isH3":false,"content":"<h4 id=\"例子_1_使用_aria-activedescendant_的单个选择列表框\">例子 1: 使用 aria-activedescendant 的单个选择列表框</h4>\n<p>下面的代码片段显示了如何将列表框角色直接添加到 html 源代码中。</p>\n<div class=\"code-example\"><pre class=\"brush: html notranslate\"><code><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>listbox1label<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">role</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>label<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>Select a color:<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">role</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>listbox<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">tabindex</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>0<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>listbox1<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">aria-labelledby</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>listbox1label<span class=\"token punctuation\">\"</span></span>\n  <span class=\"token special-attr\"><span class=\"token attr-name\">onclick</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token value javascript language-javascript\"><span class=\"token keyword\">return</span> <span class=\"token function\">listItemClick</span><span class=\"token punctuation\">(</span>event<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span><span class=\"token punctuation\">\"</span></span></span>\n  <span class=\"token special-attr\"><span class=\"token attr-name\">onkeydown</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token value javascript language-javascript\"><span class=\"token keyword\">return</span> <span class=\"token function\">listItemKeyEvent</span><span class=\"token punctuation\">(</span>event<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span><span class=\"token punctuation\">\"</span></span></span>\n  <span class=\"token attr-name\">onkeypress</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>return listItemKeyEvent(event);<span class=\"token punctuation\">\"</span></span>\n  <span class=\"token attr-name\">aria-activedescendant</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>listbox1-1<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">role</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>option<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>listbox1-1<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>selected<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">aria-selected</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>true<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>Green<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">role</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>option<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>listbox1-2<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>Orange<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">role</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>option<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>listbox1-3<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>Red<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">role</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>option<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>listbox1-4<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>Blue<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">role</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>option<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>listbox1-5<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>Violet<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">role</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>option<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>listbox1-6<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>Periwinkle<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n</code></pre></div>\n<p>使用原生的 HTML <a href=\"/zh-CN/docs/Web/HTML/Element/select\"><code>&lt;select&gt;</code></a> 和 <a href=\"/zh-CN/docs/Web/HTML/Element/label\"><code>&lt;label&gt;</code></a> 元素可以更简单。</p>\n<div class=\"code-example\"><pre class=\"brush: html notranslate\"><code><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>label</span> <span class=\"token attr-name\">for</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>listbox1<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>Select a color:<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>label</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>select</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>listbox1<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n   <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>option</span> <span class=\"token attr-name\">selected</span><span class=\"token punctuation\">&gt;</span></span>Green<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>option</span><span class=\"token punctuation\">&gt;</span></span>\n   <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>option</span><span class=\"token punctuation\">&gt;</span></span>Orange<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>option</span><span class=\"token punctuation\">&gt;</span></span>\n   <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>option</span><span class=\"token punctuation\">&gt;</span></span>Red<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>option</span><span class=\"token punctuation\">&gt;</span></span>\n   <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>option</span><span class=\"token punctuation\">&gt;</span></span>Blue<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>option</span><span class=\"token punctuation\">&gt;</span></span>\n   <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>option</span><span class=\"token punctuation\">&gt;</span></span>Violet<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>option</span><span class=\"token punctuation\">&gt;</span></span>\n   <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>option</span><span class=\"token punctuation\">&gt;</span></span>Periwinkle<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>option</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>select</span><span class=\"token punctuation\">&gt;</span></span>\n</code></pre></div>\n<h4 id=\"更多例子\">更多例子</h4>\n<ul>\n  <li><a href=\"https://w3c.github.io/aria-practices/examples/listbox/listbox-scrollable.html\" class=\"external\" rel=\" noopener\">可滚动的 listbox 示例</a>: 滚动显示更多选项的单选 listbox，类似于 HTML <code>select</code> 的 <code>size</code> 属性大于 1。</li>\n  <li><a href=\"https://w3c.github.io/aria-practices/examples/listbox/listbox-collapsible.html\" class=\"external\" rel=\" noopener\">可折叠下拉 listbox 示例</a>: 激活时展开的单选可折叠 listbox，类似于 HTML <code>select</code> 并且属性 <code>size=\"1\"</code>。</li>\n  <li><a href=\"https://w3c.github.io/aria-practices/examples/listbox/listbox-rearrangeable.html\" class=\"external\" rel=\" noopener\">具有可重新排列选项的 listbox 示例</a>: 带有可以添加、移动和删除选项的附带工具栏的单选和多选 listbox 的示例。</li>\n</ul>"}},{"type":"prose","value":{"id":"最佳实践","title":"最佳实践","isH3":false,"content":"<ul>\n  <li>为了便于键盘访问，作者应该对这个角色的所有后代进行 <a href=\"https://www.w3.org/TR/wai-aria-1.1/#managingfocus\" class=\"external\" rel=\" noopener\">焦点管理</a></li>\n  <li>建议作者在列表未聚焦时使用不同的样式进行选择，例如非活动选项通常以较浅的背景颜色显示。</li>\n  <li>如果 listbox 不是另一个组件的一部分，那么它应该具有 <code>aria-labelledby</code> 属性。</li>\n  <li>如果一个或多个条目不是 listbox 的 DOM 子项，则需要设置额外的 <code>aria-*</code> 属性（参见 <a href=\"https://www.w3.org/TR/wai-aria-practices/#listbox_div\" class=\"external\" rel=\" noopener\">ARIA Best Practices</a>)。</li>\n  <li>如果有理由 <a href=\"https://www.w3.org/TR/wai-aria-1.1/#aria-expanded\" class=\"external\" rel=\" noopener\">展开</a> 列表框，<a href=\"/en-US/docs/Web/Accessibility/ARIA/Roles/combobox_role\" class=\"only-in-en-us\" title=\"Currently only available in English (US)\">combobox (en-US)</a> 角色可能更合适。</li>\n</ul>"}},{"type":"specifications","value":{"title":"规范","id":"规范","isH3":false,"specifications":[{"bcdSpecificationURL":"https://w3c.github.io/aria/#listbox","title":"Accessible Rich Internet Applications (WAI-ARIA) 1.2"},{"bcdSpecificationURL":"https://w3c.github.io/aria-practices/#Listbox","title":"Unknown specification"}],"query":"undefined"}},{"type":"prose","value":{"id":"屏幕阅读器支持","title":"屏幕阅读器支持","isH3":false,"content":"<p>TBD</p>"}},{"type":"prose","value":{"id":"参见","title":"参见","isH3":false,"content":"<ul>\n  <li><a href=\"/zh-CN/docs/Web/HTML/Element/select\"><code>&lt;select&gt;</code></a> 元素</li>\n  <li><a href=\"/zh-CN/docs/Web/HTML/Element/label\"><code>&lt;label&gt;</code></a> 元素</li>\n  <li><a href=\"/zh-CN/docs/Web/HTML/Element/option\"><code>&lt;option&gt;</code></a> 元素</li>\n  <li><a href=\"/en-US/docs/Web/Accessibility/ARIA/Roles/combobox_role\" class=\"only-in-en-us\" title=\"Currently only available in English (US)\">ARIA: combobox 角色 (en-US)</a></li>\n  <li><a href=\"/en-US/docs/Web/Accessibility/ARIA/Roles/option_role\" class=\"only-in-en-us\" title=\"Currently only available in English (US)\">ARIA: option 角色 (en-US)</a></li>\n  <li><a href=\"/zh-CN/docs/Web/Accessibility/ARIA/Roles/List_role\">ARIA: <code>list</code> 角色</a></li>\n  <li><a href=\"/zh-CN/docs/Web/Accessibility/ARIA/Roles/Listitem_role\">ARIA: <code>listitem</code> 角色</a></li>\n  <li><a href=\"https://www.w3.org/TR/wai-aria-practices/#Listbox\" class=\"external\" rel=\" noopener\">ARIA Best Practices – Listbox</a></li>\n  <li><a href=\"https://www.w3.org/TR/wai-aria-1.1/#listbox\" class=\"external\" rel=\" noopener\">ARIA Role Model – Listbox</a></li>\n</ul>"}}],"toc":[{"text":"描述","id":"描述"},{"text":"例子","id":"例子"},{"text":"最佳实践","id":"最佳实践"},{"text":"规范","id":"规范"},{"text":"屏幕阅读器支持","id":"屏幕阅读器支持"},{"text":"参见","id":"参见"}],"summary":"listbox 角色用于列表，用户可以从中选择一个或多个静态选项，并且与 HTML <select> 元素不同，它可能包含图像。","popularity":0,"modified":"2022-10-01T03:41:16.000Z","other_translations":[{"title":"ARIA: listbox role","locale":"en-US","native":"English (US)"},{"title":"Utiliser le rôle listbox","locale":"fr","native":"Français"},{"title":"ARIA: listbox ロール","locale":"ja","native":"日本語"}],"source":{"folder":"zh-cn/web/accessibility/aria/roles/listbox_role","github_url":"https://github.com/mdn/translated-content/blob/main/files/zh-cn/web/accessibility/aria/roles/listbox_role/index.md","last_commit_url":"https://github.com/mdn/translated-content/commit/921c46a374ab0a9f4cc809af0370f8c412e54701","filename":"index.md"},"parents":[{"uri":"/zh-CN/docs/Web","title":"Web 开发技术"},{"uri":"/zh-CN/docs/Web/Accessibility","title":"无障碍"},{"uri":"/zh-CN/docs/Web/Accessibility/ARIA","title":"ARIA"},{"uri":"/zh-CN/docs/Web/Accessibility/ARIA/Roles","title":"WAI-ARIA Roles"},{"uri":"/zh-CN/docs/Web/Accessibility/ARIA/Roles/listbox_role","title":"ARIA: listbox role"}],"pageTitle":"ARIA: listbox role - 无障碍 | MDN","noIndexing":false}}