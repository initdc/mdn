{"doc":{"isMarkdown":true,"isTranslated":true,"isActive":true,"flaws":{},"title":"Web Audio playbackRate explained","mdn_url":"/zh-CN/docs/Web/Guide/Audio_and_video_delivery/WebAudio_playbackRate_explained","locale":"zh-CN","native":"中文 (简体)","sidebarHTML":"","body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<p>html 元素“audio”和“video”的<code>playbackRate</code> 属性允许我们改变一段正在播放的网页音频或者视频的速度，或速率。本文详细解释了 <code>playbackRate</code> 。</p>"}},{"type":"prose","value":{"id":"playbackrate_基础","title":"playbackRate 基础","isH3":false,"content":"<p>让我们以一个简单的<code>playbackRate</code>用法示例开始：</p>\n<div class=\"code-example\"><pre class=\"brush: java notranslate\"><code><span class=\"token keyword\">var</span> myAudio <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">createElement</span><span class=\"token punctuation\">(</span><span class=\"token char\">'audio'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nmyAudio<span class=\"token punctuation\">.</span><span class=\"token function\">setAttribute</span><span class=\"token punctuation\">(</span><span class=\"token char\">'src'</span><span class=\"token punctuation\">,</span>'audiofile<span class=\"token punctuation\">.</span>mp3'<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nmyAudio<span class=\"token punctuation\">.</span>playbackRate <span class=\"token operator\">=</span> <span class=\"token number\">0.5</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<p>在此我们创建了一个 html 元素“audio”，以我们选择的一个文件设置它的 <code>src</code> 。然后我们把 <code>playbackRate</code> 设为 0.5，这代表一半的正常播放速度（ <code>playbackRate</code> 是对原始速率的一个乘数）。</p>"}},{"type":"prose","value":{"id":"一个完整示例","title":"一个完整示例","isH3":false,"content":"<p>让我们首先创建一个 html 元素“video”，在 HTML 中设置视频和播放速率控制：</p>\n<div class=\"code-example\"><pre class=\"brush: html notranslate\"><code><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>video</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>myVideo<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">controls</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>source</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://jplayer.org/video/m4v/Big_Buck_Bunny_Trailer.m4v<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">'</span>video/mp4<span class=\"token punctuation\">'</span></span> <span class=\"token punctuation\">/&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>source</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://jplayer.org/video/webm/Big_Buck_Bunny_Trailer.webm<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">'</span>video/webm<span class=\"token punctuation\">'</span></span> <span class=\"token punctuation\">/&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>video</span><span class=\"token punctuation\">&gt;</span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>form</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>pbr<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>range<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">value</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>1<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">min</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>0.5<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">max</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>4<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">step</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>0.1<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">&gt;</span></span>Playback Rate <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>span</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>currentPbr<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>1<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>span</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>form</span><span class=\"token punctuation\">&gt;</span></span>\n</code></pre></div>\n<p>对它运用一些 JavaScript 代码：</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code>window<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onload</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\n  <span class=\"token keyword\">var</span> v <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"myVideo\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">var</span> p <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"pbr\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">var</span> c <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"currentPbr\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  p<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'input'</span><span class=\"token punctuation\">,</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n    c<span class=\"token punctuation\">.</span>innerHTML <span class=\"token operator\">=</span> p<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">;</span>\n    v<span class=\"token punctuation\">.</span>playbackRate <span class=\"token operator\">=</span> p<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<p>最后，我们监听指向 html 元素“input”的 <code>input</code> 事件，这允许我们对被改变的播放速率控制产生影响。</p>\n<div class=\"notecard note\" id=\"sect1\">\n  <p><strong>备注：</strong> <a href=\"http://jsbin.com/UGIxoJis/1/edit\" class=\"external\" rel=\" noopener\">在线试用示例</a>, 尝试调整播放速率控制看看效果。</p>\n</div>"}},{"type":"prose","value":{"id":"defaultplaybackrate_和_ratechange","title":"defaultPlaybackRate 和 ratechange","isH3":false,"content":"<p>除了 <code>playbackRate</code>, 我们也有一个可用的 <code>defaultPlaybackRate</code> 属性，这让我们能设置默认的播放速率：对媒体文件重设置的播放速率；例如，如果我们改变视频的来源，或（在一些浏览器中）当产生一个<code>ended</code>事件。</p>\n<p>所以 <code>defaultPlaybackRate</code> 允许我们在播放媒体文件之前设置播放速率，而<code>playbackRate</code> 只允许我们在媒体播放阶段改变它。</p>\n<p>有一个可用事件 <code>ratechange</code>，每次 <code>playbackRate</code> 改变的时候均会触发。</p>"}},{"type":"prose","value":{"id":"浏览器支持","title":"浏览器支持","isH3":false,"content":"<ul>\n  <li>Chrome 20+ ✔</li>\n  <li>Firefox 20+ ✔</li>\n  <li>IE 9+ ✔</li>\n  <li>Safari 6+ ✔</li>\n  <li>Opera 15+ ✔</li>\n  <li>Mobile Chrome (Android) ✖</li>\n  <li>Mobile Firefox 24+ ✔</li>\n  <li>IE Mobile ✖</li>\n  <li>Mobile Safari 6+ (iOS) ✔</li>\n  <li>Opera Mobile ✖</li>\n</ul>"}},{"type":"prose","value":{"id":"注意","title":"注意","isH3":true,"content":"<ul>\n  <li>大多数浏览器对 0.5 至 4 之外的<code>playbackRate</code>值会停止播放音频，而视频会静音播放。对大多数应用，推荐限制值的范围在 0.5 至 4 之间。</li>\n  <li>当 <code>playBackRate</code> 改变的时候音频的进度条不会变化。</li>\n  <li>负数不会引起媒体文件反向播放。</li>\n  <li>当<code>ended</code>事件触发时 IE9+ 会转换到默认播放速率。</li>\n  <li>当媒体源文件被替换时，Firefox 会触发 <code>ratechange</code> 事件。</li>\n  <li>在 iOS 7 中你只能在媒体暂停的时候影响<code>playbackRate</code>值（不是它播放的时候）。</li>\n</ul>"}},{"type":"prose","value":{"id":"请参阅","title":"请参阅","isH3":false,"content":"<ul>\n  <li><a href=\"https://hyperaud.io/lab/pbr-test/\" class=\"external\" rel=\" noopener\">Hyperaudio's Playback Rate Test</a></li>\n  <li><a href=\"/zh-CN/docs/Web/API/HTMLMediaElement\">HTMLMediaElement reference</a></li>\n</ul>"}}],"toc":[{"text":"playbackRate 基础","id":"playbackrate_基础"},{"text":"一个完整示例","id":"一个完整示例"},{"text":"defaultPlaybackRate 和 ratechange","id":"defaultplaybackrate_和_ratechange"},{"text":"浏览器支持","id":"浏览器支持"},{"text":"请参阅","id":"请参阅"}],"summary":"html 元素“audio”和“video”的playbackRate 属性允许我们改变一段正在播放的网页音频或者视频的速度，或速率。本文详细解释了 playbackRate 。","popularity":0,"modified":"2022-10-01T03:41:16.000Z","other_translations":[{"title":"Web Audio playbackRate explained","locale":"en-US","native":"English (US)"}],"source":{"folder":"zh-cn/web/guide/audio_and_video_delivery/webaudio_playbackrate_explained","github_url":"https://github.com/mdn/translated-content/blob/main/files/zh-cn/web/guide/audio_and_video_delivery/webaudio_playbackrate_explained/index.md","last_commit_url":"https://github.com/mdn/translated-content/commit/921c46a374ab0a9f4cc809af0370f8c412e54701","filename":"index.md"},"parents":[{"uri":"/zh-CN/docs/Web","title":"Web 开发技术"},{"uri":"/zh-CN/docs/Web/Guide","title":"Web 开发者指南"},{"uri":"/zh-CN/docs/Web/Guide/Audio_and_video_delivery","title":"Audio and Video Delivery"},{"uri":"/zh-CN/docs/Web/Guide/Audio_and_video_delivery/WebAudio_playbackRate_explained","title":"Web Audio playbackRate explained"}],"pageTitle":"Web Audio playbackRate explained - Web 开发者指南 | MDN","noIndexing":false}}