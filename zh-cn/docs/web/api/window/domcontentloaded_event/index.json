{"doc":{"isMarkdown":true,"isTranslated":true,"isActive":true,"flaws":{},"title":"DOMContentLoaded","mdn_url":"/zh-CN/docs/Web/API/Window/DOMContentLoaded_event","locale":"zh-CN","native":"中文 (简体)","sidebarHTML":"","body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<p>当初始的 <strong>HTML</strong> 文档被完全加载和解析完成之后，**<code>DOMContentLoaded</code> **事件被触发，而无需等待样式表、图像和子框架的完全加载。</p>\n<p>模拟的 css 文件：CSS.php</p>\n<div class=\"code-example\"><pre class=\"brush: plain notranslate\">&lt;?php\nsleep(3);\n</pre></div>\n<p>测试代码：</p>\n<div class=\"code-example\"><pre class=\"brush: plain notranslate\">&lt;link rel=\"stylesheet\" href=\"css.php\"&gt;\n&lt;script&gt;\ndocument.addEventListener('DOMContentLoaded',function(){\n    console.log('3 seconds passed');\n});\n&lt;/script&gt;\n</pre></div>\n<p>如果将 link 置于 script 之后，就会立即打印。</p>\n<div class=\"notecard note\" id=\"sect1\">\n  <p><strong>备注：</strong> 同步 JavaScript 会暂停 DOM 的解析。</p>\n</div>\n<div class=\"notecard note\" id=\"sect2\">\n  <p><strong>备注：</strong> 还有许多通用和独立的库提供跨浏览器方法来检测 DOM 是否已准备就绪</p>\n</div>"}},{"type":"prose","value":{"id":"加速中","title":"加速中","isH3":false,"content":"<p>如果您希望 DOM 在用户请求页面后尽可能快地解析，你可以做的一些事情是把你的 <a href=\"/zh-CN/docs/Web/API/XMLHttpRequest/Synchronous_and_Asynchronous_Requests\">JavaScript 异步化</a> 以及 <a href=\"https://developers.google.com/speed/docs/insights/OptimizeCSSDelivery\" class=\"external\" rel=\" noopener\">优化样式表的加载</a>, 由于被并行加载而减慢页面加载，从主 html 文档“窃取”流量。</p>"}},{"type":"prose","value":{"id":"常规信息","title":"常规信息","isH3":false,"content":"<dl>\n  <dt id=\"规范\">规范</dt>\n  <dd>\n    <p><a href=\"https://www.whatwg.org/specs/web-apps/current-work/multipage/the-end.html#the-end\" class=\"external\" rel=\" noopener\">HTML5</a></p>\n  </dd>\n  <dt id=\"接口\">接口</dt>\n  <dd>\n    <p>Event</p>\n  </dd>\n  <dt id=\"是否冒泡\">是否冒泡</dt>\n  <dd>\n    <p>是</p>\n  </dd>\n  <dt id=\"能否取消\">能否取消</dt>\n  <dd>\n    <p>能 (尽管一个简单的事件被指定为不可取消)</p>\n  </dd>\n  <dt id=\"目标\">目标</dt>\n  <dd>\n    <p>Document</p>\n  </dd>\n  <dt id=\"默认行为\">默认行为</dt>\n  <dd>\n    <p>无。</p>\n  </dd>\n</dl>"}},{"type":"prose","value":{"id":"属性","title":"属性","isH3":false,"content":"<table>\n  <thead>\n    <tr>\n      <th>属性</th>\n      <th>类型</th>\n      <th>描述</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <td><code>target</code> <span title=\"该属性的值无法更改\" class=\"badge inline readonly\">只读 </span></td>\n      <td><a href=\"/zh-CN/docs/Web/API/EventTarget\"><code>EventTarget</code></a></td>\n      <td>产生该事件的对象 (DOM 树中最顶级的那个对象).</td>\n    </tr>\n    <tr>\n      <td><code>type</code> <span title=\"该属性的值无法更改\" class=\"badge inline readonly\">只读 </span></td>\n      <td><a href=\"/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String\"><code>DOMString</code></a></td>\n      <td>事件类型。</td>\n    </tr>\n    <tr>\n      <td><code>bubbles</code> <span title=\"该属性的值无法更改\" class=\"badge inline readonly\">只读 </span></td>\n      <td><a href=\"/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Boolean\"><code>Boolean</code></a></td>\n      <td>该事件是否冒泡。</td>\n    </tr>\n    <tr>\n      <td><code>cancelable</code> <span title=\"该属性的值无法更改\" class=\"badge inline readonly\">只读 </span></td>\n      <td><a href=\"/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Boolean\"><code>Boolean</code></a></td>\n      <td>该事件是否可取消默认行为。</td>\n    </tr>\n  </tbody>\n</table>"}},{"type":"prose","value":{"id":"示例","title":"示例","isH3":false,"content":"<div class=\"code-example\"><pre class=\"brush: plain notranslate\">&lt;script&gt;\n  document.addEventListener(\"DOMContentLoaded\", function(event) {\n      console.log(\"DOM fully loaded and parsed\");\n  });\n&lt;/script&gt;\n</pre></div>\n<div class=\"code-example\"><pre class=\"brush: plain notranslate\">&lt;script&gt;\n  document.addEventListener(\"DOMContentLoaded\", function(event) {\n      console.log(\"DOM fully loaded and parsed\");\n  });\n\n  for(var i=0; i&lt;1000000000; i++){\n      // 这个同步脚本将延迟 DOM 的解析。\n      // 所以 DOMContentLoaded 事件稍后将启动。\n  }\n&lt;/script&gt;\n</pre></div>"}},{"type":"specifications","value":{"title":"规范","id":"规范_2","isH3":false,"specifications":[{"bcdSpecificationURL":"https://html.spec.whatwg.org/multipage/indices.html#event-domcontentloaded","title":"HTML Standard"}],"query":"api.Window.DOMContentLoaded_event"}},{"type":"browser_compatibility","value":{"title":"浏览器兼容性","id":"浏览器兼容性","isH3":false,"query":"api.Window.DOMContentLoaded_event","dataURL":"/zh-CN/docs/Web/API/Window/DOMContentLoaded_event/bcd.json"}},{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<p>至少从 Gecko 1.9.2,Chrome 6，以及 Safari 4 开始，就已经实现了该事件的冒泡行为。</p>"}},{"type":"prose","value":{"id":"兼容不支持该事件的浏览器","title":"兼容不支持该事件的浏览器","isH3":true,"content":"<p>在 IE8 中，可以使用<code>readystatechange</code>事件来检测 DOM 文档是否加载完毕。在更早的 IE 版本中，可以通过每隔一段时间执行一次<code>document.documentElement.doScroll(\"left\") 来检测这一状态，</code>因为这条代码在 DOM 加载完毕之前执行时会抛出错误 (throw an error)。</p>\n<p>诸如 jQuery 这样的通用 JS 库，会提供跨浏览器的方法来检测 DOM 是否加载完成。也有其他专门实现该功能的脚本：<a href=\"https://github.com/dperini/ContentLoaded/blob/master/src/contentloaded.js\" class=\"external\" rel=\" noopener\">contentloaded.js</a> (只能添一个时间监听函数) 以及<a href=\"https://github.com/addyosmani/jquery.parts/blob/master/jquery.documentReady.js\" class=\"external\" rel=\" noopener\">jquery.documentReady.js</a> (并不依赖 jQuery，虽然名字中有 jquery).</p>"}},{"type":"prose","value":{"id":"相关事件","title":"相关事件","isH3":false,"content":"<ul>\n  <li><code><a href=\"/en-US/docs/Web/API/Window/DOMContentLoaded_event\" title=\"Currently only available in English (US)\" class=\"only-in-en-us\">DOMContentLoaded (en-US)</a></code></li>\n  <li><code><a href=\"/en-US/docs/Web/API/Document/readystatechange_event\" title=\"Currently only available in English (US)\" class=\"only-in-en-us\">readystatechange (en-US)</a></code></li>\n  <li><code><a href=\"/en-US/docs/Web/API/Window/load_event\" title=\"Currently only available in English (US)\" class=\"only-in-en-us\">load (en-US)</a></code></li>\n  <li><code><a href=\"/en-US/docs/Web/API/Window/beforeunload_event\" title=\"Currently only available in English (US)\" class=\"only-in-en-us\">beforeunload (en-US)</a></code></li>\n  <li><code><a href=\"/en-US/docs/Web/API/Window/unload_event\" title=\"Currently only available in English (US)\" class=\"only-in-en-us\">unload (en-US)</a></code></li>\n  <li><a href=\"https://codepen.io/gildata/pen/VrzXOb\" class=\"external\" rel=\" noopener\">DOMContentLoaded demo</a></li>\n</ul>"}}],"toc":[{"text":"加速中","id":"加速中"},{"text":"常规信息","id":"常规信息"},{"text":"属性","id":"属性"},{"text":"示例","id":"示例"},{"text":"规范","id":"规范_2"},{"text":"浏览器兼容性","id":"浏览器兼容性"},{"text":"相关事件","id":"相关事件"}],"summary":"当初始的 HTML 文档被完全加载和解析完成之后，**DOMContentLoaded **事件被触发，而无需等待样式表、图像和子框架的完全加载。","popularity":0.001,"modified":"2022-10-01T03:41:16.000Z","other_translations":[{"title":"Window: DOMContentLoaded event","locale":"en-US","native":"English (US)"},{"title":"DOMContentLoaded","locale":"fr","native":"Français"},{"title":"Window: DOMContentLoaded イベント","locale":"ja","native":"日本語"},{"title":"DOMContentLoaded","locale":"ko","native":"한국어"},{"title":"DOMContentLoaded","locale":"pt-BR","native":"Português (do Brasil)"},{"title":"DOMContentLoaded","locale":"ru","native":"Русский"},{"title":"DOMContentLoaded","locale":"zh-TW","native":"正體中文 (繁體)"}],"source":{"folder":"zh-cn/web/api/window/domcontentloaded_event","github_url":"https://github.com/mdn/translated-content/blob/main/files/zh-cn/web/api/window/domcontentloaded_event/index.md","last_commit_url":"https://github.com/mdn/translated-content/commit/921c46a374ab0a9f4cc809af0370f8c412e54701","filename":"index.md"},"parents":[{"uri":"/zh-CN/docs/Web","title":"Web 开发技术"},{"uri":"/zh-CN/docs/Web/API","title":"Web API 接口参考"},{"uri":"/zh-CN/docs/Web/API/Window","title":"Window"},{"uri":"/zh-CN/docs/Web/API/Window/DOMContentLoaded_event","title":"DOMContentLoaded"}],"pageTitle":"DOMContentLoaded - Web API 接口参考 | MDN","noIndexing":false}}