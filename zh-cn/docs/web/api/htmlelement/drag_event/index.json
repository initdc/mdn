{"doc":{"isMarkdown":true,"isTranslated":true,"isActive":true,"flaws":{},"title":"HTMLElement：drag 事件","mdn_url":"/zh-CN/docs/Web/API/HTMLElement/drag_event","locale":"zh-CN","native":"中文 (简体)","sidebarHTML":"<ol><li><strong><a href=\"/zh-CN/docs/Web/API/HTMLElement\"><code>HTMLElement</code></a></strong></li><li class=\"toggle\"><details open=\"\"><summary>属性</summary><ol><li><a href=\"/zh-CN/docs/Web/API/HTMLElement/contentEditable\"><code>contentEditable</code></a></li><li><svg class=\"icon icon-nonstandard\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-nonstandard\"></use>\n</svg><svg class=\"icon icon-deprecated\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-deprecated\"></use>\n</svg><a href=\"/zh-CN/docs/Web/API/HTMLElement/contextMenu\"><code>contextMenu</code></a></li><li><a href=\"/zh-CN/docs/Web/API/HTMLElement/dataset\"><code>dataset</code></a></li><li><a href=\"/zh-CN/docs/Web/API/HTMLElement/dir\"><code>dir</code></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/HTMLElement/enterKeyHint\"><code>enterKeyHint</code> <small>(en-US)</small></a></li><li><a href=\"/zh-CN/docs/Web/API/HTMLElement/hidden\"><code>hidden</code></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/HTMLElement/inert\"><code>inert</code> <small>(en-US)</small></a></li><li><a href=\"/zh-CN/docs/Web/API/HTMLElement/innerText\"><code>innerText</code></a></li><li><a href=\"/zh-CN/docs/Web/API/HTMLElement/isContentEditable\"><code>isContentEditable</code></a></li><li><a href=\"/zh-CN/docs/Web/API/HTMLElement/lang\"><code>lang</code></a></li><li><a href=\"/zh-CN/docs/Web/API/HTMLElement/nonce\"><code>nonce</code></a></li><li><a href=\"/zh-CN/docs/Web/API/HTMLElement/offsetHeight\"><code>offsetHeight</code></a></li><li><a href=\"/zh-CN/docs/Web/API/HTMLElement/offsetLeft\"><code>offsetLeft</code></a></li><li><a href=\"/zh-CN/docs/Web/API/HTMLElement/offsetParent\"><code>offsetParent</code></a></li><li><a href=\"/zh-CN/docs/Web/API/HTMLElement/offsetTop\"><code>offsetTop</code></a></li><li><a href=\"/zh-CN/docs/Web/API/HTMLElement/offsetWidth\"><code>offsetWidth</code></a></li><li><a href=\"/zh-CN/docs/Web/API/HTMLElement/outerText\"><code>outerText</code></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/HTMLElement/style\"><code>style</code> <small>(en-US)</small></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/HTMLElement/tabIndex\"><code>tabIndex</code> <small>(en-US)</small></a></li><li><a href=\"/zh-CN/docs/Web/API/HTMLElement/title\"><code>title</code></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>方法</summary><ol><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/HTMLElement/attachInternals\"><code>attachInternals()</code> <small>(en-US)</small></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/HTMLElement/blur\"><code>blur()</code> <small>(en-US)</small></a></li><li><a href=\"/zh-CN/docs/Web/API/HTMLElement/click\"><code>click()</code></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/HTMLElement/focus\"><code>focus()</code> <small>(en-US)</small></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>事件</summary><ol><li><a href=\"/zh-CN/docs/Web/API/HTMLElement/beforeinput_event\"><code>beforeinput</code></a></li><li><a href=\"/zh-CN/docs/Web/API/HTMLElement/change_event\"><code>change</code></a></li><li><a href=\"/zh-CN/docs/Web/API/HTMLElement/copy_event\"><code>copy</code></a></li><li><a href=\"/zh-CN/docs/Web/API/HTMLElement/cut_event\"><code>cut</code></a></li><li><em><code>drag</code></em></li><li><a href=\"/zh-CN/docs/Web/API/HTMLElement/dragend_event\"><code>dragend</code></a></li><li><a href=\"/zh-CN/docs/Web/API/HTMLElement/dragenter_event\"><code>dragenter</code></a></li><li><a href=\"/zh-CN/docs/Web/API/HTMLElement/dragleave_event\"><code>dragleave</code></a></li><li><a href=\"/zh-CN/docs/Web/API/HTMLElement/dragover_event\"><code>dragover</code></a></li><li><a href=\"/zh-CN/docs/Web/API/HTMLElement/dragstart_event\"><code>dragstart</code></a></li><li><a href=\"/zh-CN/docs/Web/API/HTMLElement/drop_event\"><code>drop</code></a></li><li><a href=\"/zh-CN/docs/Web/API/HTMLElement/input_event\"><code>input</code></a></li><li><svg class=\"icon icon-nonstandard\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-nonstandard\"></use>\n</svg><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/HTMLElement/mscandidatewindowhide_event\"><code>mscandidatewindowhide</code> <small>(en-US)</small></a></li><li><svg class=\"icon icon-nonstandard\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-nonstandard\"></use>\n</svg><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/HTMLElement/mscandidatewindowshow_event\"><code>mscandidatewindowshow</code> <small>(en-US)</small></a></li><li><svg class=\"icon icon-nonstandard\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-nonstandard\"></use>\n</svg><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/HTMLElement/mscandidatewindowupdate_event\"><code>mscandidatewindowupdate</code> <small>(en-US)</small></a></li><li><a href=\"/zh-CN/docs/Web/API/HTMLElement/paste_event\"><code>paste</code></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>继承</summary><ol><li><a href=\"/zh-CN/docs/Web/API/Element\"><code>Element</code></a></li><li><a href=\"/zh-CN/docs/Web/API/Node\"><code>Node</code></a></li><li><a href=\"/zh-CN/docs/Web/API/EventTarget\"><code>EventTarget</code></a></li></ol></details></li></ol>","body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<p><code>drag</code> 事件在用户拖动元素或选择的文本时，每隔几百毫秒就会被触发一次。</p>"}},{"type":"prose","value":{"id":"语法","title":"语法","isH3":false,"content":"<p>在类似 <a href=\"/zh-CN/docs/Web/API/EventTarget/addEventListener\" title=\"addEventListener()\"><code>addEventListener()</code></a> 这样的方法中使用事件名称，或设置事件处理器属性。</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'drag'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">event</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token function-variable function\">ondrag</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">event</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n</code></pre></div>"}},{"type":"prose","value":{"id":"事件类型","title":"事件类型","isH3":false,"content":"<p>一个 <a href=\"/zh-CN/docs/Web/API/DragEvent\"><code>DragEvent</code></a>。继承自 <a href=\"/zh-CN/docs/Web/API/Event\"><code>Event</code></a>。</p><svg viewBox=\"-1 -1 650 42\" preserveAspectRatio=\"xMinYMin meet\">\n  <a style=\"text-decoration: none;\" xlink:href=\"/zh-CN/docs/Web/API/Event\">\n    <rect x=\"0\" y=\"0\" width=\"75\" height=\"25\" fill=\"#fff\" stroke=\"#D4DDE4\" stroke-width=\"2px\"></rect>\n    <text x=\"37.5\" y=\"16\" font-size=\"10px\" fill=\"#4D4E53\" text-anchor=\"middle\">\n      Event\n    </text>\n  </a>\n  <line x1=\"75\" y1=\"14\" x2=\"105\" y2=\"14\" stroke=\"#D4DDE4\" \"=\"\"></line>\n  <polyline points=\"75,14 85,9 85,19 75,14\" stroke=\"#D4DDE4\" fill=\"#fff\"></polyline>\n  <a style=\"text-decoration: none;\" xlink:href=\"/zh-CN/docs/Web/API/UIEvent\">\n    <rect x=\"105\" y=\"0\" width=\"75\" height=\"25\" fill=\"#fff\" stroke=\"#D4DDE4\" stroke-width=\"2px\"></rect>\n    <text x=\"142.5\" y=\"16\" font-size=\"10px\" fill=\"#4D4E53\" text-anchor=\"middle\">\n      UIEvent\n    </text>\n  </a>\n  <line x1=\"180\" y1=\"14\" x2=\"210\" y2=\"14\" stroke=\"#D4DDE4\" \"=\"\"></line>\n  <polyline points=\"180,14 190,9 190,19 180,14\" stroke=\"#D4DDE4\" fill=\"#fff\"></polyline>\n  <a style=\"text-decoration: none;\" xlink:href=\"/zh-CN/docs/Web/API/MouseEvent\">\n    <rect x=\"210\" y=\"0\" width=\"80\" height=\"25\" fill=\"#fff\" stroke=\"#D4DDE4\" stroke-width=\"2px\"></rect>\n    <text x=\"250\" y=\"16\" font-size=\"10px\" fill=\"#4D4E53\" text-anchor=\"middle\">\n      MouseEvent\n    </text>\n  </a>\n  <line x1=\"290\" y1=\"14\" x2=\"320\" y2=\"14\" stroke=\"#D4DDE4\" \"=\"\"></line>\n  <polyline points=\"290,14 300,9 300,19 290,14\" stroke=\"#D4DDE4\" fill=\"#fff\"></polyline>\n  <a style=\"text-decoration: none;\" xlink:href=\"/zh-CN/docs/Web/API/DragEvent\">\n    <rect x=\"320\" y=\"0\" width=\"75\" height=\"25\" fill=\"#F4F7F8\" stroke=\"#D4DDE4\" stroke-width=\"2px\"></rect>\n    <text x=\"357.5\" y=\"16\" font-size=\"10px\" fill=\"#4D4E53\" text-anchor=\"middle\">\n      DragEvent\n    </text>\n  </a></svg>"}},{"type":"prose","value":{"id":"事件属性","title":"事件属性","isH3":false,"content":"<p><em>除了下面列出的属性外，还可以使用父接口 <a href=\"/zh-CN/docs/Web/API/Event\"><code>Event</code></a> 的属性。</em></p>\n<dl>\n  <dt id=\"dragevent.datatransfer\"><a href=\"/zh-CN/docs/Web/API/DragEvent/dataTransfer\"><code>DragEvent.dataTransfer</code></a> <span title=\"该属性的值无法更改\" class=\"badge inline readonly\">只读 </span></dt>\n  <dd>\n    <p>在进行拖放操作时，传输的数据。</p>\n  </dd>\n</dl>"}},{"type":"prose","value":{"id":"示例","title":"示例","isH3":false,"content":""}},{"type":"prose","value":{"id":"拖放示例","title":"拖放示例","isH3":true,"content":"<h4 id=\"html\">HTML</h4>\n<div class=\"code-example\"><pre class=\"brush: html notranslate\"><code><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>dropzone<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>draggable<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">draggable</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>true<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n    这个 div 可以拖动\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>dropzone<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>droptarget<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n</code></pre></div>\n<h4 id=\"css\">CSS</h4>\n<div class=\"code-example\"><pre class=\"brush: css notranslate\"><code><span class=\"token selector\">body</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">/* Prevent the user selecting text in the example */</span>\n  <span class=\"token property\">user-select</span><span class=\"token punctuation\">:</span> none<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token selector\">#draggable</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">text-align</span><span class=\"token punctuation\">:</span> center<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">background</span><span class=\"token punctuation\">:</span> white<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token selector\">.dropzone</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">width</span><span class=\"token punctuation\">:</span> 200px<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">height</span><span class=\"token punctuation\">:</span> 20px<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">background</span><span class=\"token punctuation\">:</span> blueviolet<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">margin</span><span class=\"token punctuation\">:</span> 10px<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">padding</span><span class=\"token punctuation\">:</span> 10px<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token selector\">.dropzone.dragover</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">background-color</span><span class=\"token punctuation\">:</span> purple<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token selector\">.dragging</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">opacity</span><span class=\"token punctuation\">:</span> .5<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<h4 id=\"javascript\">JavaScript</h4>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">let</span> dragged<span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">/* events fired on the draggable target */</span>\n<span class=\"token keyword\">const</span> source <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"draggable\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nsource<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"drag\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">event</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"dragging\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nsource<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"dragstart\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">event</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// store a ref. on the dragged elem</span>\n  dragged <span class=\"token operator\">=</span> event<span class=\"token punctuation\">.</span>target<span class=\"token punctuation\">;</span>\n  <span class=\"token comment\">// make it half transparent</span>\n  event<span class=\"token punctuation\">.</span>target<span class=\"token punctuation\">.</span>classList<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"dragging\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nsource<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"dragend\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">event</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// reset the transparency</span>\n  event<span class=\"token punctuation\">.</span>target<span class=\"token punctuation\">.</span>classList<span class=\"token punctuation\">.</span><span class=\"token function\">remove</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"dragging\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">/* events fired on the drop targets */</span>\n<span class=\"token keyword\">const</span> target <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"droptarget\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\ntarget<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"dragover\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">event</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// prevent default to allow drop</span>\n  event<span class=\"token punctuation\">.</span><span class=\"token function\">preventDefault</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\ntarget<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"dragenter\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">event</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// highlight potential drop target when the draggable element enters it</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>event<span class=\"token punctuation\">.</span>target<span class=\"token punctuation\">.</span>classList<span class=\"token punctuation\">.</span><span class=\"token function\">contains</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"dropzone\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    event<span class=\"token punctuation\">.</span>target<span class=\"token punctuation\">.</span>classList<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"dragover\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\ntarget<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"dragleave\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">event</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// reset background of potential drop target when the draggable element leaves it</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>event<span class=\"token punctuation\">.</span>target<span class=\"token punctuation\">.</span>classList<span class=\"token punctuation\">.</span><span class=\"token function\">contains</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"dropzone\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    event<span class=\"token punctuation\">.</span>target<span class=\"token punctuation\">.</span>classList<span class=\"token punctuation\">.</span><span class=\"token function\">remove</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"dragover\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\ntarget<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"drop\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">event</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// prevent default action (open as link for some elements)</span>\n  event<span class=\"token punctuation\">.</span><span class=\"token function\">preventDefault</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token comment\">// move dragged element to the selected drop target</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>event<span class=\"token punctuation\">.</span>target<span class=\"token punctuation\">.</span>classList<span class=\"token punctuation\">.</span><span class=\"token function\">contains</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"dropzone\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    event<span class=\"token punctuation\">.</span>target<span class=\"token punctuation\">.</span>classList<span class=\"token punctuation\">.</span><span class=\"token function\">remove</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"dragover\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    dragged<span class=\"token punctuation\">.</span>parentNode<span class=\"token punctuation\">.</span><span class=\"token function\">removeChild</span><span class=\"token punctuation\">(</span>dragged<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    event<span class=\"token punctuation\">.</span>target<span class=\"token punctuation\">.</span><span class=\"token function\">appendChild</span><span class=\"token punctuation\">(</span>dragged<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<h4 id=\"结果\">结果</h4><iframe class=\"sample-code-frame\" title=\"拖放示例 sample\" id=\"frame_拖放示例\" src=\"https://yari-demos.prod.mdn.mozit.cloud/zh-CN/docs/Web/API/HTMLElement/drag_event/_sample_.%E6%8B%96%E6%94%BE%E7%A4%BA%E4%BE%8B.html\" loading=\"lazy\"></iframe>"}},{"type":"specifications","value":{"title":"规范","id":"规范","isH3":false,"query":"api.HTMLElement.drag_event","specifications":[]}},{"type":"browser_compatibility","value":{"title":"浏览器兼容性","id":"浏览器兼容性","isH3":false,"data":null,"query":"api.HTMLElement.drag_event","browsers":null}},{"type":"prose","value":{"id":"参见","title":"参见","isH3":false,"content":"<ul>\n  <li>其它拖放事件：\n    <ul>\n      <li><a href=\"/zh-CN/docs/Web/API/HTMLElement/dragstart_event\" title=\"dragstart\"><code>dragstart</code></a></li>\n      <li><a href=\"/zh-CN/docs/Web/API/HTMLElement/dragend_event\" title=\"dragend\"><code>dragend</code></a></li>\n      <li><a href=\"/zh-CN/docs/Web/API/HTMLElement/dragover_event\" title=\"dragover\"><code>dragover</code></a></li>\n      <li><a href=\"/zh-CN/docs/Web/API/HTMLElement/dragenter_event\" title=\"dragenter\"><code>dragenter</code></a></li>\n      <li><a href=\"/zh-CN/docs/Web/API/HTMLElement/dragleave_event\" title=\"dragleave\"><code>dragleave</code></a></li>\n      <li><a href=\"/zh-CN/docs/Web/API/HTMLElement/drop_event\" title=\"drop\"><code>drop</code></a></li>\n    </ul>\n  </li>\n  <li>其它目标上的此事件：\n    <ul>\n      <li><a href=\"/zh-CN/docs/Web/API/Window\"><code>Window</code></a>：<a class=\"page-not-created\" title=\"此文档尚未被撰写，期待你的贡献!\"><code>drag</code></a> 事件</li>\n      <li><a href=\"/zh-CN/docs/Web/API/Document\"><code>Document</code></a>：<a href=\"/zh-CN/docs/Web/API/HTMLElement/drag_event\" title=\"drag\" aria-current=\"page\"><code>drag</code></a> 事件</li>\n      <li><a href=\"/zh-CN/docs/Web/API/SVGElement\"><code>SVGElement</code></a>：<a class=\"page-not-created\" title=\"此文档尚未被撰写，期待你的贡献!\"><code>drag</code></a> 事件</li>\n    </ul>\n  </li>\n</ul>"}}],"toc":[{"text":"语法","id":"语法"},{"text":"事件类型","id":"事件类型"},{"text":"事件属性","id":"事件属性"},{"text":"示例","id":"示例"},{"text":"规范","id":"规范"},{"text":"浏览器兼容性","id":"浏览器兼容性"},{"text":"参见","id":"参见"}],"summary":"drag 事件在用户拖动元素或选择的文本时，每隔几百毫秒就会被触发一次。","popularity":0,"modified":"2022-10-01T03:41:16.000Z","other_translations":[{"title":"HTMLElement: drag event","locale":"en-US","native":"English (US)"},{"title":"drag","locale":"fr","native":"Français"},{"title":"HTMLElement: drag イベント","locale":"ja","native":"日本語"},{"title":"Document: drag 이벤트","locale":"ko","native":"한국어"}],"source":{"folder":"zh-cn/web/api/htmlelement/drag_event","github_url":"https://github.com/mdn/translated-content/blob/main/files/zh-cn/web/api/htmlelement/drag_event/index.md","last_commit_url":"https://github.com/mdn/translated-content/commit/921c46a374ab0a9f4cc809af0370f8c412e54701","filename":"index.md"},"parents":[{"uri":"/zh-CN/docs/Web","title":"Web 开发技术"},{"uri":"/zh-CN/docs/Web/API","title":"Web API 接口参考"},{"uri":"/zh-CN/docs/Web/API/HTMLElement","title":"HTMLElement"},{"uri":"/zh-CN/docs/Web/API/HTMLElement/drag_event","title":"HTMLElement：drag 事件"}],"pageTitle":"HTMLElement：drag 事件 - Web API 接口参考 | MDN","noIndexing":false}}