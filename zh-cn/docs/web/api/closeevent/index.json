{"doc":{"isMarkdown":true,"isTranslated":true,"isActive":true,"flaws":{},"title":"CloseEvent","mdn_url":"/zh-CN/docs/Web/API/CloseEvent","locale":"zh-CN","native":"中文 (简体)","sidebarHTML":"<ol><li><strong><a href=\"/zh-CN/docs/Web/API/WebSockets_API\">Websockets API</a></strong></li><li><strong><a href=\"/zh-CN/docs/Web/API/CloseEvent\"><code>CloseEvent</code></a></strong></li><li class=\"toggle\"><details open=\"\"><summary>构造函数</summary><ol><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/CloseEvent/CloseEvent\"><code>CloseEvent()</code> <small>(en-US)</small></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>属性</summary><ol><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/CloseEvent/code\"><code>code</code> <small>(en-US)</small></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/CloseEvent/reason\"><code>reason</code> <small>(en-US)</small></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/CloseEvent/wasClean\"><code>wasClean</code> <small>(en-US)</small></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>继承</summary><ol><li><a href=\"/zh-CN/docs/Web/API/Event\"><code>Event</code></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>Websockets API 的相关页面</summary><ol><li><a href=\"/zh-CN/docs/Web/API/MessageEvent\"><code>MessageEvent</code></a></li><li><a href=\"/zh-CN/docs/Web/API/WebSocket\"><code>WebSocket</code></a></li></ol></details></li></ol>","body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<p><code>CloseEvent</code> 会在连接关闭时发送给使用 <a href=\"/zh-CN/docs/Glossary/WebSockets\">WebSockets</a> 的客户端。它在 <code>WebSocket</code> 对象的 <code>onclose</code> 事件监听器中使用。</p>"}},{"type":"prose","value":{"id":"构造器","title":"构造器","isH3":false,"content":"<dl>\n  <dt id=\"closeevent_en-us\"><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/CloseEvent/CloseEvent\"><code>CloseEvent()</code> <small>(en-US)</small></a></dt>\n  <dd>\n    <p>创建一个 <code>CloseEvent</code>.</p>\n  </dd>\n</dl>"}},{"type":"prose","value":{"id":"属性","title":"属性","isH3":false,"content":"<p><em>该接口也继承了其父类 <a href=\"/zh-CN/docs/Web/API/Event\"><code>Event</code></a> 的属性。</em></p>\n<dl>\n  <dt id=\"closeevent.code_en-us\"><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/CloseEvent/code\"><code>CloseEvent.code</code> <small>(en-US)</small></a> <span title=\"该属性的值无法更改\" class=\"badge inline readonly\">只读 </span></dt>\n  <dd>\n    <p>返回一个 unsigned short 类型的数字，表示服务端发送的关闭码，以下为已分配的状态码。</p>\n    <table>\n      <thead>\n        <tr>\n          <th>状态码</th>\n          <th>?名称</th>\n          <th>?描述</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr>\n          <td><code>0</code>–<code>999</code></td>\n          <td></td>\n          <td><strong>保留段，未使用。</strong></td>\n        </tr>\n        <tr>\n          <td><code>1000</code></td>\n          <td><code>CLOSE_NORMAL</code></td>\n          <td>正常关闭; 无论为何目的而创建，该链接都已成功完成任务。</td>\n        </tr>\n        <tr>\n          <td><code>1001</code></td>\n          <td><code>CLOSE_GOING_AWAY</code></td>\n          <td>终端离开，可能因为服务端错误，也可能因为浏览器正从打开连接的页面跳转离开。</td>\n        </tr>\n        <tr>\n          <td><code>1002</code></td>\n          <td><code>CLOSE_PROTOCOL_ERROR</code></td>\n          <td>由于协议错误而中断连接。</td>\n        </tr>\n        <tr>\n          <td><code>1003</code></td>\n          <td><code>CLOSE_UNSUPPORTED</code></td>\n          <td>由于接收到不允许的数据类型而断开连接 (如仅接收文本数据的终端接收到了二进制数据).</td>\n        </tr>\n        <tr>\n          <td><code>1004</code></td>\n          <td></td>\n          <td><strong>保留。</strong> 其意义可能会在未来定义。</td>\n        </tr>\n        <tr>\n          <td><code>1005</code></td>\n          <td><code>CLOSE_NO_STATUS</code></td>\n          <td><strong>保留。</strong> 表示没有收到预期的状态码。</td>\n        </tr>\n        <tr>\n          <td><code>1006</code></td>\n          <td><code>CLOSE_ABNORMAL</code></td>\n          <td><strong>保留。</strong> 用于期望收到状态码时连接非正常关闭 (也就是说，没有发送关闭帧).</td>\n        </tr>\n        <tr>\n          <td><code>1007</code></td>\n          <td>Unsupported Data</td>\n          <td>由于收到了格式不符的数据而断开连接 (如文本消息中包含了非 UTF-8 数据).</td>\n        </tr>\n        <tr>\n          <td><code>1008</code></td>\n          <td>Policy Violation</td>\n          <td>由于收到不符合约定的数据而断开连接。这是一个通用状态码，用于不适合使用 1003 和 1009 状态码的场景。</td>\n        </tr>\n        <tr>\n          <td><code>1009</code></td>\n          <td><code>CLOSE_TOO_LARGE</code></td>\n          <td>由于收到过大的数据帧而断开连接。</td>\n        </tr>\n        <tr>\n          <td><code>1010</code></td>\n          <td>Missing Extension</td>\n          <td>客户端期望服务器商定一个或多个拓展，但服务器没有处理，因此客户端断开连接。</td>\n        </tr>\n        <tr>\n          <td><code>1011</code></td>\n          <td>Internal Error</td>\n          <td>客户端由于遇到没有预料的情况阻止其完成请求，因此服务端断开连接。</td>\n        </tr>\n        <tr>\n          <td><code>1012</code></td>\n          <td>Service Restart</td>\n          <td>服务器由于重启而断开连接。[<a href=\"https://www.ietf.org/mail-archive/web/hybi/current/msg09670.html\" class=\"external\" rel=\" noopener\">Ref</a>]</td>\n        </tr>\n        <tr>\n          <td><code>1013</code></td>\n          <td>Try Again Later</td>\n          <td>服务器由于临时原因断开连接，如服务器过载因此断开一部分客户端连接。[<a href=\"https://www.ietf.org/mail-archive/web/hybi/current/msg09670.html\" class=\"external\" rel=\" noopener\">Ref</a>]</td>\n        </tr>\n        <tr>\n          <td><code>1014</code></td>\n          <td></td>\n          <td><strong>由 WebSocket 标准保留以便未来使用。</strong></td>\n        </tr>\n        <tr>\n          <td><code>1015</code></td>\n          <td>TLS Handshake</td>\n          <td><strong>保留。</strong> 表示连接由于无法完成 TLS 握手而关闭 (例如无法验证服务器证书).</td>\n        </tr>\n        <tr>\n          <td><code>1016</code>–<code>1999</code></td>\n          <td></td>\n          <td><strong>由 WebSocket 标准保留以便未来使用。</strong></td>\n        </tr>\n        <tr>\n          <td><code>2000</code>–<code>2999</code></td>\n          <td></td>\n          <td><strong>由 WebSocket 拓展保留使用。</strong></td>\n        </tr>\n        <tr>\n          <td><code>3000</code>–<code>3999</code></td>\n          <td></td>\n          <td>?可以由库或框架使用.? <strong>不应</strong>由应用使用。可以在 IANA 注册，先到先得。</td>\n        </tr>\n        <tr>\n          <td><code>4000</code>–<code>4999</code></td>\n          <td></td>\n          <td>可以由应用使用。</td>\n        </tr>\n      </tbody>\n    </table>\n  </dd>\n  <dt id=\"closeevent.reason_en-us\"><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/CloseEvent/reason\"><code>CloseEvent.reason</code> <small>(en-US)</small></a> <span title=\"该属性的值无法更改\" class=\"badge inline readonly\">只读 </span></dt>\n  <dd>\n    <p>返回一个 <a href=\"/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String\"><code>DOMString</code></a> 用以表示服务器关闭连接的原因。这是由服务器和子协议决定的。</p>\n  </dd>\n  <dt id=\"closeevent.wasclean_en-us\"><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/CloseEvent/wasClean\"><code>CloseEvent.wasClean</code> <small>(en-US)</small></a> <span title=\"该属性的值无法更改\" class=\"badge inline readonly\">只读 </span></dt>\n  <dd>\n    <p>返回一个 <a href=\"/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Boolean\"><code>Boolean</code></a> 用以表示连接是否完全关闭。</p>\n  </dd>\n</dl>"}},{"type":"prose","value":{"id":"methods","title":"Methods","isH3":false,"content":"<p><em>该接口也继承了其父类 <a href=\"/zh-CN/docs/Web/API/Event\"><code>Event</code></a> 的属性。</em></p>\n<dl>\n  <dt id=\"closeevent.initcloseevent_en-us\"><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/CloseEvent\"><code>CloseEvent.initCloseEvent()</code> <small>(en-US)</small></a> <svg class=\"icon icon-nonstandard\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-nonstandard\"></use>\n</svg> <svg class=\"icon icon-deprecated\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-deprecated\"></use>\n</svg></dt>\n  <dd>\n    <p>初始化创建的 <code>CloseEvent</code> 的值。如果该事件已经被处理，这个方法什么也不做。不要直接使用这个方法，使用 <a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/CloseEvent/CloseEvent\"><code>CloseEvent()</code> <small>(en-US)</small></a> ?构造器来代替。</p>\n  </dd>\n</dl>"}},{"type":"browser_compatibility","value":{"title":"浏览器兼容性","id":"浏览器兼容性","isH3":false,"query":"api.CloseEvent","dataURL":"/zh-CN/docs/Web/API/CloseEvent/bcd.json"}},{"type":"prose","value":{"id":"参考","title":"参考","isH3":false,"content":"<ul>\n  <li><a href=\"/zh-CN/docs/Web/API/WebSocket\"><code>WebSocket</code></a></li>\n</ul>"}}],"toc":[{"text":"构造器","id":"构造器"},{"text":"属性","id":"属性"},{"text":"Methods","id":"methods"},{"text":"浏览器兼容性","id":"浏览器兼容性"},{"text":"参考","id":"参考"}],"summary":"CloseEvent 会在连接关闭时发送给使用 WebSockets 的客户端。它在 WebSocket 对象的 onclose 事件监听器中使用。","popularity":0.0003,"modified":"2022-10-01T03:41:16.000Z","other_translations":[{"title":"CloseEvent","locale":"en-US","native":"English (US)"},{"title":"CloseEvent","locale":"es","native":"Español"},{"title":"CloseEvent","locale":"fr","native":"Français"},{"title":"CloseEvent","locale":"ja","native":"日本語"},{"title":"CloseEvent","locale":"pt-BR","native":"Português (do Brasil)"},{"title":"CloseEvent","locale":"zh-TW","native":"正體中文 (繁體)"}],"source":{"folder":"zh-cn/web/api/closeevent","github_url":"https://github.com/mdn/translated-content/blob/main/files/zh-cn/web/api/closeevent/index.md","last_commit_url":"https://github.com/mdn/translated-content/commit/921c46a374ab0a9f4cc809af0370f8c412e54701","filename":"index.md"},"parents":[{"uri":"/zh-CN/docs/Web","title":"Web 开发技术"},{"uri":"/zh-CN/docs/Web/API","title":"Web API 接口参考"},{"uri":"/zh-CN/docs/Web/API/CloseEvent","title":"CloseEvent"}],"pageTitle":"CloseEvent - Web API 接口参考 | MDN","noIndexing":false}}