{"doc":{"isMarkdown":true,"isTranslated":true,"isActive":true,"flaws":{},"title":"关键帧 (Keyframe) 格式","mdn_url":"/zh-CN/docs/Web/API/Web_Animations_API/Keyframe_Formats","locale":"zh-CN","native":"中文 (简体)","sidebarHTML":"<ol><li><strong><a href=\"/zh-CN/docs/Web/API/Web_Animations_API\"><code>Web_Animations_API</code></a></strong></li></ol>","body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<div class=\"notecard experimental\" id=\"sect1\"><p><strong>Experimental:</strong> <strong>这是一个实验中的功能</strong><br>此功能某些浏览器尚在开发中，请参考<a href=\"#browser_compatibility\">浏览器兼容性表格</a>以得到在不同浏览器中适合使用的前缀。由于该功能对应的标准文档可能被重新修订，所以在未来版本的浏览器中该功能的语法和行为可能随之改变。</p></div>\n<p><a href=\"/zh-CN/docs/Web/API/Element/animate\"><code>Element.animate()</code></a>, <a href=\"/zh-CN/docs/Web/API/KeyframeEffect/KeyframeEffect\"><code>KeyframeEffect.KeyframeEffect()</code></a>, 和 <a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/KeyframeEffect/setKeyframes\"><code>KeyframeEffect.setKeyframes()</code> <small>(en-US)</small></a> 都接受格式为一组关键帧的对象， 这种格式有以下几种选项。</p>"}},{"type":"prose","value":{"id":"语法","title":"语法","isH3":false,"content":"<p>关键帧格式有两种不同的方式：</p>\n<ol>\n  <li>\n    一个由多个关键帧的属性和值组成的对象所构成的<code>数组</code>。这是<a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/KeyframeEffect/getKeyframes\"><code>getKeyframes()</code> <small>(en-US)</small></a>方法返回的规范格式。\n    <div class=\"code-example\"><pre class=\"brush: js notranslate\"><code>element<span class=\"token punctuation\">.</span><span class=\"token function\">animate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>\n  <span class=\"token punctuation\">{</span> <span class=\"token comment\">// from</span>\n    <span class=\"token literal-property property\">opacity</span><span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">color</span><span class=\"token operator\">:</span> <span class=\"token string\">\"#fff\"</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span> <span class=\"token comment\">// to</span>\n    <span class=\"token literal-property property\">opacity</span><span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">color</span><span class=\"token operator\">:</span> <span class=\"token string\">\"#000\"</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>对每个关键帧的偏移可以通过提供一个<code>offset</code>来指定。\n    <div class=\"code-example\"><pre class=\"brush: js notranslate\"><code>element<span class=\"token punctuation\">.</span><span class=\"token function\">animate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">opacity</span><span class=\"token operator\">:</span> <span class=\"token number\">1</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n                  <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">opacity</span><span class=\"token operator\">:</span> <span class=\"token number\">0.1</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">offset</span><span class=\"token operator\">:</span> <span class=\"token number\">0.7</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n                  <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">opacity</span><span class=\"token operator\">:</span> <span class=\"token number\">0</span> <span class=\"token punctuation\">}</span> <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n                <span class=\"token number\">2000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n    <div class=\"notecard note\" id=\"sect2\">\n      <p><strong>备注：</strong> <code>offset</code> 的值必须是在 <strong>[0.0, 1.0]</strong> 这个区间内，且须升序排列。</p>\n    </div>并非所有的关键帧都需要设置 <code>offset</code>。没有指定 <code>offset</code> 的关键帧将与相邻的关键帧均匀间隔。\n    可以通过提供<code>easing</code>过渡来给指定关键帧之间应用过渡效果，如下所示：\n    <div class=\"code-example\"><pre class=\"brush: js notranslate\"><code>element<span class=\"token punctuation\">.</span><span class=\"token function\">animate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">opacity</span><span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">easing</span><span class=\"token operator\">:</span> <span class=\"token string\">'ease-out'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n                  <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">opacity</span><span class=\"token operator\">:</span> <span class=\"token number\">0.1</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">easing</span><span class=\"token operator\">:</span> <span class=\"token string\">'ease-in'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n                  <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">opacity</span><span class=\"token operator\">:</span> <span class=\"token number\">0</span> <span class=\"token punctuation\">}</span> <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n                <span class=\"token number\">2000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>在这个例子中，指定的 easing 仅适用于指定它的关键帧到下一帧之间。 但是在<code>options</code>中指定的 <code>easing</code> 值都将应用在一个动画的整个持续时间里。\n  </li>\n  <li>\n    一个包含 key-value 键值的<code>对象</code>需要包含动画的属性和要循环变化的值<code>数组</code>。\n    <div class=\"code-example\"><pre class=\"brush: js notranslate\"><code>element<span class=\"token punctuation\">.</span><span class=\"token function\">animate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">opacity</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span> <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>          <span class=\"token comment\">// [ from, to ]</span>\n  <span class=\"token literal-property property\">color</span><span class=\"token operator\">:</span>   <span class=\"token punctuation\">[</span> <span class=\"token string\">\"#fff\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"#000\"</span> <span class=\"token punctuation\">]</span> <span class=\"token comment\">// [ from, to ]</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>使用这种格式，每个数组的元素数量不必相等。所提供的值将独立分开。\n    <div class=\"code-example\"><pre class=\"brush: js notranslate\"><code>element<span class=\"token punctuation\">.</span><span class=\"token function\">animate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">opacity</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span> <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// offset: 0, 1</span>\n  <span class=\"token literal-property property\">backgroundColor</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span> <span class=\"token string\">\"red\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"yellow\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"green\"</span> <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// offset: 0, 0.5, 1</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>特殊键<code>offset</code>，<code>easing</code>和<code>composite</code>（如下）可以与属性值一起指定。\n    <div class=\"code-example\"><pre class=\"brush: js notranslate\"><code>element<span class=\"token punctuation\">.</span><span class=\"token function\">animate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">opacity</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0.9</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span> <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">offset</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0.8</span> <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// [ 0, 0.8, 1 ] 的简写</span>\n  <span class=\"token literal-property property\">easing</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span> <span class=\"token string\">'ease-in'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'ease-out'</span> <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>从属性值列表生成一组合适的关键帧后，每个提供的偏移量将应用于相应的关键帧。如果值不足或者列表包含空值<code>null</code>，则以没有指定处理（即和上面第 1 种数组格式的一样均匀间隔）.\n    如果<code>easing</code> 或<code>composite</code> 值太少，将根据需要，重复相应的列表。\n  </li>\n</ol>"}},{"type":"prose","value":{"id":"属性","title":"属性","isH3":false,"content":"<p>关键帧可以为任何的 css 动画属性指定 property-value 。 使用 camel-case 的属性名将变为 camelCase 格式，例如 <a href=\"/zh-CN/docs/Web/CSS/background-color\"><code>background-color</code></a> 变成 <code>backgroundColor</code> ，再如 <a href=\"/zh-CN/docs/Web/CSS/background-position-x\"><code>background-position-x</code></a> 变成 <code>backgroundPositionX</code>.。速记词，例如 <a href=\"/zh-CN/docs/Web/CSS/margin\"><code>margin</code></a> 也是可以用的。.</p>\n<p>两个特色的 css 属性：</p>\n<ul>\n  <li><a href=\"/zh-CN/docs/Web/CSS/float\"><code>float</code></a>, 必须写成 <code>cssFloat</code> ，因为\"float\" 是 JavaScript 的保留关键字</li>\n  <li><a href=\"/zh-CN/docs/Web/CSS/offset\"><code>offset</code></a>, 必须写成 <code>cssOffset</code> ，因为\"offset\" 表示如下的关键帧 offset</li>\n</ul>\n<p>还可以指定以下特色属性：</p>\n<dl>\n  <dt id=\"offset\">offset</dt>\n  <dd>\n    <p>关键帧的 offset 偏移量指定为介于<code>0.0</code>和<code>1.0</code>之间的数字或为<code>null</code>。 这相当于使用<code>@keyframes</code>在 CSS 样式表中以百分比指定开始和结束状态。 如果此值为<code>null</code>或缺失，则关键帧将在相邻关键帧之间均匀分布。</p>\n  </dd>\n  <dt id=\"easing\">easing</dt>\n  <dd>\n    <p>从这个关键帧直到这一级中的下一个关键帧所使用的 <a href=\"/en-US/docs/Web/CSS/easing-function\" class=\"only-in-en-us\" title=\"Currently only available in English (US)\">timing function (en-US)</a></p>\n  </dd>\n  <dt id=\"composite\">composite</dt>\n  <dd>\n    <p><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/KeyframeEffect/composite\"><code>KeyframeEffect.composite</code> <small>(en-US)</small></a> 操作用于将此关键帧中指定的值与基础值组合在一起。 如果正在使用在效果上指定的复合操作，则不会出现这种情况。</p>\n  </dd>\n</dl>"}},{"type":"specifications","value":{"title":"规范","id":"规范","isH3":false,"specifications":[{"bcdSpecificationURL":"https://drafts.csswg.org/web-animations-1/#dom-animatable-animate","title":"Web Animations"}],"query":"api.Element.animate"}},{"type":"browser_compatibility","value":{"title":"浏览器兼容性","id":"浏览器兼容性","isH3":false,"query":"api.Element.animate","dataURL":"/zh-CN/docs/Web/API/Web_Animations_API/Keyframe_Formats/bcd.json"}},{"type":"prose","value":{"id":"相关推荐","title":"相关推荐","isH3":false,"content":"<ul>\n  <li><a href=\"/zh-CN/docs/Web/API/Web_Animations_API\">Web Animations API</a></li>\n  <li><a href=\"/zh-CN/docs/Web/API/Element/animate\"><code>Element.animate()</code></a></li>\n  <li><a href=\"/zh-CN/docs/Web/API/KeyframeEffect/KeyframeEffect\"><code>KeyframeEffect.KeyframeEffect()</code></a></li>\n  <li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/KeyframeEffect/setKeyframes\"><code>KeyframeEffect.setKeyframes()</code> <small>(en-US)</small></a></li>\n</ul>"}}],"toc":[{"text":"语法","id":"语法"},{"text":"属性","id":"属性"},{"text":"规范","id":"规范"},{"text":"浏览器兼容性","id":"浏览器兼容性"},{"text":"相关推荐","id":"相关推荐"}],"summary":"Element.animate(), KeyframeEffect.KeyframeEffect(), 和 KeyframeEffect.setKeyframes() (en-US) 都接受格式为一组关键帧的对象， 这种格式有以下几种选项。","popularity":0,"modified":"2022-10-01T03:41:16.000Z","other_translations":[{"title":"Keyframe Formats","locale":"en-US","native":"English (US)"}],"source":{"folder":"zh-cn/web/api/web_animations_api/keyframe_formats","github_url":"https://github.com/mdn/translated-content/blob/main/files/zh-cn/web/api/web_animations_api/keyframe_formats/index.md","last_commit_url":"https://github.com/mdn/translated-content/commit/921c46a374ab0a9f4cc809af0370f8c412e54701","filename":"index.md"},"parents":[{"uri":"/zh-CN/docs/Web","title":"Web 开发技术"},{"uri":"/zh-CN/docs/Web/API","title":"Web API 接口参考"},{"uri":"/zh-CN/docs/Web/API/Web_Animations_API","title":"Web Animations API"},{"uri":"/zh-CN/docs/Web/API/Web_Animations_API/Keyframe_Formats","title":"关键帧 (Keyframe) 格式"}],"pageTitle":"关键帧 (Keyframe) 格式 - Web API 接口参考 | MDN","noIndexing":false}}