{"doc":{"isMarkdown":true,"isTranslated":true,"isActive":true,"flaws":{},"title":"XMLSerializer","mdn_url":"/zh-CN/docs/Web/API/XMLSerializer","locale":"zh-CN","native":"中文 (简体)","sidebarHTML":"<ol><li><strong><a href=\"/zh-CN/docs/Web/API/XMLSerializer\"><code>XMLSerializer</code></a></strong></li></ol>","body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<p></p><code>XMLSerializer</code>接口提供<a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/XMLSerializer/serializeToString\"><code>serializeToString()</code> <small>(en-US)</small></a> 方法来构建一个代表 <a href=\"/zh-CN/docs/Glossary/DOM\">DOM</a> 树的 XML 字符串。<p></p>"}},{"type":"prose","value":{"id":"方法","title":"方法","isH3":false,"content":"<dl>\n  <dt id=\"serializetostring_en-us\"><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/XMLSerializer/serializeToString\"><code>serializeToString()</code> <small>(en-US)</small></a></dt>\n  <dd>\n    <p>返回 DOM 子树序列化后的字符串。</p>\n  </dd>\n  <dt id=\"serializetostream\"><a class=\"page-not-created\" title=\"此文档尚未被撰写，期待你的贡献!\"><code>serializeToStream()</code></a> <svg class=\"icon icon-nonstandard\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-nonstandard\"></use>\n</svg><svg class=\"icon icon-deprecated\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-deprecated\"></use>\n</svg></dt>\n  <dd>\n    <p>将指定元素的每个子树按照特定的字符集序列化成字节流。</p>\n  </dd>\n</dl>"}},{"type":"prose","value":{"id":"示例","title":"示例","isH3":false,"content":""}},{"type":"prose","value":{"id":"把_xml_序列化为字符串","title":"把 XML 序列化为字符串","isH3":true,"content":"<p>首先，最基本的例子是将整个 document 对象序列化为一个 XML 字符串。</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code> <span class=\"token keyword\">var</span> s <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">XMLSerializer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n <span class=\"token keyword\">var</span> d <span class=\"token operator\">=</span> document<span class=\"token punctuation\">;</span>\n <span class=\"token keyword\">var</span> str <span class=\"token operator\">=</span> s<span class=\"token punctuation\">.</span><span class=\"token function\">serializeToString</span><span class=\"token punctuation\">(</span>d<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n <span class=\"token function\">saveXML</span><span class=\"token punctuation\">(</span>str<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<p>这里新建了一个 <code>XMLSerializer</code> 对象实例，然后将待序列化的 <a href=\"/zh-CN/docs/Web/API/Document\"><code>Document</code></a> 对象实例传入返回等价 XML 的 <a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/XMLSerializer/serializeToString\"><code>serializeToString()</code> <small>(en-US)</small></a> 方法。</p>"}},{"type":"prose","value":{"id":"向一个基于_xml_的_dom_对象中","title":"向一个基于 XML 的 DOM 对象中","isH3":true,"content":"<p>本例使用 {domxref(\"Element.insertAdjacentHTML()\")}} 方法将一个新的 DOM <a href=\"/zh-CN/docs/Web/API/Node\"><code>Node</code></a> 插入 基于序列化 <a href=\"/zh-CN/docs/Web/API/Document\"><code>Document</code></a> 对象创建的 XML 中。</p>\n<div class=\"notecard note\" id=\"sect1\">\n  <p><strong>备注：</strong> 在真实场景下，你通常应该通过调用 <a href=\"/zh-CN/docs/Web/API/Document/importNode\" title=\"importNode()\"><code>importNode()</code></a> 方法将新节点加入 DOM 中，然后通过调用以下方法将目标节点添加到 DOM 树：</p>\n  <ul>\n    <li><a href=\"/zh-CN/docs/Web/API/Document\"><code>Document</code></a> 和 <a href=\"/zh-CN/docs/Web/API/Element\"><code>Element</code></a> 方法 <a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/Element/append\"><code>append()</code> <small>(en-US)</small></a> 和 <a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/Element/prepend\"><code>prepend()</code> <small>(en-US)</small></a></li>\n    <li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/Element/replaceWith\"><code>Node.replaceWith()</code> <small>(en-US)</small></a> 方法 (替换现有节点)</li>\n    <li><a class=\"page-not-created\" title=\"此文档尚未被撰写，期待你的贡献!\"><code>Document.insertAdjacentElement()</code></a> 和 <a href=\"/zh-CN/docs/Web/API/Element/insertAdjacentElement\"><code>Element.insertAdjacentElement()</code></a> 方法。</li>\n  </ul>\n</div>\n<p>因为<code>insertAdjacentHTML()</code> 的第二个参数是一个字符串而不是 <code>Node</code> 节点对象，所以这里先要使用 <code>XMLSerializer</code> 将节点转换为字符串。</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">var</span> inp <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">createElement</span><span class=\"token punctuation\">(</span><span class=\"token string\">'input'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> <span class=\"token constant\">XMLS</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">XMLSerializer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> inp_xmls <span class=\"token operator\">=</span> <span class=\"token constant\">XMLS</span><span class=\"token punctuation\">.</span><span class=\"token function\">serializeToString</span><span class=\"token punctuation\">(</span>inp<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 先将一个 DOM 节点转换为字符串。</span>\n\n<span class=\"token comment\">// 将新建的节点添加到 DOM 中。</span>\ndocument<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">insertAdjacentHTML</span><span class=\"token punctuation\">(</span><span class=\"token string\">'afterbegin'</span><span class=\"token punctuation\">,</span> inp_xmls<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<p>以上代码通过调用 <a href=\"/zh-CN/docs/Web/API/Document/createElement\"><code>Document.createElement()</code></a> 方法新建一个 {HTMLElement(\"input\")}} 对象 , 然后通过 <a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/XMLSerializer/serializeToString\"><code>serializeToString()</code> <small>(en-US)</small></a> 方法将该对象序列化为 XML.</p>\n<p>做完以上工作之后，使用 <code>insertAdjacentHTML()</code> 方法将 <code>&lt;input&gt;</code> 元素加入 DOM.</p>"}},{"type":"specifications","value":{"title":"规范","id":"规范","isH3":false,"specifications":[{"bcdSpecificationURL":"https://w3c.github.io/DOM-Parsing/#the-xmlserializer-interface","title":"DOM Parsing and Serialization"}],"query":"api.XMLSerializer"}},{"type":"browser_compatibility","value":{"title":"浏览器兼容性","id":"浏览器兼容性","isH3":false,"query":"api.XMLSerializer","dataURL":"/zh-CN/docs/Web/API/XMLSerializer/bcd.json"}},{"type":"prose","value":{"id":"参见","title":"参见","isH3":false,"content":"<ul>\n  <li><a href=\"/zh-CN/Parsing_and_serializing_XML\" class=\"page-not-created\" title=\"This is a link to an unwritten page\">Parsing and serializing XML</a></li>\n  <li><a href=\"/zh-CN/docs/Web/API/XMLHttpRequest\"><code>XMLHttpRequest</code></a></li>\n  <li><a href=\"/zh-CN/docs/Web/API/DOMParser\"><code>DOMParser</code></a></li>\n</ul>"}}],"toc":[{"text":"方法","id":"方法"},{"text":"示例","id":"示例"},{"text":"规范","id":"规范"},{"text":"浏览器兼容性","id":"浏览器兼容性"},{"text":"参见","id":"参见"}],"summary":"返回 DOM 子树序列化后的字符串。","popularity":0,"modified":"2022-10-01T03:41:16.000Z","other_translations":[{"title":"XMLSerializer","locale":"en-US","native":"English (US)"},{"title":"XMLSerializer","locale":"fr","native":"Français"},{"title":"XMLSerializer","locale":"ja","native":"日本語"},{"title":"XMLSerializer","locale":"ru","native":"Русский"}],"source":{"folder":"zh-cn/web/api/xmlserializer","github_url":"https://github.com/mdn/translated-content/blob/main/files/zh-cn/web/api/xmlserializer/index.md","last_commit_url":"https://github.com/mdn/translated-content/commit/921c46a374ab0a9f4cc809af0370f8c412e54701","filename":"index.md"},"parents":[{"uri":"/zh-CN/docs/Web","title":"Web 开发技术"},{"uri":"/zh-CN/docs/Web/API","title":"Web API 接口参考"},{"uri":"/zh-CN/docs/Web/API/XMLSerializer","title":"XMLSerializer"}],"pageTitle":"XMLSerializer - Web API 接口参考 | MDN","noIndexing":false}}