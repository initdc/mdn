{"doc":{"isMarkdown":true,"isTranslated":true,"isActive":true,"flaws":{},"title":"全屏指南","mdn_url":"/zh-CN/docs/Web/API/Fullscreen_API/Guide","locale":"zh-CN","native":"中文 (简体)","sidebarHTML":"<ol><li><strong><a href=\"/zh-CN/docs/Web/API/Fullscreen_API\">Fullscreen API</a></strong></li><li class=\"toggle\"><details open=\"\"><summary>指南</summary><ol><li><a href=\"/zh-CN/docs/Web/API/Fullscreen_API/Guide\">Guide to the Fullscreen API</a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>属性</summary><ol><li><a href=\"/zh-CN/docs/Web/API/Document/fullscreen\"><code>Document.fullscreen</code></a></li><li><a href=\"/zh-CN/docs/Web/API/Document/fullscreenElement\"><code>Document.fullscreenElement</code></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>方法</summary><ol><li><a href=\"/zh-CN/docs/Web/API/Document/exitFullscreen\"><code>Document.exitFullscreen()</code></a></li><li><a href=\"/zh-CN/docs/Web/API/Element/requestFullscreen\"><code>Element.requestFullscreen()</code></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>事件</summary><ol><li><a href=\"/zh-CN/docs/Web/API/Document/fullscreenchange_event\"><code>Document</code>: <code>fullscreenchange</code></a></li><li><a href=\"/zh-CN/docs/Web/API/Document/fullscreenerror_event\"><code>Document</code>: <code>fullscreenerror</code></a></li><li><a href=\"/zh-CN/docs/Web/API/Element/fullscreenchange_event\"><code>Element</code>: <code>fullscreenchange</code></a></li><li><a href=\"/zh-CN/docs/Web/API/Element/fullscreenerror_event\"><code>Element</code>: <code>fullscreenerror</code></a></li></ol></details></li></ol>","body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<p>本文主要说明如何使用全屏 API 将给定元素设置为全屏模式，以及如何检测浏览器何时进入或退出全屏模式。</p>"}},{"type":"prose","value":{"id":"激活全屏模式","title":"激活全屏模式","isH3":false,"content":"<p>对于一个你想要以全屏模式展示的元素（例如 <a href=\"/zh-CN/docs/Web/HTML/Element/video\"><code>&lt;video&gt;</code></a>），你通过调用它的 <a href=\"/zh-CN/docs/Web/API/Element/requestFullScreen\"><code>Element.requestFullscreen()</code></a> 方法就能简单地激活它的全屏模式。</p>\n<p>我们来看看 <a href=\"/zh-CN/docs/Web/HTML/Element/video\"><code>&lt;video&gt;</code></a> 这个元素：</p>\n<div class=\"code-example\"><pre class=\"brush: html notranslate\"><code><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>video</span> <span class=\"token attr-name\">controls</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>myvideo<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>source</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>somevideo.webm<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>source</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>source</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>somevideo.mp4<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>source</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>video</span><span class=\"token punctuation\">&gt;</span></span>\n</code></pre></div>\n<p>我们可以用下面的代码让视频进入全屏模式：</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">var</span> elem <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"myvideo\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>elem<span class=\"token punctuation\">.</span>requestFullscreen<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  elem<span class=\"token punctuation\">.</span><span class=\"token function\">requestFullscreen</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>这段代码会在调用 <code>requestFullscreen()</code> 方法之前先检验它是否存在。</p>"}},{"type":"prose","value":{"id":"显示差异","title":"显示差异","isH3":true,"content":"<p>值得留意的是，目前 Gecko 和 WebKit 的实现之间的关键差异：Gecko 自动为元素添加了 CSS 规则，使其拉伸以填满屏幕： \"<code>width: 100%; height: 100%</code>\"。WebKit 没有这样做，相反地，它将全屏元素居中，不改变大小，而屏幕的其他部分为黑色。为了在 Webkit 中获得相同的全屏行为，你需要自行为元素添加 CSS \"<code>width: 100%; height: 100%;</code>\"：</p>\n<div class=\"code-example\"><pre class=\"brush: css notranslate\"><code><span class=\"token selector\">#myvideo:-webkit-full-screen</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">width</span><span class=\"token punctuation\">:</span> 100%<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">height</span><span class=\"token punctuation\">:</span> 100%<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>另一方面，如果你尝试在在 Gecko 上模拟 WebKit 的行为，你需要把你想要呈现的元素放在另一个实际调整为全屏幕的元素中，并使用 CSS 规则调整内部的元素，从而达到你想要的样式。</p>"}},{"type":"prose","value":{"id":"通知","title":"通知","isH3":true,"content":"<p>当成功进入全屏模式时，包含该元素的文档会收到一个 <code><a href=\"/en-US/docs/Web/API/Document/fullscreenchange_event\" title=\"Currently only available in English (US)\" class=\"only-in-en-us\">fullscreenchange (en-US)</a></code> 事件。当退出全屏模式时，文档会再一次收到 <code><a href=\"/en-US/docs/Web/API/Document/fullscreenchange_event\" title=\"Currently only available in English (US)\" class=\"only-in-en-us\">fullscreenchange (en-US)</a></code> 事件。注意此 <code><a href=\"/en-US/docs/Web/API/Document/fullscreenchange_event\" title=\"Currently only available in English (US)\" class=\"only-in-en-us\">fullscreenchange (en-US)</a></code> 事件，不管在文档进入和退出全屏模式时，都不会提供任何信息，但如果文档的 <a href=\"/zh-CN/docs/Web/API/Document/fullscreenElement\" title=\"fullscreenElement\"><code>fullscreenElement</code></a> 为非空（<code>null</code>），即处于全屏模式中。</p>"}},{"type":"prose","value":{"id":"当全屏请求失败时","title":"当全屏请求失败时","isH3":true,"content":"<p>你并不总是可以进入全屏模式。例如 <a href=\"/zh-CN/docs/Web/HTML/Element/iframe\"><code>&lt;iframe&gt;</code></a> 元素具有 <a href=\"/zh-CN/docs/Web/HTML/Element/iframe#attr-allowfullscreen\"><code>allowfullscreen</code></a> 属性，可选择是否将其内容以全屏模式显示。另外，几种特定的内容，比如窗体插件（windowed plug-ins），不能以全屏模式显示。尝试将不能以全屏模式显示的元素（或者此元素的父元素和后代元素）的时候，全屏请求是无效的。而相应元素会收到一个 <code>mozfullscreenerror</code> 事件。当全屏请求失败时，Firefox 会在 Web 控制台上打一条错误信息解释请求为什么失败。但是在 Chrome 和新版的 Opera 中，不会生成这样的警告。</p>\n<div class=\"notecard note\" id=\"sect1\">\n  <p><strong>备注：</strong> 全屏请求必须在事件处理函数中调用，否则将会被拒绝。</p>\n</div>"}},{"type":"prose","value":{"id":"退出全屏模式","title":"退出全屏模式","isH3":false,"content":"<p>用户总是可以自行退出全屏模式；详见 <a href=\"#things_your_users_want_to_know\">Things your users want to know</a>。你也可以以编程方式通过调用 <a href=\"/zh-CN/docs/Web/API/Document/exitFullscreen\"><code>Document.exitFullscreen()</code></a> 方法来做到这点。</p>"}},{"type":"prose","value":{"id":"其他信息","title":"其他信息","isH3":false,"content":"<p><a href=\"/zh-CN/docs/Web/API/Document\"><code>Document</code></a> 提供了一些额外的信息，在开发全屏网络应用时会很有用：</p>\n<dl>\n  <dt id=\"documentorshadowroot.fullscreenelement\"><a href=\"/zh-CN/docs/Web/API/Document/fullscreenElement\"><code>DocumentOrShadowRoot.fullscreenElement</code></a></dt>\n  <dd>\n    <p><code>fullscreenElement</code> 属性可以告诉你当前以全屏模式显示的元素 <a href=\"/zh-CN/docs/Web/API/Element\"><code>Element</code></a> 。若此项非空，文档处于全屏模式中，否则不在。</p>\n  </dd>\n  <dt id=\"document.fullscreenenabled\"><a href=\"/zh-CN/docs/Web/API/Document/fullscreenEnabled\"><code>Document.fullscreenEnabled</code></a></dt>\n  <dd>\n    <p><code>fullscreenEnabled</code> 属性可以告诉你文档当前是否为允许请求进入全屏幕模式的状态。</p>\n  </dd>\n</dl>"}},{"type":"prose","value":{"id":"你的用户想了解的信息","title":"你的用户想了解的信息","isH3":false,"content":"<p>你可能想确保使你的用户得知他可以按 <kbd>ESC</kbd> 键 (或 <kbd>F11</kbd>) 退出全屏模式。</p>\n<p>此外，当处在全屏模式中，浏览其他页面、切换标签页、或者切换到其他应用 (例如使用 <kbd>Alt</kbd>-<kbd>Tab</kbd>) 也会导致退出全屏模式。</p>"}},{"type":"prose","value":{"id":"示例","title":"示例","isH3":false,"content":"<p>在这个例子中，网页中显示了一个视频。按下 <kbd>Return</kbd> 或 <kbd>Enter</kbd> 键让用户在视频的窗口显示和全屏显示之间切换。</p>\n<p><a href=\"https://media.prod.mdn.mozit.cloud/samples/domref/fullscreen.html\" class=\"external\" rel=\" noopener\">View Live Examples</a></p>"}},{"type":"prose","value":{"id":"监听_enter_键","title":"监听 <kbd>Enter</kbd> 键","isH3":true,"content":"<p>当页面加载完成时，这段代码可以设置一个事件监听器以监听 <kbd>Enter</kbd> 键。</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code>document<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"keydown\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">e</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">.</span>keyCode <span class=\"token operator\">==</span> <span class=\"token number\">13</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">toggleFullScreen</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>","titleAsText":"监听 Enter 键"}},{"type":"prose","value":{"id":"切换全屏模式","title":"切换全屏模式","isH3":true,"content":"<p>当用户按下 <kbd>Enter</kbd> 键时，这段代码会被调用，像上面示例看到的那样。</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">function</span> <span class=\"token function\">toggleFullScreen</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>document<span class=\"token punctuation\">.</span>fullscreenElement<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    document<span class=\"token punctuation\">.</span>documentElement<span class=\"token punctuation\">.</span><span class=\"token function\">requestFullscreen</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>document<span class=\"token punctuation\">.</span>exitFullscreen<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      document<span class=\"token punctuation\">.</span><span class=\"token function\">exitFullscreen</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>这段代码首先检查 <a href=\"/zh-CN/docs/Web/API/Document\"><code>document</code></a> 的<code>fullscreenElement</code> 属性的值（亦要检查带有前缀 <code>moz</code>、<code>ms</code>、<code>webkit</code>）。如果其为 <code>null</code>，文档当前处于窗口模式中，所以我们需要切换到全屏模式。通过调用<a href=\"/zh-CN/docs/Web/API/Element/requestFullScreen\"><code>element.requestFullscreen()</code></a>，可以切换到全屏模式。</p>\n<p>如果全屏模式已经激活 (<code>fullscreenElement</code> 不为 <code>null</code>)，我们可以调用 <a href=\"/zh-CN/docs/Web/API/Document/exitFullscreen\"><code>document.exitFullscreen()</code></a>（或其前缀化的版本，这取决于你使用的浏览器）。</p>"}},{"type":"prose","value":{"id":"前缀","title":"前缀","isH3":false,"content":"<div class=\"notecard note\" id=\"sect2\">\n  <p><strong>备注：</strong> 现在，只有 Firefox 64 和 Chrome 71 支持无前缀。</p>\n</div>\n<p>目前并不是所有的浏览器都实现了 API 的无前缀版本（你可以使用 <a href=\"https://github.com/rafrex/fscreen\" class=\"external\" rel=\" noopener\">Fscreen</a> 获取跨浏览器全屏 API），这里有一份表格总结了前缀和它们之间的命名区别：</p>\n<table>\n  <thead>\n    <tr>\n      <th>Standard</th>\n      <th>WebKit (Safari) / Blink (Chrome &amp; Opera) / Edge</th>\n      <th>Gecko (Firefox)</th>\n      <th>Internet Explorer</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <td><a href=\"/zh-CN/docs/Web/API/Document/fullscreen\"><code>Document.fullscreen</code></a> <svg class=\"icon icon-deprecated\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-deprecated\"></use>\n</svg></td>\n      <td><code>webkitIsFullScreen</code></td>\n      <td><code>mozFullScreen</code></td>\n      <td>-</td>\n    </tr>\n    <tr>\n      <td><a href=\"/zh-CN/docs/Web/API/Document/fullscreenEnabled\"><code>Document.fullscreenEnabled</code></a></td>\n      <td><code>webkitFullscreenEnabled</code></td>\n      <td><code>mozFullScreenEnabled</code></td>\n      <td><code>msFullscreenEnabled</code></td>\n    </tr>\n    <tr>\n      <td><a href=\"/zh-CN/docs/Web/API/Document/fullscreenElement\"><code>DocumentOrShadowRoot.fullscreenElement</code></a></td>\n      <td><code>webkitFullscreenElement</code></td>\n      <td><code>mozFullScreenElement</code></td>\n      <td><code>msFullscreenElement</code></td>\n    </tr>\n    <tr>\n      <td><a href=\"/zh-CN/docs/Web/API/Document/fullscreenchange_event\"><code>Document.onfullscreenchange</code></a></td>\n      <td><code>onwebkitfullscreenchange</code></td>\n      <td><code>onmozfullscreenchange</code></td>\n      <td><code>onMSFullscreenChange</code></td>\n    </tr>\n    <tr>\n      <td><a href=\"/zh-CN/docs/Web/API/Document/fullscreenerror_event\"><code>Document.onfullscreenerror</code></a></td>\n      <td><code>onwebkitfullscreenerror</code></td>\n      <td><code>onmozfullscreenerror</code></td>\n      <td><code>onMSFullscreenError</code></td>\n    </tr>\n    <tr>\n      <td><a href=\"/zh-CN/docs/Web/API/Document/exitFullscreen\"><code>Document.exitFullscreen()</code></a></td>\n      <td><code>webkitExitFullscreen()</code></td>\n      <td><code>mozCancelFullScreen()</code></td>\n      <td><code>msExitFullscreen()</code></td>\n    </tr>\n    <tr>\n      <td><a href=\"/zh-CN/docs/Web/API/Element/requestFullScreen\"><code>Element.requestFullscreen()</code></a></td>\n      <td><code>webkitRequestFullscreen()</code></td>\n      <td><code>mozRequestFullScreen()</code></td>\n      <td><code>msRequestFullscreen()</code></td>\n    </tr>\n  </tbody>\n</table>"}},{"type":"specifications","value":{"title":"规范","id":"规范","isH3":false,"query":"api.Document.fullscreen,api.Document.fullscreenEnabled","specifications":[]}},{"type":"browser_compatibility","value":{"title":"浏览器兼容性","id":"浏览器兼容性","isH3":false,"data":null,"query":"api.Document.fullscreen,api.Document.fullscreenEnabled","browsers":null}},{"type":"prose","value":{"id":"扩展链接","title":"扩展链接","isH3":false,"content":"<ul>\n  <li><a href=\"/zh-CN/docs/Web/API/Fullscreen_API\">全屏 API</a></li>\n  <li><a href=\"/zh-CN/docs/Web/API/Element/requestFullScreen\"><code>Element.requestFullscreen()</code></a></li>\n  <li><a href=\"/zh-CN/docs/Web/API/Document/exitFullscreen\"><code>Document.exitFullscreen()</code></a></li>\n  <li><a href=\"/zh-CN/docs/Web/API/Document/fullscreen\"><code>Document.fullscreen</code></a></li>\n  <li><a href=\"/zh-CN/docs/Web/API/Document/fullscreenElement\"><code>Document.fullscreenElement</code></a></li>\n  <li><a href=\"/zh-CN/docs/Web/CSS/:fullscreen\"><code>:fullscreen</code></a>, <a href=\"/zh-CN/docs/Web/CSS/::backdrop\"><code>::backdrop</code></a></li>\n  <li><a href=\"/zh-CN/docs/Web/HTML/Element/iframe#attr-allowfullscreen\"><code>allowfullscreen</code></a></li>\n</ul>"}}],"toc":[{"text":"激活全屏模式","id":"激活全屏模式"},{"text":"退出全屏模式","id":"退出全屏模式"},{"text":"其他信息","id":"其他信息"},{"text":"你的用户想了解的信息","id":"你的用户想了解的信息"},{"text":"示例","id":"示例"},{"text":"前缀","id":"前缀"},{"text":"规范","id":"规范"},{"text":"浏览器兼容性","id":"浏览器兼容性"},{"text":"扩展链接","id":"扩展链接"}],"summary":"本文主要说明如何使用全屏 API 将给定元素设置为全屏模式，以及如何检测浏览器何时进入或退出全屏模式。","popularity":0.0002,"modified":"2022-10-01T03:41:16.000Z","other_translations":[{"title":"Guide to the Fullscreen API","locale":"en-US","native":"English (US)"}],"source":{"folder":"zh-cn/web/api/fullscreen_api/guide","github_url":"https://github.com/mdn/translated-content/blob/main/files/zh-cn/web/api/fullscreen_api/guide/index.md","last_commit_url":"https://github.com/mdn/translated-content/commit/921c46a374ab0a9f4cc809af0370f8c412e54701","filename":"index.md"},"parents":[{"uri":"/zh-CN/docs/Web","title":"Web 开发技术"},{"uri":"/zh-CN/docs/Web/API","title":"Web API 接口参考"},{"uri":"/zh-CN/docs/Web/API/Fullscreen_API","title":"全屏 API"},{"uri":"/zh-CN/docs/Web/API/Fullscreen_API/Guide","title":"全屏指南"}],"pageTitle":"全屏指南 - Web API 接口参考 | MDN","noIndexing":false}}