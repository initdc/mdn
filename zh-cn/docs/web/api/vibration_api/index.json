{"doc":{"isMarkdown":true,"isTranslated":true,"isActive":true,"flaws":{},"title":"Vibration API","mdn_url":"/zh-CN/docs/Web/API/Vibration_API","locale":"zh-CN","native":"中文 (简体)","sidebarHTML":"<ol><li><strong><a href=\"/zh-CN/docs/Web/API/Vibration_API\">Vibration API</a></strong></li><li class=\"toggle\"><details open=\"\"><summary>方法</summary><ol><li><a href=\"/zh-CN/docs/Web/API/Navigator/vibrate\"><code>Navigator.vibrate()</code></a></li></ol></details></li></ol>","body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<p>大多数现代移动设备包括振动硬件，其允许软件代码通过使设备摇动来向用户提供物理反馈。Vibration API 为 Web 应用程序提供访问此硬件（如果存在）的功能，如果设备不支持此功能，则不会执行任何操作。</p>"}},{"type":"prose","value":{"id":"振动描述","title":"振动描述","isH3":false,"content":"<p>振动被抽象成【开 - 关】脉冲的模式，且可以具有变化的长度。?参数可以是单个整数，表示持续振动的毫秒数 (ms)；或可由多个整数组成的数组，达到振动和暂停循环的效果。只要单一 <a href=\"/en-US/docs/Web/API/Navigator/vibrate\" class=\"only-in-en-us\" title=\"Currently only available in English (US)\">window.navigator.vibrate() (en-US)</a> 函式即可控制振动。</p>"}},{"type":"prose","value":{"id":"一个单次振动","title":"一个单次振动","isH3":true,"content":"<p>你可以通过指定单个值或仅由一个值组成的数组来一次振荡振动硬件：</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code>window<span class=\"token punctuation\">.</span>navigator<span class=\"token punctuation\">.</span><span class=\"token function\">vibrate</span><span class=\"token punctuation\">(</span><span class=\"token number\">200</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nwindow<span class=\"token punctuation\">.</span>navigator<span class=\"token punctuation\">.</span><span class=\"token function\">vibrate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">200</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<p>以上两个例子都可以使设备振动 200 ms.</p>"}},{"type":"prose","value":{"id":"振动模式","title":"<strong>振动模式</strong>","isH3":true,"content":"<p>一组数值描述了设备振动并且不振动的交替时间段。数组中的每个值都将转换成一个整数，然后交替解释为设备应该振动的毫秒数和不振动的毫秒数。例如：</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code>window<span class=\"token punctuation\">.</span>navigator<span class=\"token punctuation\">.</span><span class=\"token function\">vibrate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">200</span><span class=\"token punctuation\">,</span> <span class=\"token number\">100</span><span class=\"token punctuation\">,</span> <span class=\"token number\">200</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<p>这会使设备振动 200 ms，然后暂停 100 ms，然后再次振动设备 200 ms。</p>\n<p>您可以根据需要设定多个振动/暂停对，数组的值可以是偶数或奇数个；值得注意的是，由于振动在每个振动周期结束时自动停止，因此您不必提供最后一个值去暂停，换句话说，数组长度只需要设置奇数个。</p>","titleAsText":"振动模式"}},{"type":"prose","value":{"id":"停止振动","title":"停止振动","isH3":true,"content":"<p>当调用 <a href=\"/en-US/docs/Web/API/Navigator/vibrate\" class=\"only-in-en-us\" title=\"Currently only available in English (US)\">window.navigator.vibrate() (en-US)</a> 的参数为「0」、空白？数组，或？数组全为「0」时，即可取消目前？进行中的振动。</p>"}},{"type":"prose","value":{"id":"持续振动","title":"持续振动","isH3":true,"content":"<p>一些基于 setInterval 和 clearInterval 操作将允许您创建持续的振动：</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">var</span> vibrateInterval<span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// Starts vibration at passed in level</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">startVibrate</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">duration</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    navigator<span class=\"token punctuation\">.</span><span class=\"token function\">vibrate</span><span class=\"token punctuation\">(</span>duration<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// Stops vibration</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">stopVibrate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// Clear interval and stop persistent vibrating</span>\n    <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>vibrateInterval<span class=\"token punctuation\">)</span> <span class=\"token function\">clearInterval</span><span class=\"token punctuation\">(</span>vibrateInterval<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    navigator<span class=\"token punctuation\">.</span><span class=\"token function\">vibrate</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// Start persistent vibration at given duration and interval</span>\n<span class=\"token comment\">// Assumes a number value is given</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">startPeristentVibrate</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">duration<span class=\"token punctuation\">,</span> interval</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    vibrateInterval <span class=\"token operator\">=</span> <span class=\"token function\">setInterval</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">startVibrate</span><span class=\"token punctuation\">(</span>duration<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> interval<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>当然上面的代码片段没有考虑到振动参数为数组情况; 基于阵列的持久性振动将需要计算数组项的和，并基于该数量创建周期（可能具有额外的延迟）。</p>"}},{"type":"specifications","value":{"title":"规范","id":"规范","isH3":false,"specifications":[{"bcdSpecificationURL":"https://w3c.github.io/vibration/#dom-navigator-vibrate","title":"Vibration API (Second Edition)"}],"query":"api.Navigator.vibrate"}},{"type":"browser_compatibility","value":{"title":"浏览器兼容性","id":"浏览器兼容性","isH3":false,"query":"api.Navigator.vibrate","dataURL":"/zh-CN/docs/Web/API/Vibration_API/bcd.json"}},{"type":"prose","value":{"id":"也可以参考","title":"也可以参考","isH3":false,"content":"<ul>\n  <li><a href=\"/zh-CN/docs/Web/API/Navigator/vibrate\"><code>Navigator.vibrate()</code></a></li>\n</ul>"}}],"toc":[{"text":"振动描述","id":"振动描述"},{"text":"规范","id":"规范"},{"text":"浏览器兼容性","id":"浏览器兼容性"},{"text":"也可以参考","id":"也可以参考"}],"summary":"大多数现代移动设备包括振动硬件，其允许软件代码通过使设备摇动来向用户提供物理反馈。Vibration API 为 Web 应用程序提供访问此硬件（如果存在）的功能，如果设备不支持此功能，则不会执行任何操作。","popularity":0,"modified":"2022-10-01T03:41:16.000Z","other_translations":[{"title":"Vibration API","locale":"en-US","native":"English (US)"},{"title":"Vibración API","locale":"es","native":"Español"},{"title":"API de Vibration","locale":"fr","native":"Français"},{"title":"Vibration API","locale":"ja","native":"日本語"},{"title":"Vibration API","locale":"ko","native":"한국어"},{"title":"Vibration API","locale":"zh-TW","native":"正體中文 (繁體)"}],"source":{"folder":"zh-cn/web/api/vibration_api","github_url":"https://github.com/mdn/translated-content/blob/main/files/zh-cn/web/api/vibration_api/index.md","last_commit_url":"https://github.com/mdn/translated-content/commit/921c46a374ab0a9f4cc809af0370f8c412e54701","filename":"index.md"},"parents":[{"uri":"/zh-CN/docs/Web","title":"Web 开发技术"},{"uri":"/zh-CN/docs/Web/API","title":"Web API 接口参考"},{"uri":"/zh-CN/docs/Web/API/Vibration_API","title":"Vibration API"}],"pageTitle":"Vibration API - Web API 接口参考 | MDN","noIndexing":false}}