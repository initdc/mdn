{"doc":{"isMarkdown":true,"isTranslated":true,"isActive":true,"flaws":{},"title":"Intersection Observer","mdn_url":"/zh-CN/docs/Web/API/IntersectionObserver","locale":"zh-CN","native":"中文 (简体)","sidebarHTML":"<ol><li><strong><a href=\"/zh-CN/docs/Web/API/Intersection_Observer_API\">Intersection Observer API</a></strong></li><li><strong><a href=\"/zh-CN/docs/Web/API/IntersectionObserver\"><code>IntersectionObserver</code></a></strong></li><li class=\"toggle\"><details open=\"\"><summary>构造函数</summary><ol><li><a href=\"/zh-CN/docs/Web/API/IntersectionObserver/IntersectionObserver\"><code>IntersectionObserver()</code></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>属性</summary><ol><li><a href=\"/zh-CN/docs/Web/API/IntersectionObserver/root\"><code>root</code></a></li><li><a href=\"/zh-CN/docs/Web/API/IntersectionObserver/rootMargin\"><code>rootMargin</code></a></li><li><a href=\"/zh-CN/docs/Web/API/IntersectionObserver/thresholds\"><code>thresholds</code></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>方法</summary><ol><li><a href=\"/zh-CN/docs/Web/API/IntersectionObserver/disconnect\"><code>disconnect()</code></a></li><li><a href=\"/zh-CN/docs/Web/API/IntersectionObserver/observe\"><code>observe()</code></a></li><li><a href=\"/zh-CN/docs/Web/API/IntersectionObserver/takeRecords\"><code>takeRecords()</code></a></li><li><a href=\"/zh-CN/docs/Web/API/IntersectionObserver/unobserve\"><code>unobserve()</code></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>Intersection Observer API 的相关页面</summary><ol><li><a href=\"/zh-CN/docs/Web/API/IntersectionObserverEntry\"><code>IntersectionObserverEntry</code></a></li><li><a href=\"/zh-CN/docs/Web/API/indexedDB\"><code>indexedDB</code></a></li></ol></details></li></ol>","body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<p><strong><code>IntersectionObserver</code></strong> 接口 (从属于<a href=\"/zh-CN/docs/Web/API/Intersection_Observer_API\">Intersection Observer API</a>) 提供了一种异步观察目标元素与其祖先元素或顶级文档视窗 (<a href=\"/zh-CN/docs/Glossary/Viewport\">viewport</a>) 交叉状态的方法。祖先元素与视窗 (<a href=\"/zh-CN/docs/Glossary/Viewport\">viewport</a>) 被称为**根 (root)。</p>\n<p>当一个<code>IntersectionObserver</code>对象被创建时，其被配置为监听根中一段给定比例的可见区域。一旦 IntersectionObserver 被创建，则无法更改其配置，所以一个给定的观察者对象只能用来监听可见区域的特定变化值；然而，你可以在同一个观察者对象中配置监听多个目标元素。</p>"}},{"type":"prose","value":{"id":"构造器","title":"构造器","isH3":false,"content":"<dl>\n  <dt id=\"intersectionobserver.intersectionobserver\"><a href=\"/zh-CN/docs/Web/API/IntersectionObserver/IntersectionObserver\"><code>IntersectionObserver.IntersectionObserver()</code></a></dt>\n  <dd>\n    <p>创建一个新的<code>IntersectionObserver</code>对象，当其监听到目标元素的可见部分穿过了一个或多个**阈 (thresholds)**时，会执行指定的回调函数。</p>\n  </dd>\n</dl>"}},{"type":"prose","value":{"id":"属性","title":"属性","isH3":false,"content":"<dl>\n  <dt id=\"intersectionobserver.root\"><a href=\"/zh-CN/docs/Web/API/IntersectionObserver/root\"><code>IntersectionObserver.root</code></a> <span title=\"该属性的值无法更改\" class=\"badge inline readonly\">只读 </span></dt>\n  <dd>\n    <p>所监听对象的具体祖先元素 (<a href=\"/zh-CN/docs/Web/API/Element\"><code>element</code></a>)。如果未传入值或值为<code>null</code>，则默认使用顶级文档的视窗。</p>\n  </dd>\n  <dt id=\"intersectionobserver.rootmargin\"><a href=\"/zh-CN/docs/Web/API/IntersectionObserver/rootMargin\"><code>IntersectionObserver.rootMargin</code></a> <span title=\"该属性的值无法更改\" class=\"badge inline readonly\">只读 </span></dt>\n  <dd>\n    <p>计算交叉时添加到<strong>根 (root)<strong>边界盒<a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Glossary/bounding_box\">bounding box <small>(en-US)</small></a>的矩形偏移量， 可以有效的缩小或扩大根的判定范围从而满足计算需要。此属性返回的值可能与调用构造函数时指定的值不同，因此可能需要更改该值，以匹配内部要求。所有的偏移量均可用</strong>像素 (pixel)</strong>(<code>px</code>) 或<strong>百分比 (percentage)</strong>(<code>%</code>) 来表达，默认值为\"0px 0px 0px 0px\"。</p>\n  </dd>\n  <dt id=\"intersectionobserver.thresholds\"><a href=\"/zh-CN/docs/Web/API/IntersectionObserver/thresholds\"><code>IntersectionObserver.thresholds</code></a> <span title=\"该属性的值无法更改\" class=\"badge inline readonly\">只读 </span></dt>\n  <dd>\n    <p>一个包含阈值的列表，按升序排列，列表中的每个阈值都是监听对象的交叉区域与边界区域的比率。当监听对象的任何阈值被越过时，都会生成一个通知 (Notification)。如果构造器未传入值，则默认值为 0。</p>\n  </dd>\n</dl>"}},{"type":"prose","value":{"id":"方法","title":"方法","isH3":false,"content":"<dl>\n  <dt id=\"intersectionobserver.disconnect\"><a href=\"/zh-CN/docs/Web/API/IntersectionObserver/disconnect\"><code>IntersectionObserver.disconnect()</code></a></dt>\n  <dd>\n    <p>使<code>IntersectionObserver</code>对象停止监听工作。</p>\n  </dd>\n  <dt id=\"intersectionobserver.observe\"><a href=\"/zh-CN/docs/Web/API/IntersectionObserver/observe\"><code>IntersectionObserver.observe()</code></a></dt>\n  <dd>\n    <p>使<code>IntersectionObserver</code>开始监听一个目标元素。</p>\n  </dd>\n  <dt id=\"intersectionobserver.takerecords\"><a href=\"/zh-CN/docs/Web/API/IntersectionObserver/takeRecords\"><code>IntersectionObserver.takeRecords()</code></a></dt>\n  <dd>\n    <p>返回所有观察目标的<a href=\"/zh-CN/docs/Web/API/IntersectionObserverEntry\"><code>IntersectionObserverEntry</code></a>对象数组。</p>\n  </dd>\n  <dt id=\"intersectionobserver.unobserve\"><a href=\"/zh-CN/docs/Web/API/IntersectionObserver/unobserve\"><code>IntersectionObserver.unobserve()</code></a></dt>\n  <dd>\n    <p>使<code>IntersectionObserver</code>停止监听特定目标元素。</p>\n  </dd>\n</dl>"}},{"type":"prose","value":{"id":"示例","title":"示例","isH3":false,"content":"<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">var</span> intersectionObserver <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">IntersectionObserver</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">entries</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// If intersectionRatio is 0, the target is out of view</span>\n  <span class=\"token comment\">// and we do not need to do anything.</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>entries<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>intersectionRatio <span class=\"token operator\">&lt;=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token function\">loadItems</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Loaded new items'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// start observing</span>\nintersectionObserver<span class=\"token punctuation\">.</span><span class=\"token function\">observe</span><span class=\"token punctuation\">(</span>document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.scrollerFooter'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>"}},{"type":"specifications","value":{"title":"规范","id":"规范","isH3":false,"specifications":[{"bcdSpecificationURL":"https://w3c.github.io/IntersectionObserver/#intersection-observer-interface","title":"Intersection Observer"}],"query":"api.IntersectionObserver"}},{"type":"browser_compatibility","value":{"title":"浏览器兼容","id":"浏览器兼容","isH3":false,"query":"api.IntersectionObserver","dataURL":"/zh-CN/docs/Web/API/IntersectionObserver/bcd.json"}},{"type":"prose","value":{"id":"参考","title":"参考","isH3":false,"content":"<ul>\n  <li><a href=\"/zh-CN/docs/Web/API/MutationObserver\"><code>MutationObserver</code></a></li>\n  <li><a href=\"/zh-CN/docs/Web/API/PerformanceObserver\"><code>PerformanceObserver</code></a></li>\n  <li><a href=\"/zh-CN/docs/Web/API/ResizeObserver\"><code>ResizeObserver</code></a></li>\n</ul>"}}],"toc":[{"text":"构造器","id":"构造器"},{"text":"属性","id":"属性"},{"text":"方法","id":"方法"},{"text":"示例","id":"示例"},{"text":"规范","id":"规范"},{"text":"浏览器兼容","id":"浏览器兼容"},{"text":"参考","id":"参考"}],"summary":"IntersectionObserver 接口 (从属于Intersection Observer API) 提供了一种异步观察目标元素与其祖先元素或顶级文档视窗 (viewport) 交叉状态的方法。祖先元素与视窗 (viewport) 被称为**根 (root)。","popularity":0.0026,"modified":"2022-10-01T03:41:16.000Z","other_translations":[{"title":"IntersectionObserver","locale":"en-US","native":"English (US)"},{"title":"IntersectionObserver","locale":"fr","native":"Français"},{"title":"IntersectionObserver","locale":"ja","native":"日本語"},{"title":"IntersectionObserver","locale":"ko","native":"한국어"},{"title":"IntersectionObserver","locale":"ru","native":"Русский"}],"source":{"folder":"zh-cn/web/api/intersectionobserver","github_url":"https://github.com/mdn/translated-content/blob/main/files/zh-cn/web/api/intersectionobserver/index.md","last_commit_url":"https://github.com/mdn/translated-content/commit/921c46a374ab0a9f4cc809af0370f8c412e54701","filename":"index.md"},"parents":[{"uri":"/zh-CN/docs/Web","title":"Web 开发技术"},{"uri":"/zh-CN/docs/Web/API","title":"Web API 接口参考"},{"uri":"/zh-CN/docs/Web/API/IntersectionObserver","title":"Intersection Observer"}],"pageTitle":"Intersection Observer - Web API 接口参考 | MDN","noIndexing":false}}