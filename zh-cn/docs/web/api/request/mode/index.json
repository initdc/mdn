{"doc":{"isMarkdown":true,"isTranslated":true,"isActive":true,"flaws":{},"title":"Request.mode","mdn_url":"/zh-CN/docs/Web/API/Request/mode","locale":"zh-CN","native":"中文 (简体)","sidebarHTML":"<ol><li><strong><a href=\"/zh-CN/docs/Web/API/Request\"><code>Request</code></a></strong></li><li class=\"toggle\"><details open=\"\"><summary>构造函数</summary><ol><li><a href=\"/zh-CN/docs/Web/API/Request/Request\"><code>Request()</code></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>属性</summary><ol><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/Request/body\"><code>body</code> <small>(en-US)</small></a></li><li><a href=\"/zh-CN/docs/Web/API/Request/bodyUsed\"><code>bodyUsed</code></a></li><li><a href=\"/zh-CN/docs/Web/API/Request/cache\"><code>cache</code></a></li><li><a href=\"/zh-CN/docs/Web/API/Request/credentials\"><code>credentials</code></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/Request/destination\"><code>destination</code> <small>(en-US)</small></a></li><li><a href=\"/zh-CN/docs/Web/API/Request/headers\"><code>headers</code></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/Request/integrity\"><code>integrity</code> <small>(en-US)</small></a></li><li><a href=\"/zh-CN/docs/Web/API/Request/method\"><code>method</code></a></li><li><em><code>mode</code></em></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/Request/priority\"><code>priority</code> <small>(en-US)</small></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/Request/redirect\"><code>redirect</code> <small>(en-US)</small></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/Request/referrer\"><code>referrer</code> <small>(en-US)</small></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/Request/referrerPolicy\"><code>referrerPolicy</code> <small>(en-US)</small></a></li><li><a href=\"/zh-CN/docs/Web/API/Request/url\"><code>url</code></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>方法</summary><ol><li><a href=\"/zh-CN/docs/Web/API/Request/arrayBuffer\"><code>arrayBuffer()</code></a></li><li><a href=\"/zh-CN/docs/Web/API/Request/blob\"><code>blob()</code></a></li><li><a href=\"/zh-CN/docs/Web/API/Request/clone\"><code>clone()</code></a></li><li><a href=\"/zh-CN/docs/Web/API/Request/formData\"><code>formData()</code></a></li><li><a href=\"/zh-CN/docs/Web/API/Request/json\"><code>json()</code></a></li><li><a href=\"/zh-CN/docs/Web/API/Request/text\"><code>text()</code></a></li></ol></details></li></ol>","body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<p><a href=\"/zh-CN/docs/Web/API/Request\"><code>Request</code></a> 接口的 <strong><code>mode</code></strong> 只读属性包含请求的模式（例如：<code>cors</code> 、 <code>no-cors</code> 、 <code>cors-with-forced-preflight</code> 、 <code>same-origin</code> 或 <code>navigate</code> 。）这用于确定跨域请求是否能得到有效的响应，以及响应的哪些属性是可读的。</p>"}},{"type":"prose","value":{"id":"语法","title":"语法","isH3":false,"content":"<div class=\"code-example\"><pre class=\"brush: plain notranslate\">var myMode = request.mode;\n</pre></div>"}},{"type":"prose","value":{"id":"属性值","title":"属性值","isH3":true,"content":"<p>一个 <code>RequestMode</code> 值。</p>\n<ul>\n  <li><code>same-origin</code> — 如果使用此模式向另外一个源发送请求，显而易见，结果会是一个错误。你可以设置该模式以确保请求总是向当前的源发起的。</li>\n  <li><code>no-cors</code> — 保证请求对应的 method 只有 <code>HEAD</code>，<code>GET</code> 或 <code>POST</code> 方法，并且请求的 headers 只能有简单请求头 (<a href=\"https://fetch.spec.whatwg.org/#simple-header\" class=\"external\" rel=\" noopener\">simple headers</a>)。如果 ServiceWorker 劫持了此类请求，除了 <a href=\"https://fetch.spec.whatwg.org/#simple-header\" class=\"external\" rel=\" noopener\">simple header</a> 之外，不能添加或修改其他 header。另外 JavaScript 不会读取 <a href=\"/zh-CN/docs/Web/API/Response\"><code>Response</code></a> 的任何属性。这样将会确保 ServiceWorker 不会影响 Web 语义 (semantics of the Web)，同时保证了在跨域时不会发生安全和隐私泄露的问题。</li>\n  <li><code>cors</code> — 允许跨域请求，例如访问第三方供应商提供的各种 API。预期将会遵守 <a href=\"/zh-CN/docs/Web/HTTP/CORS\">CORS protocol</a> 。仅有<a href=\"https://fetch.spec.whatwg.org/#concept-filtered-response-cors\" class=\"external\" rel=\" noopener\">有限部分</a>的头部暴露在 <a href=\"/zh-CN/docs/Web/API/Response\"><code>Response</code></a> ，但是 body 部分是可读的。</li>\n  <li><code>navigate</code> — 表示这是一个浏览器的页面切换请求 (request)。 navigate 请求仅在浏览器切换页面时创建，该请求应该返回 HTML。</li>\n</ul>\n<h4 id=\"默认模式\">默认模式</h4>\n<p>可以以多种方式发起请求，并且请求的模式取决于发起请求的特定方式。</p>\n<p>例如，当一个 <code>Request</code> 对象以 <a href=\"/zh-CN/docs/Web/API/Request/Request\"><code>Request.Request</code></a> 方式创建，该<code>Request</code> 的 <code>mode</code> 的值为 <code>cors</code> 。</p>\n<p>然而，除了以 <a href=\"/zh-CN/docs/Web/API/Request/Request\"><code>Request.Request</code></a> 创建的请求，模式通常为 <code>no-cors</code> 。例如，对与嵌入资源发起的请求，除非存在 <a href=\"/zh-CN/docs/Web/HTML/Attributes/crossorigin\"><code>crossorigin</code></a> 属性，即对于 <a href=\"/zh-CN/docs/Web/HTML/Element/link\"><code>&lt;link&gt;</code></a> 、 <a href=\"/zh-CN/docs/Web/HTML/Element/script\"><code>&lt;script&gt;</code></a>（除了和模块一起使用之外）、 <a href=\"/zh-CN/docs/Web/HTML/Element/img\"><code>&lt;img&gt;</code></a>、 <a href=\"/zh-CN/docs/Web/HTML/Element/audio\"><code>&lt;audio&gt;</code></a>、 <a href=\"/zh-CN/docs/Web/HTML/Element/video\"><code>&lt;video&gt;</code></a>、 <a href=\"/zh-CN/docs/Web/HTML/Element/object\"><code>&lt;object&gt;</code></a>、 <a href=\"/zh-CN/docs/Web/HTML/Element/embed\"><code>&lt;embed&gt;</code></a>还有 <a href=\"/zh-CN/docs/Web/HTML/Element/iframe\"><code>&lt;iframe&gt;</code></a> 元素，在大多数情况下是使用 <code>no-cors</code> 模式。</p>"}},{"type":"prose","value":{"id":"示例","title":"示例","isH3":false,"content":"<p>在下面代码段中，我们使用 <a href=\"/zh-CN/docs/Web/API/Request/Request\"><code>Request.Request()</code></a> 创建请求（请求与脚本位于同一目录中的图像文件），然后将请求模式保存在一个变量中：</p>\n<p>In the following snippet, we create a new request using theconstructor (for an image file in the same directory as the script), then save the request mode in a variable:</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">var</span> myRequest <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Request</span><span class=\"token punctuation\">(</span><span class=\"token string\">'flowers.jpg'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> myMode <span class=\"token operator\">=</span> myRequest<span class=\"token punctuation\">.</span>mode<span class=\"token punctuation\">;</span> <span class=\"token comment\">// returns \"cors\" by default</span>\n</code></pre></div>"}},{"type":"specifications","value":{"title":"规范","id":"规范","isH3":false,"specifications":[{"bcdSpecificationURL":"https://fetch.spec.whatwg.org/#ref-for-dom-request-mode②","title":"Fetch Standard"}],"query":"api.Request.mode"}},{"type":"browser_compatibility","value":{"title":"浏览器兼容性","id":"浏览器兼容性","isH3":false,"query":"api.Request.mode","dataURL":"/zh-CN/docs/Web/API/Request/mode/bcd.json"}},{"type":"prose","value":{"id":"参见","title":"参见","isH3":false,"content":"<ul>\n  <li><a href=\"/en-US/docs/Web/API/Service_Worker_API\" class=\"only-in-en-us\" title=\"Currently only available in English (US)\">ServiceWorker API (en-US)</a></li>\n  <li><a href=\"/zh-CN/docs/Web/HTTP/CORS\">HTTP 访问控制（CORS）</a></li>\n  <li><a href=\"/zh-CN/docs/Web/HTTP\">HTTP</a></li>\n</ul>"}}],"toc":[{"text":"语法","id":"语法"},{"text":"示例","id":"示例"},{"text":"规范","id":"规范"},{"text":"浏览器兼容性","id":"浏览器兼容性"},{"text":"参见","id":"参见"}],"summary":"Request 接口的 mode 只读属性包含请求的模式（例如：cors 、 no-cors 、 cors-with-forced-preflight 、 same-origin 或 navigate 。）这用于确定跨域请求是否能得到有效的响应，以及响应的哪些属性是可读的。","popularity":0.0002,"modified":"2022-10-01T03:41:16.000Z","other_translations":[{"title":"Request.mode","locale":"en-US","native":"English (US)"},{"title":"Request.mode","locale":"fr","native":"Français"},{"title":"Request.mode","locale":"ja","native":"日本語"},{"title":"Request.mode","locale":"ru","native":"Русский"}],"source":{"folder":"zh-cn/web/api/request/mode","github_url":"https://github.com/mdn/translated-content/blob/main/files/zh-cn/web/api/request/mode/index.md","last_commit_url":"https://github.com/mdn/translated-content/commit/921c46a374ab0a9f4cc809af0370f8c412e54701","filename":"index.md"},"parents":[{"uri":"/zh-CN/docs/Web","title":"Web 开发技术"},{"uri":"/zh-CN/docs/Web/API","title":"Web API 接口参考"},{"uri":"/zh-CN/docs/Web/API/Request","title":"Request"},{"uri":"/zh-CN/docs/Web/API/Request/mode","title":"Request.mode"}],"pageTitle":"Request.mode - Web API 接口参考 | MDN","noIndexing":false}}