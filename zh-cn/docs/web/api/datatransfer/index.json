{"doc":{"isMarkdown":true,"isTranslated":true,"isActive":true,"flaws":{},"title":"DataTransfer","mdn_url":"/zh-CN/docs/Web/API/DataTransfer","locale":"zh-CN","native":"中文 (简体)","sidebarHTML":"<ol><li><strong><a href=\"/zh-CN/docs/Web/API/HTML_Drag_and_Drop_API\">HTML Drag and Drop API</a></strong></li><li><strong><a href=\"/zh-CN/docs/Web/API/DataTransfer\"><code>DataTransfer</code></a></strong></li><li class=\"toggle\"><details open=\"\"><summary>构造函数</summary><ol><li><a href=\"/zh-CN/docs/Web/API/DataTransfer/DataTransfer\"><code>DataTransfer()</code></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>属性</summary><ol><li><a href=\"/zh-CN/docs/Web/API/DataTransfer/dropEffect\"><code>dropEffect</code></a></li><li><a href=\"/zh-CN/docs/Web/API/DataTransfer/effectAllowed\"><code>effectAllowed</code></a></li><li><a href=\"/zh-CN/docs/Web/API/DataTransfer/files\"><code>files</code></a></li><li><a href=\"/zh-CN/docs/Web/API/DataTransfer/items\"><code>items</code></a></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><svg class=\"icon icon-nonstandard\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-nonstandard\"></use>\n</svg><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/DataTransfer/mozCursor\"><code>mozCursor</code> <small>(en-US)</small></a></li><li><svg class=\"icon icon-nonstandard\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-nonstandard\"></use>\n</svg><svg class=\"icon icon-deprecated\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-deprecated\"></use>\n</svg><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/DataTransfer/mozItemCount\"><code>mozItemCount</code> <small>(en-US)</small></a></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><svg class=\"icon icon-nonstandard\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-nonstandard\"></use>\n</svg><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/DataTransfer/mozSourceNode\"><code>mozSourceNode</code> <small>(en-US)</small></a></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><svg class=\"icon icon-nonstandard\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-nonstandard\"></use>\n</svg><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/DataTransfer/mozUserCancelled\"><code>mozUserCancelled</code> <small>(en-US)</small></a></li><li><a href=\"/zh-CN/docs/Web/API/DataTransfer/types\"><code>types</code></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>方法</summary><ol><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><svg class=\"icon icon-nonstandard\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-nonstandard\"></use>\n</svg><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/DataTransfer/addElement\"><code>addElement()</code> <small>(en-US)</small></a></li><li><a href=\"/zh-CN/docs/Web/API/DataTransfer/clearData\"><code>clearData()</code></a></li><li><a href=\"/zh-CN/docs/Web/API/DataTransfer/getData\"><code>getData()</code></a></li><li><svg class=\"icon icon-nonstandard\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-nonstandard\"></use>\n</svg><svg class=\"icon icon-deprecated\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-deprecated\"></use>\n</svg><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/DataTransfer/mozClearDataAt\"><code>mozClearDataAt()</code> <small>(en-US)</small></a></li><li><svg class=\"icon icon-nonstandard\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-nonstandard\"></use>\n</svg><svg class=\"icon icon-deprecated\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-deprecated\"></use>\n</svg><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/DataTransfer/mozGetDataAt\"><code>mozGetDataAt()</code> <small>(en-US)</small></a></li><li><svg class=\"icon icon-nonstandard\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-nonstandard\"></use>\n</svg><svg class=\"icon icon-deprecated\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-deprecated\"></use>\n</svg><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/DataTransfer/mozSetDataAt\"><code>mozSetDataAt()</code> <small>(en-US)</small></a></li><li><svg class=\"icon icon-nonstandard\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-nonstandard\"></use>\n</svg><svg class=\"icon icon-deprecated\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-deprecated\"></use>\n</svg><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/DataTransfer/mozTypesAt\"><code>mozTypesAt()</code> <small>(en-US)</small></a></li><li><a href=\"/zh-CN/docs/Web/API/DataTransfer/setData\"><code>setData()</code></a></li><li><a href=\"/zh-CN/docs/Web/API/DataTransfer/setDragImage\"><code>setDragImage()</code></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>HTML Drag and Drop API 的相关页面</summary><ol><li><a href=\"/zh-CN/docs/Web/API/DataTransferItem\"><code>DataTransferItem</code></a></li><li><a href=\"/zh-CN/docs/Web/API/DataTransferItemList\"><code>DataTransferItemList</code></a></li><li><a href=\"/zh-CN/docs/Web/API/DragEvent\"><code>DragEvent</code></a></li></ol></details></li></ol>","body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<p><code>DataTransfer</code> 对象用于保存拖动并放下（drag and drop）过程中的数据。它可以保存一项或多项数据，这些数据项可以是一种或者多种数据类型。关于拖放的更多信息，请参见 <a href=\"/en-US/DragDrop/Drag_and_Drop\">Drag and Drop</a>.</p>\n<p>这个对象可以从所有拖动事件 <a href=\"/zh-CN/docs/Web/API/DragEvent\" title=\"drag events\"><code>drag events</code></a> 的 <a href=\"/zh-CN/docs/Web/API/DragEvent/dataTransfer\" title=\"dataTransfer\"><code>dataTransfer</code></a> 属性上获取。</p>"}},{"type":"prose","value":{"id":"构造函数","title":"构造函数","isH3":false,"content":"<dl>\n  <dt id=\"datatransfer\"><a href=\"/zh-CN/docs/Web/API/DataTransfer/DataTransfer\" title=\"DataTransfer()\"><code>DataTransfer()</code></a></dt>\n  <dd>\n    <p>生成并且返回一个新的 <code>DataTransfer</code> 对象。</p>\n  </dd>\n</dl>"}},{"type":"prose","value":{"id":"属性","title":"属性","isH3":false,"content":""}},{"type":"prose","value":{"id":"标准属性","title":"标准属性","isH3":true,"content":"<dl>\n  <dt id=\"datatransfer.dropeffect\"><a href=\"/zh-CN/docs/Web/API/DataTransfer/dropEffect\"><code>DataTransfer.dropEffect</code></a></dt>\n  <dd>\n    <p>获取当前选定的拖放操作类型或者设置的为一个新的类型。值必须为 <code>none</code>, <code>copy</code>, <code>link</code> 或 <code>move</code>。</p>\n  </dd>\n  <dt id=\"datatransfer.effectallowed\"><a href=\"/zh-CN/docs/Web/API/DataTransfer/effectAllowed\"><code>DataTransfer.effectAllowed</code></a></dt>\n  <dd>\n    <p>提供所有可用的操作类型。必须是 <code>none</code>, <code>copy</code>, <code>copyLink</code>, <code>copyMove</code>, <code>link</code>, <code>linkMove</code>, <code>move</code>, <code>all</code> or <code>uninitialized</code> 之一。</p>\n  </dd>\n  <dt id=\"datatransfer.files\"><a href=\"/zh-CN/docs/Web/API/DataTransfer/files\"><code>DataTransfer.files</code></a></dt>\n  <dd>\n    <p>包含数据传输中可用的所有本地文件的列表。如果拖动操作不涉及拖动文件，则此属性为空列表。</p>\n  </dd>\n  <dt id=\"datatransfer.items\"><a href=\"/zh-CN/docs/Web/API/DataTransfer/items\"><code>DataTransfer.items</code></a> <span title=\"该属性的值无法更改\" class=\"badge inline readonly\">只读 </span></dt>\n  <dd>\n    <p>提供一个包含所有拖动数据列表的 <a href=\"/zh-CN/docs/Web/API/DataTransferItemList\"><code>DataTransferItemList</code></a> 对象。</p>\n  </dd>\n  <dt id=\"datatransfer.types\"><a href=\"/zh-CN/docs/Web/API/DataTransfer/types\"><code>DataTransfer.types</code></a> <span title=\"该属性的值无法更改\" class=\"badge inline readonly\">只读 </span></dt>\n  <dd>\n    <p>一个提供 <code><a href=\"/en-US/docs/Web/API/HTMLElement/dragstart_event\" title=\"Currently only available in English (US)\" class=\"only-in-en-us\">dragstart (en-US)</a></code> 事件中设置的格式的 <a href=\"/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String\" title=\"strings\"><code>strings</code></a> 数组。</p>\n  </dd>\n</dl>"}},{"type":"prose","value":{"id":"gecko_属性","title":"Gecko 属性","isH3":true,"content":"<div class=\"notecard experimental\" id=\"sect1\"><p><strong>Experimental:</strong> <strong>这是一个实验中的功能</strong><br>此功能某些浏览器尚在开发中，请参考<a href=\"#browser_compatibility\">浏览器兼容性表格</a>以得到在不同浏览器中适合使用的前缀。由于该功能对应的标准文档可能被重新修订，所以在未来版本的浏览器中该功能的语法和行为可能随之改变。</p></div>\n<div class=\"notecard note\" id=\"sect2\">\n  <p><strong>备注：</strong> 本节中的所有属性为 Gecko 特有。</p>\n</div>\n<dl>\n  <dt id=\"datatransfer.mozcursor_en-us\"><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/DataTransfer/mozCursor\"><code>DataTransfer.mozCursor</code> <small>(en-US)</small></a></dt>\n  <dd>\n    <p>给出拖动光标的状态。这主要用于在拖动期间控制光标。</p>\n  </dd>\n  <dt id=\"datatransfer.mozsourcenode_en-us\"><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/DataTransfer/mozSourceNode\"><code>DataTransfer.mozSourceNode</code> <small>(en-US)</small></a> <span title=\"该属性的值无法更改\" class=\"badge inline readonly\">只读 </span></dt>\n  <dd>\n    <p>按下鼠标按钮按下启动拖动操作时鼠标光标所在的 <a href=\"/zh-CN/docs/Web/API/Node\"><code>Node</code></a> 。对于外部拖动或调用方无法访问节点，此值为 <code>null</code> 。</p>\n  </dd>\n  <dt id=\"datatransfer.mozusercancelled_en-us\"><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/DataTransfer/mozUserCancelled\"><code>DataTransfer.mozUserCancelled</code> <small>(en-US)</small></a> <span title=\"该属性的值无法更改\" class=\"badge inline readonly\">只读 </span></dt>\n  <dd>\n    <p>此属性仅适用于 <code>dragend</code> 事件，如果通过用户按下 escape 取消拖动操作，则为 <code>true</code> 。在所有其他情况下，这将为 <code>false</code> ，包括由于其他原因（如，放置在无效位置）导致的拖动失败。</p>\n  </dd>\n</dl>"}},{"type":"prose","value":{"id":"不推荐的属性","title":"不推荐的属性","isH3":true,"content":"<dl>\n  <dt id=\"datatransfer.mozitemcount_en-us\"><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/DataTransfer/mozItemCount\"><code>DataTransfer.mozItemCount</code> <small>(en-US)</small></a> <span title=\"该属性的值无法更改\" class=\"badge inline readonly\">只读 </span> <svg class=\"icon icon-deprecated\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-deprecated\"></use>\n</svg></dt>\n  <dd>\n    <p>提供拖动操作中的项目数。在 Firefox71 中删除。</p>\n  </dd>\n</dl>"}},{"type":"prose","value":{"id":"方法","title":"方法","isH3":false,"content":""}},{"type":"prose","value":{"id":"标准方法","title":"标准方法","isH3":true,"content":"<dl>\n  <dt id=\"datatransfer.cleardata\"><a href=\"/zh-CN/docs/Web/API/DataTransfer/clearData\"><code>DataTransfer.clearData()</code></a></dt>\n  <dd>\n    <p>删除与给定类型关联的数据。类型参数是可选的。如果类型为空或未指定，则删除与所有类型关联的数据。如果指定类型的数据不存在，或者 data transfer 中不包含任何数据，则该方法不会产生任何效果。</p>\n  </dd>\n  <dt id=\"datatransfer.getdata\"><a href=\"/zh-CN/docs/Web/API/DataTransfer/getData\"><code>DataTransfer.getData()</code></a></dt>\n  <dd>\n    <p>检索给定类型的数据，如果该类型的数据不存在或 data transfer 不包含数据，则返回空字符串。</p>\n  </dd>\n  <dt id=\"datatransfer.setdata\"><a href=\"/zh-CN/docs/Web/API/DataTransfer/setData\"><code>DataTransfer.setData()</code></a></dt>\n  <dd>\n    <p>设置给定类型的数据。如果该类型的数据不存在，则将其添加到末尾，以便类型列表中的最后一项将是新的格式。如果该类型的数据已经存在，则在相同位置替换现有数据。</p>\n  </dd>\n  <dt id=\"datatransfer.setdragimage\"><a href=\"/zh-CN/docs/Web/API/DataTransfer/setDragImage\"><code>DataTransfer.setDragImage()</code></a></dt>\n  <dd>\n    <p>用于设置自定义的拖动图像。</p>\n  </dd>\n</dl>"}},{"type":"prose","value":{"id":"gecko_方法","title":"Gecko 方法","isH3":true,"content":"<div class=\"notecard warning\" id=\"sect3\"><p><strong>非标准:</strong> 该特性是非标准的，请尽量不要在生产环境中使用它！</p></div>\n<div class=\"notecard note\" id=\"sect4\">\n  <p><strong>备注：</strong> 本节所有方法为 Gecko 专有。</p>\n</div>\n<dl>\n  <dt id=\"datatransfer.addelement_en-us\"><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/DataTransfer/addElement\"><code>DataTransfer.addElement()</code> <small>(en-US)</small></a></dt>\n  <dd>\n    <p>Sets the drag source to the given element.</p>\n  </dd>\n</dl>"}},{"type":"prose","value":{"id":"不推荐的方法","title":"不推荐的方法","isH3":true,"content":"<dl>\n  <dt id=\"datatransfer.mozcleardataat_en-us\"><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/DataTransfer/mozClearDataAt\"><code>DataTransfer.mozClearDataAt()</code> <small>(en-US)</small></a> <svg class=\"icon icon-deprecated\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-deprecated\"></use>\n</svg></dt>\n  <dd>\n    <p>Removes the data associated with the given format for an item at the specified index. The index is in the range from zero to the number of items minus one. Removed in Firefox 71.</p>\n  </dd>\n  <dt id=\"datatransfer.mozgetdataat_en-us\"><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/DataTransfer/mozGetDataAt\"><code>DataTransfer.mozGetDataAt()</code> <small>(en-US)</small></a> <svg class=\"icon icon-deprecated\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-deprecated\"></use>\n</svg></dt>\n  <dd>\n    <p>Retrieves the data associated with the given format for an item at the specified index, or null if it does not exist. The index should be in the range from zero to the number of items minus one. Removed in Firefox 71.</p>\n  </dd>\n  <dt id=\"datatransfer.mozsetdataat_en-us\"><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/DataTransfer/mozSetDataAt\"><code>DataTransfer.mozSetDataAt()</code> <small>(en-US)</small></a> <svg class=\"icon icon-deprecated\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-deprecated\"></use>\n</svg></dt>\n  <dd>\n    <p>A data transfer may store multiple items, each at a given zero-based index. <code>mozSetDataAt()</code> may only be called with an index argument less than <code>mozItemCount</code> in which case an existing item is modified, or equal to <code>mozItemCount</code> in which case a new item is added, and the <code>mozItemCount</code> is incremented by one. Removed in Firefox 71.</p>\n  </dd>\n  <dt id=\"datatransfer.moztypesat_en-us\"><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/DataTransfer/mozTypesAt\"><code>DataTransfer.mozTypesAt()</code> <small>(en-US)</small></a> <svg class=\"icon icon-deprecated\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-deprecated\"></use>\n</svg></dt>\n  <dd>\n    <p>Holds a list of the format types of the data that is stored for an item at the specified index. If the index is not in the range from 0 to the number of items minus one, an empty string list is returned. Removed in Firefox 71.</p>\n  </dd>\n</dl>"}},{"type":"prose","value":{"id":"示例","title":"示例","isH3":false,"content":"<p>本文档中的每个方法和属性都有自己的参考页面，每个参考页面中都直接包含了接口的示例或给出了示例的链接。</p>"}},{"type":"specifications","value":{"title":"规范","id":"规范","isH3":false,"specifications":[{"bcdSpecificationURL":"https://html.spec.whatwg.org/multipage/dnd.html#the-datatransfer-interface","title":"HTML Standard"}],"query":"api.DataTransfer"}},{"type":"browser_compatibility","value":{"title":"浏览器兼容性","id":"浏览器兼容性","isH3":false,"query":"api.DataTransfer","dataURL":"/zh-CN/docs/Web/API/DataTransfer/bcd.json"}},{"type":"prose","value":{"id":"参见","title":"参见","isH3":false,"content":"<ul>\n  <li><a href=\"/zh-CN/docs/Web/API/HTML_Drag_and_Drop_API\">拖与放</a></li>\n  <li><a href=\"HTML_Drag_and_Drop_API/Drag_operations\">拖动操作</a></li>\n  <li><a href=\"HTML_Drag_and_Drop_API/Recommended_drag_types\">推荐拖动类型</a></li>\n  <li><a href=\"/zh-CN/docs/Web/API/HTML_Drag_and_Drop_API/Multiple_items\">拖动多项</a></li>\n  <li><a href=\"https://codepen.io/tech_query/pen/MqGgap\" class=\"external\" rel=\" noopener\">DataTransfer 测试 - 粘贴、拖放</a></li>\n</ul>"}}],"toc":[{"text":"构造函数","id":"构造函数"},{"text":"属性","id":"属性"},{"text":"方法","id":"方法"},{"text":"示例","id":"示例"},{"text":"规范","id":"规范"},{"text":"浏览器兼容性","id":"浏览器兼容性"},{"text":"参见","id":"参见"}],"summary":"DataTransfer 对象用于保存拖动并放下（drag and drop）过程中的数据。它可以保存一项或多项数据，这些数据项可以是一种或者多种数据类型。关于拖放的更多信息，请参见 Drag and Drop.","popularity":0.001,"modified":"2022-10-01T03:41:16.000Z","other_translations":[{"title":"DataTransfer","locale":"en-US","native":"English (US)"},{"title":"DataTransfer","locale":"fr","native":"Français"},{"title":"DataTransfer","locale":"ja","native":"日本語"},{"title":"DataTransfer","locale":"ko","native":"한국어"},{"title":"DataTransfer","locale":"pt-BR","native":"Português (do Brasil)"},{"title":"DataTransfer","locale":"ru","native":"Русский"},{"title":"DataTransfer","locale":"zh-TW","native":"正體中文 (繁體)"}],"source":{"folder":"zh-cn/web/api/datatransfer","github_url":"https://github.com/mdn/translated-content/blob/main/files/zh-cn/web/api/datatransfer/index.md","last_commit_url":"https://github.com/mdn/translated-content/commit/921c46a374ab0a9f4cc809af0370f8c412e54701","filename":"index.md"},"parents":[{"uri":"/zh-CN/docs/Web","title":"Web 开发技术"},{"uri":"/zh-CN/docs/Web/API","title":"Web API 接口参考"},{"uri":"/zh-CN/docs/Web/API/DataTransfer","title":"DataTransfer"}],"pageTitle":"DataTransfer - Web API 接口参考 | MDN","noIndexing":false}}