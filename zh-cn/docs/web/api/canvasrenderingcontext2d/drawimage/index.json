{"doc":{"isMarkdown":true,"isTranslated":true,"isActive":true,"flaws":{},"title":"CanvasRenderingContext2D.drawImage()","mdn_url":"/zh-CN/docs/Web/API/CanvasRenderingContext2D/drawImage","locale":"zh-CN","native":"中文 (简体)","sidebarHTML":"<ol><li><strong><a href=\"/zh-CN/docs/Web/API/CanvasRenderingContext2D\"><code>CanvasRenderingContext2D</code></a></strong></li><li class=\"toggle\"><details open=\"\"><summary>属性</summary><ol><li><a href=\"/zh-CN/docs/Web/API/CanvasRenderingContext2D/canvas\"><code>canvas</code></a></li><li><a href=\"/zh-CN/docs/Web/API/CanvasRenderingContext2D/direction\"><code>direction</code></a></li><li><a href=\"/zh-CN/docs/Web/API/CanvasRenderingContext2D/fillStyle\"><code>fillStyle</code></a></li><li><a href=\"/zh-CN/docs/Web/API/CanvasRenderingContext2D/filter\"><code>filter</code></a></li><li><a href=\"/zh-CN/docs/Web/API/CanvasRenderingContext2D/font\"><code>font</code></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/CanvasRenderingContext2D/fontKerning\"><code>fontKerning</code> <small>(en-US)</small></a></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/CanvasRenderingContext2D/fontStretch\"><code>fontStretch</code> <small>(en-US)</small></a></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/CanvasRenderingContext2D/fontVariantCaps\"><code>fontVariantCaps</code> <small>(en-US)</small></a></li><li><a href=\"/zh-CN/docs/Web/API/CanvasRenderingContext2D/globalAlpha\"><code>globalAlpha</code></a></li><li><a href=\"/zh-CN/docs/Web/API/CanvasRenderingContext2D/globalCompositeOperation\"><code>globalCompositeOperation</code></a></li><li><a href=\"/zh-CN/docs/Web/API/CanvasRenderingContext2D/imageSmoothingEnabled\"><code>imageSmoothingEnabled</code></a></li><li><a href=\"/zh-CN/docs/Web/API/CanvasRenderingContext2D/imageSmoothingQuality\"><code>imageSmoothingQuality</code></a></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/CanvasRenderingContext2D/letterSpacing\"><code>letterSpacing</code> <small>(en-US)</small></a></li><li><a href=\"/zh-CN/docs/Web/API/CanvasRenderingContext2D/lineCap\"><code>lineCap</code></a></li><li><a href=\"/zh-CN/docs/Web/API/CanvasRenderingContext2D/lineDashOffset\"><code>lineDashOffset</code></a></li><li><a href=\"/zh-CN/docs/Web/API/CanvasRenderingContext2D/lineJoin\"><code>lineJoin</code></a></li><li><a href=\"/zh-CN/docs/Web/API/CanvasRenderingContext2D/lineWidth\"><code>lineWidth</code></a></li><li><a href=\"/zh-CN/docs/Web/API/CanvasRenderingContext2D/miterLimit\"><code>miterLimit</code></a></li><li><a href=\"/zh-CN/docs/Web/API/CanvasRenderingContext2D/shadowBlur\"><code>shadowBlur</code></a></li><li><a href=\"/zh-CN/docs/Web/API/CanvasRenderingContext2D/shadowColor\"><code>shadowColor</code></a></li><li><a href=\"/zh-CN/docs/Web/API/CanvasRenderingContext2D/shadowOffsetX\"><code>shadowOffsetX</code></a></li><li><a href=\"/zh-CN/docs/Web/API/CanvasRenderingContext2D/shadowOffsetY\"><code>shadowOffsetY</code></a></li><li><a href=\"/zh-CN/docs/Web/API/CanvasRenderingContext2D/strokeStyle\"><code>strokeStyle</code></a></li><li><a href=\"/zh-CN/docs/Web/API/CanvasRenderingContext2D/textAlign\"><code>textAlign</code></a></li><li><a href=\"/zh-CN/docs/Web/API/CanvasRenderingContext2D/textBaseline\"><code>textBaseline</code></a></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/CanvasRenderingContext2D/textRendering\"><code>textRendering</code> <small>(en-US)</small></a></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/CanvasRenderingContext2D/wordSpacing\"><code>wordSpacing</code> <small>(en-US)</small></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>方法</summary><ol><li><a href=\"/zh-CN/docs/Web/API/CanvasRenderingContext2D/arc\"><code>arc()</code></a></li><li><a href=\"/zh-CN/docs/Web/API/CanvasRenderingContext2D/arcTo\"><code>arcTo()</code></a></li><li><a href=\"/zh-CN/docs/Web/API/CanvasRenderingContext2D/beginPath\"><code>beginPath()</code></a></li><li><a href=\"/zh-CN/docs/Web/API/CanvasRenderingContext2D/bezierCurveTo\"><code>bezierCurveTo()</code></a></li><li><a href=\"/zh-CN/docs/Web/API/CanvasRenderingContext2D/clearRect\"><code>clearRect()</code></a></li><li><a href=\"/zh-CN/docs/Web/API/CanvasRenderingContext2D/clip\"><code>clip()</code></a></li><li><a href=\"/zh-CN/docs/Web/API/CanvasRenderingContext2D/closePath\"><code>closePath()</code></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/CanvasRenderingContext2D/createConicGradient\"><code>createConicGradient()</code> <small>(en-US)</small></a></li><li><a href=\"/zh-CN/docs/Web/API/CanvasRenderingContext2D/createImageData\"><code>createImageData()</code></a></li><li><a href=\"/zh-CN/docs/Web/API/CanvasRenderingContext2D/createLinearGradient\"><code>createLinearGradient()</code></a></li><li><a href=\"/zh-CN/docs/Web/API/CanvasRenderingContext2D/createPattern\"><code>createPattern()</code></a></li><li><a href=\"/zh-CN/docs/Web/API/CanvasRenderingContext2D/createRadialGradient\"><code>createRadialGradient()</code></a></li><li><a href=\"/zh-CN/docs/Web/API/CanvasRenderingContext2D/drawFocusIfNeeded\"><code>drawFocusIfNeeded()</code></a></li><li><em><code>drawImage()</code></em></li><li><a href=\"/zh-CN/docs/Web/API/CanvasRenderingContext2D/ellipse\"><code>ellipse()</code></a></li><li><a href=\"/zh-CN/docs/Web/API/CanvasRenderingContext2D/fill\"><code>fill()</code></a></li><li><a href=\"/zh-CN/docs/Web/API/CanvasRenderingContext2D/fillRect\"><code>fillRect()</code></a></li><li><a href=\"/zh-CN/docs/Web/API/CanvasRenderingContext2D/fillText\"><code>fillText()</code></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/CanvasRenderingContext2D/getContextAttributes\"><code>getContextAttributes()</code> <small>(en-US)</small></a></li><li><a href=\"/zh-CN/docs/Web/API/CanvasRenderingContext2D/getImageData\"><code>getImageData()</code></a></li><li><a href=\"/zh-CN/docs/Web/API/CanvasRenderingContext2D/getLineDash\"><code>getLineDash()</code></a></li><li><a href=\"/zh-CN/docs/Web/API/CanvasRenderingContext2D/getTransform\"><code>getTransform()</code></a></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/CanvasRenderingContext2D/isContextLost\"><code>isContextLost()</code> <small>(en-US)</small></a></li><li><a href=\"/zh-CN/docs/Web/API/CanvasRenderingContext2D/isPointInPath\"><code>isPointInPath()</code></a></li><li><a href=\"/zh-CN/docs/Web/API/CanvasRenderingContext2D/isPointInStroke\"><code>isPointInStroke()</code></a></li><li><a href=\"/zh-CN/docs/Web/API/CanvasRenderingContext2D/lineTo\"><code>lineTo()</code></a></li><li><a href=\"/zh-CN/docs/Web/API/CanvasRenderingContext2D/measureText\"><code>measureText()</code></a></li><li><a href=\"/zh-CN/docs/Web/API/CanvasRenderingContext2D/moveTo\"><code>moveTo()</code></a></li><li><a href=\"/zh-CN/docs/Web/API/CanvasRenderingContext2D/putImageData\"><code>putImageData()</code></a></li><li><a href=\"/zh-CN/docs/Web/API/CanvasRenderingContext2D/quadraticCurveTo\"><code>quadraticCurveTo()</code></a></li><li><a href=\"/zh-CN/docs/Web/API/CanvasRenderingContext2D/rect\"><code>rect()</code></a></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/CanvasRenderingContext2D/reset\"><code>reset()</code> <small>(en-US)</small></a></li><li><a href=\"/zh-CN/docs/Web/API/CanvasRenderingContext2D/resetTransform\"><code>resetTransform()</code></a></li><li><a href=\"/zh-CN/docs/Web/API/CanvasRenderingContext2D/restore\"><code>restore()</code></a></li><li><a href=\"/zh-CN/docs/Web/API/CanvasRenderingContext2D/rotate\"><code>rotate()</code></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/CanvasRenderingContext2D/roundRect\"><code>roundRect()</code> <small>(en-US)</small></a></li><li><a href=\"/zh-CN/docs/Web/API/CanvasRenderingContext2D/save\"><code>save()</code></a></li><li><a href=\"/zh-CN/docs/Web/API/CanvasRenderingContext2D/scale\"><code>scale()</code></a></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><a href=\"/zh-CN/docs/Web/API/CanvasRenderingContext2D/scrollPathIntoView\"><code>scrollPathIntoView()</code></a></li><li><a href=\"/zh-CN/docs/Web/API/CanvasRenderingContext2D/setLineDash\"><code>setLineDash()</code></a></li><li><a href=\"/zh-CN/docs/Web/API/CanvasRenderingContext2D/setTransform\"><code>setTransform()</code></a></li><li><a href=\"/zh-CN/docs/Web/API/CanvasRenderingContext2D/stroke\"><code>stroke()</code></a></li><li><a href=\"/zh-CN/docs/Web/API/CanvasRenderingContext2D/strokeRect\"><code>strokeRect()</code></a></li><li><a href=\"/zh-CN/docs/Web/API/CanvasRenderingContext2D/strokeText\"><code>strokeText()</code></a></li><li><a href=\"/zh-CN/docs/Web/API/CanvasRenderingContext2D/transform\"><code>transform()</code></a></li><li><a href=\"/zh-CN/docs/Web/API/CanvasRenderingContext2D/translate\"><code>translate()</code></a></li></ol></details></li></ol>","body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<p>Canvas 2D API 中的 <strong><code>CanvasRenderingContext2D.drawImage()</code></strong> 方法提供了多种在画布（Canvas）上绘制图像的方式。</p>"}},{"type":"prose","value":{"id":"语法","title":"语法","isH3":false,"content":"<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token function\">drawImage</span><span class=\"token punctuation\">(</span>image<span class=\"token punctuation\">,</span> dx<span class=\"token punctuation\">,</span> dy<span class=\"token punctuation\">)</span>\n<span class=\"token function\">drawImage</span><span class=\"token punctuation\">(</span>image<span class=\"token punctuation\">,</span> dx<span class=\"token punctuation\">,</span> dy<span class=\"token punctuation\">,</span> dWidth<span class=\"token punctuation\">,</span> dHeight<span class=\"token punctuation\">)</span>\n<span class=\"token function\">drawImage</span><span class=\"token punctuation\">(</span>image<span class=\"token punctuation\">,</span> sx<span class=\"token punctuation\">,</span> sy<span class=\"token punctuation\">,</span> sWidth<span class=\"token punctuation\">,</span> sHeight<span class=\"token punctuation\">,</span> dx<span class=\"token punctuation\">,</span> dy<span class=\"token punctuation\">,</span> dWidth<span class=\"token punctuation\">,</span> dHeight<span class=\"token punctuation\">)</span>\n</code></pre></div>\n<p>\n  <img src=\"/en-US/docs/Web/API/CanvasRenderingContext2D/drawImage/canvas_drawimage.jpg\" alt=\"drawImage\" width=\"300\" height=\"290\" loading=\"lazy\">\n</p>"}},{"type":"prose","value":{"id":"参数","title":"参数","isH3":true,"content":"<dl>\n  <dt id=\"image\"><code>image</code></dt>\n  <dd>\n    <p>\n      绘制到上下文的元素。允许任何的画布图像源，例如：<a href=\"/zh-CN/docs/Web/API/HTMLImageElement\"><code>HTMLImageElement</code></a>、<a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/SVGImageElement\"><code>SVGImageElement</code> <small>(en-US)</small></a>、<a href=\"/zh-CN/docs/Web/API/HTMLVideoElement\"><code>HTMLVideoElement</code></a>、<a href=\"/zh-CN/docs/Web/API/HTMLCanvasElement\"><code>HTMLCanvasElement</code></a>、<a href=\"/zh-CN/docs/Web/API/ImageBitmap\"><code>ImageBitmap</code></a>、<a href=\"/zh-CN/docs/Web/API/OffscreenCanvas\"><code>OffscreenCanvas</code></a>\n      或 <a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/VideoFrame\"><code>VideoFrame</code> <small>(en-US)</small></a>。\n    </p>\n  </dd>\n  <dt id=\"sx\"><code>sx</code> <span class=\"badge inline optional\">可选</span></dt>\n  <dd>\n    <p>需要绘制到目标上下文中的，<code>image</code> 的矩形（裁剪）选择框的左上角 X 轴坐标。可以使用 3 参数或 5 参数语法来省略这个参数。</p>\n  </dd>\n  <dt id=\"sy\"><code>sy</code> <span class=\"badge inline optional\">可选</span></dt>\n  <dd>\n    <p>需要绘制到目标上下文中的，<code>image</code> 的矩形（裁剪）选择框的左上角 Y 轴坐标。可以使用 3 参数或 5 参数语法来省略这个参数。</p>\n  </dd>\n  <dt id=\"swidth\"><code>sWidth</code> <span class=\"badge inline optional\">可选</span></dt>\n  <dd>\n    <p>需要绘制到目标上下文中的，<code>image</code> 的矩形（裁剪）选择框的宽度。如果不说明，整个矩形（裁剪）从坐标的 <code>sx</code> 和 <code>sy</code> 开始，到 <code>image</code> 的右下角结束。可以使用 3 参数或 5 参数语法来省略这个参数。使用负值将翻转这个图像。</p>\n  </dd>\n  <dt id=\"sheight\"><code>sHeight</code> <span class=\"badge inline optional\">可选</span></dt>\n  <dd>\n    <p>需要绘制到目标上下文中的，<code>image</code>的矩形（裁剪）选择框的高度。使用负值将翻转这个图像。</p>\n  </dd>\n  <dt id=\"dx\"><code>dx</code></dt>\n  <dd>\n    <p><code>image</code> 的左上角在目标画布上 X 轴坐标。</p>\n  </dd>\n  <dt id=\"dy\"><code>dy</code></dt>\n  <dd>\n    <p><code>image</code> 的左上角在目标画布上 Y 轴坐标。</p>\n  </dd>\n  <dt id=\"dwidth\"><code>dWidth</code></dt>\n  <dd>\n    <p><code>image</code> 在目标画布上绘制的宽度。允许对绘制的 <code>image</code> 进行缩放。如果不说明，在绘制时 <code>image</code> 宽度不会缩放。注意，这个参数不包含在 3 参数语法中。</p>\n  </dd>\n  <dt id=\"dheight\"><code>dHeight</code></dt>\n  <dd>\n    <p><code>image</code> 在目标画布上绘制的高度。允许对绘制的 <code>image</code> 进行缩放。如果不说明，在绘制时 <code>image</code> 高度不会缩放。注意，这个参数不包含在 3 参数语法中。</p>\n  </dd>\n</dl>"}},{"type":"prose","value":{"id":"返回值","title":"返回值","isH3":true,"content":"<p>无（<a href=\"/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/undefined\"><code>undefined</code></a>）。</p>"}},{"type":"prose","value":{"id":"异常","title":"异常","isH3":true,"content":"<dl>\n  <dt id=\"invalidstateerror\"><code>InvalidStateError</code> <a href=\"/zh-CN/docs/Web/API/DOMException\"><code>DOMException</code></a></dt>\n  <dd>\n    <p>当图像没有数据或者画布或源矩形宽度/高度为零时抛出该异常。</p>\n  </dd>\n  <dt id=\"typemismatcherror\"><code>TypeMismatchError</code> <a href=\"/zh-CN/docs/Web/API/DOMException\"><code>DOMException</code></a></dt>\n  <dd>\n    <p>当将 <code>null</code> 或 <code>undefined</code> 值作为图像的参数传入时抛出该异常。</p>\n  </dd>\n</dl>"}},{"type":"prose","value":{"id":"示例","title":"示例","isH3":false,"content":""}},{"type":"prose","value":{"id":"在画布上绘制图像","title":"在画布上绘制图像","isH3":true,"content":"<p>此示例在画布中使用 <code>drawImage()</code> 方法绘制一张图像。</p>\n<h4 id=\"html\">HTML</h4>\n<div class=\"code-example\"><pre class=\"brush: html notranslate\"><code><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>canvas</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>canvas<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>canvas</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token special-attr\"><span class=\"token attr-name\">style</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token value css language-css\"><span class=\"token property\">display</span><span class=\"token punctuation\">:</span>none<span class=\"token punctuation\">;</span></span><span class=\"token punctuation\">\"</span></span></span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>img</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>source<span class=\"token punctuation\">\"</span></span>\n       <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>rhino.jpg<span class=\"token punctuation\">\"</span></span>\n       <span class=\"token attr-name\">width</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>300<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">height</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>227<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n</code></pre></div>\n<h4 id=\"javascript\">JavaScript</h4>\n<p>原图像从坐标 (33,71) 处截取一个宽度为 104 高度为 124 的图像。并将其绘制到画布的 (21, 20) 坐标处，并将其缩放为宽 87、高 104 的图像。</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">const</span> canvas <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">'canvas'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> ctx <span class=\"token operator\">=</span> canvas<span class=\"token punctuation\">.</span><span class=\"token function\">getContext</span><span class=\"token punctuation\">(</span><span class=\"token string\">'2d'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> image <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">'source'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nimage<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'load'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">e</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n  ctx<span class=\"token punctuation\">.</span><span class=\"token function\">drawImage</span><span class=\"token punctuation\">(</span>image<span class=\"token punctuation\">,</span> <span class=\"token number\">33</span><span class=\"token punctuation\">,</span> <span class=\"token number\">71</span><span class=\"token punctuation\">,</span> <span class=\"token number\">104</span><span class=\"token punctuation\">,</span> <span class=\"token number\">124</span><span class=\"token punctuation\">,</span> <span class=\"token number\">21</span><span class=\"token punctuation\">,</span> <span class=\"token number\">20</span><span class=\"token punctuation\">,</span> <span class=\"token number\">87</span><span class=\"token punctuation\">,</span> <span class=\"token number\">104</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<h4 id=\"结果\">结果</h4><iframe class=\"sample-code-frame\" title=\"在画布上绘制图像 sample\" id=\"frame_在画布上绘制图像\" width=\"700\" height=\"180\" src=\"https://yari-demos.prod.mdn.mozit.cloud/zh-CN/docs/Web/API/CanvasRenderingContext2D/drawImage/_sample_.%E5%9C%A8%E7%94%BB%E5%B8%83%E4%B8%8A%E7%BB%98%E5%88%B6%E5%9B%BE%E5%83%8F.html\" loading=\"lazy\"></iframe>"}},{"type":"prose","value":{"id":"理解源元素大小","title":"理解源元素大小","isH3":true,"content":"<p><code>drawImage()</code> 方法在绘制时使用源元素的<em>固有尺寸</em>（以 CSS 像素为单位）。</p>\n<p>例如，如果加载图像并在其<a href=\"/zh-CN/docs/Web/API/HTMLImageElement/Image\">构造函数</a>中指定可选的大小参数，则必须使用所创建实例的 <code>naturalWidth</code> 和 <code>naturalHeight</code> 属性来正确计算裁剪和缩放区域等内容，而不是 <code>element.width</code> 和 <code>element.height</code>。如果元素是 <a href=\"/zh-CN/docs/Web/HTML/Element/video\"><code>&lt;video&gt;</code></a> 元素，则 <code>videoWidth</code> 和 <code>videoHeight</code> 也是如此，依此类推。</p>\n<h4 id=\"html_2\">HTML</h4>\n<div class=\"code-example\"><pre class=\"brush: html notranslate\"><code><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>canvas</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>canvas<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>canvas</span><span class=\"token punctuation\">&gt;</span></span>\n</code></pre></div>\n<h4 id=\"javascript_2\">JavaScript</h4>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">const</span> canvas <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">'canvas'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> ctx <span class=\"token operator\">=</span> canvas<span class=\"token punctuation\">.</span><span class=\"token function\">getContext</span><span class=\"token punctuation\">(</span><span class=\"token string\">'2d'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> image <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Image</span><span class=\"token punctuation\">(</span><span class=\"token number\">60</span><span class=\"token punctuation\">,</span> <span class=\"token number\">45</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// Using optional size for image</span>\nimage<span class=\"token punctuation\">.</span>onload <span class=\"token operator\">=</span> drawImageActualSize<span class=\"token punctuation\">;</span> <span class=\"token comment\">// Draw when image has loaded</span>\n\n<span class=\"token comment\">// Load an image of intrinsic size 300x227 in CSS pixels</span>\nimage<span class=\"token punctuation\">.</span>src <span class=\"token operator\">=</span> <span class=\"token string\">'rhino.jpg'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">drawImageActualSize</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// Use the intrinsic size of image in CSS pixels for the canvas element</span>\n  canvas<span class=\"token punctuation\">.</span>width <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>naturalWidth<span class=\"token punctuation\">;</span>\n  canvas<span class=\"token punctuation\">.</span>height <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>naturalHeight<span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// Will draw the image as 300x227, ignoring the custom size of 60x45</span>\n  <span class=\"token comment\">// given in the constructor</span>\n  ctx<span class=\"token punctuation\">.</span><span class=\"token function\">drawImage</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// To use the custom size we'll have to specify the scale parameters</span>\n  <span class=\"token comment\">// using the element's width and height properties - lets draw one</span>\n  <span class=\"token comment\">// on top in the corner:</span>\n  ctx<span class=\"token punctuation\">.</span><span class=\"token function\">drawImage</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>width<span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>height<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<h4 id=\"结果_2\">结果</h4><iframe class=\"sample-code-frame\" title=\"理解源元素大小 sample\" id=\"frame_理解源元素大小\" width=\"700\" height=\"260\" src=\"https://yari-demos.prod.mdn.mozit.cloud/zh-CN/docs/Web/API/CanvasRenderingContext2D/drawImage/_sample_.%E7%90%86%E8%A7%A3%E6%BA%90%E5%85%83%E7%B4%A0%E5%A4%A7%E5%B0%8F.html\" loading=\"lazy\"></iframe>"}},{"type":"specifications","value":{"title":"规范","id":"规范","isH3":false,"specifications":[{"bcdSpecificationURL":"https://html.spec.whatwg.org/multipage/canvas.html#dom-context-2d-drawimage-dev","title":"HTML Standard"}],"query":"api.CanvasRenderingContext2D.drawImage"}},{"type":"browser_compatibility","value":{"title":"浏览器兼容性","id":"浏览器兼容性","isH3":false,"query":"api.CanvasRenderingContext2D.drawImage","dataURL":"/zh-CN/docs/Web/API/CanvasRenderingContext2D/drawImage/bcd.json"}},{"type":"prose","value":{"id":"备注","title":"备注","isH3":false,"content":"<ul>\n  <li>当 <code>drawImage()</code> 需要在 <a href=\"/zh-CN/docs/Web/API/HTMLVideoElement\"><code>HTMLVideoElement</code></a> 工作时，仅当 <a href=\"/zh-CN/docs/Web/API/HTMLMediaElement/readyState\"><code>HTMLMediaElement.readyState</code></a> 大于 1 时 <code>drawImage()</code> 才能正常工作。</li>\n  <li>在绘制，裁剪和/或缩放时，<code>drawImage()</code> 将始终使用源元素的固有尺寸（以 CSS 像素为单位）。</li>\n  <li><code>drawImage()</code> 将忽略图像中的所有 EXIF 元数据，包括方向。此行为在 iOS 设备上尤其麻烦。你应该自己检测方向并使用 <code>rotate()</code> 使其正确。</li>\n</ul>"}},{"type":"prose","value":{"id":"参见","title":"参见","isH3":false,"content":"<ul>\n  <li>定义该方法的接口：<a href=\"/zh-CN/docs/Web/API/CanvasRenderingContext2D\"><code>CanvasRenderingContext2D</code></a></li>\n</ul>"}}],"toc":[{"text":"语法","id":"语法"},{"text":"示例","id":"示例"},{"text":"规范","id":"规范"},{"text":"浏览器兼容性","id":"浏览器兼容性"},{"text":"备注","id":"备注"},{"text":"参见","id":"参见"}],"summary":"Canvas 2D API 中的 CanvasRenderingContext2D.drawImage() 方法提供了多种在画布（Canvas）上绘制图像的方式。","popularity":0.0025,"modified":"2022-10-01T03:41:16.000Z","other_translations":[{"title":"CanvasRenderingContext2D.drawImage()","locale":"en-US","native":"English (US)"},{"title":"CanvasRenderingContext2D.drawImage()","locale":"es","native":"Español"},{"title":"CanvasRenderingContext2D.drawImage()","locale":"fr","native":"Français"},{"title":"CanvasRenderingContext2D.drawImage()","locale":"ru","native":"Русский"}],"source":{"folder":"zh-cn/web/api/canvasrenderingcontext2d/drawimage","github_url":"https://github.com/mdn/translated-content/blob/main/files/zh-cn/web/api/canvasrenderingcontext2d/drawimage/index.md","last_commit_url":"https://github.com/mdn/translated-content/commit/921c46a374ab0a9f4cc809af0370f8c412e54701","filename":"index.md"},"parents":[{"uri":"/zh-CN/docs/Web","title":"Web 开发技术"},{"uri":"/zh-CN/docs/Web/API","title":"Web API 接口参考"},{"uri":"/zh-CN/docs/Web/API/CanvasRenderingContext2D","title":"CanvasRenderingContext2D"},{"uri":"/zh-CN/docs/Web/API/CanvasRenderingContext2D/drawImage","title":"CanvasRenderingContext2D.drawImage()"}],"pageTitle":"CanvasRenderingContext2D.drawImage() - Web API 接口参考 | MDN","noIndexing":false}}