{"doc":{"isMarkdown":true,"isTranslated":true,"isActive":true,"flaws":{},"title":"使用地理位置 API","mdn_url":"/zh-CN/docs/Web/API/Geolocation_API/Using_the_Geolocation_API","locale":"zh-CN","native":"中文 (简体)","sidebarHTML":"<ol><li><strong><a href=\"/zh-CN/docs/Web/API/Geolocation_API\">Geolocation API</a></strong></li><li class=\"toggle\"><details open=\"\"><summary>指南</summary><ol><li><a href=\"/zh-CN/docs/Web/API/Geolocation_API/Using_the_Geolocation_API\">Using the Geolocation API</a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>接口</summary><ol><li><a href=\"/zh-CN/docs/Web/API/Geolocation\"><code>Geolocation</code></a></li><li><a href=\"/zh-CN/docs/Web/API/GeolocationCoordinates\"><code>GeolocationCoordinates</code></a></li><li><a href=\"/zh-CN/docs/Web/API/GeolocationPosition\"><code>GeolocationPosition</code></a></li><li><a href=\"/zh-CN/docs/Web/API/GeolocationPositionError\"><code>GeolocationPositionError</code></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>属性</summary><ol><li><a href=\"/zh-CN/docs/Web/API/Navigator/geolocation\"><code>Navigator.geolocation</code></a></li></ol></details></li></ol>","body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<div class=\"notecard secure\" id=\"sect1\"><p><strong>安全上下文:</strong> 此项功能仅在<a href=\"/zh-CN/docs/Web/Security/Secure_Contexts\">安全上下文</a>(HTTPS), 一些 <a href=\"#browser_compatibility\">支持的浏览器</a>.</p></div>\n<p>地理位置 API 用于检索用户的位置，因此，利用地图 API，可以显示用户的位置。本文将阐述基础的使用方法。</p>"}},{"type":"prose","value":{"id":"geolocation_对象","title":"geolocation 对象","isH3":false,"content":"<p><a href=\"/zh-CN/docs/Web/API/Geolocation\">地理位置 API</a> 通过 <a href=\"/zh-CN/docs/Web/API/Navigator/geolocation\"><code>navigator.geolocation</code></a> 对象提供。</p>\n<p>如果该对象存在，那么地理位置服务可用。你可以测试 <code>geolocation</code> 是否存在：</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token string\">'geolocation'</span> <span class=\"token keyword\">in</span> navigator<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">/* geolocation 存在 */</span>\n<span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">/* geolocation 不存在 */</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>"}},{"type":"prose","value":{"id":"获取当前位置","title":"获取当前位置","isH3":true,"content":"<p>你可以调用 <a href=\"/zh-CN/docs/Web/API/Geolocation/getCurrentPosition\" title=\"getCurrentPosition()\"><code>getCurrentPosition()</code></a> 函数获取用户当前定位位置。这会异步地请求获取用户位置，并查询定位硬件来获取最新信息。当定位被确定后，定义的回调函数就会被执行。你可以选择性地提供第二个回调函数，当有错误时会被执行。第三个参数也是可选的，你可以通过该对象参数设定最长可接受的定位返回时间、等待请求的时间和是否获取高精度定位。</p>\n<div class=\"notecard note\" id=\"sect2\">\n  <p><strong>备注：</strong> 默认情况下，<a href=\"/zh-CN/docs/Web/API/Geolocation/getCurrentPosition\" title=\"getCurrentPosition()\"><code>getCurrentPosition()</code></a> 会尽快返回一个低精度结果，这在你不关心准确度只关心快速获取结果的情况下很有用。有 GPS 的设备可能需要一分钟或更久来获取 GPS 定位，在这种情况下 <code>getCurrentPosition()</code> 会返回低精度数据（基于 IP 的定位或 Wi-Fi 定位）。</p>\n</div>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code>navigator<span class=\"token punctuation\">.</span>geolocation<span class=\"token punctuation\">.</span><span class=\"token function\">getCurrentPosition</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">position</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">doSomething</span><span class=\"token punctuation\">(</span>position<span class=\"token punctuation\">.</span>coords<span class=\"token punctuation\">.</span>latitude<span class=\"token punctuation\">,</span> position<span class=\"token punctuation\">.</span>coords<span class=\"token punctuation\">.</span>longitude<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<p>上述示例中，当获取位置后 <code>doSomething()</code> 函数会被执行。</p>"}},{"type":"prose","value":{"id":"监视定位","title":"监视定位","isH3":true,"content":"<p>你可以设定一个回调函数来响应定位数据发生的变更（设备发生了移动，或获取到了更高精度的地理位置信息）。你可以通过 <a href=\"/zh-CN/docs/Web/API/Geolocation/watchPosition\" title=\"watchPosition()\"><code>watchPosition()</code></a> 函数实现该功能。它与 <a href=\"/zh-CN/docs/Web/API/Geolocation/getCurrentPosition\" title=\"getCurrentPosition()\"><code>getCurrentPosition()</code></a> 接受相同的参数，但回调函数会被调用多次。错误回调函数与 <a href=\"/zh-CN/docs/Web/API/Geolocation/getCurrentPosition\" title=\"getCurrentPosition()\"><code>getCurrentPosition()</code></a> 中一样是可选的，也会被多次调用。</p>\n<div class=\"notecard note\" id=\"sect3\">\n  <p><strong>备注：</strong> 你可以直接调用 <a href=\"/zh-CN/docs/Web/API/Geolocation/watchPosition\" title=\"watchPosition()\"><code>watchPosition()</code></a> 函数，不需要先调用 <a href=\"/zh-CN/docs/Web/API/Geolocation/getCurrentPosition\" title=\"getCurrentPosition()\"><code>getCurrentPosition()</code></a> 函数。</p>\n</div>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">const</span> watchID <span class=\"token operator\">=</span> navigator<span class=\"token punctuation\">.</span>geolocation<span class=\"token punctuation\">.</span><span class=\"token function\">watchPosition</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">position</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">doSomething</span><span class=\"token punctuation\">(</span>position<span class=\"token punctuation\">.</span>coords<span class=\"token punctuation\">.</span>latitude<span class=\"token punctuation\">,</span> position<span class=\"token punctuation\">.</span>coords<span class=\"token punctuation\">.</span>longitude<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<p><a href=\"/zh-CN/docs/Web/API/Geolocation/watchPosition\" title=\"watchPosition()\"><code>watchPosition()</code></a> 函数会返回一个 ID，唯一地标记该位置监视器。你可以将这个 ID 传给 <a href=\"/zh-CN/docs/Web/API/Geolocation/clearWatch\" title=\"clearWatch()\"><code>clearWatch()</code></a> 函数来停止监视用户位置。</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code>navigator<span class=\"token punctuation\">.</span>geolocation<span class=\"token punctuation\">.</span><span class=\"token function\">clearWatch</span><span class=\"token punctuation\">(</span>watchID<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>"}},{"type":"prose","value":{"id":"调整返回结果","title":"调整返回结果","isH3":true,"content":"<p><a href=\"/zh-CN/docs/Web/API/Geolocation/getCurrentPosition\" title=\"getCurrentPosition()\"><code>getCurrentPosition()</code></a> 和 <a href=\"/zh-CN/docs/Web/API/Geolocation/watchPosition\" title=\"watchPosition()\"><code>watchPosition()</code></a> 都接受一个成功回调、一个可选的失败回调和一个可选的 options 对象。</p>\n<p>该对象允许你指定是否启用高精度、返回位置数据的最长缓存时间（在达到最长缓存时间之前，结果会被缓存，且在请求时的位置相同时，会返回缓存的结果；在过期后，浏览器会请求刷新位置数据），以及超时时间（用于表示浏览器在超时前最大的尝试获取位置数据的时间）。</p>\n<p>对 <a href=\"/zh-CN/docs/Web/API/Geolocation/watchPosition\" title=\"watchPosition\"><code>watchPosition</code></a> 的调用类似于这样：</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">function</span> <span class=\"token function\">success</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">position</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">doSomething</span><span class=\"token punctuation\">(</span>position<span class=\"token punctuation\">.</span>coords<span class=\"token punctuation\">.</span>latitude<span class=\"token punctuation\">,</span> position<span class=\"token punctuation\">.</span>coords<span class=\"token punctuation\">.</span>longitude<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">error</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Sorry, no position available.'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> options <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">enableHighAccuracy</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">maximumAge</span><span class=\"token operator\">:</span> <span class=\"token number\">30000</span><span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">timeout</span><span class=\"token operator\">:</span> <span class=\"token number\">27000</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> watchID <span class=\"token operator\">=</span> navigator<span class=\"token punctuation\">.</span>geolocation<span class=\"token punctuation\">.</span><span class=\"token function\">watchPosition</span><span class=\"token punctuation\">(</span>success<span class=\"token punctuation\">,</span> error<span class=\"token punctuation\">,</span> options<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>"}},{"type":"prose","value":{"id":"描述位置","title":"描述位置","isH3":false,"content":"<p>用户的位置由一个包含 <a href=\"/zh-CN/docs/Web/API/GeolocationCoordinates\"><code>GeolocationCoordinates</code></a> 对象实例的 <a href=\"/zh-CN/docs/Web/API/GeolocationPosition\"><code>GeolocationPosition</code></a> 对象实例描述。</p>\n<p><code>GeolocationPosition</code> 实例包含两个属性：<code>coords</code> 包含一个 <code>GeolocationCoordinates</code> 实例，<code>timestamp</code> 属性则包含一个 <a href=\"/zh-CN/docs/Web/API/DOMTimeStamp\"><code>DOMTimeStamp</code></a> 实例，用于表示检索位置数据花费的时间。</p>\n<p><code>GeolocationCoordinates</code> 实例包含多个属性，但主要使用的是其中的两个属性：<code>latitude</code>（纬度）和 <code>longitude</code>（经度），它们是你在地图上绘制位置所需的。因此，许多地理定位成功的回调看起来相当简单：</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">function</span> <span class=\"token function\">success</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">position</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> latitude  <span class=\"token operator\">=</span> position<span class=\"token punctuation\">.</span>coords<span class=\"token punctuation\">.</span>latitude<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> longitude <span class=\"token operator\">=</span> position<span class=\"token punctuation\">.</span>coords<span class=\"token punctuation\">.</span>longitude<span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// 使用 latitude 和 longitude 做些什么</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>你也可以从 <code>GeolocationCoordinates</code> 对象中获取许多其它的信息，包括高度、速度、设备面朝的方向，以及对高度、经纬度数据的精准测量值。</p>"}},{"type":"prose","value":{"id":"错误处理","title":"错误处理","isH3":false,"content":"<p>如果调用 <code>getCurrentPosition()</code> 或 <code>watchPosition()</code> 时提供了错误回调函数，回调函数的第一个参数将会是一个 <a href=\"/zh-CN/docs/Web/API/GeolocationPositionError\"><code>GeolocationPositionError</code></a> 对象实例。该对象包含两个属性：<code>code</code> 表示返回的错误类型，<code>message</code> 表示人类可读的、对错误码（<code>code</code>）的描述。</p>\n<p>你可以像这样使用它：</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">function</span> <span class=\"token function\">errorCallback</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">error</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">ERROR(</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>error<span class=\"token punctuation\">.</span>code<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">): </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>error<span class=\"token punctuation\">.</span>message<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n</code></pre></div>"}},{"type":"prose","value":{"id":"示例","title":"示例","isH3":false,"content":"<p>在以下示例中，Geolocation API 用于检索用户的经纬度。如果检索成功，则在超链接中填充一个可以显示用户位置的 <code>openstreetmap.org</code> 的 URL。</p>\n<div class=\"code-example\"><pre class=\"brush: css hidden notranslate\"><code><span class=\"token selector\">body</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">padding</span><span class=\"token punctuation\">:</span> 20px<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">background-color</span><span class=\"token punctuation\">:</span>#ffffc9\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token selector\">button</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">margin</span><span class=\"token punctuation\">:</span> .5rem 0<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>"}},{"type":"prose","value":{"id":"html","title":"HTML","isH3":true,"content":"<div class=\"code-example\"><pre class=\"brush: html notranslate\"><code><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">id</span> <span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span> <span class=\"token punctuation\">\"</span>find-me<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>显示我的位置<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>br</span><span class=\"token punctuation\">/&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span> <span class=\"token attr-name\">id</span> <span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span> <span class=\"token punctuation\">\"</span>status<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token attr-name\">id</span> <span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span> <span class=\"token punctuation\">\"</span>map-link<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">target</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>_blank<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">&gt;</span></span>\n</code></pre></div>"}},{"type":"prose","value":{"id":"javascript","title":"JavaScript","isH3":true,"content":"<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">function</span> <span class=\"token function\">geoFindMe</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\n  <span class=\"token keyword\">const</span> status <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">'#status'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> mapLink <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">'#map-link'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  mapLink<span class=\"token punctuation\">.</span>href <span class=\"token operator\">=</span> <span class=\"token string\">''</span><span class=\"token punctuation\">;</span>\n  mapLink<span class=\"token punctuation\">.</span>textContent <span class=\"token operator\">=</span> <span class=\"token string\">''</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">function</span> <span class=\"token function\">success</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">position</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> latitude  <span class=\"token operator\">=</span> position<span class=\"token punctuation\">.</span>coords<span class=\"token punctuation\">.</span>latitude<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">const</span> longitude <span class=\"token operator\">=</span> position<span class=\"token punctuation\">.</span>coords<span class=\"token punctuation\">.</span>longitude<span class=\"token punctuation\">;</span>\n\n    status<span class=\"token punctuation\">.</span>textContent <span class=\"token operator\">=</span> <span class=\"token string\">''</span><span class=\"token punctuation\">;</span>\n    mapLink<span class=\"token punctuation\">.</span>href <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">https://www.openstreetmap.org/#map=18/</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>latitude<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">/</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>longitude<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span>\n    mapLink<span class=\"token punctuation\">.</span>textContent <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">纬度：</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>latitude<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> °，经度：</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>longitude<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> °</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">function</span> <span class=\"token function\">error</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    status<span class=\"token punctuation\">.</span>textContent <span class=\"token operator\">=</span> <span class=\"token string\">'无法获取你的位置'</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>navigator<span class=\"token punctuation\">.</span>geolocation<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    status<span class=\"token punctuation\">.</span>textContent <span class=\"token operator\">=</span> <span class=\"token string\">'你的浏览器不支持地理位置'</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n    status<span class=\"token punctuation\">.</span>textContent <span class=\"token operator\">=</span> <span class=\"token string\">'定位中……'</span><span class=\"token punctuation\">;</span>\n    navigator<span class=\"token punctuation\">.</span>geolocation<span class=\"token punctuation\">.</span><span class=\"token function\">getCurrentPosition</span><span class=\"token punctuation\">(</span>success<span class=\"token punctuation\">,</span> error<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n<span class=\"token punctuation\">}</span>\n\ndocument<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">'#find-me'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'click'</span><span class=\"token punctuation\">,</span> geoFindMe<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>"}},{"type":"prose","value":{"id":"结果","title":"结果","isH3":true,"content":"<iframe class=\"sample-code-frame\" title=\"示例 sample\" id=\"frame_示例\" width=\"350\" height=\"150\" src=\"https://yari-demos.prod.mdn.mozit.cloud/zh-CN/docs/Web/API/Geolocation_API/Using_the_Geolocation_API/_sample_.%E7%A4%BA%E4%BE%8B.html\" allow=\"geolocation\" loading=\"lazy\"></iframe>"}}],"toc":[{"text":"geolocation 对象","id":"geolocation_对象"},{"text":"描述位置","id":"描述位置"},{"text":"错误处理","id":"错误处理"},{"text":"示例","id":"示例"}],"summary":"地理位置 API 用于检索用户的位置，因此，利用地图 API，可以显示用户的位置。本文将阐述基础的使用方法。","popularity":0,"modified":"2022-10-01T03:41:16.000Z","other_translations":[{"title":"Using the Geolocation API","locale":"en-US","native":"English (US)"},{"title":"位置情報 API の使用","locale":"ja","native":"日本語"},{"title":"Geolocation API 사용하기","locale":"ko","native":"한국어"},{"title":"Использование Geolocation API","locale":"ru","native":"Русский"}],"source":{"folder":"zh-cn/web/api/geolocation_api/using_the_geolocation_api","github_url":"https://github.com/mdn/translated-content/blob/main/files/zh-cn/web/api/geolocation_api/using_the_geolocation_api/index.md","last_commit_url":"https://github.com/mdn/translated-content/commit/921c46a374ab0a9f4cc809af0370f8c412e54701","filename":"index.md"},"parents":[{"uri":"/zh-CN/docs/Web","title":"Web 开发技术"},{"uri":"/zh-CN/docs/Web/API","title":"Web API 接口参考"},{"uri":"/zh-CN/docs/Web/API/Geolocation_API","title":"地理位置 API"},{"uri":"/zh-CN/docs/Web/API/Geolocation_API/Using_the_Geolocation_API","title":"使用地理位置 API"}],"pageTitle":"使用地理位置 API - Web API 接口参考 | MDN","noIndexing":false}}