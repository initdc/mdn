{"doc":{"isMarkdown":true,"isTranslated":true,"isActive":true,"flaws":{},"title":"Media Source Extensions API","mdn_url":"/zh-CN/docs/Web/API/Media_Source_Extensions_API","locale":"zh-CN","native":"中文 (简体)","sidebarHTML":"<ol><li><strong><a href=\"/zh-CN/docs/Web/API/Media_Source_Extensions_API\">Media Source Extensions API</a></strong></li><li class=\"toggle\"><details open=\"\"><summary>接口</summary><ol><li><a href=\"/zh-CN/docs/Web/API/MediaSource\"><code>MediaSource</code></a></li><li><a href=\"/zh-CN/docs/Web/API/SourceBuffer\"><code>SourceBuffer</code></a></li><li><a href=\"/zh-CN/docs/Web/API/SourceBufferList\"><code>SourceBufferList</code></a></li><li><a href=\"/zh-CN/docs/Web/API/VideoPlaybackQuality\"><code>VideoPlaybackQuality</code></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>属性</summary><ol><li><a href=\"/zh-CN/docs/Web/API/VideoTrack/sourceBuffer\"><code>VideoTrack.sourceBuffer</code></a></li><li><a href=\"/zh-CN/docs/Web/API/TextTrack/sourceBuffer\"><code>TextTrack.sourceBuffer</code></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>方法</summary><ol><li><a href=\"/zh-CN/docs/Web/API/HTMLVideoElement/getVideoPlaybackQuality\"><code>HTMLVideoElement.getVideoPlaybackQuality()</code></a></li><li><a href=\"/zh-CN/docs/Web/API/URL/createObjectURL\"><code>URL.createObjectURL()</code></a></li></ol></details></li></ol>","body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<div class=\"notecard experimental\" id=\"sect1\"><p><strong>Experimental:</strong> <strong>这是一个实验中的功能</strong><br>此功能某些浏览器尚在开发中，请参考<a href=\"#browser_compatibility\">浏览器兼容性表格</a>以得到在不同浏览器中适合使用的前缀。由于该功能对应的标准文档可能被重新修订，所以在未来版本的浏览器中该功能的语法和行为可能随之改变。</p></div>\n<p>媒体源扩展 API（MSE）提供了实现无插件且基于 Web 的流媒体的功能。使用 MSE，媒体串流能够通过 JavaScript 创建，并且能通过使用 <a href=\"/zh-CN/docs/Web/HTML/Element/audio\"><code>&lt;audio&gt;</code></a> 和 <a href=\"/zh-CN/docs/Web/HTML/Element/video\"><code>&lt;video&gt;</code></a> 元素进行播放。</p>"}},{"type":"prose","value":{"id":"概念和用法","title":"概念和用法","isH3":false,"content":"<p>近几年来，我们已经可以在 Web 应用程序上无插件地播放视频和音频了。但是，现有架构过于简单，只能满足一次播放整个曲目的需要，无法实现拆分/合并数个缓冲文件。流媒体直到现在还在使用 Flash 进行服务，以及通过 RTMP 协议进行视频串流的 Flash 媒体服务器。</p>"}},{"type":"prose","value":{"id":"mse_标准","title":"MSE 标准","isH3":true,"content":"<p>媒体源扩展（MSE）实现后，情况就不一样了。MSE 使我们可以把通常的单个媒体文件的 <code>src</code> 值替换成引用 <code>MediaSource</code> 对象（一个包含即将播放的媒体文件的准备状态等信息的容器），以及引用多个 <code>SourceBuffer</code> 对象（代表多个组成整个串流的不同媒体块）的元素。MSE 让我们能够根据内容获取的大小和频率，或是内存占用详情（例如什么时候缓存被回收），进行更加精准地控制。它是基于它可扩展的 API 建立自适应比特率流客户端（例如 DASH 或 HLS 的客户端）的基础。</p>\n<p>在现代浏览器中创造能兼容 MSE 的媒体（assets）非常费时费力，还要消耗大量计算机资源和能源。此外，还须使用外部实用程序将内容转换成合适的格式。虽然浏览器支持兼容 MSE 的各种媒体容器，但采用 H.264 视频编码、AAC 音频编码和 MP4 容器的格式是非常常见的，且一定兼容。MSE 同时还提供了一个 API，用于运行时检测容器和编解码是否受支持。</p>\n<p>如果没有精确的控制时间、媒体质量和内存释放等需求，使用 <a href=\"/zh-CN/docs/Web/HTML/Element/video\"><code>&lt;video&gt;</code></a> 和 <a href=\"/zh-CN/docs/Web/HTML/Element/source\"><code>&lt;source&gt;</code></a> 是一个更加简单但够用的方案。</p>"}},{"type":"prose","value":{"id":"dash","title":"DASH","isH3":true,"content":"<p>DASH（Dynamic Adaptive Streaming over HTTP）是一个规范了自适应内容应当如何被获取的协议。它实际上是建立在 MSE 顶部的一个层，用来构建自适应比特率串流客户端。虽然已经有一个类似的协议了（例如 HTTP 串流直播（HLS）），但 DASH 有最好的跨平台兼容性，这就是我们在这里介绍它的原因。</p>\n<p>DASH 将大量逻辑从网络协议中移出到客户端应用程序逻辑中，使用更简单的 HTTP 协议获取文件。这样就可以用一个简单的静态文件服务器来支持 DASH，这对 CDN 也很友好。这与之前的流传输解决方案形成鲜明对比，那些流解决方案需要昂贵的许可证来获得非标准的客户端/服务器协议才能实现。</p>\n<p>DASH 的两个最常见的用例涉及“点播”或“直播”观看内容。点播功能让开发者有时间把媒体文件转码出多种不同的分辨率质量。</p>\n<p>实时处理内容会引入由转码和播发带来的延迟。因此 DASH 并不适用于类似 <a href=\"/zh-CN/docs/Web/API/WebRTC_API\">WebRTC</a> 的即时通讯。但它可以支持比 WebRTC 更多的客户端连接。</p>\n<p>有非常多的自由开源的工具，能实现转码内容，并将其改造，以适应 DASH、DASH 文件服务器和用 JavaScript 编写的 DASH 客户端库。</p>"}},{"type":"prose","value":{"id":"媒体源扩展接口","title":"媒体源扩展接口","isH3":false,"content":"<dl>\n  <dt id=\"mediasource\"><a href=\"/zh-CN/docs/Web/API/MediaSource\"><code>MediaSource</code></a></dt>\n  <dd>\n    <p>代表了将由 <a href=\"/zh-CN/docs/Web/API/HTMLMediaElement\"><code>HTMLMediaElement</code></a> 对象播放的媒体资源。</p>\n  </dd>\n  <dt id=\"sourcebuffer\"><a href=\"/zh-CN/docs/Web/API/SourceBuffer\"><code>SourceBuffer</code></a></dt>\n  <dd>\n    <p>代表了一个经由 <code>MediaSource</code> 对象被传入 <a href=\"/zh-CN/docs/Web/API/HTMLMediaElement\"><code>HTMLMediaElement</code></a> 的媒体块。</p>\n  </dd>\n  <dt id=\"sourcebufferlist\"><a href=\"/zh-CN/docs/Web/API/SourceBufferList\"><code>SourceBufferList</code></a></dt>\n  <dd>\n    <p>列出多个 <code>SourceBuffer</code> 对象的简单的容器列表。</p>\n  </dd>\n  <dt id=\"videoplaybackquality\"><a href=\"/zh-CN/docs/Web/API/VideoPlaybackQuality\"><code>VideoPlaybackQuality</code></a></dt>\n  <dd>\n    <p>包含了有关正被 <a href=\"/zh-CN/docs/Web/HTML/Element/video\"><code>&lt;video&gt;</code></a> 元素播放的视频的质量信息，例如被丢弃或损坏的帧的数量。由 <a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/HTMLVideoElement/getVideoPlaybackQuality\"><code>HTMLVideoElement.getVideoPlaybackQuality()</code> <small>(en-US)</small></a> 方法返回。</p>\n  </dd>\n</dl>"}},{"type":"prose","value":{"id":"其他接口的扩展","title":"其他接口的扩展","isH3":false,"content":"<dl>\n  <dt id=\"url.createobjecturl\"><a href=\"/zh-CN/docs/Web/API/URL/createObjectURL\"><code>URL.createObjectURL()</code></a></dt>\n  <dd>\n    <p>创建一个指向一个 <code>MediaSource</code> 对象的 URL。要求此 URL 可以被指定为一个用来播放媒体流的 HTML 媒体元素的 <code>src</code> 的值。</p>\n  </dd>\n  <dt id=\"htmlmediaelement.seekable\"><a href=\"/zh-CN/docs/Web/API/HTMLMediaElement/seekable\"><code>HTMLMediaElement.seekable</code></a></dt>\n  <dd>\n    <p>当一个 <code>MediaSource</code> 对象被 HTML 媒体元素播放时，此属性将返回一个包含用户能够在什么时间范围内进行调整的对象 <a href=\"/zh-CN/docs/Web/API/TimeRanges\"><code>TimeRanges</code></a>。</p>\n  </dd>\n  <dt id=\"htmlvideoelement.getvideoplaybackquality_en-us\"><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/HTMLVideoElement/getVideoPlaybackQuality\"><code>HTMLVideoElement.getVideoPlaybackQuality()</code> <small>(en-US)</small></a></dt>\n  <dd>\n    <p>针对正在播放的视频，返回一个 <a href=\"/zh-CN/docs/Web/API/VideoPlaybackQuality\"><code>VideoPlaybackQuality</code></a> 对象。</p>\n  </dd>\n  <dt id=\"audiotrack.sourcebuffer_en-us\"><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/AudioTrack/sourceBuffer\"><code>AudioTrack.sourceBuffer</code> <small>(en-US)</small></a>, <a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/VideoTrack/sourceBuffer\"><code>VideoTrack.sourceBuffer</code> <small>(en-US)</small></a>, <a class=\"page-not-created\" title=\"此文档尚未被撰写，期待你的贡献!\"><code>TextTrack.sourceBuffer</code></a></dt>\n  <dd>\n    <p>返回创建了相关轨道的 <a href=\"/zh-CN/docs/Web/API/SourceBuffer\"><code>SourceBuffer</code></a>。</p>\n  </dd>\n</dl>"}},{"type":"specifications","value":{"title":"规范","id":"规范","isH3":false,"specifications":[{"bcdSpecificationURL":"https://w3c.github.io/media-source/","title":"Media Source Extensions™"}],"query":"undefined"}},{"type":"prose","value":{"id":"浏览器兼容性","title":"浏览器兼容性","isH3":false,"content":"{{Compat}}"}},{"type":"prose","value":{"id":"参见","title":"参见","isH3":false,"content":"<ul>\n  <li><a href=\"/en-US/docs/Web/API/Media_Source_Extensions_API/Transcoding_assets_for_MSE\" class=\"only-in-en-us\" title=\"Currently only available in English (US)\">媒体源扩展的音视频资源转码 (en-US)</a></li>\n  <li>用 MSE 创建基础的流服务（待定）</li>\n  <li>用 MPEG DASH 创建流应用（待定）</li>\n  <li><a href=\"/zh-CN/docs/Web/HTML/Element/audio\"><code>&lt;audio&gt;</code></a> 和 <a href=\"/zh-CN/docs/Web/HTML/Element/video\"><code>&lt;video&gt;</code></a> 元素。</li>\n  <li><a href=\"/zh-CN/docs/Web/API/HTMLMediaElement\"><code>HTMLMediaElement</code></a>、<a href=\"/zh-CN/docs/Web/API/HTMLVideoElement\"><code>HTMLVideoElement</code></a>、<a href=\"/zh-CN/docs/Web/API/HTMLAudioElement\"><code>HTMLAudioElement</code></a>。</li>\n</ul>"}}],"toc":[{"text":"概念和用法","id":"概念和用法"},{"text":"媒体源扩展接口","id":"媒体源扩展接口"},{"text":"其他接口的扩展","id":"其他接口的扩展"},{"text":"规范","id":"规范"},{"text":"浏览器兼容性","id":"浏览器兼容性"},{"text":"参见","id":"参见"}],"summary":"媒体源扩展 API（MSE）提供了实现无插件且基于 Web 的流媒体的功能。使用 MSE，媒体串流能够通过 JavaScript 创建，并且能通过使用 <audio> 和 <video> 元素进行播放。","popularity":0.0004,"modified":"2022-10-01T03:41:16.000Z","other_translations":[{"title":"Media Source API","locale":"en-US","native":"English (US)"},{"title":"Media Source Extensions API","locale":"ja","native":"日本語"}],"source":{"folder":"zh-cn/web/api/media_source_extensions_api","github_url":"https://github.com/mdn/translated-content/blob/main/files/zh-cn/web/api/media_source_extensions_api/index.md","last_commit_url":"https://github.com/mdn/translated-content/commit/921c46a374ab0a9f4cc809af0370f8c412e54701","filename":"index.md"},"parents":[{"uri":"/zh-CN/docs/Web","title":"Web 开发技术"},{"uri":"/zh-CN/docs/Web/API","title":"Web API 接口参考"},{"uri":"/zh-CN/docs/Web/API/Media_Source_Extensions_API","title":"Media Source Extensions API"}],"pageTitle":"Media Source Extensions API - Web API 接口参考 | MDN","noIndexing":false}}