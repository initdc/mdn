{"doc":{"isMarkdown":true,"isTranslated":true,"isActive":true,"flaws":{},"title":"Performance Timeline","mdn_url":"/zh-CN/docs/Web/API/Performance_Timeline","locale":"zh-CN","native":"中文 (简体)","sidebarHTML":"<ol><li><strong><a href=\"/zh-CN/docs/Web/API/Performance_Timeline\">Performance Timeline</a></strong></li><li class=\"toggle\"><details open=\"\"><summary>指南</summary><ol><li><a href=\"/zh-CN/docs/Web/API/Performance_Timeline/Using_Performance_Timeline\">Using Performance Timeline</a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>接口</summary><ol><li><a href=\"/zh-CN/docs/Web/API/Performance\"><code>Performance</code></a></li><li><a href=\"/zh-CN/docs/Web/API/PerformanceEntry\"><code>PerformanceEntry</code></a></li><li><a href=\"/zh-CN/docs/Web/API/PerformanceObserver\"><code>PerformanceObserver</code></a></li><li><a href=\"/zh-CN/docs/Web/API/PerformanceObserverEntryList\"><code>PerformanceObserverEntryList</code></a></li><li><a href=\"/zh-CN/docs/Web/API/PerformanceResourceTiming\"><code>PerformanceResourceTiming</code></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>属性</summary><ol><li><a href=\"/zh-CN/docs/Web/API/performance_property\"><code>performance_property</code></a></li></ol></details></li></ol>","body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<p>The <strong>Performance Timeline</strong> API defines extensions to the <a href=\"/zh-CN/docs/Web/API/Performance\"><code>Performance</code></a> interface to support client-side latency measurements within applications. The extensions provide interfaces to retrieve <a href=\"/zh-CN/docs/Web/API/PerformanceEntry\" title=\"performance entry metrics\">performance entry metrics</a> based on specific filter criteria. The standard also includes interfaces that allow an application to define <a href=\"#performance_observers\"><em>performance observer</em></a> callbacks that are notified when specific performance events are added to the browser's <em>performance timeline</em>.</p>\n<p>This document provides an overview of the standard's interfaces. For more details about the interfaces, see the reference pages and <a href=\"/docs/Web/API/Performance_Timeline/Using_Performance_Timeline\">Using Performance Timeline</a>.</p>"}},{"type":"prose","value":{"id":"performance_extensions","title":"Performance extensions","isH3":false,"content":"<p>The Performance Timeline API extends the <a href=\"/zh-CN/docs/Web/API/Performance\"><code>Performance</code></a> interface with three methods that provide different mechanisms to get a set of <a href=\"/zh-CN/docs/Web/API/PerformanceEntry\" title=\"performance records (metrics)\"><code>performance records (metrics)</code></a>, depending on the specified filter criteria. The methods are:</p>\n<dl>\n  <dt id=\"getentries\"><a href=\"/zh-CN/docs/Web/API/Performance/getEntries\" title=\"getEntries()\"><code>getEntries()</code></a></dt>\n  <dd>\n    <p>Returns all recorded <a href=\"/zh-CN/docs/Web/API/PerformanceEntry\" title=\"performance entries\"><code>performance entries</code></a> or, optionally, the entries based on the specified <a href=\"/zh-CN/docs/Web/API/PerformanceEntry/name\" title=\"name\"><code>name</code></a>, <a href=\"/zh-CN/docs/Web/API/PerformanceEntry/entryType\" title=\"performance type\"><code>performance type</code></a> and/or the <a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/PerformanceResourceTiming/initiatorType\"><code>initiatorType</code> <small>(en-US)</small></a> (such as an HTML element).</p>\n  </dd>\n  <dt id=\"getentriesbyname\"><a href=\"/zh-CN/docs/Web/API/Performance/getEntriesByName\" title=\"getEntriesByName()\"><code>getEntriesByName()</code></a></dt>\n  <dd>\n    <p>Returns the recorded <a href=\"/zh-CN/docs/Web/API/PerformanceEntry\" title=\"performance entries\"><code>performance entries</code></a> based on the specified <a href=\"/zh-CN/docs/Web/API/PerformanceEntry/name\" title=\"name\"><code>name</code></a> and optionally the <a href=\"/zh-CN/docs/Web/API/PerformanceEntry/entryType\" title=\"performance type\"><code>performance type</code></a>.</p>\n  </dd>\n  <dt id=\"getentriesbytype\"><a href=\"/zh-CN/docs/Web/API/Performance/getEntriesByType\" title=\"getEntriesByType()\"><code>getEntriesByType()</code></a></dt>\n  <dd>\n    <p>Returns the recorded <a href=\"/zh-CN/docs/Web/API/PerformanceEntry\" title=\"performance entries\"><code>performance entries</code></a> based on the specified <a href=\"/zh-CN/docs/Web/API/PerformanceEntry/entryType\" title=\"performance type\"><code>performance type</code></a>.</p>\n  </dd>\n</dl>"}},{"type":"prose","value":{"id":"performanceentry_interface","title":"PerformanceEntry interface","isH3":false,"content":"<p>The <a href=\"/zh-CN/docs/Web/API/PerformanceEntry\"><code>PerformanceEntry</code></a> interface encapsulates a single <em>performance entry</em> — that is, a single data point or metric in the <em>performance timeline</em>. This interface has the following four properties, and these properties are extended (with additional constraints) by other interfaces (such as <a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/PerformanceMark\"><code>PerformanceMark</code> <small>(en-US)</small></a>):</p>\n<dl>\n  <dt id=\"name\"><a href=\"/zh-CN/docs/Web/API/PerformanceEntry/name\" title=\"name\"><code>name</code></a></dt>\n  <dd>\n    <p>The name of the performance entry when the metric was created.</p>\n  </dd>\n  <dt id=\"entrytype\"><a href=\"/zh-CN/docs/Web/API/PerformanceEntry/entryType\" title=\"entryType\"><code>entryType</code></a></dt>\n  <dd>\n    <p>The type of performance metric (for example, \"<code>mark</code>\").</p>\n  </dd>\n  <dt id=\"starttime_en-us\"><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/PerformanceEntry/startTime\"><code>startTime</code> <small>(en-US)</small></a></dt>\n  <dd>\n    <p>A <a href=\"/zh-CN/docs/Web/API/DOMHighResTimeStamp\" title=\"high resolution timestamp\"><code>high resolution timestamp</code></a> representing the starting time for the performance entry.</p>\n  </dd>\n  <dt id=\"duration\"><a href=\"/zh-CN/docs/Web/API/PerformanceEntry/duration\" title=\"duration\"><code>duration</code></a></dt>\n  <dd>\n    <p>A <a href=\"/zh-CN/docs/Web/API/DOMHighResTimeStamp\" title=\"high resolution timestamp\">high resolution timestamp</a> representing the time value of the duration of the performance event. (Some performance <a href=\"/zh-CN/docs/Web/API/PerformanceEntry/entryType\" title=\"entry types\">entry types</a> have no concept of <em>duration</em> and this value is set to <code>'0'</code> for such types.)</p>\n  </dd>\n</dl>\n<p>This interface includes a <a href=\"/zh-CN/docs/Web/API/PerformanceEntry/toJSON\" title=\"toJSON()\"><code>toJSON()</code></a> method that returns the serialization of the <a href=\"/zh-CN/docs/Web/API/PerformanceEntry\"><code>PerformanceEntry</code></a> object. The serialization is specific to the performance entry's <a href=\"/zh-CN/docs/Web/API/PerformanceEntry/entryType\" title=\"type\"><code>type</code></a>.</p>"}},{"type":"prose","value":{"id":"performance_observers","title":"Performance observers","isH3":false,"content":"<div class=\"notecard experimental\" id=\"sect1\"><p><strong>Experimental:</strong> <strong>这是一个实验中的功能</strong><br>此功能某些浏览器尚在开发中，请参考<a href=\"#browser_compatibility\">浏览器兼容性表格</a>以得到在不同浏览器中适合使用的前缀。由于该功能对应的标准文档可能被重新修订，所以在未来版本的浏览器中该功能的语法和行为可能随之改变。</p></div>\n<p>The <em>performance observer</em> interfaces allow an application to register an <em>observer</em> for specific performance event types, and when one of those event types is recorded, the application is <em>notified</em> of the event via the observer's callback function that was specified when the observer was created.</p>\n<p>When the observer (callback) is invoked, the callback's parameters include a <em><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/PerformanceObserverEntryList\"><code>performance observer entry list</code> <small>(en-US)</small></a></em> that contains only <em>observed</em> <a href=\"/zh-CN/docs/Web/API/PerformanceEntry\" title=\"performance entries\"><code>performance entries</code></a>. That is, the list contains entries only for the event types that were specified when the observer's <a href=\"/zh-CN/docs/Web/API/PerformanceObserver/observe\" title=\"observe()\"><code>observe()</code></a> method was invoked. The <a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/PerformanceObserverEntryList\"><code>performance observer entry list</code> <small>(en-US)</small></a> interface has the same three <code>getEntries*()</code> methods as the <a href=\"/zh-CN/docs/Web/API/Performance\"><code>Performance</code></a> interface. However, note there is one key difference with these methods; the <a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/PerformanceObserverEntryList\"><code>performance observer entry list</code> <small>(en-US)</small></a> versions are used to retrieve <em>observed</em> performance entries within the observer callback.</p>\n<p>Besides the <a href=\"/zh-CN/docs/Web/API/PerformanceObserver\" title=\"PerformanceObserver's\"><code>PerformanceObserver's</code></a> interface's <a href=\"/zh-CN/docs/Web/API/PerformanceObserver/observe\" title=\"observe()\"><code>observe()</code></a> method (which is used to register the <a href=\"/zh-CN/docs/Web/API/PerformanceEntry/entryType\" title=\"entry types\"><code>entry types</code></a> to <em>observe</em>), the <a href=\"/zh-CN/docs/Web/API/PerformanceObserver\"><code>PerformanceObserver</code></a> interface also has a <a href=\"/zh-CN/docs/Web/API/PerformanceObserver/disconnect\" title=\"disconnect()\"><code>disconnect()</code></a> method that stops an observer from receiving further events.</p>\n<p>Performance observers were added to the <code>Level 2</code> version of the standard and were not widely implemented.</p>"}},{"type":"prose","value":{"id":"实现状态","title":"实现状态","isH3":false,"content":"<p>A summary of the interfaces' implementation status is provided below, including a link to more detailed information.</p>\n<ul>\n  <li>Performance interface extensions: As shown in the <a href=\"/zh-CN/docs/Web/API/Performance\"><code>Performance</code></a> interface's <a href=\"/docs/Web/API/Performance#browser_compatibility\">Browser Compatibility</a> table, most of these interfaces are broadly implemented by desktop browsers and have less support on mobile devices.</li>\n  <li>PerformanceEntry: As shown in the <a href=\"/zh-CN/docs/Web/API/PerformanceEntry\"><code>PerformanceEntry</code></a> interface's <a href=\"/docs/Web/API/PerformanceEntry#browser_compatibility\">Browser Compatibility</a> table, most of these interfaces are broadly implemented by desktop browsers and have less support on mobile devices.</li>\n  <li>Performance Observers <svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg>: As shown in the <a href=\"/zh-CN/docs/Web/API/PerformanceObserver\"><code>PerformanceObserver</code></a> interface's <a href=\"/docs/Web/API/PerformanceObserver#browser_compatibility\">Browser Compatibility</a> table, this interface has no shipping implementations.</li>\n</ul>\n<p>To test your browser's support for these interfaces, run the <a href=\"https://mdn.github.io/web-performance/perf-api-support.html\" class=\"external\" rel=\" noopener\"><code>perf-api-support</code></a> application.</p>"}},{"type":"prose","value":{"id":"参见","title":"参见","isH3":false,"content":"<ul>\n  <li><a href=\"http://siusin.github.io/perf-timing-primer/\" class=\"external\" rel=\" noopener\">A Primer for Web Performance Timing APIs</a></li>\n</ul>"}}],"toc":[{"text":"Performance extensions","id":"performance_extensions"},{"text":"PerformanceEntry interface","id":"performanceentry_interface"},{"text":"Performance observers","id":"performance_observers"},{"text":"实现状态","id":"实现状态"},{"text":"参见","id":"参见"}],"summary":"The Performance Timeline API defines extensions to the Performance interface to support client-side latency measurements within applications. The extensions provide interfaces to retrieve performance entry metrics based on specific filter criteria. The standard also includes interfaces that allow an application to define performance observer callbacks that are notified when specific performance events are added to the browser's performance timeline.","popularity":0,"modified":"2022-10-01T03:41:16.000Z","other_translations":[{"title":"Performance Timeline","locale":"en-US","native":"English (US)"},{"title":"Performance Timeline API","locale":"fr","native":"Français"},{"title":"パフォーマンスタイムライン","locale":"ja","native":"日本語"}],"source":{"folder":"zh-cn/web/api/performance_timeline","github_url":"https://github.com/mdn/translated-content/blob/main/files/zh-cn/web/api/performance_timeline/index.md","last_commit_url":"https://github.com/mdn/translated-content/commit/921c46a374ab0a9f4cc809af0370f8c412e54701","filename":"index.md"},"parents":[{"uri":"/zh-CN/docs/Web","title":"Web 开发技术"},{"uri":"/zh-CN/docs/Web/API","title":"Web API 接口参考"},{"uri":"/zh-CN/docs/Web/API/Performance_Timeline","title":"Performance Timeline"}],"pageTitle":"Performance Timeline - Web API 接口参考 | MDN","noIndexing":false}}