{"doc":{"isMarkdown":true,"isTranslated":true,"isActive":true,"flaws":{},"title":"Element.onfullscreenchange","mdn_url":"/zh-CN/docs/Web/API/Element/fullscreenchange_event","locale":"zh-CN","native":"中文 (简体)","sidebarHTML":"","body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<p>元素接口的 <strong><code>onfullscreenchange</code></strong> 属性是在元素过渡到或过渡到全屏模式时触发的全屏更改事件的事件处理程序。</p>"}},{"type":"prose","value":{"id":"语法","title":"语法","isH3":false,"content":"<div class=\"code-example\"><pre class=\"brush: plain notranslate\">targetDocument.onfullscreenchange = fullscreenChangeHandler;\n</pre></div>"}},{"type":"prose","value":{"id":"值","title":"值","isH3":true,"content":"<p>当事件处理程序处于 <code>fullscreenchange</code> 模式的时候，表明游戏元素被改变了或者是退出了全屏模式</p>"}},{"type":"prose","value":{"id":"example","title":"Example","isH3":false,"content":"<p>本示例建立一个<code>fullscreenchange</code> 处理程序，<code>handleFullscreenChange ()</code>。此函数通过检查 <a href=\"/zh-CN/docs/Web/API/Event/target\"><code>event.target</code></a> 的值来确定调用它的元素，然后将文档的<a href=\"/zh-CN/docs/Web/API/Document/fullscreenElement\"><code>fullscreenElement</code></a> 值与元素进行比较，以查看它们是否为同一节点。</p>\n<p>这给了我们一个值，即 <code>isFullscreen</code>, 我们将其传递到一个名为 <code>adjustMyControls()</code> 的函数，我们想象它是一个函数，可以对应用的用户界面进行调整，以便在全屏模式下而不是在窗口。</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">function</span> <span class=\"token function\">toggleFullscreen</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">let</span> elem <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"video\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  elem<span class=\"token punctuation\">.</span>onfullscreenchange <span class=\"token operator\">=</span> handleFullscreenChange<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>document<span class=\"token punctuation\">.</span>fullscreenElement<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    elem<span class=\"token punctuation\">.</span><span class=\"token function\">requestFullscreen</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">catch</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">err</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">Error attempting to enable full-screen mode: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>err<span class=\"token punctuation\">.</span>message<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> (</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>err<span class=\"token punctuation\">.</span>name<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">)</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n    document<span class=\"token punctuation\">.</span><span class=\"token function\">exitFullscreen</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">handleFullscreenChange</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">event</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">let</span> elem <span class=\"token operator\">=</span> event<span class=\"token punctuation\">.</span>target<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">let</span> isFullscreen <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span>fullscreenElement <span class=\"token operator\">===</span> elem<span class=\"token punctuation\">;</span>\n\n  <span class=\"token function\">adjustMyControls</span><span class=\"token punctuation\">(</span>isFullscreen<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>"}},{"type":"specifications","value":{"title":"规范","id":"规范","isH3":false,"specifications":[{"bcdSpecificationURL":"https://fullscreen.spec.whatwg.org/#handler-document-onfullscreenchange","title":"Fullscreen API Standard"}],"query":"api.Element.fullscreenchange_event"}},{"type":"browser_compatibility","value":{"title":"浏览器兼容性","id":"浏览器兼容性","isH3":false,"query":"api.Element.fullscreenchange_event","dataURL":"/zh-CN/docs/Web/API/Element/fullscreenchange_event/bcd.json"}},{"type":"prose","value":{"id":"参见","title":"参见","isH3":false,"content":"<ul>\n  <li><a href=\"/zh-CN/docs/Web/API/Fullscreen_API\">Fullscreen API</a></li>\n  <li><a href=\"/zh-CN/docs/Web/API/Fullscreen_API/Guide\">Guide to the Fullscreen API</a></li>\n  <li><a href=\"/zh-CN/docs/Web/API/Document/fullscreenchange_event\"><code>fullscreenchange</code></a></li>\n  <li><a href=\"/zh-CN/docs/Web/API/Element/fullscreenerror_event\"><code>Element.onfullscreenerror</code></a></li>\n  <li>The <a href=\"/zh-CN/docs/Web/API/Document\"><code>Document</code></a> equivalent: <a href=\"/zh-CN/docs/Web/API/Document/fullscreenchange_event\"><code>onfullscreenchange</code></a>.</li>\n</ul>"}}],"toc":[{"text":"语法","id":"语法"},{"text":"Example","id":"example"},{"text":"规范","id":"规范"},{"text":"浏览器兼容性","id":"浏览器兼容性"},{"text":"参见","id":"参见"}],"summary":"元素接口的 onfullscreenchange 属性是在元素过渡到或过渡到全屏模式时触发的全屏更改事件的事件处理程序。","popularity":0,"modified":"2022-10-01T03:41:16.000Z","other_translations":[{"title":"Element: fullscreenchange event","locale":"en-US","native":"English (US)"},{"title":"Element: fullscreenchange イベント","locale":"ja","native":"日本語"}],"source":{"folder":"zh-cn/web/api/element/fullscreenchange_event","github_url":"https://github.com/mdn/translated-content/blob/main/files/zh-cn/web/api/element/fullscreenchange_event/index.md","last_commit_url":"https://github.com/mdn/translated-content/commit/921c46a374ab0a9f4cc809af0370f8c412e54701","filename":"index.md"},"parents":[{"uri":"/zh-CN/docs/Web","title":"Web 开发技术"},{"uri":"/zh-CN/docs/Web/API","title":"Web API 接口参考"},{"uri":"/zh-CN/docs/Web/API/Element","title":"Element"},{"uri":"/zh-CN/docs/Web/API/Element/fullscreenchange_event","title":"Element.onfullscreenchange"}],"pageTitle":"Element.onfullscreenchange - Web API 接口参考 | MDN","noIndexing":false}}