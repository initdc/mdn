{"doc":{"isMarkdown":true,"isTranslated":true,"isActive":true,"flaws":{},"title":"Bluetooth.requestDevice()","mdn_url":"/zh-CN/docs/Web/API/Bluetooth/requestDevice","locale":"zh-CN","native":"中文 (简体)","sidebarHTML":"<ol><li><strong><a href=\"/zh-CN/docs/Web/API/Bluetooth\"><code>Bluetooth</code></a></strong></li><li class=\"toggle\"><details open=\"\"><summary>属性</summary><ol><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/Bluetooth/referringDevice\"><code>referringDevice</code> <small>(en-US)</small></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>方法</summary><ol><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><em><code>requestDevice()</code></em></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>事件</summary><ol><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/Bluetooth/availabilitychanged_event\"><code>availabilitychanged</code> <small>(en-US)</small></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>继承</summary><ol><li><a href=\"/zh-CN/docs/Web/API/EventTarget\"><code>EventTarget</code></a></li></ol></details></li></ol>","body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<div class=\"notecard experimental\" id=\"sect1\"><p><strong>Experimental:</strong> <strong>这是一个实验中的功能</strong><br>此功能某些浏览器尚在开发中，请参考<a href=\"#browser_compatibility\">浏览器兼容性表格</a>以得到在不同浏览器中适合使用的前缀。由于该功能对应的标准文档可能被重新修订，所以在未来版本的浏览器中该功能的语法和行为可能随之改变。</p></div>\n<p><a href=\"/zh-CN/docs/Web/API/Bluetooth\"><code>Bluetooth</code></a>接口的 <strong><code>Bluetooth.requestDevice()</code></strong> 方法返回一个带有对应 options 的<a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/BluetoothDevice\"><code>BluetoothDevice</code> <small>(en-US)</small></a>对象的<a href=\"/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Promise\"><code>Promise</code></a>对象。如果没有蓝牙设备选择界面，则此方法返回与条件匹配的第一个设备。</p>"}},{"type":"prose","value":{"id":"语法","title":"语法","isH3":false,"content":"<div class=\"code-example\"><pre class=\"brush: plain notranslate\">Bluetooth.requestDevice(options).then(function(bluetoothDevice) { ... })\n</pre></div>"}},{"type":"prose","value":{"id":"返回值","title":"返回值","isH3":true,"content":"<p>带有<a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/BluetoothDevice\"><code>BluetoothDevice</code> <small>(en-US)</small></a> 对象的<a href=\"/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Promise\"><code>Promise</code></a> 对象。</p>"}},{"type":"prose","value":{"id":"参数","title":"参数","isH3":true,"content":"<dl>\n  <dt id=\"options\">options</dt>\n  <dd>\n    <p>设置设备请求选项的对象。可用的选项是：</p>\n    <ul>\n      <li><code>filters[]</code>: 一个 BluetoothScanFilters 数组。此过滤器由一个 BluetoothServiceUUID 数组，一个名称参数和一个 namePrefix 参数组成。</li>\n      <li><code>optionalServices[]</code>: 一个 BluetoothServiceUUID 数组。</li>\n      <li><code>acceptAllDevices</code>: boolean 表示请求脚本可以接受所有蓝牙设备。默认值为 false。</li>\n    </ul>\n  </dd>\n</dl>"}},{"type":"prose","value":{"id":"示例","title":"示例","isH3":false,"content":"<div class=\"code-example\"><pre class=\"brush: plain notranslate\">//扫描选项匹配任何设备广播：\n\n//. 标准心率服务。\n\n//. 两个 16 位服务 ID 0x1802 和 0x1803。\n\n//. 专有的 128 位 UUID 服务 c48e6067-5295-48d3-8d5c-0395f61792b1。\n\n//. 名称为“设备名”的设备。\n\n//. 名称以“前缀”开头的设备。\n\n//\n\n//如果设备包含电池服务，\n\n//即使设备不通告该服务，也可以访问电池服务。\n\nlet options = {\n  filters: [\n    {services: ['heart_rate']},\n    {services: [0x1802, 0x1803]},\n    {services: ['c48e6067-5295-48d3-8d5c-0395f61792b1']},\n    {name: '设备名'},\n    {namePrefix: '前缀'}\n  ],\n  optionalServices: ['battery_service']\n}\n\nnavigator.bluetooth.requestDevice(options).then(function(device) {\n  console.log('名称：' + device.name);\n  // 在此处实现设备调用\n})\n.catch(function(error) {\n  console.log(\"出现错误： \" + error);\n});\n</pre></div>\n<p>查看<a href=\"https://webbluetoothcg.github.io/web-bluetooth/#example-filter-by-services\" class=\"external\" rel=\" noopener\">详细示例</a></p>"}},{"type":"specifications","value":{"title":"规范","id":"规范","isH3":false,"specifications":[{"bcdSpecificationURL":"https://webbluetoothcg.github.io/web-bluetooth/#dom-bluetooth-requestdevice","title":"Web Bluetooth"}],"query":"api.Bluetooth.requestDevice"}},{"type":"browser_compatibility","value":{"title":"浏览器兼容性","id":"浏览器兼容性","isH3":false,"query":"api.Bluetooth.requestDevice","dataURL":"/zh-CN/docs/Web/API/Bluetooth/requestDevice/bcd.json"}}],"toc":[{"text":"语法","id":"语法"},{"text":"示例","id":"示例"},{"text":"规范","id":"规范"},{"text":"浏览器兼容性","id":"浏览器兼容性"}],"summary":"Bluetooth接口的 Bluetooth.requestDevice() 方法返回一个带有对应 options 的BluetoothDevice (en-US)对象的Promise对象。如果没有蓝牙设备选择界面，则此方法返回与条件匹配的第一个设备。","popularity":0,"modified":"2022-10-01T03:41:16.000Z","other_translations":[{"title":"Bluetooth.requestDevice()","locale":"en-US","native":"English (US)"}],"source":{"folder":"zh-cn/web/api/bluetooth/requestdevice","github_url":"https://github.com/mdn/translated-content/blob/main/files/zh-cn/web/api/bluetooth/requestdevice/index.md","last_commit_url":"https://github.com/mdn/translated-content/commit/921c46a374ab0a9f4cc809af0370f8c412e54701","filename":"index.md"},"parents":[{"uri":"/zh-CN/docs/Web","title":"Web 开发技术"},{"uri":"/zh-CN/docs/Web/API","title":"Web API 接口参考"},{"uri":"/zh-CN/docs/Web/API/Bluetooth","title":"Bluetooth"},{"uri":"/zh-CN/docs/Web/API/Bluetooth/requestDevice","title":"Bluetooth.requestDevice()"}],"pageTitle":"Bluetooth.requestDevice() - Web API 接口参考 | MDN","noIndexing":false}}