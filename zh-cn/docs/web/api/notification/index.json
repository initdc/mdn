{"doc":{"isMarkdown":true,"isTranslated":true,"isActive":true,"flaws":{},"title":"notification","mdn_url":"/zh-CN/docs/Web/API/notification","locale":"zh-CN","native":"中文 (简体)","sidebarHTML":"<ol><li><strong><a href=\"/zh-CN/docs/Web/API/Notifications_API\">Notifications API</a></strong></li><li><strong><a href=\"/zh-CN/docs/Web/API/notification\"><code>Notification</code></a></strong></li><li class=\"toggle\"><details open=\"\"><summary>构造函数</summary><ol><li><a href=\"/zh-CN/docs/Web/API/notification/Notification\"><code>Notification()</code></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>属性</summary><ol><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><a href=\"/zh-CN/docs/Web/API/notification/actions\"><code>actions</code></a></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><a href=\"/zh-CN/docs/Web/API/notification/badge\"><code>badge</code></a></li><li><a href=\"/zh-CN/docs/Web/API/notification/body\"><code>body</code></a></li><li><a href=\"/zh-CN/docs/Web/API/notification/data\"><code>data</code></a></li><li><a href=\"/zh-CN/docs/Web/API/notification/dir\"><code>dir</code></a></li><li><a href=\"/zh-CN/docs/Web/API/notification/icon\"><code>icon</code></a></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><a href=\"/zh-CN/docs/Web/API/notification/image\"><code>image</code></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/Notification/lang\"><code>lang</code> <small>(en-US)</small></a></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/Notification/maxActions\"><code>maxActions</code> <small>(en-US)</small></a></li><li><a href=\"/zh-CN/docs/Web/API/notification/permission\"><code>permission</code></a></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><a href=\"/zh-CN/docs/Web/API/notification/renotify\"><code>renotify</code></a></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><a href=\"/zh-CN/docs/Web/API/notification/requireInteraction\"><code>requireInteraction</code></a></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/Notification/silent\"><code>silent</code> <small>(en-US)</small></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/Notification/tag\"><code>tag</code> <small>(en-US)</small></a></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/Notification/timestamp\"><code>timestamp</code> <small>(en-US)</small></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/Notification/title\"><code>title</code> <small>(en-US)</small></a></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/Notification/vibrate\"><code>vibrate</code> <small>(en-US)</small></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>方法</summary><ol><li><a href=\"/zh-CN/docs/Web/API/notification/close\"><code>close()</code></a></li><li><a href=\"/zh-CN/docs/Web/API/notification/requestPermission\"><code>requestPermission()</code></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>事件</summary><ol><li><a href=\"/zh-CN/docs/Web/API/Notification/click_event\"><code>click</code></a></li><li><a href=\"/zh-CN/docs/Web/API/Notification/close_event\"><code>close</code></a></li><li><a href=\"/zh-CN/docs/Web/API/Notification/error_event\"><code>error</code></a></li><li><a href=\"/zh-CN/docs/Web/API/Notification/show_event\"><code>show</code></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>继承</summary><ol><li><a href=\"/zh-CN/docs/Web/API/EventTarget\"><code>EventTarget</code></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>Web Notifications 的相关页面</summary><ol><li><a href=\"/zh-CN/docs/Web/API/NotificationEvent\"><code>NotificationEvent</code></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/ServiceWorkerRegistration/getNotifications\"><code>ServiceWorkerRegistration.getNotifications()</code> <small>(en-US)</small></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/ServiceWorkerRegistration/showNotification\"><code>ServiceWorkerRegistration.showNotification()</code> <small>(en-US)</small></a></li></ol></details></li></ol>","body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<div class=\"notecard note\" id=\"sect1\">\n  <p><strong>Note:</strong> 此特性在 <a href=\"/zh-CN/docs/Web/API/Web_Workers_API\">Web Worker</a> 中可用</p>\n</div><div class=\"notecard secure\" id=\"sect2\"><p><strong>安全上下文:</strong> 此项功能仅在<a href=\"/zh-CN/docs/Web/Security/Secure_Contexts\">安全上下文</a>(HTTPS), 一些 <a href=\"#browser_compatibility\">支持的浏览器</a>.</p></div>\n<p><a href=\"/zh-CN/docs/Web/API/Notifications_API\">Notifications API</a> 的<strong>通知</strong>接口用于向用户配置和显示桌面通知。</p>"}},{"type":"prose","value":{"id":"构造方法","title":"构造方法","isH3":false,"content":"<pre class=\"notranslate\">let notification = new Notification(title, options)\n</pre>"}},{"type":"prose","value":{"id":"参数","title":"参数","isH3":true,"content":"<dl>\n  <dt id=\"title\"><code>title</code></dt>\n  <dd>\n    <p>一定会被显示的通知标题</p>\n  </dd>\n  <dt id=\"options\"><code>options</code> <span class=\"badge inline optional\">可选</span></dt>\n  <dd>\n    <p>一个被允许用来设置通知的对象。它包含以下属性：</p>\n    <ul>\n      <li><code>dir</code> : 文字的方向；它的值可以是 <code>auto（自动）</code>, <code>ltr（从左到右）</code>, or <code>rtl</code>（从右到左）</li>\n      <li><code>lang</code>: 指定通知中所使用的语言。这个字符串必须在 <a href=\"https://tools.ietf.org/html/bcp47\" class=\"external\" rel=\" noopener\">BCP 47 language tag</a> 文档中是有效的。</li>\n      <li><code>body</code>: 通知中额外显示的字符串</li>\n      <li><code>tag</code>: 赋予通知一个 ID，以便在必要的时候对通知进行刷新、替换或移除。</li>\n      <li><code>icon</code>: 一个图片的 URL，将被用于显示通知的图标。</li>\n    </ul>\n  </dd>\n</dl>"}},{"type":"prose","value":{"id":"属性","title":"属性","isH3":false,"content":""}},{"type":"prose","value":{"id":"静态属性","title":"静态属性","isH3":true,"content":"<p>这些属性仅在 <code>Notification</code> 对象上有效。</p>\n<dl>\n  <dt id=\"notification.permission\"><a href=\"/zh-CN/docs/Web/API/notification/permission\"><code>Notification.permission</code></a> <span title=\"该属性的值无法更改\" class=\"badge inline readonly\">只读 </span></dt>\n  <dd>\n    <p>一个用于表明当前通知显示授权状态的字符串。可能的值包括：<code>denied</code> (用户拒绝了通知的显示), <code>granted</code> (用户允许了通知的显示), 或 <code>default</code> (因为不知道用户的选择，所以浏览器的行为与 denied 时相同).</p>\n  </dd>\n</dl>"}},{"type":"prose","value":{"id":"实例属性","title":"实例属性","isH3":true,"content":"<p>这些属性仅在 <code>Notification</code> 的实例中有效。</p>\n<dl>\n  <dt id=\"notification.title_en-us\"><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/Notification/title\"><code>Notification.title</code> <small>(en-US)</small></a> <span title=\"该属性的值无法更改\" class=\"badge inline readonly\">只读 </span> (moz only)</dt>\n  <dd>\n    <p>在构造方法中指定的 title 参数。</p>\n  </dd>\n  <dt id=\"notification.dir\"><a href=\"/zh-CN/docs/Web/API/notification/dir\"><code>Notification.dir</code></a> <span title=\"该属性的值无法更改\" class=\"badge inline readonly\">只读 </span></dt>\n  <dd>\n    <p>通知的文本显示方向。在构造方法的 options 中指定。</p>\n  </dd>\n  <dt id=\"notification.lang_en-us\"><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/Notification/lang\"><code>Notification.lang</code> <small>(en-US)</small></a> <span title=\"该属性的值无法更改\" class=\"badge inline readonly\">只读 </span></dt>\n  <dd>\n    <p>通知的语言。在构造方法的 options 中指定。</p>\n  </dd>\n  <dt id=\"notification.body\"><a href=\"/zh-CN/docs/Web/API/notification/body\"><code>Notification.body</code></a> <span title=\"该属性的值无法更改\" class=\"badge inline readonly\">只读 </span></dt>\n  <dd>\n    <p>通知的文本内容。在构造方法的 options 中指定。</p>\n  </dd>\n  <dt id=\"notification.tag_en-us\"><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/Notification/tag\"><code>Notification.tag</code> <small>(en-US)</small></a> <span title=\"该属性的值无法更改\" class=\"badge inline readonly\">只读 </span></dt>\n  <dd>\n    <p>通知的 ID。在构造方法的 options 中指定。</p>\n  </dd>\n  <dt id=\"notification.icon\"><a href=\"/zh-CN/docs/Web/API/notification/icon\"><code>Notification.icon</code></a> <span title=\"该属性的值无法更改\" class=\"badge inline readonly\">只读 </span></dt>\n  <dd>\n    <p>通知的图标图片的 URL 地址。在构造方法的 options 中指定。</p>\n  </dd>\n</dl>\n<h4 id=\"事件处理\">事件处理</h4>\n<dl>\n  <dt id=\"notification.onclick\"><a href=\"/zh-CN/docs/Web/API/Notification/click_event\"><code>Notification.onclick</code></a></dt>\n  <dd>\n    <p>处理 <code><a href=\"/en-US/docs/Web/API/Element/click_event\" title=\"Currently only available in English (US)\" class=\"only-in-en-us\">click (en-US)</a></code> 事件的处理。每当用户点击通知时被触发。</p>\n  </dd>\n  <dt id=\"notification.onshow\"><a href=\"/zh-CN/docs/Web/API/Notification/show_event\"><code>Notification.onshow</code></a></dt>\n  <dd>\n    <p>处理 <code><a href=\"/en-US/docs/Web/API/Element/show_event\" title=\"Currently only available in English (US)\" class=\"only-in-en-us\">show (en-US)</a></code> 事件的处理。当通知显示的时候被触发。</p>\n  </dd>\n  <dt id=\"notification.onerror\"><a href=\"/zh-CN/docs/Web/API/Notification/error_event\"><code>Notification.onerror</code></a></dt>\n  <dd>\n    <p>处理 <code><a href=\"/en-US/docs/Web/API/Element/error_event\" title=\"Currently only available in English (US)\" class=\"only-in-en-us\">error (en-US)</a></code> 事件的处理。每当通知遇到错误时被触发。</p>\n  </dd>\n  <dt id=\"notification.onclose\"><a href=\"/zh-CN/docs/Web/API/Notification/close_event\"><code>Notification.onclose</code></a></dt>\n  <dd>\n    <p>处理 <code><a href=\"/zh-CN/docs/Web/Reference/Events/close\" title=\"This is a link to an unwritten page\" class=\"page-not-created\">close</a></code> 事件的处理。当用户关闭通知时被触发。</p>\n  </dd>\n</dl>"}},{"type":"prose","value":{"id":"方法","title":"方法","isH3":false,"content":""}},{"type":"prose","value":{"id":"静态方法","title":"静态方法","isH3":true,"content":"<p>这些方法仅在 <code>Notification</code> 对象中有效。</p>\n<dl>\n  <dt id=\"notification.requestpermission\"><a href=\"/zh-CN/docs/Web/API/notification/requestPermission\"><code>Notification.requestPermission()</code></a></dt>\n  <dd>\n    <p>用于当前页面向用户申请显示通知的权限。这个方法只能被用户行为调用（比如：onclick 事件），并且不能被其他的方式调用。</p>\n  </dd>\n</dl>"}},{"type":"prose","value":{"id":"实例方法","title":"实例方法","isH3":true,"content":"<p>这些方法仅在 <code>Notification</code> 实例或其 <a href=\"/zh-CN/docs/Web/JavaScript/Inheritance_and_the_prototype_chain\"><code>prototype</code></a> 中有效。</p>\n<dl>\n  <dt id=\"notification.close\"><a href=\"/zh-CN/docs/Web/API/notification/close\"><code>Notification.close()</code></a></dt>\n  <dd>\n    <p>用于关闭通知。</p>\n  </dd>\n</dl>\n<p><code>Notification</code> 对象继承自 <a href=\"/zh-CN/docs/Web/API/EventTarget\"><code>EventTarget</code></a> 接口。</p><dl>\n  <dt id=\"eventtarget.addeventlistener\"><a href=\"/en-US/docs/Web/API/EventTarget/addEventListener\"><code>EventTarget.addEventListener()</code></a></dt>\n  <dd>\n    <p>Registers an event handler of a specific event type on the <code>EventTarget</code>.</p>\n  </dd>\n  <dt id=\"eventtarget.removeeventlistener\"><a href=\"/en-US/docs/Web/API/EventTarget/removeEventListener\"><code>EventTarget.removeEventListener()</code></a></dt>\n  <dd>\n    <p>Removes an event listener from the <code>EventTarget</code>.</p>\n  </dd>\n  <dt id=\"eventtarget.dispatchevent\"><a href=\"/en-US/docs/Web/API/EventTarget/dispatchEvent\"><code>EventTarget.dispatchEvent()</code></a></dt>\n  <dd>\n    <p>Dispatches an event to this <code>EventTarget</code>.</p>\n  </dd>\n</dl>"}},{"type":"prose","value":{"id":"example","title":"Example","isH3":false,"content":"<p>假定有如下 HTML：</p>\n<div class=\"code-example\"><pre class=\"brush: html notranslate\"><code><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token special-attr\"><span class=\"token attr-name\">onclick</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token value javascript language-javascript\"><span class=\"token function\">notifyMe</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></span><span class=\"token punctuation\">\"</span></span></span><span class=\"token punctuation\">&gt;</span></span>Notify me!<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">&gt;</span></span>\n</code></pre></div>\n<p>接下来发送一条通知：</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">function</span> <span class=\"token function\">notifyMe</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// 先检查浏览器是否支持</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Notification\"</span> <span class=\"token keyword\">in</span> window<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"This browser does not support desktop notification\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token comment\">// 检查用户是否同意接受通知</span>\n  <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>Notification<span class=\"token punctuation\">.</span>permission <span class=\"token operator\">===</span> <span class=\"token string\">\"granted\"</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// If it's okay let's create a notification</span>\n    <span class=\"token keyword\">var</span> notification <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Notification</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Hi there!\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token comment\">// 否则我们需要向用户获取权限</span>\n  <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>Notification<span class=\"token punctuation\">.</span>permission <span class=\"token operator\">!==</span> <span class=\"token string\">\"denied\"</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    Notification<span class=\"token punctuation\">.</span><span class=\"token function\">requestPermission</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">permission</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token comment\">// 如果用户接受权限，我们就可以发起一条消息</span>\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>permission <span class=\"token operator\">===</span> <span class=\"token string\">\"granted\"</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n         <span class=\"token keyword\">var</span> notification <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Notification</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Hi there!\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n\n  <span class=\"token comment\">// 最后，如果执行到这里，说明用户已经拒绝对相关通知进行授权</span>\n  <span class=\"token comment\">// 出于尊重，我们不应该再打扰他们了</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>"}},{"type":"prose","value":{"id":"see_the_live_result","title":"See the live result","isH3":true,"content":"<iframe class=\"sample-code-frame\" title=\"Example sample\" id=\"frame_example\" width=\"100%\" height=\"60\" src=\"https://yari-demos.prod.mdn.mozit.cloud/zh-CN/docs/Web/API/notification/_sample_.example.html\" loading=\"lazy\"></iframe>"}},{"type":"specifications","value":{"title":"规范","id":"规范","isH3":false,"specifications":[{"bcdSpecificationURL":"https://notifications.spec.whatwg.org/#api","title":"Notifications API Standard"}],"query":"api.Notification"}},{"type":"prose","value":{"id":"权限","title":"权限","isH3":false,"content":"<p>当你要在开放 web 应用中使用通知时，请确保将 <code>desktop-notification</code> 权限添加到你的 manifest 文件中。通知可以被用于任何权限级别，hosted 或更高。</p>\n<pre class=\"notranslate\">\"permissions\": {\n    \"desktop-notification\":{}\n}\n</pre>"}},{"type":"browser_compatibility","value":{"title":"浏览器兼容性","id":"浏览器兼容性","isH3":false,"query":"api.Notification","dataURL":"/zh-CN/docs/Web/API/notification/bcd.json"}},{"type":"prose","value":{"id":"请参见","title":"请参见","isH3":false,"content":"<ul>\n  <li><a href=\"/zh-CN/docs/Web/API/Notifications_API/Using_the_Notifications_API\">使用 Web Notifications</a></li>\n  <li><a href=\"https://github.com/soapdog/firefoxos-sample-app-image-uploader\" class=\"external\" rel=\" noopener\">Firefox OS 图片上传器示例 App</a></li>\n  <li><a href=\"https://codepen.io/xgqfrms/pen/vxaQKe\" class=\"external\" rel=\" noopener\">https://codepen.io/xgqfrms/pen/vxaQKe</a></li>\n</ul>"}}],"toc":[{"text":"构造方法","id":"构造方法"},{"text":"属性","id":"属性"},{"text":"方法","id":"方法"},{"text":"Example","id":"example"},{"text":"规范","id":"规范"},{"text":"权限","id":"权限"},{"text":"浏览器兼容性","id":"浏览器兼容性"},{"text":"请参见","id":"请参见"}],"summary":"Notifications API 的通知接口用于向用户配置和显示桌面通知。","popularity":0.0006,"modified":"2022-10-01T03:41:16.000Z","other_translations":[{"title":"Notification","locale":"en-US","native":"English (US)"},{"title":"Notification","locale":"es","native":"Español"},{"title":"Notification","locale":"fr","native":"Français"},{"title":"Notification","locale":"ja","native":"日本語"},{"title":"Notification","locale":"ko","native":"한국어"},{"title":"Notificações","locale":"pt-BR","native":"Português (do Brasil)"},{"title":"Уведомление","locale":"ru","native":"Русский"},{"title":"Notification","locale":"zh-TW","native":"正體中文 (繁體)"}],"source":{"folder":"zh-cn/web/api/notification","github_url":"https://github.com/mdn/translated-content/blob/main/files/zh-cn/web/api/notification/index.md","last_commit_url":"https://github.com/mdn/translated-content/commit/921c46a374ab0a9f4cc809af0370f8c412e54701","filename":"index.md"},"parents":[{"uri":"/zh-CN/docs/Web","title":"Web 开发技术"},{"uri":"/zh-CN/docs/Web/API","title":"Web API 接口参考"},{"uri":"/zh-CN/docs/Web/API/notification","title":"notification"}],"pageTitle":"notification - Web API 接口参考 | MDN","noIndexing":false}}