{"doc":{"isMarkdown":true,"isTranslated":true,"isActive":true,"flaws":{},"title":"代理自动配置文件（PAC）文件","mdn_url":"/zh-CN/docs/Web/HTTP/Proxy_servers_and_tunneling/Proxy_Auto-Configuration_PAC_file","locale":"zh-CN","native":"中文 (简体)","sidebarHTML":"\n  <ol>\n    <li><a href=\"/zh-CN/docs/Web/HTTP\"><strong><em>HTTP</em></strong></a></li>\n    <li><strong>Guides:</strong></li>\n    <li class=\"toggle\">\n        <details>\n            <summary>Resources and URIs</summary>\n            <ol>\n                <li><a href=\"/zh-CN/docs/Web/HTTP/Basics_of_HTTP/Identifying_resources_on_the_Web\">Identifying resources on the Web</a></li>\n                <li><a href=\"/zh-CN/docs/Web/HTTP/Basics_of_HTTP/Data_URIs\">Data URIs</a></li>\n                <li><a href=\"/zh-CN/docs/Web/HTTP/Basics_of_HTTP/MIME_Types\">Introduction to MIME types</a></li>\n                <li><a href=\"/zh-CN/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types\">Common MIME types</a></li>\n                <li><a href=\"/zh-CN/docs/Web/HTTP/Basics_of_HTTP/Choosing_between_www_and_non-www_URLs\">Choosing between www and non-www URLs</a></li>\n            </ol>\n        </details>\n    </li>\n    <li class=\"toggle\">\n        <details>\n            <summary>HTTP guide</summary>\n            <ol>\n                <li><a href=\"/zh-CN/docs/Web/HTTP/Basics_of_HTTP\">Basics of HTTP</a></li>\n                <li><a href=\"/zh-CN/docs/Web/HTTP/Overview\">Overview of HTTP</a></li>\n                <li><a href=\"/zh-CN/docs/Web/HTTP/Basics_of_HTTP/Evolution_of_HTTP\">Evolution of HTTP</a></li>\n                <li><a href=\"/zh-CN/docs/Web/HTTP/Messages\">HTTP Messages</a></li>\n                <li><a href=\"/zh-CN/docs/Web/HTTP/Session\">A typical HTTP session</a></li>\n                <li><a href=\"/zh-CN/docs/Web/HTTP/Connection_management_in_HTTP_1.x\">Connection management in HTTP/1.x</a></li>\n                <li><a href=\"/zh-CN/docs/Web/HTTP/Protocol_upgrade_mechanism\">Protocol upgrade mechanism</a></li>\n            </ol>\n        </details>\n    </li>\n    <li class=\"toggle\">\n        <details>\n            <summary>HTTP security</summary>\n            <ol>\n                <li><a href=\"/zh-CN/docs/Web/HTTP/CSP\">Content Security Policy (CSP)</a></li>\n                <li><a href=\"/zh-CN/docs/Web/HTTP/Public_Key_Pinning\">HTTP Public Key Pinning (HPKP)</a></li>\n                <li><a href=\"/zh-CN/docs/Web/HTTP/Headers/Strict-Transport-Security\">HTTP Strict Transport Security (HSTS)</a></li>\n                <li><a href=\"/zh-CN/docs/Web/HTTP/Cookies#Secure_and_HttpOnly_cookies\">Cookie security</a></li>\n                <li><a href=\"/zh-CN/docs/Web/HTTP/Headers/X-Content-Type-Options\">X-Content-Type-Options</a></li>\n                <li><a href=\"/zh-CN/docs/Web/HTTP/Headers/X-Frame-Options\">X-Frame-Options</a></li>\n                <li><a href=\"/zh-CN/docs/Web/HTTP/Headers/X-XSS-Protection\">X-XSS-Protection</a></li>\n                <li><a href=\"https://wiki.mozilla.org/Security/Guidelines/Web_Security\">Mozilla web security guidelines</a></li>\n                <li><a href=\"https://observatory.mozilla.org/\">Mozilla Observatory</a></li>\n            </ol>\n        </details>\n    </li>\n\n    <li><a href=\"/zh-CN/docs/Web/HTTP/CORS\">HTTP access control (CORS)</a></li>\n    <li><a href=\"/zh-CN/docs/Web/HTTP/Authentication\">HTTP authentication</a></li>\n    <li><a href=\"/zh-CN/docs/Web/HTTP/Caching\">HTTP caching</a></li>\n    <li><a href=\"/zh-CN/docs/Web/HTTP/Compression\">HTTP compression</a></li>\n    <li><a href=\"/zh-CN/docs/Web/HTTP/Conditional_requests\">HTTP conditional requests</a></li>\n    <li><a href=\"/zh-CN/docs/Web/HTTP/Content_negotiation\">HTTP content negotiation</a></li>\n    <li><a href=\"/zh-CN/docs/Web/HTTP/Cookies\">HTTP cookies</a></li>\n    <li><a href=\"/zh-CN/docs/Web/HTTP/Range_requests\">HTTP range requests</a></li>\n    <li><a href=\"/zh-CN/docs/Web/HTTP/Redirections\">HTTP redirects</a></li>\n    <li><a href=\"/zh-CN/docs/Web/HTTP/Resources_and_specifications\">HTTP specifications</a></li>\n    <li><a href=\"/zh-CN/docs/Web/HTTP/Feature_Policy\">Feature policy</a></li>\n    <li><strong>References:</strong></li>\n    <li class=\"toggle\">\n        <details>\n            <summary>HTTP headers</summary>\n            <ol><li><svg class=\"icon icon-nonstandard\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-nonstandard\"></use>\n</svg><svg class=\"icon icon-deprecated\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-deprecated\"></use>\n</svg><a href=\"/zh-CN/docs/Web/HTTP/Headers/Accept-CH-Lifetime\"><code>Accept-CH-Lifetime</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Headers/Accept-CH\"><code>Accept-CH</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Headers/Accept-Charset\"><code>Accept-Charset</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Headers/Accept-Encoding\"><code>Accept-Encoding</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Headers/Accept-Language\"><code>Accept-Language</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Headers/Accept-Patch\"><code>Accept-Patch</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Headers/Accept-Post\"><code>Accept-Post</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Headers/Accept-Ranges\"><code>Accept-Ranges</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Headers/Accept\"><code>Accept</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Headers/Access-Control-Allow-Credentials\"><code>Access-Control-Allow-Credentials</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Headers/Access-Control-Allow-Headers\"><code>Access-Control-Allow-Headers</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Headers/Access-Control-Allow-Methods\"><code>Access-Control-Allow-Methods</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Headers/Access-Control-Allow-Origin\"><code>Access-Control-Allow-Origin</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Headers/Access-Control-Expose-Headers\"><code>Access-Control-Expose-Headers</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Headers/Access-Control-Max-Age\"><code>Access-Control-Max-Age</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Headers/Access-Control-Request-Headers\"><code>Access-Control-Request-Headers</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Headers/Access-Control-Request-Method\"><code>Access-Control-Request-Method</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Headers/Age\"><code>Age</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Headers/Allow\"><code>Allow</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Headers/Alt-Svc\"><code>Alt-Svc</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Headers/Authorization\"><code>Authorization</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Headers/Cache-Control\"><code>Cache-Control</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Headers/Clear-Site-Data\"><code>Clear-Site-Data</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Headers/Connection\"><code>Connection</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Headers/Content-Disposition\"><code>Content-Disposition</code></a></li><li><svg class=\"icon icon-nonstandard\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-nonstandard\"></use>\n</svg><svg class=\"icon icon-deprecated\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-deprecated\"></use>\n</svg><a href=\"/zh-CN/docs/Web/HTTP/Headers/Content-DPR\"><code>Content-DPR</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Headers/Content-Encoding\"><code>Content-Encoding</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Headers/Content-Language\"><code>Content-Language</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Headers/Content-Length\"><code>Content-Length</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Headers/Content-Location\"><code>Content-Location</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Headers/Content-Range\"><code>Content-Range</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Headers/Content-Security-Policy-Report-Only\"><code>Content-Security-Policy-Report-Only</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Headers/Content-Security-Policy\"><code>Content-Security-Policy</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Headers/Content-Type\"><code>Content-Type</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Headers/Cookie\"><code>Cookie</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Headers/Cross-Origin-Embedder-Policy\"><code>Cross-Origin-Embedder-Policy</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Headers/Cross-Origin-Opener-Policy\"><code>Cross-Origin-Opener-Policy</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Headers/Cross-Origin-Resource-Policy\"><code>Cross-Origin-Resource-Policy</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Headers/Date\"><code>Date</code></a></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><a href=\"/zh-CN/docs/Web/HTTP/Headers/Device-Memory\"><code>Device-Memory</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Headers/Digest\"><code>Digest</code></a></li><li><svg class=\"icon icon-deprecated\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-deprecated\"></use>\n</svg><a href=\"/zh-CN/docs/Web/HTTP/Headers/DNT\"><code>DNT</code></a></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><a href=\"/zh-CN/docs/Web/HTTP/Headers/Downlink\"><code>Downlink</code></a></li><li><svg class=\"icon icon-nonstandard\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-nonstandard\"></use>\n</svg><svg class=\"icon icon-deprecated\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-deprecated\"></use>\n</svg><a href=\"/zh-CN/docs/Web/HTTP/Headers/DPR\"><code>DPR</code></a></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><a href=\"/zh-CN/docs/Web/HTTP/Headers/Early-Data\"><code>Early-Data</code></a></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><a href=\"/zh-CN/docs/Web/HTTP/Headers/ECT\"><code>ECT</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Headers/ETag\"><code>ETag</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Headers/Expect-CT\"><code>Expect-CT</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Headers/Expect\"><code>Expect</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Headers/Expires\"><code>Expires</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Headers/Feature-Policy\"><code>Feature-Policy</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Headers/Forwarded\"><code>Forwarded</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Headers/From\"><code>From</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Headers/Host\"><code>Host</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Headers/If-Match\"><code>If-Match</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Headers/If-Modified-Since\"><code>If-Modified-Since</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Headers/If-None-Match\"><code>If-None-Match</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Headers/If-Range\"><code>If-Range</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Headers/If-Unmodified-Since\"><code>If-Unmodified-Since</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Headers/Keep-Alive\"><code>Keep-Alive</code></a></li><li><svg class=\"icon icon-nonstandard\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-nonstandard\"></use>\n</svg><svg class=\"icon icon-deprecated\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-deprecated\"></use>\n</svg><a href=\"/zh-CN/docs/Web/HTTP/Headers/Large-Allocation\"><code>Large-Allocation</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Headers/Last-Modified\"><code>Last-Modified</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Headers/Link\"><code>Link</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Headers/Location\"><code>Location</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Headers/Max-Forwards\"><code>Max-Forwards</code></a></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><a href=\"/zh-CN/docs/Web/HTTP/Headers/NEL\"><code>NEL</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Headers/Origin\"><code>Origin</code></a></li><li><svg class=\"icon icon-deprecated\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-deprecated\"></use>\n</svg><a href=\"/zh-CN/docs/Web/HTTP/Headers/Pragma\"><code>Pragma</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Headers/Proxy-Authenticate\"><code>Proxy-Authenticate</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Headers/Proxy-Authorization\"><code>Proxy-Authorization</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Headers/Range\"><code>Range</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Headers/Referer\"><code>Referer</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Headers/Referrer-Policy\"><code>Referrer-Policy</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Headers/Retry-After\"><code>Retry-After</code></a></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><a href=\"/zh-CN/docs/Web/HTTP/Headers/RTT\"><code>RTT</code></a></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><a href=\"/zh-CN/docs/Web/HTTP/Headers/Save-Data\"><code>Save-Data</code></a></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><a href=\"/zh-CN/docs/Web/HTTP/Headers/Sec-CH-UA-Arch\"><code>Sec-CH-UA-Arch</code></a></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><a href=\"/zh-CN/docs/Web/HTTP/Headers/Sec-CH-UA-Bitness\"><code>Sec-CH-UA-Bitness</code></a></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><a href=\"/zh-CN/docs/Web/HTTP/Headers/Sec-CH-UA-Full-Version-List\"><code>Sec-CH-UA-Full-Version-List</code></a></li><li><svg class=\"icon icon-deprecated\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-deprecated\"></use>\n</svg><a href=\"/zh-CN/docs/Web/HTTP/Headers/Sec-CH-UA-Full-Version\"><code>Sec-CH-UA-Full-Version</code></a></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><a href=\"/zh-CN/docs/Web/HTTP/Headers/Sec-CH-UA-Mobile\"><code>Sec-CH-UA-Mobile</code></a></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><a href=\"/zh-CN/docs/Web/HTTP/Headers/Sec-CH-UA-Model\"><code>Sec-CH-UA-Model</code></a></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><a href=\"/zh-CN/docs/Web/HTTP/Headers/Sec-CH-UA-Platform-Version\"><code>Sec-CH-UA-Platform-Version</code></a></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><a href=\"/zh-CN/docs/Web/HTTP/Headers/Sec-CH-UA-Platform\"><code>Sec-CH-UA-Platform</code></a></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><a href=\"/zh-CN/docs/Web/HTTP/Headers/Sec-CH-UA\"><code>Sec-CH-UA</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Headers/Sec-Fetch-Dest\"><code>Sec-Fetch-Dest</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Headers/Sec-Fetch-Mode\"><code>Sec-Fetch-Mode</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Headers/Sec-Fetch-Site\"><code>Sec-Fetch-Site</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Headers/Sec-Fetch-User\"><code>Sec-Fetch-User</code></a></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><svg class=\"icon icon-nonstandard\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-nonstandard\"></use>\n</svg><a href=\"/zh-CN/docs/Web/HTTP/Headers/Sec-GPC\"><code>Sec-GPC</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Headers/Sec-WebSocket-Accept\"><code>Sec-WebSocket-Accept</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Headers/Server-Timing\"><code>Server-Timing</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Headers/Server\"><code>Server</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Headers/Service-Worker-Navigation-Preload\"><code>Service-Worker-Navigation-Preload</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Headers/Set-Cookie\"><code>Set-Cookie</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Headers/SourceMap\"><code>SourceMap</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Headers/Strict-Transport-Security\"><code>Strict-Transport-Security</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Headers/TE\"><code>TE</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Headers/Timing-Allow-Origin\"><code>Timing-Allow-Origin</code></a></li><li><svg class=\"icon icon-deprecated\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-deprecated\"></use>\n</svg><a href=\"/zh-CN/docs/Web/HTTP/Headers/Tk\"><code>Tk</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Headers/Trailer\"><code>Trailer</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Headers/Transfer-Encoding\"><code>Transfer-Encoding</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Headers/Upgrade-Insecure-Requests\"><code>Upgrade-Insecure-Requests</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Headers/Upgrade\"><code>Upgrade</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Headers/User-Agent\"><code>User-Agent</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Headers/Vary\"><code>Vary</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Headers/Via\"><code>Via</code></a></li><li><svg class=\"icon icon-nonstandard\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-nonstandard\"></use>\n</svg><svg class=\"icon icon-deprecated\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-deprecated\"></use>\n</svg><a href=\"/zh-CN/docs/Web/HTTP/Headers/Viewport-Width\"><code>Viewport-Width</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Headers/Want-Digest\"><code>Want-Digest</code></a></li><li><svg class=\"icon icon-deprecated\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-deprecated\"></use>\n</svg><a href=\"/zh-CN/docs/Web/HTTP/Headers/Warning\"><code>Warning</code></a></li><li><svg class=\"icon icon-nonstandard\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-nonstandard\"></use>\n</svg><svg class=\"icon icon-deprecated\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-deprecated\"></use>\n</svg><a href=\"/zh-CN/docs/Web/HTTP/Headers/Width\"><code>Width</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Headers/WWW-Authenticate\"><code>WWW-Authenticate</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Headers/X-Content-Type-Options\"><code>X-Content-Type-Options</code></a></li><li><svg class=\"icon icon-nonstandard\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-nonstandard\"></use>\n</svg><a href=\"/zh-CN/docs/Web/HTTP/Headers/X-DNS-Prefetch-Control\"><code>X-DNS-Prefetch-Control</code></a></li><li><svg class=\"icon icon-nonstandard\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-nonstandard\"></use>\n</svg><a href=\"/zh-CN/docs/Web/HTTP/Headers/X-Forwarded-For\"><code>X-Forwarded-For</code></a></li><li><svg class=\"icon icon-nonstandard\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-nonstandard\"></use>\n</svg><a href=\"/zh-CN/docs/Web/HTTP/Headers/X-Forwarded-Host\"><code>X-Forwarded-Host</code></a></li><li><svg class=\"icon icon-nonstandard\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-nonstandard\"></use>\n</svg><a href=\"/zh-CN/docs/Web/HTTP/Headers/X-Forwarded-Proto\"><code>X-Forwarded-Proto</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Headers/X-Frame-Options\"><code>X-Frame-Options</code></a></li><li><svg class=\"icon icon-nonstandard\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-nonstandard\"></use>\n</svg><a href=\"/zh-CN/docs/Web/HTTP/Headers/X-XSS-Protection\"><code>X-XSS-Protection</code></a></li></ol>\n        </details>\n    </li>\n    <li class=\"toggle\">\n        <details>\n            <summary>HTTP request methods</summary>\n            <ol><li><a href=\"/zh-CN/docs/Web/HTTP/Methods/CONNECT\"><code>CONNECT</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Methods/DELETE\"><code>DELETE</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Methods/GET\"><code>GET</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Methods/HEAD\"><code>HEAD</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Methods/OPTIONS\"><code>OPTIONS</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Methods/PATCH\"><code>PATCH</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Methods/POST\"><code>POST</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Methods/PUT\"><code>PUT</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Methods/TRACE\"><code>TRACE</code></a></li></ol>\n        </details>\n    </li>\n    <li class=\"toggle\">\n        <details>\n          <summary>HTTP response status codes</summary>\n          <ol><li><a href=\"/zh-CN/docs/Web/HTTP/Status/100\"><code>100 Continue</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Status/101\"><code>101 Switching Protocols</code></a></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><a href=\"/zh-CN/docs/Web/HTTP/Status/103\"><code>103 Early Hints</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Status/200\"><code>200 OK</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Status/201\"><code>201 Created</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Status/202\"><code>202 Accepted</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Status/203\"><code>203 Non-Authoritative Information</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Status/204\"><code>204 No Content</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Status/205\"><code>205 Reset Content</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Status/206\"><code>206 Partial Content</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Status/300\"><code>300 Multiple Choices</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Status/301\"><code>301 Moved Permanently</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Status/302\"><code>302 Found</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Status/303\"><code>303 See Other</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Status/304\"><code>304 Not Modified</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Status/307\"><code>307 Temporary Redirect</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Status/308\"><code>308 Permanent Redirect</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Status/400\"><code>400 Bad Request</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Status/401\"><code>401 Unauthorized</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Status/402\"><code>402 Payment Required</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Status/403\"><code>403 Forbidden</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Status/404\"><code>404 Not Found</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Status/405\"><code>405 Method Not Allowed</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Status/406\"><code>406 Not Acceptable</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Status/407\"><code>407 Proxy Authentication Required</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Status/408\"><code>408 Request Timeout</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Status/409\"><code>409 Conflict</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Status/410\"><code>410 Gone</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Status/411\"><code>411 Length Required</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Status/412\"><code>412 Precondition Failed</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Status/413\"><code>413 Payload Too Large</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Status/414\"><code>414 URI Too Long</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Status/415\"><code>415 Unsupported Media Type</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Status/416\"><code>416 Range Not Satisfiable</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Status/417\"><code>417 Expectation Failed</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Status/418\"><code>418 I'm a teapot</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Status/422\"><code>422 Unprocessable Entity</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Status/425\"><code>425 Too Early</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Status/426\"><code>426 Upgrade Required</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Status/428\"><code>428 Precondition Required</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Status/429\"><code>429 Too Many Requests</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Status/431\"><code>431 Request Header Fields Too Large</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Status/451\"><code>451 Unavailable For Legal Reasons</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Status/500\"><code>500 Internal Server Error</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Status/501\"><code>501 Not Implemented</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Status/502\"><code>502 Bad Gateway</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Status/503\"><code>503 Service Unavailable</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Status/504\"><code>504 Gateway Timeout</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Status/505\"><code>505 HTTP Version Not Supported</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Status/506\"><code>506 Variant Also Negotiates</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Status/507\"><code>507 Insufficient Storage</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Status/508\"><code>508 Loop Detected</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Status/510\"><code>510 Not Extended</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Status/511\"><code>511 Network Authentication Required</code></a></li></ol>\n        </details>\n    </li>\n    <li class=\"toggle\">\n        <details>\n          <summary>CSP directives</summary>\n          <ol><li><a href=\"/zh-CN/docs/Web/HTTP/Headers/Content-Security-Policy/base-uri\"><code>CSP: base-uri</code></a></li><li><svg class=\"icon icon-deprecated\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-deprecated\"></use>\n</svg><a href=\"/zh-CN/docs/Web/HTTP/Headers/Content-Security-Policy/block-all-mixed-content\"><code>CSP: block-all-mixed-content</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Headers/Content-Security-Policy/child-src\"><code>CSP: child-src</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Headers/Content-Security-Policy/connect-src\"><code>CSP: connect-src</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Headers/Content-Security-Policy/default-src\"><code>CSP: default-src</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Headers/Content-Security-Policy/font-src\"><code>CSP: font-src</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Headers/Content-Security-Policy/form-action\"><code>CSP: form-action</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Headers/Content-Security-Policy/frame-ancestors\"><code>CSP: frame-ancestors</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Headers/Content-Security-Policy/frame-src\"><code>CSP: frame-src</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Headers/Content-Security-Policy/img-src\"><code>CSP: img-src</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Headers/Content-Security-Policy/manifest-src\"><code>CSP: manifest-src</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Headers/Content-Security-Policy/media-src\"><code>CSP: media-src</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Headers/Content-Security-Policy/object-src\"><code>CSP: object-src</code></a></li><li><svg class=\"icon icon-nonstandard\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-nonstandard\"></use>\n</svg><svg class=\"icon icon-deprecated\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-deprecated\"></use>\n</svg><a href=\"/zh-CN/docs/Web/HTTP/Headers/Content-Security-Policy/plugin-types\"><code>CSP: plugin-types</code></a></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><a href=\"/zh-CN/docs/Web/HTTP/Headers/Content-Security-Policy/prefetch-src\"><code>CSP: prefetch-src</code></a></li><li><svg class=\"icon icon-nonstandard\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-nonstandard\"></use>\n</svg><svg class=\"icon icon-deprecated\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-deprecated\"></use>\n</svg><a href=\"/zh-CN/docs/Web/HTTP/Headers/Content-Security-Policy/referrer\"><code>CSP: referrer</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Headers/Content-Security-Policy/report-to\"><code>CSP: report-to</code></a></li><li><svg class=\"icon icon-deprecated\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-deprecated\"></use>\n</svg><a href=\"/zh-CN/docs/Web/HTTP/Headers/Content-Security-Policy/report-uri\"><code>CSP: report-uri</code></a></li><li><svg class=\"icon icon-nonstandard\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-nonstandard\"></use>\n</svg><svg class=\"icon icon-deprecated\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-deprecated\"></use>\n</svg><a href=\"/zh-CN/docs/Web/HTTP/Headers/Content-Security-Policy/require-sri-for\"><code>CSP: require-sri-for</code></a></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><a href=\"/zh-CN/docs/Web/HTTP/Headers/Content-Security-Policy/require-trusted-types-for\"><code>CSP: require-trusted-types-for</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Headers/Content-Security-Policy/sandbox\"><code>CSP: sandbox</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Headers/Content-Security-Policy/script-src-attr\"><code>CSP: script-src-attr</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Headers/Content-Security-Policy/script-src-elem\"><code>CSP: script-src-elem</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Headers/Content-Security-Policy/script-src\"><code>CSP: script-src</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Headers/Content-Security-Policy/Sources\"><code>CSP source values</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Headers/Content-Security-Policy/style-src-attr\"><code>CSP: style-src-attr</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Headers/Content-Security-Policy/style-src-elem\"><code>CSP: style-src-elem</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Headers/Content-Security-Policy/style-src\"><code>CSP: style-src</code></a></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><a href=\"/zh-CN/docs/Web/HTTP/Headers/Content-Security-Policy/trusted-types\"><code>CSP: trusted-types</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Headers/Content-Security-Policy/upgrade-insecure-requests\"><code>CSP: upgrade-insecure-requests</code></a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Headers/Content-Security-Policy/worker-src\"><code>CSP: worker-src</code></a></li></ol>\n        </details>\n    </li>\n    <li class=\"toggle\">\n        <details>\n          <summary>CORS errors</summary>\n          <ol><li><a href=\"/zh-CN/docs/Web/HTTP/CORS/Errors/CORSAllowOriginNotMatchingOrigin\">Reason: CORS header 'Access-Control-Allow-Origin' does not match 'xyz'</a></li><li><a href=\"/zh-CN/docs/Web/HTTP/CORS/Errors/CORSDidNotSucceed\">Reason: CORS request did not succeed</a></li><li><a href=\"/zh-CN/docs/Web/HTTP/CORS/Errors/CORSDisabled\">Reason: CORS disabled</a></li><li><a href=\"/zh-CN/docs/Web/HTTP/CORS/Errors/CORSExternalRedirectNotAllowed\">Reason: CORS request external redirect not allowed</a></li><li><a href=\"/zh-CN/docs/Web/HTTP/CORS/Errors/CORSInvalidAllowHeader\">Reason: invalid token 'xyz' in CORS header 'Access-Control-Allow-Headers'</a></li><li><a href=\"/zh-CN/docs/Web/HTTP/CORS/Errors/CORSInvalidAllowMethod\">Reason: invalid token 'xyz' in CORS header 'Access-Control-Allow-Methods'</a></li><li><a href=\"/zh-CN/docs/Web/HTTP/CORS/Errors/CORSMethodNotFound\">Reason: Did not find method in CORS header 'Access-Control-Allow-Methods'</a></li><li><a href=\"/zh-CN/docs/Web/HTTP/CORS/Errors/CORSMIssingAllowCredentials\">Reason: expected 'true' in CORS header 'Access-Control-Allow-Credentials'</a></li><li><a href=\"/zh-CN/docs/Web/HTTP/CORS/Errors/CORSMissingAllowHeaderFromPreflight\">Reason: missing token 'xyz' in CORS header 'Access-Control-Allow-Headers' from CORS preflight channel</a></li><li><a href=\"/zh-CN/docs/Web/HTTP/CORS/Errors/CORSMissingAllowOrigin\">Reason: CORS header 'Access-Control-Allow-Origin' missing</a></li><li><a href=\"/zh-CN/docs/Web/HTTP/CORS/Errors/CORSMultipleAllowOriginNotAllowed\">Reason: Multiple CORS header 'Access-Control-Allow-Origin' not allowed</a></li><li><a href=\"/zh-CN/docs/Web/HTTP/CORS/Errors/CORSNotSupportingCredentials\">Reason: Credential is not supported if the CORS header 'Access-Control-Allow-Origin' is '*'</a></li><li><a href=\"/zh-CN/docs/Web/HTTP/CORS/Errors/CORSOriginHeaderNotAdded\">Reason: CORS header 'Origin' cannot be added</a></li><li><a href=\"/zh-CN/docs/Web/HTTP/CORS/Errors/CORSPreflightDidNotSucceed\">Reason: CORS preflight channel did not succeed</a></li><li><a href=\"/zh-CN/docs/Web/HTTP/CORS/Errors/CORSRequestNotHttp\">Reason: CORS request not HTTP</a></li></ol>\n        </details>\n    </li>\n    <li class=\"toggle\">\n        <details>\n          <summary>Feature-Policy directives</summary>\n          <ol><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><a href=\"/zh-CN/docs/Web/HTTP/Headers/Feature-Policy/accelerometer\">Feature-Policy: accelerometer</a></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><a href=\"/zh-CN/docs/Web/HTTP/Headers/Feature-Policy/ambient-light-sensor\">Feature-Policy: ambient-light-sensor</a></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><a href=\"/zh-CN/docs/Web/HTTP/Headers/Feature-Policy/autoplay\">Feature-Policy: autoplay</a></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><a href=\"/zh-CN/docs/Web/HTTP/Headers/Feature-Policy/battery\">Feature-Policy: battery</a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Headers/Feature-Policy/camera\">Feature-Policy: camera</a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Headers/Feature-Policy/display-capture\">Feature-Policy: display-capture</a></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><a href=\"/zh-CN/docs/Web/HTTP/Headers/Feature-Policy/document-domain\">Feature-Policy: document-domain</a></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><a href=\"/zh-CN/docs/Web/HTTP/Headers/Feature-Policy/encrypted-media\">Feature-Policy: encrypted-media</a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Headers/Feature-Policy/fullscreen\">Feature-Policy: fullscreen</a></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><a href=\"/zh-CN/docs/Web/HTTP/Headers/Feature-Policy/gamepad\">Feature-Policy: gamepad</a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Headers/Feature-Policy/geolocation\">Feature-Policy: geolocation</a></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><a href=\"/zh-CN/docs/Web/HTTP/Headers/Feature-Policy/gyroscope\">Feature-Policy: gyroscope</a></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><svg class=\"icon icon-nonstandard\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-nonstandard\"></use>\n</svg><a href=\"/zh-CN/docs/Web/HTTP/Headers/Feature-Policy/layout-animations\">Feature-Policy: layout-animations</a></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><svg class=\"icon icon-nonstandard\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-nonstandard\"></use>\n</svg><a href=\"/zh-CN/docs/Web/HTTP/Headers/Feature-Policy/legacy-image-formats\">Feature-Policy: legacy-image-formats</a></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><a href=\"/zh-CN/docs/Web/HTTP/Headers/Feature-Policy/magnetometer\">Feature-Policy: magnetometer</a></li><li><a href=\"/zh-CN/docs/Web/HTTP/Headers/Feature-Policy/microphone\">Feature-Policy: microphone</a></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><a href=\"/zh-CN/docs/Web/HTTP/Headers/Feature-Policy/midi\">Feature-Policy: midi</a></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><svg class=\"icon icon-nonstandard\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-nonstandard\"></use>\n</svg><a href=\"/zh-CN/docs/Web/HTTP/Headers/Feature-Policy/oversized-images\">Feature-Policy: oversized-images</a></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><a href=\"/zh-CN/docs/Web/HTTP/Headers/Feature-Policy/payment\">Feature-Policy: payment</a></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><a href=\"/zh-CN/docs/Web/HTTP/Headers/Feature-Policy/picture-in-picture\">Feature-Policy: picture-in-picture</a></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><a href=\"/zh-CN/docs/Web/HTTP/Headers/Feature-Policy/publickey-credentials-get\">Feature-Policy: publickey-credentials-get</a></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><a href=\"/zh-CN/docs/Web/HTTP/Headers/Feature-Policy/screen-wake-lock\">Feature-Policy: screen-wake-lock</a></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><a href=\"/zh-CN/docs/Web/HTTP/Headers/Feature-Policy/speaker-selection\">Feature-Policy: speaker-selection</a></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><svg class=\"icon icon-nonstandard\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-nonstandard\"></use>\n</svg><a href=\"/zh-CN/docs/Web/HTTP/Headers/Feature-Policy/sync-xhr\">Feature-Policy: sync-xhr</a></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><svg class=\"icon icon-nonstandard\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-nonstandard\"></use>\n</svg><a href=\"/zh-CN/docs/Web/HTTP/Headers/Feature-Policy/unoptimized-images\">Feature-Policy: unoptimized-images</a></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><svg class=\"icon icon-nonstandard\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-nonstandard\"></use>\n</svg><a href=\"/zh-CN/docs/Web/HTTP/Headers/Feature-Policy/unsized-media\">Feature-Policy: unsized-media</a></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><a href=\"/zh-CN/docs/Web/HTTP/Headers/Feature-Policy/usb\">Feature-Policy: usb</a></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><a href=\"/zh-CN/docs/Web/HTTP/Headers/Feature-Policy/web-share\">Feature-Policy: web-share</a></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><a href=\"/zh-CN/docs/Web/HTTP/Headers/Feature-Policy/xr-spatial-tracking\">Feature-Policy: xr-spatial-tracking</a></li></ol>\n        </details>\n    </li>\n  </ol>\n","body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<p>**代理自动配置（PAC）**文件是一个 JavaScript 脚本，其核心是一个 JavaScript 函数，用来决定网页浏览请求（HTTP、HTTPS，和 FTP）应当直连目标地址，还是被转发给一个网页代理服务器并通过代理连接。PAC 文件中的核心 JavaScript 函数通常是这样定义的：</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">function</span> <span class=\"token function\">FindProxyForURL</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">url<span class=\"token punctuation\">,</span> host</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// ...</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>"}},{"type":"prose","value":{"id":"语法","title":"语法","isH3":false,"content":"<div class=\"code-example\"><pre class=\"brush: plain notranslate\">function FindProxyForURL(url, host)\n</pre></div>"}},{"type":"prose","value":{"id":"参数","title":"参数","isH3":true,"content":"<dl>\n  <dt id=\"url\"><code>url</code></dt>\n  <dd>\n    <p>要访问的 URL。URL 中类似 <code>https://</code> 这样的的路径和查询组件已被去除。在 Chrome 浏览器（版本 52 至 73）中，你可以通过设置 <code>PacHttpsUrlStrippingEnabled</code> 为 <code>false</code> 来禁止这种行为，或者以 <code>--unsafe-pac-url</code> 命令行参数启动（自 Chrome 74 起，仅命令行参数有效，且在 Chrome 75 及之后的版本中无法禁用这种行为；至于 Chrome 81，路径剥离对 HTTP URL 不适用，但有意改变这一行为以适应 HTTPS）；在 Firefox 浏览器中，对应的选项是 <code>network.proxy.autoconfig_url.include_path</code>。</p>\n  </dd>\n  <dt id=\"host\"><code>host</code></dt>\n  <dd>\n    <p>从 URL 中提取得到的主机名。这只是为了方便；它与 <code>://</code> 之后到第一个 <code>:</code> 或 <code>/</code> 之前的字符串相同。端口号不包括在此参数中，必要时可以自行从 URL 中提取。</p>\n  </dd>\n</dl>"}},{"type":"prose","value":{"id":"描述","title":"描述","isH3":false,"content":"<p>返回一个描述了代理设置的字符串。字符串的格式按照返回值格式进行定义。</p>"}},{"type":"prose","value":{"id":"返回值格式","title":"返回值格式","isH3":true,"content":"<ul>\n  <li><code>FindProxyForURL()</code> 函数返回一个字符串</li>\n  <li>如果那个字符串为空，则不使用任何代理</li>\n  <li>字符串中可以包含如下任意数量的“代理配置块”（building blocks），用分号分隔：</li>\n</ul><!---->\n<dl>\n  <dt id=\"direct\"><code>DIRECT</code></dt>\n  <dd>\n    <p>直连，不经过任何代理</p>\n  </dd>\n  <dt id=\"proxy_hostport\"><code>PROXY host:port</code></dt>\n  <dd>\n    <p>HTTP 代理</p>\n  </dd>\n  <dt id=\"socks_hostport\"><code>SOCKS host:port</code></dt>\n  <dd>\n    <p>SOCKS 代理</p>\n  </dd>\n</dl>\n<p>最近版本的 Firefox 同时还支持：</p>\n<dl>\n  <dt id=\"http_hostport\"><code>HTTP host:port</code></dt>\n  <dd>\n    <p>HTTP 代理</p>\n  </dd>\n  <dt id=\"https_hostport\"><code>HTTPS host:port</code></dt>\n  <dd>\n    <p>HTTPS 代理</p>\n  </dd>\n  <dt id=\"sect1\">\n    <p><code>SOCKS4 host:port</code></p>\n    <p><code>SOCKS5 host:port</code></p>\n  </dt>\n  <dd>\n    <p>SOCKS 代理（同时指定 SOCKS 版本）</p>\n  </dd>\n</dl>\n<p>如果有多个使用分号分隔的代理配置，将使用最左边的配置，除非 Firefox 无法与其中指定的代理服务器建立连接。在这种情况下，将使用下一个配置，等等。</p>\n<p>30 分钟后，浏览器将自动重试之前没有响应的代理。下一次尝试则将在一小时后开始，再下一次是一个半小时。每次尝试后，间隔会增加 30 分钟。</p>\n<p>如果所有代理都挂了，并且最后没有指定直连配置项（<code>DIRECT</code>），浏览器将询问是否应该暂时忽略代理，并尝试直接连接。20 分钟后，浏览器会再次询问是否应该重试代理，40 分钟后会再问一次。每次询问后，间隔会增加 20 分钟。</p>\n<h4 id=\"例子\">例子</h4>\n<dl>\n  <dt id=\"proxy_w3proxy.netscape.com8080_proxy_mozilla.netscape.com8081\"><code>PROXY w3proxy.netscape.com:8080; PROXY mozilla.netscape.com:8081</code></dt>\n  <dd>\n    <p>主代理是 <code>w3proxy:8080</code>；如果它出现故障，则使用 <code>mozilla:8081</code>，直到主代理恢复。</p>\n  </dd>\n  <dt id=\"proxy_w3proxy.netscape.com8080_proxy_mozilla.netscape.com8081_direct\"><code>PROXY w3proxy.netscape.com:8080; PROXY mozilla.netscape.com:8081; DIRECT</code></dt>\n  <dd>\n    <p>和上面的基本一样，但如果两个代理都挂了，则自动改为直连。（在上面的例子中，Netscape 浏览器将询问用户是否要改用直接连接；在本例中，则不需要用户干预。）</p>\n  </dd>\n  <dt id=\"proxy_w3proxy.netscape.com8080_socks_socks1080\"><code>PROXY w3proxy.netscape.com:8080; SOCKS socks:1080</code></dt>\n  <dd>\n    <p>如果主代理出现问题，则使用 SOCKS 连接。</p>\n  </dd>\n</dl>\n<p>自动配置文件应当被保存为一个以 .pac 作为文件拓展名的文件，比如：</p>\n<div class=\"code-example\"><pre class=\"brush: plain notranslate\">proxy.pac\n</pre></div>\n<p>其 MIME 类型应被设置为：</p>\n<div class=\"code-example\"><pre class=\"brush: plain notranslate\">application/x-ns-proxy-autoconfig\n</pre></div>\n<p>接下来，你应当配置你的服务器，让文件拓展名 .pac 映射到如上所示的 MIME 类型。</p>\n<div class=\"notecard note\" id=\"sect2\">\n  <p><strong>备注：</strong> PAC 文件的 JavaScript 代码应该总是单独保存到 .pac 文件中，而不是嵌入到 HTML 文件或是任何其他文件之中。</p>\n  <ul>\n    <li>本文档末尾的示例都是完整的，使用时不需要增加任何其它代码，直接保存应用即可。（当然，你需要改成你自己的域名/子域）</li>\n  </ul>\n</div>"}},{"type":"prose","value":{"id":"预定义的函数与环境","title":"预定义的函数与环境","isH3":false,"content":"<p>这些函数可以在 PAC 文件中使用：</p>\n<ul>\n  <li>基于主机名的判断函数\n    <ul>\n      <li><a href=\"#isplainhostname\"><code>isPlainHostName()</code></a></li>\n      <li><a href=\"#dnsdomainis\"><code>dnsDomainIs()</code></a></li>\n      <li><a href=\"#localhostordomainis\"><code>localHostOrDomainIs()</code></a></li>\n      <li><a href=\"#isresolvable\"><code>isResolvable()</code></a></li>\n      <li><a href=\"#isinnet\"><code>isInNet()</code></a></li>\n    </ul>\n  </li>\n  <li>和代理相关的功能函数\n    <ul>\n      <li><a href=\"#dnsresolve\"><code>dnsResolve()</code></a></li>\n      <li><a href=\"#convert_addr\"><code>convert_addr()</code></a></li>\n      <li><a href=\"#myipaddress\"><code>myIpAddress()</code></a></li>\n      <li><a href=\"#dnsdomainlevels\"><code>dnsDomainLevels()</code></a></li>\n    </ul>\n  </li>\n  <li>基于 URL 或主机名的判断函数\n    <ul>\n      <li><a href=\"#shexpmatchstr_shexp\"><code>shExpMatch()</code></a></li>\n    </ul>\n  </li>\n  <li>基于时间的判断函数\n    <ul>\n      <li><a href=\"#weekdayrange\"><code>weekdayRange()</code></a></li>\n      <li><a href=\"#daterange\"><code>dateRange()</code></a></li>\n      <li><a href=\"#timerange\"><code>timeRange()</code></a></li>\n    </ul>\n  </li>\n  <li>日志记录功能函数\n    <ul>\n      <li><a href=\"/zh-CN/docs/Web/API/Window/alert\"><code>alert()</code></a></li>\n    </ul>\n  </li>\n  <li>同时，还定义了一个关联数组（associative array），因为 JavaScript 目前无法自行定义它们：\n    <ul>\n      <li><code>ProxyConfig.bindings</code> <svg class=\"icon icon-deprecated\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-deprecated\"></use>\n</svg></li>\n    </ul>\n  </li>\n</ul>\n<div class=\"notecard note\" id=\"sect3\">\n  <p><strong>备注：</strong> pactester (<a href=\"https://github.com/pacparser/pacparser\" class=\"external\" rel=\" noopener\">pacparser</a> 的一部分) 可以用来检测语法是否符合要求，使用方法如下：</p>\n  <ul>\n    <li>PAC 文件保存为 <code>proxy.pac</code></li>\n    <li>命令行输入：<code>pactester -p ~/pacparser-master/tests/proxy.pac -u http://www.mozilla.org</code>。\n      <ul>\n        <li>该命令中， <code>host</code> 参数为 <code>www.mozilla.org</code> ， <code>url</code> 参数为<code>http://www.mozilla.org</code>。</li>\n      </ul>\n    </li>\n  </ul>\n</div>"}},{"type":"prose","value":{"id":"isplainhostname","title":"isPlainHostName()","isH3":true,"content":"<h4 id=\"语法_2\">语法</h4>\n<div class=\"code-example\"><pre class=\"brush: plain notranslate\">isPlainHostName(host)\n</pre></div>\n<h4 id=\"参数_2\">参数</h4>\n<dl>\n  <dt id=\"host_2\">host</dt>\n  <dd>\n    <p>从 URL 中得到的主机名（端口除外）。</p>\n  </dd>\n</dl>\n<h4 id=\"描述_2\">描述</h4>\n<p>当且仅当主机名中没有域名时为真（没有分隔域名的点）。</p>\n<h4 id=\"例子_2\">例子</h4>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token function\">isPlainHostName</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"www.mozilla.org\"</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// false</span>\n<span class=\"token function\">isPlainHostName</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"www\"</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// true</span>\n</code></pre></div>"}},{"type":"prose","value":{"id":"dnsdomainis","title":"dnsDomainIs()","isH3":true,"content":"<h4 id=\"语法_3\">语法</h4>\n<div class=\"code-example\"><pre class=\"brush: plain notranslate\">dnsDomainIs(host, domain)\n</pre></div>\n<h4 id=\"参数_3\">参数</h4>\n<dl>\n  <dt id=\"host_3\">host</dt>\n  <dd>\n    <p>从 URL 中得到的主机名。</p>\n  </dd>\n  <dt id=\"domain\">domain</dt>\n  <dd>\n    <p>域名/部分域名</p>\n  </dd>\n</dl>\n<h4 id=\"描述_3\">描述</h4>\n<p>如果匹配，返回 true。</p>\n<h4 id=\"例子_3\">例子</h4>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token function\">dnsDomainIs</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"www.mozilla.org\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\".mozilla.org\"</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// true</span>\n<span class=\"token function\">dnsDomainIs</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"www\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\".mozilla.org\"</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// false</span>\n</code></pre></div>"}},{"type":"prose","value":{"id":"localhostordomainis","title":"localHostOrDomainIs()","isH3":true,"content":"<h4 id=\"语法_4\">语法</h4>\n<div class=\"code-example\"><pre class=\"brush: plain notranslate\">localHostOrDomainIs(host, hostdom)\n</pre></div>\n<h4 id=\"参数_4\">参数</h4>\n<dl>\n  <dt id=\"host_4\">host</dt>\n  <dd>\n    <p>从 URL 中得到的主机名。</p>\n  </dd>\n  <dt id=\"hostdom\">hostdom</dt>\n  <dd>\n    <p>完整域名</p>\n  </dd>\n</dl>\n<h4 id=\"描述_4\">描述</h4>\n<p>完整域名匹配或主机名（如<code>www</code>）匹配时返回 true。</p>\n<h4 id=\"例子_4\">例子</h4>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token function\">localHostOrDomainIs</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"www.mozilla.org\"</span> <span class=\"token punctuation\">,</span> <span class=\"token string\">\"www.mozilla.org\"</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// true (exact match)</span>\n<span class=\"token function\">localHostOrDomainIs</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"www\"</span>             <span class=\"token punctuation\">,</span> <span class=\"token string\">\"www.mozilla.org\"</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// true (hostname match, domain not specified)</span>\n<span class=\"token function\">localHostOrDomainIs</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"www.google.com\"</span>  <span class=\"token punctuation\">,</span> <span class=\"token string\">\"www.mozilla.org\"</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// false (domain name mismatch)</span>\n<span class=\"token function\">localHostOrDomainIs</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"home.mozilla.org\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"www.mozilla.org\"</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// false (hostname mismatch)</span>\n</code></pre></div>"}},{"type":"prose","value":{"id":"isresolvable","title":"isResolvable()","isH3":true,"content":"<h4 id=\"语法_5\">语法</h4>\n<div class=\"code-example\"><pre class=\"brush: plain notranslate\">isResolvable(host)\n</pre></div>\n<h4 id=\"参数_5\">参数</h4>\n<dl>\n  <dt id=\"host_5\">host</dt>\n  <dd>\n    <p>从 URL 中得到的主机名。</p>\n  </dd>\n</dl>\n<p>尝试解析主机名。如果成功，则返回 true。</p>\n<h4 id=\"例子：\">例子：</h4>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token function\">isResolvable</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"www.mozilla.org\"</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// true</span>\n</code></pre></div>"}},{"type":"prose","value":{"id":"isinnet","title":"isInNet()","isH3":true,"content":"<h4 id=\"语法_6\">语法</h4>\n<div class=\"code-example\"><pre class=\"brush: plain notranslate\">isInNet(host, pattern, mask)\n</pre></div>\n<h4 id=\"参数_6\">参数</h4>\n<dl>\n  <dt id=\"host_6\">host</dt>\n  <dd>\n    <p>一个 DNS 主机名，或者一个 IP 地址。如果传入了主机名，则会被此函数解析为 IP 地址，再进行判断。</p>\n  </dd>\n  <dt id=\"pattern\">pattern</dt>\n  <dd>\n    <p>点号（.）分隔的 IP 地址。</p>\n  </dd>\n  <dt id=\"mask\">mask</dt>\n  <dd>\n    <p>子网掩码，0 代表忽略，255 代表完全匹配。</p>\n  </dd>\n</dl>\n<p>仅在 host 属于由 pattern 和 mask 指定的 ip 地址段时返回 true。</p>\n<p>Pattern and mask specification is done the same way as for SOCKS configuration.</p>\n<h4 id=\"例子：_2\">例子：</h4>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">function</span> <span class=\"token function\">alert_eval</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">str</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span>str <span class=\"token operator\">+</span> <span class=\"token string\">' is '</span> <span class=\"token operator\">+</span> <span class=\"token function\">eval</span><span class=\"token punctuation\">(</span>str<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">FindProxyForURL</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">url<span class=\"token punctuation\">,</span> host</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">alert_eval</span><span class=\"token punctuation\">(</span><span class=\"token string\">'isInNet(host, \"63.245.213.24\", \"255.255.255.255\")'</span><span class=\"token punctuation\">)</span>\n  <span class=\"token comment\">// \"PAC-alert: isInNet(host, \"63.245.213.24\", \"255.255.255.255\") is true\"</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>"}},{"type":"prose","value":{"id":"dnsresolve","title":"dnsResolve()","isH3":true,"content":"<div class=\"code-example\"><pre class=\"brush: plain notranslate\">dnsResolve(host)\n</pre></div>\n<h4 id=\"参数_7\">参数</h4>\n<dl>\n  <dt id=\"host_7\">host</dt>\n  <dd>\n    <p>要解析的主机名。</p>\n  </dd>\n</dl>\n<p>将给定的 DNS 主机名解析为 IP 地址并返回为标准格式的 IP 地址字符串。</p>\n<h4 id=\"例子_5\">例子</h4>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token function\">dnsResolve</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"www.mozilla.org\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// returns the string \"104.16.41.2\"</span>\n</code></pre></div>"}},{"type":"prose","value":{"id":"convert_addr","title":"convert_addr()","isH3":true,"content":"<h4 id=\"语法_7\">语法</h4>\n<div class=\"code-example\"><pre class=\"brush: plain notranslate\">convert_addr(ipaddr)\n</pre></div>\n<h4 id=\"参数_8\">参数</h4>\n<dl>\n  <dt id=\"ipaddr\">ipaddr</dt>\n  <dd>\n    <p>点号（.）分隔的 IP 地址或子网掩码。</p>\n  </dd>\n</dl>\n<p>将 IP 地址转换为 32 位整数地址。</p>\n<h4 id=\"例子_6\">例子</h4>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token function\">convert_addr</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"104.16.41.2\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// returns the decimal number 1745889538</span>\n</code></pre></div>"}},{"type":"prose","value":{"id":"myipaddress","title":"myIpAddress()","isH3":true,"content":"<h4 id=\"语法_8\">语法</h4>\n<div class=\"code-example\"><pre class=\"brush: plain notranslate\">myIpAddress()\n</pre></div>\n<h4 id=\"参数_9\">参数</h4>\n<p><strong>（无）</strong></p>\n<p>获取当前 Firefox 所在设备的 IP 地址，并返回为标准格式的 IP 地址字符串。</p>\n<div class=\"notecard warning\" id=\"sect4\">\n  <p><strong>警告：</strong> myIpAddress() 返回与 **<code>nslookup localhost</code> **命令在 Linux 主机上的执行结果相同的 IP 地址。不会返回公网 IP 地址。</p>\n</div>\n<h4 id=\"例子_7\">例子</h4>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token function\">myIpAddress</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">//returns the string \"127.0.1.1\" if you were running Firefox on that localhost</span>\n</code></pre></div>"}},{"type":"prose","value":{"id":"dnsdomainlevels","title":"dnsDomainLevels()","isH3":true,"content":"<h4 id=\"语法_9\">语法</h4>\n<div class=\"code-example\"><pre class=\"brush: plain notranslate\">dnsDomainLevels(host)\n</pre></div>\n<h4 id=\"参数_10\">参数</h4>\n<dl>\n  <dt id=\"host_8\">host</dt>\n  <dd>\n    <p>从 URL 中得到的主机名。</p>\n  </dd>\n</dl>\n<p>返回主机名中 DNS 域名级别的整数数量（域名中包含点的个数）。</p>\n<h4 id=\"例子：_3\">例子：</h4>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token function\">dnsDomainLevels</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"www\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>             <span class=\"token comment\">// 0</span>\n<span class=\"token function\">dnsDomainLevels</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"mozilla.org\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>     <span class=\"token comment\">// 1</span>\n<span class=\"token function\">dnsDomainLevels</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"www.mozilla.org\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 2</span>\n</code></pre></div>"}},{"type":"prose","value":{"id":"shexpmatch","title":"shExpMatch()","isH3":true,"content":"<h4 id=\"语法_10\">语法</h4>\n<div class=\"code-example\"><pre class=\"brush: plain notranslate\">shExpMatch(str, shexp)\n</pre></div>\n<h4 id=\"参数_11\">参数</h4>\n<dl>\n  <dt id=\"str\">str</dt>\n  <dd>\n    <p>任何要比较的字符串（如 URL 或主机名）。</p>\n  </dd>\n  <dt id=\"shexp\">shexp</dt>\n  <dd>\n    <p>要用来对比的 Shell 表达式。</p>\n  </dd>\n</dl>\n<p>如果字符串匹配指定的 Shell 表达式则返回 true。</p>\n<p><strong>注意，本函数接收 shell glob 表达式而非正则表达式。</strong><code>*</code> 和 <code>?</code> 始终被支持，<code>[characters]</code> 和 <code>[^characters]</code> 只在包括 Firefox 在内的某些实现上被支持。这主要是由于 glob 表达式在内部被翻译为正则表达式。如要使用正则表达式语法，请直接使用 RegExp 类。</p>\n<h4 id=\"例子_8\">例子</h4>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token function\">shExpMatch</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"http://home.netscape.com/people/ari/index.html\"</span>     <span class=\"token punctuation\">,</span> <span class=\"token string\">\"*/ari/*\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// returns true</span>\n<span class=\"token function\">shExpMatch</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"http://home.netscape.com/people/montulli/index.html\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"*/ari/*\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// returns false</span>\n</code></pre></div>"}},{"type":"prose","value":{"id":"weekdayrange","title":"weekdayRange()","isH3":true,"content":"<h4 id=\"语法_11\">语法</h4>\n<div class=\"code-example\"><pre class=\"brush: plain notranslate\">weekdayRange(wd1, wd2, [gmt])\n</pre></div>\n<div class=\"notecard note\" id=\"sect5\">\n  <p><strong>备注：</strong> (Before Firefox 49) <code>wd1</code> must be less than <code>wd2</code> if you want the function to evaluate these parameters as a range. See the warning below.</p>\n</div>\n<h4 id=\"参数_12\">参数</h4>\n<ul>\n  <li>wd1 和 wd2\n    <ul>\n      <li>: One of the ordered weekday strings:</li>\n    </ul>\n    <div class=\"code-example\"><pre class=\"brush: plain notranslate\">\"SUN\"|\"MON\"|\"TUE\"|\"WED\"|\"THU\"|\"FRI\"|\"SAT\"\n</pre></div>\n  </li>\n  <li>gmt\n    <ul>\n      <li>: 可以指定为字符串 \"<code>GMT</code>\"，或留白不指定。</li>\n    </ul>\n  </li>\n</ul>\n<p>Only the first parameter is mandatory. Either the second, the third, or both may be left out.</p>\n<p>If only one parameter is present, the function returns a value of true on the weekday that the parameter represents. If the string \"GMT\" is specified as a second parameter, times are taken to be in GMT. Otherwise, they are assumed to be in the local timezone.</p>\n<p>If both <strong>wd1</strong> and <strong>wd1</strong> are defined, the condition is true if the current weekday is in between those two <em>ordered</em> weekdays. Bounds are inclusive, <em>but the bounds are ordered</em>. 如果指定了 \"<code>GMT</code>\" 参数，则使用 GMT 时区，否则使用浏览器获取到的平台本地时区。</p>\n<div class=\"notecard warning\" id=\"sect6\">\n  <p><strong>警告：</strong> <strong>The order of the days matters</strong>; Before Firefox 49, <code>weekdayRange(\"SUN\", \"SAT\")</code> will always evaluate to true. Now <code>weekdayRange(\"WED\", \"SUN\")</code> will only evaluate true if the current day is Wednesday or Sunday.</p>\n</div>\n<h4 id=\"例子_9\">例子</h4>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token function\">weekdayRange</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"MON\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"FRI\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>        <span class=\"token comment\">// returns true Monday through Friday (local timezone)</span>\n<span class=\"token function\">weekdayRange</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"MON\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"FRI\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"GMT\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// returns true Monday through Friday (GMT timezone)</span>\n<span class=\"token function\">weekdayRange</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"SAT\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>               <span class=\"token comment\">// returns true on Saturdays local time</span>\n<span class=\"token function\">weekdayRange</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"SAT\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"GMT\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>        <span class=\"token comment\">// returns true on Saturdays GMT time</span>\n<span class=\"token function\">weekdayRange</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"FRI\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"MON\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>        <span class=\"token comment\">// returns true Friday and Monday only (note, order does matter!)</span>\n</code></pre></div>"}},{"type":"prose","value":{"id":"daterange","title":"dateRange()","isH3":true,"content":"<h4 id=\"语法_12\">语法</h4>\n<div class=\"code-example\"><pre class=\"brush: plain notranslate\">dateRange(&lt;day&gt; | &lt;month&gt; | &lt;year&gt;, [gmt])  // ambiguity is resolved by assuming year is greater than 31\ndateRange(&lt;day1&gt;, &lt;day2&gt;, [gmt])\ndateRange(&lt;month1&gt;, &lt;month2&gt;, [gmt])\ndateRange(&lt;year1&gt;, &lt;year2&gt;, [gmt])\ndateRange(&lt;day1&gt;, &lt;month1&gt;, &lt;day2&gt;, &lt;month2&gt;, [gmt])\ndateRange(&lt;month1&gt;, &lt;year1&gt;, &lt;month2&gt;, &lt;year2&gt;, [gmt])\ndateRange(&lt;day1&gt;, &lt;month1&gt;, &lt;year1&gt;, &lt;day2&gt;, &lt;month2&gt;, &lt;year2&gt;, [gmt])\n</pre></div>\n<div class=\"notecard note\" id=\"sect7\">\n  <p><strong>备注：</strong> (Before Firefox 49) day1 must be less than day2, month1 must be less than month2, and year1 must be less than year2 if you want the function to evaluate these parameters as a range. See the warning below.</p>\n</div>\n<h4 id=\"参数_13\">参数</h4>\n<dl>\n  <dt id=\"day\">day</dt>\n  <dd>\n    <p>Is the ordered day of the month between 1 and 31 (as an integer).</p>\n  </dd>\n</dl>\n<div class=\"code-example\"><pre class=\"brush: plain notranslate\">1|2|3|4|5|6|7|8|9|10|11|12|13|14|15|16|17|18|19|20|21|22|23|24|25|26|27|28|29|30|31\n</pre></div>\n<dl>\n  <dt id=\"month\">month</dt>\n  <dd>\n    <p>Is one of the ordered month strings below.</p>\n  </dd>\n</dl>\n<div class=\"code-example\"><pre class=\"brush: plain notranslate\">\"JAN\"|\"FEB\"|\"MAR\"|\"APR\"|\"MAY\"|\"JUN\"|\"JUL\"|\"AUG\"|\"SEP\"|\"OCT\"|\"NOV\"|\"DEC\"\n</pre></div>\n<dl>\n  <dt id=\"year\">year</dt>\n  <dd>\n    <p>Is the ordered full year integer number. For example, 2016 (<strong>not</strong> 16).</p>\n  </dd>\n  <dt id=\"gmt\">gmt</dt>\n  <dd>\n    <p>可以指定为字符串 \"<code>GMT</code>\"，代表使用 GMT 时区进行比较；或者留白不指定，代表使用浏览器获取到的平台本地时区。</p>\n  </dd>\n</dl>\n<p>If only a single value is specified (from each category: day, month, year), the function returns a true value only on days that match that specification. If both values are specified, the result is true between those times, including bounds, <em>but the bounds are ordered</em>.</p>\n<div class=\"notecard warning\" id=\"sect8\">\n  <p><strong>警告：</strong> <strong>The order of the days, months, and years matter</strong>; Before Firefox 49, <code>dateRange(\"JAN\", \"DEC\")</code> will always evaluate to <code>true</code>. Now <code>dateRange(\"DEC\", \"JAN\")</code> will only evaluate true if the current month is December or January.</p>\n</div>\n<h4 id=\"例子_10\">例子</h4>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token function\">dateRange</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>            <span class=\"token comment\">// returns true on the first day of each month, local timezone</span>\n<span class=\"token function\">dateRange</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"GMT\"</span><span class=\"token punctuation\">)</span>      <span class=\"token comment\">// returns true on the first day of each month, GMT timezone</span>\n<span class=\"token function\">dateRange</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">15</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>        <span class=\"token comment\">// returns true on the first half of each month</span>\n<span class=\"token function\">dateRange</span><span class=\"token punctuation\">(</span><span class=\"token number\">24</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"DEC\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>    <span class=\"token comment\">// returns true on 24th of December each year</span>\n<span class=\"token function\">dateRange</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"JAN\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"MAR\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// returns true on the first quarter of the year</span>\n\n<span class=\"token function\">dateRange</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"JUN\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">15</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"AUG\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// returns true from June 1st until August 15th, each year</span>\n<span class=\"token comment\">// (including June 1st and August 15th)</span>\n\n<span class=\"token function\">dateRange</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"JUN\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1995</span><span class=\"token punctuation\">,</span> <span class=\"token number\">15</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"AUG\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1995</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// returns true from June 1st, 1995, until August 15th, same year</span>\n\n<span class=\"token function\">dateRange</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"OCT\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1995</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"MAR\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1996</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// returns true from October 1995 until March 1996</span>\n<span class=\"token comment\">// (including the entire month of October 1995 and March 1996)</span>\n\n<span class=\"token function\">dateRange</span><span class=\"token punctuation\">(</span><span class=\"token number\">1995</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// returns true during the entire year of 1995</span>\n\n<span class=\"token function\">dateRange</span><span class=\"token punctuation\">(</span><span class=\"token number\">1995</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1997</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// returns true from beginning of year 1995 until the end of year 1997</span>\n</code></pre></div>"}},{"type":"prose","value":{"id":"timerange","title":"timeRange()","isH3":true,"content":"<h4 id=\"语法_13\">语法</h4>\n<div class=\"code-example\"><pre class=\"brush: plain notranslate\">// The full range of expansions is analogous to dateRange.\ntimeRange(&lt;hour1&gt;, &lt;min1&gt;, &lt;sec1&gt;, &lt;hour2&gt;, &lt;min2&gt;, &lt;sec2&gt;, [gmt])\n</pre></div>\n<div class=\"notecard note\" id=\"sect9\">\n  <p><strong>备注：</strong> (Before Firefox 49) the category hour1, min1, sec1 must be less than the category hour2, min2, sec2 if you want the function to evaluate these parameters as a range. See the warning below.</p>\n</div>\n<h4 id=\"参数_14\">参数</h4>\n<dl>\n  <dt id=\"hour\">hour</dt>\n  <dd>\n    <p>小时，区间为 0 到 23。（0 是午夜 0 点，1 是上午 1 点，11 是正午 12 点，23 是下午 11 点。）</p>\n  </dd>\n  <dt id=\"min\">min</dt>\n  <dd>\n    <p>分钟，区间为 0 到 59。</p>\n  </dd>\n  <dt id=\"sec\">sec</dt>\n  <dd>\n    <p>秒，区间为 0 到 59。</p>\n  </dd>\n  <dt id=\"gmt_2\">gmt</dt>\n  <dd>\n    <p>可以指定为字符串 \"<code>GMT</code>\"，代表使用 GMT 时区，或者留白不指定，代表使用浏览器获取到的平台本地时区。</p>\n  </dd>\n</dl>\n<p>If only a single value is specified (from each category: hour, minute, second), the function returns a true value only at times that match that specification. If both values are specified, the result is true between those times, including bounds, <em>but the bounds are ordered</em>.</p>\n<div class=\"notecard warning\" id=\"sect10\">\n  <p><strong>警告：</strong> <strong>The order of the hour, minute, second matter</strong>; Before Firefox 49, <code>timeRange(0, 23)</code> will always evaluate to true. Now <code>timeRange(23, 0)</code> will only evaluate true if the current hour is 23:00 or midnight.</p>\n</div>\n<h4 id=\"例子_11\">例子</h4>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token function\">timerange</span><span class=\"token punctuation\">(</span><span class=\"token number\">12</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>                <span class=\"token comment\">// returns true from noon to 1pm</span>\n<span class=\"token function\">timerange</span><span class=\"token punctuation\">(</span><span class=\"token number\">12</span><span class=\"token punctuation\">,</span> <span class=\"token number\">13</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>            <span class=\"token comment\">// returns true from noon to 1pm</span>\n<span class=\"token function\">timerange</span><span class=\"token punctuation\">(</span><span class=\"token number\">12</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"GMT\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>         <span class=\"token comment\">// returns true from noon to 1pm, in GMT timezone</span>\n<span class=\"token function\">timerange</span><span class=\"token punctuation\">(</span><span class=\"token number\">9</span><span class=\"token punctuation\">,</span> <span class=\"token number\">17</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>             <span class=\"token comment\">// returns true from 9am to 5pm</span>\n<span class=\"token function\">timerange</span><span class=\"token punctuation\">(</span><span class=\"token number\">8</span><span class=\"token punctuation\">,</span> <span class=\"token number\">30</span><span class=\"token punctuation\">,</span> <span class=\"token number\">17</span><span class=\"token punctuation\">,</span> <span class=\"token number\">00</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>     <span class=\"token comment\">// returns true from 8:30am to 5:00pm</span>\n<span class=\"token function\">timerange</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">30</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// returns true between midnight and 30 seconds past midnight</span>\n</code></pre></div>"}},{"type":"prose","value":{"id":"例_1","title":"例 1","isH3":false,"content":""}},{"type":"prose","value":{"id":"对除本地主机以外的所有连接使用代理","title":"对除本地主机以外的所有连接使用代理","isH3":true,"content":"<div class=\"notecard note\" id=\"sect11\">\n  <p><strong>备注：</strong> 以下所有示例都只针对特定需求并未经测试</p>\n</div>\n<p>所有并非完全限定的主机名，以及在本地域内的主机名，都将直接连接。其他的会通过 w3proxy:8080 连接。如果代理不可用，则自动回退到直连。</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">function</span> <span class=\"token function\">FindProxyForURL</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">url<span class=\"token punctuation\">,</span> host</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token function\">isPlainHostName</span><span class=\"token punctuation\">(</span>host<span class=\"token punctuation\">)</span> <span class=\"token operator\">||</span> <span class=\"token function\">dnsDomainIs</span><span class=\"token punctuation\">(</span>host<span class=\"token punctuation\">,</span> <span class=\"token string\">\".mozilla.org\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token string\">\"DIRECT\"</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token string\">\"PROXY w3proxy.mozilla.org:8080; DIRECT\"</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<div class=\"notecard note\" id=\"sect12\">\n  <p><strong>备注：</strong> 这是只有一个代理服务器情况下最简单高效的自动配置脚本。</p>\n</div>"}},{"type":"prose","value":{"id":"例_2","title":"例 2","isH3":false,"content":""}},{"type":"prose","value":{"id":"和例_1_一样，但是对防火墙外的本地服务器使用代理","title":"和例 1 一样，但是对防火墙外的本地服务器使用代理","isH3":true,"content":"<p>如果有主机（例如生产环境中的 Web 服务器）属于本地域但在防火墙外，仅可通过代理访问，可以通过 <code>localHostOrDomainIs()</code> 来为上述主机添加例外：</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">function</span> <span class=\"token function\">FindProxyForURL</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">url<span class=\"token punctuation\">,</span> host</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token punctuation\">(</span><span class=\"token function\">isPlainHostName</span><span class=\"token punctuation\">(</span>host<span class=\"token punctuation\">)</span> <span class=\"token operator\">||</span> <span class=\"token function\">dnsDomainIs</span><span class=\"token punctuation\">(</span>host<span class=\"token punctuation\">,</span> <span class=\"token string\">\".mozilla.org\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&amp;&amp;</span>\n    <span class=\"token operator\">!</span><span class=\"token function\">localHostOrDomainIs</span><span class=\"token punctuation\">(</span>host<span class=\"token punctuation\">,</span> <span class=\"token string\">\"www.mozilla.org\"</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&amp;&amp;</span>\n    <span class=\"token operator\">!</span><span class=\"token function\">localHostOrDoaminIs</span><span class=\"token punctuation\">(</span>host<span class=\"token punctuation\">,</span> <span class=\"token string\">\"merchant.mozilla.org\"</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token string\">\"DIRECT\"</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token string\">\"PROXY w3proxy.mozilla.org:8080; DIRECT\"</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>以上示例为 mozilla.org 域外所有主机使用代理，同时添加了例外使 <code>www.mozilla.org</code> 和 <code>merchant.mozilla.org</code> 也使用代理。</p>\n<div class=\"notecard note\" id=\"sect13\">\n  <p><strong>备注：</strong> 以上例外的顺序影响效率：localHostOrDomainIs() 只在 URL 位于本地域内时执行，注意位于 || 外和 &amp;&amp; 前的括号。</p>\n</div>"}},{"type":"prose","value":{"id":"例_3","title":"例 3","isH3":false,"content":""}},{"type":"prose","value":{"id":"如果无法解析域名，则使用代理","title":"如果无法解析域名，则使用代理","isH3":true,"content":"<p>这个示例可用于网络中的 DNS 服务器只解析内部主机名的情况，其功能是只对不能成功解析的域名使用代理。</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">function</span> <span class=\"token function\">FindProxyForURL</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">url<span class=\"token punctuation\">,</span> host</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token function\">isResolvable</span><span class=\"token punctuation\">(</span>host<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">return</span> <span class=\"token string\">\"DIRECT\"</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">else</span>\n    <span class=\"token keyword\">return</span> <span class=\"token string\">\"PROXY proxy.mydomain.com:8080\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>以上代码每一次均会进行 DNS 查询，这可以通过添加其他一些规则，只在其他规则不能给出结果时进行 DNS 查询来解决：</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">function</span> <span class=\"token function\">FindProxyForURL</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">url<span class=\"token punctuation\">,</span> host</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token function\">isPlainHostName</span><span class=\"token punctuation\">(</span>host<span class=\"token punctuation\">)</span> <span class=\"token operator\">||</span>\n    <span class=\"token function\">dnsDomainIs</span><span class=\"token punctuation\">(</span>host<span class=\"token punctuation\">,</span> <span class=\"token string\">\".mydomain.com\"</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">||</span>\n    <span class=\"token function\">isResolvable</span><span class=\"token punctuation\">(</span>host<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token string\">\"DIRECT\"</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token string\">\"PROXY proxy.mydomain.com:8080\"</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>"}},{"type":"prose","value":{"id":"例_4","title":"例 4","isH3":false,"content":""}},{"type":"prose","value":{"id":"基于网域（subnet）的选择方案","title":"基于网域（Subnet）的选择方案","isH3":true,"content":"<p>在此示例中，所有同一子网内的主机均直接连接，其他主机则通过代理连接：</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">function</span> <span class=\"token function\">FindProxyForURL</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">url<span class=\"token punctuation\">,</span> host</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token function\">isInNet</span><span class=\"token punctuation\">(</span>host<span class=\"token punctuation\">,</span> <span class=\"token string\">\"198.95.0.0\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"255.255.0.0\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">return</span> <span class=\"token string\">\"DIRECT\"</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">else</span>\n    <span class=\"token keyword\">return</span> <span class=\"token string\">\"PROXY proxy.mydomain.com:8080\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>同样的，对 DNS 的使用可以通过添加冗余的规则来最小化：</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">function</span> <span class=\"token function\">FindProxyForURL</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">url<span class=\"token punctuation\">,</span> host</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token function\">isPlainHostName</span><span class=\"token punctuation\">(</span>host<span class=\"token punctuation\">)</span> <span class=\"token operator\">||</span>\n    <span class=\"token function\">dnsDomainIs</span><span class=\"token punctuation\">(</span>host<span class=\"token punctuation\">,</span> <span class=\"token string\">\".mydomain.com\"</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">||</span>\n    <span class=\"token function\">isInNet</span><span class=\"token punctuation\">(</span>host<span class=\"token punctuation\">,</span> <span class=\"token string\">\"198.95.0.0\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"255.255.0.0\"</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token string\">\"DIRECT\"</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token string\">\"PROXY proxy.mydomain.com:8080\"</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>"}},{"type":"prose","value":{"id":"例_5","title":"例 5","isH3":false,"content":""}},{"type":"prose","value":{"id":"负载均衡_基于_url_模式（pattern）的路由规划","title":"负载均衡 / 基于 URL 模式（pattern）的路由规划","isH3":true,"content":"<p>This example is more sophisticated. There are four (4) proxy servers; one of them is a hot stand-by for all of the other ones, so if any of the remaining three goes down the fourth one will take over. Furthermore, the three remaining proxy servers share the load based on URL patterns, which makes their caching more effective (there is only one copy of any document on the three servers - as opposed to one copy on each of them). The load is distributed like this:</p>\n<table>\n  <thead>\n    <tr>\n      <th>代理</th>\n      <th>用途</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <td>#1</td>\n      <td>.com 域名</td>\n    </tr>\n    <tr>\n      <td>#2</td>\n      <td>.edu 域名</td>\n    </tr>\n    <tr>\n      <td>#3</td>\n      <td>所有其他域名</td>\n    </tr>\n    <tr>\n      <td>#4</td>\n      <td>备用（原文：hot stand-by，活跃备用、热备用）</td>\n    </tr>\n  </tbody>\n</table>\n<p>All local accesses are desired to be direct. All proxy servers run on the port 8080 (they don't need to, you can just change your port but remember to modify your configuations on both side). Note how strings can be concatenated with the <strong><code>+</code></strong> operator in JavaScript.</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">function</span> <span class=\"token function\">FindProxyForURL</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">url<span class=\"token punctuation\">,</span> host</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token function\">isPlainHostName</span><span class=\"token punctuation\">(</span>host<span class=\"token punctuation\">)</span> <span class=\"token operator\">||</span> <span class=\"token function\">dnsDomainIs</span><span class=\"token punctuation\">(</span>host<span class=\"token punctuation\">,</span> <span class=\"token string\">\".mydomain.com\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">return</span> <span class=\"token string\">\"DIRECT\"</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token function\">shExpMatch</span><span class=\"token punctuation\">(</span>host<span class=\"token punctuation\">,</span> <span class=\"token string\">\"*.com\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">return</span> <span class=\"token string\">\"PROXY proxy1.mydomain.com:8080; \"</span> <span class=\"token operator\">+</span>\n           <span class=\"token string\">\"PROXY proxy4.mydomain.com:8080\"</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token function\">shExpMatch</span><span class=\"token punctuation\">(</span>host<span class=\"token punctuation\">,</span> <span class=\"token string\">\"*.edu\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">return</span> <span class=\"token string\">\"PROXY proxy2.mydomain.com:8080; \"</span> <span class=\"token operator\">+</span>\n           <span class=\"token string\">\"PROXY proxy4.mydomain.com:8080\"</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">else</span>\n    <span class=\"token keyword\">return</span> <span class=\"token string\">\"PROXY proxy3.mydomain.com:8080; \"</span> <span class=\"token operator\">+</span>\n           <span class=\"token string\">\"PROXY proxy4.mydomain.com:8080\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>"}},{"type":"prose","value":{"id":"例_6","title":"例 6","isH3":false,"content":""}},{"type":"prose","value":{"id":"为特定协议设置代理","title":"为特定协议设置代理","isH3":true,"content":"<p>大多数 JavaScript 标准功能在 <code>FindProxyForURL()</code> 中可用。作为例子，我们通过<a href=\"/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/startsWith\"><code>startsWith()</code></a> 为不同的协议设置不同的代理。</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">function</span> <span class=\"token function\">FindProxyForURL</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">url<span class=\"token punctuation\">,</span> host</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>url<span class=\"token punctuation\">.</span><span class=\"token function\">startsWith</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"http:\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">return</span> <span class=\"token string\">\"PROXY http-proxy.mydomain.com:8080\"</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>url<span class=\"token punctuation\">.</span><span class=\"token function\">startsWith</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ftp:\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">return</span> <span class=\"token string\">\"PROXY ftp-proxy.mydomain.com:8080\"</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>url<span class=\"token punctuation\">.</span><span class=\"token function\">startsWith</span><span class=\"token punctuation\">(</span>“gopher<span class=\"token operator\">:</span>\"<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">return</span> <span class=\"token string\">\"PROXY gopher-proxy.mydomain.com:8080\"</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>url<span class=\"token punctuation\">.</span><span class=\"token function\">startsWith</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"https:\"</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">||</span> url<span class=\"token punctuation\">.</span><span class=\"token function\">startsWith</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"snews:\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">return</span> <span class=\"token string\">\"PROXY security-proxy.mydomain.com:8080\"</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">else</span>\n    <span class=\"token keyword\">return</span> <span class=\"token string\">\"DIRECT\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<div class=\"notecard note\" id=\"sect14\">\n  <p><strong>备注：</strong> <code>shExpMatch()</code> 也可以做到，例如：</p>\n  <div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token comment\">// ...</span>\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token function\">shExpMatch</span><span class=\"token punctuation\">(</span>url<span class=\"token punctuation\">,</span> <span class=\"token string\">\"http:\\*\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n<span class=\"token keyword\">return</span> <span class=\"token string\">\"PROXY http-proxy.mydomain.com:8080\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token comment\">// ...</span>\n\n</code></pre></div>\n</div>\n<div class=\"notecard note\" id=\"sect15\">\n  <p><strong>备注：</strong> 自动配置脚本也可以在服务端动态生成。这在某些情况下比较有用，例如根据客户端地址指定不同的代理服务器。<code>isInNet()</code>， <code>isResolvable()</code> 和 <code>dnsResolve()</code> 应该谨慎使用，这些函数会进行 DNS 查询。其他函数则大都是字符处理函数，不需要 DNS。如果通过代理连接，代理本身也会进行一次 DNS 查询，这产生了额外的 DNS 请求。并且绝大多数情况下，不需要这些函数来实现特定的功能。</p>\n</div>"}},{"type":"prose","value":{"id":"历史与实现","title":"历史与实现","isH3":false,"content":"<p>Proxy auto-config was introduced into Netscape Navigator 2.0 in the late 1990s, at the same time when JavaScript was introduced. Open-sourcing Netscape eventually lead to Firefox itself.</p>\n<p>The most \"original\" implementation of PAC and its JavaScript libraries is, therefore, <code>nsProxyAutoConfig.js</code> found in early versions of Firefox. These utilities are found in many other open-source systems including Chromium. Firefox later integrated the file into <a href=\"https://dxr.mozilla.org/mozilla-central/source/netwerk/base/ProxyAutoConfig.cpp\" class=\"external\" rel=\" noopener\"><code>ProxyAutoConfig.cpp</code></a> as a string literal.</p>\n<p>Microsoft in general made its own implementation. There used to be <a href=\"https://en.wikipedia.org/wiki/Proxy_auto-config#Old_Microsoft_problems\" class=\"external\" rel=\" noopener\">some problems with their libraries</a>, but most are resolved by now. They have defined <a href=\"https://docs.microsoft.com/en-us/windows/win32/winhttp/ipv6-extensions-to-navigator-auto-config-file-format\" class=\"external\" rel=\" noopener\">some new \"Ex\" suffixed functions</a> around the address handling parts to support IPv6. The feature is supported by Chromium, but not yet by Firefox (<a href=\"https://bugzilla.mozilla.org/show_bug.cgi?id=558253\" class=\"external\" rel=\" noopener\">bugzilla #558253</a>).</p>"}}],"toc":[{"text":"语法","id":"语法"},{"text":"描述","id":"描述"},{"text":"预定义的函数与环境","id":"预定义的函数与环境"},{"text":"例 1","id":"例_1"},{"text":"例 2","id":"例_2"},{"text":"例 3","id":"例_3"},{"text":"例 4","id":"例_4"},{"text":"例 5","id":"例_5"},{"text":"例 6","id":"例_6"},{"text":"历史与实现","id":"历史与实现"}],"summary":"**代理自动配置（PAC）**文件是一个 JavaScript 脚本，其核心是一个 JavaScript 函数，用来决定网页浏览请求（HTTP、HTTPS，和 FTP）应当直连目标地址，还是被转发给一个网页代理服务器并通过代理连接。PAC 文件中的核心 JavaScript 函数通常是这样定义的：","popularity":0.0011,"modified":"2022-10-01T03:41:16.000Z","other_translations":[{"title":"Proxy Auto-Configuration (PAC) file","locale":"en-US","native":"English (US)"},{"title":"プロキシー自動設定ファイル","locale":"ja","native":"日本語"}],"source":{"folder":"zh-cn/web/http/proxy_servers_and_tunneling/proxy_auto-configuration_pac_file","github_url":"https://github.com/mdn/translated-content/blob/main/files/zh-cn/web/http/proxy_servers_and_tunneling/proxy_auto-configuration_pac_file/index.md","last_commit_url":"https://github.com/mdn/translated-content/commit/921c46a374ab0a9f4cc809af0370f8c412e54701","filename":"index.md"},"parents":[{"uri":"/zh-CN/docs/Web","title":"Web 开发技术"},{"uri":"/zh-CN/docs/Web/HTTP","title":"HTTP"},{"uri":"/zh-CN/docs/Web/HTTP/Proxy_servers_and_tunneling","title":"Proxy servers and tunneling"},{"uri":"/zh-CN/docs/Web/HTTP/Proxy_servers_and_tunneling/Proxy_Auto-Configuration_PAC_file","title":"代理自动配置文件（PAC）文件"}],"pageTitle":"代理自动配置文件（PAC）文件 - HTTP | MDN","noIndexing":false}}