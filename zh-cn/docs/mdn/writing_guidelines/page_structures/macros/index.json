{"doc":{"isMarkdown":true,"isTranslated":true,"isActive":true,"flaws":{},"title":"使用宏","mdn_url":"/zh-CN/docs/MDN/Writing_guidelines/Page_structures/Macros","locale":"zh-CN","native":"中文 (简体)","sidebarHTML":"\n  <ol>\n    <li><a href=\"/zh-CN/docs/MDN/About\">关于 MDN</a></li>\n    <li class=\"toggle\">\n        <details>\n            <summary>为 MDN 做贡献</summary>\n            <ol>\n                <li><a href=\"/zh-CN/docs/MDN/Contribute/Getting_started\">初识MDN</a></li>\n                <li><a href=\"/zh-CN/docs/MDN/Contribute\">为 MDN 做贡献</a></li>\n                <li><a href=\"/zh-CN/docs/MDN/Contribute/Howto\">MDN 使用指南</a></li>\n                <li><a href=\"/zh-CN/docs/MDN/Contribute/Localize\">MDN 本地化</a></li>\n                <li><a href=\"/zh-CN/docs/MDN/Guidelines\">Guidelines</a></li>\n                <li><a href=\"/zh-CN/docs/MDN/Structures\">文档结构</a></li>\n             </ol>\n        </details>\n    </li>\n  </ol>\n","body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<p>为了自动化执行某些工作，<a href=\"/zh-CN/docs/MDN/Yari\">Yari</a> 平台提供了一个强大的宏系统——<a href=\"/en-US/docs/MDN/Tools/KumaScript\" class=\"only-in-en-us\" title=\"Currently only available in English (US)\">KumaScript (en-US)</a>。本文提供了一些相关信息，方便你在参与编辑 MDN 时使用这些宏。</p>\n<p>本文只是简要介绍了相关内容，<a href=\"/en-US/docs/MDN/Tools/KumaScript\" class=\"only-in-en-us\" title=\"Currently only available in English (US)\">KumaScript 指南 (en-US)</a>提供了更深入的内容。</p>"}},{"type":"prose","value":{"id":"宏是如何实现的","title":"宏是如何实现的","isH3":false,"content":"<p>MDN 使用的宏基于运行于服务器上的 <a href=\"/zh-CN/docs/Web/JavaScript\">JavaScript</a> 代码来实现的，并由 <a href=\"https://nodejs.org/\" class=\"external\" rel=\" noopener\">Node.js</a> 解释执行。在此之上，我们已经实现了一个丰富的工具库，让宏可以与这个平台以及其中的内容进行交互。</p>"}},{"type":"prose","value":{"id":"在文章中使用宏","title":"在文章中使用宏","isH3":false,"content":"<p>要在文章中实际使用宏，只需将对宏的调用和可能需要的参数写在一对双括号中，如下：</p>\n<div class=\"code-example\"><pre class=\"brush: plain notranslate\">{{macroname(parameter-list)}}\n</pre></div>\n<p>关于宏调用的一些注意事项：</p>\n<ul>\n  <li>宏的名称区分大小写，但一些常见的大小写错误也可以在执行时被纠正。比如将某个名称中含有大写的宏，全部使用小写字母，或者将某些名字以小写开头的宏大写。</li>\n  <li>参数以逗号分隔。</li>\n  <li>如果没有参数，括号可以省略：<code>{{macroname()}}</code> 和 <code>{{macroname}}</code> 的作用是相同的。</li>\n  <li>数字参数是否放在引号中，一般没有区别。但是，像版本号（如 1.2.3）这类可能被识别成小数的参数，则需包含在引号中。</li>\n  <li>如果遇到错误，请先仔细检查代码。如果仍然无法弄清楚发生了什么，请参阅<a href=\"/en-US/docs/MDN/Tools/KumaScript/Troubleshooting\" class=\"only-in-en-us\" title=\"Currently only available in English (US)\">排查 KumaScript 中的错误 (en-US)</a>以获取帮助。</li>\n</ul>\n<p>宏的几乎所有执行结果都会被缓存，以便被重用并加快执行速度。这意味着宏仅在输入发生变化时才实际运行，包括调用时的参数以及环境值（例如调用这个宏的文章所在的路径）。</p>\n<p>宏既可以用来做一些简单的工作，比如插入更大的文本块或用 MDN 的替换文章中的内容。也可以通过搜索站点的各个部分，设置输出样式和添加链接来构建整个内容索引。</p>\n<p>你可以在<a href=\"/zh-CN/docs/MDN/Writing_guidelines/Page_structures/Macros/Commonly_used_macros\">常用的宏</a>页面看到一些我们最常用到的宏，还可以在我们 Github 的仓库中，浏览<a href=\"https://github.com/mdn/yari/tree/main/kumascript/macros\" class=\"external\" rel=\" noopener\">所有可用的宏</a>。大多数宏顶部的注释中，都有内置的文档帮助你了解它的作用。</p>"}}],"toc":[{"text":"宏是如何实现的","id":"宏是如何实现的"},{"text":"在文章中使用宏","id":"在文章中使用宏"}],"summary":"为了自动化执行某些工作，Yari 平台提供了一个强大的宏系统——KumaScript (en-US)。本文提供了一些相关信息，方便你在参与编辑 MDN 时使用这些宏。","popularity":0,"modified":"2022-10-01T03:41:16.000Z","other_translations":[{"title":"Using macros","locale":"en-US","native":"English (US)"},{"title":"マクロの使用","locale":"ja","native":"日本語"}],"source":{"folder":"zh-cn/mdn/writing_guidelines/page_structures/macros","github_url":"https://github.com/mdn/translated-content/blob/main/files/zh-cn/mdn/writing_guidelines/page_structures/macros/index.md","last_commit_url":"https://github.com/mdn/translated-content/commit/921c46a374ab0a9f4cc809af0370f8c412e54701","filename":"index.md"},"parents":[{"uri":"/zh-CN/docs/MDN","title":"MDN 项目"},{"uri":"/zh-CN/docs/MDN/Writing_guidelines","title":"撰写指南"},{"uri":"/zh-CN/docs/MDN/Writing_guidelines/Page_structures","title":"文档结构"},{"uri":"/zh-CN/docs/MDN/Writing_guidelines/Page_structures/Macros","title":"使用宏"}],"pageTitle":"使用宏 - MDN 项目 | MDN","noIndexing":false}}