{"doc":{"isMarkdown":true,"isTranslated":false,"isActive":true,"flaws":{},"title":"Site compatibility for Firefox 3","mdn_url":"/en-US/docs/Mozilla/Firefox/Releases/3/Site_compatibility","locale":"en-US","native":"English (US)","sidebarHTML":"\n  <ol>\n    <li class=\"toggle\">\n        <details>\n            <summary>Firefox developer release notes</summary>\n            <ol>\n              <li><a href=\"/en-US/docs/Mozilla/Firefox/Releases\">Firefox developer release notes</a></li>\n            </ol>\n        </details>\n    </li>\n    <li class=\"toggle\">\n        <details>\n            <summary>Add-ons</summary>\n            <ol>\n              <li><a href=\"/en-US/Add-ons/WebExtensions\">Browser extensions</a></li>\n              <li><a href=\"/en-US/Add-ons/Themes\">Themes</a></li>\n            </ol>\n        </details>\n    </li>\n    <li class=\"toggle\">\n        <details>\n            <summary>Firefox internals</summary>\n            <ol>\n              <li><a href=\"/en-US/docs/Mozilla/\">Mozilla project</a></li>\n              <li><a href=\"/en-US/docs/Mozilla/Gecko\">Gecko</a></li>\n              <li><a href=\"/en-US/docs/Mozilla/Firefox/Headless_mode\">Headless mode</a></li>\n              <li><a href=\"/en-US/docs/Mozilla/JavaScript_code_modules\">JavaScript code modules</a></li>\n              <li><a href=\"/en-US/docs/Mozilla/js-ctypes\">JS-ctypes</a></li>\n              <li><a href=\"/en-US/docs/Mozilla/MathML_Project\">MathML project</a></li>\n              <li><a href=\"/en-US/docs/Mozilla/MFBT\">MFBT</a></li>\n              <li><a href=\"/en-US/docs/Mozilla/Projects\">Mozilla projects</a></li>\n              <li><a href=\"/en-US/docs/Mozilla/Preferences\">Preference system</a></li>\n              <li><a href=\"/en-US/docs/Mozilla/WebIDL_bindings\">WebIDL bindings</a></li>\n              <li><a href=\"/en-US/docs/Mozilla/Tech/XPCOM\">XPCOM</a></li>\n              <li><a href=\"/en-US/docs/Mozilla/Tech/XUL\">XUL</a></li>\n            </ol>\n        </details>\n    </li>\n    <li class=\"toggle\">\n        <details>\n            <summary>Building and contributing</summary>\n            <ol>\n              <li><a href=\"/en-US/docs/Mozilla/Developer_guide/Build_Instructions\">Build instructions</a></li>\n              <li><a href=\"/en-US/docs/Mozilla/Developer_guide/Build_Instructions/Configuring_Build_Options\">Configuring build options</a></li>\n              <li><a href=\"/en-US/docs/Mozilla/Developer_guide/Build_Instructions/How_Mozilla_s_build_system_works\">How the build system works</a></li>\n              <li><a href=\"/en-US/docs/Mozilla/Developer_guide/Source_Code/Mercurial\">Mozilla source code</a></li>\n              <li><a href=\"/en-US/docs/Mozilla/Localization\">Localization</a></li>\n              <li><a href=\"/en-US/docs/Mozilla/Mercurial\">Mercurial</a></li>\n              <li><a href=\"/en-US/docs/Mozilla/QA\">Quality assurance</a></li>\n              <li><a href=\"/en-US/docs/Mozilla/Using_Mozilla_code_in_other_projects\">Using Mozilla code in other projects</a></li>\n            </ol>\n        </details>\n    </li>\n  </ol>\n","body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<p>This page tries to give an overview of the changes between <a href=\"/en-US/Gecko\" class=\"page-not-created\" title=\"This is a link to an unwritten page\">Gecko</a> 1.8 and Gecko 1.9, that could possibly affect websites in their behavior or rendering.</p>\n<p>See also <a href=\"/en-US/Firefox_3_for_developers\" class=\"page-not-created\" title=\"This is a link to an unwritten page\">Firefox 3 for developers</a>.</p>"}},{"type":"prose","value":{"id":"events","title":"Events","isH3":false,"content":""}},{"type":"prose","value":{"id":"capturing_load_event_listeners","title":"Capturing load event listeners","isH3":true,"content":"<p>In Gecko 1.8, it was not possible to set capturing load event listeners on images. In Gecko 1.9, this has been fixed by <a href=\"https://bugzilla.mozilla.org/show_bug.cgi?id=234455\" class=\"external\" rel=\" noopener\">bug&nbsp;234455</a>. But this can cause problems on websites that incorrectly have their event listeners set to capture the load event. See the discussion in <a href=\"https://bugzilla.mozilla.org/show_bug.cgi?id=335251\" class=\"external\" rel=\" noopener\">bug&nbsp;335251</a>. To fix this problem, the problematic page in question should not set a capturing load event listener.</p>\n<p>For example, this:</p>\n<div class=\"code-example\"><pre class=\"brush: bash notranslate\"><code>window.addEventListener<span class=\"token punctuation\">(</span><span class=\"token string\">'load'</span>, yourFunction, <span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<p>should be changed into this:</p>\n<div class=\"code-example\"><pre class=\"brush: bash notranslate\"><code>window.addEventListener<span class=\"token punctuation\">(</span><span class=\"token string\">'load'</span>, yourFunction, <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<p>For an explanation of how event capture works, see <a href=\"https://www.w3.org/TR/DOM-Level-2-Events/events.html#Events-flow-capture\" class=\"external\" rel=\" noopener\">DOM Level 2 Event capture</a></p>"}},{"type":"prose","value":{"id":"preventbubble_has_been_removed","title":"<code>preventBubble</code> has been removed","isH3":true,"content":"<p>In Gecko 1.8, the <code>preventBubble</code> method existed on events to prevent events from bubbling upwards. In Gecko 1.9 this method has been removed. Instead, you should use the standard <a href=\"/en-US/docs/Web/API/Event/stopPropagation\">stopPropagation()</a>, which also works fine in Gecko 1.8. The patch in <a href=\"https://bugzilla.mozilla.org/show_bug.cgi?id=330494\" class=\"external\" rel=\" noopener\">bug&nbsp;330494</a> made this happen. See also <a href=\"https://bugzilla.mozilla.org/show_bug.cgi?id=105280\" class=\"external\" rel=\" noopener\">bug&nbsp;105280</a>.</p>","titleAsText":"preventBubble has been removed"}},{"type":"prose","value":{"id":"a_few_other_old_event_apis_are_no_longer_supported","title":"A few other old event APIs are no longer supported","isH3":true,"content":"<p><a href=\"/en-US/docs/Web/API/Window/captureEvents\"><code>window.captureEvents</code></a>, <a href=\"/en-US/docs/Web/API/Window/releaseEvents\"><code>window.releaseEvents</code></a> and <a href=\"/en-US/docs/Web/API/Window/routeEvent\" class=\"page-not-created\" title=\"This is a link to an unwritten page\"><code>window.routeEvent</code></a> are now considered deprecated since Gecko 1.9.</p>"}},{"type":"prose","value":{"id":"dom","title":"DOM","isH3":false,"content":""}},{"type":"prose","value":{"id":"wrong_document_err","title":"<code>WRONG_DOCUMENT_ERR</code>","isH3":true,"content":"<p>Nodes from external documents should be cloned using <a href=\"/en-US/docs/Web/API/Document/importNode\"><code>document.importNode()</code></a> (or adopted using <a href=\"/en-US/docs/Web/API/Document/adoptNode\"><code>document.adoptNode()</code></a>) before they can be inserted into the current document. For more on the <a href=\"/en-US/docs/Web/API/Node/ownerDocument\"><code>Node.ownerDocument</code></a> issues, see the <a href=\"https://www.w3.org/DOM/faq.html#ownerdoc\" class=\"external\" rel=\" noopener\">W3C DOM FAQ</a>.</p>\n<p>Firefox doesn't currently enforce this rule (it did for a while during the development of Firefox 3, but too many sites break when this rule is enforced). We encourage Web developers to fix their code to follow this rule for improved future compatibility.</p>","titleAsText":"WRONG_DOCUMENT_ERR"}},{"type":"prose","value":{"id":"ranges","title":"Ranges","isH3":false,"content":""}},{"type":"prose","value":{"id":"intersectsnode_has_been_removed","title":"<code>intersectsNode</code> has been removed","isH3":true,"content":"<p>In Gecko 1.8 the function <code>intersectsNode</code> code be used to test if a node intersected a range. However the return values from this function were confusing and rarely useful and has therefore been removed in Gecko 1.9. Instead use the more precise and standard function <a href=\"/en-US/docs/Web/API/Range/compareBoundaryPoints\">compareBoundaryPoints</a>. The patch in <a href=\"https://bugzilla.mozilla.org/show_bug.cgi?id=358073\" class=\"external\" rel=\" noopener\">bug&nbsp;358073</a> removed this function.</p>\n<p>See the documentation for <a href=\"/en-US/docs/Web/API/Range/intersectsNode\">intersectsNode</a> for how to use <code>compareBoundaryPoints</code> instead.</p>","titleAsText":"intersectsNode has been removed"}},{"type":"prose","value":{"id":"comparenode_has_been_removed","title":"<code>compareNode</code> has been removed","isH3":true,"content":"<p>In Gecko 1.8 the function <code>compareNode</code> code be used to test how a node intersected a range. However the return values from this function were confusing and rarely useful and has therefore been removed in Gecko 1.9. Instead use the more precise and standard function <a href=\"/en-US/docs/Web/API/Range/compareBoundaryPoints\">compareBoundaryPoints</a>. The patch in <a href=\"https://bugzilla.mozilla.org/show_bug.cgi?id=358073\" class=\"external\" rel=\" noopener\">bug&nbsp;358073</a> removed this function.</p>\n<p>See the documentation for <a href=\"/en-US/docs/Web/API/Range/compareNode\">compareNode</a> for how to use <code>compareBoundaryPoints</code> instead.</p>","titleAsText":"compareNode has been removed"}},{"type":"prose","value":{"id":"html","title":"HTML","isH3":false,"content":""}},{"type":"prose","value":{"id":"many_bugs_in_the_object_have_been_fixed","title":"Many bugs in the <code>&lt;object&gt;</code> have been fixed","isH3":true,"content":"<p><code>object</code> and <code>embed</code> elements no longer need a <code>type</code> attribute to render. Changing the <code>src</code> attribute (of <code>&lt;embed&gt;</code>) or the <code>data</code> attribute (of <code>&lt;object&gt;</code>) via JavaScript now works correctly. The Content-Type header sent by the server (if any) now takes precedence over the <code>type</code> attribute of an <code>&lt;object&gt;</code> element as per the HTML specification (this is not the case for <code>embed</code>).</p>","titleAsText":"Many bugs in the <object> have been fixed"}}],"toc":[{"text":"Events","id":"events"},{"text":"DOM","id":"dom"},{"text":"Ranges","id":"ranges"},{"text":"HTML","id":"html"}],"summary":"This page tries to give an overview of the changes between Gecko 1.8 and Gecko 1.9, that could possibly affect websites in their behavior or rendering.","popularity":0,"modified":"2022-09-09T05:03:45.000Z","other_translations":[{"title":"Changements dans Gecko 1.9 affectant les sites Web","locale":"fr","native":"Français"},{"title":"Gecko 1.9 Changes affecting websites","locale":"zh-CN","native":"中文 (简体)"}],"source":{"folder":"en-us/mozilla/firefox/releases/3/site_compatibility","github_url":"https://github.com/mdn/content/blob/style/old/files/en-us/mozilla/firefox/releases/3/site_compatibility/index.md","last_commit_url":"https://github.com/mdn/content/commit/1ee49b729dc4cd02b862d910f279861f4b30e704","filename":"index.md"},"parents":[{"uri":"/en-US/docs/Mozilla","title":"Mozilla"},{"uri":"/en-US/docs/Mozilla/Firefox","title":"Firefox"},{"uri":"/en-US/docs/Mozilla/Firefox/Releases","title":"Firefox release notes for developers"},{"uri":"/en-US/docs/Mozilla/Firefox/Releases/3","title":"Firefox 3 for developers"},{"uri":"/en-US/docs/Mozilla/Firefox/Releases/3/Site_compatibility","title":"Site compatibility for Firefox 3"}],"pageTitle":"Site compatibility for Firefox 3 - Mozilla | MDN","noIndexing":false}}