{"doc":{"isMarkdown":true,"isTranslated":false,"isActive":true,"flaws":{},"title":"Updating web applications for Firefox 3","mdn_url":"/en-US/docs/Mozilla/Firefox/Releases/3/Updating_web_applications","locale":"en-US","native":"English (US)","sidebarHTML":"\n  <ol>\n    <li class=\"toggle\">\n        <details>\n            <summary>Firefox developer release notes</summary>\n            <ol>\n              <li><a href=\"/en-US/docs/Mozilla/Firefox/Releases\">Firefox developer release notes</a></li>\n            </ol>\n        </details>\n    </li>\n    <li class=\"toggle\">\n        <details>\n            <summary>Add-ons</summary>\n            <ol>\n              <li><a href=\"/en-US/Add-ons/WebExtensions\">Browser extensions</a></li>\n              <li><a href=\"/en-US/Add-ons/Themes\">Themes</a></li>\n            </ol>\n        </details>\n    </li>\n    <li class=\"toggle\">\n        <details>\n            <summary>Firefox internals</summary>\n            <ol>\n              <li><a href=\"/en-US/docs/Mozilla/\">Mozilla project</a></li>\n              <li><a href=\"/en-US/docs/Mozilla/Gecko\">Gecko</a></li>\n              <li><a href=\"/en-US/docs/Mozilla/Firefox/Headless_mode\">Headless mode</a></li>\n              <li><a href=\"/en-US/docs/Mozilla/JavaScript_code_modules\">JavaScript code modules</a></li>\n              <li><a href=\"/en-US/docs/Mozilla/js-ctypes\">JS-ctypes</a></li>\n              <li><a href=\"/en-US/docs/Mozilla/MathML_Project\">MathML project</a></li>\n              <li><a href=\"/en-US/docs/Mozilla/MFBT\">MFBT</a></li>\n              <li><a href=\"/en-US/docs/Mozilla/Projects\">Mozilla projects</a></li>\n              <li><a href=\"/en-US/docs/Mozilla/Preferences\">Preference system</a></li>\n              <li><a href=\"/en-US/docs/Mozilla/WebIDL_bindings\">WebIDL bindings</a></li>\n              <li><a href=\"/en-US/docs/Mozilla/Tech/XPCOM\">XPCOM</a></li>\n              <li><a href=\"/en-US/docs/Mozilla/Tech/XUL\">XUL</a></li>\n            </ol>\n        </details>\n    </li>\n    <li class=\"toggle\">\n        <details>\n            <summary>Building and contributing</summary>\n            <ol>\n              <li><a href=\"/en-US/docs/Mozilla/Developer_guide/Build_Instructions\">Build instructions</a></li>\n              <li><a href=\"/en-US/docs/Mozilla/Developer_guide/Build_Instructions/Configuring_Build_Options\">Configuring build options</a></li>\n              <li><a href=\"/en-US/docs/Mozilla/Developer_guide/Build_Instructions/How_Mozilla_s_build_system_works\">How the build system works</a></li>\n              <li><a href=\"/en-US/docs/Mozilla/Developer_guide/Source_Code/Mercurial\">Mozilla source code</a></li>\n              <li><a href=\"/en-US/docs/Mozilla/Localization\">Localization</a></li>\n              <li><a href=\"/en-US/docs/Mozilla/Mercurial\">Mercurial</a></li>\n              <li><a href=\"/en-US/docs/Mozilla/QA\">Quality assurance</a></li>\n              <li><a href=\"/en-US/docs/Mozilla/Using_Mozilla_code_in_other_projects\">Using Mozilla code in other projects</a></li>\n            </ol>\n        </details>\n    </li>\n  </ol>\n","body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<p>There are a number of changes in the upcoming Firefox 3 that may affect your web site or web application, as well as new features you may wish to take advantage of. This article will serve as a starting point as you work on updating your content to take the fullest possible advantage of Firefox 3.</p>"}},{"type":"prose","value":{"id":"dom_changes","title":"DOM changes","isH3":false,"content":"<p>\n  Nodes from external documents should be cloned using <a href=\"/en-US/docs/Web/API/Document/importNode\"><code>document.importNode()</code></a> (or adopted using <a href=\"/en-US/docs/Web/API/Document/adoptNode\"><code>document.adoptNode()</code></a>) before they can be inserted into the current document. For more on the <a href=\"/en-US/docs/Web/API/Node/ownerDocument\"><code>Node.ownerDocument</code></a> issues, see the\n  <a href=\"https://www.w3.org/DOM/faq.html#ownerdoc\" class=\"external\" rel=\" noopener\">W3C DOM FAQ</a>.\n</p>\n<p>Firefox doesn't currently enforce this rule (it did for a while during the development of Firefox 3, but too many sites break when this rule is enforced). We encourage Web developers to fix their code to follow this rule for improved future compatibility.</p>"}},{"type":"prose","value":{"id":"html_changes","title":"HTML changes","isH3":false,"content":""}},{"type":"prose","value":{"id":"changes_to_character_set_inheritance","title":"Changes to character set inheritance","isH3":true,"content":"<p>Firefox 3 closes a security bug in frames and iframes that allowed them to inherit the parent's character set. This could cause problems in certain cases. Now, frames are only allowed to inherit the parent's character set if both frame and parent were loaded from the same server. If you have pages that assume that frames loaded from other servers will inherit the same character set, you should update the frames' HTML to indicate their character set specifically.</p>"}},{"type":"prose","value":{"id":"change_to_the_script_element","title":"Change to the SCRIPT element","isH3":true,"content":"<p>The <code>&lt;script&gt;</code> element in <code>text/html</code> documents now requires a closing <code>&lt;/script&gt;</code> in HTML 4 documents, even if you're not including any content in between. While in previous versions of Firefox, you could do:</p>\n<div class=\"code-example\"><pre class=\"brush: html notranslate\"><code><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">…</span> <span class=\"token punctuation\">/&gt;</span></span>\n</code></pre></div>\n<p>Now the markup must comply with the HTML specifications (if it's actually HTML), and hence you must actually close it, like this:</p>\n<div class=\"code-example\"><pre class=\"brush: html notranslate\"><code><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">…</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token script\"></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">&gt;</span></span>\n</code></pre></div>\n<p>This improves both compatibility and security.</p>"}},{"type":"prose","value":{"id":"css_changes","title":"CSS changes","isH3":false,"content":""}},{"type":"prose","value":{"id":"change_to_font-size_based_on_em_ex_units","title":"Change to font-size based on em, ex units","isH3":true,"content":"<p>font-size values in em and ex units used to be affected by the user's minimum font size setting: if a font was displayed larger due to the minimum font size, the em and ex units for font-size settings based on this one would be enlarged accordingly. This was inconsistent with the way percentage-based font sizes behaved.</p>\n<p>font-size values in em and ex units are now based on an \"intended font size\" that is not affected by the user's minimum font size. In other words, font sizes are always calculated according to the designer's intention and are adjusted for minimum font size afterwards.</p>\n<p>See <a href=\"https://bugzilla.mozilla.org/show_bug.cgi?id=434718\" class=\"external\" rel=\" noopener\">bug&nbsp;434718</a>, especially its NOT A CASE FOR THE BUG TEMPLATE - The following link points to a Bugzilla attachment, not a Bugzilla bug; if you use the attachment number as a bug number, it becomes nonsense <a href=\"https://bug434718.bmoattachments.org/attachment.cgi?id=322943\" class=\"external\" rel=\" noopener\">attachment 322943</a> NOT A CASE FOR THE BUG TEMPLATE for a demonstration (must be watched with a minimum font size &gt;= 6 to see the difference: the two box cascades behave differently in Firefox 2, because the em-based font-size \"bounces\" off the minimum font size).</p>"}},{"type":"prose","value":{"id":"security_changes","title":"Security changes","isH3":false,"content":""}},{"type":"prose","value":{"id":"chrome_access","title":"Chrome access","isH3":true,"content":"<p>In prior versions of Firefox, any web page could load scripts or images from chrome using the <code>chrome://</code> protocol. Among other things, this made it possible for sites to detect the presence of add-ons — which could be used to breach a user's security by bypassing add-ons that add security features to the browser.</p>\n<p>Firefox 3 only allows web content to access items in the <code>chrome://browser/</code> and <code>chrome://toolkit/</code> spaces. These files are intended to be accessible by web content. All other chrome content is now blocked from access by the web.</p>\n<p>There is, however, a way for extensions to make their content web-accessible. They can specify a special flag in their <code>chrome.manifest</code> file, like this:</p>\n<pre class=\"notranslate\">content mypackage location/ contentaccessible=yes\n</pre>\n<p>This shouldn't be something you need to do very often, but it's available for those rare cases in which it's needed. Note that it's possible that Firefox may alert the user that your extension uses the <code>contentaccessible</code> flag in this way, as it does constitute a potential security risk.</p>\n<div class=\"notecard note\" id=\"sect1\">\n  <p><strong>Note:</strong> Because Firefox 2 doesn't understand the <code>contentaccessible</code> flag (it will ignore the entire line containing the flag), if you want your add-on to be compatible with both Firefox 2 and Firefox 3, you should do something like this:</p>\n  <div class=\"code-example\"><pre class=\"brush: bash notranslate\"><code>content mypackage location/\ncontent mypackage location/ <span class=\"token assign-left variable\">contentaccessible</span><span class=\"token operator\">=</span>yes\n\n</code></pre></div>\n</div>"}},{"type":"prose","value":{"id":"file_upload_fields","title":"File upload fields","isH3":true,"content":"<p>In prior versions of Firefox, there were cases in which when the user submitted a file for uploading, the entire path of the file was available to the web application. This privacy concern has been resolved in Firefox 3; now only the filename itself is available to the web application.</p>"}},{"type":"prose","value":{"id":"using_remote_jars_in_frames","title":"Using remote JARs in frames","isH3":true,"content":"<p>Using code in JAR files loaded from other domains is no longer allowed in frames; this mitigates a <a href=\"https://www.mozilla.org/en-US/security/advisories/mfsa2008-23/\" class=\"external\" rel=\" noopener\">potential attack vector</a>.</p>"}},{"type":"prose","value":{"id":"changes_to_same-origin_policy_for_file_uris","title":"Changes to same-origin policy for file: URIs","isH3":true,"content":"<p>The same-origin policy for file: URIs has changed in Firefox 3. This may affect your content; please see <a href=\"/en-US/docs/Same-origin_policy_for_file:_URIs\" class=\"page-not-created\" title=\"This is a link to an unwritten page\">Same-origin policy for file: URIs</a> for details.</p>"}},{"type":"prose","value":{"id":"javascript_changes","title":"JavaScript changes","isH3":false,"content":"<p>Firefox 3 supports <a href=\"/en-US/docs/New_in_JavaScript_1.8\" class=\"page-not-created\" title=\"This is a link to an unwritten page\">JavaScript 1.8</a>. One important change that may require updates to your web site or application is that the obsolete and non-standard <code>Script</code> object is no longer supported. This is not the <code>&lt;script&gt;</code> tag, but a JavaScript object that was never standardized. It is unlikely this is something you ever used anyway, so you're probably fine.</p>"}},{"type":"prose","value":{"id":"see_also","title":"See also","isH3":false,"content":"<ul>\n  <li><a href=\"/en-US/docs/Mozilla/Firefox/Releases/3\">Firefox 3 for developers</a></li>\n  <li><a href=\"/en-US/docs/New_in_JavaScript_1.8\" class=\"page-not-created\" title=\"This is a link to an unwritten page\">New in JavaScript 1.8</a></li>\n  <li><a href=\"/en-US/docs/Mozilla/Firefox/Releases/3/Updating_extensions\">Updating extensions for Firefox 3</a></li>\n</ul>"}}],"toc":[{"text":"DOM changes","id":"dom_changes"},{"text":"HTML changes","id":"html_changes"},{"text":"CSS changes","id":"css_changes"},{"text":"Security changes","id":"security_changes"},{"text":"JavaScript changes","id":"javascript_changes"},{"text":"See also","id":"see_also"}],"summary":"There are a number of changes in the upcoming Firefox 3 that may affect your web site or web application, as well as new features you may wish to take advantage of. This article will serve as a starting point as you work on updating your content to take the fullest possible advantage of Firefox 3.","popularity":0,"modified":"2022-09-09T05:03:45.000Z","other_translations":[{"title":"Actualizar aplicaciones web para Firefox 3","locale":"es","native":"Español"},{"title":"Mise à jour des applications Web pour Firefox 3","locale":"fr","native":"Français"},{"title":"Firefox 3 のためのウェブアプリケーションの更新","locale":"ja","native":"日本語"}],"source":{"folder":"en-us/mozilla/firefox/releases/3/updating_web_applications","github_url":"https://github.com/mdn/content/blob/style/old/files/en-us/mozilla/firefox/releases/3/updating_web_applications/index.md","last_commit_url":"https://github.com/mdn/content/commit/1ee49b729dc4cd02b862d910f279861f4b30e704","filename":"index.md"},"parents":[{"uri":"/en-US/docs/Mozilla","title":"Mozilla"},{"uri":"/en-US/docs/Mozilla/Firefox","title":"Firefox"},{"uri":"/en-US/docs/Mozilla/Firefox/Releases","title":"Firefox release notes for developers"},{"uri":"/en-US/docs/Mozilla/Firefox/Releases/3","title":"Firefox 3 for developers"},{"uri":"/en-US/docs/Mozilla/Firefox/Releases/3/Updating_web_applications","title":"Updating web applications for Firefox 3"}],"pageTitle":"Updating web applications for Firefox 3 - Mozilla | MDN","noIndexing":false}}