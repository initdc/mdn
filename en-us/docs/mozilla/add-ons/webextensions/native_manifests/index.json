{"doc":{"isMarkdown":true,"isTranslated":false,"isActive":true,"flaws":{},"title":"Native manifests","mdn_url":"/en-US/docs/Mozilla/Add-ons/WebExtensions/Native_manifests","locale":"en-US","native":"English (US)","sidebarHTML":"\n  <ol>\n    <li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions\"><strong>Browser extensions</strong></a></li>\n    <li class=\"toggle\">\n      <details>\n        <summary>Getting started</summary>\n        <ol>\n          <li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/What_are_WebExtensions\">What are extensions?</a></li>\n          <li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/Your_first_WebExtension\">Your first extension</a></li>\n          <li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/Your_second_WebExtension\">Your second extension</a></li>\n          <li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/Anatomy_of_a_WebExtension\">Anatomy of an extension</a></li>\n          <li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/Examples\">Example extensions</a></li>\n          <li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/What_next_\">What next?</a></li>\n        </ol>\n      </details>\n    </li>\n    <li class=\"toggle\">\n      <details>\n        <summary>Concepts</summary>\n        <ol>\n          <li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/Using_the_JavaScript_APIs\">Using the JavaScript APIs</a></li>\n          <li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/Content_scripts\">Content scripts</a></li>\n          <li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/Match_patterns\">Match patterns</a></li>\n          <li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/Working_with_files\">Working with files</a></li>\n          <li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/Internationalization\">Internationalization</a></li>\n          <li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/Content_Security_Policy\">Content Security Policy</a></li>\n          <li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/Native_messaging\">Native messaging</a></li>\n          <li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/Differences_between_API_implementations\">Differences between API implementations</a></li>\n          <li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/Chrome_incompatibilities\">Chrome incompatibilities</a></li>\n        </ol>\n      </details>\n    </li>\n    <li class=\"toggle\">\n      <details>\n        <summary>User interface</summary>\n        <ol>\n          <li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/user_interface\">User Interface</a></li>\n          <li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/user_interface/Browser_action\">Toolbar button</a></li>\n          <li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/user_interface/Page_actions\">Address bar button</a></li>\n          <li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/user_interface/Sidebars\">Sidebars</a></li>\n          <li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/user_interface/Context_menu_items\">Context menu items</a></li>\n          <li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/user_interface/Options_pages\">Options page</a></li>\n          <li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/user_interface/Extension_pages\">Extension pages</a></li>\n          <li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/user_interface/Notifications\">Notifications</a></li>\n          <li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/user_interface/Omnibox\">Address bar suggestions</a></li>\n          <li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/user_interface/devtools_panels\">Developer tools panels</a></li>\n        </ol>\n      </details>\n    </li>\n    <li class=\"toggle\">\n      <details>\n        <summary>How to</summary>\n        <ol>\n          <li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/Intercept_HTTP_requests\">Intercept HTTP requests</a></li>\n          <li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/Modify_a_web_page\">Modify a web page</a></li>\n          <li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/Safely_inserting_external_content_into_a_page\">Insert external content</a></li>\n          <li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/Sharing_objects_with_page_scripts\">Share objects with page scripts</a></li>\n          <li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/Add_a_button_to_the_toolbar\">Add a button to the toolbar</a></li>\n          <li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/Implement_a_settings_page\">Implement a settings page</a></li>\n          <li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/Working_with_the_Tabs_API\">Work with the Tabs API</a></li>\n          <li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/Work_with_the_Bookmarks_API\">Work with the Bookmarks API</a></li>\n          <li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/Work_with_the_Cookies_API\">Work with the Cookies API</a></li>\n          <li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/Work_with_contextual_identities\">Work with contextual identities</a></li>\n          <li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/Interact_with_the_clipboard\">Interact with the clipboard</a></li>\n          <li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/Build_a_cross_browser_extension\">Build a cross-browser extension</a></li>\n        </ol>\n      </details>\n    </li>\n    <li class=\"toggle\">\n      <details>\n        <summary><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/Firefox_differentiators\">Firefox differentiators</a></summary>\n      </details>\n    </li>\n    <li class=\"toggle\">\n      <details>\n        <summary>JavaScript APIs</summary>\n        <ol><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/Browser_support_for_JavaScript_APIs\">Browser support for JavaScript APIs</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/action\">action</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/alarms\">alarms</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/bookmarks\">bookmarks</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/browserAction\">browserAction</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/browserSettings\">browserSettings</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/browsingData\">browsingData</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/captivePortal\">captivePortal</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/clipboard\">clipboard</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/commands\">commands</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/contentScripts\">contentScripts</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/contextualIdentities\">contextualIdentities</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/cookies\">cookies</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/devtools\">devtools</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/dns\">dns</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/downloads\">downloads</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/events\">events</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/extension\">extension</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/extensionTypes\">extensionTypes</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/find\">find</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/history\">history</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/i18n\">i18n</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/identity\">identity</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/idle\">idle</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/management\">management</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/menus\">menus</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/notifications\">notifications</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/omnibox\">omnibox</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/pageAction\">pageAction</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/permissions\">permissions</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/pkcs11\">pkcs11</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/privacy\">privacy</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/proxy\">proxy</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/runtime\">runtime</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/scripting\">scripting</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/search\">search</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/sessions\">sessions</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/sidebarAction\">sidebarAction</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/storage\">storage</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/tabs\">tabs</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/theme\">theme</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/topSites\">topSites</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/types\">types</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/userScripts\">userScripts</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/webNavigation\">webNavigation</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/webRequest\">webRequest</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/windows\">windows</a></li></ol>\n      </details>\n    </li>\n    <li class=\"toggle\">\n      <details>\n      <summary>Manifest keys</summary>\n        <ol>\n          <li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json\">Introduction</a></li>\n        </ol>\n      <ol><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/action\">action</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/author\">author</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/background\">background</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/browser_action\">browser_action</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/browser_specific_settings\">browser_specific_settings</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/chrome_settings_overrides\">chrome_settings_overrides</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/chrome_url_overrides\">chrome_url_overrides</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/commands\">commands</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/content_scripts\">content_scripts</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/content_security_policy\">content_security_policy</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/default_locale\">default_locale</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/description\">description</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/developer\">developer</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/devtools_page\">devtools_page</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/dictionaries\">dictionaries</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/externally_connectable\">externally_connectable</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/homepage_url\">homepage_url</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/host_permissions\">host_permissions</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/icons\">icons</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/incognito\">incognito</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/manifest_version\">manifest_version</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/name\">name</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/offline_enabled\">offline_enabled</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/omnibox\">omnibox</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/optional_permissions\">optional_permissions</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/options_page\">options_page</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/options_ui\">options_ui</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/page_action\">page_action</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/permissions\">permissions</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/protocol_handlers\">protocol_handlers</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/short_name\">short_name</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/sidebar_action\">sidebar_action</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/storage\">storage</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/theme\">theme</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/theme_experiment\">theme_experiment</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/user_scripts\">user_scripts</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/version\">version</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/version_name\">version_name</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/web_accessible_resources\">web_accessible_resources</a></li></ol>\n      </details>\n    </li>\n     <li class=\"toggle\">\n      <details>\n        <summary>Extension Workshop</summary>\n        <ol>\n          <li><a href=\"https://extensionworkshop.com/documentation/develop/\">Develop</a></li>\n          <li><a href=\"https://extensionworkshop.com/documentation/publish/\">Publish</a></li>\n          <li><a href=\"https://extensionworkshop.com/documentation/manage/\">Manage</a></li>\n          <li><a href=\"https://extensionworkshop.com/documentation/enterprise/\">Enterprise</a></li>\n        </ol>\n      </details>\n    </li>\n    <li><a href=\"/en-US/docs/Mozilla/Add-ons/Contact_us\"><strong>Contact us</strong></a></li>\n    <li class=\"toggle\">\n      <details>\n        <summary>Channels</summary>\n        <ol>\n          <li><a href=\"https://blog.mozilla.org/addons\">Add-ons blog</a></li>\n          <li><a href=\"https://discourse.mozilla.org/c/add-ons\">Add-ons forum</a></li>\n          <li><a href=\"https://chat.mozilla.org/#/room/%23addons:mozilla.org\">Add-ons chat</a></li>\n        </ol>\n      </details>\n    </li>\n  </ol>\n","body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<p>Native manifests are specially formatted JSON files that are provisioned on the user's computer by some means outside the extension installation process. For example, a native manifest might be provisioned by a device administrator or by a native application installer.</p>\n<p>There are three different types of native manifest:</p>\n<table class=\"standard-table\">\n  <tbody>\n    <tr>\n      <td><a href=\"#native_messaging_manifests\">Native messaging manifests</a></td>\n      <td>\n        Enable a feature called\n        <a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/Native_messaging\">native messaging</a>, in which an extension can communicate with a native app installed on\n        the device.\n      </td>\n    </tr>\n    <tr>\n      <td><a href=\"#managed_storage_manifests\">Managed storage manifests</a></td>\n      <td>\n        Define read-only data that an extension can access using the\n        <a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/storage/managed\"><code>storage.managed</code></a> API.\n      </td>\n    </tr>\n    <tr>\n      <td><a href=\"#pkcs_11_manifests\">PKCS #11 manifests</a></td>\n      <td>\n        Enable an extension to use the <a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/pkcs11\"><code>pkcs11</code></a> API\n        to enumerate PKCS #11 security modules and install them in Firefox.\n      </td>\n    </tr>\n  </tbody>\n</table>\n<p>For all native manifests, you need to arrange things so the browser can find the manifest. The section on <a href=\"#manifest_location\">manifest location</a> describes these rules.</p>"}},{"type":"prose","value":{"id":"native_messaging_manifests","title":"Native messaging manifests","isH3":false,"content":"<p>The native messaging manifest contains a single JSON object with the following properties:</p>\n<table class=\"fullwidth-table standard-table\">\n  <thead>\n    <tr>\n      <th scope=\"col\">Name</th>\n      <th scope=\"col\">Type</th>\n      <th scope=\"col\">Description</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <td><code>name</code></td>\n      <td>String</td>\n      <td>\n        <p>Name of the native application.</p>\n        <p>\n          This must match the name passed into\n          <a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/runtime/connectNative\"><code>runtime.connectNative()</code></a> or\n          <a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/runtime/sendNativeMessage\"><code>runtime.sendNativeMessage()</code></a> by\n          the extension.\n        </p>\n        <p>\n          On MacOS and Linux, it must also match the native messaging manifest's\n          filename (excluding the <code>.json</code> extension).\n        </p>\n        <p>\n          On Windows, it must match the name of the registry key you create,\n          that contains the location of the native messaging manifest.\n        </p>\n        <p>\n          The name must match the following regular expression:\n          <code>\"^\\w+(\\.\\w+)*$\"</code>. This means that it may only contain\n          (lowercase or uppercase) alphanumeric characters, underscores, and\n          dots. It may not start or end with a dot, and a dot cannot be followed\n          by another dot.\n        </p>\n      </td>\n    </tr>\n    <tr>\n      <td><code>description</code></td>\n      <td>String</td>\n      <td>Description of the native application.</td>\n    </tr>\n    <tr>\n      <td><code>path</code></td>\n      <td>String</td>\n      <td>\n        <p>Path to the native application.</p>\n        <p>\n          On Windows, this may be relative to the manifest itself. On MacOS and\n          Linux it must be absolute.\n        </p>\n      </td>\n    </tr>\n    <tr>\n      <td><code>type</code></td>\n      <td>String</td>\n      <td>\n        <p>Describes the method used to connect the extension with the app.</p>\n        <p>\n          Currently, only one value can be given here, <code>\"stdio\"</code>,\n          which indicates that messages are received by the app using standard\n          input (<code>stdin</code>) and sent using standard output\n          (<code>stdout</code>).\n        </p>\n      </td>\n    </tr>\n    <tr>\n      <td><code>allowed_extensions</code></td>\n      <td>Array of String</td>\n      <td>\n        <p>\n          An array of\n          <a href=\"https://extensionworkshop.com/documentation/develop/extensions-and-the-add-on-id/\" class=\"external\" rel=\" noopener\">Add-on ID</a>\n          values. Each value represents an extension which is allowed to\n          communicate with this native application.\n        </p>\n        <p>\n          Note that this means you will probably want to include the\n          <code><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/browser_specific_settings\">browser_specific_settings</a></code>\n          key in your extension's <code>manifest.json</code> file, so you can\n          set an explicit ID during development.\n        </p>\n      </td>\n    </tr>\n  </tbody>\n</table>\n<p>For example, here's a manifest for the <code>ping_pong</code> native application:</p>\n<div class=\"code-example\"><pre class=\"brush: json notranslate\"><code><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"ping_pong\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"description\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Example host for native messaging\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"path\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"/path/to/native-messaging/app/ping_pong.py\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"type\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"stdio\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"allowed_extensions\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span> <span class=\"token string\">\"ping_pong@example.org\"</span> <span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>This allows the extension whose ID is <code>ping_pong@example.org</code> to connect, by passing the name <code>ping_pong</code> into the relevant <a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/runtime\"><code>runtime</code></a> API function. The application itself is at <code>/path/to/native-messaging/app/ping_pong.py</code>.</p>"}},{"type":"prose","value":{"id":"managed_storage_manifests","title":"Managed storage manifests","isH3":false,"content":"<p>The managed storage manifest contains a single JSON object with the following properties:</p>\n<table class=\"fullwidth-table standard-table\">\n  <thead>\n    <tr>\n      <th scope=\"col\">Name</th>\n      <th scope=\"col\">Type</th>\n      <th scope=\"col\">Description</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <td><code>name</code></td>\n      <td>String</td>\n      <td>\n        <p>\n          The ID of the extension that can access this storage, given as the ID\n          you've specified in the extension's\n          <code><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/browser_specific_settings\">applications</a></code>\n          key.\n        </p>\n      </td>\n    </tr>\n    <tr>\n      <td><code>description</code></td>\n      <td>String</td>\n      <td>Human readable description, ignored by Firefox.</td>\n    </tr>\n    <tr>\n      <td><code>type</code></td>\n      <td>String</td>\n      <td>\n        <p>This must be <code>\"storage\"</code>.</p>\n      </td>\n    </tr>\n    <tr>\n      <td><code>data</code></td>\n      <td>Object</td>\n      <td>\n        <p>\n          A JSON object that may contain any valid JSON values, including\n          strings, numbers, booleans, arrays, or objects. This will become the\n          data in the <code>browser.storage.managed</code> storage area.\n        </p>\n      </td>\n    </tr>\n  </tbody>\n</table>\n<p>For example:</p>\n<div class=\"code-example\"><pre class=\"brush: json notranslate\"><code><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"favourite-color-examples@mozilla.org\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"description\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"ignored\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"type\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"storage\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"data\"</span><span class=\"token operator\">:</span>\n  <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"color\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"management thinks it should be blue!\"</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>Given this JSON manifest, the <code>favourite-color-examples@mozilla.org</code> extension could access the data using code like this:</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">let</span> storageItem <span class=\"token operator\">=</span> browser<span class=\"token punctuation\">.</span>storage<span class=\"token punctuation\">.</span>managed<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'color'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nstorageItem<span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">res</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">Managed color is: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>res<span class=\"token punctuation\">.</span>color<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>"}},{"type":"prose","value":{"id":"pkcs_11_manifests","title":"PKCS #11 manifests","isH3":false,"content":"<p>The PKCS #11 manifest is a file containing a JSON object with the following properties:</p>\n<table class=\"fullwidth-table standard-table\">\n  <thead>\n    <tr>\n      <th scope=\"col\">Name</th>\n      <th scope=\"col\">Type</th>\n      <th scope=\"col\">Description</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <td><code>name</code></td>\n      <td>String</td>\n      <td>\n        <p>Name of the PKCS #11 module.</p>\n        <p>This must match the name used in the <code>pkcs11</code> API.</p>\n        <p>\n          On MacOS and Linux, it must also match the manifest's filename\n          (excluding the extension).\n        </p>\n        <p>\n          On Windows, it must match the name of the registry key you create,\n          which contains the location of the manifest.\n        </p>\n        <p>\n          The name must match the following regular expression:\n          <code>\"^\\w+(\\.\\w+)*$\"</code>. This means that it may only contain\n          lowercase alphanumeric characters, underscores and dots. It may not\n          start or end with a dot, and a dot cannot be followed by another dot.\n        </p>\n      </td>\n    </tr>\n    <tr>\n      <td><code>description</code></td>\n      <td>String</td>\n      <td>\n        <p>Description of the module.</p>\n        <p>\n          This is used to set the friendly name for the module in the browser's\n          UI (for example, the \"Security Devices\" dialog in Firefox).\n        </p>\n      </td>\n    </tr>\n    <tr>\n      <td><code>path</code></td>\n      <td>String</td>\n      <td>\n        <p>Path to the module.</p>\n        <p>\n          On Windows, this may be relative to the manifest itself. On MacOS and\n          Linux it must be absolute.\n        </p>\n      </td>\n    </tr>\n    <tr>\n      <td><code>type</code></td>\n      <td>String</td>\n      <td>This must be <code>\"pkcs11\"</code>.</td>\n    </tr>\n    <tr>\n      <td><code>allowed_extensions</code></td>\n      <td>Array of String</td>\n      <td>\n        <p>\n          An array of\n          <a href=\"https://extensionworkshop.com/documentation/develop/extensions-and-the-add-on-id/\" class=\"external\" rel=\" noopener\">Add-on ID</a>\n          values. Each value represents an extension which is allowed to\n          interact with the module.\n        </p>\n        <div class=\"notecard note\" id=\"sect1\">\n          <p>\n            <strong>Note:</strong> This means you will probably want to include\n            the\n            <code><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/browser_specific_settings\">applications</a></code>\n            key in your extension's <code>manifest.json</code> file, so you can\n            set an explicit ID during development.\n          </p>\n        </div>\n      </td>\n    </tr>\n  </tbody>\n</table>\n<p>For example:</p>\n<div class=\"code-example\"><pre class=\"brush: json notranslate\"><code><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"my_module\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"description\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"My test module\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"type\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"pkcs11\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"path\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"/path/to/libpkcs11testmodule.dylib\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"allowed_extensions\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"my-extension@mozilla.org\"</span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>Given this JSON manifest, saved as <code>my_module.json</code>, the <code>my-extension@mozilla.org</code> extension could install the security module at <code>/path/to/libpkcs11testmodule.dylib</code> using code like this:</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code>browser<span class=\"token punctuation\">.</span>pkcs11<span class=\"token punctuation\">.</span><span class=\"token function\">installModule</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"my_module\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>"}},{"type":"prose","value":{"id":"manifest_location","title":"Manifest location","isH3":false,"content":"<p>On Linux and macOS, you need to store the manifest in a particular place. On Windows, you need to create a registry key that points to the manifest's location.</p>\n<p>The detailed rules are the same for all the manifest types, except that the penultimate component of the path identifies the type of manifest. The examples below show the form for each of the three different types. In all the examples, <code>&lt;name&gt;</code> is the value of the <code>name</code> property in the manifest.</p>"}},{"type":"prose","value":{"id":"windows","title":"Windows","isH3":true,"content":"<p>For global visibility, create a registry key with the following name:</p>\n<pre class=\"notranslate\">HKEY_LOCAL_MACHINE\\SOFTWARE\\Mozilla\\NativeMessagingHosts\\&lt;name&gt;\n</pre>\n<pre class=\"notranslate\">HKEY_LOCAL_MACHINE\\SOFTWARE\\Mozilla\\ManagedStorage\\&lt;name&gt;\n</pre>\n<pre class=\"notranslate\">HKEY_LOCAL_MACHINE\\SOFTWARE\\Mozilla\\PKCS11Modules\\&lt;name&gt;\n</pre>\n<p>The key should have a single default value, which is the path to the manifest.</p>\n<div class=\"notecard warning\" id=\"sect2\">\n  <p><strong>Warning:</strong> As of Firefox 64, the 32-bit registry view (<a href=\"https://en.wikipedia.org/wiki/WoW64#Registry_and_file_system\" class=\"external\" rel=\" noopener\">Wow6432Node)</a> will be checked first for these keys, followed by the \"native\" registry view. Use whichever is appropriate for your application.</p>\n  <p><strong>For Firefox 63 and older:</strong> This key should <em>not</em> be created under <a href=\"https://en.wikipedia.org/wiki/WoW64#Registry_and_file_system\" class=\"external\" rel=\" noopener\">Wow6432Node</a>, even if the app is 32-bit. Previous versions of the browser will always look for the key under the \"native\" view of the registry, not the 32-bit emulation. To ensure that the key is created in the \"native\" view, you can pass the <code>KEY_WOW64_64KEY</code> or <code>KEY_WOW64_32KEY</code> flags into <code>RegCreateKeyEx</code>. See <a href=\"https://docs.microsoft.com/windows/win32/winprog64/accessing-an-alternate-registry-view\" class=\"external\" rel=\" noopener\">Accessing an Alternate Registry View</a>.</p>\n</div>\n<p>For per-user visibility, create a registry key with the following name:</p>\n<pre class=\"notranslate\">HKEY_CURRENT_USER\\SOFTWARE\\Mozilla\\NativeMessagingHosts\\&lt;name&gt;\n</pre>\n<pre class=\"notranslate\">HKEY_CURRENT_USER\\SOFTWARE\\Mozilla\\ManagedStorage\\&lt;name&gt;\n</pre>\n<pre class=\"notranslate\">HKEY_CURRENT_USER\\SOFTWARE\\Mozilla\\PKCS11Modules\\&lt;name&gt;\n</pre>\n<p>The key should have a single default value, which is the path to the manifest.</p>"}},{"type":"prose","value":{"id":"macos","title":"macOS","isH3":true,"content":"<p>For global visibility, store the manifest in:</p>\n<pre class=\"notranslate\">/Library/Application Support/Mozilla/NativeMessagingHosts/&lt;name&gt;.json\n</pre>\n<pre class=\"notranslate\">/Library/Application Support/Mozilla/ManagedStorage/&lt;name&gt;.json\n</pre>\n<pre class=\"notranslate\">/Library/Application Support/Mozilla/PKCS11Modules/&lt;name&gt;.json\n</pre>\n<p>For per-user visibility, store the manifest in:</p>\n<pre class=\"notranslate\">~/Library/Application Support/Mozilla/NativeMessagingHosts/&lt;name&gt;.json\n</pre>\n<pre class=\"notranslate\">~/Library/Application Support/Mozilla/ManagedStorage/&lt;name&gt;.json\n</pre>\n<pre class=\"notranslate\">~/Library/Application Support/Mozilla/PKCS11Modules/&lt;name&gt;.json\n</pre>"}},{"type":"prose","value":{"id":"linux","title":"Linux","isH3":true,"content":"<p>For global visibility, store the manifest in either:</p>\n<pre class=\"notranslate\">/usr/lib/mozilla/native-messaging-hosts/&lt;name&gt;.json\n</pre>\n<pre class=\"notranslate\">/usr/lib/mozilla/managed-storage/&lt;name&gt;.json\n</pre>\n<pre class=\"notranslate\">/usr/lib/mozilla/pkcs11-modules/&lt;name&gt;.json\n</pre>\n<p>or:</p>\n<pre class=\"notranslate\">    /usr/lib64/mozilla/native-messaging-hosts/&lt;name&gt;.json\n</pre>\n<pre class=\"notranslate\">    /usr/lib64/mozilla/managed-storage/&lt;name&gt;.json\n</pre>\n<pre class=\"notranslate\">    /usr/lib64/mozilla/pkcs11-modules/&lt;name&gt;.json\n</pre>\n<p>For per-user visibility, store the manifest in:</p>\n<pre class=\"notranslate\">~/.mozilla/native-messaging-hosts/&lt;name&gt;.json\n</pre>\n<pre class=\"notranslate\">~/.mozilla/managed-storage/&lt;name&gt;.json\n</pre>\n<pre class=\"notranslate\">~/.mozilla/pkcs11-modules/&lt;name&gt;.json\n</pre>"}}],"toc":[{"text":"Native messaging manifests","id":"native_messaging_manifests"},{"text":"Managed storage manifests","id":"managed_storage_manifests"},{"text":"PKCS #11 manifests","id":"pkcs_11_manifests"},{"text":"Manifest location","id":"manifest_location"}],"summary":"Native manifests are specially formatted JSON files that are provisioned on the user's computer by some means outside the extension installation process. For example, a native manifest might be provisioned by a device administrator or by a native application installer.","popularity":0.0005,"modified":"2022-09-09T05:03:45.000Z","other_translations":[{"title":"manifests Natif","locale":"fr","native":"Français"},{"title":"ネイティブマニフェスト","locale":"ja","native":"日本語"},{"title":"原生应用清单","locale":"zh-CN","native":"中文 (简体)"}],"source":{"folder":"en-us/mozilla/add-ons/webextensions/native_manifests","github_url":"https://github.com/mdn/content/blob/style/old/files/en-us/mozilla/add-ons/webextensions/native_manifests/index.md","last_commit_url":"https://github.com/mdn/content/commit/1ee49b729dc4cd02b862d910f279861f4b30e704","filename":"index.md"},"parents":[{"uri":"/en-US/docs/Mozilla","title":"Mozilla"},{"uri":"/en-US/docs/Mozilla/Add-ons","title":"Add-ons"},{"uri":"/en-US/docs/Mozilla/Add-ons/WebExtensions","title":"Browser Extensions"},{"uri":"/en-US/docs/Mozilla/Add-ons/WebExtensions/Native_manifests","title":"Native manifests"}],"pageTitle":"Native manifests - Mozilla | MDN","noIndexing":false}}