{"doc":{"isMarkdown":true,"isTranslated":false,"isActive":true,"flaws":{},"title":"content_scripts","mdn_url":"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/content_scripts","locale":"en-US","native":"English (US)","sidebarHTML":"\n  <ol>\n    <li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions\"><strong>Browser extensions</strong></a></li>\n    <li class=\"toggle\">\n      <details>\n        <summary>Getting started</summary>\n        <ol>\n          <li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/What_are_WebExtensions\">What are extensions?</a></li>\n          <li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/Your_first_WebExtension\">Your first extension</a></li>\n          <li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/Your_second_WebExtension\">Your second extension</a></li>\n          <li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/Anatomy_of_a_WebExtension\">Anatomy of an extension</a></li>\n          <li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/Examples\">Example extensions</a></li>\n          <li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/What_next_\">What next?</a></li>\n        </ol>\n      </details>\n    </li>\n    <li class=\"toggle\">\n      <details>\n        <summary>Concepts</summary>\n        <ol>\n          <li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/Using_the_JavaScript_APIs\">Using the JavaScript APIs</a></li>\n          <li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/Content_scripts\">Content scripts</a></li>\n          <li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/Match_patterns\">Match patterns</a></li>\n          <li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/Working_with_files\">Working with files</a></li>\n          <li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/Internationalization\">Internationalization</a></li>\n          <li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/Content_Security_Policy\">Content Security Policy</a></li>\n          <li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/Native_messaging\">Native messaging</a></li>\n          <li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/Differences_between_API_implementations\">Differences between API implementations</a></li>\n          <li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/Chrome_incompatibilities\">Chrome incompatibilities</a></li>\n        </ol>\n      </details>\n    </li>\n    <li class=\"toggle\">\n      <details>\n        <summary>User interface</summary>\n        <ol>\n          <li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/user_interface\">User Interface</a></li>\n          <li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/user_interface/Browser_action\">Toolbar button</a></li>\n          <li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/user_interface/Page_actions\">Address bar button</a></li>\n          <li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/user_interface/Sidebars\">Sidebars</a></li>\n          <li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/user_interface/Context_menu_items\">Context menu items</a></li>\n          <li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/user_interface/Options_pages\">Options page</a></li>\n          <li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/user_interface/Extension_pages\">Extension pages</a></li>\n          <li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/user_interface/Notifications\">Notifications</a></li>\n          <li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/user_interface/Omnibox\">Address bar suggestions</a></li>\n          <li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/user_interface/devtools_panels\">Developer tools panels</a></li>\n        </ol>\n      </details>\n    </li>\n    <li class=\"toggle\">\n      <details>\n        <summary>How to</summary>\n        <ol>\n          <li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/Intercept_HTTP_requests\">Intercept HTTP requests</a></li>\n          <li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/Modify_a_web_page\">Modify a web page</a></li>\n          <li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/Safely_inserting_external_content_into_a_page\">Insert external content</a></li>\n          <li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/Sharing_objects_with_page_scripts\">Share objects with page scripts</a></li>\n          <li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/Add_a_button_to_the_toolbar\">Add a button to the toolbar</a></li>\n          <li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/Implement_a_settings_page\">Implement a settings page</a></li>\n          <li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/Working_with_the_Tabs_API\">Work with the Tabs API</a></li>\n          <li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/Work_with_the_Bookmarks_API\">Work with the Bookmarks API</a></li>\n          <li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/Work_with_the_Cookies_API\">Work with the Cookies API</a></li>\n          <li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/Work_with_contextual_identities\">Work with contextual identities</a></li>\n          <li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/Interact_with_the_clipboard\">Interact with the clipboard</a></li>\n          <li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/Build_a_cross_browser_extension\">Build a cross-browser extension</a></li>\n        </ol>\n      </details>\n    </li>\n    <li class=\"toggle\">\n      <details>\n        <summary><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/Firefox_differentiators\">Firefox differentiators</a></summary>\n      </details>\n    </li>\n    <li class=\"toggle\">\n      <details>\n        <summary>JavaScript APIs</summary>\n        <ol><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/Browser_support_for_JavaScript_APIs\">Browser support for JavaScript APIs</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/action\">action</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/alarms\">alarms</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/bookmarks\">bookmarks</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/browserAction\">browserAction</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/browserSettings\">browserSettings</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/browsingData\">browsingData</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/captivePortal\">captivePortal</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/clipboard\">clipboard</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/commands\">commands</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/contentScripts\">contentScripts</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/contextualIdentities\">contextualIdentities</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/cookies\">cookies</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/devtools\">devtools</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/dns\">dns</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/downloads\">downloads</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/events\">events</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/extension\">extension</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/extensionTypes\">extensionTypes</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/find\">find</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/history\">history</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/i18n\">i18n</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/identity\">identity</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/idle\">idle</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/management\">management</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/menus\">menus</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/notifications\">notifications</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/omnibox\">omnibox</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/pageAction\">pageAction</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/permissions\">permissions</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/pkcs11\">pkcs11</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/privacy\">privacy</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/proxy\">proxy</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/runtime\">runtime</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/scripting\">scripting</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/search\">search</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/sessions\">sessions</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/sidebarAction\">sidebarAction</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/storage\">storage</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/tabs\">tabs</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/theme\">theme</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/topSites\">topSites</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/types\">types</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/userScripts\">userScripts</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/webNavigation\">webNavigation</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/webRequest\">webRequest</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/windows\">windows</a></li></ol>\n      </details>\n    </li>\n    <li class=\"toggle\">\n      <details>\n      <summary>Manifest keys</summary>\n        <ol>\n          <li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json\">Introduction</a></li>\n        </ol>\n      <ol><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/action\">action</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/author\">author</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/background\">background</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/browser_action\">browser_action</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/browser_specific_settings\">browser_specific_settings</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/chrome_settings_overrides\">chrome_settings_overrides</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/chrome_url_overrides\">chrome_url_overrides</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/commands\">commands</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/content_scripts\">content_scripts</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/content_security_policy\">content_security_policy</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/default_locale\">default_locale</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/description\">description</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/developer\">developer</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/devtools_page\">devtools_page</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/dictionaries\">dictionaries</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/externally_connectable\">externally_connectable</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/homepage_url\">homepage_url</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/host_permissions\">host_permissions</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/icons\">icons</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/incognito\">incognito</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/manifest_version\">manifest_version</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/name\">name</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/offline_enabled\">offline_enabled</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/omnibox\">omnibox</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/optional_permissions\">optional_permissions</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/options_page\">options_page</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/options_ui\">options_ui</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/page_action\">page_action</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/permissions\">permissions</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/protocol_handlers\">protocol_handlers</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/short_name\">short_name</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/sidebar_action\">sidebar_action</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/storage\">storage</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/theme\">theme</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/theme_experiment\">theme_experiment</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/user_scripts\">user_scripts</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/version\">version</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/version_name\">version_name</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/web_accessible_resources\">web_accessible_resources</a></li></ol>\n      </details>\n    </li>\n     <li class=\"toggle\">\n      <details>\n        <summary>Extension Workshop</summary>\n        <ol>\n          <li><a href=\"https://extensionworkshop.com/documentation/develop/\">Develop</a></li>\n          <li><a href=\"https://extensionworkshop.com/documentation/publish/\">Publish</a></li>\n          <li><a href=\"https://extensionworkshop.com/documentation/manage/\">Manage</a></li>\n          <li><a href=\"https://extensionworkshop.com/documentation/enterprise/\">Enterprise</a></li>\n        </ol>\n      </details>\n    </li>\n    <li><a href=\"/en-US/docs/Mozilla/Add-ons/Contact_us\"><strong>Contact us</strong></a></li>\n    <li class=\"toggle\">\n      <details>\n        <summary>Channels</summary>\n        <ol>\n          <li><a href=\"https://blog.mozilla.org/addons\">Add-ons blog</a></li>\n          <li><a href=\"https://discourse.mozilla.org/c/add-ons\">Add-ons forum</a></li>\n          <li><a href=\"https://chat.mozilla.org/#/room/%23addons:mozilla.org\">Add-ons chat</a></li>\n        </ol>\n      </details>\n    </li>\n  </ol>\n","body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<table class=\"fullwidth-table standard-table\">\n  <tbody>\n    <tr>\n      <th scope=\"row\">Type</th>\n      <td><code>Array</code></td>\n    </tr>\n    <tr>\n      <th scope=\"row\">Mandatory</th>\n      <td>No</td>\n    </tr>\n    <tr>\n      <th scope=\"row\">Manifest version</th>\n      <td>2 or higher</td>\n    </tr>\n    <tr>\n      <th scope=\"row\">Example</th>\n      <td>\n        <div class=\"code-example\"><pre class=\"brush: json notranslate\"><code><span class=\"token property\">\"content_scripts\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n  <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"matches\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"*://*.mozilla.org/*\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"js\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"borderify.js\"</span><span class=\"token punctuation\">]</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">]</span></code></pre></div>\n      </td>\n    </tr>\n  </tbody>\n</table>\n<p>Instructs the browser to load <a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/Content_scripts\">content scripts</a> into web pages whose URL matches a given pattern.</p>\n<p>This key is an array. Each item is an object which:</p>\n<ul>\n  <li><strong>must</strong> contain a key named <strong><code>matches</code></strong>, which specifies the URL patterns to be matched in order for the scripts to be loaded;</li>\n  <li><strong>may</strong> contain keys named <strong><code>js</code></strong> and <strong><code>css</code></strong>, which list scripts and/or stylesheets to be loaded into matching pages; and</li>\n  <li><strong>may</strong> contain a number of other properties that control finer aspects of how and when content scripts are loaded.</li>\n</ul>\n<p>Details of all the keys you can include are given in the table below.</p>\n<table class=\"fullwidth-table standard-table\">\n  <thead>\n    <tr>\n      <th scope=\"col\">Name</th>\n      <th scope=\"col\">Type</th>\n      <th scope=\"col\">Description</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <td><a id=\"all_frames\"><code>all_frames</code></a></td>\n      <td><code>Boolean</code></td>\n      <td>\n        <dl>\n          <dt id=\"true\"><code>true</code></dt>\n          <dd>\n            <p>\n              Inject the scripts specified in\n              <code><a href=\"#js\">js</a></code> and\n              <code><a href=\"#css\">css</a></code> into all frames matching the\n              specified URL requirements, even if the frame is not the topmost\n              frame in a tab. This does not inject into child frames where only\n              their parent matches the URL requirements and the child frame does\n              not match the URL requirements. The URL requirements are checked\n              for each frame independently.\n            </p>\n            <div class=\"notecard note\" id=\"sect1\">\n              <p>\n                <strong>Note:</strong> This also applies to any tracker or ad\n                that uses iframes, which means that enabling this could make\n                your content script get called dozens of times on some pages.\n              </p>\n            </div>\n          </dd>\n          <dt id=\"false\"><code>false</code></dt>\n          <dd>\n            Inject only into frames matching the URL requirements which are the\n            topmost frame in a tab.\n          </dd>\n        </dl>\n        <p>Defaults to <code>false</code>.</p>\n      </td>\n    </tr>\n    <tr>\n      <td><a id=\"css\"><code>css</code></a></td>\n      <td><code>Array</code></td>\n      <td>\n        <p>\n          An array of paths, relative to <code>manifest.json</code>, referencing\n          CSS files that will be injected into matching pages.\n        </p>\n        <p>\n          Files are injected in the order given, and at the time specified by\n          <code><a href=\"#run_at\">run_at</a></code>.\n        </p>\n        <div class=\"notecard note\" id=\"sect2\">\n          <p>\n            <strong>Note:</strong> Firefox resolves URLs in injected CSS files\n            relative to the CSS file itself, rather than to the page it's\n            injected into.\n          </p>\n        </div>\n      </td>\n    </tr>\n    <tr>\n      <td><a id=\"exclude_globs\"><code>exclude_globs</code></a></td>\n      <td><code>Array</code></td>\n      <td>\n        An array of strings containing wildcards. See\n        <a href=\"#matching_url_patterns\">Matching URL patterns</a> below.\n      </td>\n    </tr>\n    <tr>\n      <td><a id=\"exclude_matches\"><code>exclude_matches</code></a></td>\n      <td><code>Array</code></td>\n      <td>\n        An array of\n        <a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/Match_patterns\">match patterns</a>. See <a href=\"#matching_url_patterns\">Matching URL patterns</a> below.\n      </td>\n    </tr>\n    <tr>\n      <td><a id=\"include_globs\"><code>include_globs</code></a></td>\n      <td><code>Array</code></td>\n      <td>\n        An array of strings containing wildcards. See\n        <a href=\"#matching_url_patterns\">Matching URL patterns</a> below.\n      </td>\n    </tr>\n    <tr>\n      <td><a id=\"js\"><code>js</code></a></td>\n      <td><code>Array</code></td>\n      <td>\n        <p>\n          An array of paths, relative to <code>manifest.json</code>, referencing\n          JavaScript files that will be injected into matching pages.\n        </p>\n        <p>\n          Files are injected in the order given. This means that, for example,\n          if you include jQuery here followed by another content script, like\n          this:\n        </p>\n        <div class=\"code-example\"><pre class=\"brush: json notranslate\"><code><span class=\"token property\">\"js\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"jquery.js\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"my-content-script.js\"</span><span class=\"token punctuation\">]</span></code></pre></div>\n        <p>Then, <code>\"my-content-script.js\"</code> can use jQuery.</p>\n        <p>\n          The files are injected after any files in\n          <code><a href=\"#css\">css</a></code>, and at the time specified by\n          <code><a href=\"#run_at\">run_at</a></code>.\n        </p>\n      </td>\n    </tr>\n    <tr>\n      <td><code><a id=\"match_about_blank\">match_about_blank</a></code></td>\n      <td><code>Boolean</code></td>\n      <td>\n        <p>\n          Insert the content scripts into pages whose URL is\n          <code>\"about:blank\"</code> or <code>\"about:srcdoc\"</code>, if the URL\n          of the page that opened or created this page\n          <a href=\"#matching_url_patterns\">matches the patterns</a> specified in\n          the rest of the <code>content_scripts</code> key.\n        </p>\n        <p>\n          This is especially useful to run scripts in empty iframes, whose URL\n          is <code>\"about:blank\"</code>. To do this you should also set the\n          <code>all_frames</code> key.\n        </p>\n        <p>\n          For example, suppose you have a <code>content_scripts</code> key like\n          this:\n        </p>\n        <div class=\"code-example\"><pre class=\"brush: json notranslate\"><code>  <span class=\"token property\">\"content_scripts\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"js\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"my-script.js\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"matches\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"https://example.org/\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"match_about_blank\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"all_frames\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">]</span></code></pre></div>\n        <p>\n          If the user loads <code>https://example.org/</code>, and this page\n          embeds an empty iframe, then <code>\"my-script.js\"</code> will be\n          loaded into the iframe.\n        </p>\n        <div class=\"notecard note\" id=\"sect3\">\n          <p>\n            <strong>Note:</strong> <code>match_about_blank</code> is supported\n            in Firefox from version 52.\n          </p>\n          <p>\n            Note that in Firefox, content scripts won't be injected into empty\n            iframes at <code>\"document_start\"</code>, even if you specify that\n            value in <code><a href=\"#run_at\">run_at</a></code> .\n          </p>\n        </div>\n      </td>\n    </tr>\n    <tr>\n      <td><a id=\"matches\"><code>matches</code></a></td>\n      <td><code>Array</code></td>\n      <td>\n        <p>\n          An array of\n          <a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/Match_patterns\">match patterns</a>. See\n          <a href=\"#matching_url_patterns\">Matching URL patterns</a> below.\n        </p>\n        <p>This is the only mandatory key.</p>\n      </td>\n    </tr>\n    <tr>\n      <td><a id=\"run_at\"><code>run_at</code></a></td>\n      <td><code>String</code></td>\n      <td>\n        <p>\n          This option determines when the files specified in\n          <code><a href=\"#css\">css</a></code> and\n          <code><a href=\"#js\">js</a></code> are injected. You can supply one of\n          three strings here, each of which identifies a state in the process of\n          loading a document. The states directly correspond to\n          <a href=\"/en-US/docs/Web/API/Document/readyState\" title=\"Document.readyState\"><code>Document.readyState</code></a>:\n        </p>\n        <dl>\n          <dt id=\"document_start\"><code>\"document_start\"</code></dt>\n          <dd>Corresponds to <code>loading</code>. The DOM is still loading.</dd>\n          <dt id=\"document_end\"><code>\"document_end\"</code></dt>\n          <dd>\n            Corresponds to <code>interactive</code>. The DOM has finished\n            loading, but resources such as scripts and images may still be\n            loading.\n          </dd>\n          <dt id=\"document_idle\"><code>\"document_idle\"</code></dt>\n          <dd>\n            Corresponds to <code>complete</code>. The document and all its\n            resources have finished loading.\n          </dd>\n        </dl>\n        <p>The default value is <code>\"document_idle\"</code>.</p>\n        <p>\n          In all cases, files in <code><a href=\"#js\">js</a></code> are injected\n          after files in <code><a href=\"#css\">css</a></code>.\n        </p>\n      </td>\n    </tr>\n  </tbody>\n</table>"}},{"type":"prose","value":{"id":"matching_url_patterns","title":"Matching URL patterns","isH3":false,"content":"<p>The <code>\"content_scripts\"</code> key attaches content scripts to documents based on URL matching: if the document's URL matches the specification in the key, then the script will be attached. There are four properties inside <code>\"content_scripts\"</code> that you can use for this specification:</p>\n<dl>\n  <dt id=\"matches\"><code>matches</code></dt>\n  <dd>\n    <p>an array of <a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/Match_patterns\">match patterns</a></p>\n  </dd>\n  <dt id=\"exclude_matches\"><code>exclude_matches</code></dt>\n  <dd>\n    <p>an array of <a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/Match_patterns\">match patterns</a></p>\n  </dd>\n  <dt id=\"include_globs\"><code>include_globs</code></dt>\n  <dd>\n    <p>an array of <a href=\"#globs\">globs</a></p>\n  </dd>\n  <dt id=\"exclude_globs\"><code>exclude_globs</code></dt>\n  <dd>\n    <p>an array of <a href=\"#globs\">globs</a></p>\n  </dd>\n</dl>\n<p>To match one of these properties, a URL must match at least one of the items in its array. For example, given a property like:</p>\n<div class=\"code-example\"><pre class=\"brush: json notranslate\"><code><span class=\"token property\">\"matches\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"*://*.example.org/*\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"*://*.example.com/*\"</span><span class=\"token punctuation\">]</span>\n</code></pre></div>\n<p>Both <code>http://example.org/</code> and <code>http://example.com/</code> will match.</p>\n<p>Since <code>matches</code> is the only mandatory key, the other three keys are used to limit further the URLs that match. To match the key as a whole, a URL must:</p>\n<ul>\n  <li>match the <code>matches</code> property</li>\n  <li>AND match the <code>include_globs</code> property, if present</li>\n  <li>AND NOT match the <code>exclude_matches</code> property, if present</li>\n  <li>AND NOT match the <code>exclude_globs</code> property, if present</li>\n</ul>"}},{"type":"prose","value":{"id":"globs","title":"globs","isH3":true,"content":"<p>A <em>glob</em> is just a string that may contain wildcards.</p>\n<p>There are two types of wildcard, and you can combine them in the same glob:</p>\n<ol>\n  <li><code>*</code> matches zero or more characters</li>\n  <li><code>?</code> matches exactly one character.</li>\n</ol>\n<p>For example: <code>\"*na?i\"</code> would match <code>\"illuminati\"</code> and <code>\"annunaki\"</code>, but not <code>\"sagnarelli\"</code>.</p>"}},{"type":"prose","value":{"id":"example","title":"Example","isH3":false,"content":"<div class=\"code-example\"><pre class=\"brush: json notranslate\"><code><span class=\"token property\">\"content_scripts\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n  <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"matches\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"*://*.mozilla.org/*\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"js\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"borderify.js\"</span><span class=\"token punctuation\">]</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">]</span>\n</code></pre></div>\n<p>This injects a single content script <code>borderify.js</code> into all pages under <code>mozilla.org</code> or any of its subdomains, whether served over HTTP or HTTPS.</p>\n<div class=\"code-example\"><pre class=\"brush: json notranslate\"><code>  <span class=\"token property\">\"content_scripts\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"exclude_matches\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"*://developer.mozilla.org/*\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"matches\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"*://*.mozilla.org/*\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"js\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"jquery.js\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"borderify.js\"</span><span class=\"token punctuation\">]</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">]</span>\n</code></pre></div>\n<p>This injects two content scripts into all pages under <code>mozilla.org</code> or any of its subdomains except <code>developer.mozilla.org</code>, whether served over HTTP or HTTPS.</p>\n<p>The content scripts see the same view of the DOM and are injected in the order they appear in the array, so <code>borderify.js</code> can see global variables added by <code>jquery.js</code>.</p>"}},{"type":"browser_compatibility","value":{"title":"Browser compatibility","id":"browser_compatibility","isH3":false,"query":"webextensions.manifest.content_scripts","dataURL":"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/content_scripts/bcd.json"}}],"toc":[{"text":"Matching URL patterns","id":"matching_url_patterns"},{"text":"Example","id":"example"},{"text":"Browser compatibility","id":"browser_compatibility"}],"summary":"Instructs the browser to load content scripts into web pages whose URL matches a given pattern.","popularity":0.0014,"modified":"2022-09-09T05:03:45.000Z","other_translations":[{"title":"content_scripts","locale":"fr","native":"Français"},{"title":"content_scripts","locale":"ja","native":"日本語"},{"title":"content_scripts","locale":"ko","native":"한국어"},{"title":"content_scripts","locale":"zh-CN","native":"中文 (简体)"}],"source":{"folder":"en-us/mozilla/add-ons/webextensions/manifest.json/content_scripts","github_url":"https://github.com/mdn/content/blob/style/old/files/en-us/mozilla/add-ons/webextensions/manifest.json/content_scripts/index.md","last_commit_url":"https://github.com/mdn/content/commit/1ee49b729dc4cd02b862d910f279861f4b30e704","filename":"index.md"},"parents":[{"uri":"/en-US/docs/Mozilla","title":"Mozilla"},{"uri":"/en-US/docs/Mozilla/Add-ons","title":"Add-ons"},{"uri":"/en-US/docs/Mozilla/Add-ons/WebExtensions","title":"Browser Extensions"},{"uri":"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json","title":"manifest.json"},{"uri":"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/content_scripts","title":"content_scripts"}],"pageTitle":"content_scripts - Mozilla | MDN","noIndexing":false}}