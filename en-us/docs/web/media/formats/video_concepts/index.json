{"doc":{"isMarkdown":true,"isTranslated":false,"isActive":true,"flaws":{},"title":"Digital video concepts","mdn_url":"/en-US/docs/Web/Media/Formats/Video_concepts","locale":"en-US","native":"English (US)","sidebarHTML":"\n<ol><li><a href=\"/en-US/docs/Web/Media/Autoplay_guide\">Autoplay guide for media and Web Audio APIs</a></li><li><a href=\"/en-US/docs/Web/Media/DASH_Adaptive_Streaming_for_HTML_5_Video\">DASH Adaptive Streaming for HTML 5 Video</a></li><li><a href=\"/en-US/docs/Web/Media/Streaming\">Guide to streaming audio and video</a></li><li><a href=\"/en-US/docs/Web/Media/Formats\">Media type and format guide: image, audio, and video content</a><ol><li><a href=\"/en-US/docs/Web/Media/Formats\">Media type and format guide: image, audio, and video content</a></li><li><a href=\"/en-US/docs/Web/Media/Formats/Audio_codecs\">Web audio codec guide</a></li><li><a href=\"/en-US/docs/Web/Media/Formats/Audio_concepts\">Digital audio concepts</a></li><li><a href=\"/en-US/docs/Web/Media/Formats/codecs_parameter\">The \"codecs\" parameter in common media types</a></li><li><a href=\"/en-US/docs/Web/Media/Formats/Containers\">Media container formats (file types)</a></li><li><a href=\"/en-US/docs/Web/Media/Formats/Image_types\">Image file type and format guide</a></li><li><a href=\"/en-US/docs/Web/Media/Formats/Support_issues\">Handling media support issues in web content</a></li><li><a href=\"/en-US/docs/Web/Media/Formats/Video_codecs\">Web video codec guide</a></li><li><a href=\"/en-US/docs/Web/Media/Formats/Video_concepts\">Digital video concepts</a></li><li><a href=\"/en-US/docs/Web/Media/Formats/WebRTC_codecs\">Codecs used by WebRTC</a></li></ol></li><li><a href=\"/en-US/docs/Web/Media/HTML_media\">Using audio and video in HTML</a></li><li><a href=\"/en-US/docs/Web/Media/images\">Using images in HTML</a><ol><li><a href=\"/en-US/docs/Web/Media/images\">Using images in HTML</a></li><li><a href=\"/en-US/docs/Web/Media/images/aspect_ratio_mapping\">Mapping the width and height attributes of media container elements to their aspect-ratio</a></li></ol></li></ol>\n","body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<p>In this article, we explore important concepts that are useful to understand in order to fully grasp how to work with video on the web.</p>"}},{"type":"prose","value":{"id":"encoding_color","title":"Encoding color","isH3":false,"content":"<p>Representing the colors in an image or video requires several values for each pixel. What those values are depends on how you \"split up\" the color when converting it to numeric form. There are several color models, and video codec makes use of one or more of these to represent their pixels during the encoding process as well as after decoding the video frames.</p>"}},{"type":"prose","value":{"id":"rgb","title":"RGB","isH3":true,"content":"<p>Most computer graphics models use the RGB color system, wherein some number of bits of data are used to represent each of the red, green, and blue components of the color of an individual pixel, and an image is comprised of a two-dimensional array of these pixels. There are two primary methods used to represent RGB samples: using integer components and using floating-point components. When using integer components, RGB color uses 8 bits each of red, green, and blue, as well as potentially 8 bits of alpha (the amount of transparency).</p>"}},{"type":"prose","value":{"id":"yuv","title":"YUV","isH3":true,"content":"<p>Unlike RGB, the <strong>YUV</strong> (or <strong>Y'UV</strong>) color encoding system is based around how humans perceive a color image. Doing so allows color data to be represented using fewer total bits of space in a video stream.</p>\n<p>The name \"YUV\" is generally used today to describe this color system, even though the term was originally used specifically for analog coding of color, while <strong>YCbCr</strong> was used for digital color. However, today both terms are used for digital color. The prime symbol, <code>'</code>, indicates that gamma compression is being used.</p>\n<h4 id=\"contemplating_human_vision\">Contemplating human vision</h4>\n<p>We're able to represent an image this way because the human eye sees far more detail in greyscale than in color, thanks to biology. The human eye contains two kinds of <a href=\"https://en.wikipedia.org/wiki/Photoreceptor_cell\" class=\"external\" rel=\" noopener\">photoreceptor</a> (light-sensing) cells. The <strong>rods</strong> are highly-sensitive light intensity sensors. The <strong>cones</strong> are less sensitive but are able to detect color.</p>\n<p>Because the eye has vastly more rods than cones (about 120 million rods to around 6 or 7 million cones), we see detail in greyscale, with color being far less detailed. In essence, our eyes are like a camera with two image sensor chips: one greyscale and one color. The greyscale sensor is 120 megapixels, while the color sensor is only about 7 megapixels. These sensors physically occupy the same surface, called the <strong><a href=\"https://en.wikipedia.org/wiki/Visual_system#Retina\" class=\"external\" rel=\" noopener\">retina</a></strong>, at the back of the eye.</p>\n<p>There are three types of cones, each of which responds to a particular wavelength band of incoming light, but also to the intensity of the light at that wavelength. Each type of cone, then, captures the relative response peaks at various wavelengths, and the brain uses this data to figure out the intensity and hue of the color of the light arriving at that part of the retina.</p>\n<p>As our eyes capture a scene, they essentially take two photos at once: a finely-detailed greyscale image and a somewhat fuzzy, lower-resolution map of the colors of light received across the retina at the same time. The final color image is created by the brain, which essentially layers the colors onto the greyscale pixels.</p>\n<h4 id=\"yuv_concepts\">YUV concepts</h4>\n<p>YUV works by defining a color space with three components:</p>\n<dl>\n  <dt id=\"luma_y\">Luma (Y')</dt>\n  <dd>\n    <p>The brightness of the pixel. Without the other two components, the luma of each pixel in the frame produces a greyscale representation of the image. In BT.709 (used for HDTV), for example, the luma value is the weighted sum of the gamma-corrected red, green, and blue components of the pixel, using the formula <code>Y' = 0.2126R' + 0.7152G' + 0.0722B'</code>. This weighting is performed because of the previously-mentioned ratio of green, red, and blue cones in the eye.</p>\n  </dd>\n  <dt id=\"blue-difference_u_or_cb\">Blue-difference (U or Cb)</dt>\n  <dd>\n    <p>The blue-difference component of the chroma, or color, of the color sample. This value is computed by subtracting the luma from the gamma corrected blue value; that is, <code>U = B' - Y'</code>.</p>\n  </dd>\n  <dt id=\"red-difference_v_or_cr\">Red-difference (V or Cr)</dt>\n  <dd>\n    <p>The red-difference component of the chroma of the color sample. Computed by subtracting luma from the gamma corrected red value: <code>V = R' - Y'</code>.</p>\n  </dd>\n</dl>\n<h4 id=\"chroma_subsampling\">Chroma subsampling</h4>\n<p><strong>Chroma subsampling</strong> is the process of converting the color pixels into a greyscale image and a matrix of U and V values indicating the colors to map to those pixels.</p>\n<p>Since the color data is being encoded at a lower resolution than the luma, when decoding the video to draw it to the screen each pixel's color is computed by calculating an appropriate color given the U and V values for the 4x2 block of 8 pixels in which the pixel resides. This decoding operation must mirror the method used during encoding, which is represented by three numbers separated by colons (\":\").</p>\n<ul>\n  <li>The first number specifies the number of luminance samples per row encoded from the 4x2 pixel block. This value is essentially always 4, meaning \"Use all of the luminance samples.\"</li>\n  <li>The second number specifies how many chroma samples are used to represent the colors of the pixels in the first row.</li>\n  <li>The third number indicates how many chroma samples are used to represent the colors of the pixels in the second row.</li>\n</ul>\n<p>The table below shows examples of three chroma subsampling models.</p>\n<table class=\"standard-table\" style=\"max-width: 46em\">\n  <thead>\n    <tr>\n      <th scope=\"col\" style=\"width: 144px\"></th>\n      <th scope=\"col\" style=\"width: 144px\">4:2:0</th>\n      <th scope=\"col\" style=\"width: 144px\">4:2:2</th>\n      <th scope=\"col\" style=\"width: 144px\">4:4:4</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th scope=\"col\" style=\"width: 144px\">Luminance</th>\n      <td style=\"width: 144px; text-align: right\">\n        <img alt=\"Luminance of pixels in a 4:2 (8-pixel) block\" src=\"/en-US/docs/Web/Media/Formats/Video_concepts/yuv-luma.svg\" width=\"160\" height=\"65\" loading=\"lazy\">\n      </td>\n      <td style=\"width: 144px; text-align: right\">\n        <img alt=\"Luminance of pixels in a 4:2 (8-pixel) block\" src=\"/en-US/docs/Web/Media/Formats/Video_concepts/yuv-luma.svg\" width=\"160\" height=\"65\" loading=\"lazy\">\n      </td>\n      <td style=\"width: 144px; text-align: right\">\n        <img alt=\"Luminance of pixels in a 4:2 (8-pixel) block\" src=\"/en-US/docs/Web/Media/Formats/Video_concepts/yuv-luma.svg\" width=\"160\" height=\"65\" loading=\"lazy\">\n      </td>\n    </tr>\n    <tr>\n      <th scope=\"col\" style=\"width: 144px\">Chroma (U and V)</th>\n      <td style=\"width: 144px; text-align: right\">\n        <img alt=\"A matrix of U and V values for a 4:2:0 decoding operation. The first row contains 2 chroma samples for U: a blue and a green. The first row's samples are duplicated in the second row for V.\" src=\"/en-US/docs/Web/Media/Formats/Video_concepts/yuv-chroma-420.svg\" width=\"163\" height=\"71\" loading=\"lazy\">\n      </td>\n      <td style=\"width: 144px; text-align: right\">\n        <img alt=\"A matrix of U and V values for a 4:2:2 decoding operation. The first row contains 2 chroma samples for U: a blue and a green. The second row contains 2 chroma samples for V: a pink and a yellow.\" src=\"/en-US/docs/Web/Media/Formats/Video_concepts/yuv-chroma-422.svg\" width=\"161\" height=\"71\" loading=\"lazy\">\n      </td>\n      <td style=\"width: 144px; text-align: right\">\n        <img alt=\"A matrix of U and V values for a 4:4:4 decoding operation. The first row contains 4 chroma samples for U: a light blue, a yellow, a green and a deep blue. The second row contains 4 chroma samples for V: a pink, a white, a red and a gray.\" src=\"/en-US/docs/Web/Media/Formats/Video_concepts/yuv-chroma-444.svg\" width=\"161\" height=\"71\" loading=\"lazy\">\n      </td>\n    </tr>\n    <tr>\n      <th scope=\"col\" style=\"width: 144px\">Decoded pixels</th>\n      <td style=\"width: 144px; text-align: right\">\n        <img alt=\"A 4:2 block of decoded pixels after a 4:2:0 decoding operation that applies the 2 samples of the chroma matrix to each row in the block of luminance data. The colors of the samples become darker when applied to gray shades, black when applied to solid black, and remain unchanged when applied to white.\" src=\"/en-US/docs/Web/Media/Formats/Video_concepts/yuv-decoded-420.png\" width=\"136\" height=\"66\" loading=\"lazy\">\n      </td>\n      <td style=\"width: 144px; text-align: right\">\n        <img alt=\"A 4:2 block of decoded pixels after a 4:2:2 decoding operation that applies the 2 samples contained in each row of the chroma matrix to the corresponding rows in the block of luminance data. The colors of the samples become darker when applied to gray shades, black when applied to solid black and remain unchanged when applied to white.\" src=\"/en-US/docs/Web/Media/Formats/Video_concepts/yuv-decoded-422.png\" width=\"130\" height=\"66\" loading=\"lazy\">\n      </td>\n      <td style=\"width: 144px; text-align: right\">\n        <img alt=\"A 4:2 block of decoded pixels after a 4:4:4 decoding operation that applies the 4 samples contained in each row of the chroma matrix to the corresponding rows in the block of luminance data. The colors of the samples become darker when applied to gray shades, black when applied to solid black and remain unchanged when applied to white.\" src=\"/en-US/docs/Web/Media/Formats/Video_concepts/yuv-decoded-444.png\" width=\"130\" height=\"66\" loading=\"lazy\">\n      </td>\n    </tr>\n  </tbody>\n</table>\n<p>In all of these, all four pixels of each row in the block of luminance data are used in the decoded image. Looking at 4:2:0 chroma subsampling, in the first column, the value 2 indicates that the first row of chroma data has two samples in it; the 0 indicates that the second row has no chroma samples of its own, and that the first row's samples should be duplicated to the second row. In other words, we're taking color information from every other row of pixels in the source image and applying them to the greyscale image represented by the luma.</p>\n<p>The second column shows 4:2:2 subsampling. The top row of four luma samples has two chroma samples applied to it, and the bottom row of luma has two samples applied to it as well. The eight pixels represented by this block, then, have four chroma samples shared among them.</p>\n<p>The final example demonstrates 4:4:4 subsampling. There are four luma samples in each row and four chroma samples in each row as well, so that every pixel represented by the block is individually colored.</p>\n<p>What if the chroma subsampling model is 4:0:0? That says to use every pixel of luma data, but that each row has 0 chroma samples applied to it. The resulting image, then, is comprised solely of the luminance data—a greyscale image.</p>\n<h4 id=\"yuv_data_representation\">YUV data representation</h4>\n<p>Because the image is represented using more detail in greyscale than in color, the values of Y', U, and V are not typically stored together, one sample per pixel, the way RGB images are stored in memory.</p>\n<ul>\n  <li>Each frame of video is represented by a matrix of luma values, Y, with each pixel's color computed using the values in the U and V matrices. For example, in the AV1 codec, a record stores the encoded luma for a tile, and a second record contains the chroma data in the form of the U and V values.</li>\n  <li>In broadcast television, the luma signal is the primary signal, while the chrominance data is sent on a subcarrier.</li>\n  <li>The <a href=\"/en-US/docs/Glossary/jpeg\">JPEG</a> file type's compression works by first converting the image to the Y'UV color system, then compressing that data. Each of Y', Cb, and Cr are able to have values from 0 to 255.</li>\n</ul>"}}],"toc":[{"text":"Encoding color","id":"encoding_color"}],"summary":"In this article, we explore important concepts that are useful to understand in order to fully grasp how to work with video on the web.","popularity":0.0003,"modified":"2022-09-09T05:38:45.000Z","source":{"folder":"en-us/web/media/formats/video_concepts","github_url":"https://github.com/mdn/content/blob/style/old/files/en-us/web/media/formats/video_concepts/index.md","last_commit_url":"https://github.com/mdn/content/commit/f22e42182591e38590c9add80de91a51bce3cde2","filename":"index.md"},"parents":[{"uri":"/en-US/docs/Web","title":"Web technology for developers"},{"uri":"/en-US/docs/Web/Media","title":"Web media technologies"},{"uri":"/en-US/docs/Web/Media/Formats","title":"Media type and format guide: image, audio, and video content"},{"uri":"/en-US/docs/Web/Media/Formats/Video_concepts","title":"Digital video concepts"}],"pageTitle":"Digital video concepts - Web media technologies | MDN","noIndexing":false}}