{"doc":{"isMarkdown":true,"isTranslated":false,"isActive":true,"flaws":{},"title":"Secure contexts","mdn_url":"/en-US/docs/Web/Security/Secure_Contexts","locale":"en-US","native":"English (US)","sidebarHTML":"\n<ol><li><a href=\"/en-US/docs/Web/Security/Certificate_Transparency\">Certificate Transparency</a></li><li><a href=\"/en-US/docs/Web/Security/User_activation\">Features gated by user activation</a></li><li><a href=\"/en-US/docs/Web/Security/Firefox_Security_Guidelines\">Firefox Security Guidelines</a></li><li><a href=\"/en-US/docs/Web/Security/Insecure_passwords\">Insecure passwords</a></li><li><a href=\"/en-US/docs/Web/Security/Mixed_content\">Mixed content</a><ol><li><a href=\"/en-US/docs/Web/Security/Mixed_content\">Mixed content</a></li><li><a href=\"/en-US/docs/Web/Security/Mixed_content/How_to_fix_website_with_mixed_content\">How to fix a website with blocked mixed content</a></li></ol></li><li><a href=\"/en-US/docs/Web/Security/Referer_header:_privacy_and_security_concerns\">Referer header: privacy and security concerns</a></li><li><a href=\"/en-US/docs/Web/Security/Same-origin_policy\">Same-origin policy</a></li><li><a href=\"/en-US/docs/Web/Security/Secure_Contexts\">Secure contexts</a><ol><li><a href=\"/en-US/docs/Web/Security/Secure_Contexts\">Secure contexts</a></li><li><a href=\"/en-US/docs/Web/Security/Secure_Contexts/features_restricted_to_secure_contexts\">Features restricted to secure contexts</a></li></ol></li><li><a href=\"/en-US/docs/Web/Security/Securing_your_site\">Securing your site</a><ol><li><a href=\"/en-US/docs/Web/Security/Securing_your_site\">Securing your site</a></li><li><a href=\"/en-US/docs/Web/Security/Securing_your_site/Turning_off_form_autocompletion\">How to turn off form autocompletion</a></li></ol></li><li><a href=\"/en-US/docs/Web/Security/Subdomain_takeovers\">Subdomain takeovers</a></li><li><a href=\"/en-US/docs/Web/Security/Subresource_Integrity\">Subresource Integrity</a></li><li><a href=\"/en-US/docs/Web/Security/Transport_Layer_Security\">Transport Layer Security</a></li><li><a href=\"/en-US/docs/Web/Security/Types_of_attacks\">Types of attacks</a></li><li><a href=\"/en-US/docs/Web/Security/Weak_Signature_Algorithm\">Weak signature algorithms</a></li></ol>\n","body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<p>A <strong>secure context</strong> is a <code>Window</code> or <code>Worker</code> for which certain minimum standards of authentication and confidentiality are met. Many Web APIs and features are accessible only in a secure context. The primary goal of secure contexts is to prevent <a href=\"https://en.wikipedia.org/wiki/Man-in-the-middle_attack\" class=\"external\" rel=\" noopener\">MITM attackers</a> from accessing powerful APIs that could further compromise the victim of an attack.</p>"}},{"type":"prose","value":{"id":"why_should_some_features_be_restricted","title":"Why should some features be restricted?","isH3":false,"content":"<p>Some APIs on the web are very powerful, giving an attacker the ability to do the following and more:</p>\n<ul>\n  <li>Invade a user's privacy.</li>\n  <li>Get low-level access to a user's computer.</li>\n  <li>Get access to data such as user credentials.</li>\n</ul>"}},{"type":"prose","value":{"id":"when_is_a_context_considered_secure","title":"When is a context considered secure?","isH3":false,"content":"<p>A context is considered secure when it meets certain minimum standards of authentication and confidentiality defined in the <a href=\"https://w3c.github.io/webappsec-secure-contexts/\" class=\"external\" rel=\" noopener\">Secure Contexts</a> specification. A particular document is considered to be in a secure context when it is the <a href=\"https://html.spec.whatwg.org/multipage/browsers.html#active-document\" class=\"external\" rel=\" noopener\">active document</a> of a <a href=\"https://html.spec.whatwg.org/multipage/browsers.html#top-level-browsing-context\" class=\"external\" rel=\" noopener\">top-level browsing context</a> (basically, a containing window or tab) that is a secure context.</p>\n<p>For example, even for a document delivered over TLS within an <a href=\"/en-US/docs/Web/HTML/Element/iframe\"><code>&lt;iframe&gt;</code></a>, its context is <strong>not</strong> considered secure if it has an ancestor that was not also delivered over TLS.</p>\n<p>However, it's important to note that if a non-secure context causes a new window to be created (with or without specifying <a href=\"/en-US/docs/Web/API/Window/open\">noopener</a>), then the fact that the opener was insecure has no effect on whether the new window is considered secure. That's because the determination of whether or not a particular document is in a secure context is based only on considering it within the top-level browsing context with which it is associated — and not whether a non-secure context happened to be used to create it.</p>\n<p>Locally-delivered resources such as those with <code>http://127.0.0.1</code> URLs, <code>http://localhost</code> and <code>http://*.localhost</code> URLs (e.g. <code>http://dev.whatever.localhost/</code>), and <code>file://</code> URLs are also considered to have been delivered securely.</p>\n<div class=\"notecard note\" id=\"sect1\">\n  <p><strong>Note:</strong> Firefox 84 and later support <code>http://localhost</code> and <code>http://*.localhost</code> URLs as trustworthy origins (earlier versions did not, because <code>localhost</code> was not guaranteed to map to a local/loopback address).</p>\n</div>\n<p>Resources that are not local, to be considered secure, must meet the following criteria:</p>\n<ul>\n  <li>must be served over <code>https://</code> or <code>wss://</code> URLs</li>\n  <li>the security properties of the network channel used to deliver the resource must not be considered deprecated</li>\n</ul>"}},{"type":"prose","value":{"id":"feature_detection","title":"Feature detection","isH3":false,"content":"<p>Pages can use feature detection to check whether they are in a secure context or not by using the <a href=\"/en-US/docs/Web/API/isSecureContext\"><code>isSecureContext</code></a> boolean, which is exposed on the global scope.</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>window<span class=\"token punctuation\">.</span>isSecureContext<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// Page is a secure context so service workers are now available</span>\n  navigator<span class=\"token punctuation\">.</span>serviceWorker<span class=\"token punctuation\">.</span><span class=\"token function\">register</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/offline-worker.js\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// …</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>"}},{"type":"specifications","value":{"title":"Specifications","id":"specifications","isH3":false,"specifications":[{"bcdSpecificationURL":"https://w3c.github.io/webappsec-secure-contexts/","title":"Secure Contexts"}],"query":"undefined"}},{"type":"prose","value":{"id":"see_also","title":"See also","isH3":false,"content":"<ul>\n  <li><a href=\"/en-US/docs/Web/Security/Secure_Contexts/features_restricted_to_secure_contexts\">Platform features restricted to secure contexts</a> — a list of the features available only in secure contexts</li>\n  <li><a href=\"/en-US/docs/Web/API/isSecureContext\"><code>isSecureContext</code></a></li>\n  <li><a href=\"https://permission.site\" class=\"external\" rel=\" noopener\">https://permission.site</a> — A site that allows you to check what API permission checks your browser employs, over HTTP and HTTPS</li>\n  <li><a href=\"/en-US/docs/Web/HTTP/Headers/Strict-Transport-Security\">Strict-Transport-Security</a> HTTP header</li>\n</ul>"}}],"toc":[{"text":"Why should some features be restricted?","id":"why_should_some_features_be_restricted"},{"text":"When is a context considered secure?","id":"when_is_a_context_considered_secure"},{"text":"Feature detection","id":"feature_detection"},{"text":"Specifications","id":"specifications"},{"text":"See also","id":"see_also"}],"summary":"A secure context is a Window or Worker for which certain minimum standards of authentication and confidentiality are met. Many Web APIs and features are accessible only in a secure context. The primary goal of secure contexts is to prevent MITM attackers from accessing powerful APIs that could further compromise the victim of an attack.","popularity":0.0034,"modified":"2022-09-19T04:57:04.000Z","other_translations":[{"title":"Secure Contexts","locale":"fr","native":"Français"},{"title":"安全なコンテキスト","locale":"ja","native":"日本語"},{"title":"安全上下文","locale":"zh-CN","native":"中文 (简体)"}],"source":{"folder":"en-us/web/security/secure_contexts","github_url":"https://github.com/mdn/content/blob/style/old/files/en-us/web/security/secure_contexts/index.md","last_commit_url":"https://github.com/mdn/content/commit/e1f571eced916f60ca387ecb562271f6235beb5c","filename":"index.md"},"parents":[{"uri":"/en-US/docs/Web","title":"Web technology for developers"},{"uri":"/en-US/docs/Web/Security","title":"Web security"},{"uri":"/en-US/docs/Web/Security/Secure_Contexts","title":"Secure contexts"}],"pageTitle":"Secure contexts - Web security | MDN","noIndexing":false}}