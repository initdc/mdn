<!DOCTYPE html><html lang="en-US" prefix="og: https://ogp.me/ns#"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="icon" href="/favicon-48x48.97046865.png"><link rel="apple-touch-icon" href="/apple-touch-icon.0ea0fa02.png"><meta name="theme-color" content="#ffffff"><link rel="manifest" href="/manifest.56b1cedc.json"><link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" title="MDN Web Docs"><script>Array.prototype.flat&&Array.prototype.includes||document.write('<script src="https://polyfill.io/v3/polyfill.min.js?features=Array.prototype.flat%2Ces6"><\/script>')</script><title>Same-origin policy - Web security | MDN</title><link rel="preload" as="font" type="font/woff2" crossorigin="" href="/static/media/ZillaSlab-Bold.subset.0beac26b.woff2"><link rel="alternate" title="Same-origin policy" href="https://developer.mozilla.org/en-US/docs/Web/Security/Same-origin_policy" hreflang="en"><link rel="alternate" title="同源政策 (Same-origin policy)" href="https://developer.mozilla.org/zh-TW/docs/Web/Security/Same-origin_policy" hreflang="zh-TW"><link rel="alternate" title="浏览器的同源策略" href="https://developer.mozilla.org/zh-CN/docs/Web/Security/Same-origin_policy" hreflang="zh"><link rel="alternate" title="Same-origin policy" href="https://developer.mozilla.org/ru/docs/Web/Security/Same-origin_policy" hreflang="ru"><link rel="alternate" title="동일 출처 정책" href="https://developer.mozilla.org/ko/docs/Web/Security/Same-origin_policy" hreflang="ko"><link rel="alternate" title="同一オリジンポリシー" href="https://developer.mozilla.org/ja/docs/Web/Security/Same-origin_policy" hreflang="ja"><link rel="alternate" title="Same-origin policy" href="https://developer.mozilla.org/fr/docs/Web/Security/Same-origin_policy" hreflang="fr"><link rel="alternate" title="Política Same-origin" href="https://developer.mozilla.org/es/docs/Web/Security/Same-origin_policy" hreflang="es"><meta name="description" content="The same-origin policy is a critical security mechanism that restricts how a document or script loaded by one origin can interact with a resource from another origin."><meta property="og:url" content="https://developer.mozilla.org/en-US/docs/Web/Security/Same-origin_policy"><meta property="og:title" content="Same-origin policy - Web security | MDN"><meta property="og:description" content="The same-origin policy is a critical security mechanism that restricts how a document or script loaded by one origin can interact with a resource from another origin."><meta property="og:locale" content="en-US"><meta property="og:image" content="https://developer.mozilla.org/mdn-social-share.0ca9dbda.png"><meta property="twitter:card" content="summary_large_image"><meta name="robots" content="index, follow"><link rel="canonical" href="https://developer.mozilla.org/en-US/docs/Web/Security/Same-origin_policy"><style media="print">.breadcrumbs-container,.document-toc-container,.language-menu,.language-toggle,.on-github,.page-footer,.page-header-main,nav.sidebar,ul.prev-next{display:none!important}.main-page-content,.main-page-content pre{padding:2px}.main-page-content pre{border-left-width:2px}</style><link href="/static/css/main.55b68e13.chunk.css" rel="stylesheet"><script src="/static/js/runtime-main.4bb4c356.js" defer=""></script><script src="/static/js/4.a756dea3.chunk.js" defer=""></script><script src="/static/js/main.d4d565e0.chunk.js" defer=""></script></head><body><div id="root"><ul id="nav-access" class="a11y-nav"><li><a id="skip-main" href="#content">Skip to main content</a></li><li><a id="skip-search" href="#main-q">Skip to search</a></li><li><a id="skip-select-language" href="#select-language">Skip to select language</a></li></ul><div class="page-wrapper document-page"><header class="page-header"><a href="/en-US/" class="logo" aria-label="MDN Web Docs"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 451.74 135"><path d="M7.14 8.35v111.06h111.05V8.35zm103.71 56c-.48.92-1 1.79-1.46 2.71a3.44 3.44 0 01-3.54 2 2.4 2.4 0 00-1.55.5c-1.37.9-2.76 1.79-4.18 2.63a7.33 7.33 0 01-6.35.34 29.71 29.71 0 00-10.63-2 11.7 11.7 0 00-9.46 4.31 14.84 14.84 0 00-2.13 4.29c-1.24 3.07-2.3 21.38-2.3 26.05 0 0-17.62-3.42-34.15-20.34l4.31-11.32h-13.5l9.76-10.35h-16.8l9.77-10.34H12.69L30.45 34a40.9 40.9 0 0119.77-10.83c7.1-1.22 8.93-.53 13.31.77l2.43.73.85.25 3.1.95a12.56 12.56 0 006.21.09 11.37 11.37 0 018.25 1 8.24 8.24 0 014.1 6.22 7.29 7.29 0 003.61 5.49 59.45 59.45 0 009.32 4.11c2.27.86 4.54 1.84 6.79 2.72a6.81 6.81 0 012.86 2.06 4.81 4.81 0 011.1 2.73c.14 2 .37 4 .47 6a15.24 15.24 0 01-1.77 8.03zM320.12 39.62a5.42 5.42 0 00-4.53 2.13 7.36 7.36 0 00-1.7 4.43v2.36a6.28 6.28 0 001.7 4.46 5.63 5.63 0 004.3 1.82 5.12 5.12 0 004.57-2.27A9.7 9.7 0 00326 47a8.11 8.11 0 00-1.67-5.52 5.36 5.36 0 00-4.21-1.86zM387.38 39.53a5.52 5.52 0 00-4.7 2.15 8.8 8.8 0 00-1.63 5.49 9.23 9.23 0 001.58 5.45 5.38 5.38 0 004.7 2.25 5.61 5.61 0 004.74-2.2 8.91 8.91 0 001.68-5.59 8.24 8.24 0 00-1.75-5.52 5.76 5.76 0 00-4.62-2.03zM299.47 41.35a4.34 4.34 0 00-4-1.92 4.55 4.55 0 00-3.89 1.73 8.37 8.37 0 00-1.58 4.17h10.48a6.3 6.3 0 00-1.01-3.98zM357.74 30.75H352v23.31h5.72q5.47 0 8.35-3t2.93-8.65q0-5.43-2.88-8.55t-8.38-3.11z"></path><path d="M121.55 8.35v70.8h323V8.35zm42.21 22.45h-4V54h3.68v3.73h-11.25V54h3.31V36.79h-.19l-9.63 19.12h-2.12l-10-19.4h-.19V54h3.45v3.73h-11.15V54h3.68V30.8h-4v-3.73H133l11.66 22.56h.19l11.18-22.56h7.7zm29.12 22.67q-4.11 4.28-11.38 4.28h-14.06v-3.69h3.73V30.75h-3.73v-3.68h13.83q7.59 0 11.66 4.29a15.4 15.4 0 014 11 15.33 15.33 0 01-4.05 11.11zm38.89-22.67h-3.68v27h-2.6L208.08 35h-.19v19h4.67v3.73h-12.22V54h3.49V30.8h-4v-3.73h7.08l16.9 22.09h.19V30.8h-4.58v-3.73h12.32zm43.8 27h-3.31l-7.83-23.18h-.19l-7.55 23.18h-3.35l-8.78-27h-2.65v-3.73H253v3.73h-3.87L255 50.71h.23l6.61-19.91H259v-3.73h11v3.73h-2.78l6.61 20.1h.23l5.43-20.1h-4.15v-3.73h11v3.73h-2.54zm26.71-1.51a9.66 9.66 0 01-6.42 2 10.2 10.2 0 01-7.41-2.74c-1.89-1.82-2.83-4.47-2.83-7.93a12.37 12.37 0 012.64-8.12 9 9 0 017.32-3.21 8.62 8.62 0 016.75 2.69 9.65 9.65 0 012.45 6.52 13.67 13.67 0 01-.28 2.69H290q.29 6.71 6.18 6.7a5.2 5.2 0 003.71-1.18 5.82 5.82 0 001.67-2.83l3.45.71a7.21 7.21 0 01-2.73 4.65zm25.77-1.63c-1.51 2.4-3.92 3.61-7.22 3.61s-5.84-1.29-7.22-3.87c0 .25-.1.82-.21 1.7s-.19 1.44-.22 1.7H309c.16-1 .31-2 .47-3.07a21.42 21.42 0 00.24-3.16v-23h-3.4v-3.3h7.55V40.9a9.76 9.76 0 012.67-3.28 7.33 7.33 0 014.74-1.4 8.48 8.48 0 016.5 2.78q2.55 2.74 2.55 7.74a14.6 14.6 0 01-2.27 7.87zm41.39-1.14q-4.11 4.28-11.37 4.28H344v-3.74h3.73V30.75H344v-3.68h13.83q7.59 0 11.66 4.29a15.41 15.41 0 014.06 11 15.34 15.34 0 01-4.11 11.11zm25.65 1.68a10.53 10.53 0 01-7.9 3.07 10 10 0 01-7.63-3 10.93 10.93 0 01-2.8-7.83 12.13 12.13 0 012.69-7.93q2.69-3.3 8-3.3t8 3.28a12 12 0 012.64 7.76 10.86 10.86 0 01-3 7.9zm22.61.57c-1.4 1.66-3.63 2.5-6.68 2.5a9.58 9.58 0 01-7.15-2.76q-2.72-2.76-2.71-7.91a12.25 12.25 0 012.69-8 9.17 9.17 0 017.5-3.28 15 15 0 013.82.48 10.37 10.37 0 013.5 1.65l.85 5.47-3.35.38-.76-3.54a8.07 8.07 0 00-4.11-1 4.9 4.9 0 00-4.39 2.15 9.93 9.93 0 00-1.41 5.55 8.9 8.9 0 001.5 5.38 5.23 5.23 0 004.44 2c2.92 0 4.67-1.7 5.23-5.1l3.5.71a10.34 10.34 0 01-2.47 5.27zm20.48.75a11.68 11.68 0 01-6.63 1.75 15.52 15.52 0 01-8.26-2.08L424 51l3.26.33-.1 2.74a7 7 0 002.06.66 12.63 12.63 0 002.19.19 8.68 8.68 0 003.66-.75 2.5 2.5 0 001.63-2.36 2.25 2.25 0 00-1.32-2.2 12.65 12.65 0 00-3.28-1 47.39 47.39 0 01-3.9-.82 7.5 7.5 0 01-3.25-1.7 4.67 4.67 0 01-1.33-3.66c0-2.36.88-4 2.62-4.91a12 12 0 015.6-1.37 15 15 0 014.08.55 16.65 16.65 0 013.47 1.39l.47 5.1-3.3.37-.48-3.3a9.5 9.5 0 00-4.06-.9 5.62 5.62 0 00-2.87.66 2.33 2.33 0 00-1.15 2.25 2.13 2.13 0 001.3 2.07 11.91 11.91 0 003.21.92 36.69 36.69 0 013.82.83 7.46 7.46 0 013.21 1.74 4.9 4.9 0 011.3 3.73 5.56 5.56 0 01-2.66 4.91z"></path><path d="M181.17 30.75h-5.71v23.31h5.71q5.47 0 8.36-3t2.88-8.61q0-5.43-2.88-8.55t-8.36-3.15zM121.63 119.32V81.74h114.91v37.58zM153.22 109h-2v-6.85a4.8 4.8 0 00-1.58-4 5.57 5.57 0 00-3.55-1.26 5 5 0 00-4.92 3.26 4.19 4.19 0 00-1.88-2.46 5.82 5.82 0 00-3-.8 4.89 4.89 0 00-4.56 2.56v-2.21h-6.28v3.26h2v8.5h-2v3.23h9.11V109h-2.86v-5.25a4.4 4.4 0 01.69-2.56 2.47 2.47 0 012.21-1q2.57 0 2.56 3.63v8.41h6.29V109h-2v-5.25a4.47 4.47 0 01.67-2.56 2.42 2.42 0 012.19-1q2.63 0 2.63 3.63v8.41h6.28zm9.88-12.07q-4 0-6 2.36a8.41 8.41 0 00-2 5.66 7.25 7.25 0 002.17 5.62 8 8 0 005.65 2 8.54 8.54 0 005.94-2.11 7.27 7.27 0 002.34-5.67 8.21 8.21 0 00-2-5.51q-2.07-2.34-6.1-2.34zm-.1 12.35a3 3 0 01-2.63-1.33 5.68 5.68 0 01-.9-3.26 5 5 0 011-3.28 3.23 3.23 0 012.61-1.18 3.5 3.5 0 012.59 1.08 4.56 4.56 0 011.07 3.31 5.21 5.21 0 01-1 3.41 3.33 3.33 0 01-2.74 1.25zm25-2.3l-3.39-.29-.7 2.32H179l8.32-9.54-.32-2.23h-13.19l-.53 5.25 3.16.34.67-2.36h4.65l-8.25 9.53.44 2.26h13.13zm7.62-9.74h-4.46v5.39h4.46zm0 9.61h-4.46v5.39h4.46zm13.54-17.49h-4.23l-6.48 22.88h4.22zm8.68 0h-4.23l-6.45 22.88h4.19zm15 22.51l-.07-2.26a1.22 1.22 0 01-.56.1c-.69 0-1-.39-1-1.16v-6.49a4.39 4.39 0 00-1.8-3.84 7 7 0 00-4.16-1.28 14.55 14.55 0 00-3.16.3 24.14 24.14 0 00-3.29 1.06l-.56 3.46 3.39.4.5-1.69a2.78 2.78 0 011.08-.37 11.3 11.3 0 011.25-.07c1.19 0 1.89.37 2.09 1.1a8.55 8.55 0 01.3 2.26v.5a8.91 8.91 0 00-1.18-.11h-1.21a12.64 12.64 0 00-4.81.88 3.53 3.53 0 00-2.18 3.64 3.66 3.66 0 001.48 3.33 5.63 5.63 0 003.11 1 4.67 4.67 0 003-.91 6.78 6.78 0 001.8-2 3 3 0 003.33 3 5.54 5.54 0 002.66-.85zm-9.25-2.32a1.69 1.69 0 01-1.36-.52 1.81 1.81 0 01-.43-1.21 1.67 1.67 0 01.86-1.68 4.63 4.63 0 012-.42 7.69 7.69 0 011.07.07l1.06.13a3.58 3.58 0 01-1.08 2.74 3.24 3.24 0 01-2.11.89z"></path></svg></a><button type="button" class="ghost main-menu-toggle" aria-haspopup="true" aria-label="Show Menu"></button><div class="page-header-main "><nav class="main-nav" aria-label="Main menu"><ul class="main-menu nojs"><li class="top-level-entry-container"><button id="technologies-button" type="button" class="top-level-entry" aria-haspopup="menu" aria-expanded="false">Technologies</button><ul class="technologies " role="menu" aria-labelledby="technologies-button"><li role="none"><a tabindex="-1" href="/en-US/docs/Web" role="menuitem">Technologies Overview</a></li><li role="none"><a tabindex="-1" href="/en-US/docs/Web/HTML" role="menuitem">HTML</a></li><li role="none"><a tabindex="-1" href="/en-US/docs/Web/CSS" role="menuitem">CSS</a></li><li role="none"><a tabindex="-1" href="/en-US/docs/Web/JavaScript" role="menuitem">JavaScript</a></li><li role="none"><a tabindex="-1" href="/en-US/docs/Web/Guide/Graphics" role="menuitem">Graphics</a></li><li role="none"><a tabindex="-1" href="/en-US/docs/Web/HTTP" role="menuitem">HTTP</a></li><li role="none"><a tabindex="-1" href="/en-US/docs/Web/API" role="menuitem">APIs</a></li><li role="none"><a tabindex="-1" href="/en-US/docs/Mozilla/Add-ons/WebExtensions" role="menuitem">Browser Extensions</a></li><li role="none"><a tabindex="-1" href="/en-US/docs/Web/MathML" role="menuitem">MathML</a></li></ul></li><li class="top-level-entry-container"><button id="references-guides-button" type="button" class="top-level-entry" aria-haspopup="menu" aria-expanded="false">References &amp; Guides</button><ul class="references-guides " role="menu" aria-labelledby="references-guides-button"><li role="none"><a tabindex="-1" href="/en-US/docs/Learn" role="menuitem">Learn web development</a></li><li role="none"><a tabindex="-1" href="/en-US/docs/Web/Tutorials" role="menuitem">Tutorials</a></li><li role="none"><a tabindex="-1" href="/en-US/docs/Web/Reference" role="menuitem">References</a></li><li role="none"><a tabindex="-1" href="/en-US/docs/Web/Guide" role="menuitem">Developer Guides</a></li><li role="none"><a tabindex="-1" href="/en-US/docs/Web/Accessibility" role="menuitem">Accessibility</a></li><li role="none"><a tabindex="-1" href="/en-US/docs/Games" role="menuitem">Game development</a></li><li role="none"><a tabindex="-1" href="/en-US/docs/Web" role="menuitem">...more docs</a></li></ul></li><li class="top-level-entry-container"><button id="feedback-button" type="button" class="top-level-entry" aria-haspopup="menu" aria-expanded="false">Feedback</button><ul class="feedback " role="menu" aria-labelledby="feedback-button"><li role="none"><a tabindex="-1" href="/en-US/docs/MDN/Contribute/Feedback" role="menuitem">Send Feedback</a></li><li role="none"><a tabindex="-1" href="/en-US/docs/MDN/Contribute" role="menuitem">Contribute to MDN</a></li><li role="none"><a tabindex="-1" target="_blank" rel="noopener noreferrer" href="https://github.com/mdn/content/issues/new" role="menuitem">Report a content issue<!-- --> 🌐</a></li><li role="none"><a tabindex="-1" target="_blank" rel="noopener noreferrer" href="https://github.com/mdn/yari/issues/new" role="menuitem">Report a platform issue<!-- --> 🌐</a></li></ul></li></ul></nav><div class="header-search"><form action="/en-US/search" class="search-form search-widget" role="search"><label for="main-q" class="visually-hidden">Search MDN</label><input type="search" name="q" id="main-q" class="search-input-field" placeholder="Site search... (Press &quot;/&quot; to focus)" pattern="(.|\s)*\S(.|\s)*" required="" value=""><input type="submit" class="ghost search-button" value="" aria-label="Search"></form></div><div class="auth-container"></div></div></header><div class="breadcrumb-locale-container"><nav class="breadcrumbs-container" aria-label="Breadcrumb navigation"><ol typeof="BreadcrumbList" vocab="https://schema.org/" aria-label="breadcrumbs"><li property="itemListElement" typeof="ListItem"><a class="breadcrumb" property="item" typeof="WebPage" href="/en-US/docs/Web"><span property="name">Web technology for developers</span></a><meta property="position" content="1"></li><li property="itemListElement" typeof="ListItem"><a class="breadcrumb-penultimate" property="item" typeof="WebPage" href="/en-US/docs/Web/Security"><span property="name">Web security</span></a><meta property="position" content="2"></li><li property="itemListElement" typeof="ListItem"><a class="breadcrumb-current-page" property="item" typeof="WebPage" href="/en-US/docs/Web/Security/Same-origin_policy"><span property="name">Same-origin policy</span></a><meta property="position" content="3"></li></ol></nav><ul class="language-toggle single-option"><li><a href="#select-language" class="language-icon"><span class="show-desktop">Change language</span></a></li></ul></div><aside class="document-toc-container"><section class="document-toc"><header><h2>Table of contents</h2><button type="button" class="ghost toc-trigger-mobile" aria-controls="toc-entries" aria-expanded="false">Table of contents</button></header><ul id="toc-entries"><li><a href="#definition_of_an_origin">Definition of an origin</a></li><li><a href="#changing_origin">Changing origin</a></li><li><a href="#cross-origin_network_access">Cross-origin network access</a></li><li><a href="#cross-origin_script_api_access">Cross-origin script API access</a></li><li><a href="#cross-origin_data_storage_access">Cross-origin data storage access</a></li><li><a href="#see_also">See also</a></li></ul></section></aside><main id="content" class="main-content" role="main"><article class="main-page-content" lang="en-US"><h1>Same-origin policy</h1><div><p>The <strong>same-origin policy</strong> is a critical security mechanism that restricts how a document or script loaded by one <a href="/en-US/docs/Glossary/Origin">origin</a> can interact with a resource from another origin.</p>
<p>It helps isolate potentially malicious documents, reducing possible attack vectors. For example, it prevents a malicious website on the Internet from running JS in a browser to read data from a third-party webmail service (which the user is signed into) or a company intranet (which is protected from direct access by the attacker by not having a public IP address) and relaying that data to the attacker.</p></div><h2 id="definition_of_an_origin"><a href="#definition_of_an_origin" title="Permalink to Definition of an origin">Definition of an origin</a></h2><div><p>Two URLs have the <em>same origin</em> if the <a href="/en-US/docs/Glossary/Protocol">protocol</a>, <a href="/en-US/docs/Glossary/Port">port</a> (if specified), and <a href="/en-US/docs/Glossary/Host">host</a> are the same for both. You may see this referenced as the "scheme/host/port tuple", or just "tuple". (A "tuple" is a set of items that together comprise a whole — a generic form for double/triple/quadruple/quintuple/etc.)</p>
<p>The following table gives examples of origin comparisons with the URL <code>http://store.company.com/dir/page.html</code>:</p>
<table>
  <thead>
    <tr>
      <th>URL</th>
      <th>Outcome</th>
      <th>Reason</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>http://store.company.com/dir2/other.html</code></td>
      <td>Same origin</td>
      <td>Only the path differs</td>
    </tr>
    <tr>
      <td><code>http://store.company.com/dir/inner/another.html</code></td>
      <td>Same origin</td>
      <td>Only the path differs</td>
    </tr>
    <tr>
      <td><code>https://store.company.com/page.html</code></td>
      <td>Failure</td>
      <td>Different protocol</td>
    </tr>
    <tr>
      <td><code>http://store.company.com:81/dir/page.html</code></td>
      <td>Failure</td>
      <td>Different port (<code>http://</code> is port 80 by default)</td>
    </tr>
    <tr>
      <td><code>http://news.company.com/dir/page.html</code></td>
      <td>Failure</td>
      <td>Different host</td>
    </tr>
  </tbody>
</table></div><h3 id="inherited_origins"><a href="#inherited_origins" title="Permalink to Inherited origins">Inherited origins</a></h3><div><p>Scripts executed from pages with an <code>about:blank</code> or <code>javascript:</code> URL inherit the origin of the document containing that URL, since these types of URLs do not contain information about an origin server.</p>
<p>For example, <code>about:blank</code> is often used as a URL of new, empty popup windows into which the parent script writes content (e.g. via the <a href="/en-US/docs/Web/API/Window/open"><code>Window.open()</code></a> mechanism). If this popup also contains JavaScript, that script would inherit the same origin as the script that created it.</p>
<p><code>data:</code> URLs get a new, empty, security context.</p></div><h3 id="exceptions_in_internet_explorer"><a href="#exceptions_in_internet_explorer" title="Permalink to Exceptions in Internet Explorer">Exceptions in Internet Explorer</a></h3><div><p>Internet Explorer has two major exceptions to the same-origin policy:</p>
<dl>
  <dt id="trust_zones">Trust Zones</dt>
  <dd>
    <p>If both domains are in the <em>highly trusted zone</em> (e.g. corporate intranet domains), then the same-origin limitations are not applied.</p>
  </dd>
  <dt id="port">Port</dt>
  <dd>
    <p>IE doesn't include port into same-origin checks. Therefore, <code>https://company.com:81/index.html</code> and <code>https://company.com/index.html</code> are considered the same origin and no restrictions are applied.</p>
  </dd>
</dl>
<p>These exceptions are nonstandard and unsupported in any other browser.</p></div><h3 id="file_origins"><a href="#file_origins" title="Permalink to File origins">File origins</a></h3><div><p>
  Modern browsers usually treat the origin of files loaded using the <code>file:///</code> schema as <em>opaque origins</em>.
  What this means is that if a file includes other files from the same folder (say), they are not assumed to come from the same origin, and may trigger <a href="/en-US/docs/Glossary/CORS">CORS</a> errors.
</p>
<p>Note that the <a href="https://url.spec.whatwg.org/#origin" class="external" rel=" noopener">URL specification</a> states that the origin of files is implementation-dependent, and some browsers may treat files in the same directory or subdirectory as same-origin even though this has <a href="https://www.mozilla.org/en-US/security/advisories/mfsa2019-21/#CVE-2019-11730" class="external" rel=" noopener">security implications</a>.</p></div><h2 id="changing_origin"><a href="#changing_origin" title="Permalink to Changing origin">Changing origin</a></h2><div><div class="notecard warning" id="sect1">
  <p><strong>Warning:</strong> The approach described here (using the <a href="/en-US/docs/Web/API/Document/domain"><code>document.domain</code></a> setter) is deprecated because it undermines the security protections provided by the same origin policy, and complicates the origin model in browsers, leading to interoperability problems and security bugs.</p>
</div>
<p>A page may change its own origin, with some limitations. A script can set the value of <a href="/en-US/docs/Web/API/Document/domain"><code>document.domain</code></a> to its current domain or a superdomain of its current domain. If set to a superdomain of the current domain, the shorter superdomain is used for same-origin checks.</p>
<p>For example, assume a script from the document at <code>http://store.company.com/dir/other.html</code> executes the following:</p>
<div class="code-example"><pre class="brush: js notranslate"><code>document<span class="token punctuation">.</span>domain <span class="token operator">=</span> <span class="token string">"company.com"</span><span class="token punctuation">;</span>
</code></pre></div>
<p>Afterward, the page can pass the same-origin check with <code>http://company.com/dir/page.html</code> (assuming <code>http://company.com/dir/page.html</code> sets its <code>document.domain</code> to "<code>company.com</code>" to indicate that it wishes to allow that - see <a href="/en-US/docs/Web/API/Document/domain"><code>document.domain</code></a> for more). However, <code>company.com</code> could <strong>not</strong> set <code>document.domain</code> to <code>othercompany.com</code>, since that is not a superdomain of <code>company.com</code>.</p>
<p>The port number is checked separately by the browser. Any call to <code>document.domain</code>, including <code>document.domain = document.domain</code>, causes the port number to be overwritten with <code>null</code>. Therefore, one <strong>cannot</strong> make <code>company.com:8080</code> talk to <code>company.com</code> by only setting <code>document.domain = "company.com"</code> in the first. It has to be set in both so their port numbers are both <code>null</code>.</p>
<p>The mechanism has some limitations. For example, it will throw a "<code>SecurityError</code>" <a href="/en-US/docs/Web/API/DOMException"><code>DOMException</code></a> if the <a href="/en-US/docs/Web/HTTP/Headers/Feature-Policy/document-domain"><code>document-domain</code></a> <a href="/en-US/docs/Web/HTTP/Headers/Feature-Policy"><code>Feature-Policy</code></a> is enabled or the document is in a sandboxed <a href="/en-US/docs/Web/HTML/Element/iframe"><code>&lt;iframe&gt;</code></a>, and changing the origin in this way does not affect the origin checks used by many Web APIs (e.g. <a href="/en-US/docs/Web/API/Window/localStorage"><code>localStorage</code></a>, <a href="/en-US/docs/Web/API/IndexedDB_API"><code>indexedDB</code></a>, <a href="/en-US/docs/Web/API/BroadcastChannel"><code>BroadcastChannel</code></a>, <a href="/en-US/docs/Web/API/SharedWorker"><code>SharedWorker</code></a>). A more exhaustive list of failure cases can be found in <a href="/en-US/docs/Web/API/Document/domain#failures">Document.domain &gt; Failures</a>.</p>
<div class="notecard note" id="sect2">
  <p><strong>Note:</strong> When using <code>document.domain</code> to allow a subdomain to access its parent, you need to set <code>document.domain</code> to the <em>same value</em> in both the parent domain and the subdomain. This is necessary even if doing so is setting the parent domain back to its original value. Failure to do this may result in permission errors.</p>
</div></div><h2 id="cross-origin_network_access"><a href="#cross-origin_network_access" title="Permalink to Cross-origin network access">Cross-origin network access</a></h2><div><p>The same-origin policy controls interactions between two different origins, such as when you use <a href="/en-US/docs/Web/API/XMLHttpRequest"><code>XMLHttpRequest</code></a> or an <a href="/en-US/docs/Web/HTML/Element/img"><code>&lt;img&gt;</code></a> element. These interactions are typically placed into three categories:</p>
<ul>
  <li>Cross-origin <em>writes</em> are typically allowed. Examples are links, redirects, and form submissions. Some HTTP requests require <a href="/en-US/docs/Web/HTTP/CORS#preflighted_requests">preflight</a>.</li>
  <li>Cross-origin <em>embedding</em> is typically allowed. (Examples are listed below.)</li>
  <li>Cross-origin <em>reads</em> are typically disallowed, but read access is often leaked by embedding. For example, you can read the dimensions of an embedded image, the actions of an embedded script, or the <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=629094" class="external" rel=" noopener">availability of an embedded resource</a>.</li>
</ul>
<p>Here are some examples of resources which may be embedded cross-origin:</p>
<ul>
  <li>JavaScript with <code>&lt;script src="…"&gt;&lt;/script&gt;</code>. Error details for syntax errors are only available for same-origin scripts.</li>
  <li>CSS applied with <code>&lt;link rel="stylesheet" href="…"&gt;</code>. Due to the <a href="https://scarybeastsecurity.blogspot.com/2009/12/generic-cross-browser-cross-domain.html" class="external" rel=" noopener">relaxed syntax rules</a> of CSS, cross-origin CSS requires a correct <code>Content-Type</code> header. Restrictions vary by browser: <a href="https://docs.microsoft.com/previous-versions/windows/internet-explorer/ie-developer/compatibility/gg622939(v=vs.85)" class="external" rel=" noopener">Internet Explorer</a>, <a href="https://www.mozilla.org/en-US/security/advisories/mfsa2010-46/" class="external" rel=" noopener">Firefox</a>, <a href="https://bugs.chromium.org/p/chromium/issues/detail?id=9877" class="external" rel=" noopener">Chrome</a>, <a href="https://support.apple.com/en-us/HT4070" class="external" rel=" noopener">Safari</a> (scroll down to CVE-2010-0051) and <a href="https://security.opera.com/cross-domain-data-theft-with-css-load-opera-security-advisories/" class="external" rel=" noopener">Opera</a>.</li>
  <li>Images displayed by <a href="/en-US/docs/Web/HTML/Element/img"><code>&lt;img&gt;</code></a>.</li>
  <li>Media played by <a href="/en-US/docs/Web/HTML/Element/video"><code>&lt;video&gt;</code></a> and <a href="/en-US/docs/Web/HTML/Element/audio"><code>&lt;audio&gt;</code></a>.</li>
  <li>External resources embedded with <a href="/en-US/docs/Web/HTML/Element/object"><code>&lt;object&gt;</code></a> and <a href="/en-US/docs/Web/HTML/Element/embed"><code>&lt;embed&gt;</code></a>.</li>
  <li>Fonts applied with <a href="/en-US/docs/Web/CSS/@font-face"><code>@font-face</code></a>. Some browsers allow cross-origin fonts, others require same-origin.</li>
  <li>Anything embedded by <a href="/en-US/docs/Web/HTML/Element/iframe"><code>&lt;iframe&gt;</code></a>. Sites can use the <a href="/en-US/docs/Web/HTTP/Headers/X-Frame-Options"><code>X-Frame-Options</code></a> header to prevent cross-origin framing.</li>
</ul></div><h3 id="how_to_allow_cross-origin_access"><a href="#how_to_allow_cross-origin_access" title="Permalink to How to allow cross-origin access">How to allow cross-origin access</a></h3><div><p>Use <a href="/en-US/docs/Web/HTTP/CORS">CORS</a> to allow cross-origin access. CORS is a part of <a href="/en-US/docs/Glossary/HTTP">HTTP</a> that lets servers specify any other hosts from which a browser should permit loading of content.</p></div><h3 id="how_to_block_cross-origin_access"><a href="#how_to_block_cross-origin_access" title="Permalink to How to block cross-origin access">How to block cross-origin access</a></h3><div><ul>
  <li>To prevent cross-origin writes, check an unguessable token in the request — known as a <a href="https://owasp.org/www-community/attacks/csrf" class="external" rel=" noopener">Cross-Site Request Forgery (CSRF)</a> token. You must prevent cross-origin reads of pages that require this token.</li>
  <li>To prevent cross-origin reads of a resource, ensure that it is not embeddable. It is often necessary to prevent embedding because embedding a resource always leaks some information about it.</li>
  <li>To prevent cross-origin embeds, ensure that your resource cannot be interpreted as one of the embeddable formats listed above. Browsers may not respect the <code>Content-Type</code> header. For example, if you point a <code>&lt;script&gt;</code> tag at an HTML document, the browser will try to parse the HTML as JavaScript. When your resource is not an entry point to your site, you can also use a CSRF token to prevent embedding.</li>
</ul></div><h2 id="cross-origin_script_api_access"><a href="#cross-origin_script_api_access" title="Permalink to Cross-origin script API access">Cross-origin script API access</a></h2><div><p>JavaScript APIs like <a href="/en-US/docs/Web/API/HTMLIFrameElement/contentWindow" title="iframe.contentWindow"><code>iframe.contentWindow</code></a>, <a href="/en-US/docs/Web/API/Window/parent"><code>window.parent</code></a>, <a href="/en-US/docs/Web/API/Window/open"><code>window.open</code></a>, and <a href="/en-US/docs/Web/API/Window/opener"><code>window.opener</code></a> allow documents to directly reference each other. When two documents do not have the same origin, these references provide very limited access to <a href="/en-US/docs/Web/API/Window"><code>Window</code></a> and <a href="/en-US/docs/Web/API/Location"><code>Location</code></a> objects, as described in the next two sections.</p>
<p>To communicate between documents from different origins, use <a href="/en-US/docs/Web/API/Window/postMessage"><code>window.postMessage</code></a>.</p>
<p>Specification: <a href="https://html.spec.whatwg.org/multipage/browsers.html#cross-origin-objects" class="external" rel=" noopener">HTML Living Standard § Cross-origin objects</a>.</p></div><h3 id="window"><a href="#window" title="Permalink to Window">Window</a></h3><div><p>The following cross-origin access to these <code>Window</code> properties is allowed:</p>
<table>
  <thead>
    <tr>
      <th>Methods</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><a href="/en-US/docs/Web/API/Window/blur"><code>window.blur</code></a></td>
    </tr>
    <tr>
      <td><a href="/en-US/docs/Web/API/Window/close"><code>window.close</code></a></td>
    </tr>
    <tr>
      <td><a href="/en-US/docs/Web/API/Window/focus"><code>window.focus</code></a></td>
    </tr>
    <tr>
      <td><a href="/en-US/docs/Web/API/Window/postMessage"><code>window.postMessage</code></a></td>
    </tr>
  </tbody>
</table>
<table>
  <thead>
    <tr>
      <th>Attributes</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><a href="/en-US/docs/Web/API/Window/closed"><code>window.closed</code></a></td>
      <td>Read only.</td>
    </tr>
    <tr>
      <td><a href="/en-US/docs/Web/API/Window/frames"><code>window.frames</code></a></td>
      <td>Read only.</td>
    </tr>
    <tr>
      <td><a href="/en-US/docs/Web/API/Window/length"><code>window.length</code></a></td>
      <td>Read only.</td>
    </tr>
    <tr>
      <td><a href="/en-US/docs/Web/API/Window/location"><code>window.location</code></a></td>
      <td>Read/Write.</td>
    </tr>
    <tr>
      <td><a href="/en-US/docs/Web/API/Window/opener"><code>window.opener</code></a></td>
      <td>Read only.</td>
    </tr>
    <tr>
      <td><a href="/en-US/docs/Web/API/Window/parent"><code>window.parent</code></a></td>
      <td>Read only.</td>
    </tr>
    <tr>
      <td><a href="/en-US/docs/Web/API/Window/self"><code>window.self</code></a></td>
      <td>Read only.</td>
    </tr>
    <tr>
      <td><a href="/en-US/docs/Web/API/Window/top"><code>window.top</code></a></td>
      <td>Read only.</td>
    </tr>
    <tr>
      <td><a href="/en-US/docs/Web/API/Window/window"><code>window.window</code></a></td>
      <td>Read only.</td>
    </tr>
  </tbody>
</table>
<p>Some browsers allow access to more properties than the above.</p></div><h3 id="location"><a href="#location" title="Permalink to Location">Location</a></h3><div><p>The following cross-origin access to <code>Location</code> properties is allowed:</p>
<table>
  <thead>
    <tr>
      <th>Methods</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><a href="/en-US/docs/Web/API/Location/replace"><code>location.replace</code></a></td>
    </tr>
  </tbody>
</table>
<table>
  <thead>
    <tr>
      <th>Attributes</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><a class="page-not-created" title="The documentation about this has not yet been written; please consider contributing!"><code>URLUtils.href</code></a></td>
      <td>Write-only.</td>
    </tr>
  </tbody>
</table>
<p>Some browsers allow access to more properties than the above.</p></div><h2 id="cross-origin_data_storage_access"><a href="#cross-origin_data_storage_access" title="Permalink to Cross-origin data storage access">Cross-origin data storage access</a></h2><div><p>Access to data stored in the browser such as <a href="/en-US/docs/Web/API/Web_Storage_API">Web Storage</a> and <a href="/en-US/docs/Web/API/IndexedDB_API">IndexedDB</a> are separated by origin. Each origin gets its own separate storage, and JavaScript in one origin cannot read from or write to the storage belonging to another origin.</p>
<p><a href="/en-US/docs/Glossary/Cookie">Cookies</a> use a separate definition of origins. A page can set a cookie for its own domain or any parent domain, as long as the parent domain is not a public suffix. Firefox and Chrome use the <a href="https://publicsuffix.org/" class="external" rel=" noopener">Public Suffix List</a> to determine if a domain is a public suffix. Internet Explorer uses its own internal method to determine if a domain is a public suffix. The browser will make a cookie available to the given domain including any sub-domains, no matter which protocol (HTTP/HTTPS) or port is used. When you set a cookie, you can limit its availability using the <code>Domain</code>, <code>Path</code>, <code>Secure</code>, and <code>HttpOnly</code> flags. When you read a cookie, you cannot see from where it was set. Even if you use only secure https connections, any cookie you see may have been set using an insecure connection.</p></div><h2 id="see_also"><a href="#see_also" title="Permalink to See also">See also</a></h2><div><ul>
  <li><a href="https://www.w3.org/Security/wiki/Same_Origin_Policy" class="external" rel=" noopener">Same Origin Policy at W3C</a></li>
  <li><a href="https://web.dev/same-origin-policy/" class="external" rel=" noopener">Same-origin policy at web.dev</a></li>
  <li><a href="/en-US/docs/Web/HTTP/Headers/Cross-Origin-Resource-Policy"><code>Cross-Origin-Resource-Policy</code></a></li>
  <li><a href="/en-US/docs/Web/HTTP/Headers/Cross-Origin-Embedder-Policy"><code>Cross-Origin-Embedder-Policy</code></a></li>
</ul></div></article><aside class="metadata"><div class="metadata-content-container"><div id="on-github" class="on-github"><h3>Found a problem with this page?</h3><ul><li><a href="https://github.com/mdn/content/edit/style/old/files/en-us/web/security/same-origin_policy/index.md" title="You're going to need to sign in to GitHub first (Opens in a new tab)" target="_blank" rel="noopener noreferrer">Edit on <b>GitHub</b></a></li><li><a href="https://github.com/mdn/content/blob/style/old/files/en-us/web/security/same-origin_policy/index.md" title="Folder: en-us/web/security/same-origin_policy (Opens in a new tab)" target="_blank" rel="noopener noreferrer">Source on <b>GitHub</b></a></li><li><a href="https://github.com/mdn/content/issues/new?body=MDN+URL%3A+https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FWeb%2FSecurity%2FSame-origin_policy%0A%0A%23%23%23%23+What+information+was+incorrect%2C+unhelpful%2C+or+incomplete%3F%0A%0A%0A%23%23%23%23+Specific+section+or+headline%3F%0A%0A%0A%23%23%23%23+What+did+you+expect+to+see%3F%0A%0A%0A%23%23%23%23+Did+you+test+this%3F+If+so%2C+how%3F%0A%0A%0A%3C%21--+Do+not+make+changes+below+this+line+--%3E%0A%3Cdetails%3E%0A%3Csummary%3EMDN+Content+page+report+details%3C%2Fsummary%3E%0A%0A*+Folder%3A+%60en-us%2Fweb%2Fsecurity%2Fsame-origin_policy%60%0A*+MDN+URL%3A+https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FWeb%2FSecurity%2FSame-origin_policy%0A*+GitHub+URL%3A+https%3A%2F%2Fgithub.com%2Fmdn%2Fcontent%2Fblob%2Fstyle%2Fold%2Ffiles%2Fen-us%2Fweb%2Fsecurity%2Fsame-origin_policy%2Findex.md%0A*+Last+commit%3A+https%3A%2F%2Fgithub.com%2Fmdn%2Fcontent%2Fcommit%2F309b7e313af4aebde03f5825ec530db614e2bb16%0A*+Document+last+modified%3A+2022-09-20T02%3A49%3A59.000Z%0A%0A%3C%2Fdetails%3E&amp;title=Issue+with+%22Same-origin+policy%22%3A+%28short+summary+here+please%29&amp;labels=needs-triage%2CContent%3AOther" title="This will take you to https://github.com/mdn/content to file a new issue" target="_blank" rel="noopener noreferrer">Report a problem with this content on <b>GitHub</b></a></li><li>Want to fix the problem yourself? See<!-- --> <a href="https://github.com/mdn/content/blob/main/README.md" target="_blank" rel="noopener noreferrer">our Contribution guide</a>.</li></ul></div><p class="last-modified-date"><b>Last modified:</b> <time datetime="2022-09-20T02:49:59.000Z">Sep 20, 2022</time>,<!-- --> <a href="/en-US/docs/Web/Security/Same-origin_policy/contributors.txt">by MDN contributors</a></p><form class="language-menu"><fieldset id="select-language"><legend>Change your language</legend><label for="language-selector" class="visually-hidden">Select your preferred language</label> <select id="language-selector" name="language"><option selected="" value="en-US">English (US)</option><option value="es">Español</option><option value="fr">Français</option><option value="ja">日本語</option><option value="ko">한국어</option><option value="ru">Русский</option><option value="zh-CN">中文 (简体)</option><option value="zh-TW">正體中文 (繁體)</option></select> <button type="submit" class="button minimal">Change language</button></fieldset></form></div></aside></main><nav id="sidebar-quicklinks" class="sidebar"><h4>Related Topics</h4><div>
<ol><li><a href="/en-US/docs/Web/Security/Certificate_Transparency">Certificate Transparency</a></li><li><a href="/en-US/docs/Web/Security/User_activation">Features gated by user activation</a></li><li><a href="/en-US/docs/Web/Security/Firefox_Security_Guidelines">Firefox Security Guidelines</a></li><li><a href="/en-US/docs/Web/Security/Insecure_passwords">Insecure passwords</a></li><li><a href="/en-US/docs/Web/Security/Mixed_content">Mixed content</a><ol><li><a href="/en-US/docs/Web/Security/Mixed_content">Mixed content</a></li><li><a href="/en-US/docs/Web/Security/Mixed_content/How_to_fix_website_with_mixed_content">How to fix a website with blocked mixed content</a></li></ol></li><li><a href="/en-US/docs/Web/Security/Referer_header:_privacy_and_security_concerns">Referer header: privacy and security concerns</a></li><li><a href="/en-US/docs/Web/Security/Same-origin_policy">Same-origin policy</a></li><li><a href="/en-US/docs/Web/Security/Secure_Contexts">Secure contexts</a><ol><li><a href="/en-US/docs/Web/Security/Secure_Contexts">Secure contexts</a></li><li><a href="/en-US/docs/Web/Security/Secure_Contexts/features_restricted_to_secure_contexts">Features restricted to secure contexts</a></li></ol></li><li><a href="/en-US/docs/Web/Security/Securing_your_site">Securing your site</a><ol><li><a href="/en-US/docs/Web/Security/Securing_your_site">Securing your site</a></li><li><a href="/en-US/docs/Web/Security/Securing_your_site/Turning_off_form_autocompletion">How to turn off form autocompletion</a></li></ol></li><li><a href="/en-US/docs/Web/Security/Subdomain_takeovers">Subdomain takeovers</a></li><li><a href="/en-US/docs/Web/Security/Subresource_Integrity">Subresource Integrity</a></li><li><a href="/en-US/docs/Web/Security/Transport_Layer_Security">Transport Layer Security</a></li><li><a href="/en-US/docs/Web/Security/Types_of_attacks">Types of attacks</a></li><li><a href="/en-US/docs/Web/Security/Weak_Signature_Algorithm">Weak signature algorithms</a></li></ol>
</div></nav></div><footer id="nav-footer" class="page-footer"><div class="content-container"><div class="page-footer-logo"><a href="/en-US/" class="logo" aria-label="MDN Web Docs"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 451.74 135" fill="#fff"><path d="M7.14 8.35v111.06h111.05V8.35zm103.71 56c-.48.92-1 1.79-1.46 2.71a3.44 3.44 0 01-3.54 2 2.4 2.4 0 00-1.55.5c-1.37.9-2.76 1.79-4.18 2.63a7.33 7.33 0 01-6.35.34 29.71 29.71 0 00-10.63-2 11.7 11.7 0 00-9.46 4.31 14.84 14.84 0 00-2.13 4.29c-1.24 3.07-2.3 21.38-2.3 26.05 0 0-17.62-3.42-34.15-20.34l4.31-11.32h-13.5l9.76-10.35h-16.8l9.77-10.34H12.69L30.45 34a40.9 40.9 0 0119.77-10.83c7.1-1.22 8.93-.53 13.31.77l2.43.73.85.25 3.1.95a12.56 12.56 0 006.21.09 11.37 11.37 0 018.25 1 8.24 8.24 0 014.1 6.22 7.29 7.29 0 003.61 5.49 59.45 59.45 0 009.32 4.11c2.27.86 4.54 1.84 6.79 2.72a6.81 6.81 0 012.86 2.06 4.81 4.81 0 011.1 2.73c.14 2 .37 4 .47 6a15.24 15.24 0 01-1.77 8.03zM320.12 39.62a5.42 5.42 0 00-4.53 2.13 7.36 7.36 0 00-1.7 4.43v2.36a6.28 6.28 0 001.7 4.46 5.63 5.63 0 004.3 1.82 5.12 5.12 0 004.57-2.27A9.7 9.7 0 00326 47a8.11 8.11 0 00-1.67-5.52 5.36 5.36 0 00-4.21-1.86zM387.38 39.53a5.52 5.52 0 00-4.7 2.15 8.8 8.8 0 00-1.63 5.49 9.23 9.23 0 001.58 5.45 5.38 5.38 0 004.7 2.25 5.61 5.61 0 004.74-2.2 8.91 8.91 0 001.68-5.59 8.24 8.24 0 00-1.75-5.52 5.76 5.76 0 00-4.62-2.03zM299.47 41.35a4.34 4.34 0 00-4-1.92 4.55 4.55 0 00-3.89 1.73 8.37 8.37 0 00-1.58 4.17h10.48a6.3 6.3 0 00-1.01-3.98zM357.74 30.75H352v23.31h5.72q5.47 0 8.35-3t2.93-8.65q0-5.43-2.88-8.55t-8.38-3.11z"></path><path d="M121.55 8.35v70.8h323V8.35zm42.21 22.45h-4V54h3.68v3.73h-11.25V54h3.31V36.79h-.19l-9.63 19.12h-2.12l-10-19.4h-.19V54h3.45v3.73h-11.15V54h3.68V30.8h-4v-3.73H133l11.66 22.56h.19l11.18-22.56h7.7zm29.12 22.67q-4.11 4.28-11.38 4.28h-14.06v-3.69h3.73V30.75h-3.73v-3.68h13.83q7.59 0 11.66 4.29a15.4 15.4 0 014 11 15.33 15.33 0 01-4.05 11.11zm38.89-22.67h-3.68v27h-2.6L208.08 35h-.19v19h4.67v3.73h-12.22V54h3.49V30.8h-4v-3.73h7.08l16.9 22.09h.19V30.8h-4.58v-3.73h12.32zm43.8 27h-3.31l-7.83-23.18h-.19l-7.55 23.18h-3.35l-8.78-27h-2.65v-3.73H253v3.73h-3.87L255 50.71h.23l6.61-19.91H259v-3.73h11v3.73h-2.78l6.61 20.1h.23l5.43-20.1h-4.15v-3.73h11v3.73h-2.54zm26.71-1.51a9.66 9.66 0 01-6.42 2 10.2 10.2 0 01-7.41-2.74c-1.89-1.82-2.83-4.47-2.83-7.93a12.37 12.37 0 012.64-8.12 9 9 0 017.32-3.21 8.62 8.62 0 016.75 2.69 9.65 9.65 0 012.45 6.52 13.67 13.67 0 01-.28 2.69H290q.29 6.71 6.18 6.7a5.2 5.2 0 003.71-1.18 5.82 5.82 0 001.67-2.83l3.45.71a7.21 7.21 0 01-2.73 4.65zm25.77-1.63c-1.51 2.4-3.92 3.61-7.22 3.61s-5.84-1.29-7.22-3.87c0 .25-.1.82-.21 1.7s-.19 1.44-.22 1.7H309c.16-1 .31-2 .47-3.07a21.42 21.42 0 00.24-3.16v-23h-3.4v-3.3h7.55V40.9a9.76 9.76 0 012.67-3.28 7.33 7.33 0 014.74-1.4 8.48 8.48 0 016.5 2.78q2.55 2.74 2.55 7.74a14.6 14.6 0 01-2.27 7.87zm41.39-1.14q-4.11 4.28-11.37 4.28H344v-3.74h3.73V30.75H344v-3.68h13.83q7.59 0 11.66 4.29a15.41 15.41 0 014.06 11 15.34 15.34 0 01-4.11 11.11zm25.65 1.68a10.53 10.53 0 01-7.9 3.07 10 10 0 01-7.63-3 10.93 10.93 0 01-2.8-7.83 12.13 12.13 0 012.69-7.93q2.69-3.3 8-3.3t8 3.28a12 12 0 012.64 7.76 10.86 10.86 0 01-3 7.9zm22.61.57c-1.4 1.66-3.63 2.5-6.68 2.5a9.58 9.58 0 01-7.15-2.76q-2.72-2.76-2.71-7.91a12.25 12.25 0 012.69-8 9.17 9.17 0 017.5-3.28 15 15 0 013.82.48 10.37 10.37 0 013.5 1.65l.85 5.47-3.35.38-.76-3.54a8.07 8.07 0 00-4.11-1 4.9 4.9 0 00-4.39 2.15 9.93 9.93 0 00-1.41 5.55 8.9 8.9 0 001.5 5.38 5.23 5.23 0 004.44 2c2.92 0 4.67-1.7 5.23-5.1l3.5.71a10.34 10.34 0 01-2.47 5.27zm20.48.75a11.68 11.68 0 01-6.63 1.75 15.52 15.52 0 01-8.26-2.08L424 51l3.26.33-.1 2.74a7 7 0 002.06.66 12.63 12.63 0 002.19.19 8.68 8.68 0 003.66-.75 2.5 2.5 0 001.63-2.36 2.25 2.25 0 00-1.32-2.2 12.65 12.65 0 00-3.28-1 47.39 47.39 0 01-3.9-.82 7.5 7.5 0 01-3.25-1.7 4.67 4.67 0 01-1.33-3.66c0-2.36.88-4 2.62-4.91a12 12 0 015.6-1.37 15 15 0 014.08.55 16.65 16.65 0 013.47 1.39l.47 5.1-3.3.37-.48-3.3a9.5 9.5 0 00-4.06-.9 5.62 5.62 0 00-2.87.66 2.33 2.33 0 00-1.15 2.25 2.13 2.13 0 001.3 2.07 11.91 11.91 0 003.21.92 36.69 36.69 0 013.82.83 7.46 7.46 0 013.21 1.74 4.9 4.9 0 011.3 3.73 5.56 5.56 0 01-2.66 4.91z"></path><path d="M181.17 30.75h-5.71v23.31h5.71q5.47 0 8.36-3t2.88-8.61q0-5.43-2.88-8.55t-8.36-3.15zM121.63 119.32V81.74h114.91v37.58zM153.22 109h-2v-6.85a4.8 4.8 0 00-1.58-4 5.57 5.57 0 00-3.55-1.26 5 5 0 00-4.92 3.26 4.19 4.19 0 00-1.88-2.46 5.82 5.82 0 00-3-.8 4.89 4.89 0 00-4.56 2.56v-2.21h-6.28v3.26h2v8.5h-2v3.23h9.11V109h-2.86v-5.25a4.4 4.4 0 01.69-2.56 2.47 2.47 0 012.21-1q2.57 0 2.56 3.63v8.41h6.29V109h-2v-5.25a4.47 4.47 0 01.67-2.56 2.42 2.42 0 012.19-1q2.63 0 2.63 3.63v8.41h6.28zm9.88-12.07q-4 0-6 2.36a8.41 8.41 0 00-2 5.66 7.25 7.25 0 002.17 5.62 8 8 0 005.65 2 8.54 8.54 0 005.94-2.11 7.27 7.27 0 002.34-5.67 8.21 8.21 0 00-2-5.51q-2.07-2.34-6.1-2.34zm-.1 12.35a3 3 0 01-2.63-1.33 5.68 5.68 0 01-.9-3.26 5 5 0 011-3.28 3.23 3.23 0 012.61-1.18 3.5 3.5 0 012.59 1.08 4.56 4.56 0 011.07 3.31 5.21 5.21 0 01-1 3.41 3.33 3.33 0 01-2.74 1.25zm25-2.3l-3.39-.29-.7 2.32H179l8.32-9.54-.32-2.23h-13.19l-.53 5.25 3.16.34.67-2.36h4.65l-8.25 9.53.44 2.26h13.13zm7.62-9.74h-4.46v5.39h4.46zm0 9.61h-4.46v5.39h4.46zm13.54-17.49h-4.23l-6.48 22.88h4.22zm8.68 0h-4.23l-6.45 22.88h4.19zm15 22.51l-.07-2.26a1.22 1.22 0 01-.56.1c-.69 0-1-.39-1-1.16v-6.49a4.39 4.39 0 00-1.8-3.84 7 7 0 00-4.16-1.28 14.55 14.55 0 00-3.16.3 24.14 24.14 0 00-3.29 1.06l-.56 3.46 3.39.4.5-1.69a2.78 2.78 0 011.08-.37 11.3 11.3 0 011.25-.07c1.19 0 1.89.37 2.09 1.1a8.55 8.55 0 01.3 2.26v.5a8.91 8.91 0 00-1.18-.11h-1.21a12.64 12.64 0 00-4.81.88 3.53 3.53 0 00-2.18 3.64 3.66 3.66 0 001.48 3.33 5.63 5.63 0 003.11 1 4.67 4.67 0 003-.91 6.78 6.78 0 001.8-2 3 3 0 003.33 3 5.54 5.54 0 002.66-.85zm-9.25-2.32a1.69 1.69 0 01-1.36-.52 1.81 1.81 0 01-.43-1.21 1.67 1.67 0 01.86-1.68 4.63 4.63 0 012-.42 7.69 7.69 0 011.07.07l1.06.13a3.58 3.58 0 01-1.08 2.74 3.24 3.24 0 01-2.11.89z"></path></svg></a></div><ul class="link-list-mdn"><li><a href="/en-US/docs/Web">Web Technologies</a></li><li><a href="/en-US/docs/Learn">Learn Web Development</a></li><li><a href="/en-US/docs/MDN/About">About MDN</a></li><li><a href="/en-US/docs/MDN/Feedback">Feedback</a></li></ul><ul class="link-list-moz"><li><a href="https://www.mozilla.org/about/" target="_blank" rel="noopener noreferrer">About</a></li><li><a href="https://shop.spreadshirt.com/mdn-store/" target="_blank" rel="noopener noreferrer">MDN Web Docs Store</a></li><li><a href="https://www.mozilla.org/contact/" target="_blank" rel="noopener noreferrer">Contact Us</a></li><li><a href="https://www.mozilla.org/firefox/?utm_source=developer.mozilla.org&amp;utm_campaign=footer&amp;utm_medium=referral" target="_blank" rel="noopener noreferrer">Firefox</a></li></ul><div class="social social-mdn"><h4>MDN</h4><ul><li><a class="social-icon twitter" href="https://twitter.com/mozdevnet" target="_blank" rel="noopener noreferrer"><span class="visually-hidden">MDN on Twitter</span></a></li><li><a class="social-icon github" href="https://github.com/mdn/" target="_blank" rel="noopener noreferrer"><span class="visually-hidden">MDN on Github</span></a></li></ul></div><div class="social social-moz"><h4>Mozilla</h4><ul><li><a class="social-icon twitter" href="https://twitter.com/mozilla" target="_blank" rel="noopener noreferrer"><span class="visually-hidden">Mozilla on Twitter</span></a></li><li><a class="social-icon instagram" href="https://www.instagram.com/mozillagram/" target="_blank" rel="noopener noreferrer"><span class="visually-hidden">Mozilla on Instagram</span></a></li></ul></div><p id="license" class="footer-license">© 2005-<!-- -->2022<!-- --> Mozilla and individual contributors. Content is available under<!-- --> <a href="/docs/MDN/About#Copyrights_and_licenses">these licenses</a>.</p><ul class="footer-legal"><li><a href="https://www.mozilla.org/about/legal/terms/mozilla" target="_blank" rel="noopener noreferrer">Terms</a></li><li><a href="https://www.mozilla.org/privacy/websites/" target="_blank" rel="noopener noreferrer">Privacy</a></li><li><a href="https://www.mozilla.org/privacy/websites/#cookies" target="_blank" rel="noopener noreferrer">Cookies</a></li></ul></div></footer><div class="page-overlay hidden"></div></div><script type="application/json" id="hydration">{"doc":{"isMarkdown":true,"isTranslated":false,"isActive":true,"flaws":{},"title":"Same-origin policy","mdn_url":"/en-US/docs/Web/Security/Same-origin_policy","locale":"en-US","native":"English (US)","sidebarHTML":"\n<ol><li><a href=\"/en-US/docs/Web/Security/Certificate_Transparency\">Certificate Transparency</a></li><li><a href=\"/en-US/docs/Web/Security/User_activation\">Features gated by user activation</a></li><li><a href=\"/en-US/docs/Web/Security/Firefox_Security_Guidelines\">Firefox Security Guidelines</a></li><li><a href=\"/en-US/docs/Web/Security/Insecure_passwords\">Insecure passwords</a></li><li><a href=\"/en-US/docs/Web/Security/Mixed_content\">Mixed content</a><ol><li><a href=\"/en-US/docs/Web/Security/Mixed_content\">Mixed content</a></li><li><a href=\"/en-US/docs/Web/Security/Mixed_content/How_to_fix_website_with_mixed_content\">How to fix a website with blocked mixed content</a></li></ol></li><li><a href=\"/en-US/docs/Web/Security/Referer_header:_privacy_and_security_concerns\">Referer header: privacy and security concerns</a></li><li><a href=\"/en-US/docs/Web/Security/Same-origin_policy\">Same-origin policy</a></li><li><a href=\"/en-US/docs/Web/Security/Secure_Contexts\">Secure contexts</a><ol><li><a href=\"/en-US/docs/Web/Security/Secure_Contexts\">Secure contexts</a></li><li><a href=\"/en-US/docs/Web/Security/Secure_Contexts/features_restricted_to_secure_contexts\">Features restricted to secure contexts</a></li></ol></li><li><a href=\"/en-US/docs/Web/Security/Securing_your_site\">Securing your site</a><ol><li><a href=\"/en-US/docs/Web/Security/Securing_your_site\">Securing your site</a></li><li><a href=\"/en-US/docs/Web/Security/Securing_your_site/Turning_off_form_autocompletion\">How to turn off form autocompletion</a></li></ol></li><li><a href=\"/en-US/docs/Web/Security/Subdomain_takeovers\">Subdomain takeovers</a></li><li><a href=\"/en-US/docs/Web/Security/Subresource_Integrity\">Subresource Integrity</a></li><li><a href=\"/en-US/docs/Web/Security/Transport_Layer_Security\">Transport Layer Security</a></li><li><a href=\"/en-US/docs/Web/Security/Types_of_attacks\">Types of attacks</a></li><li><a href=\"/en-US/docs/Web/Security/Weak_Signature_Algorithm\">Weak signature algorithms</a></li></ol>\n","body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<p>The <strong>same-origin policy</strong> is a critical security mechanism that restricts how a document or script loaded by one <a href=\"/en-US/docs/Glossary/Origin\">origin</a> can interact with a resource from another origin.</p>\n<p>It helps isolate potentially malicious documents, reducing possible attack vectors. For example, it prevents a malicious website on the Internet from running JS in a browser to read data from a third-party webmail service (which the user is signed into) or a company intranet (which is protected from direct access by the attacker by not having a public IP address) and relaying that data to the attacker.</p>"}},{"type":"prose","value":{"id":"definition_of_an_origin","title":"Definition of an origin","isH3":false,"content":"<p>Two URLs have the <em>same origin</em> if the <a href=\"/en-US/docs/Glossary/Protocol\">protocol</a>, <a href=\"/en-US/docs/Glossary/Port\">port</a> (if specified), and <a href=\"/en-US/docs/Glossary/Host\">host</a> are the same for both. You may see this referenced as the \"scheme/host/port tuple\", or just \"tuple\". (A \"tuple\" is a set of items that together comprise a whole — a generic form for double/triple/quadruple/quintuple/etc.)</p>\n<p>The following table gives examples of origin comparisons with the URL <code>http://store.company.com/dir/page.html</code>:</p>\n<table>\n  <thead>\n    <tr>\n      <th>URL</th>\n      <th>Outcome</th>\n      <th>Reason</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <td><code>http://store.company.com/dir2/other.html</code></td>\n      <td>Same origin</td>\n      <td>Only the path differs</td>\n    </tr>\n    <tr>\n      <td><code>http://store.company.com/dir/inner/another.html</code></td>\n      <td>Same origin</td>\n      <td>Only the path differs</td>\n    </tr>\n    <tr>\n      <td><code>https://store.company.com/page.html</code></td>\n      <td>Failure</td>\n      <td>Different protocol</td>\n    </tr>\n    <tr>\n      <td><code>http://store.company.com:81/dir/page.html</code></td>\n      <td>Failure</td>\n      <td>Different port (<code>http://</code> is port 80 by default)</td>\n    </tr>\n    <tr>\n      <td><code>http://news.company.com/dir/page.html</code></td>\n      <td>Failure</td>\n      <td>Different host</td>\n    </tr>\n  </tbody>\n</table>"}},{"type":"prose","value":{"id":"inherited_origins","title":"Inherited origins","isH3":true,"content":"<p>Scripts executed from pages with an <code>about:blank</code> or <code>javascript:</code> URL inherit the origin of the document containing that URL, since these types of URLs do not contain information about an origin server.</p>\n<p>For example, <code>about:blank</code> is often used as a URL of new, empty popup windows into which the parent script writes content (e.g. via the <a href=\"/en-US/docs/Web/API/Window/open\"><code>Window.open()</code></a> mechanism). If this popup also contains JavaScript, that script would inherit the same origin as the script that created it.</p>\n<p><code>data:</code> URLs get a new, empty, security context.</p>"}},{"type":"prose","value":{"id":"exceptions_in_internet_explorer","title":"Exceptions in Internet Explorer","isH3":true,"content":"<p>Internet Explorer has two major exceptions to the same-origin policy:</p>\n<dl>\n  <dt id=\"trust_zones\">Trust Zones</dt>\n  <dd>\n    <p>If both domains are in the <em>highly trusted zone</em> (e.g. corporate intranet domains), then the same-origin limitations are not applied.</p>\n  </dd>\n  <dt id=\"port\">Port</dt>\n  <dd>\n    <p>IE doesn't include port into same-origin checks. Therefore, <code>https://company.com:81/index.html</code> and <code>https://company.com/index.html</code> are considered the same origin and no restrictions are applied.</p>\n  </dd>\n</dl>\n<p>These exceptions are nonstandard and unsupported in any other browser.</p>"}},{"type":"prose","value":{"id":"file_origins","title":"File origins","isH3":true,"content":"<p>\n  Modern browsers usually treat the origin of files loaded using the <code>file:///</code> schema as <em>opaque origins</em>.\n  What this means is that if a file includes other files from the same folder (say), they are not assumed to come from the same origin, and may trigger <a href=\"/en-US/docs/Glossary/CORS\">CORS</a> errors.\n</p>\n<p>Note that the <a href=\"https://url.spec.whatwg.org/#origin\" class=\"external\" rel=\" noopener\">URL specification</a> states that the origin of files is implementation-dependent, and some browsers may treat files in the same directory or subdirectory as same-origin even though this has <a href=\"https://www.mozilla.org/en-US/security/advisories/mfsa2019-21/#CVE-2019-11730\" class=\"external\" rel=\" noopener\">security implications</a>.</p>"}},{"type":"prose","value":{"id":"changing_origin","title":"Changing origin","isH3":false,"content":"<div class=\"notecard warning\" id=\"sect1\">\n  <p><strong>Warning:</strong> The approach described here (using the <a href=\"/en-US/docs/Web/API/Document/domain\"><code>document.domain</code></a> setter) is deprecated because it undermines the security protections provided by the same origin policy, and complicates the origin model in browsers, leading to interoperability problems and security bugs.</p>\n</div>\n<p>A page may change its own origin, with some limitations. A script can set the value of <a href=\"/en-US/docs/Web/API/Document/domain\"><code>document.domain</code></a> to its current domain or a superdomain of its current domain. If set to a superdomain of the current domain, the shorter superdomain is used for same-origin checks.</p>\n<p>For example, assume a script from the document at <code>http://store.company.com/dir/other.html</code> executes the following:</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code>document<span class=\"token punctuation\">.</span>domain <span class=\"token operator\">=</span> <span class=\"token string\">\"company.com\"</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<p>Afterward, the page can pass the same-origin check with <code>http://company.com/dir/page.html</code> (assuming <code>http://company.com/dir/page.html</code> sets its <code>document.domain</code> to \"<code>company.com</code>\" to indicate that it wishes to allow that - see <a href=\"/en-US/docs/Web/API/Document/domain\"><code>document.domain</code></a> for more). However, <code>company.com</code> could <strong>not</strong> set <code>document.domain</code> to <code>othercompany.com</code>, since that is not a superdomain of <code>company.com</code>.</p>\n<p>The port number is checked separately by the browser. Any call to <code>document.domain</code>, including <code>document.domain = document.domain</code>, causes the port number to be overwritten with <code>null</code>. Therefore, one <strong>cannot</strong> make <code>company.com:8080</code> talk to <code>company.com</code> by only setting <code>document.domain = \"company.com\"</code> in the first. It has to be set in both so their port numbers are both <code>null</code>.</p>\n<p>The mechanism has some limitations. For example, it will throw a \"<code>SecurityError</code>\" <a href=\"/en-US/docs/Web/API/DOMException\"><code>DOMException</code></a> if the <a href=\"/en-US/docs/Web/HTTP/Headers/Feature-Policy/document-domain\"><code>document-domain</code></a> <a href=\"/en-US/docs/Web/HTTP/Headers/Feature-Policy\"><code>Feature-Policy</code></a> is enabled or the document is in a sandboxed <a href=\"/en-US/docs/Web/HTML/Element/iframe\"><code>&lt;iframe&gt;</code></a>, and changing the origin in this way does not affect the origin checks used by many Web APIs (e.g. <a href=\"/en-US/docs/Web/API/Window/localStorage\"><code>localStorage</code></a>, <a href=\"/en-US/docs/Web/API/IndexedDB_API\"><code>indexedDB</code></a>, <a href=\"/en-US/docs/Web/API/BroadcastChannel\"><code>BroadcastChannel</code></a>, <a href=\"/en-US/docs/Web/API/SharedWorker\"><code>SharedWorker</code></a>). A more exhaustive list of failure cases can be found in <a href=\"/en-US/docs/Web/API/Document/domain#failures\">Document.domain &gt; Failures</a>.</p>\n<div class=\"notecard note\" id=\"sect2\">\n  <p><strong>Note:</strong> When using <code>document.domain</code> to allow a subdomain to access its parent, you need to set <code>document.domain</code> to the <em>same value</em> in both the parent domain and the subdomain. This is necessary even if doing so is setting the parent domain back to its original value. Failure to do this may result in permission errors.</p>\n</div>"}},{"type":"prose","value":{"id":"cross-origin_network_access","title":"Cross-origin network access","isH3":false,"content":"<p>The same-origin policy controls interactions between two different origins, such as when you use <a href=\"/en-US/docs/Web/API/XMLHttpRequest\"><code>XMLHttpRequest</code></a> or an <a href=\"/en-US/docs/Web/HTML/Element/img\"><code>&lt;img&gt;</code></a> element. These interactions are typically placed into three categories:</p>\n<ul>\n  <li>Cross-origin <em>writes</em> are typically allowed. Examples are links, redirects, and form submissions. Some HTTP requests require <a href=\"/en-US/docs/Web/HTTP/CORS#preflighted_requests\">preflight</a>.</li>\n  <li>Cross-origin <em>embedding</em> is typically allowed. (Examples are listed below.)</li>\n  <li>Cross-origin <em>reads</em> are typically disallowed, but read access is often leaked by embedding. For example, you can read the dimensions of an embedded image, the actions of an embedded script, or the <a href=\"https://bugzilla.mozilla.org/show_bug.cgi?id=629094\" class=\"external\" rel=\" noopener\">availability of an embedded resource</a>.</li>\n</ul>\n<p>Here are some examples of resources which may be embedded cross-origin:</p>\n<ul>\n  <li>JavaScript with <code>&lt;script src=\"…\"&gt;&lt;/script&gt;</code>. Error details for syntax errors are only available for same-origin scripts.</li>\n  <li>CSS applied with <code>&lt;link rel=\"stylesheet\" href=\"…\"&gt;</code>. Due to the <a href=\"https://scarybeastsecurity.blogspot.com/2009/12/generic-cross-browser-cross-domain.html\" class=\"external\" rel=\" noopener\">relaxed syntax rules</a> of CSS, cross-origin CSS requires a correct <code>Content-Type</code> header. Restrictions vary by browser: <a href=\"https://docs.microsoft.com/previous-versions/windows/internet-explorer/ie-developer/compatibility/gg622939(v=vs.85)\" class=\"external\" rel=\" noopener\">Internet Explorer</a>, <a href=\"https://www.mozilla.org/en-US/security/advisories/mfsa2010-46/\" class=\"external\" rel=\" noopener\">Firefox</a>, <a href=\"https://bugs.chromium.org/p/chromium/issues/detail?id=9877\" class=\"external\" rel=\" noopener\">Chrome</a>, <a href=\"https://support.apple.com/en-us/HT4070\" class=\"external\" rel=\" noopener\">Safari</a> (scroll down to CVE-2010-0051) and <a href=\"https://security.opera.com/cross-domain-data-theft-with-css-load-opera-security-advisories/\" class=\"external\" rel=\" noopener\">Opera</a>.</li>\n  <li>Images displayed by <a href=\"/en-US/docs/Web/HTML/Element/img\"><code>&lt;img&gt;</code></a>.</li>\n  <li>Media played by <a href=\"/en-US/docs/Web/HTML/Element/video\"><code>&lt;video&gt;</code></a> and <a href=\"/en-US/docs/Web/HTML/Element/audio\"><code>&lt;audio&gt;</code></a>.</li>\n  <li>External resources embedded with <a href=\"/en-US/docs/Web/HTML/Element/object\"><code>&lt;object&gt;</code></a> and <a href=\"/en-US/docs/Web/HTML/Element/embed\"><code>&lt;embed&gt;</code></a>.</li>\n  <li>Fonts applied with <a href=\"/en-US/docs/Web/CSS/@font-face\"><code>@font-face</code></a>. Some browsers allow cross-origin fonts, others require same-origin.</li>\n  <li>Anything embedded by <a href=\"/en-US/docs/Web/HTML/Element/iframe\"><code>&lt;iframe&gt;</code></a>. Sites can use the <a href=\"/en-US/docs/Web/HTTP/Headers/X-Frame-Options\"><code>X-Frame-Options</code></a> header to prevent cross-origin framing.</li>\n</ul>"}},{"type":"prose","value":{"id":"how_to_allow_cross-origin_access","title":"How to allow cross-origin access","isH3":true,"content":"<p>Use <a href=\"/en-US/docs/Web/HTTP/CORS\">CORS</a> to allow cross-origin access. CORS is a part of <a href=\"/en-US/docs/Glossary/HTTP\">HTTP</a> that lets servers specify any other hosts from which a browser should permit loading of content.</p>"}},{"type":"prose","value":{"id":"how_to_block_cross-origin_access","title":"How to block cross-origin access","isH3":true,"content":"<ul>\n  <li>To prevent cross-origin writes, check an unguessable token in the request — known as a <a href=\"https://owasp.org/www-community/attacks/csrf\" class=\"external\" rel=\" noopener\">Cross-Site Request Forgery (CSRF)</a> token. You must prevent cross-origin reads of pages that require this token.</li>\n  <li>To prevent cross-origin reads of a resource, ensure that it is not embeddable. It is often necessary to prevent embedding because embedding a resource always leaks some information about it.</li>\n  <li>To prevent cross-origin embeds, ensure that your resource cannot be interpreted as one of the embeddable formats listed above. Browsers may not respect the <code>Content-Type</code> header. For example, if you point a <code>&lt;script&gt;</code> tag at an HTML document, the browser will try to parse the HTML as JavaScript. When your resource is not an entry point to your site, you can also use a CSRF token to prevent embedding.</li>\n</ul>"}},{"type":"prose","value":{"id":"cross-origin_script_api_access","title":"Cross-origin script API access","isH3":false,"content":"<p>JavaScript APIs like <a href=\"/en-US/docs/Web/API/HTMLIFrameElement/contentWindow\" title=\"iframe.contentWindow\"><code>iframe.contentWindow</code></a>, <a href=\"/en-US/docs/Web/API/Window/parent\"><code>window.parent</code></a>, <a href=\"/en-US/docs/Web/API/Window/open\"><code>window.open</code></a>, and <a href=\"/en-US/docs/Web/API/Window/opener\"><code>window.opener</code></a> allow documents to directly reference each other. When two documents do not have the same origin, these references provide very limited access to <a href=\"/en-US/docs/Web/API/Window\"><code>Window</code></a> and <a href=\"/en-US/docs/Web/API/Location\"><code>Location</code></a> objects, as described in the next two sections.</p>\n<p>To communicate between documents from different origins, use <a href=\"/en-US/docs/Web/API/Window/postMessage\"><code>window.postMessage</code></a>.</p>\n<p>Specification: <a href=\"https://html.spec.whatwg.org/multipage/browsers.html#cross-origin-objects\" class=\"external\" rel=\" noopener\">HTML Living Standard § Cross-origin objects</a>.</p>"}},{"type":"prose","value":{"id":"window","title":"Window","isH3":true,"content":"<p>The following cross-origin access to these <code>Window</code> properties is allowed:</p>\n<table>\n  <thead>\n    <tr>\n      <th>Methods</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <td><a href=\"/en-US/docs/Web/API/Window/blur\"><code>window.blur</code></a></td>\n    </tr>\n    <tr>\n      <td><a href=\"/en-US/docs/Web/API/Window/close\"><code>window.close</code></a></td>\n    </tr>\n    <tr>\n      <td><a href=\"/en-US/docs/Web/API/Window/focus\"><code>window.focus</code></a></td>\n    </tr>\n    <tr>\n      <td><a href=\"/en-US/docs/Web/API/Window/postMessage\"><code>window.postMessage</code></a></td>\n    </tr>\n  </tbody>\n</table>\n<table>\n  <thead>\n    <tr>\n      <th>Attributes</th>\n      <th></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <td><a href=\"/en-US/docs/Web/API/Window/closed\"><code>window.closed</code></a></td>\n      <td>Read only.</td>\n    </tr>\n    <tr>\n      <td><a href=\"/en-US/docs/Web/API/Window/frames\"><code>window.frames</code></a></td>\n      <td>Read only.</td>\n    </tr>\n    <tr>\n      <td><a href=\"/en-US/docs/Web/API/Window/length\"><code>window.length</code></a></td>\n      <td>Read only.</td>\n    </tr>\n    <tr>\n      <td><a href=\"/en-US/docs/Web/API/Window/location\"><code>window.location</code></a></td>\n      <td>Read/Write.</td>\n    </tr>\n    <tr>\n      <td><a href=\"/en-US/docs/Web/API/Window/opener\"><code>window.opener</code></a></td>\n      <td>Read only.</td>\n    </tr>\n    <tr>\n      <td><a href=\"/en-US/docs/Web/API/Window/parent\"><code>window.parent</code></a></td>\n      <td>Read only.</td>\n    </tr>\n    <tr>\n      <td><a href=\"/en-US/docs/Web/API/Window/self\"><code>window.self</code></a></td>\n      <td>Read only.</td>\n    </tr>\n    <tr>\n      <td><a href=\"/en-US/docs/Web/API/Window/top\"><code>window.top</code></a></td>\n      <td>Read only.</td>\n    </tr>\n    <tr>\n      <td><a href=\"/en-US/docs/Web/API/Window/window\"><code>window.window</code></a></td>\n      <td>Read only.</td>\n    </tr>\n  </tbody>\n</table>\n<p>Some browsers allow access to more properties than the above.</p>"}},{"type":"prose","value":{"id":"location","title":"Location","isH3":true,"content":"<p>The following cross-origin access to <code>Location</code> properties is allowed:</p>\n<table>\n  <thead>\n    <tr>\n      <th>Methods</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <td><a href=\"/en-US/docs/Web/API/Location/replace\"><code>location.replace</code></a></td>\n    </tr>\n  </tbody>\n</table>\n<table>\n  <thead>\n    <tr>\n      <th>Attributes</th>\n      <th></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <td><a class=\"page-not-created\" title=\"The documentation about this has not yet been written; please consider contributing!\"><code>URLUtils.href</code></a></td>\n      <td>Write-only.</td>\n    </tr>\n  </tbody>\n</table>\n<p>Some browsers allow access to more properties than the above.</p>"}},{"type":"prose","value":{"id":"cross-origin_data_storage_access","title":"Cross-origin data storage access","isH3":false,"content":"<p>Access to data stored in the browser such as <a href=\"/en-US/docs/Web/API/Web_Storage_API\">Web Storage</a> and <a href=\"/en-US/docs/Web/API/IndexedDB_API\">IndexedDB</a> are separated by origin. Each origin gets its own separate storage, and JavaScript in one origin cannot read from or write to the storage belonging to another origin.</p>\n<p><a href=\"/en-US/docs/Glossary/Cookie\">Cookies</a> use a separate definition of origins. A page can set a cookie for its own domain or any parent domain, as long as the parent domain is not a public suffix. Firefox and Chrome use the <a href=\"https://publicsuffix.org/\" class=\"external\" rel=\" noopener\">Public Suffix List</a> to determine if a domain is a public suffix. Internet Explorer uses its own internal method to determine if a domain is a public suffix. The browser will make a cookie available to the given domain including any sub-domains, no matter which protocol (HTTP/HTTPS) or port is used. When you set a cookie, you can limit its availability using the <code>Domain</code>, <code>Path</code>, <code>Secure</code>, and <code>HttpOnly</code> flags. When you read a cookie, you cannot see from where it was set. Even if you use only secure https connections, any cookie you see may have been set using an insecure connection.</p>"}},{"type":"prose","value":{"id":"see_also","title":"See also","isH3":false,"content":"<ul>\n  <li><a href=\"https://www.w3.org/Security/wiki/Same_Origin_Policy\" class=\"external\" rel=\" noopener\">Same Origin Policy at W3C</a></li>\n  <li><a href=\"https://web.dev/same-origin-policy/\" class=\"external\" rel=\" noopener\">Same-origin policy at web.dev</a></li>\n  <li><a href=\"/en-US/docs/Web/HTTP/Headers/Cross-Origin-Resource-Policy\"><code>Cross-Origin-Resource-Policy</code></a></li>\n  <li><a href=\"/en-US/docs/Web/HTTP/Headers/Cross-Origin-Embedder-Policy\"><code>Cross-Origin-Embedder-Policy</code></a></li>\n</ul>"}}],"toc":[{"text":"Definition of an origin","id":"definition_of_an_origin"},{"text":"Changing origin","id":"changing_origin"},{"text":"Cross-origin network access","id":"cross-origin_network_access"},{"text":"Cross-origin script API access","id":"cross-origin_script_api_access"},{"text":"Cross-origin data storage access","id":"cross-origin_data_storage_access"},{"text":"See also","id":"see_also"}],"summary":"The same-origin policy is a critical security mechanism that restricts how a document or script loaded by one origin can interact with a resource from another origin.","popularity":0.0149,"modified":"2022-09-20T02:49:59.000Z","other_translations":[{"title":"Política Same-origin","locale":"es","native":"Español"},{"title":"Same-origin policy","locale":"fr","native":"Français"},{"title":"同一オリジンポリシー","locale":"ja","native":"日本語"},{"title":"동일 출처 정책","locale":"ko","native":"한국어"},{"title":"Same-origin policy","locale":"ru","native":"Русский"},{"title":"浏览器的同源策略","locale":"zh-CN","native":"中文 (简体)"},{"title":"同源政策 (Same-origin policy)","locale":"zh-TW","native":"正體中文 (繁體)"}],"source":{"folder":"en-us/web/security/same-origin_policy","github_url":"https://github.com/mdn/content/blob/style/old/files/en-us/web/security/same-origin_policy/index.md","last_commit_url":"https://github.com/mdn/content/commit/309b7e313af4aebde03f5825ec530db614e2bb16","filename":"index.md"},"parents":[{"uri":"/en-US/docs/Web","title":"Web technology for developers"},{"uri":"/en-US/docs/Web/Security","title":"Web security"},{"uri":"/en-US/docs/Web/Security/Same-origin_policy","title":"Same-origin policy"}],"pageTitle":"Same-origin policy - Web security | MDN","noIndexing":false}}</script></body></html>