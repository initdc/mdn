{"doc":{"isMarkdown":true,"isTranslated":false,"isActive":true,"flaws":{},"title":"HTTP caching","mdn_url":"/en-US/docs/Web/HTTP/Caching","locale":"en-US","native":"English (US)","sidebarHTML":"\n  <ol>\n    <li><a href=\"/en-US/docs/Web/HTTP\"><strong><em>HTTP</em></strong></a></li>\n    <li><strong>Guides:</strong></li>\n    <li class=\"toggle\">\n        <details>\n            <summary>Resources and URIs</summary>\n            <ol>\n                <li><a href=\"/en-US/docs/Web/HTTP/Basics_of_HTTP/Identifying_resources_on_the_Web\">Identifying resources on the Web</a></li>\n                <li><a href=\"/en-US/docs/Web/HTTP/Basics_of_HTTP/Data_URIs\">Data URIs</a></li>\n                <li><a href=\"/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_Types\">Introduction to MIME types</a></li>\n                <li><a href=\"/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types\">Common MIME types</a></li>\n                <li><a href=\"/en-US/docs/Web/HTTP/Basics_of_HTTP/Choosing_between_www_and_non-www_URLs\">Choosing between www and non-www URLs</a></li>\n            </ol>\n        </details>\n    </li>\n    <li class=\"toggle\">\n        <details>\n            <summary>HTTP guide</summary>\n            <ol>\n                <li><a href=\"/en-US/docs/Web/HTTP/Basics_of_HTTP\">Basics of HTTP</a></li>\n                <li><a href=\"/en-US/docs/Web/HTTP/Overview\">Overview of HTTP</a></li>\n                <li><a href=\"/en-US/docs/Web/HTTP/Basics_of_HTTP/Evolution_of_HTTP\">Evolution of HTTP</a></li>\n                <li><a href=\"/en-US/docs/Web/HTTP/Messages\">HTTP Messages</a></li>\n                <li><a href=\"/en-US/docs/Web/HTTP/Session\">A typical HTTP session</a></li>\n                <li><a href=\"/en-US/docs/Web/HTTP/Connection_management_in_HTTP_1.x\">Connection management in HTTP/1.x</a></li>\n                <li><a href=\"/en-US/docs/Web/HTTP/Protocol_upgrade_mechanism\">Protocol upgrade mechanism</a></li>\n            </ol>\n        </details>\n    </li>\n    <li class=\"toggle\">\n        <details>\n            <summary>HTTP security</summary>\n            <ol>\n                <li><a href=\"/en-US/docs/Web/HTTP/CSP\">Content Security Policy (CSP)</a></li>\n                <li><a href=\"/en-US/docs/Web/HTTP/Public_Key_Pinning\">HTTP Public Key Pinning (HPKP)</a></li>\n                <li><a href=\"/en-US/docs/Web/HTTP/Headers/Strict-Transport-Security\">HTTP Strict Transport Security (HSTS)</a></li>\n                <li><a href=\"/en-US/docs/Web/HTTP/Cookies#Secure_and_HttpOnly_cookies\">Cookie security</a></li>\n                <li><a href=\"/en-US/docs/Web/HTTP/Headers/X-Content-Type-Options\">X-Content-Type-Options</a></li>\n                <li><a href=\"/en-US/docs/Web/HTTP/Headers/X-Frame-Options\">X-Frame-Options</a></li>\n                <li><a href=\"/en-US/docs/Web/HTTP/Headers/X-XSS-Protection\">X-XSS-Protection</a></li>\n                <li><a href=\"https://wiki.mozilla.org/Security/Guidelines/Web_Security\">Mozilla web security guidelines</a></li>\n                <li><a href=\"https://observatory.mozilla.org/\">Mozilla Observatory</a></li>\n            </ol>\n        </details>\n    </li>\n\n    <li><a href=\"/en-US/docs/Web/HTTP/CORS\">HTTP access control (CORS)</a></li>\n    <li><a href=\"/en-US/docs/Web/HTTP/Authentication\">HTTP authentication</a></li>\n    <li><a href=\"/en-US/docs/Web/HTTP/Caching\">HTTP caching</a></li>\n    <li><a href=\"/en-US/docs/Web/HTTP/Compression\">HTTP compression</a></li>\n    <li><a href=\"/en-US/docs/Web/HTTP/Conditional_requests\">HTTP conditional requests</a></li>\n    <li><a href=\"/en-US/docs/Web/HTTP/Content_negotiation\">HTTP content negotiation</a></li>\n    <li><a href=\"/en-US/docs/Web/HTTP/Cookies\">HTTP cookies</a></li>\n    <li><a href=\"/en-US/docs/Web/HTTP/Range_requests\">HTTP range requests</a></li>\n    <li><a href=\"/en-US/docs/Web/HTTP/Redirections\">HTTP redirects</a></li>\n    <li><a href=\"/en-US/docs/Web/HTTP/Resources_and_specifications\">HTTP specifications</a></li>\n    <li><a href=\"/en-US/docs/Web/HTTP/Feature_Policy\">Feature policy</a></li>\n    <li><strong>References:</strong></li>\n    <li class=\"toggle\">\n        <details>\n            <summary>HTTP headers</summary>\n            <ol><li><svg class=\"icon icon-nonstandard\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-nonstandard\"></use>\n</svg><svg class=\"icon icon-deprecated\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-deprecated\"></use>\n</svg><a href=\"/en-US/docs/Web/HTTP/Headers/Accept-CH-Lifetime\"><code>Accept-CH-Lifetime</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Headers/Accept-CH\"><code>Accept-CH</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Headers/Accept-Charset\"><code>Accept-Charset</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Headers/Accept-Encoding\"><code>Accept-Encoding</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Headers/Accept-Language\"><code>Accept-Language</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Headers/Accept-Patch\"><code>Accept-Patch</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Headers/Accept-Post\"><code>Accept-Post</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Headers/Accept-Ranges\"><code>Accept-Ranges</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Headers/Accept\"><code>Accept</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Headers/Access-Control-Allow-Credentials\"><code>Access-Control-Allow-Credentials</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Headers/Access-Control-Allow-Headers\"><code>Access-Control-Allow-Headers</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Headers/Access-Control-Allow-Methods\"><code>Access-Control-Allow-Methods</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Headers/Access-Control-Allow-Origin\"><code>Access-Control-Allow-Origin</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Headers/Access-Control-Expose-Headers\"><code>Access-Control-Expose-Headers</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Headers/Access-Control-Max-Age\"><code>Access-Control-Max-Age</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Headers/Access-Control-Request-Headers\"><code>Access-Control-Request-Headers</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Headers/Access-Control-Request-Method\"><code>Access-Control-Request-Method</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Headers/Age\"><code>Age</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Headers/Allow\"><code>Allow</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Headers/Alt-Svc\"><code>Alt-Svc</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Headers/Authorization\"><code>Authorization</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Headers/Cache-Control\"><code>Cache-Control</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Headers/Clear-Site-Data\"><code>Clear-Site-Data</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Headers/Connection\"><code>Connection</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Headers/Content-Disposition\"><code>Content-Disposition</code></a></li><li><svg class=\"icon icon-nonstandard\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-nonstandard\"></use>\n</svg><svg class=\"icon icon-deprecated\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-deprecated\"></use>\n</svg><a href=\"/en-US/docs/Web/HTTP/Headers/Content-DPR\"><code>Content-DPR</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Headers/Content-Encoding\"><code>Content-Encoding</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Headers/Content-Language\"><code>Content-Language</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Headers/Content-Length\"><code>Content-Length</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Headers/Content-Location\"><code>Content-Location</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Headers/Content-Range\"><code>Content-Range</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Headers/Content-Security-Policy-Report-Only\"><code>Content-Security-Policy-Report-Only</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Headers/Content-Security-Policy\"><code>Content-Security-Policy</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Headers/Content-Type\"><code>Content-Type</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Headers/Cookie\"><code>Cookie</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Headers/Cross-Origin-Embedder-Policy\"><code>Cross-Origin-Embedder-Policy</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Headers/Cross-Origin-Opener-Policy\"><code>Cross-Origin-Opener-Policy</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Headers/Cross-Origin-Resource-Policy\"><code>Cross-Origin-Resource-Policy</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Headers/Date\"><code>Date</code></a></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><a href=\"/en-US/docs/Web/HTTP/Headers/Device-Memory\"><code>Device-Memory</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Headers/Digest\"><code>Digest</code></a></li><li><svg class=\"icon icon-deprecated\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-deprecated\"></use>\n</svg><a href=\"/en-US/docs/Web/HTTP/Headers/DNT\"><code>DNT</code></a></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><a href=\"/en-US/docs/Web/HTTP/Headers/Downlink\"><code>Downlink</code></a></li><li><svg class=\"icon icon-nonstandard\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-nonstandard\"></use>\n</svg><svg class=\"icon icon-deprecated\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-deprecated\"></use>\n</svg><a href=\"/en-US/docs/Web/HTTP/Headers/DPR\"><code>DPR</code></a></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><a href=\"/en-US/docs/Web/HTTP/Headers/Early-Data\"><code>Early-Data</code></a></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><a href=\"/en-US/docs/Web/HTTP/Headers/ECT\"><code>ECT</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Headers/ETag\"><code>ETag</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Headers/Expect-CT\"><code>Expect-CT</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Headers/Expect\"><code>Expect</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Headers/Expires\"><code>Expires</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Headers/Feature-Policy\"><code>Feature-Policy</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Headers/Forwarded\"><code>Forwarded</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Headers/From\"><code>From</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Headers/Host\"><code>Host</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Headers/If-Match\"><code>If-Match</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Headers/If-Modified-Since\"><code>If-Modified-Since</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Headers/If-None-Match\"><code>If-None-Match</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Headers/If-Range\"><code>If-Range</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Headers/If-Unmodified-Since\"><code>If-Unmodified-Since</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Headers/Keep-Alive\"><code>Keep-Alive</code></a></li><li><svg class=\"icon icon-nonstandard\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-nonstandard\"></use>\n</svg><svg class=\"icon icon-deprecated\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-deprecated\"></use>\n</svg><a href=\"/en-US/docs/Web/HTTP/Headers/Large-Allocation\"><code>Large-Allocation</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Headers/Last-Modified\"><code>Last-Modified</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Headers/Link\"><code>Link</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Headers/Location\"><code>Location</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Headers/Max-Forwards\"><code>Max-Forwards</code></a></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><a href=\"/en-US/docs/Web/HTTP/Headers/NEL\"><code>NEL</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Headers/Origin\"><code>Origin</code></a></li><li><svg class=\"icon icon-deprecated\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-deprecated\"></use>\n</svg><a href=\"/en-US/docs/Web/HTTP/Headers/Pragma\"><code>Pragma</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Headers/Proxy-Authenticate\"><code>Proxy-Authenticate</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Headers/Proxy-Authorization\"><code>Proxy-Authorization</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Headers/Range\"><code>Range</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Headers/Referer\"><code>Referer</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Headers/Referrer-Policy\"><code>Referrer-Policy</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Headers/Retry-After\"><code>Retry-After</code></a></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><a href=\"/en-US/docs/Web/HTTP/Headers/RTT\"><code>RTT</code></a></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><a href=\"/en-US/docs/Web/HTTP/Headers/Save-Data\"><code>Save-Data</code></a></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><a href=\"/en-US/docs/Web/HTTP/Headers/Sec-CH-UA-Arch\"><code>Sec-CH-UA-Arch</code></a></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><a href=\"/en-US/docs/Web/HTTP/Headers/Sec-CH-UA-Bitness\"><code>Sec-CH-UA-Bitness</code></a></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><a href=\"/en-US/docs/Web/HTTP/Headers/Sec-CH-UA-Full-Version-List\"><code>Sec-CH-UA-Full-Version-List</code></a></li><li><svg class=\"icon icon-deprecated\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-deprecated\"></use>\n</svg><a href=\"/en-US/docs/Web/HTTP/Headers/Sec-CH-UA-Full-Version\"><code>Sec-CH-UA-Full-Version</code></a></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><a href=\"/en-US/docs/Web/HTTP/Headers/Sec-CH-UA-Mobile\"><code>Sec-CH-UA-Mobile</code></a></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><a href=\"/en-US/docs/Web/HTTP/Headers/Sec-CH-UA-Model\"><code>Sec-CH-UA-Model</code></a></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><a href=\"/en-US/docs/Web/HTTP/Headers/Sec-CH-UA-Platform-Version\"><code>Sec-CH-UA-Platform-Version</code></a></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><a href=\"/en-US/docs/Web/HTTP/Headers/Sec-CH-UA-Platform\"><code>Sec-CH-UA-Platform</code></a></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><a href=\"/en-US/docs/Web/HTTP/Headers/Sec-CH-UA\"><code>Sec-CH-UA</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Headers/Sec-Fetch-Dest\"><code>Sec-Fetch-Dest</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Headers/Sec-Fetch-Mode\"><code>Sec-Fetch-Mode</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Headers/Sec-Fetch-Site\"><code>Sec-Fetch-Site</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Headers/Sec-Fetch-User\"><code>Sec-Fetch-User</code></a></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><svg class=\"icon icon-nonstandard\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-nonstandard\"></use>\n</svg><a href=\"/en-US/docs/Web/HTTP/Headers/Sec-GPC\"><code>Sec-GPC</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Headers/Sec-WebSocket-Accept\"><code>Sec-WebSocket-Accept</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Headers/Server-Timing\"><code>Server-Timing</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Headers/Server\"><code>Server</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Headers/Service-Worker-Navigation-Preload\"><code>Service-Worker-Navigation-Preload</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Headers/Set-Cookie\"><code>Set-Cookie</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Headers/SourceMap\"><code>SourceMap</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Headers/Strict-Transport-Security\"><code>Strict-Transport-Security</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Headers/TE\"><code>TE</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Headers/Timing-Allow-Origin\"><code>Timing-Allow-Origin</code></a></li><li><svg class=\"icon icon-deprecated\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-deprecated\"></use>\n</svg><a href=\"/en-US/docs/Web/HTTP/Headers/Tk\"><code>Tk</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Headers/Trailer\"><code>Trailer</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Headers/Transfer-Encoding\"><code>Transfer-Encoding</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Headers/Upgrade-Insecure-Requests\"><code>Upgrade-Insecure-Requests</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Headers/Upgrade\"><code>Upgrade</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Headers/User-Agent\"><code>User-Agent</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Headers/Vary\"><code>Vary</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Headers/Via\"><code>Via</code></a></li><li><svg class=\"icon icon-nonstandard\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-nonstandard\"></use>\n</svg><svg class=\"icon icon-deprecated\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-deprecated\"></use>\n</svg><a href=\"/en-US/docs/Web/HTTP/Headers/Viewport-Width\"><code>Viewport-Width</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Headers/Want-Digest\"><code>Want-Digest</code></a></li><li><svg class=\"icon icon-deprecated\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-deprecated\"></use>\n</svg><a href=\"/en-US/docs/Web/HTTP/Headers/Warning\"><code>Warning</code></a></li><li><svg class=\"icon icon-nonstandard\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-nonstandard\"></use>\n</svg><svg class=\"icon icon-deprecated\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-deprecated\"></use>\n</svg><a href=\"/en-US/docs/Web/HTTP/Headers/Width\"><code>Width</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Headers/WWW-Authenticate\"><code>WWW-Authenticate</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Headers/X-Content-Type-Options\"><code>X-Content-Type-Options</code></a></li><li><svg class=\"icon icon-nonstandard\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-nonstandard\"></use>\n</svg><a href=\"/en-US/docs/Web/HTTP/Headers/X-DNS-Prefetch-Control\"><code>X-DNS-Prefetch-Control</code></a></li><li><svg class=\"icon icon-nonstandard\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-nonstandard\"></use>\n</svg><a href=\"/en-US/docs/Web/HTTP/Headers/X-Forwarded-For\"><code>X-Forwarded-For</code></a></li><li><svg class=\"icon icon-nonstandard\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-nonstandard\"></use>\n</svg><a href=\"/en-US/docs/Web/HTTP/Headers/X-Forwarded-Host\"><code>X-Forwarded-Host</code></a></li><li><svg class=\"icon icon-nonstandard\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-nonstandard\"></use>\n</svg><a href=\"/en-US/docs/Web/HTTP/Headers/X-Forwarded-Proto\"><code>X-Forwarded-Proto</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Headers/X-Frame-Options\"><code>X-Frame-Options</code></a></li><li><svg class=\"icon icon-nonstandard\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-nonstandard\"></use>\n</svg><a href=\"/en-US/docs/Web/HTTP/Headers/X-XSS-Protection\"><code>X-XSS-Protection</code></a></li></ol>\n        </details>\n    </li>\n    <li class=\"toggle\">\n        <details>\n            <summary>HTTP request methods</summary>\n            <ol><li><a href=\"/en-US/docs/Web/HTTP/Methods/CONNECT\"><code>CONNECT</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Methods/DELETE\"><code>DELETE</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Methods/GET\"><code>GET</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Methods/HEAD\"><code>HEAD</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Methods/OPTIONS\"><code>OPTIONS</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Methods/PATCH\"><code>PATCH</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Methods/POST\"><code>POST</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Methods/PUT\"><code>PUT</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Methods/TRACE\"><code>TRACE</code></a></li></ol>\n        </details>\n    </li>\n    <li class=\"toggle\">\n        <details>\n          <summary>HTTP response status codes</summary>\n          <ol><li><a href=\"/en-US/docs/Web/HTTP/Status/100\"><code>100 Continue</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Status/101\"><code>101 Switching Protocols</code></a></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><a href=\"/en-US/docs/Web/HTTP/Status/103\"><code>103 Early Hints</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Status/200\"><code>200 OK</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Status/201\"><code>201 Created</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Status/202\"><code>202 Accepted</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Status/203\"><code>203 Non-Authoritative Information</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Status/204\"><code>204 No Content</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Status/205\"><code>205 Reset Content</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Status/206\"><code>206 Partial Content</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Status/300\"><code>300 Multiple Choices</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Status/301\"><code>301 Moved Permanently</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Status/302\"><code>302 Found</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Status/303\"><code>303 See Other</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Status/304\"><code>304 Not Modified</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Status/307\"><code>307 Temporary Redirect</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Status/308\"><code>308 Permanent Redirect</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Status/400\"><code>400 Bad Request</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Status/401\"><code>401 Unauthorized</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Status/402\"><code>402 Payment Required</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Status/403\"><code>403 Forbidden</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Status/404\"><code>404 Not Found</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Status/405\"><code>405 Method Not Allowed</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Status/406\"><code>406 Not Acceptable</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Status/407\"><code>407 Proxy Authentication Required</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Status/408\"><code>408 Request Timeout</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Status/409\"><code>409 Conflict</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Status/410\"><code>410 Gone</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Status/411\"><code>411 Length Required</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Status/412\"><code>412 Precondition Failed</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Status/413\"><code>413 Payload Too Large</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Status/414\"><code>414 URI Too Long</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Status/415\"><code>415 Unsupported Media Type</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Status/416\"><code>416 Range Not Satisfiable</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Status/417\"><code>417 Expectation Failed</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Status/418\"><code>418 I'm a teapot</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Status/422\"><code>422 Unprocessable Entity</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Status/425\"><code>425 Too Early</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Status/426\"><code>426 Upgrade Required</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Status/428\"><code>428 Precondition Required</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Status/429\"><code>429 Too Many Requests</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Status/431\"><code>431 Request Header Fields Too Large</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Status/451\"><code>451 Unavailable For Legal Reasons</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Status/500\"><code>500 Internal Server Error</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Status/501\"><code>501 Not Implemented</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Status/502\"><code>502 Bad Gateway</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Status/503\"><code>503 Service Unavailable</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Status/504\"><code>504 Gateway Timeout</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Status/505\"><code>505 HTTP Version Not Supported</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Status/506\"><code>506 Variant Also Negotiates</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Status/507\"><code>507 Insufficient Storage</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Status/508\"><code>508 Loop Detected</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Status/510\"><code>510 Not Extended</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Status/511\"><code>511 Network Authentication Required</code></a></li></ol>\n        </details>\n    </li>\n    <li class=\"toggle\">\n        <details>\n          <summary>CSP directives</summary>\n          <ol><li><a href=\"/en-US/docs/Web/HTTP/Headers/Content-Security-Policy/base-uri\"><code>CSP: base-uri</code></a></li><li><svg class=\"icon icon-deprecated\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-deprecated\"></use>\n</svg><a href=\"/en-US/docs/Web/HTTP/Headers/Content-Security-Policy/block-all-mixed-content\"><code>CSP: block-all-mixed-content</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Headers/Content-Security-Policy/child-src\"><code>CSP: child-src</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Headers/Content-Security-Policy/connect-src\"><code>CSP: connect-src</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Headers/Content-Security-Policy/default-src\"><code>CSP: default-src</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Headers/Content-Security-Policy/font-src\"><code>CSP: font-src</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Headers/Content-Security-Policy/form-action\"><code>CSP: form-action</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Headers/Content-Security-Policy/frame-ancestors\"><code>CSP: frame-ancestors</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Headers/Content-Security-Policy/frame-src\"><code>CSP: frame-src</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Headers/Content-Security-Policy/img-src\"><code>CSP: img-src</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Headers/Content-Security-Policy/manifest-src\"><code>CSP: manifest-src</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Headers/Content-Security-Policy/media-src\"><code>CSP: media-src</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Headers/Content-Security-Policy/object-src\"><code>CSP: object-src</code></a></li><li><svg class=\"icon icon-nonstandard\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-nonstandard\"></use>\n</svg><svg class=\"icon icon-deprecated\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-deprecated\"></use>\n</svg><a href=\"/en-US/docs/Web/HTTP/Headers/Content-Security-Policy/plugin-types\"><code>CSP: plugin-types</code></a></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><a href=\"/en-US/docs/Web/HTTP/Headers/Content-Security-Policy/prefetch-src\"><code>CSP: prefetch-src</code></a></li><li><svg class=\"icon icon-nonstandard\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-nonstandard\"></use>\n</svg><svg class=\"icon icon-deprecated\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-deprecated\"></use>\n</svg><a href=\"/en-US/docs/Web/HTTP/Headers/Content-Security-Policy/referrer\"><code>CSP: referrer</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Headers/Content-Security-Policy/report-to\"><code>CSP: report-to</code></a></li><li><svg class=\"icon icon-deprecated\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-deprecated\"></use>\n</svg><a href=\"/en-US/docs/Web/HTTP/Headers/Content-Security-Policy/report-uri\"><code>CSP: report-uri</code></a></li><li><svg class=\"icon icon-nonstandard\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-nonstandard\"></use>\n</svg><svg class=\"icon icon-deprecated\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-deprecated\"></use>\n</svg><a href=\"/en-US/docs/Web/HTTP/Headers/Content-Security-Policy/require-sri-for\"><code>CSP: require-sri-for</code></a></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><a href=\"/en-US/docs/Web/HTTP/Headers/Content-Security-Policy/require-trusted-types-for\"><code>CSP: require-trusted-types-for</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Headers/Content-Security-Policy/sandbox\"><code>CSP: sandbox</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Headers/Content-Security-Policy/script-src-attr\"><code>CSP: script-src-attr</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Headers/Content-Security-Policy/script-src-elem\"><code>CSP: script-src-elem</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Headers/Content-Security-Policy/script-src\"><code>CSP: script-src</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Headers/Content-Security-Policy/Sources\"><code>CSP source values</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Headers/Content-Security-Policy/style-src-attr\"><code>CSP: style-src-attr</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Headers/Content-Security-Policy/style-src-elem\"><code>CSP: style-src-elem</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Headers/Content-Security-Policy/style-src\"><code>CSP: style-src</code></a></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><a href=\"/en-US/docs/Web/HTTP/Headers/Content-Security-Policy/trusted-types\"><code>CSP: trusted-types</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Headers/Content-Security-Policy/upgrade-insecure-requests\"><code>CSP: upgrade-insecure-requests</code></a></li><li><a href=\"/en-US/docs/Web/HTTP/Headers/Content-Security-Policy/worker-src\"><code>CSP: worker-src</code></a></li></ol>\n        </details>\n    </li>\n    <li class=\"toggle\">\n        <details>\n          <summary>CORS errors</summary>\n          <ol><li><a href=\"/en-US/docs/Web/HTTP/CORS/Errors/CORSAllowOriginNotMatchingOrigin\">Reason: CORS header 'Access-Control-Allow-Origin' does not match 'xyz'</a></li><li><a href=\"/en-US/docs/Web/HTTP/CORS/Errors/CORSDidNotSucceed\">Reason: CORS request did not succeed</a></li><li><a href=\"/en-US/docs/Web/HTTP/CORS/Errors/CORSDisabled\">Reason: CORS disabled</a></li><li><a href=\"/en-US/docs/Web/HTTP/CORS/Errors/CORSExternalRedirectNotAllowed\">Reason: CORS request external redirect not allowed</a></li><li><a href=\"/en-US/docs/Web/HTTP/CORS/Errors/CORSInvalidAllowHeader\">Reason: invalid token 'xyz' in CORS header 'Access-Control-Allow-Headers'</a></li><li><a href=\"/en-US/docs/Web/HTTP/CORS/Errors/CORSInvalidAllowMethod\">Reason: invalid token 'xyz' in CORS header 'Access-Control-Allow-Methods'</a></li><li><a href=\"/en-US/docs/Web/HTTP/CORS/Errors/CORSMethodNotFound\">Reason: Did not find method in CORS header 'Access-Control-Allow-Methods'</a></li><li><a href=\"/en-US/docs/Web/HTTP/CORS/Errors/CORSMIssingAllowCredentials\">Reason: expected 'true' in CORS header 'Access-Control-Allow-Credentials'</a></li><li><a href=\"/en-US/docs/Web/HTTP/CORS/Errors/CORSMissingAllowHeaderFromPreflight\">Reason: missing token 'xyz' in CORS header 'Access-Control-Allow-Headers' from CORS preflight channel</a></li><li><a href=\"/en-US/docs/Web/HTTP/CORS/Errors/CORSMissingAllowOrigin\">Reason: CORS header 'Access-Control-Allow-Origin' missing</a></li><li><a href=\"/en-US/docs/Web/HTTP/CORS/Errors/CORSMultipleAllowOriginNotAllowed\">Reason: Multiple CORS header 'Access-Control-Allow-Origin' not allowed</a></li><li><a href=\"/en-US/docs/Web/HTTP/CORS/Errors/CORSNotSupportingCredentials\">Reason: Credential is not supported if the CORS header 'Access-Control-Allow-Origin' is '*'</a></li><li><a href=\"/en-US/docs/Web/HTTP/CORS/Errors/CORSOriginHeaderNotAdded\">Reason: CORS header 'Origin' cannot be added</a></li><li><a href=\"/en-US/docs/Web/HTTP/CORS/Errors/CORSPreflightDidNotSucceed\">Reason: CORS preflight channel did not succeed</a></li><li><a href=\"/en-US/docs/Web/HTTP/CORS/Errors/CORSRequestNotHttp\">Reason: CORS request not HTTP</a></li></ol>\n        </details>\n    </li>\n    <li class=\"toggle\">\n        <details>\n          <summary>Feature-Policy directives</summary>\n          <ol><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><a href=\"/en-US/docs/Web/HTTP/Headers/Feature-Policy/accelerometer\">Feature-Policy: accelerometer</a></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><a href=\"/en-US/docs/Web/HTTP/Headers/Feature-Policy/ambient-light-sensor\">Feature-Policy: ambient-light-sensor</a></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><a href=\"/en-US/docs/Web/HTTP/Headers/Feature-Policy/autoplay\">Feature-Policy: autoplay</a></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><a href=\"/en-US/docs/Web/HTTP/Headers/Feature-Policy/battery\">Feature-Policy: battery</a></li><li><a href=\"/en-US/docs/Web/HTTP/Headers/Feature-Policy/camera\">Feature-Policy: camera</a></li><li><a href=\"/en-US/docs/Web/HTTP/Headers/Feature-Policy/display-capture\">Feature-Policy: display-capture</a></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><a href=\"/en-US/docs/Web/HTTP/Headers/Feature-Policy/document-domain\">Feature-Policy: document-domain</a></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><a href=\"/en-US/docs/Web/HTTP/Headers/Feature-Policy/encrypted-media\">Feature-Policy: encrypted-media</a></li><li><a href=\"/en-US/docs/Web/HTTP/Headers/Feature-Policy/fullscreen\">Feature-Policy: fullscreen</a></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><a href=\"/en-US/docs/Web/HTTP/Headers/Feature-Policy/gamepad\">Feature-Policy: gamepad</a></li><li><a href=\"/en-US/docs/Web/HTTP/Headers/Feature-Policy/geolocation\">Feature-Policy: geolocation</a></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><a href=\"/en-US/docs/Web/HTTP/Headers/Feature-Policy/gyroscope\">Feature-Policy: gyroscope</a></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><svg class=\"icon icon-nonstandard\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-nonstandard\"></use>\n</svg><a href=\"/en-US/docs/Web/HTTP/Headers/Feature-Policy/layout-animations\">Feature-Policy: layout-animations</a></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><svg class=\"icon icon-nonstandard\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-nonstandard\"></use>\n</svg><a href=\"/en-US/docs/Web/HTTP/Headers/Feature-Policy/legacy-image-formats\">Feature-Policy: legacy-image-formats</a></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><a href=\"/en-US/docs/Web/HTTP/Headers/Feature-Policy/magnetometer\">Feature-Policy: magnetometer</a></li><li><a href=\"/en-US/docs/Web/HTTP/Headers/Feature-Policy/microphone\">Feature-Policy: microphone</a></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><a href=\"/en-US/docs/Web/HTTP/Headers/Feature-Policy/midi\">Feature-Policy: midi</a></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><svg class=\"icon icon-nonstandard\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-nonstandard\"></use>\n</svg><a href=\"/en-US/docs/Web/HTTP/Headers/Feature-Policy/oversized-images\">Feature-Policy: oversized-images</a></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><a href=\"/en-US/docs/Web/HTTP/Headers/Feature-Policy/payment\">Feature-Policy: payment</a></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><a href=\"/en-US/docs/Web/HTTP/Headers/Feature-Policy/picture-in-picture\">Feature-Policy: picture-in-picture</a></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><a href=\"/en-US/docs/Web/HTTP/Headers/Feature-Policy/publickey-credentials-get\">Feature-Policy: publickey-credentials-get</a></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><a href=\"/en-US/docs/Web/HTTP/Headers/Feature-Policy/screen-wake-lock\">Feature-Policy: screen-wake-lock</a></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><a href=\"/en-US/docs/Web/HTTP/Headers/Feature-Policy/speaker-selection\">Feature-Policy: speaker-selection</a></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><svg class=\"icon icon-nonstandard\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-nonstandard\"></use>\n</svg><a href=\"/en-US/docs/Web/HTTP/Headers/Feature-Policy/sync-xhr\">Feature-Policy: sync-xhr</a></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><svg class=\"icon icon-nonstandard\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-nonstandard\"></use>\n</svg><a href=\"/en-US/docs/Web/HTTP/Headers/Feature-Policy/unoptimized-images\">Feature-Policy: unoptimized-images</a></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><svg class=\"icon icon-nonstandard\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-nonstandard\"></use>\n</svg><a href=\"/en-US/docs/Web/HTTP/Headers/Feature-Policy/unsized-media\">Feature-Policy: unsized-media</a></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><a href=\"/en-US/docs/Web/HTTP/Headers/Feature-Policy/usb\">Feature-Policy: usb</a></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><a href=\"/en-US/docs/Web/HTTP/Headers/Feature-Policy/web-share\">Feature-Policy: web-share</a></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><a href=\"/en-US/docs/Web/HTTP/Headers/Feature-Policy/xr-spatial-tracking\">Feature-Policy: xr-spatial-tracking</a></li></ol>\n        </details>\n    </li>\n  </ol>\n","body":[{"type":"prose","value":{"id":"overview","title":"Overview","isH3":false,"content":"<p>The HTTP cache stores a response associated with a request and reuses the stored response for subsequent requests.</p>\n<p>There are several advantages to reusability. First, since there is no need to deliver the request to the origin server, then the closer the client and cache are, the faster the response will be. The most typical example is when the browser itself stores a cache for browser requests.</p>\n<p>Also, when a response is reusable, the origin server does not need to process the request — so it does not need to parse and route the request, restore the session based on the cookie, query the DB for results, or render the template engine. That reduces the load on the server.</p>\n<p>Proper operation of the cache is critical to the health of the system.</p>"}},{"type":"prose","value":{"id":"types_of_caches","title":"Types of caches","isH3":false,"content":"<p>In the <a href=\"https://httpwg.org/specs/rfc9111.html\" class=\"external\" rel=\" noopener\">HTTP Caching</a> spec, there are two main types of caches: <strong>private caches</strong> and <strong>shared caches</strong>.</p>"}},{"type":"prose","value":{"id":"private_caches","title":"Private caches","isH3":true,"content":"<p>A private cache is a cache tied to a specific client — typically a browser cache. Since the stored response is not shared with other clients, a private cache can store a personalized response for that user.</p>\n<p>On the other hand, if personalized contents are stored in a cache other than a private cache, then other users may be able to retrieve those contents — which may cause unintentional information leakage.</p>\n<p>If a response contains personalized content and you want to store the response only in the private cache, you must specify a <code>private</code> directive.</p>\n<div class=\"code-example\"><pre class=\"brush: http notranslate\"><code><span class=\"token header\"><span class=\"token header-name keyword\">Cache-Control</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">private</span></span>\n</code></pre></div>\n<p>Personalized contents are usually controlled by cookies, but the presence of a cookie does not always indicate that it is private, and thus a cookie alone does not make the response private.</p>\n<p>Note that if the response has an <code>Authorization</code> header, it cannot be stored in the private cache (or a shared cache, unless <code>public</code> is specified).</p>"}},{"type":"prose","value":{"id":"shared_cache","title":"Shared cache","isH3":true,"content":"<p>The shared cache is located between the client and the server and can store responses that can be shared among users. And shared caches can be further sub-classified into <strong>proxy caches</strong> and <strong>managed caches</strong>.</p>\n<h4 id=\"proxy_caches\">Proxy caches</h4>\n<p>In addition to the function of access control, some proxies implement caching to reduce traffic out of the network. This is usually not managed by the service developer, so it must be controlled by appropriate HTTP headers and so on. However, in the past, outdated proxy-cache implementations — such as implementations that do not properly understand the HTTP Caching standard — have often caused problems for developers.</p>\n<p><strong>Kitchen-sink headers</strong> like the following are used to try to work around \"old and not updated proxy cache\" implementations that do not understand current HTTP Caching spec directives like <code>no-store</code>.</p>\n<div class=\"code-example\"><pre class=\"brush: http notranslate\"><code><span class=\"token header\"><span class=\"token header-name keyword\">Cache-Control</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">no-store, no-cache, max-age=0, must-revalidate, proxy-revalidate</span></span>\n</code></pre></div>\n<p>However, in recent years, as HTTPS has become more common and client/server communication has become encrypted, proxy caches in the path can only tunnel a response and can't behave as a cache, in many cases. So in that scenario, there is no need to worry about outdated proxy cache implementations that cannot even see the response.</p>\n<p>On the other hand, if a <a href=\"/en-US/docs/Glossary/TLS\">TLS</a> bridge proxy decrypts all communications in a person-in-the-middle manner by installing a certificate from a <a href=\"/en-US/docs/Glossary/Certificate_authority\">CA (certificate authority)</a> managed by the organization on the PC, and performs access control, etc. — it is possible to see the contents of the response and cache it. However, since <a href=\"/en-US/docs/Web/Security/Certificate_Transparency\">CT (certificate transparency)</a> has become widespread in recent years, and some browsers only allow certificates issued with an SCT (signed certificate timestamp), this method requires the application of an enterprise policy. In such a controlled environment, there is no need to worry about the proxy cache being \"out of date and not updated\".</p>\n<h4 id=\"managed_caches\">Managed caches</h4>\n<p>Managed caches are explicitly deployed by service developers to offload the origin server and to deliver content efficiently. Examples include reverse proxies, CDNs, and service workers in combination with the Cache API.</p>\n<p>The characteristics of managed caches vary depending on the product deployed. In most cases, you can control the cache's behavior through the <code>Cache-Control</code> header and your own configuration files or dashboards.</p>\n<p>For example, the HTTP Caching specification essentially does not define a way to explicitly delete a cache — but with a managed cache, the stored response can be deleted at any time through dashboard operations, API calls, restarts, and so on. That allows for a more proactive caching strategy.</p>\n<p>It is also possible to ignore the standard HTTP Caching spec protocols in favor of explicit manipulation. For example, the following can be specified to opt-out of a private cache or proxy cache, while using your own strategy to cache only in a managed cache.</p>\n<div class=\"code-example\"><pre class=\"brush: http notranslate\"><code><span class=\"token header\"><span class=\"token header-name keyword\">Cache-Control</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">no-store</span></span>\n</code></pre></div>\n<p>For example, Varnish Cache uses VCL (Varnish Configuration Language, a type of <a href=\"/en-US/docs/Glossary/DSL/Domain_specific_language\">DSL</a>) logic to handle cache storage, while service workers in combination with the Cache API allow you to create that logic in JavaScript.</p>\n<p>That means if a managed cache intentionally ignores a <code>no-store</code> directive, there is no need to perceive it as being \"non-compliant\" with the standard. What you should do is, avoid using kitchen-sink headers, but carefully read the documentation of whatever managed-cache mechanism you're using, and ensure you're controlling the cache properly in the ways provided by the mechanism you've chosen to use.</p>\n<p>Note that some CDNs provide their own headers that are effective only for that CDN (for example, <code>Surrogate-Control</code>). Currently, work is underway to define a <a href=\"https://httpwg.org/specs/rfc9213.html\" class=\"external\" rel=\" noopener\"><code>CDN-Cache-Control</code></a> header to standardize those.</p>\n<p>\n  <img src=\"/en-US/docs/Web/HTTP/Caching/type-of-cache.png\" alt=\"Type of Cache\" width=\"1185\" height=\"434\" loading=\"lazy\">\n</p>"}},{"type":"prose","value":{"id":"heuristic_caching","title":"Heuristic caching","isH3":false,"content":"<p>HTTP is designed to cache as much as possible, so even if no <code>Cache-Control</code> is given, responses will get stored and reused if certain conditions are met. This is called <strong>heuristic caching</strong>.</p>\n<p>For example, take the following response. This response was last updated 1 year ago.</p>\n<div class=\"code-example\"><pre class=\"brush: http notranslate\"><code><span class=\"token response-status\"><span class=\"token http-version property\">HTTP/1.1</span> <span class=\"token status-code number\">200</span> <span class=\"token reason-phrase string\">OK</span></span>\n<span class=\"token header\"><span class=\"token header-name keyword\">Content-Type</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">text/html</span></span>\n<span class=\"token header\"><span class=\"token header-name keyword\">Content-Length</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">1024</span></span>\n<span class=\"token header\"><span class=\"token header-name keyword\">Date</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">Tue, 22 Feb 2022 22:22:22 GMT</span></span>\n<span class=\"token header\"><span class=\"token header-name keyword\">Last-Modified</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">Tue, 22 Feb 2021 22:22:22 GMT</span></span>\n<span class=\"token text-html\">\n<span class=\"token doctype\"><span class=\"token punctuation\">&lt;!</span><span class=\"token doctype-tag\">doctype</span> <span class=\"token name\">html</span><span class=\"token punctuation\">&gt;</span></span>\n…\n</span></code></pre></div>\n<p>It is heuristically known that content which has not been updated for a full year will not be updated for some time after that. Therefore, the client stores this response (despite the lack of <code>max-age</code>) and reuses it for a while. How long to reuse is up to the implementation, but the specification recommends about 10% (in this case 0.1 year) of the time after storing.</p>\n<p>Heuristic caching is a workaround that came before <code>Cache-Control</code> support became widely adopted, and basically all responses should explicitly specify a <code>Cache-Control</code> header.</p>"}},{"type":"prose","value":{"id":"fresh_and_stale_based_on_age","title":"Fresh and stale based on age","isH3":false,"content":"<p>Stored HTTP responses have two states: <strong>fresh</strong> and <strong>stale</strong>. The <em>fresh</em> state usually indicates that the response is still valid and can be reused, while the <em>stale</em> state means that the cached response has already expired.</p>\n<p>The criterion for determining when a response is fresh and when it is stale is <strong>age</strong>. In HTTP, age is the time elapsed since the response was generated. This is similar to the <a href=\"/en-US/docs/Glossary/TTL\">TTL</a> in other caching mechanisms.</p>\n<p>Take the following example response (604800 seconds is one week):</p>\n<div class=\"code-example\"><pre class=\"brush: http notranslate\"><code><span class=\"token response-status\"><span class=\"token http-version property\">HTTP/1.1</span> <span class=\"token status-code number\">200</span> <span class=\"token reason-phrase string\">OK</span></span>\n<span class=\"token header\"><span class=\"token header-name keyword\">Content-Type</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">text/html</span></span>\n<span class=\"token header\"><span class=\"token header-name keyword\">Content-Length</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">1024</span></span>\n<span class=\"token header\"><span class=\"token header-name keyword\">Date</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">Tue, 22 Feb 2022 22:22:22 GMT</span></span>\n<span class=\"token header\"><span class=\"token header-name keyword\">Cache-Control</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">max-age=604800</span></span>\n<span class=\"token text-html\">\n<span class=\"token doctype\"><span class=\"token punctuation\">&lt;!</span><span class=\"token doctype-tag\">doctype</span> <span class=\"token name\">html</span><span class=\"token punctuation\">&gt;</span></span>\n…\n</span></code></pre></div>\n<p>The cache that stored the example response calculates the time elapsed since the response was generated and uses the result as the response's <em>age</em>.</p>\n<p>For the example response, the meaning of <code>max-age</code> is the following:</p>\n<ul>\n  <li>If the age of the response is <em>less</em> than one week, the response is <em>fresh</em>.</li>\n  <li>If the age of the response is <em>more</em> than one week, the response is <em>stale</em>.</li>\n</ul>\n<p>As long as the stored response remains fresh, it will be used to fulfill client requests.</p>\n<p>When a response is stored in a shared cache, it is necessary to inform the client of the response's age. Continuing with the example, if the shared cache stored the response for one day, the shared cache would send the following response to subsequent client requests.</p>\n<div class=\"code-example\"><pre class=\"brush: http notranslate\"><code><span class=\"token response-status\"><span class=\"token http-version property\">HTTP/1.1</span> <span class=\"token status-code number\">200</span> <span class=\"token reason-phrase string\">OK</span></span>\n<span class=\"token header\"><span class=\"token header-name keyword\">Content-Type</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">text/html</span></span>\n<span class=\"token header\"><span class=\"token header-name keyword\">Content-Length</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">1024</span></span>\n<span class=\"token header\"><span class=\"token header-name keyword\">Date</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">Tue, 22 Feb 2022 22:22:22 GMT</span></span>\n<span class=\"token header\"><span class=\"token header-name keyword\">Cache-Control</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">max-age=604800</span></span>\n<span class=\"token header\"><span class=\"token header-name keyword\">Age</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">86400</span></span>\n<span class=\"token text-html\">\n<span class=\"token doctype\"><span class=\"token punctuation\">&lt;!</span><span class=\"token doctype-tag\">doctype</span> <span class=\"token name\">html</span><span class=\"token punctuation\">&gt;</span></span>\n…\n</span></code></pre></div>\n<p>The client which receives that response will find it to be fresh for the remaining 518400 seconds, the difference between the response's <code>max-age</code> and <code>Age</code>.</p>"}},{"type":"prose","value":{"id":"expires_or_max-age","title":"Expires or max-age","isH3":false,"content":"<p>In HTTP/1.0, freshness used to be specified by the <code>Expires</code> header.</p>\n<p>The <code>Expires</code> header specifies the lifetime of the cache using an explicit time rather than by specifying an elapsed time.</p>\n<div class=\"code-example\"><pre class=\"brush: http notranslate\"><code><span class=\"token header\"><span class=\"token header-name keyword\">Expires</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">Tue, 28 Feb 2022 22:22:22 GMT</span></span>\n</code></pre></div>\n<p>However, the time format is difficult to parse, many implementation bugs were found, and it is possible to induce problems by intentionally shifting the system clock; therefore,<code>max-age</code> — for specifying an elapsed time — was adopted for <code>Cache-Control</code> in HTTP/1.1.</p>\n<p>If both <code>Expires</code> and <code>Cache-Control: max-age</code> are available, <code>max-age</code> is defined to be preferred. So it is not necessary to provide <code>Expires</code> now that HTTP/1.1 is widely used.</p>"}},{"type":"prose","value":{"id":"vary","title":"Vary","isH3":false,"content":"<p>The way that responses are distinguished from one another is essentially based on their URLs:</p>\n<p>\n  <img src=\"/en-US/docs/Web/HTTP/Caching/keyed-with-url.png\" alt=\"keyed with url\" width=\"429\" height=\"153\" loading=\"lazy\">\n</p>\n<p>But the contents of responses are not always the same, even if they have the same URL. Especially when content negotiation is performed, the response from the server can depend on the values of the <code>Accept</code>, <code>Accept-Language</code>, and <code>Accept-Encoding</code> request headers.</p>\n<p>For example, for English content returned with an <code>Accept-Language: en</code> header and cached, it is undesirable to then reuse that cached response for requests that have an <code>Accept-Language: ja</code> request header. In this case, you can cause the responses to be cached separately — based on language — by adding \"<code>Accept-Language</code>\" to the value of the <code>Vary</code> header.</p>\n<div class=\"code-example\"><pre class=\"brush: http notranslate\"><code><span class=\"token header\"><span class=\"token header-name keyword\">Vary</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">Accept-Language</span></span>\n</code></pre></div>\n<p>That causes the cache to be keyed based on a composite of the response URL and the <code>Accept-Language</code> request header — rather than being based just on the response URL.</p>\n<p>\n  <img src=\"/en-US/docs/Web/HTTP/Caching/keyed-with-url-and-language.png\" alt=\"keyed with url and language\" width=\"538\" height=\"189\" loading=\"lazy\">\n</p>\n<p>Also, if you are providing content optimization (for example, for responsive design) based on the user agent, you may be tempted to include \"<code>User-Agent</code>\" in the value of the <code>Vary</code> header. However, the <code>User-Agent</code> request header generally has a very large number of variations, which drastically reduces the chance that the cache will be reused. So if possible, instead consider a way to vary behavior based on feature detection rather than based on the <code>User-Agent</code> request header.</p>\n<p>For applications that employ cookies to prevent others from reusing cached personalized content, you should specify <code>Cache-Control: private</code> instead of specifying a cookie for <code>Vary</code>.</p>"}},{"type":"prose","value":{"id":"validation","title":"Validation","isH3":false,"content":"<p>Stale responses are not immediately discarded. HTTP has a mechanism to transform a stale response into a fresh one by asking the origin server. This is called <strong>validation</strong>, or sometimes, <strong>revalidation</strong>.</p>\n<p>Validation is done by using a <strong>conditional request</strong> that includes an <code>If-Modified-Since</code> or <code>If-None-Match</code> request header.</p>"}},{"type":"prose","value":{"id":"if-modified-since","title":"If-Modified-Since","isH3":true,"content":"<p>The following response was generated at 22:22:22 and has a <code>max-age</code> of 1 hour, so you know that it is fresh until 23:22:22.</p>\n<div class=\"code-example\"><pre class=\"brush: http notranslate\"><code><span class=\"token response-status\"><span class=\"token http-version property\">HTTP/1.1</span> <span class=\"token status-code number\">200</span> <span class=\"token reason-phrase string\">OK</span></span>\n<span class=\"token header\"><span class=\"token header-name keyword\">Content-Type</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">text/html</span></span>\n<span class=\"token header\"><span class=\"token header-name keyword\">Content-Length</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">1024</span></span>\n<span class=\"token header\"><span class=\"token header-name keyword\">Date</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">Tue, 22 Feb 2022 22:22:22 GMT</span></span>\n<span class=\"token header\"><span class=\"token header-name keyword\">Last-Modified</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">Tue, 22 Feb 2022 22:00:00 GMT</span></span>\n<span class=\"token header\"><span class=\"token header-name keyword\">Cache-Control</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">max-age=3600</span></span>\n<span class=\"token text-html\">\n<span class=\"token doctype\"><span class=\"token punctuation\">&lt;!</span><span class=\"token doctype-tag\">doctype</span> <span class=\"token name\">html</span><span class=\"token punctuation\">&gt;</span></span>\n…\n</span></code></pre></div>\n<p>At 23:22:22, the response becomes stale and the cache cannot be reused. So the request below shows a client sending a request with an <code>If-Modified-Since</code> request header, to ask the server if there have been any changes made since the specified time.</p>\n<div class=\"code-example\"><pre class=\"brush: http notranslate\"><code><span class=\"token request-line\"><span class=\"token method property\">GET</span> <span class=\"token request-target url\">/index.html</span> <span class=\"token http-version property\">HTTP/1.1</span></span>\n<span class=\"token header\"><span class=\"token header-name keyword\">Host</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">example.com</span></span>\n<span class=\"token header\"><span class=\"token header-name keyword\">Accept</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">text/html</span></span>\n<span class=\"token header\"><span class=\"token header-name keyword\">If-Modified-Since</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">Tue, 22 Feb 2022 22:00:00 GMT</span></span>\n</code></pre></div>\n<p>The server will respond with <code>304 Not Modified</code> if the content has not changed since the specified time.</p>\n<p>Since this response only indicates \"no change\", there is no response body — there's just a status code — so the transfer size is extremely small.</p>\n<div class=\"code-example\"><pre class=\"brush: http notranslate\"><code><span class=\"token response-status\"><span class=\"token http-version property\">HTTP/1.1</span> <span class=\"token status-code number\">304</span> <span class=\"token reason-phrase string\">Not Modified</span></span>\n<span class=\"token header\"><span class=\"token header-name keyword\">Content-Type</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">text/html</span></span>\n<span class=\"token header\"><span class=\"token header-name keyword\">Date</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">Tue, 22 Feb 2022 23:22:22 GMT</span></span>\n<span class=\"token header\"><span class=\"token header-name keyword\">Last-Modified</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">Tue, 22 Feb 2022 22:00:00 GMT</span></span>\n<span class=\"token header\"><span class=\"token header-name keyword\">Cache-Control</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">max-age=3600</span></span>\n</code></pre></div>\n<p>Upon receiving that response, the client reverts the stored stale response back to being fresh and can reuse it during the remaining 1 hour.</p>\n<p>The server can obtain the modification time from the operating-system file system, which is relatively easy to do for the case of serving static files. However, there are some problems; for example, the time format is complex and difficult to parse, and distributed servers have difficulty synchronizing file-update times.</p>\n<p>To solve such problems, the <code>ETag</code> response header was standardized as an alternative.</p>"}},{"type":"prose","value":{"id":"etagif-none-match","title":"ETag/If-None-Match","isH3":true,"content":"<p>The value of the <code>ETag</code> response header is an arbitrary value generated by the server. There are no restrictions on how the server must generate the value, so servers are free to set the value based on whatever means they choose — such as a hash of the body contents or a version number.</p>\n<p>As an example, if a hash value is used for the <code>ETag</code> header and the hash value of the <code>index.html</code> resource is <code>33a64df5</code>, the response will be as follows:</p>\n<div class=\"code-example\"><pre class=\"brush: http notranslate\"><code><span class=\"token response-status\"><span class=\"token http-version property\">HTTP/1.1</span> <span class=\"token status-code number\">200</span> <span class=\"token reason-phrase string\">OK</span></span>\n<span class=\"token header\"><span class=\"token header-name keyword\">Content-Type</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">text/html</span></span>\n<span class=\"token header\"><span class=\"token header-name keyword\">Content-Length</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">1024</span></span>\n<span class=\"token header\"><span class=\"token header-name keyword\">Date</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">Tue, 22 Feb 2022 22:22:22 GMT</span></span>\n<span class=\"token header\"><span class=\"token header-name keyword\">ETag</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">\"33a64df5\"</span></span>\n<span class=\"token header\"><span class=\"token header-name keyword\">Cache-Control</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">max-age=3600</span></span>\n<span class=\"token text-html\">\n<span class=\"token doctype\"><span class=\"token punctuation\">&lt;!</span><span class=\"token doctype-tag\">doctype</span> <span class=\"token name\">html</span><span class=\"token punctuation\">&gt;</span></span>\n…\n</span></code></pre></div>\n<p>If that response is stale, the client takes the value of the <code>ETag</code> response header for the cached response, and puts it into the <code>If-None-Match</code> request header, to ask the server if the resource has been modified:</p>\n<div class=\"code-example\"><pre class=\"brush: http notranslate\"><code><span class=\"token request-line\"><span class=\"token method property\">GET</span> <span class=\"token request-target url\">/index.html</span> <span class=\"token http-version property\">HTTP/1.1</span></span>\n<span class=\"token header\"><span class=\"token header-name keyword\">Host</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">example.com</span></span>\n<span class=\"token header\"><span class=\"token header-name keyword\">Accept</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">text/html</span></span>\n<span class=\"token header\"><span class=\"token header-name keyword\">If-None-Match</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">\"33a64df5\"</span></span>\n</code></pre></div>\n<p>The server will return <code>304 Not Modified</code> if the value of the <code>ETag</code> header it determines for the requested resource is the same as the <code>If-None-Match</code> value in the request.</p>\n<p>But if the server determines the requested resource should now have a different <code>ETag</code> value, the server will instead respond with a <code>200 OK</code> and the latest version of the resource.</p>\n<div class=\"notecard note\" id=\"sect1\">\n  <p>\n    <strong>Note:</strong> When evaluating how to use <code>ETag</code> and <code>Last-Modified</code>, consider the following:\n    During cache revalidation, if both <code>ETag</code> and <code>Last-Modified</code> are present, <code>ETag</code> takes precedence.\n    Therefore, if you are only considering caching, you may think that <code>Last-Modified</code> is unnecessary.\n    However, <code>Last-Modified</code> is not just useful for caching; instead, it is a standard HTTP header that is also used by content-management (CMS) systems to display the last-modified time, by crawlers to adjust crawl frequency, and for other various purposes.\n    So considering the overall HTTP ecosystem, it is preferable to provide both <code>ETag</code> and <code>Last-Modified</code>.\n  </p>\n</div>"}},{"type":"prose","value":{"id":"force_revalidation","title":"Force Revalidation","isH3":true,"content":"<p>If you do not want a response to be reused, but instead want to always fetch the latest content from the server, you can use the <code>no-cache</code> directive to force validation.</p>\n<p>By adding <code>Cache-Control: no-cache</code> to the response along with <code>Last-Modified</code> and <code>ETag</code> — as shown below — the client will receive a <code>200 OK</code> response if the requested resource has been updated, or will otherwise receive a <code>304 Not Modified</code> response if the requested resource has not been updated.</p>\n<div class=\"code-example\"><pre class=\"brush: http notranslate\"><code><span class=\"token response-status\"><span class=\"token http-version property\">HTTP/1.1</span> <span class=\"token status-code number\">200</span> <span class=\"token reason-phrase string\">OK</span></span>\n<span class=\"token header\"><span class=\"token header-name keyword\">Content-Type</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">text/html</span></span>\n<span class=\"token header\"><span class=\"token header-name keyword\">Content-Length</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">1024</span></span>\n<span class=\"token header\"><span class=\"token header-name keyword\">Date</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">Tue, 22 Feb 2022 22:22:22 GMT</span></span>\n<span class=\"token header\"><span class=\"token header-name keyword\">Last-Modified</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">Tue, 22 Feb 2022 22:00:00 GMT</span></span>\n<span class=\"token header\"><span class=\"token header-name keyword\">ETag</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">deadbeef</span></span>\n<span class=\"token header\"><span class=\"token header-name keyword\">Cache-Control</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">no-cache</span></span>\n<span class=\"token text-html\">\n<span class=\"token doctype\"><span class=\"token punctuation\">&lt;!</span><span class=\"token doctype-tag\">doctype</span> <span class=\"token name\">html</span><span class=\"token punctuation\">&gt;</span></span>\n…\n</span></code></pre></div>\n<p>It is often stated that the combination of <code>max-age=0</code> and <code>must-revalidate</code> has the same meaning as <code>no-cache</code>.</p>\n<div class=\"code-example\"><pre class=\"brush: http notranslate\"><code><span class=\"token header\"><span class=\"token header-name keyword\">Cache-Control</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">max-age=0, must-revalidate</span></span>\n</code></pre></div>\n<p><code>max-age=0</code> means that the response is immediately stale, and <code>must-revalidate</code> means that it must not be reused without revalidation once it is stale — so, in combination, the semantics seem to be the same as <code>no-cache</code>.</p>\n<p>However, that usage of <code>max-age=0</code> is a remnant of the fact that many implementations prior to HTTP/1.1 were unable to handle the <code>no-cache</code> directive — and so to deal with that limitation, <code>max-age=0</code> was used as a workaround.</p>\n<p>But now that HTTP/1.1-conformant servers are widely deployed, there's no reason to ever use that <code>max-age=0</code>-and-<code>must-revalidate</code> combination — you should instead just use <code>no-cache</code>.</p>"}},{"type":"prose","value":{"id":"dont_cache","title":"Don't cache","isH3":false,"content":"<p>The <code>no-cache</code> directive does not prevent the storing of responses but instead prevents the reuse of responses without revalidation.</p>\n<p>If you don't want a response stored in any cache, use <code>no-store</code>.</p>\n<div class=\"code-example\"><pre class=\"brush: http notranslate\"><code><span class=\"token header\"><span class=\"token header-name keyword\">Cache-Control</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">no-store</span></span>\n</code></pre></div>\n<p>However, in general, a \"do not cache\" requirement in practice amounts to the following set of circumstances:</p>\n<ul>\n  <li>Don't want the response stored by anyone other than the specific client, for privacy reasons.</li>\n  <li>Want to provide up-to-date information always.</li>\n  <li>Don't know what could happen in outdated implementations.</li>\n</ul>\n<p>Under that set of circumstances, <code>no-store</code> is not always the most-appropriate directive.</p>\n<p>The following sections look at the circumstances in more detail.</p>"}},{"type":"prose","value":{"id":"do_not_share_with_others","title":"Do not share with others","isH3":true,"content":"<p>It would be problematic if a response with personalized content is unexpectedly visible to other users of a cache.</p>\n<p>In such a case, using the <code>private</code> directive will cause the personalized response to only be stored with the specific client and not be leaked to any other user of the cache.</p>\n<div class=\"code-example\"><pre class=\"brush: http notranslate\"><code><span class=\"token header\"><span class=\"token header-name keyword\">Cache-Control</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">private</span></span>\n</code></pre></div>\n<p>In such a case, even if <code>no-store</code> is given, <code>private</code> must also be given.</p>"}},{"type":"prose","value":{"id":"provide_up-to-date_content_every_time","title":"Provide up-to-date content every time","isH3":true,"content":"<p>The <code>no-store</code> directive prevents a response from being stored, but does not delete any already-stored response for the same URL.</p>\n<p>In other words, if there is an old response already stored for a particular URL, returning <code>no-store</code> will not prevent the old response from being reused.</p>\n<p>However, a <code>no-cache</code> directive will force the client to send a validation request before reusing any stored response.</p>\n<div class=\"code-example\"><pre class=\"brush: http notranslate\"><code><span class=\"token header\"><span class=\"token header-name keyword\">Cache-Control</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">no-cache</span></span>\n</code></pre></div>\n<p>If the server does not support conditional requests, you can force the client to access the server every time and always get the latest response with <code>200 OK</code>.</p>"}},{"type":"prose","value":{"id":"dealing_with_outdated_implementations","title":"Dealing with outdated implementations","isH3":true,"content":"<p>As a workaround for outdated implementations that ignore <code>no-store</code>, you may see kitchen-sink headers such as the following being used.</p>\n<div class=\"code-example\"><pre class=\"brush: http notranslate\"><code><span class=\"token header\"><span class=\"token header-name keyword\">Cache-Control</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">no-store, no-cache, max-age=0, must-revalidate, proxy-revalidate</span></span>\n</code></pre></div>\n<p>It is <a href=\"https://docs.microsoft.com/troubleshoot/developer/browsers/connectivity-navigation/how-to-prevent-caching\" class=\"external\" rel=\" noopener\">recommended</a> to use <code>no-cache</code> as an alternative for dealing with such outdated implementations, and it is not a problem if <code>no-cache</code> is given from the beginning, since the server will always receive the request.</p>\n<p>If it is the shared cache that you are concerned about, you can make sure to prevent unintended caching by also adding <code>private</code>:</p>\n<div class=\"code-example\"><pre class=\"brush: http notranslate\"><code><span class=\"token header\"><span class=\"token header-name keyword\">Cache-Control</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">no-cache, private</span></span>\n</code></pre></div>"}},{"type":"prose","value":{"id":"whats_lost_by_no-store","title":"What's lost by <code>no-store</code>","isH3":true,"content":"<p>You may think adding <code>no-store</code> would be the right way to opt-out of caching.</p>\n<p>However, it's not recommended to grant <code>no-store</code> liberally, because you lose many advantages that HTTP and browsers have, including the browser's back/forward cache.</p>\n<p>Therefore, to get the advantages of the full feature set of the web platform, prefer the use of <code>no-cache</code> in combination with <code>private</code>.</p>","titleAsText":"What's lost by no-store"}},{"type":"prose","value":{"id":"reload_and_force_reload","title":"Reload and force reload","isH3":false,"content":"<p>Validation can be performed for requests as well as responses.</p>\n<p>The <strong>reload</strong> and <strong>force reload</strong> actions are common examples of validation performed from the browser side.</p>"}},{"type":"prose","value":{"id":"reload","title":"Reload","isH3":true,"content":"<p>For recovering from window corruption or updating to the latest version of the resource, browsers provide a reload function for users.</p>\n<p>A simplified view of the HTTP request sent during a browser reload looks as follows:</p>\n<div class=\"code-example\"><pre class=\"brush: http notranslate\"><code><span class=\"token request-line\"><span class=\"token method property\">GET</span> <span class=\"token request-target url\">/</span> <span class=\"token http-version property\">HTTP/1.1</span></span>\n<span class=\"token header\"><span class=\"token header-name keyword\">Host</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">example.com</span></span>\n<span class=\"token header\"><span class=\"token header-name keyword\">Cache-Control</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">max-age=0</span></span>\n<span class=\"token header\"><span class=\"token header-name keyword\">If-None-Match</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">\"deadbeef\"</span></span>\n<span class=\"token header\"><span class=\"token header-name keyword\">If-Modified-Since</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">Tue, 22 Feb 2022 20:20:20 GMT</span></span>\n</code></pre></div>\n<p>(The requests from Chrome, Edge, and Firefox look very much like the above; the requests from Safari will look a bit different.)</p>\n<p>The <code>max-age=0</code> directive in the request specifies \"reuse of responses with an age of 0 or less\" — so, in effect, intermediately stored responses are not reused.</p>\n<p>As a result, a request is validated by <code>If-None-Match</code> and <code>If-Modified-Since</code>.</p>\n<p>That behavior is also defined in the <a href=\"https://fetch.spec.whatwg.org/#http-network-or-cache-fetch\" class=\"external\" rel=\" noopener\">Fetch</a> standard and can be reproduced in JavaScript by calling <code>fetch()</code> with the cache mode set to <code>no-cache</code> (note that <code>reload</code> is not the right mode for this case):</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token comment\">// Note: \"reload\" is not the right mode for a normal reload; \"no-cache\" is</span>\n<span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">cache</span><span class=\"token operator\">:</span> <span class=\"token string\">\"no-cache\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>"}},{"type":"prose","value":{"id":"force_reload","title":"Force reload","isH3":true,"content":"<p>Browsers use <code>max-age=0</code> during reloads for backward-compatibility reasons — because many outdated implementations prior to HTTP/1.1 did not understand <code>no-cache</code>. But <code>no-cache</code> is fine now in this use case, and <strong>force reload</strong> is an additional way to bypass cached responses.</p>\n<p>The HTTP Request during a browser <strong>force reload</strong> looks as follows:</p>\n<div class=\"code-example\"><pre class=\"brush: http notranslate\"><code><span class=\"token request-line\"><span class=\"token method property\">GET</span> <span class=\"token request-target url\">/</span> <span class=\"token http-version property\">HTTP/1.1</span></span>\n<span class=\"token header\"><span class=\"token header-name keyword\">Host</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">example.com</span></span>\n<span class=\"token header\"><span class=\"token header-name keyword\">Pragma</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">no-cache</span></span>\n<span class=\"token header\"><span class=\"token header-name keyword\">Cache-Control</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">no-cache</span></span>\n</code></pre></div>\n<p>(The requests from Chrome, Edge, and Firefox look very much like the above; the requests from Safari will look a bit different.)</p>\n<p>Since that's not a conditional request with <code>no-cache</code>, you can be sure you'll get a <code>200 OK</code> from the origin server.</p>\n<p>That behavior is also defined in the <a href=\"https://fetch.spec.whatwg.org/#http-network-or-cache-fetch\" class=\"external\" rel=\" noopener\">Fetch</a> standard and can be reproduced in JavaScript by calling <code>fetch()</code> with the cache mode set to <code>reload</code> (note that it's not <code>force-reload</code>):</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token comment\">// Note: \"reload\" — rather than \"no-cache\" — is the right mode for a \"force reload\"</span>\n<span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">cache</span><span class=\"token operator\">:</span> <span class=\"token string\">\"reload\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>"}},{"type":"prose","value":{"id":"avoiding_revalidation","title":"Avoiding revalidation","isH3":true,"content":"<p>Content that never changes should be given a long <code>max-age</code> by using cache busting — that is, by including a version number, hash value, etc., in the request URL.</p>\n<p>However, when the user reloads, a revalidation request is sent even though the server knows that the content is immutable.</p>\n<p>To prevent that, the <code>immutable</code> directive can be used to explicitly indicate that revalidation is not required because the content never changes.</p>\n<div class=\"code-example\"><pre class=\"brush: http notranslate\"><code><span class=\"token header\"><span class=\"token header-name keyword\">Cache-Control</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">max-age=31536000, immutable</span></span>\n</code></pre></div>\n<p>That prevents unnecessary revalidation during reloads.</p>\n<p>Note that, instead of implementing that directive, <a href=\"https://blog.chromium.org/2017/01/reload-reloaded-faster-and-leaner-page_26.html\" class=\"external\" rel=\" noopener\">Chrome has changed its implementation</a> so that revalidation is not performed during reloads for subresources.</p>"}},{"type":"prose","value":{"id":"deleting_stored_responses","title":"Deleting stored responses","isH3":false,"content":"<p>There is basically no way to delete responses that have already been stored with a long <code>max-age</code>.</p>\n<p>Imagine that the following response from <code>https://example.com/</code> was stored.</p>\n<div class=\"code-example\"><pre class=\"brush: http notranslate\"><code><span class=\"token response-status\"><span class=\"token http-version property\">HTTP/1.1</span> <span class=\"token status-code number\">200</span> <span class=\"token reason-phrase string\">OK</span></span>\n<span class=\"token header\"><span class=\"token header-name keyword\">Content-Type</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">text/html</span></span>\n<span class=\"token header\"><span class=\"token header-name keyword\">Content-Length</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">1024</span></span>\n<span class=\"token header\"><span class=\"token header-name keyword\">Cache-Control</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">max-age=31536000</span></span>\n<span class=\"token text-html\">\n<span class=\"token doctype\"><span class=\"token punctuation\">&lt;!</span><span class=\"token doctype-tag\">doctype</span> <span class=\"token name\">html</span><span class=\"token punctuation\">&gt;</span></span>\n…\n</span></code></pre></div>\n<p>You may want to overwrite that response once it expired on the server, but there is nothing the server can do once the response is stored — since no more requests reach the server due to caching.</p>\n<p>One of the methods mentioned in the specification is to send a request for the same URL with an unsafe method such as <code>POST</code>, but that is usually difficult to intentionally do for many clients.</p>\n<p>There is also a specification for a <code>Clear-Site-Data: cache</code> header and value, but <a href=\"https://groups.google.com/a/mozilla.org/g/dev-platform/c/I939w1yrTp4\" class=\"external\" rel=\" noopener\">not all browsers support it</a> — and even when it's used, it only affects browser caches and has no effect on intermediate caches.</p>\n<p>Therefore, it should be assumed that any stored response will remain for its <code>max-age</code> period unless the user manually performs a reload, force-reload, or clear-history action.</p>\n<p>Caching reduces access to the server, which means that the server loses control of that URL. If the server does not want to lose control of a URL — for example, in the case that a resource is frequently updated — you should add <code>no-cache</code> so that the server will always receive requests and send the intended responses.</p>"}},{"type":"prose","value":{"id":"request_collapse","title":"Request collapse","isH3":false,"content":"<p>The shared cache is primarily located before the origin server and is intended to reduce traffic to the origin server.</p>\n<p>Thus, if multiple identical requests arrive at a shared cache at the same time, the intermediate cache will forward a single request on behalf of itself to the origin, which can then reuse the result for all clients. This is called <em><strong>request collapse</strong></em>.</p>\n<p>Request collapse occurs when requests are arriving at the same time, so even if <code>max-age=0</code> or <code>no-cache</code> is given in the response, it will be reused.</p>\n<p>If the response is personalized to a particular user and you do not want it to be shared in collapse, you should add the <code>private</code> directive:</p>\n<p>\n  <img src=\"/en-US/docs/Web/HTTP/Caching/request-collapse.png\" alt=\"Request Collapse\" width=\"1045\" height=\"651\" loading=\"lazy\">\n</p>"}},{"type":"prose","value":{"id":"common_caching_patterns","title":"Common caching patterns","isH3":false,"content":"<p>There are many directives in the <code>Cache-Control</code> spec, and it may be difficult to understand all of them. But most websites can be covered by a combination of a handful of patterns.</p>\n<p>This section describes the common patterns in designing caches.</p>"}},{"type":"prose","value":{"id":"default_settings","title":"Default settings","isH3":true,"content":"<p>As mentioned above, the default behavior for caching (that is, for a response without <code>Cache-Control</code>) is not simply \"don't cache\" but implicit caching according to so-called \"heuristic caching\".</p>\n<p>To avoid that heuristic caching, it's preferable to explicitly give all responses a default <code>Cache-Control</code> header.</p>\n<p>To ensure that by default the latest versions of resources will always be transferred, it's common practice to make the default <code>Cache-Control</code> value include <code>no-cache</code>:</p>\n<div class=\"code-example\"><pre class=\"brush: http notranslate\"><code><span class=\"token header\"><span class=\"token header-name keyword\">Cache-Control</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">no-cache</span></span>\n</code></pre></div>\n<p>In addition, if the service implements cookies or other login methods, and the content is personalized for each user, <code>private</code> must be given too, to prevent sharing with other users:</p>\n<div class=\"code-example\"><pre class=\"brush: http notranslate\"><code><span class=\"token header\"><span class=\"token header-name keyword\">Cache-Control</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">no-cache, private</span></span>\n</code></pre></div>"}},{"type":"prose","value":{"id":"cache_busting","title":"Cache Busting","isH3":true,"content":"<p>The resources that work best with caching are static immutable files whose contents never change. And for resources that <em>do</em> change, it is a common best practice to change the URL each time the content changes, so that the URL unit can be cached for a longer period.</p>\n<p>As an example, consider the following HTML:</p>\n<div class=\"code-example\"><pre class=\"brush: html notranslate\"><code><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>bundle.js<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span><span class=\"token script\"></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>link</span> <span class=\"token attr-name\">rel</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>stylesheet<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>build.css<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">&gt;</span></span>\n  hello\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">&gt;</span></span>\n</code></pre></div>\n<p>In modern web development, JavaScript and CSS resources are frequently updated as development progresses. Also, if the versions of JavaScript and CSS resources that a client uses are out of sync, the display will break.</p>\n<p>So the HTML above makes it difficult to cache <code>bundle.js</code> and <code>build.css</code> with <code>max-age</code>.</p>\n<p>Therefore, you can serve the JavaScript and CSS with URLs that include a changing part based on a version number or hash value. Some of the ways to do that are shown below.</p>\n<pre class=\"notranslate\"># version in filename\nbundle.v123.js\n\n# version in query\nbundle.js?v=123\n\n# hash in filename\nbundle.YsAIAAAA-QG4G6kCMAMBAAAAAAAoK.js\n\n# hash in query\nbundle.js?v=YsAIAAAA-QG4G6kCMAMBAAAAAAAoK\n</pre>\n<p>Since the cache distinguishes resources from one another based on their URLs, the cache will not be reused again if the URL changes when a resource is updated.</p>\n<div class=\"code-example\"><pre class=\"brush: html notranslate\"><code><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>bundle.v123.js<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span><span class=\"token script\"></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>link</span> <span class=\"token attr-name\">rel</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>stylesheet<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>build.v123.css<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">&gt;</span></span>\n  hello\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">&gt;</span></span>\n</code></pre></div>\n<p>With that design, both JavaScript and CSS resources can be cached for a long time. So how long should <code>max-age</code> be set to? The QPACK specification provides an answer to that question.</p>\n<p><a href=\"https://datatracker.ietf.org/doc/html/rfc9204\" class=\"external\" rel=\" noopener\">QPACK</a> is a standard for compressing HTTP header fields, with tables of commonly-used field values defined.</p>\n<p>Some commonly-used cache-header values are shown below.</p>\n<pre class=\"notranslate\">36 cache-control max-age=0\n37 cache-control max-age=604800\n38 cache-control max-age=2592000\n39 cache-control no-cache\n40 cache-control no-store\n41 cache-control public, max-age=31536000\n</pre>\n<p>If you select one of those numbered options, you can compress values in 1 byte when transferred via HTTP3.</p>\n<p>Numbers <code>37</code>, <code>38</code>, and <code>41</code> are for periods of one week, one month, and one year.</p>\n<p>Because the cache removes old entries when new entries are saved, the probability that a stored response still exists after one week is not that high — even if <code>max-age</code> is set to 1 week. Therefore, in practice, it does not make much difference which one you choose.</p>\n<p>Note that number <code>41</code> has the longest <code>max-age</code> (1 year), but with <code>public</code>.</p>\n<p>The <code>public</code> value has the effect of making the response storable even if the <code>Authorization</code> header is present.</p>\n<div class=\"notecard note\" id=\"sect2\">\n  <p>\n    <strong>Note:</strong> The <code>public</code> directive should only be used if there is a need to store the response when the <code>Authorization</code> header is set.\n    It is not required otherwise, because a response will be stored in the shared cache as long as <code>max-age</code> is given.\n  </p>\n</div>\n<p>So if the response is personalized with basic authentication, the presence of <code>public</code> may cause problems. If you are concerned about that, you can choose the second-longest value, <code>38</code> (1 month).</p>\n<div class=\"code-example\"><pre class=\"brush: http notranslate\"><code># response for bundle.v123.js\n\n# If you never personalize responses via Authorization\n<span class=\"token header\"><span class=\"token header-name keyword\">Cache-Control</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">public, max-age=31536000</span></span>\n\n# If you can't be certain\n<span class=\"token header\"><span class=\"token header-name keyword\">Cache-Control</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">max-age=2592000</span></span>\n</code></pre></div>"}},{"type":"prose","value":{"id":"validation_2","title":"Validation","isH3":true,"content":"<p>Don't forget to set the <code>Last-Modified</code> and <code>ETag</code> headers, so that you don't have to re-transmit a resource when reloading. It's easy to generate those headers for pre-built static files.</p>\n<p>The <code>ETag</code> value here may be a hash of the file.</p>\n<div class=\"code-example\"><pre class=\"brush: http notranslate\"><code># response for bundle.v123.js\n<span class=\"token header\"><span class=\"token header-name keyword\">Last-Modified</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">Tue, 22 Feb 2022 20:20:20 GMT</span></span>\n<span class=\"token header\"><span class=\"token header-name keyword\">ETag</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">YsAIAAAA-QG4G6kCMAMBAAAAAAAoK</span></span>\n</code></pre></div>\n<p>In addition, <code>immutable</code> can be added to prevent validation on reload.</p>\n<p>The combined result is shown below.</p>\n<div class=\"code-example\"><pre class=\"brush: http notranslate\"><code># bundle.v123.js\n<span class=\"token response-status\"><span class=\"token http-version property\">HTTP/1.1</span> <span class=\"token status-code number\">200</span> <span class=\"token reason-phrase string\">OK</span></span>\n<span class=\"token header\"><span class=\"token header-name keyword\">Content-Type</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">application/javascript</span></span>\n<span class=\"token header\"><span class=\"token header-name keyword\">Content-Length</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">1024</span></span>\n<span class=\"token header\"><span class=\"token header-name keyword\">Cache-Control</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">public, max-age=31536000, immutable</span></span>\n<span class=\"token header\"><span class=\"token header-name keyword\">Last-Modified</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">Tue, 22 Feb 2022 20:20:20 GMT</span></span>\n<span class=\"token header\"><span class=\"token header-name keyword\">ETag</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">YsAIAAAA-QG4G6kCMAMBAAAAAAAoK</span></span>\n</code></pre></div>\n<p><strong>Cache busting</strong> is a technique to make a response cacheable over a long period by changing the URL when the content changes. The technique can be applied to all subresources, such as images.</p>\n<div class=\"notecard note\" id=\"sect3\">\n  <p>\n    <strong>Note:</strong> When evaluating the use of <code>immutable</code> and QPACK:\n    If you're concerned that <code>immutable</code> changes the predefined value provided by QPACK, consider that\n    in this case, the <code>immutable</code> part can be encoded separately by splitting the <code>Cache-Control</code> value into two lines — though this is dependent on the encoding algorithm a particular QPACK implementation uses.\n  </p>\n</div>\n<div class=\"code-example\"><pre class=\"brush: http notranslate\"><code><span class=\"token header\"><span class=\"token header-name keyword\">Cache-Control</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">public, max-age=31536000</span></span>\n<span class=\"token header\"><span class=\"token header-name keyword\">Cache-Control</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">immutable</span></span>\n</code></pre></div>"}},{"type":"prose","value":{"id":"main_resources","title":"Main resources","isH3":true,"content":"<p>Unlike subresources, main resources cannot be cache busted because their URLs can't be decorated in the same way that subresource URLs can be.</p>\n<p>If the following HTML itself is stored, the latest version cannot be displayed even if the content is updated on the server side.</p>\n<div class=\"code-example\"><pre class=\"brush: html notranslate\"><code><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>bundle.v123.js<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span><span class=\"token script\"></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>link</span> <span class=\"token attr-name\">rel</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>stylesheet<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>build.v123.css<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">&gt;</span></span>\n  hello\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">&gt;</span></span>\n</code></pre></div>\n<p>For that case, <code>no-cache</code> would be appropriate — rather than <code>no-store</code> — since we don't want to store HTML, but instead just want it to always be up-to-date.</p>\n<p>Furthermore, adding <code>Last-Modified</code> and <code>ETag</code> will allow clients to send conditional requests, and a <code>304 Not Modified</code> can be returned if there have been no updates to the HTML:</p>\n<div class=\"code-example\"><pre class=\"brush: http notranslate\"><code><span class=\"token response-status\"><span class=\"token http-version property\">HTTP/1.1</span> <span class=\"token status-code number\">200</span> <span class=\"token reason-phrase string\">OK</span></span>\n<span class=\"token header\"><span class=\"token header-name keyword\">Content-Type</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">text/html</span></span>\n<span class=\"token header\"><span class=\"token header-name keyword\">Content-Length</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">1024</span></span>\n<span class=\"token header\"><span class=\"token header-name keyword\">Cache-Control</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">no-cache</span></span>\n<span class=\"token header\"><span class=\"token header-name keyword\">Last-Modified</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">Tue, 22 Feb 2022 20:20:20 GMT</span></span>\n<span class=\"token header\"><span class=\"token header-name keyword\">ETag</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">AAPuIbAOdvAGEETbgAAAAAAABAAE</span></span>\n</code></pre></div>\n<p>That setting is appropriate for non-personalized HTML, but for a response that gets personalized using cookies — for example, after a login — don't forget to also specify <code>private</code>:</p>\n<div class=\"code-example\"><pre class=\"brush: http notranslate\"><code><span class=\"token response-status\"><span class=\"token http-version property\">HTTP/1.1</span> <span class=\"token status-code number\">200</span> <span class=\"token reason-phrase string\">OK</span></span>\n<span class=\"token header\"><span class=\"token header-name keyword\">Content-Type</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">text/html</span></span>\n<span class=\"token header\"><span class=\"token header-name keyword\">Content-Length</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">1024</span></span>\n<span class=\"token header\"><span class=\"token header-name keyword\">Cache-Control</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">no-cache, private</span></span>\n<span class=\"token header\"><span class=\"token header-name keyword\">Last-Modified</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">Tue, 22 Feb 2022 20:20:20 GMT</span></span>\n<span class=\"token header\"><span class=\"token header-name keyword\">ETag</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">AAPuIbAOdvAGEETbgAAAAAAABAAE</span></span>\n<span class=\"token header\"><span class=\"token header-name keyword\">Set-Cookie</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">__Host-SID=AHNtAyt3fvJrUL5g5tnGwER; Secure; Path=/; HttpOnly</span></span>\n</code></pre></div>\n<p>The same can be used for <code>favicon.ico</code>, <code>manifest.json</code>, <code>.well-known</code>, and API endpoints whose URLs cannot be changed using cache busting.</p>\n<p>Most web content can be covered by a combination of the two patterns described above.</p>"}},{"type":"prose","value":{"id":"more_about_managed_caches","title":"More about managed caches","isH3":true,"content":"<p>With the method described in previous sections, subresources can be cached for a long time by using cache busting, but main resources (which are usually HTML documents) can't be.</p>\n<p>Caching main resources is difficult because, using just standard directives from the HTTP Caching specification, there's no way to actively delete cache contents when content is updated on the server.</p>\n<p>However, it is possible by deploying a managed cache such as a CDN or service worker.</p>\n<p>For example, a CDN that allows cache purging via an API or dashboard operation would allow for a more aggressive caching strategy by storing the main resource and explicitly purging the relevant cache only when an update occurs on the server.</p>\n<p>A service worker could do the same if it could delete the contents in the Cache API when an update occurs on the server.</p>\n<p>For more information, see the documentation for your CDN, and consult the <a href=\"/en-US/docs/Web/API/Service_Worker_API\">service worker documentation</a>.</p>"}},{"type":"prose","value":{"id":"see_also","title":"See also","isH3":false,"content":"<ul>\n  <li><a href=\"https://datatracker.ietf.org/doc/html/RFC9111\" class=\"external\" rel=\" noopener\">RFC 9111: Hypertext Transfer Protocol (HTTP/1.1): Caching</a></li>\n  <li><a href=\"https://www.mnot.net/cache_docs/\" class=\"external\" rel=\" noopener\">Caching Tutorial - Mark Nottingham</a></li>\n</ul>"}}],"toc":[{"text":"Overview","id":"overview"},{"text":"Types of caches","id":"types_of_caches"},{"text":"Heuristic caching","id":"heuristic_caching"},{"text":"Fresh and stale based on age","id":"fresh_and_stale_based_on_age"},{"text":"Expires or max-age","id":"expires_or_max-age"},{"text":"Vary","id":"vary"},{"text":"Validation","id":"validation"},{"text":"Don't cache","id":"dont_cache"},{"text":"Reload and force reload","id":"reload_and_force_reload"},{"text":"Deleting stored responses","id":"deleting_stored_responses"},{"text":"Request collapse","id":"request_collapse"},{"text":"Common caching patterns","id":"common_caching_patterns"},{"text":"See also","id":"see_also"}],"summary":"The HTTP cache stores a response associated with a request and reuses the stored response for subsequent requests.","popularity":0.0118,"modified":"2022-09-16T00:13:39.000Z","other_translations":[{"title":"HTTP caching","locale":"es","native":"Español"},{"title":"Mise en cache HTTP","locale":"fr","native":"Français"},{"title":"HTTP キャッシュ","locale":"ja","native":"日本語"},{"title":"HTTP caching","locale":"ko","native":"한국어"},{"title":"Cacheamento HTTP","locale":"pt-BR","native":"Português (do Brasil)"},{"title":"HTTP-кеширование","locale":"ru","native":"Русский"},{"title":"HTTP 缓存","locale":"zh-CN","native":"中文 (简体)"},{"title":"HTTP caching","locale":"zh-TW","native":"正體中文 (繁體)"}],"source":{"folder":"en-us/web/http/caching","github_url":"https://github.com/mdn/content/blob/style/old/files/en-us/web/http/caching/index.md","last_commit_url":"https://github.com/mdn/content/commit/08ad9a81effc637a3df1952f111ea96d421bcb3c","filename":"index.md"},"parents":[{"uri":"/en-US/docs/Web","title":"Web technology for developers"},{"uri":"/en-US/docs/Web/HTTP","title":"HTTP"},{"uri":"/en-US/docs/Web/HTTP/Caching","title":"HTTP caching"}],"pageTitle":"HTTP caching - HTTP | MDN","noIndexing":false}}