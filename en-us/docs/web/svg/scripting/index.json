{"doc":{"isMarkdown":true,"isTranslated":false,"isActive":true,"flaws":{},"title":"Scripting","mdn_url":"/en-US/docs/Web/SVG/Scripting","locale":"en-US","native":"English (US)","sidebarHTML":"","body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<p>One can override default browser behaviors with the <code>evt.preventDefault()</code> method, add event listeners to objects with the syntax <code>element.addEventListener(event, function, useCapture)</code>, and set element properties with syntax like <code>svgElement.style.setProperty(\"fill-opacity\", \"0.0\", \"\")</code>. Note the existence of all three arguments setting properties.</p>"}},{"type":"prose","value":{"id":"preventing_default_behavior_in_event_code","title":"Preventing default behavior in event code","isH3":true,"content":"<p>When writing drag and drop code, sometimes you'll find that text on the page gets accidentally selected while dragging. Or if you want to use the backspace key in your code, you want to override the browser's default behavior when the backspace key is pressed, which is to go back to the previous page. The <code>evt.preventDefault()</code> method lets you do this.</p>"}},{"type":"prose","value":{"id":"using_eventlisteners_with_objects","title":"Using <code>eventListeners</code> with objects","isH3":true,"content":"<p>The methods <code>addEventListener()</code> and <code>removeEventListener()</code> are very useful when writing interactive SVG. You can pass an object that implements the <code>handleEvent</code> interface as the second parameter to these methods.</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">function</span> <span class=\"token function\">myRect</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">x<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">,</span> w<span class=\"token punctuation\">,</span> h<span class=\"token punctuation\">,</span> message</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>message <span class=\"token operator\">=</span> message<span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>rect <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">createElementNS</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"http://www.w3.org/2000/svg\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"rect\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>rect<span class=\"token punctuation\">.</span><span class=\"token function\">setAttributeNS</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"x\"</span><span class=\"token punctuation\">,</span> x<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>rect<span class=\"token punctuation\">.</span><span class=\"token function\">setAttributeNS</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"y\"</span><span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>rect<span class=\"token punctuation\">.</span><span class=\"token function\">setAttributeNS</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"width\"</span><span class=\"token punctuation\">,</span> w<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>rect<span class=\"token punctuation\">.</span><span class=\"token function\">setAttributeNS</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"height\"</span><span class=\"token punctuation\">,</span> h<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  document<span class=\"token punctuation\">.</span>documentElement<span class=\"token punctuation\">.</span><span class=\"token function\">appendChild</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>rect<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>rect<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"click\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function-variable function\">handleEvent</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">evt</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">switch</span> <span class=\"token punctuation\">(</span>evt<span class=\"token punctuation\">.</span>type<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">case</span> <span class=\"token string\">\"click\"</span><span class=\"token operator\">:</span>\n        <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>message<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>","titleAsText":"Using eventListeners with objects"}},{"type":"prose","value":{"id":"inter-document_scripting_referencing_embedded_svg","title":"Inter-document scripting: referencing embedded SVG","isH3":true,"content":"<p>When using SVG within HTML, Adobe's SVG Viewer 3.0 automatically includes a window property called <code>svgDocument</code> that points to the SVG document. This is not the case for Mozilla's native SVG implementation; therefore, using <code>window.svgDocument</code> does not work in Mozilla. Instead, you can use</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">const</span> svgDoc <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span>embeds<span class=\"token punctuation\">[</span><span class=\"token string\">\"name_of_svg\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">getSVGDocument</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<p>to get a reference to an embedded SVG document instead.</p>\n<p>The best way to get access to the <a href=\"/en-US/docs/Web/API/Document\"><code>Document</code></a> representing an SVG document is to look at <a href=\"/en-US/docs/Web/API/HTMLIFrameElement/contentDocument\"><code>HTMLIFrameElement.contentDocument</code></a> (if the document is presented in an <a href=\"/en-US/docs/Web/HTML/Element/iframe\"><code>&lt;iframe&gt;</code></a>) or <a href=\"/en-US/docs/Web/API/HTMLObjectElement/contentDocument\"><code>HTMLObjectElement.contentDocument</code></a> (if the document is presented in an <a href=\"/en-US/docs/Web/HTML/Element/object\"><code>&lt;object&gt;</code></a> element), like this:</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">const</span> svgDoc <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"iframe_element\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>contentDocument<span class=\"token punctuation\">;</span>\n</code></pre></div>\n<p>In addition, the <a href=\"/en-US/docs/Web/HTML/Element/iframe\"><code>&lt;iframe&gt;</code></a>, <a href=\"/en-US/docs/Web/HTML/Element/embed\"><code>&lt;embed&gt;</code></a>, and <a href=\"/en-US/docs/Web/HTML/Element/object\"><code>&lt;object&gt;</code></a> elements offer a method, <code>getSVGDocument()</code>, which returns the <a href=\"/en-US/docs/Web/API/XMLDocument\"><code>XMLDocument</code></a> representing the element's embedded SVG or <code>null</code> if the element doesn't represent an SVG document.</p>\n<p>You can also use <code>document.getElementById(\"svg_elem_name\").getSVGDocument()</code>, which gives the same result.</p>\n<div class=\"notecard note\" id=\"sect1\">\n  <p><strong>Note:</strong> You may find documentation referring to an <code>SVGDocument</code> interface. Prior to SVG 2, SVG documents were represented using that interface. However, SVG documents are now represented using the <a href=\"/en-US/docs/Web/API/XMLDocument\"><code>XMLDocument</code></a> interface instead.</p>\n</div>"}},{"type":"prose","value":{"id":"inter-document_scripting_calling_javascript_functions","title":"Inter-document scripting: calling JavaScript functions","isH3":true,"content":"<p>When calling a JavaScript function that resides in the HTML file from an SVG file that is embedded in an HTML document, you should use <code>parent.functionname()</code> to reference the function. Although the Adobe SVG viewer plugin allows the use of <code>functionname()</code>, it's not the preferred way to do things.</p>\n<div class=\"notecard note\" id=\"sect2\">\n  <p><strong>Note:</strong> According to the <a href=\"https://web.archive.org/web/20100223210744/http://wiki.svg.org/Inter-Document_Communication\" class=\"external\" rel=\" noopener\">SVG wiki</a> the <code>\"parent\"</code> JS variable is broken in Adobe's SVG version 6 preview plugin. The suggested workaround is to use <code>\"top\"</code> instead of <code>\"parent\"</code>. Since it is a beta version of their plugin, we can probably safely ignore this.</p>\n</div>\n<p>More information and some examples can be found on the <a href=\"https://web.archive.org/web/20100223210744/http://wiki.svg.org/Inter-Document_Communication\" class=\"external\" rel=\" noopener\">SVG wiki inter-document scripting page</a>.</p>"}},{"type":"prose","value":{"id":"setproperty_has_three_parameters","title":"<code>setProperty</code> has three parameters","isH3":true,"content":"<p>The function <code>svgElement.style.setProperty(\"fill-opacity\", \"0.0\")</code> throws a DOMException - <code>SYNTAX ERR</code> in Mozilla. This behavior is specified by the W3C in the DOM Level 2 Style Specification. The function <code>setProperty</code> is defined as a function with three parameters. The above can be replaced with <code>'svgElement.style.setProperty(\"fill-opacity\", \"0.0\", \"\")'</code>, which is standards compliant.</p>","titleAsText":"setProperty has three parameters"}},{"type":"prose","value":{"id":"links","title":"Links","isH3":true,"content":"<p><a href=\"https://web.archive.org/web/20100212202713/http://wiki.svg.org/Main_Page#Scripting_and_Programming\" class=\"external\" rel=\" noopener\">SVG wiki on Scripting and Programming</a></p>"}}],"toc":[],"summary":"One can override default browser behaviors with the evt.preventDefault() method, add event listeners to objects with the syntax element.addEventListener(event, function, useCapture), and set element properties with syntax like svgElement.style.setProperty(\"fill-opacity\", \"0.0\", \"\"). Note the existence of all three arguments setting properties.","popularity":0,"modified":"2022-09-09T07:06:10.000Z","other_translations":[{"title":"スクリプティング","locale":"ja","native":"日本語"}],"source":{"folder":"en-us/web/svg/scripting","github_url":"https://github.com/mdn/content/blob/style/old/files/en-us/web/svg/scripting/index.md","last_commit_url":"https://github.com/mdn/content/commit/f4f8e2f18ccf19a0bee59e1fe78753e276b98232","filename":"index.md"},"parents":[{"uri":"/en-US/docs/Web","title":"Web technology for developers"},{"uri":"/en-US/docs/Web/SVG","title":"SVG: Scalable Vector Graphics"},{"uri":"/en-US/docs/Web/SVG/Scripting","title":"Scripting"}],"pageTitle":"Scripting - SVG: Scalable Vector Graphics | MDN","noIndexing":false}}