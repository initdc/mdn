{"doc":{"isMarkdown":true,"isTranslated":false,"isActive":true,"flaws":{},"title":"Invalid cookie domain","mdn_url":"/en-US/docs/Web/WebDriver/Errors/InvalidCookieDomain","locale":"en-US","native":"English (US)","sidebarHTML":"\n<ol><li><a href=\"/en-US/docs/Web/WebDriver/Errors/InsecureCertificate\">Insecure certificate</a></li><li><a href=\"/en-US/docs/Web/WebDriver/Errors/InvalidArgument\">Invalid argument</a></li><li><a href=\"/en-US/docs/Web/WebDriver/Errors/InvalidCookieDomain\">Invalid cookie domain</a></li><li><a href=\"/en-US/docs/Web/WebDriver/Errors/InvalidSelector\">Invalid selector</a></li><li><a href=\"/en-US/docs/Web/WebDriver/Errors/InvalidSessionID\">Invalid session ID</a></li><li><a href=\"/en-US/docs/Web/WebDriver/Errors/JavaScriptError\">JavaScript error</a></li><li><a href=\"/en-US/docs/Web/WebDriver/Errors/ScriptTimeout\">Script timeout</a></li><li><a href=\"/en-US/docs/Web/WebDriver/Errors/StaleElementReference\">Stale element reference</a></li><li><a href=\"/en-US/docs/Web/WebDriver/Errors/UnknownCommand\">Unknown command</a></li><li><a href=\"/en-US/docs/Web/WebDriver/Errors/UnknownError\">Unknown error</a></li><li><a href=\"/en-US/docs/Web/WebDriver/Errors/UnknownMethod\">Unknown method</a></li></ol>\n","body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<p>The <strong>invalid cookie domain</strong> error is a <a href=\"/en-US/docs/Web/WebDriver/Errors\">WebDriver error</a> that occurs when an illegal attempt was made to set a <a href=\"/en-US/docs/Glossary/Cookie\">cookie</a> under a different <a href=\"/en-US/docs/Glossary/Domain\">domain</a> than that of the current document.</p>\n<p>In WebDriver it is not permissible to set cookies for other domains than the domain of the <a href=\"/en-US/docs/Glossary/Browsing_context\">current browsing context</a>'s <a href=\"/en-US/docs/Web/API/Document\">document</a>'s domain.</p>\n<p>This error will also happen if the document is <em>cookie-averse</em>, that is if the document is not loaded via <code>http://</code>, <code>https://</code>, or <code>ftp://</code>.</p>"}},{"type":"prose","value":{"id":"example","title":"Example","isH3":false,"content":""}},{"type":"prose","value":{"id":"other_domains","title":"Other domains","isH3":true,"content":"<p>If the current domain were to be <code>example.com</code>, it would not be possible to <a href=\"/en-US/docs/Web/WebDriver/Commands/AddCookie\" class=\"page-not-created\" title=\"This is a link to an unwritten page\">add a cookie</a> for the domain <code>example.org</code>:</p>\n<div class=\"code-example\"><pre class=\"brush: python notranslate\"><code><span class=\"token keyword\">from</span> selenium <span class=\"token keyword\">import</span> webdriver\n<span class=\"token keyword\">from</span> selenium<span class=\"token punctuation\">.</span>common <span class=\"token keyword\">import</span> exceptions\n\nsession <span class=\"token operator\">=</span> webdriver<span class=\"token punctuation\">.</span>Firefox<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\nsession<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span><span class=\"token string\">\"https://example.com/\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">try</span><span class=\"token punctuation\">:</span>\n    cookie <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token string\">\"name\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"foo\"</span><span class=\"token punctuation\">,</span>\n              <span class=\"token string\">\"value\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"bar\"</span><span class=\"token punctuation\">,</span>\n              <span class=\"token string\">\"domain\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"example.org\"</span><span class=\"token punctuation\">}</span>\n    session<span class=\"token punctuation\">.</span>add_cookie<span class=\"token punctuation\">(</span>cookie<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">except</span> exceptions<span class=\"token punctuation\">.</span>InvalidCookieDomainException <span class=\"token keyword\">as</span> e<span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">.</span>message<span class=\"token punctuation\">)</span>\n</code></pre></div>\n<p>Output:</p>\n<pre class=\"notranslate\">InvalidCookieDomainException: https://example.org/\n</pre>"}},{"type":"prose","value":{"id":"cookie-averse_documents","title":"Cookie-averse documents","isH3":true,"content":"<p>This error may also occur when you visit a cookie-averse document, such as a file on your local disk:</p>\n<div class=\"code-example\"><pre class=\"brush: python notranslate\"><code><span class=\"token keyword\">from</span> selenium <span class=\"token keyword\">import</span> webdriver\n<span class=\"token keyword\">from</span> selenium<span class=\"token punctuation\">.</span>common <span class=\"token keyword\">import</span> exceptions\n\nsession <span class=\"token operator\">=</span> webdriver<span class=\"token punctuation\">.</span>Firefox<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\nsession<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span><span class=\"token string\">\"file:///home/jdoe/document.html\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">try</span><span class=\"token punctuation\">:</span>\n    foo_cookie <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token string\">\"name\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"foo\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"value\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"bar\"</span><span class=\"token punctuation\">}</span>\n    session<span class=\"token punctuation\">.</span>add_cookie<span class=\"token punctuation\">(</span>foo_cookie<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">except</span> exceptions<span class=\"token punctuation\">.</span>InvalidCookieDomainException <span class=\"token keyword\">as</span> e<span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">.</span>message<span class=\"token punctuation\">)</span>\n</code></pre></div>\n<p>Output:</p>\n<pre class=\"notranslate\">InvalidCookieDomainException: Document is cookie-averse\n</pre>"}},{"type":"prose","value":{"id":"see_also","title":"See also","isH3":false,"content":"<ul>\n  <li><a href=\"/en-US/docs/Web/WebDriver/Errors\">List of WebDriver errors</a></li>\n  <li>Relevant WebDriver commands:\n    <ul>\n      <li><a href=\"/en-US/docs/Web/WebDriver/Commands/AddCookie\" class=\"page-not-created\" title=\"This is a link to an unwritten page\">Add Cookie</a></li>\n      <li><a href=\"/en-US/docs/Web/WebDriver/Commands/DeleteCookie\" class=\"page-not-created\" title=\"This is a link to an unwritten page\">Delete Cookie</a></li>\n      <li><a href=\"/en-US/docs/Web/WebDriver/Commands/DeleteAllCookies\" class=\"page-not-created\" title=\"This is a link to an unwritten page\">Delete All Cookies</a></li>\n      <li><a href=\"/en-US/docs/Web/WebDriver/Commands/GetAllCookies\" class=\"page-not-created\" title=\"This is a link to an unwritten page\">Get All Cookies</a></li>\n      <li><a href=\"/en-US/docs/Web/WebDriver/Commands/GetNamedCookie\" class=\"page-not-created\" title=\"This is a link to an unwritten page\">Get Named Cookie</a></li>\n    </ul>\n  </li>\n</ul>"}}],"toc":[{"text":"Example","id":"example"},{"text":"See also","id":"see_also"}],"summary":"The invalid cookie domain error is a WebDriver error that occurs when an illegal attempt was made to set a cookie under a different domain than that of the current document.","popularity":0.001,"modified":"2022-09-05T02:59:05.000Z","source":{"folder":"en-us/web/webdriver/errors/invalidcookiedomain","github_url":"https://github.com/mdn/content/blob/style/old/files/en-us/web/webdriver/errors/invalidcookiedomain/index.md","last_commit_url":"https://github.com/mdn/content/commit/a9005b03657fb1332dfa66515ff4f42f5a8bb56b","filename":"index.md"},"parents":[{"uri":"/en-US/docs/Web","title":"Web technology for developers"},{"uri":"/en-US/docs/Web/WebDriver","title":"WebDriver"},{"uri":"/en-US/docs/Web/WebDriver/Errors","title":"WebDriver errors"},{"uri":"/en-US/docs/Web/WebDriver/Errors/InvalidCookieDomain","title":"Invalid cookie domain"}],"pageTitle":"Invalid cookie domain - WebDriver | MDN","noIndexing":false}}