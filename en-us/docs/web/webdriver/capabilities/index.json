{"doc":{"isMarkdown":true,"isTranslated":false,"isActive":true,"flaws":{},"title":"Capabilities","mdn_url":"/en-US/docs/Web/WebDriver/Capabilities","locale":"en-US","native":"English (US)","sidebarHTML":"\n<ol><li><a href=\"/en-US/docs/Web/WebDriver/Capabilities\">Capabilities</a><ol><li><a href=\"/en-US/docs/Web/WebDriver/Capabilities\">Capabilities</a></li><li><a href=\"/en-US/docs/Web/WebDriver/Capabilities/acceptInsecureCerts\">acceptInsecureCerts</a></li><li><a href=\"/en-US/docs/Web/WebDriver/Capabilities/firefoxOptions\">firefoxOptions</a></li><li><a href=\"/en-US/docs/Web/WebDriver/Capabilities/webSocketUrl\">webSocketUrl</a></li></ol></li><li><a href=\"/en-US/docs/Web/WebDriver/Commands\">Commands</a><ol><li><a href=\"/en-US/docs/Web/WebDriver/Commands\">Commands</a></li><li><a href=\"/en-US/docs/Web/WebDriver/Commands/CloseWindow\">Close Window</a></li><li><a href=\"/en-US/docs/Web/WebDriver/Commands/GetElementAttribute\">Get Element Attribute</a></li><li><a href=\"/en-US/docs/Web/WebDriver/Commands/GetElementProperty\">Get Element Property</a></li><li><a href=\"/en-US/docs/Web/WebDriver/Commands/GetElementTagName\">Get Element Tag Name</a></li><li><a href=\"/en-US/docs/Web/WebDriver/Commands/GetTimeouts\">Get Timeouts</a></li><li><a href=\"/en-US/docs/Web/WebDriver/Commands/GetWindowHandles\">Get Window Handles</a></li><li><a href=\"/en-US/docs/Web/WebDriver/Commands/GetWindowRect\">Get Window Rect</a></li><li><a href=\"/en-US/docs/Web/WebDriver/Commands/New_Window\">New Window</a></li><li><a href=\"/en-US/docs/Web/WebDriver/Commands/SetTimeouts\">Set Timeouts</a></li><li><a href=\"/en-US/docs/Web/WebDriver/Commands/SetWindowRect\">Set Window Rect</a></li></ol></li><li><a href=\"/en-US/docs/Web/WebDriver/Timeouts\">Timeouts</a></li><li><a href=\"/en-US/docs/Web/WebDriver/Errors\">WebDriver errors</a><ol><li><a href=\"/en-US/docs/Web/WebDriver/Errors\">WebDriver errors</a></li><li><a href=\"/en-US/docs/Web/WebDriver/Errors/InsecureCertificate\">Insecure certificate</a></li><li><a href=\"/en-US/docs/Web/WebDriver/Errors/InvalidArgument\">Invalid argument</a></li><li><a href=\"/en-US/docs/Web/WebDriver/Errors/InvalidCookieDomain\">Invalid cookie domain</a></li><li><a href=\"/en-US/docs/Web/WebDriver/Errors/InvalidSelector\">Invalid selector</a></li><li><a href=\"/en-US/docs/Web/WebDriver/Errors/InvalidSessionID\">Invalid session ID</a></li><li><a href=\"/en-US/docs/Web/WebDriver/Errors/JavaScriptError\">JavaScript error</a></li><li><a href=\"/en-US/docs/Web/WebDriver/Errors/ScriptTimeout\">Script timeout</a></li><li><a href=\"/en-US/docs/Web/WebDriver/Errors/StaleElementReference\">Stale element reference</a></li><li><a href=\"/en-US/docs/Web/WebDriver/Errors/UnknownCommand\">Unknown command</a></li><li><a href=\"/en-US/docs/Web/WebDriver/Errors/UnknownError\">Unknown error</a></li><li><a href=\"/en-US/docs/Web/WebDriver/Errors/UnknownMethod\">Unknown method</a></li></ol></li></ol>\n","body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<p>WebDriver <strong><em>capabilities</em></strong> are used to communicate the features supported by a <a href=\"/en-US/docs/Web/WebDriver\">session</a>. A client may also use capabilities to define which features it requires the driver to satisfy when <a href=\"/en-US/docs/Web/WebDriver/Commands/NewSession\" class=\"page-not-created\" title=\"This is a link to an unwritten page\">creating a new session</a>.</p>\n<p>When a WebDriver session is created it returns a set of capabilities describing the negotiated, effective capabilities of the session. Some of the capabilities included in this set are <a href=\"#list-of-capabilities\">standard and shared between all browsers</a>, but the set may also contain <a href=\"#vendor-specific-capabilities\">browser-specific capabilities</a> and these are always prefixed.</p>"}},{"type":"prose","value":{"id":"capabilities_negotiation","title":"Capabilities negotiation","isH3":false,"content":"<p>Capabilities can be used to require a driver that supports a certain subset of features. This can be used to require certain browser features, such as the <a href=\"/en-US/docs/Web/WebDriver/Capabilities/setWindowRect\" class=\"page-not-created\" title=\"This is a link to an unwritten page\">ability to resize the window dimensions</a>, but is also used in distributed environments to select a particular browser configuration from a matrix of choices.</p>\n<p>Selecting a particular web browser or platform only makes sense when you use a remote WebDriver. In this case the client makes contact with WebDriver through one or more intermediary nodes which negotiates which driver to return to you based on the capabilities it receives.</p>\n<p>The capabilities object is a selection mechanism that limits which driver configurations the server will return. If you request a Firefox instance using <code>browserName</code> and Firefox is not installed on the remote, or macOS from a remote that only supports Linux, you may be out of luck. But occasionally you may not care which specific operating system or web browser your session has: you just want a session that has some <em>capability</em>.</p>\n<p>The selection process, or the <em>capabilities negotiation</em>, is done through <code>alwaysMatch</code> and <code>firstMatch</code>.</p>"}},{"type":"prose","value":{"id":"alwaysmatch","title":"<code>alwaysMatch</code>","isH3":true,"content":"<p>As the name suggests, capabilities described inside the <code>alwaysMatch</code> capabilities object are features you <em>require</em> the session to have. If the server can not provide what features you require, it will fail.</p>\n<p>If for example you ask for Firefox version 62 on a system that only has 60 installed, the session creation will fail:</p>\n<div class=\"code-example\"><pre class=\"brush: json notranslate\"><code><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"capabilities\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"alwaysMatch\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"browserName\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"firefox\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"browserVersion\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"60\"</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>","titleAsText":"alwaysMatch"}},{"type":"prose","value":{"id":"firstmatch","title":"<code>firstMatch</code>","isH3":true,"content":"<p>The <code>firstMatch</code> field accepts <em>an array</em> of capabilities objects which will be matched in turn until one matches what the server can provide, or it will fail.</p>\n<p>This can be useful when you want a driver that runs on macOS or Linux, but not Windows:</p>\n<div class=\"code-example\"><pre class=\"brush: json notranslate\"><code><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"capabilities\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"firstMatch\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n      <span class=\"token punctuation\">{</span><span class=\"token property\">\"platformName\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"macos\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">{</span><span class=\"token property\">\"platformName\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"linux\"</span><span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">]</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>","titleAsText":"firstMatch"}},{"type":"prose","value":{"id":"combining_alwaysmatch_and_firstmatch","title":"Combining <code>alwaysMatch</code> and <code>firstMatch</code>","isH3":true,"content":"<p><code>firstMatch</code> can of course be combined with <code>alwaysMatch</code> to narrow down the selection. If for example you a driver that runs on macOS or Linux but it <em>has</em> to be Firefox:</p>\n<div class=\"code-example\"><pre class=\"brush: json notranslate\"><code><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"capabilities\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"alwaysMatch\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"browserName\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"firefox\"</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"firstMatch\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n      <span class=\"token punctuation\">{</span><span class=\"token property\">\"platformName\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"macos\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">{</span><span class=\"token property\">\"platformName\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"linux\"</span><span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">]</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>The previous example is exactly equivalent to putting the Firefox requirement in each <code>firstMatch</code> arm:</p>\n<div class=\"code-example\"><pre class=\"brush: json notranslate\"><code><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"capabilities\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"firstMatch\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">[</span>\n      <span class=\"token punctuation\">{</span><span class=\"token property\">\"browserName\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"firefox\"</span><span class=\"token punctuation\">,</span> <span class=\"token property\">\"platformName\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"macos\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">{</span><span class=\"token property\">\"browserName\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"firefox\"</span><span class=\"token punctuation\">,</span> <span class=\"token property\">\"platformName\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"linux\"</span><span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">]</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>Which you choose of the two preceding examples is not important, but it can matter when pass along browser configuration. To avoid unnecessarily repeating data, such as profiles, it is advisable to make use of <code>alwaysMatch</code> so that this data is only transmitted across the wire once:</p>\n<div class=\"code-example\"><pre class=\"brush: json notranslate\"><code><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"capabilities\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"alwaysMatch\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"browserName\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"firefox\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"moz:firefoxOptions\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token property\">\"profile\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"&lt;base64 encoded profile&gt;\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"args\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"-headless\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"prefs\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span><span class=\"token property\">\"dom.ipc.processCount\"</span><span class=\"token operator\">:</span> <span class=\"token number\">8</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"log\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"level\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"trace\"</span><span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"firstMatch\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n      <span class=\"token punctuation\">{</span><span class=\"token property\">\"platformName\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"macos\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">{</span><span class=\"token property\">\"platformName\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"linux\"</span><span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">]</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>","titleAsText":"Combining alwaysMatch and firstMatch"}},{"type":"prose","value":{"id":"list_of_capabilities","title":"List of capabilities","isH3":false,"content":"<ul>\n  <li><a href=\"/en-US/docs/Web/WebDriver/Capabilities/browserName\" class=\"page-not-created\" title=\"This is a link to an unwritten page\"><code>browserName</code></a></li>\n  <li><a href=\"/en-US/docs/Web/WebDriver/Capabilities/browserVersion\" class=\"page-not-created\" title=\"This is a link to an unwritten page\"><code>browserVersion</code></a></li>\n  <li><a href=\"/en-US/docs/Web/WebDriver/Capabilities/platformName\" class=\"page-not-created\" title=\"This is a link to an unwritten page\"><code>platformName</code></a></li>\n  <li><a href=\"/en-US/docs/Web/WebDriver/Capabilities/acceptInsecureCerts\"><code>acceptInsecureCerts</code></a>: This capability communicates whether expired or invalid <a href=\"/en-US/docs/Glossary/TLS\">TLS certificates</a> are checked when <a href=\"/en-US/docs/Web/WebDriver/Commands/NavigateTo\" class=\"page-not-created\" title=\"This is a link to an unwritten page\">navigating</a>. If the capability is false, an <a href=\"/en-US/docs/Web/WebDriver/Errors/InsecureCertificate\">insecure certificate</a> error will be returned as navigation encounters domains with certificate problems. Otherwise, self-signed or otherwise invalid certificates will be implicitly trusted by the browser on navigation. The capability has effect for the lifetime of the session.</li>\n  <li><a href=\"/en-US/docs/Web/WebDriver/Capabilities/pageLoadStrategy\" class=\"page-not-created\" title=\"This is a link to an unwritten page\"><code>pageLoadStrategy</code></a></li>\n  <li><a href=\"/en-US/docs/Web/WebDriver/Capabilities/proxy\" class=\"page-not-created\" title=\"This is a link to an unwritten page\"><code>proxy</code></a></li>\n  <li><a href=\"/en-US/docs/Web/WebDriver/Capabilities/setWindowRect\" class=\"page-not-created\" title=\"This is a link to an unwritten page\"><code>setWindowRect</code></a></li>\n  <li><a href=\"/en-US/docs/Web/WebDriver/Capabilities/timeouts\" class=\"page-not-created\" title=\"This is a link to an unwritten page\"><code>timeouts</code></a></li>\n  <li><a href=\"/en-US/docs/Web/WebDriver/Capabilities/unhandledPromptBehavior\" class=\"page-not-created\" title=\"This is a link to an unwritten page\"><code>unhandledPromptBehavior</code></a></li>\n</ul>"}},{"type":"prose","value":{"id":"vendor-specific_capabilities","title":"Vendor-specific capabilities","isH3":false,"content":"<p>In addition to the <a href=\"#list-of-capabilities\">standard capabilities</a> WebDriver allows third-parties to <em>extend</em> the set of capabilities to match their needs. Browser vendors and suppliers of drivers typically use extension capabilities to provide configuration to the browser, but they can also be used by intermediaries for arbitrary blobs of information.</p>\n<ul>\n  <li><a href=\"/en-US/docs/Web/WebDriver/Capabilities/firefoxOptions\">Firefox capabilities</a> (<code>moz:firefoxOptions</code>)</li>\n  <li><a href=\"/en-US/docs/Web/WebDriver/Capabilities/goog/chromeOptions\" class=\"page-not-created\" title=\"This is a link to an unwritten page\">Chrome capabilities</a> (<code>goog:chromeOptions</code>)</li>\n</ul>"}},{"type":"prose","value":{"id":"legacy_capabilities","title":"Legacy capabilities","isH3":false,"content":"<p>The majority of Selenium clients use <code>desiredCapabilities</code> and <code>requiredCapabilities</code> to configure the new session. These are very similar to <code>firstMatch</code> and <code>alwaysMatch</code> described above. Some drivers support these legacy capabilities, but they are deprecated and should be avoided.</p>\n<p>Converting a legacy capabilities object into the new style is easy. The first thing you need to know is that <code>alwaysMatch</code>/<code>firstMatch</code> is <em>always</em> wrapped inside a <code>capabilities</code> JSON Object, whereas <code>desiredCapabilities</code>/<code>requiredCapabilities</code> exists at the top level. Generally speaking, anything that has previously gone in <code>desiredCapabilities</code> should go in a <code>firstMatch</code> branch arm to achieve the same effect.</p>\n<p>Take this deprecated capabilities object:</p>\n<div class=\"code-example\"><pre class=\"brush: json notranslate\"><code><span class=\"token punctuation\">{</span><span class=\"token property\">\"desiredCapabilities\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span><span class=\"token property\">\"browserName\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"firefox\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>This would be functionally equivalent in the new style:</p>\n<div class=\"code-example\"><pre class=\"brush: json notranslate\"><code><span class=\"token punctuation\">{</span><span class=\"token property\">\"capabilities\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span><span class=\"token property\">\"firstMatch\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">{</span><span class=\"token property\">\"browserName\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"firefox\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>But because there is only one <code>firstMatch</code> arm, and we know that session creation will fail if the server doesn't have a Firefox installed, it is also equivalent to this:</p>\n<div class=\"code-example\"><pre class=\"brush: json notranslate\"><code><span class=\"token punctuation\">{</span><span class=\"token property\">\"capabilities\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span><span class=\"token property\">\"alwaysMatch\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span><span class=\"token property\">\"browserName\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"firefox\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n</code></pre></div>"}},{"type":"prose","value":{"id":"see_also","title":"See also","isH3":false,"content":"<ul>\n  <li><a href=\"/en-US/docs/Web/WebDriver/Commands/NewSession\" class=\"page-not-created\" title=\"This is a link to an unwritten page\">New Session</a> command</li>\n  <li><a href=\"/en-US/docs/Web/WebDriver/Commands/NewSession\" class=\"page-not-created\" title=\"This is a link to an unwritten page\">Delete Session</a> command</li>\n</ul>"}}],"toc":[{"text":"Capabilities negotiation","id":"capabilities_negotiation"},{"text":"List of capabilities","id":"list_of_capabilities"},{"text":"Vendor-specific capabilities","id":"vendor-specific_capabilities"},{"text":"Legacy capabilities","id":"legacy_capabilities"},{"text":"See also","id":"see_also"}],"summary":"WebDriver capabilities are used to communicate the features supported by a session. A client may also use capabilities to define which features it requires the driver to satisfy when creating a new session.","popularity":0.0011,"modified":"2022-09-05T02:59:05.000Z","source":{"folder":"en-us/web/webdriver/capabilities","github_url":"https://github.com/mdn/content/blob/style/old/files/en-us/web/webdriver/capabilities/index.md","last_commit_url":"https://github.com/mdn/content/commit/a9005b03657fb1332dfa66515ff4f42f5a8bb56b","filename":"index.md"},"parents":[{"uri":"/en-US/docs/Web","title":"Web technology for developers"},{"uri":"/en-US/docs/Web/WebDriver","title":"WebDriver"},{"uri":"/en-US/docs/Web/WebDriver/Capabilities","title":"Capabilities"}],"pageTitle":"Capabilities - WebDriver | MDN","noIndexing":false}}