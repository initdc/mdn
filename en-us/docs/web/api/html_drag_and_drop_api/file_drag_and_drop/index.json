{"doc":{"isMarkdown":true,"isTranslated":false,"isActive":true,"flaws":{},"title":"File drag and drop","mdn_url":"/en-US/docs/Web/API/HTML_Drag_and_Drop_API/File_drag_and_drop","locale":"en-US","native":"English (US)","sidebarHTML":"<ol><li><strong><a href=\"/en-US/docs/Web/API/HTML_Drag_and_Drop_API\">HTML Drag and Drop API</a></strong></li><li class=\"toggle\"><details open=\"\"><summary>Guides</summary><ol><li><a href=\"/en-US/docs/Web/API/HTML_Drag_and_Drop_API/File_drag_and_drop\">File drag and drop</a></li><li><a href=\"/en-US/docs/Web/API/HTML_Drag_and_Drop_API/Drag_operations\">Drag operations</a></li><li><a href=\"/en-US/docs/Web/API/HTML_Drag_and_Drop_API/Multiple_items\">Dragging and Dropping Multiple Items</a></li><li><a href=\"/en-US/docs/Web/API/HTML_Drag_and_Drop_API/Recommended_drag_types\">Recommended Drag Types</a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>Interfaces</summary><ol><li><a href=\"/en-US/docs/Web/API/DataTransfer\"><code>DataTransfer</code></a></li><li><a href=\"/en-US/docs/Web/API/DataTransferItem\"><code>DataTransferItem</code></a></li><li><a href=\"/en-US/docs/Web/API/DataTransferItemList\"><code>DataTransferItemList</code></a></li><li><a href=\"/en-US/docs/Web/API/DragEvent\"><code>DragEvent</code></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>Events</summary><ol><li><a href=\"/en-US/docs/Web/API/Document/drag_event\"><code>Document</code>: <code>drag</code></a></li><li><a href=\"/en-US/docs/Web/API/Document/dragend_event\"><code>Document</code>: <code>dragend</code></a></li><li><a href=\"/en-US/docs/Web/API/Document/dragenter_event\"><code>Document</code>: <code>dragenter</code></a></li><li><a href=\"/en-US/docs/Web/API/Document/dragleave_event\"><code>Document</code>: <code>dragleave</code></a></li><li><a href=\"/en-US/docs/Web/API/Document/dragover_event\"><code>Document</code>: <code>dragover</code></a></li><li><a href=\"/en-US/docs/Web/API/Document/dragstart_event\"><code>Document</code>: <code>dragstart</code></a></li><li><a href=\"/en-US/docs/Web/API/Document/drop_event\"><code>Document</code>: <code>drop</code></a></li></ol></details></li></ol>","body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<p>HTML Drag and Drop interfaces enable web applications to drag and drop files on a web page. This document describes how an application can accept one or more files that are dragged from the underlying platform's <em>file manager</em> and dropped on a web page.</p>\n<p>The main steps to drag and drop are to define a <em>drop zone</em> (i.e. a target element for the file drop) and to define event handlers for the <a href=\"/en-US/docs/Web/API/HTMLElement/drop_event\" title=\"drop\"><code>drop</code></a> and <a href=\"/en-US/docs/Web/API/HTMLElement/dragover_event\" title=\"dragover\"><code>dragover</code></a> events. These steps are described below, including example code snippets. The full source code is available in <a href=\"https://github.com/mdn/dom-examples/tree/main/drag-and-drop\" class=\"external\" rel=\" noopener\">MDN's drag-and-drop repository</a> (pull requests and/or issues are welcome).</p>\n<p>Note that <a href=\"/en-US/docs/Web/API/HTML_Drag_and_Drop_API\" title=\"HTML drag and drop\"><code>HTML drag and drop</code></a> defines two different APIs to support dragging and dropping files. One API is the <a href=\"/en-US/docs/Web/API/DataTransfer\"><code>DataTransfer</code></a> interface and the second API is the <a href=\"/en-US/docs/Web/API/DataTransferItem\"><code>DataTransferItem</code></a> and <a href=\"/en-US/docs/Web/API/DataTransferItemList\"><code>DataTransferItemList</code></a> interfaces. This example illustrates the use of both APIs (and does not use any Gecko specific interfaces).</p>"}},{"type":"prose","value":{"id":"define_the_drop_zone","title":"Define the drop zone","isH3":false,"content":"<p>The <em>target element</em> of the <a href=\"/en-US/docs/Web/API/HTMLElement/drop_event\" title=\"drop\"><code>drop</code></a> event needs an <code>ondrop</code> event handler. The following code snippet shows how this is done with a <a href=\"/en-US/docs/Web/HTML/Element/div\"><code>&lt;div&gt;</code></a> element:</p>\n<div class=\"code-example\"><pre class=\"brush: html notranslate\"><code><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>drop_zone<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">ondrop</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>dropHandler(event);<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">&gt;</span></span>Drag one or more files to this <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>i</span><span class=\"token punctuation\">&gt;</span></span>drop zone<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>i</span><span class=\"token punctuation\">&gt;</span></span>.<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n</code></pre></div>\n<p>Typically, an application will include a <a href=\"/en-US/docs/Web/API/HTMLElement/dragover_event\" title=\"dragover\"><code>dragover</code></a> event handler on the drop target element and that handler will turn off the browser's default drag behavior. To add this handler, you need to include a <a href=\"/en-US/docs/Web/API/HTMLElement/dragover_event\" title=\"ondragover\"><code>ondragover</code></a> event handler:</p>\n<div class=\"code-example\"><pre class=\"brush: html notranslate\"><code><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span>\n  <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>drop_zone<span class=\"token punctuation\">\"</span></span>\n  <span class=\"token attr-name\">ondrop</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>dropHandler(event);<span class=\"token punctuation\">\"</span></span>\n  <span class=\"token attr-name\">ondragover</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>dragOverHandler(event);<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">&gt;</span></span>Drag one or more files to this <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>i</span><span class=\"token punctuation\">&gt;</span></span>drop zone<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>i</span><span class=\"token punctuation\">&gt;</span></span>.<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n</code></pre></div>\n<p>Lastly, an application may want to style the drop target element to visually indicate the element is a drop zone. In this example, the drop target element uses the following styling:</p>\n<div class=\"code-example\"><pre class=\"brush: css notranslate\"><code><span class=\"token selector\">#drop_zone</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">border</span><span class=\"token punctuation\">:</span> 5px solid blue<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">width</span><span class=\"token punctuation\">:</span> 200px<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">height</span><span class=\"token punctuation\">:</span> 100px<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<div class=\"notecard note\" id=\"sect1\">\n  <p><strong>Note:</strong> <code>dragstart</code> and <code>dragend</code> events are not fired when dragging a file into the browser from the OS.</p>\n</div>"}},{"type":"prose","value":{"id":"process_the_drop","title":"Process the drop","isH3":false,"content":"<p>The <a href=\"/en-US/docs/Web/API/HTMLElement/drop_event\" title=\"drop\"><code>drop</code></a> event is fired when the user drops the file(s). In the following drop handler, if the browser supports <a href=\"/en-US/docs/Web/API/DataTransferItemList\"><code>DataTransferItemList</code></a> interface, the <a href=\"/en-US/docs/Web/API/DataTransferItem/getAsFile\" title=\"getAsFile()\"><code>getAsFile()</code></a> method is used to access each file; otherwise the <a href=\"/en-US/docs/Web/API/DataTransfer\"><code>DataTransfer</code></a> interface's <a href=\"/en-US/docs/Web/API/DataTransfer/files\" title=\"files\"><code>files</code></a> property is used to access each file.</p>\n<p>This example shows how to write the name of each dragged file to the console. In a <em>real</em> application, an application may want to process a file using the <a href=\"/en-US/docs/Web/API/File\" title=\"File API\"><code>File API</code></a>.</p>\n<p>Note that in this example, any drag item that is not a file is ignored.</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">function</span> <span class=\"token function\">dropHandler</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">ev</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'File(s) dropped'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// Prevent default behavior (Prevent file from being opened)</span>\n  ev<span class=\"token punctuation\">.</span><span class=\"token function\">preventDefault</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>ev<span class=\"token punctuation\">.</span>dataTransfer<span class=\"token punctuation\">.</span>items<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// Use DataTransferItemList interface to access the file(s)</span>\n    <span class=\"token punctuation\">[</span><span class=\"token operator\">...</span>ev<span class=\"token punctuation\">.</span>dataTransfer<span class=\"token punctuation\">.</span>items<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">item<span class=\"token punctuation\">,</span> i</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token comment\">// If dropped items aren't files, reject them</span>\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>item<span class=\"token punctuation\">.</span>kind <span class=\"token operator\">===</span> <span class=\"token string\">'file'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">const</span> file <span class=\"token operator\">=</span> item<span class=\"token punctuation\">.</span><span class=\"token function\">getAsFile</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">… file[</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>i<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">].name = </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>file<span class=\"token punctuation\">.</span>name<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// Use DataTransfer interface to access the file(s)</span>\n    <span class=\"token punctuation\">[</span><span class=\"token operator\">...</span>ev<span class=\"token punctuation\">.</span>dataTransfer<span class=\"token punctuation\">.</span>files<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">file<span class=\"token punctuation\">,</span> i</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n      console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">… file[</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>i<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">].name = </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>file<span class=\"token punctuation\">.</span>name<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>"}},{"type":"prose","value":{"id":"prevent_the_browsers_default_drag_behavior","title":"Prevent the browser's default drag behavior","isH3":false,"content":"<p>The following <a href=\"/en-US/docs/Web/API/HTMLElement/dragover_event\" title=\"dragover\"><code>dragover</code></a> event handler calls <a href=\"/en-US/docs/Web/API/Event/preventDefault\" title=\"preventDefault()\"><code>preventDefault()</code></a> to turn off the browser's default drag and drop handler.</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">function</span> <span class=\"token function\">dragOverHandler</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">ev</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'File(s) in drop zone'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// Prevent default behavior (Prevent file from being opened)</span>\n  ev<span class=\"token punctuation\">.</span><span class=\"token function\">preventDefault</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>"}},{"type":"prose","value":{"id":"see_also","title":"See also","isH3":false,"content":"<ul>\n  <li><a href=\"/en-US/docs/Web/API/HTML_Drag_and_Drop_API\">HTML Drag and Drop API</a></li>\n  <li><a href=\"/en-US/docs/Web/API/HTML_Drag_and_Drop_API/Drag_operations\">Drag Operations</a></li>\n  <li><a href=\"https://html.spec.whatwg.org/multipage/interaction.html#dnd\" class=\"external\" rel=\" noopener\">HTML Living Standard: Drag and Drop</a></li>\n</ul>"}}],"toc":[{"text":"Define the drop zone","id":"define_the_drop_zone"},{"text":"Process the drop","id":"process_the_drop"},{"text":"Prevent the browser's default drag behavior","id":"prevent_the_browsers_default_drag_behavior"},{"text":"See also","id":"see_also"}],"summary":"HTML Drag and Drop interfaces enable web applications to drag and drop files on a web page. This document describes how an application can accept one or more files that are dragged from the underlying platform's file manager and dropped on a web page.","popularity":0.0058,"modified":"2022-10-01T03:00:18.000Z","other_translations":[{"title":"Drag & Drop archivo","locale":"es","native":"Español"},{"title":"Arrastar e soltar arquivos","locale":"pt-BR","native":"Português (do Brasil)"},{"title":"File drag and drop","locale":"zh-CN","native":"中文 (简体)"}],"source":{"folder":"en-us/web/api/html_drag_and_drop_api/file_drag_and_drop","github_url":"https://github.com/mdn/content/blob/style/old/files/en-us/web/api/html_drag_and_drop_api/file_drag_and_drop/index.md","last_commit_url":"https://github.com/mdn/content/commit/4b9fefebc6d21e003c8f31b40d98136a7a4b5a95","filename":"index.md"},"parents":[{"uri":"/en-US/docs/Web","title":"Web technology for developers"},{"uri":"/en-US/docs/Web/API","title":"Web APIs"},{"uri":"/en-US/docs/Web/API/HTML_Drag_and_Drop_API","title":"HTML Drag and Drop API"},{"uri":"/en-US/docs/Web/API/HTML_Drag_and_Drop_API/File_drag_and_drop","title":"File drag and drop"}],"pageTitle":"File drag and drop - Web APIs | MDN","noIndexing":false}}