<!DOCTYPE html><html lang="en-US" prefix="og: https://ogp.me/ns#"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="icon" href="/favicon-48x48.97046865.png"><link rel="apple-touch-icon" href="/apple-touch-icon.0ea0fa02.png"><meta name="theme-color" content="#ffffff"><link rel="manifest" href="/manifest.56b1cedc.json"><link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" title="MDN Web Docs"><script>Array.prototype.flat&&Array.prototype.includes||document.write('<script src="https://polyfill.io/v3/polyfill.min.js?features=Array.prototype.flat%2Ces6"><\/script>')</script><title>Introduction to the Real-time Transport Protocol (RTP) - Web APIs | MDN</title><link rel="preload" as="font" type="font/woff2" crossorigin="" href="/static/media/ZillaSlab-Bold.subset.0beac26b.woff2"><meta name="description" content="The Real-time Transport Protocol (RTP), defined in RFC 3550, is an IETF standard protocol to enable real-time connectivity for exchanging data that needs real-time priority. This article provides an overview of what RTP is and how it functions in the context of WebRTC."><meta property="og:url" content="https://developer.mozilla.org/en-US/docs/Web/API/WebRTC_API/Intro_to_RTP"><meta property="og:title" content="Introduction to the Real-time Transport Protocol (RTP) - Web APIs | MDN"><meta property="og:description" content="The Real-time Transport Protocol (RTP), defined in RFC 3550, is an IETF standard protocol to enable real-time connectivity for exchanging data that needs real-time priority. This article provides an overview of what RTP is and how it functions in the context of WebRTC."><meta property="og:locale" content="en-US"><meta property="og:image" content="https://developer.mozilla.org/mdn-social-share.0ca9dbda.png"><meta property="twitter:card" content="summary_large_image"><meta name="robots" content="index, follow"><link rel="canonical" href="https://developer.mozilla.org/en-US/docs/Web/API/WebRTC_API/Intro_to_RTP"><style media="print">.breadcrumbs-container,.document-toc-container,.language-menu,.language-toggle,.on-github,.page-footer,.page-header-main,nav.sidebar,ul.prev-next{display:none!important}.main-page-content,.main-page-content pre{padding:2px}.main-page-content pre{border-left-width:2px}</style><link href="/static/css/main.55b68e13.chunk.css" rel="stylesheet"><script src="/static/js/runtime-main.4bb4c356.js" defer=""></script><script src="/static/js/4.a756dea3.chunk.js" defer=""></script><script src="/static/js/main.d4d565e0.chunk.js" defer=""></script></head><body><div id="root"><ul id="nav-access" class="a11y-nav"><li><a id="skip-main" href="#content">Skip to main content</a></li><li><a id="skip-search" href="#main-q">Skip to search</a></li><li><a id="skip-select-language" href="#select-language">Skip to select language</a></li></ul><div class="page-wrapper document-page"><header class="page-header"><a href="/en-US/" class="logo" aria-label="MDN Web Docs"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 451.74 135"><path d="M7.14 8.35v111.06h111.05V8.35zm103.71 56c-.48.92-1 1.79-1.46 2.71a3.44 3.44 0 01-3.54 2 2.4 2.4 0 00-1.55.5c-1.37.9-2.76 1.79-4.18 2.63a7.33 7.33 0 01-6.35.34 29.71 29.71 0 00-10.63-2 11.7 11.7 0 00-9.46 4.31 14.84 14.84 0 00-2.13 4.29c-1.24 3.07-2.3 21.38-2.3 26.05 0 0-17.62-3.42-34.15-20.34l4.31-11.32h-13.5l9.76-10.35h-16.8l9.77-10.34H12.69L30.45 34a40.9 40.9 0 0119.77-10.83c7.1-1.22 8.93-.53 13.31.77l2.43.73.85.25 3.1.95a12.56 12.56 0 006.21.09 11.37 11.37 0 018.25 1 8.24 8.24 0 014.1 6.22 7.29 7.29 0 003.61 5.49 59.45 59.45 0 009.32 4.11c2.27.86 4.54 1.84 6.79 2.72a6.81 6.81 0 012.86 2.06 4.81 4.81 0 011.1 2.73c.14 2 .37 4 .47 6a15.24 15.24 0 01-1.77 8.03zM320.12 39.62a5.42 5.42 0 00-4.53 2.13 7.36 7.36 0 00-1.7 4.43v2.36a6.28 6.28 0 001.7 4.46 5.63 5.63 0 004.3 1.82 5.12 5.12 0 004.57-2.27A9.7 9.7 0 00326 47a8.11 8.11 0 00-1.67-5.52 5.36 5.36 0 00-4.21-1.86zM387.38 39.53a5.52 5.52 0 00-4.7 2.15 8.8 8.8 0 00-1.63 5.49 9.23 9.23 0 001.58 5.45 5.38 5.38 0 004.7 2.25 5.61 5.61 0 004.74-2.2 8.91 8.91 0 001.68-5.59 8.24 8.24 0 00-1.75-5.52 5.76 5.76 0 00-4.62-2.03zM299.47 41.35a4.34 4.34 0 00-4-1.92 4.55 4.55 0 00-3.89 1.73 8.37 8.37 0 00-1.58 4.17h10.48a6.3 6.3 0 00-1.01-3.98zM357.74 30.75H352v23.31h5.72q5.47 0 8.35-3t2.93-8.65q0-5.43-2.88-8.55t-8.38-3.11z"></path><path d="M121.55 8.35v70.8h323V8.35zm42.21 22.45h-4V54h3.68v3.73h-11.25V54h3.31V36.79h-.19l-9.63 19.12h-2.12l-10-19.4h-.19V54h3.45v3.73h-11.15V54h3.68V30.8h-4v-3.73H133l11.66 22.56h.19l11.18-22.56h7.7zm29.12 22.67q-4.11 4.28-11.38 4.28h-14.06v-3.69h3.73V30.75h-3.73v-3.68h13.83q7.59 0 11.66 4.29a15.4 15.4 0 014 11 15.33 15.33 0 01-4.05 11.11zm38.89-22.67h-3.68v27h-2.6L208.08 35h-.19v19h4.67v3.73h-12.22V54h3.49V30.8h-4v-3.73h7.08l16.9 22.09h.19V30.8h-4.58v-3.73h12.32zm43.8 27h-3.31l-7.83-23.18h-.19l-7.55 23.18h-3.35l-8.78-27h-2.65v-3.73H253v3.73h-3.87L255 50.71h.23l6.61-19.91H259v-3.73h11v3.73h-2.78l6.61 20.1h.23l5.43-20.1h-4.15v-3.73h11v3.73h-2.54zm26.71-1.51a9.66 9.66 0 01-6.42 2 10.2 10.2 0 01-7.41-2.74c-1.89-1.82-2.83-4.47-2.83-7.93a12.37 12.37 0 012.64-8.12 9 9 0 017.32-3.21 8.62 8.62 0 016.75 2.69 9.65 9.65 0 012.45 6.52 13.67 13.67 0 01-.28 2.69H290q.29 6.71 6.18 6.7a5.2 5.2 0 003.71-1.18 5.82 5.82 0 001.67-2.83l3.45.71a7.21 7.21 0 01-2.73 4.65zm25.77-1.63c-1.51 2.4-3.92 3.61-7.22 3.61s-5.84-1.29-7.22-3.87c0 .25-.1.82-.21 1.7s-.19 1.44-.22 1.7H309c.16-1 .31-2 .47-3.07a21.42 21.42 0 00.24-3.16v-23h-3.4v-3.3h7.55V40.9a9.76 9.76 0 012.67-3.28 7.33 7.33 0 014.74-1.4 8.48 8.48 0 016.5 2.78q2.55 2.74 2.55 7.74a14.6 14.6 0 01-2.27 7.87zm41.39-1.14q-4.11 4.28-11.37 4.28H344v-3.74h3.73V30.75H344v-3.68h13.83q7.59 0 11.66 4.29a15.41 15.41 0 014.06 11 15.34 15.34 0 01-4.11 11.11zm25.65 1.68a10.53 10.53 0 01-7.9 3.07 10 10 0 01-7.63-3 10.93 10.93 0 01-2.8-7.83 12.13 12.13 0 012.69-7.93q2.69-3.3 8-3.3t8 3.28a12 12 0 012.64 7.76 10.86 10.86 0 01-3 7.9zm22.61.57c-1.4 1.66-3.63 2.5-6.68 2.5a9.58 9.58 0 01-7.15-2.76q-2.72-2.76-2.71-7.91a12.25 12.25 0 012.69-8 9.17 9.17 0 017.5-3.28 15 15 0 013.82.48 10.37 10.37 0 013.5 1.65l.85 5.47-3.35.38-.76-3.54a8.07 8.07 0 00-4.11-1 4.9 4.9 0 00-4.39 2.15 9.93 9.93 0 00-1.41 5.55 8.9 8.9 0 001.5 5.38 5.23 5.23 0 004.44 2c2.92 0 4.67-1.7 5.23-5.1l3.5.71a10.34 10.34 0 01-2.47 5.27zm20.48.75a11.68 11.68 0 01-6.63 1.75 15.52 15.52 0 01-8.26-2.08L424 51l3.26.33-.1 2.74a7 7 0 002.06.66 12.63 12.63 0 002.19.19 8.68 8.68 0 003.66-.75 2.5 2.5 0 001.63-2.36 2.25 2.25 0 00-1.32-2.2 12.65 12.65 0 00-3.28-1 47.39 47.39 0 01-3.9-.82 7.5 7.5 0 01-3.25-1.7 4.67 4.67 0 01-1.33-3.66c0-2.36.88-4 2.62-4.91a12 12 0 015.6-1.37 15 15 0 014.08.55 16.65 16.65 0 013.47 1.39l.47 5.1-3.3.37-.48-3.3a9.5 9.5 0 00-4.06-.9 5.62 5.62 0 00-2.87.66 2.33 2.33 0 00-1.15 2.25 2.13 2.13 0 001.3 2.07 11.91 11.91 0 003.21.92 36.69 36.69 0 013.82.83 7.46 7.46 0 013.21 1.74 4.9 4.9 0 011.3 3.73 5.56 5.56 0 01-2.66 4.91z"></path><path d="M181.17 30.75h-5.71v23.31h5.71q5.47 0 8.36-3t2.88-8.61q0-5.43-2.88-8.55t-8.36-3.15zM121.63 119.32V81.74h114.91v37.58zM153.22 109h-2v-6.85a4.8 4.8 0 00-1.58-4 5.57 5.57 0 00-3.55-1.26 5 5 0 00-4.92 3.26 4.19 4.19 0 00-1.88-2.46 5.82 5.82 0 00-3-.8 4.89 4.89 0 00-4.56 2.56v-2.21h-6.28v3.26h2v8.5h-2v3.23h9.11V109h-2.86v-5.25a4.4 4.4 0 01.69-2.56 2.47 2.47 0 012.21-1q2.57 0 2.56 3.63v8.41h6.29V109h-2v-5.25a4.47 4.47 0 01.67-2.56 2.42 2.42 0 012.19-1q2.63 0 2.63 3.63v8.41h6.28zm9.88-12.07q-4 0-6 2.36a8.41 8.41 0 00-2 5.66 7.25 7.25 0 002.17 5.62 8 8 0 005.65 2 8.54 8.54 0 005.94-2.11 7.27 7.27 0 002.34-5.67 8.21 8.21 0 00-2-5.51q-2.07-2.34-6.1-2.34zm-.1 12.35a3 3 0 01-2.63-1.33 5.68 5.68 0 01-.9-3.26 5 5 0 011-3.28 3.23 3.23 0 012.61-1.18 3.5 3.5 0 012.59 1.08 4.56 4.56 0 011.07 3.31 5.21 5.21 0 01-1 3.41 3.33 3.33 0 01-2.74 1.25zm25-2.3l-3.39-.29-.7 2.32H179l8.32-9.54-.32-2.23h-13.19l-.53 5.25 3.16.34.67-2.36h4.65l-8.25 9.53.44 2.26h13.13zm7.62-9.74h-4.46v5.39h4.46zm0 9.61h-4.46v5.39h4.46zm13.54-17.49h-4.23l-6.48 22.88h4.22zm8.68 0h-4.23l-6.45 22.88h4.19zm15 22.51l-.07-2.26a1.22 1.22 0 01-.56.1c-.69 0-1-.39-1-1.16v-6.49a4.39 4.39 0 00-1.8-3.84 7 7 0 00-4.16-1.28 14.55 14.55 0 00-3.16.3 24.14 24.14 0 00-3.29 1.06l-.56 3.46 3.39.4.5-1.69a2.78 2.78 0 011.08-.37 11.3 11.3 0 011.25-.07c1.19 0 1.89.37 2.09 1.1a8.55 8.55 0 01.3 2.26v.5a8.91 8.91 0 00-1.18-.11h-1.21a12.64 12.64 0 00-4.81.88 3.53 3.53 0 00-2.18 3.64 3.66 3.66 0 001.48 3.33 5.63 5.63 0 003.11 1 4.67 4.67 0 003-.91 6.78 6.78 0 001.8-2 3 3 0 003.33 3 5.54 5.54 0 002.66-.85zm-9.25-2.32a1.69 1.69 0 01-1.36-.52 1.81 1.81 0 01-.43-1.21 1.67 1.67 0 01.86-1.68 4.63 4.63 0 012-.42 7.69 7.69 0 011.07.07l1.06.13a3.58 3.58 0 01-1.08 2.74 3.24 3.24 0 01-2.11.89z"></path></svg></a><button type="button" class="ghost main-menu-toggle" aria-haspopup="true" aria-label="Show Menu"></button><div class="page-header-main "><nav class="main-nav" aria-label="Main menu"><ul class="main-menu nojs"><li class="top-level-entry-container"><button id="technologies-button" type="button" class="top-level-entry" aria-haspopup="menu" aria-expanded="false">Technologies</button><ul class="technologies " role="menu" aria-labelledby="technologies-button"><li role="none"><a tabindex="-1" href="/en-US/docs/Web" role="menuitem">Technologies Overview</a></li><li role="none"><a tabindex="-1" href="/en-US/docs/Web/HTML" role="menuitem">HTML</a></li><li role="none"><a tabindex="-1" href="/en-US/docs/Web/CSS" role="menuitem">CSS</a></li><li role="none"><a tabindex="-1" href="/en-US/docs/Web/JavaScript" role="menuitem">JavaScript</a></li><li role="none"><a tabindex="-1" href="/en-US/docs/Web/Guide/Graphics" role="menuitem">Graphics</a></li><li role="none"><a tabindex="-1" href="/en-US/docs/Web/HTTP" role="menuitem">HTTP</a></li><li role="none"><a tabindex="-1" href="/en-US/docs/Web/API" role="menuitem">APIs</a></li><li role="none"><a tabindex="-1" href="/en-US/docs/Mozilla/Add-ons/WebExtensions" role="menuitem">Browser Extensions</a></li><li role="none"><a tabindex="-1" href="/en-US/docs/Web/MathML" role="menuitem">MathML</a></li></ul></li><li class="top-level-entry-container"><button id="references-guides-button" type="button" class="top-level-entry" aria-haspopup="menu" aria-expanded="false">References &amp; Guides</button><ul class="references-guides " role="menu" aria-labelledby="references-guides-button"><li role="none"><a tabindex="-1" href="/en-US/docs/Learn" role="menuitem">Learn web development</a></li><li role="none"><a tabindex="-1" href="/en-US/docs/Web/Tutorials" role="menuitem">Tutorials</a></li><li role="none"><a tabindex="-1" href="/en-US/docs/Web/Reference" role="menuitem">References</a></li><li role="none"><a tabindex="-1" href="/en-US/docs/Web/Guide" role="menuitem">Developer Guides</a></li><li role="none"><a tabindex="-1" href="/en-US/docs/Web/Accessibility" role="menuitem">Accessibility</a></li><li role="none"><a tabindex="-1" href="/en-US/docs/Games" role="menuitem">Game development</a></li><li role="none"><a tabindex="-1" href="/en-US/docs/Web" role="menuitem">...more docs</a></li></ul></li><li class="top-level-entry-container"><button id="feedback-button" type="button" class="top-level-entry" aria-haspopup="menu" aria-expanded="false">Feedback</button><ul class="feedback " role="menu" aria-labelledby="feedback-button"><li role="none"><a tabindex="-1" href="/en-US/docs/MDN/Contribute/Feedback" role="menuitem">Send Feedback</a></li><li role="none"><a tabindex="-1" href="/en-US/docs/MDN/Contribute" role="menuitem">Contribute to MDN</a></li><li role="none"><a tabindex="-1" target="_blank" rel="noopener noreferrer" href="https://github.com/mdn/content/issues/new" role="menuitem">Report a content issue<!-- --> üåê</a></li><li role="none"><a tabindex="-1" target="_blank" rel="noopener noreferrer" href="https://github.com/mdn/yari/issues/new" role="menuitem">Report a platform issue<!-- --> üåê</a></li></ul></li></ul></nav><div class="header-search"><form action="/en-US/search" class="search-form search-widget" role="search"><label for="main-q" class="visually-hidden">Search MDN</label><input type="search" name="q" id="main-q" class="search-input-field" placeholder="Site search... (Press &quot;/&quot; to focus)" pattern="(.|\s)*\S(.|\s)*" required="" value=""><input type="submit" class="ghost search-button" value="" aria-label="Search"></form></div><div class="auth-container"></div></div></header><div class="breadcrumb-locale-container"><nav class="breadcrumbs-container" aria-label="Breadcrumb navigation"><ol typeof="BreadcrumbList" vocab="https://schema.org/" aria-label="breadcrumbs"><li property="itemListElement" typeof="ListItem"><a class="breadcrumb" property="item" typeof="WebPage" href="/en-US/docs/Web"><span property="name">Web technology for developers</span></a><meta property="position" content="1"></li><li property="itemListElement" typeof="ListItem"><a class="breadcrumb" property="item" typeof="WebPage" href="/en-US/docs/Web/API"><span property="name">Web APIs</span></a><meta property="position" content="2"></li><li property="itemListElement" typeof="ListItem"><a class="breadcrumb-penultimate" property="item" typeof="WebPage" href="/en-US/docs/Web/API/WebRTC_API"><span property="name">WebRTC API</span></a><meta property="position" content="3"></li><li property="itemListElement" typeof="ListItem"><a class="breadcrumb-current-page" property="item" typeof="WebPage" href="/en-US/docs/Web/API/WebRTC_API/Intro_to_RTP"><span property="name">Introduction to the Real-time Transport Protocol (RTP)</span></a><meta property="position" content="4"></li></ol></nav></div><aside class="document-toc-container"><section class="document-toc"><header><h2>Table of contents</h2><button type="button" class="ghost toc-trigger-mobile" aria-controls="toc-entries" aria-expanded="false">Table of contents</button></header><ul id="toc-entries"><li><a href="#key_features_of_rtp">Key features of RTP</a></li><li><a href="#rtcpeerconnection_and_rtp">RTCPeerConnection and RTP</a></li><li><a href="#see_also">See also</a></li></ul></section></aside><main id="content" class="main-content" role="main"><article class="main-page-content" lang="en-US"><h1>Introduction to the Real-time Transport Protocol (RTP)</h1><div><p>The <strong>Real-time Transport Protocol</strong> (<strong>RTP</strong>), defined in <a href="https://datatracker.ietf.org/doc/html/rfc3550" class="external" rel=" noopener">RFC 3550</a>, is an IETF standard protocol to enable real-time connectivity for exchanging data that needs real-time priority. This article provides an overview of what RTP is and how it functions in the context of WebRTC.</p>
<div class="notecard note" id="sect1">
  <p><strong>Note:</strong> WebRTC actually uses <strong>SRTP</strong> (Secure Real-time Transport Protocol) to ensure that the exchanged data is secure and authenticated as appropriate.</p>
</div>
<p>Keeping latency to a minimum is especially important for WebRTC, since face-to-face communication needs to be performed with as little <a href="/en-US/docs/Glossary/Latency">latency</a> as possible. The more time lag there is between one user saying something and another hearing it, the more likely there is to be episodes of cross-talking and other forms of confusion.</p></div><h2 id="key_features_of_rtp"><a href="#key_features_of_rtp" title="Permalink to Key features of RTP">Key features of RTP</a></h2><div><p>Before examining RTP's use in WebRTC contexts, it's useful to have a general idea of what RTP does and does not offer. RTP is a data transport protocol, whose mission is to move data between two endpoints as efficiently as possible under current conditions. Those conditions may be affected by everything from the underlying layers of the network stack to the physical network connection, the intervening networks, the performance of the remote endpoint, noise levels, traffic levels, and so forth.</p>
<p>Since RTP is a data transport, it is augmented by the closely-related <strong>RTP Control Protocol</strong> (<strong>RTCP</strong>), which is defined in <a href="https://datatracker.ietf.org/doc/html/rfc3550#section-6" class="external" rel=" noopener">RFC 3550, section 6</a>. RTCP adds features including <strong>Quality of Service</strong> (<strong>QoS</strong>) monitoring, participant information sharing, and the like. It isn't adequate for the purposes of fully managing users, memberships, permissions, and so forth, but provides the basics needed for an unrestricted multi-user communication session.</p>
<p>The very fact that RTCP is defined in the same RFC as RTP is a clue as to just how closely-interrelated these two protocols are.</p></div><h3 id="capabilities_of_rtp"><a href="#capabilities_of_rtp" title="Permalink to Capabilities of RTP">Capabilities of RTP</a></h3><div><p>RTP's primary benefits in terms of WebRTC include:</p>
<ul>
  <li>Generally low latency.</li>
  <li>Packets are sequence-numbered and time-stamped for reassembly if they arrive out of order. This lets data sent using RTP be delivered on transports that don't guarantee ordering or even guarantee delivery at all.</li>
  <li>This means RTP can be ‚Äî but is not required to be ‚Äî used atop <a href="/en-US/docs/Glossary/UDP">UDP</a> for its performance as well as its multiplexing and checksum features.</li>
  <li>RTP supports multicast; while this isn't yet important for WebRTC, it's likely to matter in the future, when WebRTC is (hopefully) enhanced to support multi-user conversations.</li>
  <li>RTP isn't limited to use in audiovisual communication. It can be used for any form of continuous or active data transfer, including data streaming, active badges or status display updates, or control and measurement information transport.</li>
</ul></div><h3 id="things_rtp_doesnt_do"><a href="#things_rtp_doesnt_do" title="Permalink to Things RTP doesn't do">Things RTP doesn't do</a></h3><div><p>RTP itself doesn't provide every possible feature, which is why other protocols are also used by WebRTC. Some of the more noteworthy things RTP doesn't include:</p>
<ul>
  <li>RTP does <em>not</em> guarantee <strong><a href="https://en.wikipedia.org/wiki/Quality-of-service" class="external" rel=" noopener">quality-of-service</a></strong> (<strong>QoS</strong>).</li>
  <li>While RTP is intended for use in latency-critical scenarios, it doesn't inherently offer any features that ensure QoS. Instead, it only offers the information necessary to allow QoS to be implemented elsewhere in the stack.</li>
  <li>RTP doesn't handle allocation or reservation of resources that may be needed.</li>
</ul>
<p>Where it matters for WebRTC purposes, these are dealt with in a variety of places within the WebRTC infrastructure. For example, RTCP handles QoS monitoring.</p></div><h2 id="rtcpeerconnection_and_rtp"><a href="#rtcpeerconnection_and_rtp" title="Permalink to RTCPeerConnection and RTP">RTCPeerConnection and RTP</a></h2><div><p>Each <a href="/en-US/docs/Web/API/RTCPeerConnection"><code>RTCPeerConnection</code></a> has methods which provide access to the list of RTP transports that service the peer connection. These correspond to the following three types of transport supported by <code>RTCPeerConnection</code>:</p>
<dl>
  <dt id="rtcrtpsender"><a href="/en-US/docs/Web/API/RTCRtpSender"><code>RTCRtpSender</code></a></dt>
  <dd>
    <p><code>RTCRtpSender</code>s handle the encoding and transmission of <a href="/en-US/docs/Web/API/MediaStreamTrack"><code>MediaStreamTrack</code></a> data to a remote peer. The senders for a given connection can be obtained by calling <a href="/en-US/docs/Web/API/RTCPeerConnection/getSenders"><code>RTCPeerConnection.getSenders()</code></a>.</p>
  </dd>
  <dt id="rtcrtpreceiver"><a href="/en-US/docs/Web/API/RTCRtpReceiver"><code>RTCRtpReceiver</code></a></dt>
  <dd>
    <p><code>RTCRtpReceiver</code>s provide the ability to inspect and obtain information about incoming <code>MediaStreamTrack</code> data. A connection's receivers can be obtained by calling <a href="/en-US/docs/Web/API/RTCPeerConnection/getReceivers"><code>RTCPeerConnection.getReceivers()</code></a>.</p>
  </dd>
  <dt id="rtcrtptransceiver"><a href="/en-US/docs/Web/API/RTCRtpTransceiver"><code>RTCRtpTransceiver</code></a></dt>
  <dd>
    <p>An <code>RTCRtpTransceiver</code> is a pair of one RTP sender and one RTP receiver which share an SDP <code>mid</code> attribute, which means they share the same SDP media m-line (representing a bidirectional SRTP stream). These are returned by the <a href="/en-US/docs/Web/API/RTCPeerConnection/getTransceivers"><code>RTCPeerConnection.getTransceivers()</code></a> method, and each <code>mid</code> and transceiver share a one-to-one relationship, with the <code>mid</code> being unique for each <code>RTCPeerConnection</code>.</p>
  </dd>
</dl></div><h3 id="leveraging_rtp_to_implement_a_hold_feature"><a href="#leveraging_rtp_to_implement_a_hold_feature" title="Permalink to Leveraging RTP to implement a &quot;hold&quot; feature">Leveraging RTP to implement a "hold" feature</a></h3><div><p>Because the streams for an <code>RTCPeerConnection</code> are implemented using RTP and the interfaces <a href="#rtcpeerconnection_and_rtp">above</a>, you can take advantage of the access this gives you to the internals of streams to make adjustments. Among the simplest things you can do is to implement a "hold" feature, wherein a participant in a call can click a button and turn off their microphone, begin sending music to the other peer instead, and stop accepting incoming audio.</p>
<div class="notecard note" id="sect2">
  <p><strong>Note:</strong> This example makes use of modern JavaScript features including <a href="/en-US/docs/Web/JavaScript/Reference/Statements/async_function">async functions</a> and the <a href="/en-US/docs/Web/JavaScript/Reference/Operators/await"><code>await</code></a> expression. This enormously simplifies and makes far more readable the code dealing with the promises returned by WebRTC methods.</p>
</div>
<p>In the examples below, we'll refer to the peer which is turning "hold" mode on and off as the local peer and the user being placed on hold as the remote peer.</p>
<h4 id="activating_hold_mode">Activating hold mode</h4>
<h5 id="local_peer">Local peer</h5>
<p>When the local user decides to enable hold mode, the <code>enableHold()</code> method below is called. It accepts as input a <a href="/en-US/docs/Web/API/MediaStream"><code>MediaStream</code></a> containing the audio to play while the call is on hold.</p>
<div class="code-example"><pre class="brush: js notranslate"><code><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">enableHold</span><span class="token punctuation">(</span><span class="token parameter">audioStream</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">try</span> <span class="token punctuation">{</span>
    <span class="token keyword">await</span> audioTransceiver<span class="token punctuation">.</span>sender<span class="token punctuation">.</span><span class="token function">replaceTrack</span><span class="token punctuation">(</span>audioStream<span class="token punctuation">.</span><span class="token function">getAudioTracks</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    audioTransceiver<span class="token punctuation">.</span>receiver<span class="token punctuation">.</span>track<span class="token punctuation">.</span>enabled <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    audioTransceiver<span class="token punctuation">.</span>direction <span class="token operator">=</span> <span class="token string">"sendonly"</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">/* handle the error */</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div>
<p>The three lines of code within the <a href="/en-US/docs/Web/JavaScript/Reference/Statements/try...catch"><code>try</code></a> block perform the following steps:</p>
<ol>
  <li>Replace their outgoing audio track with a <a href="/en-US/docs/Web/API/MediaStreamTrack"><code>MediaStreamTrack</code></a> containing hold music.</li>
  <li>Disable the incoming audio track.</li>
  <li>Switch the audio transceiver into send-only mode.</li>
</ol>
<p>This triggers renegotiation of the <code>RTCPeerConnection</code> by sending it a <a href="/en-US/docs/Web/API/RTCPeerConnection/negotiationneeded_event" title="negotiationneeded"><code>negotiationneeded</code></a> event, which your code responds to generating an SDP offer using <a href="/en-US/docs/Web/API/RTCPeerConnection/createOffer"><code>RTCPeerConnection.createOffer</code></a> and sending it through the signaling server to the remote peer.</p>
<p>The <code>audioStream</code>, containing the audio to play instead of the local peer's microphone audio, can come from anywhere. One possibility is to have a hidden <a href="/en-US/docs/Web/HTML/Element/audio"><code>&lt;audio&gt;</code></a> element and use <a href="/en-US/docs/Web/API/HTMLMediaElement/captureStream" title="HTMLAudioElement.captureStream()"><code>HTMLAudioElement.captureStream()</code></a> to get its audio stream.</p>
<h5 id="remote_peer">Remote peer</h5>
<p>On the remote peer, when we receive an SDP offer with the directionality set to <code>"sendonly"</code>, we handle it using the <code>holdRequested()</code> method, which accepts as input an SDP offer string.</p>
<div class="code-example"><pre class="brush: js notranslate"><code><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">holdRequested</span><span class="token punctuation">(</span><span class="token parameter">offer</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">try</span> <span class="token punctuation">{</span>
    <span class="token keyword">await</span> peerConnection<span class="token punctuation">.</span><span class="token function">setRemoteDescription</span><span class="token punctuation">(</span>offer<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">await</span> audioTransceiver<span class="token punctuation">.</span>sender<span class="token punctuation">.</span><span class="token function">replaceTrack</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    audioTransceiver<span class="token punctuation">.</span>direction <span class="token operator">=</span> <span class="token string">"recvonly"</span><span class="token punctuation">;</span>
    <span class="token keyword">await</span> <span class="token function">sendAnswer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">/* handle the error */</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div>
<p>The steps taken here are:</p>
<ol>
  <li>Set the remote description to the specified <code>offer</code> by calling <a href="/en-US/docs/Web/API/RTCPeerConnection/setRemoteDescription"><code>RTCPeerConnection.setRemoteDescription()</code></a>.</li>
  <li>Replace the audio transceiver's <a href="/en-US/docs/Web/API/RTCRtpSender"><code>RTCRtpSender</code></a>'s track with <code>null</code>, meaning no track. This stops sending audio on the transceiver.</li>
  <li>Set the audio transceiver's <a href="/en-US/docs/Web/API/RTCRtpTransceiver/direction" title="direction"><code>direction</code></a> property to <code>"recvonly"</code>, instructing the transceiver to only accept audio and not to send any.</li>
  <li>The SDP answer is generated and sent using a method called <code>sendAnswer()</code>, which generates the answer using <a href="/en-US/docs/Web/API/RTCPeerConnection/createAnswer" title="createAnswer()"><code>createAnswer()</code></a> then sends the resulting SDP to the other peer over the signaling service.</li>
</ol>
<h4 id="deactivating_hold_mode">Deactivating hold mode</h4>
<h5 id="local_peer_2">Local peer</h5>
<p>When the local user clicks the interface widget to disable hold mode, the <code>disableHold()</code> method is called to begin the process of restoring normal functionality.</p>
<div class="code-example"><pre class="brush: js notranslate"><code><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">disableHold</span><span class="token punctuation">(</span><span class="token parameter">micStream</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">await</span> audioTransceiver<span class="token punctuation">.</span>sender<span class="token punctuation">.</span><span class="token function">replaceTrack</span><span class="token punctuation">(</span>micStream<span class="token punctuation">.</span><span class="token function">getAudioTracks</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  audioTransceiver<span class="token punctuation">.</span>receiver<span class="token punctuation">.</span>track<span class="token punctuation">.</span>enabled <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
  audioTransceiver<span class="token punctuation">.</span>direction <span class="token operator">=</span> <span class="token string">"sendrecv"</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div>
<p>This reverses the steps taken in <code>enableHold()</code> as follows:</p>
<ol>
  <li>The audio transceiver's <code>RTCRtpSender</code>'s track is replaced with the specified stream's first audio track.</li>
  <li>The transceiver's incoming audio track is re-enabled.</li>
  <li>The audio transceiver's direction is set to <code>"sendrecv"</code>, indicating that it should return to both sending and receiving streamed audio, instead of only sending.</li>
</ol>
<p>Just like when hold was engaged, this triggers negotiation again, resulting in your code sending a new offer to the remote peer.</p>
<h5 id="remote_peer_2">Remote peer</h5>
<p>When the <code>"sendrecv"</code> offer is received by the remote peer, it calls its <code>holdEnded()</code> method:</p>
<div class="code-example"><pre class="brush: js notranslate"><code><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">holdEnded</span><span class="token punctuation">(</span><span class="token parameter">offer<span class="token punctuation">,</span> micStream</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">try</span> <span class="token punctuation">{</span>
    <span class="token keyword">await</span> peerConnection<span class="token punctuation">.</span><span class="token function">setRemoteDescription</span><span class="token punctuation">(</span>offer<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">await</span> audioTransceiver<span class="token punctuation">.</span>sender<span class="token punctuation">.</span><span class="token function">replaceTrack</span><span class="token punctuation">(</span>micStream<span class="token punctuation">.</span><span class="token function">getAudioTracks</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    audioTransceiver<span class="token punctuation">.</span>direction <span class="token operator">=</span> <span class="token string">"sendrecv"</span><span class="token punctuation">;</span>
    <span class="token keyword">await</span> <span class="token function">sendAnswer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">/* handle the error */</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div>
<p>The steps taken inside the <code>try</code> block here are:</p>
<ol>
  <li>The received offer is stored as the remote description by calling <code>setRemoteDescription()</code>.</li>
  <li>The audio transceiver's <code>RTCRtpSender</code>'s <a href="/en-US/docs/Web/API/RTCRtpSender/replaceTrack" title="replaceTrack()"><code>replaceTrack()</code></a> method is used to set the outgoing audio track to the first track of the microphone's audio stream.</li>
  <li>The transceiver's direction is set to <code>"sendrecv"</code>, indicating that it should resume both sending and receiving audio.</li>
</ol>
<p>From this point on, the microphone is re-engaged and the remote user is once again able to hear the local user, as well as speak to them.</p></div><h2 id="see_also"><a href="#see_also" title="Permalink to See also">See also</a></h2><div><ul>
  <li><a href="/en-US/docs/Web/API/WebRTC_API/Connectivity">WebRTC connectivity</a></li>
  <li><a href="/en-US/docs/Web/API/WebRTC_API/Protocols">Introduction to WebRTC protocols</a></li>
  <li><a href="/en-US/docs/Web/API/WebRTC_API/Session_lifetime">Lifetime of a WebRTC session</a></li>
</ul></div></article><aside class="metadata"><div class="metadata-content-container"><div id="on-github" class="on-github"><h3>Found a problem with this page?</h3><ul><li><a href="https://github.com/mdn/content/edit/style/old/files/en-us/web/api/webrtc_api/intro_to_rtp/index.md" title="You're going to need to sign in to GitHub first (Opens in a new tab)" target="_blank" rel="noopener noreferrer">Edit on <b>GitHub</b></a></li><li><a href="https://github.com/mdn/content/blob/style/old/files/en-us/web/api/webrtc_api/intro_to_rtp/index.md" title="Folder: en-us/web/api/webrtc_api/intro_to_rtp (Opens in a new tab)" target="_blank" rel="noopener noreferrer">Source on <b>GitHub</b></a></li><li><a href="https://github.com/mdn/content/issues/new?body=MDN+URL%3A+https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FWeb%2FAPI%2FWebRTC_API%2FIntro_to_RTP%0A%0A%23%23%23%23+What+information+was+incorrect%2C+unhelpful%2C+or+incomplete%3F%0A%0A%0A%23%23%23%23+Specific+section+or+headline%3F%0A%0A%0A%23%23%23%23+What+did+you+expect+to+see%3F%0A%0A%0A%23%23%23%23+Did+you+test+this%3F+If+so%2C+how%3F%0A%0A%0A%3C%21--+Do+not+make+changes+below+this+line+--%3E%0A%3Cdetails%3E%0A%3Csummary%3EMDN+Content+page+report+details%3C%2Fsummary%3E%0A%0A*+Folder%3A+%60en-us%2Fweb%2Fapi%2Fwebrtc_api%2Fintro_to_rtp%60%0A*+MDN+URL%3A+https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FWeb%2FAPI%2FWebRTC_API%2FIntro_to_RTP%0A*+GitHub+URL%3A+https%3A%2F%2Fgithub.com%2Fmdn%2Fcontent%2Fblob%2Fstyle%2Fold%2Ffiles%2Fen-us%2Fweb%2Fapi%2Fwebrtc_api%2Fintro_to_rtp%2Findex.md%0A*+Last+commit%3A+https%3A%2F%2Fgithub.com%2Fmdn%2Fcontent%2Fcommit%2Ff7dae62645a2c735ed6f6ed63f664bf279fdfc4b%0A*+Document+last+modified%3A+2022-09-09T05%3A19%3A45.000Z%0A%0A%3C%2Fdetails%3E&amp;title=Issue+with+%22Introduction+to+the+Real-time+Transport+Protocol+%28%E2%80%A6%22%3A+%28short+summary+here+please%29&amp;labels=needs-triage%2CContent%3AWebAPI" title="This will take you to https://github.com/mdn/content to file a new issue" target="_blank" rel="noopener noreferrer">Report a problem with this content on <b>GitHub</b></a></li><li>Want to fix the problem yourself? See<!-- --> <a href="https://github.com/mdn/content/blob/main/README.md" target="_blank" rel="noopener noreferrer">our Contribution guide</a>.</li></ul></div><p class="last-modified-date"><b>Last modified:</b> <time datetime="2022-09-09T05:19:45.000Z">Sep 9, 2022</time>,<!-- --> <a href="/en-US/docs/Web/API/WebRTC_API/Intro_to_RTP/contributors.txt">by MDN contributors</a></p></div></aside></main><nav id="sidebar-quicklinks" class="sidebar"><h4>Related Topics</h4><div><ol><li><strong><a href="/en-US/docs/Web/API/WebRTC_API">WebRTC API</a></strong></li><li><strong><a href="/en-US/docs/Web/API/WebRTC_API"><code>WebRTC_API</code></a></strong></li><li class="toggle"><details open=""><summary>Related pages for WebRTC</summary><ol><li><a href="/en-US/docs/Web/API/MediaDevices/getUserMedia"><code>MediaDevices.getUserMedia()</code></a></li><li><a href="/en-US/docs/Web/API/Navigator/mediaDevices"><code>Navigator.mediaDevices</code></a></li><li><a href="/en-US/docs/Web/API/RTCCertificate"><code>RTCCertificate</code></a></li><li><a href="/en-US/docs/Web/API/RTCDTMFSender"><code>RTCDTMFSender</code></a></li><li><a href="/en-US/docs/Web/API/RTCDTMFToneChangeEvent"><code>RTCDTMFToneChangeEvent</code></a></li><li><a href="/en-US/docs/Web/API/RTCDataChannel"><code>RTCDataChannel</code></a></li><li><a href="/en-US/docs/Web/API/RTCDataChannelEvent"><code>RTCDataChannelEvent</code></a></li><li><a href="/en-US/docs/Web/API/RTCDtlsTransport"><code>RTCDtlsTransport</code></a></li><li><a href="/en-US/docs/Web/API/RTCErrorEvent"><code>RTCErrorEvent</code></a></li><li><a href="/en-US/docs/Web/API/RTCIceCandidate"><code>RTCIceCandidate</code></a></li><li><a href="/en-US/docs/Web/API/RTCIceTransport"><code>RTCIceTransport</code></a></li><li><a href="/en-US/docs/Web/API/RTCPeerConnection"><code>RTCPeerConnection</code></a></li><li><a href="/en-US/docs/Web/API/RTCPeerConnectionIceErrorEvent"><code>RTCPeerConnectionIceErrorEvent</code></a></li><li><a href="/en-US/docs/Web/API/RTCPeerConnectionIceEvent"><code>RTCPeerConnectionIceEvent</code></a></li><li><a href="/en-US/docs/Web/API/RTCRtpReceiver"><code>RTCRtpReceiver</code></a></li><li><a href="/en-US/docs/Web/API/RTCRtpSender"><code>RTCRtpSender</code></a></li><li><a href="/en-US/docs/Web/API/RTCRtpTransceiver"><code>RTCRtpTransceiver</code></a></li><li><a href="/en-US/docs/Web/API/RTCSctpTransport"><code>RTCSctpTransport</code></a></li><li><a href="/en-US/docs/Web/API/RTCSessionDescription"><code>RTCSessionDescription</code></a></li><li><a href="/en-US/docs/Web/API/RTCStatsReport"><code>RTCStatsReport</code></a></li><li><a href="/en-US/docs/Web/API/RTCTrackEvent"><code>RTCTrackEvent</code></a></li></ol></details></li></ol></div></nav></div><footer id="nav-footer" class="page-footer"><div class="content-container"><div class="page-footer-logo"><a href="/en-US/" class="logo" aria-label="MDN Web Docs"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 451.74 135" fill="#fff"><path d="M7.14 8.35v111.06h111.05V8.35zm103.71 56c-.48.92-1 1.79-1.46 2.71a3.44 3.44 0 01-3.54 2 2.4 2.4 0 00-1.55.5c-1.37.9-2.76 1.79-4.18 2.63a7.33 7.33 0 01-6.35.34 29.71 29.71 0 00-10.63-2 11.7 11.7 0 00-9.46 4.31 14.84 14.84 0 00-2.13 4.29c-1.24 3.07-2.3 21.38-2.3 26.05 0 0-17.62-3.42-34.15-20.34l4.31-11.32h-13.5l9.76-10.35h-16.8l9.77-10.34H12.69L30.45 34a40.9 40.9 0 0119.77-10.83c7.1-1.22 8.93-.53 13.31.77l2.43.73.85.25 3.1.95a12.56 12.56 0 006.21.09 11.37 11.37 0 018.25 1 8.24 8.24 0 014.1 6.22 7.29 7.29 0 003.61 5.49 59.45 59.45 0 009.32 4.11c2.27.86 4.54 1.84 6.79 2.72a6.81 6.81 0 012.86 2.06 4.81 4.81 0 011.1 2.73c.14 2 .37 4 .47 6a15.24 15.24 0 01-1.77 8.03zM320.12 39.62a5.42 5.42 0 00-4.53 2.13 7.36 7.36 0 00-1.7 4.43v2.36a6.28 6.28 0 001.7 4.46 5.63 5.63 0 004.3 1.82 5.12 5.12 0 004.57-2.27A9.7 9.7 0 00326 47a8.11 8.11 0 00-1.67-5.52 5.36 5.36 0 00-4.21-1.86zM387.38 39.53a5.52 5.52 0 00-4.7 2.15 8.8 8.8 0 00-1.63 5.49 9.23 9.23 0 001.58 5.45 5.38 5.38 0 004.7 2.25 5.61 5.61 0 004.74-2.2 8.91 8.91 0 001.68-5.59 8.24 8.24 0 00-1.75-5.52 5.76 5.76 0 00-4.62-2.03zM299.47 41.35a4.34 4.34 0 00-4-1.92 4.55 4.55 0 00-3.89 1.73 8.37 8.37 0 00-1.58 4.17h10.48a6.3 6.3 0 00-1.01-3.98zM357.74 30.75H352v23.31h5.72q5.47 0 8.35-3t2.93-8.65q0-5.43-2.88-8.55t-8.38-3.11z"></path><path d="M121.55 8.35v70.8h323V8.35zm42.21 22.45h-4V54h3.68v3.73h-11.25V54h3.31V36.79h-.19l-9.63 19.12h-2.12l-10-19.4h-.19V54h3.45v3.73h-11.15V54h3.68V30.8h-4v-3.73H133l11.66 22.56h.19l11.18-22.56h7.7zm29.12 22.67q-4.11 4.28-11.38 4.28h-14.06v-3.69h3.73V30.75h-3.73v-3.68h13.83q7.59 0 11.66 4.29a15.4 15.4 0 014 11 15.33 15.33 0 01-4.05 11.11zm38.89-22.67h-3.68v27h-2.6L208.08 35h-.19v19h4.67v3.73h-12.22V54h3.49V30.8h-4v-3.73h7.08l16.9 22.09h.19V30.8h-4.58v-3.73h12.32zm43.8 27h-3.31l-7.83-23.18h-.19l-7.55 23.18h-3.35l-8.78-27h-2.65v-3.73H253v3.73h-3.87L255 50.71h.23l6.61-19.91H259v-3.73h11v3.73h-2.78l6.61 20.1h.23l5.43-20.1h-4.15v-3.73h11v3.73h-2.54zm26.71-1.51a9.66 9.66 0 01-6.42 2 10.2 10.2 0 01-7.41-2.74c-1.89-1.82-2.83-4.47-2.83-7.93a12.37 12.37 0 012.64-8.12 9 9 0 017.32-3.21 8.62 8.62 0 016.75 2.69 9.65 9.65 0 012.45 6.52 13.67 13.67 0 01-.28 2.69H290q.29 6.71 6.18 6.7a5.2 5.2 0 003.71-1.18 5.82 5.82 0 001.67-2.83l3.45.71a7.21 7.21 0 01-2.73 4.65zm25.77-1.63c-1.51 2.4-3.92 3.61-7.22 3.61s-5.84-1.29-7.22-3.87c0 .25-.1.82-.21 1.7s-.19 1.44-.22 1.7H309c.16-1 .31-2 .47-3.07a21.42 21.42 0 00.24-3.16v-23h-3.4v-3.3h7.55V40.9a9.76 9.76 0 012.67-3.28 7.33 7.33 0 014.74-1.4 8.48 8.48 0 016.5 2.78q2.55 2.74 2.55 7.74a14.6 14.6 0 01-2.27 7.87zm41.39-1.14q-4.11 4.28-11.37 4.28H344v-3.74h3.73V30.75H344v-3.68h13.83q7.59 0 11.66 4.29a15.41 15.41 0 014.06 11 15.34 15.34 0 01-4.11 11.11zm25.65 1.68a10.53 10.53 0 01-7.9 3.07 10 10 0 01-7.63-3 10.93 10.93 0 01-2.8-7.83 12.13 12.13 0 012.69-7.93q2.69-3.3 8-3.3t8 3.28a12 12 0 012.64 7.76 10.86 10.86 0 01-3 7.9zm22.61.57c-1.4 1.66-3.63 2.5-6.68 2.5a9.58 9.58 0 01-7.15-2.76q-2.72-2.76-2.71-7.91a12.25 12.25 0 012.69-8 9.17 9.17 0 017.5-3.28 15 15 0 013.82.48 10.37 10.37 0 013.5 1.65l.85 5.47-3.35.38-.76-3.54a8.07 8.07 0 00-4.11-1 4.9 4.9 0 00-4.39 2.15 9.93 9.93 0 00-1.41 5.55 8.9 8.9 0 001.5 5.38 5.23 5.23 0 004.44 2c2.92 0 4.67-1.7 5.23-5.1l3.5.71a10.34 10.34 0 01-2.47 5.27zm20.48.75a11.68 11.68 0 01-6.63 1.75 15.52 15.52 0 01-8.26-2.08L424 51l3.26.33-.1 2.74a7 7 0 002.06.66 12.63 12.63 0 002.19.19 8.68 8.68 0 003.66-.75 2.5 2.5 0 001.63-2.36 2.25 2.25 0 00-1.32-2.2 12.65 12.65 0 00-3.28-1 47.39 47.39 0 01-3.9-.82 7.5 7.5 0 01-3.25-1.7 4.67 4.67 0 01-1.33-3.66c0-2.36.88-4 2.62-4.91a12 12 0 015.6-1.37 15 15 0 014.08.55 16.65 16.65 0 013.47 1.39l.47 5.1-3.3.37-.48-3.3a9.5 9.5 0 00-4.06-.9 5.62 5.62 0 00-2.87.66 2.33 2.33 0 00-1.15 2.25 2.13 2.13 0 001.3 2.07 11.91 11.91 0 003.21.92 36.69 36.69 0 013.82.83 7.46 7.46 0 013.21 1.74 4.9 4.9 0 011.3 3.73 5.56 5.56 0 01-2.66 4.91z"></path><path d="M181.17 30.75h-5.71v23.31h5.71q5.47 0 8.36-3t2.88-8.61q0-5.43-2.88-8.55t-8.36-3.15zM121.63 119.32V81.74h114.91v37.58zM153.22 109h-2v-6.85a4.8 4.8 0 00-1.58-4 5.57 5.57 0 00-3.55-1.26 5 5 0 00-4.92 3.26 4.19 4.19 0 00-1.88-2.46 5.82 5.82 0 00-3-.8 4.89 4.89 0 00-4.56 2.56v-2.21h-6.28v3.26h2v8.5h-2v3.23h9.11V109h-2.86v-5.25a4.4 4.4 0 01.69-2.56 2.47 2.47 0 012.21-1q2.57 0 2.56 3.63v8.41h6.29V109h-2v-5.25a4.47 4.47 0 01.67-2.56 2.42 2.42 0 012.19-1q2.63 0 2.63 3.63v8.41h6.28zm9.88-12.07q-4 0-6 2.36a8.41 8.41 0 00-2 5.66 7.25 7.25 0 002.17 5.62 8 8 0 005.65 2 8.54 8.54 0 005.94-2.11 7.27 7.27 0 002.34-5.67 8.21 8.21 0 00-2-5.51q-2.07-2.34-6.1-2.34zm-.1 12.35a3 3 0 01-2.63-1.33 5.68 5.68 0 01-.9-3.26 5 5 0 011-3.28 3.23 3.23 0 012.61-1.18 3.5 3.5 0 012.59 1.08 4.56 4.56 0 011.07 3.31 5.21 5.21 0 01-1 3.41 3.33 3.33 0 01-2.74 1.25zm25-2.3l-3.39-.29-.7 2.32H179l8.32-9.54-.32-2.23h-13.19l-.53 5.25 3.16.34.67-2.36h4.65l-8.25 9.53.44 2.26h13.13zm7.62-9.74h-4.46v5.39h4.46zm0 9.61h-4.46v5.39h4.46zm13.54-17.49h-4.23l-6.48 22.88h4.22zm8.68 0h-4.23l-6.45 22.88h4.19zm15 22.51l-.07-2.26a1.22 1.22 0 01-.56.1c-.69 0-1-.39-1-1.16v-6.49a4.39 4.39 0 00-1.8-3.84 7 7 0 00-4.16-1.28 14.55 14.55 0 00-3.16.3 24.14 24.14 0 00-3.29 1.06l-.56 3.46 3.39.4.5-1.69a2.78 2.78 0 011.08-.37 11.3 11.3 0 011.25-.07c1.19 0 1.89.37 2.09 1.1a8.55 8.55 0 01.3 2.26v.5a8.91 8.91 0 00-1.18-.11h-1.21a12.64 12.64 0 00-4.81.88 3.53 3.53 0 00-2.18 3.64 3.66 3.66 0 001.48 3.33 5.63 5.63 0 003.11 1 4.67 4.67 0 003-.91 6.78 6.78 0 001.8-2 3 3 0 003.33 3 5.54 5.54 0 002.66-.85zm-9.25-2.32a1.69 1.69 0 01-1.36-.52 1.81 1.81 0 01-.43-1.21 1.67 1.67 0 01.86-1.68 4.63 4.63 0 012-.42 7.69 7.69 0 011.07.07l1.06.13a3.58 3.58 0 01-1.08 2.74 3.24 3.24 0 01-2.11.89z"></path></svg></a></div><ul class="link-list-mdn"><li><a href="/en-US/docs/Web">Web Technologies</a></li><li><a href="/en-US/docs/Learn">Learn Web Development</a></li><li><a href="/en-US/docs/MDN/About">About MDN</a></li><li><a href="/en-US/docs/MDN/Feedback">Feedback</a></li></ul><ul class="link-list-moz"><li><a href="https://www.mozilla.org/about/" target="_blank" rel="noopener noreferrer">About</a></li><li><a href="https://shop.spreadshirt.com/mdn-store/" target="_blank" rel="noopener noreferrer">MDN Web Docs Store</a></li><li><a href="https://www.mozilla.org/contact/" target="_blank" rel="noopener noreferrer">Contact Us</a></li><li><a href="https://www.mozilla.org/firefox/?utm_source=developer.mozilla.org&amp;utm_campaign=footer&amp;utm_medium=referral" target="_blank" rel="noopener noreferrer">Firefox</a></li></ul><div class="social social-mdn"><h4>MDN</h4><ul><li><a class="social-icon twitter" href="https://twitter.com/mozdevnet" target="_blank" rel="noopener noreferrer"><span class="visually-hidden">MDN on Twitter</span></a></li><li><a class="social-icon github" href="https://github.com/mdn/" target="_blank" rel="noopener noreferrer"><span class="visually-hidden">MDN on Github</span></a></li></ul></div><div class="social social-moz"><h4>Mozilla</h4><ul><li><a class="social-icon twitter" href="https://twitter.com/mozilla" target="_blank" rel="noopener noreferrer"><span class="visually-hidden">Mozilla on Twitter</span></a></li><li><a class="social-icon instagram" href="https://www.instagram.com/mozillagram/" target="_blank" rel="noopener noreferrer"><span class="visually-hidden">Mozilla on Instagram</span></a></li></ul></div><p id="license" class="footer-license">¬© 2005-<!-- -->2022<!-- --> Mozilla and individual contributors. Content is available under<!-- --> <a href="/docs/MDN/About#Copyrights_and_licenses">these licenses</a>.</p><ul class="footer-legal"><li><a href="https://www.mozilla.org/about/legal/terms/mozilla" target="_blank" rel="noopener noreferrer">Terms</a></li><li><a href="https://www.mozilla.org/privacy/websites/" target="_blank" rel="noopener noreferrer">Privacy</a></li><li><a href="https://www.mozilla.org/privacy/websites/#cookies" target="_blank" rel="noopener noreferrer">Cookies</a></li></ul></div></footer><div class="page-overlay hidden"></div></div><script type="application/json" id="hydration">{"doc":{"isMarkdown":true,"isTranslated":false,"isActive":true,"flaws":{},"title":"Introduction to the Real-time Transport Protocol (RTP)","mdn_url":"/en-US/docs/Web/API/WebRTC_API/Intro_to_RTP","locale":"en-US","native":"English (US)","sidebarHTML":"<ol><li><strong><a href=\"/en-US/docs/Web/API/WebRTC_API\">WebRTC API</a></strong></li><li><strong><a href=\"/en-US/docs/Web/API/WebRTC_API\"><code>WebRTC_API</code></a></strong></li><li class=\"toggle\"><details open=\"\"><summary>Related pages for WebRTC</summary><ol><li><a href=\"/en-US/docs/Web/API/MediaDevices/getUserMedia\"><code>MediaDevices.getUserMedia()</code></a></li><li><a href=\"/en-US/docs/Web/API/Navigator/mediaDevices\"><code>Navigator.mediaDevices</code></a></li><li><a href=\"/en-US/docs/Web/API/RTCCertificate\"><code>RTCCertificate</code></a></li><li><a href=\"/en-US/docs/Web/API/RTCDTMFSender\"><code>RTCDTMFSender</code></a></li><li><a href=\"/en-US/docs/Web/API/RTCDTMFToneChangeEvent\"><code>RTCDTMFToneChangeEvent</code></a></li><li><a href=\"/en-US/docs/Web/API/RTCDataChannel\"><code>RTCDataChannel</code></a></li><li><a href=\"/en-US/docs/Web/API/RTCDataChannelEvent\"><code>RTCDataChannelEvent</code></a></li><li><a href=\"/en-US/docs/Web/API/RTCDtlsTransport\"><code>RTCDtlsTransport</code></a></li><li><a href=\"/en-US/docs/Web/API/RTCErrorEvent\"><code>RTCErrorEvent</code></a></li><li><a href=\"/en-US/docs/Web/API/RTCIceCandidate\"><code>RTCIceCandidate</code></a></li><li><a href=\"/en-US/docs/Web/API/RTCIceTransport\"><code>RTCIceTransport</code></a></li><li><a href=\"/en-US/docs/Web/API/RTCPeerConnection\"><code>RTCPeerConnection</code></a></li><li><a href=\"/en-US/docs/Web/API/RTCPeerConnectionIceErrorEvent\"><code>RTCPeerConnectionIceErrorEvent</code></a></li><li><a href=\"/en-US/docs/Web/API/RTCPeerConnectionIceEvent\"><code>RTCPeerConnectionIceEvent</code></a></li><li><a href=\"/en-US/docs/Web/API/RTCRtpReceiver\"><code>RTCRtpReceiver</code></a></li><li><a href=\"/en-US/docs/Web/API/RTCRtpSender\"><code>RTCRtpSender</code></a></li><li><a href=\"/en-US/docs/Web/API/RTCRtpTransceiver\"><code>RTCRtpTransceiver</code></a></li><li><a href=\"/en-US/docs/Web/API/RTCSctpTransport\"><code>RTCSctpTransport</code></a></li><li><a href=\"/en-US/docs/Web/API/RTCSessionDescription\"><code>RTCSessionDescription</code></a></li><li><a href=\"/en-US/docs/Web/API/RTCStatsReport\"><code>RTCStatsReport</code></a></li><li><a href=\"/en-US/docs/Web/API/RTCTrackEvent\"><code>RTCTrackEvent</code></a></li></ol></details></li></ol>","body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<p>The <strong>Real-time Transport Protocol</strong> (<strong>RTP</strong>), defined in <a href=\"https://datatracker.ietf.org/doc/html/rfc3550\" class=\"external\" rel=\" noopener\">RFC 3550</a>, is an IETF standard protocol to enable real-time connectivity for exchanging data that needs real-time priority. This article provides an overview of what RTP is and how it functions in the context of WebRTC.</p>\n<div class=\"notecard note\" id=\"sect1\">\n  <p><strong>Note:</strong> WebRTC actually uses <strong>SRTP</strong> (Secure Real-time Transport Protocol) to ensure that the exchanged data is secure and authenticated as appropriate.</p>\n</div>\n<p>Keeping latency to a minimum is especially important for WebRTC, since face-to-face communication needs to be performed with as little <a href=\"/en-US/docs/Glossary/Latency\">latency</a> as possible. The more time lag there is between one user saying something and another hearing it, the more likely there is to be episodes of cross-talking and other forms of confusion.</p>"}},{"type":"prose","value":{"id":"key_features_of_rtp","title":"Key features of RTP","isH3":false,"content":"<p>Before examining RTP's use in WebRTC contexts, it's useful to have a general idea of what RTP does and does not offer. RTP is a data transport protocol, whose mission is to move data between two endpoints as efficiently as possible under current conditions. Those conditions may be affected by everything from the underlying layers of the network stack to the physical network connection, the intervening networks, the performance of the remote endpoint, noise levels, traffic levels, and so forth.</p>\n<p>Since RTP is a data transport, it is augmented by the closely-related <strong>RTP Control Protocol</strong> (<strong>RTCP</strong>), which is defined in <a href=\"https://datatracker.ietf.org/doc/html/rfc3550#section-6\" class=\"external\" rel=\" noopener\">RFC 3550, section 6</a>. RTCP adds features including <strong>Quality of Service</strong> (<strong>QoS</strong>) monitoring, participant information sharing, and the like. It isn't adequate for the purposes of fully managing users, memberships, permissions, and so forth, but provides the basics needed for an unrestricted multi-user communication session.</p>\n<p>The very fact that RTCP is defined in the same RFC as RTP is a clue as to just how closely-interrelated these two protocols are.</p>"}},{"type":"prose","value":{"id":"capabilities_of_rtp","title":"Capabilities of RTP","isH3":true,"content":"<p>RTP's primary benefits in terms of WebRTC include:</p>\n<ul>\n  <li>Generally low latency.</li>\n  <li>Packets are sequence-numbered and time-stamped for reassembly if they arrive out of order. This lets data sent using RTP be delivered on transports that don't guarantee ordering or even guarantee delivery at all.</li>\n  <li>This means RTP can be ‚Äî but is not required to be ‚Äî used atop <a href=\"/en-US/docs/Glossary/UDP\">UDP</a> for its performance as well as its multiplexing and checksum features.</li>\n  <li>RTP supports multicast; while this isn't yet important for WebRTC, it's likely to matter in the future, when WebRTC is (hopefully) enhanced to support multi-user conversations.</li>\n  <li>RTP isn't limited to use in audiovisual communication. It can be used for any form of continuous or active data transfer, including data streaming, active badges or status display updates, or control and measurement information transport.</li>\n</ul>"}},{"type":"prose","value":{"id":"things_rtp_doesnt_do","title":"Things RTP doesn't do","isH3":true,"content":"<p>RTP itself doesn't provide every possible feature, which is why other protocols are also used by WebRTC. Some of the more noteworthy things RTP doesn't include:</p>\n<ul>\n  <li>RTP does <em>not</em> guarantee <strong><a href=\"https://en.wikipedia.org/wiki/Quality-of-service\" class=\"external\" rel=\" noopener\">quality-of-service</a></strong> (<strong>QoS</strong>).</li>\n  <li>While RTP is intended for use in latency-critical scenarios, it doesn't inherently offer any features that ensure QoS. Instead, it only offers the information necessary to allow QoS to be implemented elsewhere in the stack.</li>\n  <li>RTP doesn't handle allocation or reservation of resources that may be needed.</li>\n</ul>\n<p>Where it matters for WebRTC purposes, these are dealt with in a variety of places within the WebRTC infrastructure. For example, RTCP handles QoS monitoring.</p>"}},{"type":"prose","value":{"id":"rtcpeerconnection_and_rtp","title":"RTCPeerConnection and RTP","isH3":false,"content":"<p>Each <a href=\"/en-US/docs/Web/API/RTCPeerConnection\"><code>RTCPeerConnection</code></a> has methods which provide access to the list of RTP transports that service the peer connection. These correspond to the following three types of transport supported by <code>RTCPeerConnection</code>:</p>\n<dl>\n  <dt id=\"rtcrtpsender\"><a href=\"/en-US/docs/Web/API/RTCRtpSender\"><code>RTCRtpSender</code></a></dt>\n  <dd>\n    <p><code>RTCRtpSender</code>s handle the encoding and transmission of <a href=\"/en-US/docs/Web/API/MediaStreamTrack\"><code>MediaStreamTrack</code></a> data to a remote peer. The senders for a given connection can be obtained by calling <a href=\"/en-US/docs/Web/API/RTCPeerConnection/getSenders\"><code>RTCPeerConnection.getSenders()</code></a>.</p>\n  </dd>\n  <dt id=\"rtcrtpreceiver\"><a href=\"/en-US/docs/Web/API/RTCRtpReceiver\"><code>RTCRtpReceiver</code></a></dt>\n  <dd>\n    <p><code>RTCRtpReceiver</code>s provide the ability to inspect and obtain information about incoming <code>MediaStreamTrack</code> data. A connection's receivers can be obtained by calling <a href=\"/en-US/docs/Web/API/RTCPeerConnection/getReceivers\"><code>RTCPeerConnection.getReceivers()</code></a>.</p>\n  </dd>\n  <dt id=\"rtcrtptransceiver\"><a href=\"/en-US/docs/Web/API/RTCRtpTransceiver\"><code>RTCRtpTransceiver</code></a></dt>\n  <dd>\n    <p>An <code>RTCRtpTransceiver</code> is a pair of one RTP sender and one RTP receiver which share an SDP <code>mid</code> attribute, which means they share the same SDP media m-line (representing a bidirectional SRTP stream). These are returned by the <a href=\"/en-US/docs/Web/API/RTCPeerConnection/getTransceivers\"><code>RTCPeerConnection.getTransceivers()</code></a> method, and each <code>mid</code> and transceiver share a one-to-one relationship, with the <code>mid</code> being unique for each <code>RTCPeerConnection</code>.</p>\n  </dd>\n</dl>"}},{"type":"prose","value":{"id":"leveraging_rtp_to_implement_a_hold_feature","title":"Leveraging RTP to implement a \"hold\" feature","isH3":true,"content":"<p>Because the streams for an <code>RTCPeerConnection</code> are implemented using RTP and the interfaces <a href=\"#rtcpeerconnection_and_rtp\">above</a>, you can take advantage of the access this gives you to the internals of streams to make adjustments. Among the simplest things you can do is to implement a \"hold\" feature, wherein a participant in a call can click a button and turn off their microphone, begin sending music to the other peer instead, and stop accepting incoming audio.</p>\n<div class=\"notecard note\" id=\"sect2\">\n  <p><strong>Note:</strong> This example makes use of modern JavaScript features including <a href=\"/en-US/docs/Web/JavaScript/Reference/Statements/async_function\">async functions</a> and the <a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/await\"><code>await</code></a> expression. This enormously simplifies and makes far more readable the code dealing with the promises returned by WebRTC methods.</p>\n</div>\n<p>In the examples below, we'll refer to the peer which is turning \"hold\" mode on and off as the local peer and the user being placed on hold as the remote peer.</p>\n<h4 id=\"activating_hold_mode\">Activating hold mode</h4>\n<h5 id=\"local_peer\">Local peer</h5>\n<p>When the local user decides to enable hold mode, the <code>enableHold()</code> method below is called. It accepts as input a <a href=\"/en-US/docs/Web/API/MediaStream\"><code>MediaStream</code></a> containing the audio to play while the call is on hold.</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">enableHold</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">audioStream</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">await</span> audioTransceiver<span class=\"token punctuation\">.</span>sender<span class=\"token punctuation\">.</span><span class=\"token function\">replaceTrack</span><span class=\"token punctuation\">(</span>audioStream<span class=\"token punctuation\">.</span><span class=\"token function\">getAudioTracks</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    audioTransceiver<span class=\"token punctuation\">.</span>receiver<span class=\"token punctuation\">.</span>track<span class=\"token punctuation\">.</span>enabled <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\n    audioTransceiver<span class=\"token punctuation\">.</span>direction <span class=\"token operator\">=</span> <span class=\"token string\">\"sendonly\"</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">/* handle the error */</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>The three lines of code within the <a href=\"/en-US/docs/Web/JavaScript/Reference/Statements/try...catch\"><code>try</code></a> block perform the following steps:</p>\n<ol>\n  <li>Replace their outgoing audio track with a <a href=\"/en-US/docs/Web/API/MediaStreamTrack\"><code>MediaStreamTrack</code></a> containing hold music.</li>\n  <li>Disable the incoming audio track.</li>\n  <li>Switch the audio transceiver into send-only mode.</li>\n</ol>\n<p>This triggers renegotiation of the <code>RTCPeerConnection</code> by sending it a <a href=\"/en-US/docs/Web/API/RTCPeerConnection/negotiationneeded_event\" title=\"negotiationneeded\"><code>negotiationneeded</code></a> event, which your code responds to generating an SDP offer using <a href=\"/en-US/docs/Web/API/RTCPeerConnection/createOffer\"><code>RTCPeerConnection.createOffer</code></a> and sending it through the signaling server to the remote peer.</p>\n<p>The <code>audioStream</code>, containing the audio to play instead of the local peer's microphone audio, can come from anywhere. One possibility is to have a hidden <a href=\"/en-US/docs/Web/HTML/Element/audio\"><code>&lt;audio&gt;</code></a> element and use <a href=\"/en-US/docs/Web/API/HTMLMediaElement/captureStream\" title=\"HTMLAudioElement.captureStream()\"><code>HTMLAudioElement.captureStream()</code></a> to get its audio stream.</p>\n<h5 id=\"remote_peer\">Remote peer</h5>\n<p>On the remote peer, when we receive an SDP offer with the directionality set to <code>\"sendonly\"</code>, we handle it using the <code>holdRequested()</code> method, which accepts as input an SDP offer string.</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">holdRequested</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">offer</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">await</span> peerConnection<span class=\"token punctuation\">.</span><span class=\"token function\">setRemoteDescription</span><span class=\"token punctuation\">(</span>offer<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">await</span> audioTransceiver<span class=\"token punctuation\">.</span>sender<span class=\"token punctuation\">.</span><span class=\"token function\">replaceTrack</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    audioTransceiver<span class=\"token punctuation\">.</span>direction <span class=\"token operator\">=</span> <span class=\"token string\">\"recvonly\"</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">await</span> <span class=\"token function\">sendAnswer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">/* handle the error */</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>The steps taken here are:</p>\n<ol>\n  <li>Set the remote description to the specified <code>offer</code> by calling <a href=\"/en-US/docs/Web/API/RTCPeerConnection/setRemoteDescription\"><code>RTCPeerConnection.setRemoteDescription()</code></a>.</li>\n  <li>Replace the audio transceiver's <a href=\"/en-US/docs/Web/API/RTCRtpSender\"><code>RTCRtpSender</code></a>'s track with <code>null</code>, meaning no track. This stops sending audio on the transceiver.</li>\n  <li>Set the audio transceiver's <a href=\"/en-US/docs/Web/API/RTCRtpTransceiver/direction\" title=\"direction\"><code>direction</code></a> property to <code>\"recvonly\"</code>, instructing the transceiver to only accept audio and not to send any.</li>\n  <li>The SDP answer is generated and sent using a method called <code>sendAnswer()</code>, which generates the answer using <a href=\"/en-US/docs/Web/API/RTCPeerConnection/createAnswer\" title=\"createAnswer()\"><code>createAnswer()</code></a> then sends the resulting SDP to the other peer over the signaling service.</li>\n</ol>\n<h4 id=\"deactivating_hold_mode\">Deactivating hold mode</h4>\n<h5 id=\"local_peer_2\">Local peer</h5>\n<p>When the local user clicks the interface widget to disable hold mode, the <code>disableHold()</code> method is called to begin the process of restoring normal functionality.</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">disableHold</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">micStream</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">await</span> audioTransceiver<span class=\"token punctuation\">.</span>sender<span class=\"token punctuation\">.</span><span class=\"token function\">replaceTrack</span><span class=\"token punctuation\">(</span>micStream<span class=\"token punctuation\">.</span><span class=\"token function\">getAudioTracks</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  audioTransceiver<span class=\"token punctuation\">.</span>receiver<span class=\"token punctuation\">.</span>track<span class=\"token punctuation\">.</span>enabled <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\n  audioTransceiver<span class=\"token punctuation\">.</span>direction <span class=\"token operator\">=</span> <span class=\"token string\">\"sendrecv\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>This reverses the steps taken in <code>enableHold()</code> as follows:</p>\n<ol>\n  <li>The audio transceiver's <code>RTCRtpSender</code>'s track is replaced with the specified stream's first audio track.</li>\n  <li>The transceiver's incoming audio track is re-enabled.</li>\n  <li>The audio transceiver's direction is set to <code>\"sendrecv\"</code>, indicating that it should return to both sending and receiving streamed audio, instead of only sending.</li>\n</ol>\n<p>Just like when hold was engaged, this triggers negotiation again, resulting in your code sending a new offer to the remote peer.</p>\n<h5 id=\"remote_peer_2\">Remote peer</h5>\n<p>When the <code>\"sendrecv\"</code> offer is received by the remote peer, it calls its <code>holdEnded()</code> method:</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">holdEnded</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">offer<span class=\"token punctuation\">,</span> micStream</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">await</span> peerConnection<span class=\"token punctuation\">.</span><span class=\"token function\">setRemoteDescription</span><span class=\"token punctuation\">(</span>offer<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">await</span> audioTransceiver<span class=\"token punctuation\">.</span>sender<span class=\"token punctuation\">.</span><span class=\"token function\">replaceTrack</span><span class=\"token punctuation\">(</span>micStream<span class=\"token punctuation\">.</span><span class=\"token function\">getAudioTracks</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    audioTransceiver<span class=\"token punctuation\">.</span>direction <span class=\"token operator\">=</span> <span class=\"token string\">\"sendrecv\"</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">await</span> <span class=\"token function\">sendAnswer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">/* handle the error */</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>The steps taken inside the <code>try</code> block here are:</p>\n<ol>\n  <li>The received offer is stored as the remote description by calling <code>setRemoteDescription()</code>.</li>\n  <li>The audio transceiver's <code>RTCRtpSender</code>'s <a href=\"/en-US/docs/Web/API/RTCRtpSender/replaceTrack\" title=\"replaceTrack()\"><code>replaceTrack()</code></a> method is used to set the outgoing audio track to the first track of the microphone's audio stream.</li>\n  <li>The transceiver's direction is set to <code>\"sendrecv\"</code>, indicating that it should resume both sending and receiving audio.</li>\n</ol>\n<p>From this point on, the microphone is re-engaged and the remote user is once again able to hear the local user, as well as speak to them.</p>"}},{"type":"prose","value":{"id":"see_also","title":"See also","isH3":false,"content":"<ul>\n  <li><a href=\"/en-US/docs/Web/API/WebRTC_API/Connectivity\">WebRTC connectivity</a></li>\n  <li><a href=\"/en-US/docs/Web/API/WebRTC_API/Protocols\">Introduction to WebRTC protocols</a></li>\n  <li><a href=\"/en-US/docs/Web/API/WebRTC_API/Session_lifetime\">Lifetime of a WebRTC session</a></li>\n</ul>"}}],"toc":[{"text":"Key features of RTP","id":"key_features_of_rtp"},{"text":"RTCPeerConnection and RTP","id":"rtcpeerconnection_and_rtp"},{"text":"See also","id":"see_also"}],"summary":"The Real-time Transport Protocol (RTP), defined in RFC 3550, is an IETF standard protocol to enable real-time connectivity for exchanging data that needs real-time priority. This article provides an overview of what RTP is and how it functions in the context of WebRTC.","popularity":0.0009,"modified":"2022-09-09T05:19:45.000Z","source":{"folder":"en-us/web/api/webrtc_api/intro_to_rtp","github_url":"https://github.com/mdn/content/blob/style/old/files/en-us/web/api/webrtc_api/intro_to_rtp/index.md","last_commit_url":"https://github.com/mdn/content/commit/f7dae62645a2c735ed6f6ed63f664bf279fdfc4b","filename":"index.md"},"parents":[{"uri":"/en-US/docs/Web","title":"Web technology for developers"},{"uri":"/en-US/docs/Web/API","title":"Web APIs"},{"uri":"/en-US/docs/Web/API/WebRTC_API","title":"WebRTC API"},{"uri":"/en-US/docs/Web/API/WebRTC_API/Intro_to_RTP","title":"Introduction to the Real-time Transport Protocol (RTP)"}],"pageTitle":"Introduction to the Real-time Transport Protocol (RTP) - Web APIs | MDN","noIndexing":false}}</script></body></html>