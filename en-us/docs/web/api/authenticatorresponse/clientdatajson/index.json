{"doc":{"isMarkdown":true,"isTranslated":false,"isActive":true,"flaws":{},"title":"AuthenticatorResponse.clientDataJSON","mdn_url":"/en-US/docs/Web/API/AuthenticatorResponse/clientDataJSON","locale":"en-US","native":"English (US)","sidebarHTML":"<ol><li><strong><a href=\"/en-US/docs/Web/API/Web_Authentication_API\">Web Authentication API</a></strong></li><li><strong><a href=\"/en-US/docs/Web/API/AuthenticatorResponse\"><code>AuthenticatorResponse</code></a></strong></li><li class=\"toggle\"><details open=\"\"><summary>Properties</summary><ol><li><em><code>clientDataJSON</code></em></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>Related pages for Web Authentication API</summary><ol><li><a href=\"/en-US/docs/Web/API/AuthenticatorAssertionResponse\"><code>AuthenticatorAssertionResponse</code></a></li><li><a href=\"/en-US/docs/Web/API/AuthenticatorAttestationResponse\"><code>AuthenticatorAttestationResponse</code></a></li><li><a href=\"/en-US/docs/Web/API/CredentialsContainer\"><code>CredentialsContainer</code></a></li><li><a href=\"/en-US/docs/Web/API/PublicKeyCredential\"><code>PublicKeyCredential</code></a></li></ol></details></li></ol>","body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<div class=\"notecard secure\" id=\"sect1\"><p><strong>Secure context:</strong> This feature is available only in <a href=\"/en-US/docs/Web/Security/Secure_Contexts\">secure contexts</a> (HTTPS), in some or all <a href=\"#browser_compatibility\">supporting browsers</a>.</p></div>\n<p>\n  The <strong><code>clientDataJSON</code></strong> property of the\n  <a href=\"/en-US/docs/Web/API/AuthenticatorResponse\"><code>AuthenticatorResponse</code></a> interface stores a <a href=\"/en-US/docs/Learn/JavaScript/Objects/JSON\">JSON</a> string in an\n  <a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer\"><code>ArrayBuffer</code></a>, representing the client data that was passed to\n  <a href=\"/en-US/docs/Web/API/CredentialsContainer/create\"><code>CredentialsContainer.create()</code></a> or\n  <a href=\"/en-US/docs/Web/API/CredentialsContainer/get\"><code>CredentialsContainer.get()</code></a>. This property is only accessed on one of the\n  child objects of <code>AuthenticatorResponse</code>, specifically\n  <a href=\"/en-US/docs/Web/API/AuthenticatorAttestationResponse\"><code>AuthenticatorAttestationResponse</code></a> or\n  <a href=\"/en-US/docs/Web/API/AuthenticatorAssertionResponse\"><code>AuthenticatorAssertionResponse</code></a>.\n</p>"}},{"type":"prose","value":{"id":"value","title":"Value","isH3":false,"content":"<p>An <a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer\"><code>ArrayBuffer</code></a>.</p>"}},{"type":"prose","value":{"id":"properties","title":"Properties","isH3":false,"content":"<p>\n  After the <code>clientDataJSON</code> object is converted from an\n  <code>ArrayBuffer</code> to a JavaScript object, it will have the following properties:\n</p>\n<dl>\n  <dt id=\"type\"><code>type</code></dt>\n  <dd>\n    <p>\n      A string which is either <code>\"webauthn.get\"</code> when an existing credential is\n      retrieved or <code>\"webauthn.create\"</code> when a new credential is created.\n    </p>\n  </dd>\n  <dt id=\"challenge\"><code>challenge</code></dt>\n  <dd>\n    <p>\n      The <a href=\"/en-US/docs/Glossary/Base64\">base64url</a>\n      encoded version of the cryptographic challenge sent from the relying party's server.\n      The original value is passed via\n      <a href=\"/en-US/docs/Web/API/CredentialsContainer/get\"><code>PublicKeyCredentialRequestOptions.challenge</code></a> or\n      <a href=\"/en-US/docs/Web/API/CredentialsContainer/create\"><code>PublicKeyCredentialCreationOptions.challenge</code></a>.\n    </p>\n  </dd>\n  <dt id=\"origin\"><code>origin</code></dt>\n  <dd>\n    <p>\n      The fully qualified origin of the requester which has been given by the\n      client/browser to the authenticator. We should expect the <em>relying party's\nid</em> to be a suffix of this value.\n    </p>\n  </dd>\n  <dt id=\"tokenbindingid\"><code>tokenBindingId</code> <span class=\"badge inline optional\">Optional</span></dt>\n  <dd>\n    <p>\n      An object describing the state of <a href=\"https://datatracker.ietf.org/doc/html/rfc8471\" class=\"external\" rel=\" noopener\">the token binding protocol</a> for the communication with the relying party. It has\n      two properties:\n    </p>\n    <ul>\n      <li>\n        <code>status</code>: A string which is either <code>\"supported\"</code> which\n        indicates the client support token binding but did not negotiate with the relying\n        party or <code>\"present\"</code> when token binding was used already\n      </li>\n      <li>\n        <code>id</code>: A string which is the <a href=\"/en-US/docs/Glossary/Base64\">base64url</a>\n        encoding of the token binding ID which was used for the communication.\n      </li>\n    </ul>\n    <p>\n      Should this property be absent, it would indicate that the client does not support\n      token binding.\n    </p>\n  </dd>\n</dl>"}},{"type":"prose","value":{"id":"examples","title":"Examples","isH3":false,"content":"<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">function</span> <span class=\"token function\">arrayBufferToStr</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">buf</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> String<span class=\"token punctuation\">.</span><span class=\"token function\">fromCharCode</span><span class=\"token punctuation\">.</span><span class=\"token function\">apply</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Uint8Array</span><span class=\"token punctuation\">(</span>buf<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// pk is a PublicKeyCredential that is the result of a create() or get() Promise</span>\n<span class=\"token keyword\">const</span> clientDataStr <span class=\"token operator\">=</span> <span class=\"token function\">arrayBufferToStr</span><span class=\"token punctuation\">(</span>pk<span class=\"token punctuation\">.</span>clientDataJSON<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> clientDataObj <span class=\"token operator\">=</span> <span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">parse</span><span class=\"token punctuation\">(</span>clientDataStr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>clientDataObj<span class=\"token punctuation\">.</span>type<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// \"webauthn.create\" or \"webauthn.get\"</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>clientDataObj<span class=\"token punctuation\">.</span>challenge<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// base64 encoded String containing the original challenge</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>clientDataObj<span class=\"token punctuation\">.</span>origin<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// the window.origin</span>\n</code></pre></div>"}},{"type":"specifications","value":{"title":"Specifications","id":"specifications","isH3":false,"specifications":[{"bcdSpecificationURL":"https://w3c.github.io/webauthn/#dom-authenticatorresponse-clientdatajson","title":"Web Authentication: An API for accessing Public Key Credentials - Level 3"}],"query":"api.AuthenticatorResponse.clientDataJSON"}},{"type":"browser_compatibility","value":{"title":"Browser compatibility","id":"browser_compatibility","isH3":false,"query":"api.AuthenticatorResponse.clientDataJSON","dataURL":"/en-US/docs/Web/API/AuthenticatorResponse/clientDataJSON/bcd.json"}}],"toc":[{"text":"Value","id":"value"},{"text":"Properties","id":"properties"},{"text":"Examples","id":"examples"},{"text":"Specifications","id":"specifications"},{"text":"Browser compatibility","id":"browser_compatibility"}],"summary":"The clientDataJSON property of the\n  AuthenticatorResponse interface stores a JSON string in an\n  ArrayBuffer, representing the client data that was passed to\n  CredentialsContainer.create() or\n  CredentialsContainer.get(). This property is only accessed on one of the\n  child objects of AuthenticatorResponse, specifically\n  AuthenticatorAttestationResponse or\n  AuthenticatorAssertionResponse.","popularity":0.0002,"modified":"2022-09-15T18:16:38.000Z","other_translations":[{"title":"AuthenticatorResponse.clientDataJSON","locale":"zh-CN","native":"中文 (简体)"}],"source":{"folder":"en-us/web/api/authenticatorresponse/clientdatajson","github_url":"https://github.com/mdn/content/blob/style/old/files/en-us/web/api/authenticatorresponse/clientdatajson/index.md","last_commit_url":"https://github.com/mdn/content/commit/418f9cf461de0c7845665c0c677ad0667740f52a","filename":"index.md"},"parents":[{"uri":"/en-US/docs/Web","title":"Web technology for developers"},{"uri":"/en-US/docs/Web/API","title":"Web APIs"},{"uri":"/en-US/docs/Web/API/AuthenticatorResponse","title":"AuthenticatorResponse"},{"uri":"/en-US/docs/Web/API/AuthenticatorResponse/clientDataJSON","title":"AuthenticatorResponse.clientDataJSON"}],"pageTitle":"AuthenticatorResponse.clientDataJSON - Web APIs | MDN","noIndexing":false}}