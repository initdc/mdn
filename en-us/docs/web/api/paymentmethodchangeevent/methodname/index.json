{"doc":{"isMarkdown":true,"isTranslated":false,"isActive":true,"flaws":{},"title":"PaymentMethodChangeEvent.methodName","mdn_url":"/en-US/docs/Web/API/PaymentMethodChangeEvent/methodName","locale":"en-US","native":"English (US)","sidebarHTML":"<ol><li><strong><a href=\"/en-US/docs/Web/API/Payment_Request_API\">Payment Request API</a></strong></li><li><strong><a href=\"/en-US/docs/Web/API/PaymentMethodChangeEvent\"><code>PaymentMethodChangeEvent</code></a></strong></li><li class=\"toggle\"><details open=\"\"><summary>Properties</summary><ol><li><a href=\"/en-US/docs/Web/API/PaymentMethodChangeEvent/methodDetails\"><code>methodDetails</code></a></li><li><em><code>methodName</code></em></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>Inheritance:</summary><ol><li><a href=\"/en-US/docs/Web/API/PaymentRequestUpdateEvent\"><code>PaymentRequestUpdateEvent</code></a></li><li><a href=\"/en-US/docs/Web/API/Event\"><code>Event</code></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>Related pages for Payment Request API</summary><ol><li><a href=\"/en-US/docs/Web/API/HTMLIFrameElement/allowPaymentRequest\"><code>HTMLIFrameElement.allowPaymentRequest</code></a></li><li><a href=\"/en-US/docs/Web/API/MerchantValidationEvent\"><code>MerchantValidationEvent</code></a></li><li><a href=\"/en-US/docs/Web/API/PaymentAddress\"><code>PaymentAddress</code></a></li><li><a href=\"/en-US/docs/Web/API/PaymentRequest\"><code>PaymentRequest</code></a></li><li><a href=\"/en-US/docs/Web/API/PaymentRequestUpdateEvent\"><code>PaymentRequestUpdateEvent</code></a></li><li><a href=\"/en-US/docs/Web/API/PaymentResponse\"><code>PaymentResponse</code></a></li></ol></details></li></ol>","body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<div class=\"notecard secure\" id=\"sect1\"><p><strong>Secure context:</strong> This feature is available only in <a href=\"/en-US/docs/Web/Security/Secure_Contexts\">secure contexts</a> (HTTPS), in some or all <a href=\"#browser_compatibility\">supporting browsers</a>.</p></div>\n<p>\n  The read-only <strong><code>methodName</code></strong> property of the <a href=\"/en-US/docs/Web/API/PaymentMethodChangeEvent\"><code>PaymentMethodChangeEvent</code></a> interface is a string which\n  uniquely identifies the payment handler currently selected by the user. The\n  payment handler may be a payment technology, such as Apple Pay or Android Pay, and each\n  payment handler may support multiple payment methods; changes to the payment method\n  within the payment handler are described by the <code>PaymentMethodChangeEvent</code>.\n</p>"}},{"type":"prose","value":{"id":"value","title":"Value","isH3":false,"content":"<p>\n  A string which uniquely identifies the currently-selected payment\n  handler. This may be a string chosen from the list of standardized payment method\n  identifiers, or a URL used by the payment processing service. See\n  <a href=\"/en-US/docs/Web/API/Payment_Request_API#payment_method\n__identifiers\">Payment method\n  identifiers</a> in <a href=\"/en-US/docs/Web/API/Payment_Request_API\">Payment Request API</a> for more information.\n</p>\n<p>The default value is the empty string, <code>\"\"</code>.</p>"}},{"type":"prose","value":{"id":"examples","title":"Examples","isH3":false,"content":"<p>\n  This example uses the <a href=\"/en-US/docs/Web/API/PaymentRequest/paymentmethodchange_event\" title=\"paymentmethodchange\"><code>paymentmethodchange</code></a> event to watch for changes to\n  the payment method selected for Apple Pay, in order to compute a discount if the user\n  chooses to use a Visa card as their payment method.\n</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code>request<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onpaymentmethodchange</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">ev</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">type</span><span class=\"token operator\">:</span> cardType <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> ev<span class=\"token punctuation\">.</span>methodDetails<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> newStuff <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>ev<span class=\"token punctuation\">.</span>methodName <span class=\"token operator\">===</span> <span class=\"token string\">\"https://apple.com/apple-pay\"</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">switch</span> <span class=\"token punctuation\">(</span>cardType<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">case</span> <span class=\"token string\">\"visa\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// do Apple Pay specific handling for Visa card…</span>\n        <span class=\"token comment\">// methodDetails contains the card information</span>\n        <span class=\"token keyword\">const</span> discount <span class=\"token operator\">=</span> <span class=\"token function\">calculateDiscount</span><span class=\"token punctuation\">(</span>ev<span class=\"token punctuation\">.</span>methodDetails<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        Object<span class=\"token punctuation\">.</span><span class=\"token function\">assign</span><span class=\"token punctuation\">(</span>newStuff<span class=\"token punctuation\">,</span> discount<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token comment\">// finally…</span>\n  ev<span class=\"token punctuation\">.</span><span class=\"token function\">updateWith</span><span class=\"token punctuation\">(</span>newStuff<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> response <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> request<span class=\"token punctuation\">.</span><span class=\"token function\">show</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<p>Note that the <code>methodDetails</code> property is being used by the <code>calculateDiscount()</code> function to compute any payment discount, then <a href=\"/en-US/docs/Web/API/PaymentRequestUpdateEvent/updateWith\" title=\"updateWith()\"><code>updateWith()</code></a> is called to update the event with the computed update.</p>"}},{"type":"specifications","value":{"title":"Specifications","id":"specifications","isH3":false,"specifications":[{"bcdSpecificationURL":"https://w3c.github.io/payment-request/#dom-paymentmethodchangeevent-methodname","title":"Payment Request API"}],"query":"api.PaymentMethodChangeEvent.methodName"}},{"type":"browser_compatibility","value":{"title":"Browser compatibility","id":"browser_compatibility","isH3":false,"query":"api.PaymentMethodChangeEvent.methodName","dataURL":"/en-US/docs/Web/API/PaymentMethodChangeEvent/methodName/bcd.json"}}],"toc":[{"text":"Value","id":"value"},{"text":"Examples","id":"examples"},{"text":"Specifications","id":"specifications"},{"text":"Browser compatibility","id":"browser_compatibility"}],"summary":"The read-only methodName property of the PaymentMethodChangeEvent interface is a string which\n  uniquely identifies the payment handler currently selected by the user. The\n  payment handler may be a payment technology, such as Apple Pay or Android Pay, and each\n  payment handler may support multiple payment methods; changes to the payment method\n  within the payment handler are described by the PaymentMethodChangeEvent.","popularity":0,"modified":"2022-09-09T05:17:24.000Z","source":{"folder":"en-us/web/api/paymentmethodchangeevent/methodname","github_url":"https://github.com/mdn/content/blob/style/old/files/en-us/web/api/paymentmethodchangeevent/methodname/index.md","last_commit_url":"https://github.com/mdn/content/commit/4b4638246aad5d39b9a2e5c572b179b4c39c0a84","filename":"index.md"},"parents":[{"uri":"/en-US/docs/Web","title":"Web technology for developers"},{"uri":"/en-US/docs/Web/API","title":"Web APIs"},{"uri":"/en-US/docs/Web/API/PaymentMethodChangeEvent","title":"PaymentMethodChangeEvent"},{"uri":"/en-US/docs/Web/API/PaymentMethodChangeEvent/methodName","title":"PaymentMethodChangeEvent.methodName"}],"pageTitle":"PaymentMethodChangeEvent.methodName - Web APIs | MDN","noIndexing":false}}