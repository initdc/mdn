{"doc":{"isMarkdown":true,"isTranslated":false,"isActive":true,"flaws":{},"title":"Using the CSS Typed Object Model","mdn_url":"/en-US/docs/Web/API/CSS_Typed_OM_API/Guide","locale":"en-US","native":"English (US)","sidebarHTML":"<ol><li><strong><a href=\"/en-US/docs/Web/API/CSS_Typed_OM_API\">CSS Typed OM API</a></strong></li><li class=\"toggle\"><details open=\"\"><summary>Guides</summary><ol><li><a href=\"/en-US/docs/Web/API/CSS_Typed_OM_API/Guide\">Using the CSS Typed Object Model</a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>Interfaces</summary><ol><li><a href=\"/en-US/docs/Web/API/CSSKeywordValue\"><code>CSSKeywordValue</code></a></li><li><a href=\"/en-US/docs/Web/API/CSSImageValue\"><code>CSSImageValue</code></a></li><li><a href=\"/en-US/docs/Web/API/CSSNumericValue\"><code>CSSNumericValue</code></a></li><li><a href=\"/en-US/docs/Web/API/CSSStyleValue\"><code>CSSStyleValue</code></a></li><li><a href=\"/en-US/docs/Web/API/CSSPositionValue\"><code>CSSPositionValue</code></a></li><li><a href=\"/en-US/docs/Web/API/CSSTransformValue\"><code>CSSTransformValue</code></a></li><li><a href=\"/en-US/docs/Web/API/CSSUnparsedValue\"><code>CSSUnparsedValue</code></a></li><li><a href=\"/en-US/docs/Web/API/StylePropertyMap\"><code>StylePropertyMap</code></a></li></ol></details></li></ol>","body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<p>The <strong><a href=\"/en-US/docs/Web/API/CSS_Typed_OM_API\">CSS Typed Object Model API</a></strong> exposes CSS values as typed JavaScript objects to allow their performant manipulation.</p>\n<p>Converting <a href=\"/en-US/docs/Web/API/CSS_Object_Model\">CSS Object Model</a> value strings into meaningfully-typed JavaScript representations and back (via <a href=\"/en-US/docs/Web/API/HTMLElement/style\"><code>HTMLElement.style</code></a>) can incur a significant performance overhead.</p>\n<p>The CSS Typed OM makes CSS manipulation more logical and performant by providing object features (rather than CSSOM string manipulation), providing access to types, methods, and an object model for CSS values.</p>\n<p>This article provides an introduction to all of its main features.</p>"}},{"type":"prose","value":{"id":"computedstylemap","title":"computedStyleMap()","isH3":false,"content":"<p>With the CSS Typed OM API, we can access all the CSS properties and values — including custom properties — that are impacting an element. Let's see how this works by creating our first example, which explores <a href=\"/en-US/docs/Web/API/Element/computedStyleMap\" title=\"computedStyleMap()\"><code>computedStyleMap()</code></a>.</p>"}},{"type":"prose","value":{"id":"getting_all_the_properties_and_values","title":"Getting all the properties and values","isH3":true,"content":"<h4 id=\"html\">HTML</h4>\n<p>We start with some HTML: a paragraph with a link, as well as a definition list to which we will add all the CSS Property / Value pairs.</p>\n<div class=\"code-example\"><pre class=\"brush: html notranslate\"><code><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>https://example.com<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>Link<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>dl</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>regurgitation<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>dl</span><span class=\"token punctuation\">&gt;</span></span>\n</code></pre></div>\n<h4 id=\"javascript\">JavaScript</h4>\n<p>We add JavaScript to grab our unstyled link and return back a definition list of all the default CSS property values impacting the link using <code>computedStyleMap()</code>.</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token comment\">// Get the element</span>\n<span class=\"token keyword\">const</span> myElement <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">'a'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// Get the &lt;dl&gt; we'll be populating</span>\n<span class=\"token keyword\">const</span> stylesList <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">'#regurgitation'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// Retrieve all computed styles with computedStyleMap()</span>\n<span class=\"token keyword\">const</span> defaultComputedStyles <span class=\"token operator\">=</span> myElement<span class=\"token punctuation\">.</span><span class=\"token function\">computedStyleMap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// Iterate through the map of all the properties and values, adding a &lt;dt&gt; and &lt;dd&gt; for each</span>\n<span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>prop<span class=\"token punctuation\">,</span> val<span class=\"token punctuation\">]</span> <span class=\"token keyword\">of</span> defaultComputedStyles<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// properties</span>\n  <span class=\"token keyword\">const</span> cssProperty <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">createElement</span><span class=\"token punctuation\">(</span><span class=\"token string\">'dt'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  cssProperty<span class=\"token punctuation\">.</span><span class=\"token function\">appendChild</span><span class=\"token punctuation\">(</span>document<span class=\"token punctuation\">.</span><span class=\"token function\">createTextNode</span><span class=\"token punctuation\">(</span>prop<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  stylesList<span class=\"token punctuation\">.</span><span class=\"token function\">appendChild</span><span class=\"token punctuation\">(</span>cssProperty<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// values</span>\n  <span class=\"token keyword\">const</span> cssValue <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">createElement</span><span class=\"token punctuation\">(</span><span class=\"token string\">'dd'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  cssValue<span class=\"token punctuation\">.</span><span class=\"token function\">appendChild</span><span class=\"token punctuation\">(</span>document<span class=\"token punctuation\">.</span><span class=\"token function\">createTextNode</span><span class=\"token punctuation\">(</span>val<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  stylesList<span class=\"token punctuation\">.</span><span class=\"token function\">appendChild</span><span class=\"token punctuation\">(</span>cssValue<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>The <code>computedStyleMap()</code> method returns a <a href=\"/en-US/docs/Web/API/StylePropertyMapReadOnly\"><code>StylePropertyMapReadOnly</code></a> object containing the <a href=\"/en-US/docs/Web/API/StylePropertyMapReadOnly/size\"><code>size</code></a> property, which indicates how many properties are in the map. We iterate through the style map, creating a <a href=\"/en-US/docs/Web/HTML/Element/dt\"><code>&lt;dt&gt;</code></a> and <a href=\"/en-US/docs/Web/HTML/Element/dd\"><code>&lt;dd&gt;</code></a> for each property and value respectively.</p>\n<h4 id=\"result\">Result</h4>\n<p>In <a href=\"/en-US/docs/Web/API/Element/computedStyleMap#browser_compatibility\">browsers that support <code>computedStyleMap()</code></a>, you'll see a list of all the CSS properties and values. In other browsers, you'll just see a link.</p><iframe class=\"sample-code-frame\" title=\"Getting all the properties and values sample\" id=\"frame_getting_all_the_properties_and_values\" width=\"120\" height=\"300\" src=\"https://yari-demos.prod.mdn.mozit.cloud/en-US/docs/Web/API/CSS_Typed_OM_API/Guide/_sample_.getting_all_the_properties_and_values.html\" loading=\"lazy\"></iframe>\n<p>Did you realize how many default CSS properties a link had? Update the JavaScript on line 2 to select the <a href=\"/en-US/docs/Web/HTML/Element/p\"><code>&lt;p&gt;</code></a> rather than the <a href=\"/en-US/docs/Web/HTML/Element/a\"><code>&lt;a&gt;</code></a>. You'll notice a difference in the <a href=\"/en-US/docs/Web/CSS/margin-top\"><code>margin-top</code></a> and <a href=\"/en-US/docs/Web/CSS/margin-bottom\"><code>margin-bottom</code></a> default computed values.</p>"}},{"type":"prose","value":{"id":".get_method_custom_properties","title":".get() method / custom properties","isH3":true,"content":"<p>Let's update our example to only retrieve a few properties and values. Let's start by adding some CSS to our example, including a custom property and an inheritable property:</p>\n<div class=\"code-example\"><pre class=\"brush: css notranslate\"><code><span class=\"token selector\">p</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">font-weight</span><span class=\"token punctuation\">:</span> bold<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token selector\">a</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">--color</span><span class=\"token punctuation\">:</span> red<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">color</span><span class=\"token punctuation\">:</span> <span class=\"token function\">var</span><span class=\"token punctuation\">(</span>--color<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>Instead of getting <em>all</em> the properties, we create an array of properties of interest and use the <a href=\"/en-US/docs/Web/API/StylePropertyMapReadOnly/get\"><code>StylePropertyMapReadOnly.get()</code></a> method to get each of their values:</p>\n<div class=\"code-example\"><pre class=\"brush: html hidden notranslate\"><code><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>https://example.com<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>Link<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>dl</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>regurgitation<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>dl</span><span class=\"token punctuation\">&gt;</span></span>\n</code></pre></div>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token comment\">// Get the element</span>\n<span class=\"token keyword\">const</span> myElement <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">'a'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// Get the &lt;dl&gt; we'll be populating</span>\n<span class=\"token keyword\">const</span> stylesList <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">'#regurgitation'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// Retrieve all computed styles with computedStyleMap()</span>\n<span class=\"token keyword\">const</span> allComputedStyles <span class=\"token operator\">=</span> myElement<span class=\"token punctuation\">.</span><span class=\"token function\">computedStyleMap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// Array of properties we're interested in</span>\n<span class=\"token keyword\">const</span> ofInterest <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'font-weight'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'border-left-color'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'color'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'--color'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// iterate through our properties of interest</span>\n<span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">const</span> value <span class=\"token keyword\">of</span> ofInterest<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// Properties</span>\n  <span class=\"token keyword\">const</span> cssProperty <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">createElement</span><span class=\"token punctuation\">(</span><span class=\"token string\">'dt'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  cssProperty<span class=\"token punctuation\">.</span><span class=\"token function\">appendChild</span><span class=\"token punctuation\">(</span>document<span class=\"token punctuation\">.</span><span class=\"token function\">createTextNode</span><span class=\"token punctuation\">(</span>value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  stylesList<span class=\"token punctuation\">.</span><span class=\"token function\">appendChild</span><span class=\"token punctuation\">(</span>cssProperty<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// Values</span>\n  <span class=\"token keyword\">const</span> cssValue <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">createElement</span><span class=\"token punctuation\">(</span><span class=\"token string\">'dd'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  cssValue<span class=\"token punctuation\">.</span><span class=\"token function\">appendChild</span><span class=\"token punctuation\">(</span>document<span class=\"token punctuation\">.</span><span class=\"token function\">createTextNode</span><span class=\"token punctuation\">(</span>allComputedStyles<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span>value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  stylesList<span class=\"token punctuation\">.</span><span class=\"token function\">appendChild</span><span class=\"token punctuation\">(</span>cssValue<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div><iframe class=\"sample-code-frame\" title=\".get method custom properties sample\" id=\"frame_.get_method_custom_properties\" width=\"120\" height=\"300\" src=\"https://yari-demos.prod.mdn.mozit.cloud/en-US/docs/Web/API/CSS_Typed_OM_API/Guide/_sample_..get_method_custom_properties.html\" loading=\"lazy\"></iframe>\n<p>We included <a href=\"/en-US/docs/Web/CSS/border-left-color\"><code>border-left-color</code></a> to demonstrate that, had we included all the properties, every value that defaults to <a href=\"/en-US/docs/Web/CSS/color_value\"><code>currentcolor</code></a> (including <a href=\"/en-US/docs/Web/CSS/caret-color\"><code>caret-color</code></a>, <a href=\"/en-US/docs/Web/CSS/outline-color\"><code>outline-color</code></a>, <a href=\"/en-US/docs/Web/CSS/text-decoration-color\"><code>text-decoration-color</code></a>, <a href=\"/en-US/docs/Web/CSS/column-rule-color\"><code>column-rule-color</code></a>, etc.) would return <code>rgb(255, 0, 0)</code>. The link has inherited <code>font-weight: bold;</code> from the paragraph's styles, listing it as <code>font-weight: 700</code>. Custom properties, like our <code>--color: red</code>, are properties. As such, they are accessible via <code>get()</code>.</p>\n<p>You'll note that custom properties retain the value as written in the stylesheet, whereas computed styles will be listed as the computed value — <a href=\"/en-US/docs/Web/CSS/color\"><code>color</code></a> was listed as an <a href=\"/en-US/docs/Web/CSS/color_value\"><code>rgb()</code></a> value and the <a href=\"/en-US/docs/Web/CSS/font-weight\"><code>font-weight</code></a> returned was <code>700</code> even though we use a <a href=\"/en-US/docs/Web/CSS/color_value\"><code>named color</code></a> and the <code>bold</code> keyword.</p>"}},{"type":"prose","value":{"id":"cssunitvalue_and_csskeywordvalue","title":"CSSUnitValue and CSSKeywordValue","isH3":true,"content":"<p>The power of the CSS Typed OM is that values are separate from units; parsing and concatenating string values may become be a thing of the past. Every CSS property in a style map has a value. If the value is a keyword, the object returned is a <a href=\"/en-US/docs/Web/API/CSSKeywordValue\"><code>CSSKeywordValue</code></a>. If the value is numeric, a <a href=\"/en-US/docs/Web/API/CSSUnitValue\"><code>CSSUnitValue</code></a> is returned.</p>\n<p><code>CSSKeywordValue</code> is a class that defines keywords like <code>inherit</code>, <code>initial</code>, <code>unset</code>, and other strings you don't quote, such as <code>auto</code> and <code>grid</code>. This subclass gives you a <code>value</code> property via <a href=\"/en-US/docs/Web/API/CSSKeywordValue/value\"><code>cssKeywordValue.value</code></a>.</p>\n<p><code>CSSUnitValue</code> is returned if the value is a unit type. It is a class that defines numbers with units of measurement like <code>20px</code>, <code>40%</code>, <code>200ms</code>, or <code>7</code>. It is returned with two properties: a <code>value</code> and a <code>unit</code>. With this type we can access the numeric value — <a href=\"/en-US/docs/Web/API/CSSUnitValue/value\"><code>cssUnitValue.value</code></a> — and its unit — <a href=\"/en-US/docs/Web/API/CSSUnitValue/unit\"><code>cssUnitValue.unit</code></a>.</p>\n<p>Let's write a plain paragraph, apply no styles, and inspect a few of its CSS properties by returning a table with the unit and value:</p>\n<div class=\"code-example\"><pre class=\"brush: html notranslate\"><code><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">&gt;</span></span>\n   This is a paragraph with some content. Open up this example in Codepen or\n   JSFiddle, and change some features. Try adding some CSS, such as a width\n   for this paragraph, or adding a CSS property to the ofInterest array.\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>table</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>regurgitation<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>thead</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>tr</span><span class=\"token punctuation\">&gt;</span></span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>th</span><span class=\"token punctuation\">&gt;</span></span>Property<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>th</span><span class=\"token punctuation\">&gt;</span></span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>th</span><span class=\"token punctuation\">&gt;</span></span>Value<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>th</span><span class=\"token punctuation\">&gt;</span></span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>th</span><span class=\"token punctuation\">&gt;</span></span>Unit<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>th</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>tr</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>table</span><span class=\"token punctuation\">&gt;</span></span>\n</code></pre></div>\n<p>For each property of interest, we list the name of the property, use <code>.get(propertyName).value</code> to return the value, and, if the object returned by the <code>get()</code> is a <code>CSSUnitValue</code>, list the unit type we retrieve with <code>.get(propertyName).unit</code>.</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token comment\">// Get the element we're inspecting</span>\n<span class=\"token keyword\">const</span> myElement <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">'p'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// Get the table we'll be populating</span>\n<span class=\"token keyword\">const</span> stylesTable <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">'#regurgitation'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// Retrieve all computed styles with computedStyleMap()</span>\n<span class=\"token keyword\">const</span> allComputedStyles <span class=\"token operator\">=</span> myElement<span class=\"token punctuation\">.</span><span class=\"token function\">computedStyleMap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// Array of properties we're interested in</span>\n<span class=\"token keyword\">const</span> ofInterest <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'padding-top'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'margin-bottom'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'font-size'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'font-stretch'</span><span class=\"token punctuation\">,</span>\n                    <span class=\"token string\">'animation-duration'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'animation-iteration-count'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'width'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'height'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// Iterate through our properties of interest</span>\n<span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">const</span> value <span class=\"token keyword\">of</span> ofInterest<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// Create a row</span>\n  <span class=\"token keyword\">const</span> row <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">createElement</span><span class=\"token punctuation\">(</span><span class=\"token string\">'tr'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// Add the name of the property</span>\n  <span class=\"token keyword\">const</span> cssProperty <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">createElement</span><span class=\"token punctuation\">(</span><span class=\"token string\">'td'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  cssProperty<span class=\"token punctuation\">.</span><span class=\"token function\">appendChild</span><span class=\"token punctuation\">(</span>document<span class=\"token punctuation\">.</span><span class=\"token function\">createTextNode</span><span class=\"token punctuation\">(</span>value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  row<span class=\"token punctuation\">.</span><span class=\"token function\">appendChild</span><span class=\"token punctuation\">(</span>cssProperty<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// Add the unitless value</span>\n  <span class=\"token keyword\">const</span> cssValue <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">createElement</span><span class=\"token punctuation\">(</span><span class=\"token string\">'td'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// Shrink long floats to 1 decimal point</span>\n  <span class=\"token keyword\">let</span> propVal <span class=\"token operator\">=</span> allComputedStyles<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span>value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">;</span>\n  propVal <span class=\"token operator\">=</span> propVal <span class=\"token operator\">%</span> <span class=\"token number\">1</span> <span class=\"token operator\">?</span> propVal<span class=\"token punctuation\">.</span><span class=\"token function\">toFixed</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">:</span> propVal<span class=\"token punctuation\">;</span>\n  cssValue<span class=\"token punctuation\">.</span><span class=\"token function\">appendChild</span><span class=\"token punctuation\">(</span>document<span class=\"token punctuation\">.</span><span class=\"token function\">createTextNode</span><span class=\"token punctuation\">(</span>propVal<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  row<span class=\"token punctuation\">.</span><span class=\"token function\">appendChild</span><span class=\"token punctuation\">(</span>cssValue<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// Add the type of unit</span>\n  <span class=\"token keyword\">const</span> cssUnit <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">createElement</span><span class=\"token punctuation\">(</span><span class=\"token string\">'td'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  cssUnit<span class=\"token punctuation\">.</span><span class=\"token function\">appendChild</span><span class=\"token punctuation\">(</span>document<span class=\"token punctuation\">.</span><span class=\"token function\">createTextNode</span><span class=\"token punctuation\">(</span>allComputedStyles<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span>value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>unit<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  row<span class=\"token punctuation\">.</span><span class=\"token function\">appendChild</span><span class=\"token punctuation\">(</span>cssUnit<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// Add the row to the table</span>\n  stylesTable<span class=\"token punctuation\">.</span><span class=\"token function\">appendChild</span><span class=\"token punctuation\">(</span>row<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div><iframe class=\"sample-code-frame\" title=\"CSSUnitValue and CSSKeywordValue sample\" id=\"frame_cssunitvalue_and_csskeywordvalue\" width=\"120\" height=\"300\" src=\"https://yari-demos.prod.mdn.mozit.cloud/en-US/docs/Web/API/CSS_Typed_OM_API/Guide/_sample_.cssunitvalue_and_csskeywordvalue.html\" loading=\"lazy\"></iframe>\n<p>For those of you using a non-supporting browser, the above output should look something like this:</p>\n<table>\n  <thead>\n    <tr>\n      <th>Property</th>\n      <th>Value</th>\n      <th>Unit</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <td><a href=\"/en-US/docs/Web/CSS/padding-top\"><code>padding-top</code></a></td>\n      <td>0</td>\n      <td><code>px</code></td>\n    </tr>\n    <tr>\n      <td><a href=\"/en-US/docs/Web/CSS/margin-bottom\"><code>margin-bottom</code></a></td>\n      <td>16</td>\n      <td><code>px</code></td>\n    </tr>\n    <tr>\n      <td><a href=\"/en-US/docs/Web/CSS/font-size\"><code>font-size</code></a></td>\n      <td>16</td>\n      <td><code>px</code></td>\n    </tr>\n    <tr>\n      <td><a href=\"/en-US/docs/Web/CSS/font-stretch\"><code>font-stretch</code></a></td>\n      <td>100</td>\n      <td><code>%</code></td>\n    </tr>\n    <tr>\n      <td><a href=\"/en-US/docs/Web/CSS/animation-duration\"><code>animation-duration</code></a></td>\n      <td>0</td>\n      <td><code>px</code></td>\n    </tr>\n    <tr>\n      <td><a href=\"/en-US/docs/Web/CSS/animation-iteration-count\"><code>animation-iteration-count</code></a></td>\n      <td>1</td>\n      <td><em>number</em></td>\n    </tr>\n    <tr>\n      <td><a href=\"/en-US/docs/Web/CSS/width\"><code>width</code></a></td>\n      <td>auto</td>\n      <td><em>undefined</em></td>\n    </tr>\n    <tr>\n      <td><a href=\"/en-US/docs/Web/CSS/height\"><code>height</code></a></td>\n      <td>auto</td>\n      <td><em>undefined</em></td>\n    </tr>\n  </tbody>\n</table>\n<p>You'll note the <a href=\"/en-US/docs/Web/CSS/length\"><code>&lt;length&gt;</code></a> unit returned is <code>px</code>, the <a href=\"/en-US/docs/Web/CSS/percentage\"><code>&lt;percentage&gt;</code></a> unit returned is <code>percent</code>, the <a href=\"/en-US/docs/Web/CSS/time\"><code>&lt;time&gt;</code></a> unit is <code>s</code> for 'seconds', and the unitless <a href=\"/en-US/docs/Web/CSS/number\"><code>&lt;number&gt;</code></a> unit is <code>number</code>.</p>\n<p>We didn't declare a <a href=\"/en-US/docs/Web/CSS/width\"><code>width</code></a> or a <a href=\"/en-US/docs/Web/CSS/height\"><code>height</code></a> for the paragraph, both of which default to <code>auto</code> and therefore return a <a href=\"/en-US/docs/Web/API/CSSKeywordValue\"><code>CSSKeywordValue</code></a> instead of a <a href=\"/en-US/docs/Web/API/CSSUnitValue\"><code>CSSUnitValue</code></a>. <code>CSSKeywordValue</code>s do not have a unit property, so in these cases our <code>get().unit</code> returns <code>undefined</code>.</p>\n<p>Had the <code>width</code> or <code>height</code> been defined in a <code>&lt;length&gt;</code> or <code>&lt;percent&gt;</code>, the <a href=\"/en-US/docs/Web/API/CSSUnitValue\"><code>CSSUnitValue</code></a> unit would have been <code>px</code> or <code>percent</code> respectively.</p>\n<p>There are other types available:</p>\n<ul>\n  <li>An <a href=\"/en-US/docs/Web/CSS/image\"><code>&lt;image&gt;</code></a> will return a <a href=\"/en-US/docs/Web/API/CSSImageValue\"><code>CSSImageValue</code></a>.</li>\n  <li>A <a href=\"/en-US/docs/Web/CSS/color_value\"><code>&lt;color&gt;</code></a> would return a <a href=\"/en-US/docs/Web/API/CSSStyleValue\"><code>CSSStyleValue</code></a>.</li>\n  <li>A <a href=\"/en-US/docs/Web/CSS/transform\"><code>transform</code></a> returns a <code>CSSTransformValue</code>.</li>\n  <li>A <a href=\"/en-US/docs/Web/CSS/--*\">custom property</a> returns a <a href=\"/en-US/docs/Web/API/CSSUnparsedValue\"><code>CSSUnparsedValue</code></a>.</li>\n</ul>\n<p>You can use a <code>CSSUnitValue</code> or <code>CSSKeywordValue</code> to create other objects.</p>"}},{"type":"prose","value":{"id":"cssstylevalue","title":"CSSStyleValue","isH3":false,"content":"<p>The <code>CSSStyleValue</code> interface of the <a href=\"/en-US/docs/Web/API/CSS_Object_Model#css_typed_object_model\">CSS Typed Object Model API</a> is the base class of all CSS values accessible through the Typed OM API, including <a href=\"/en-US/docs/Web/API/CSSImageValue\"><code>CSSImageValue</code></a>, <a href=\"/en-US/docs/Web/API/CSSKeywordValue\"><code>CSSKeywordValue</code></a>, <a href=\"/en-US/docs/Web/API/CSSNumericValue\"><code>CSSNumericValue</code></a>, <a href=\"/en-US/docs/Web/API/CSSPositionValue\"><code>CSSPositionValue</code></a>, <a href=\"/en-US/docs/Web/API/CSSTransformValue\"><code>CSSTransformValue</code></a>, and <a href=\"/en-US/docs/Web/API/CSSUnparsedValue\"><code>CSSUnparsedValue</code></a>.</p>\n<p>It has two methods:</p>\n<ul>\n  <li><a href=\"/en-US/docs/Web/API/CSSStyleValue/parse\"><code>CSSStyleValue.parse()</code></a></li>\n  <li><a href=\"/en-US/docs/Web/API/CSSStyleValue/parseAll\"><code>CSSStyleValue.parseAll()</code></a></li>\n</ul>\n<p>As noted above, <code>StylePropertyMapReadOnly.get('--customProperty')</code> returns a <a href=\"/en-US/docs/Web/API/CSSUnparsedValue\"><code>CSSUnparsedValue</code></a>. We can parse <code>CSSUnparsedValue</code> object instances with the inherited <a href=\"/en-US/docs/Web/API/CSSStyleValue/parse\"><code>CSSStyleValue.parse()</code></a> and <a href=\"/en-US/docs/Web/API/CSSStyleValue/parseAll\"><code>CSSStyleValue.parseAll()</code></a> methods.</p>\n<p>Let's examine a CSS example with several custom properties, transforms, <code>calc()</code>s, and other features. We'll take a look at what their types are by employing short JavaScript snippets outputting to <a href=\"/en-US/docs/Web/API/console/log\"><code>console.log()</code></a>:</p>\n<div class=\"code-example\"><pre class=\"brush: css notranslate\"><code><span class=\"token selector\">:root</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">--mainColor</span><span class=\"token punctuation\">:</span> <span class=\"token function\">hsl</span><span class=\"token punctuation\">(</span>198<span class=\"token punctuation\">,</span> 43%<span class=\"token punctuation\">,</span> 42%<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token property\">--black</span><span class=\"token punctuation\">:</span> <span class=\"token function\">hsl</span><span class=\"token punctuation\">(</span>0<span class=\"token punctuation\">,</span> 0%<span class=\"token punctuation\">,</span> 16%<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token property\">--white</span><span class=\"token punctuation\">:</span> <span class=\"token function\">hsl</span><span class=\"token punctuation\">(</span>0<span class=\"token punctuation\">,</span> 0%<span class=\"token punctuation\">,</span> 97%<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token property\">--unit</span><span class=\"token punctuation\">:</span> 1.2rem<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token selector\">button</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">--mainColor</span><span class=\"token punctuation\">:</span> <span class=\"token function\">hsl</span><span class=\"token punctuation\">(</span>198<span class=\"token punctuation\">,</span> 100%<span class=\"token punctuation\">,</span> 66%<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token property\">display</span><span class=\"token punctuation\">:</span> inline-block<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">padding</span><span class=\"token punctuation\">:</span> <span class=\"token function\">var</span><span class=\"token punctuation\">(</span>--unit<span class=\"token punctuation\">)</span> <span class=\"token function\">calc</span><span class=\"token punctuation\">(</span><span class=\"token function\">var</span><span class=\"token punctuation\">(</span>--unit<span class=\"token punctuation\">)</span> * 2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token property\">width</span><span class=\"token punctuation\">:</span> <span class=\"token function\">calc</span><span class=\"token punctuation\">(</span>30% + 20px<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token property\">background</span><span class=\"token punctuation\">:</span> no-repeat 5% center <span class=\"token url\"><span class=\"token function\">url</span><span class=\"token punctuation\">(</span>magicwand.png<span class=\"token punctuation\">)</span></span> <span class=\"token function\">var</span><span class=\"token punctuation\">(</span>--mainColor<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token property\">border</span><span class=\"token punctuation\">:</span> 4px solid <span class=\"token function\">var</span><span class=\"token punctuation\">(</span>--mainColor<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token property\">border-radius</span><span class=\"token punctuation\">:</span> 2px<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">font-size</span><span class=\"token punctuation\">:</span> <span class=\"token function\">calc</span><span class=\"token punctuation\">(</span><span class=\"token function\">var</span><span class=\"token punctuation\">(</span>--unit<span class=\"token punctuation\">)</span> * 2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token property\">color</span><span class=\"token punctuation\">:</span> <span class=\"token function\">var</span><span class=\"token punctuation\">(</span>--white<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token property\">cursor</span><span class=\"token punctuation\">:</span> pointer<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">transform</span><span class=\"token punctuation\">:</span> <span class=\"token function\">scale</span><span class=\"token punctuation\">(</span>0.95<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>Let's add the class to a button (a button which does nothing).</p>\n<div class=\"code-example\"><pre class=\"brush: html notranslate\"><code><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span><span class=\"token punctuation\">&gt;</span></span>Styled Button<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">&gt;</span></span>\n</code></pre></div>\n<div class=\"code-example\"><pre class=\"brush: js hidden notranslate\"><code><span class=\"token comment\">// get the element</span>\n<span class=\"token keyword\">const</span> button <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">'button'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// Retrieve all computed styles with computedStyleMap()</span>\n<span class=\"token keyword\">const</span> allComputedStyles <span class=\"token operator\">=</span> button<span class=\"token punctuation\">.</span><span class=\"token function\">computedStyleMap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// CSSMathSum Example</span>\n<span class=\"token keyword\">let</span> btnWidth <span class=\"token operator\">=</span> allComputedStyles<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'width'</span><span class=\"token punctuation\">)</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>btnWidth<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// CSSMathSum</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>btnWidth<span class=\"token punctuation\">.</span>values<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// CSSNumericArray {0: CSSUnitValue, 1: CSSUnitValue, length: 2}</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>btnWidth<span class=\"token punctuation\">.</span>operator<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 'sum'</span>\n\n<span class=\"token comment\">// CSSTransformValue</span>\n<span class=\"token keyword\">let</span> transform <span class=\"token operator\">=</span> allComputedStyles<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'transform'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>transform<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>        <span class=\"token comment\">// CSSTransformValue {0: CSSScale, 1: CSSTranslate, length: 2, is2D: true}</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>transform<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 1</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>transform<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>     <span class=\"token comment\">// CSSScale {x: CSSUnitValue, y: CSSUnitValue, z: CSSUnitValue, is2D: true}</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>transform<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>x<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   <span class=\"token comment\">// CSSUnitValue {value: 0.95, unit: \"number\"}</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>transform<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>y<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   <span class=\"token comment\">// CSSUnitValue {value: 0.95, unit: \"number\"}</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>transform<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>z<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   <span class=\"token comment\">// CSSUnitValue {value: 1, unit: \"number\"}</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>transform<span class=\"token punctuation\">.</span>is2D<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   <span class=\"token comment\">// true</span>\n\n<span class=\"token comment\">// CSSImageValue</span>\n<span class=\"token keyword\">let</span> bgImage <span class=\"token operator\">=</span> allComputedStyles<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'background-image'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>bgImage<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>             <span class=\"token comment\">// CSSImageValue</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>bgImage<span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// url(\"magicwand.png\")</span>\n\n<span class=\"token comment\">// CSSUnparsedValue</span>\n<span class=\"token keyword\">let</span> unit <span class=\"token operator\">=</span> allComputedStyles<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'--unit'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>unit<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">let</span> parsedUnit <span class=\"token operator\">=</span> CSSNumericValue<span class=\"token punctuation\">.</span><span class=\"token function\">parse</span><span class=\"token punctuation\">(</span>unit<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>parsedUnit<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>parsedUnit<span class=\"token punctuation\">.</span>unit<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>parsedUnit<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<p>We grab our <code>StylePropertyMapReadOnly</code> with the following JavaScript:</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">const</span> allComputedStyles <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">'button'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">computedStyleMap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<p>The following examples reference <code>allComputedStyles</code>:</p>"}},{"type":"prose","value":{"id":"cssunparsedvalue","title":"CSSUnparsedValue","isH3":true,"content":"<p>The <a href=\"/en-US/docs/Web/API/CSSUnparsedValue\"><code>CSSUnparsedValue</code></a> represents <a href=\"/en-US/docs/Web/CSS/Using_CSS_custom_properties\">custom properties</a>:</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token comment\">// CSSUnparsedValue</span>\n<span class=\"token keyword\">const</span> unit <span class=\"token operator\">=</span> allComputedStyles<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'--unit'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>unit<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>    <span class=\"token comment\">// CSSUnparsedValue {0: \" 1.2rem\", length: 1}</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>unit<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// \" 1.2rem\"</span>\n</code></pre></div>\n<p>When we invoke <code>get()</code>, a custom property of type <code>CSSUnparsedValue</code> is returned. Note the space before the <code>1.2rem</code>. To get a unit and value, we need a <code>CSSUnitValue</code>, which we can retrieve using the <code>CSSStyleValue.parse()</code> method on the <code>CSSUnparsedValue</code>.</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">const</span> parsedUnit <span class=\"token operator\">=</span> CSSNumericValue<span class=\"token punctuation\">.</span><span class=\"token function\">parse</span><span class=\"token punctuation\">(</span>unit<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>parsedUnit<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>        <span class=\"token comment\">// CSSUnitValue {value: 1.2, unit: \"rem\"}</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>parsedUnit<span class=\"token punctuation\">.</span>unit<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   <span class=\"token comment\">// \"rem\"</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>parsedUnit<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  <span class=\"token comment\">// 1.2</span>\n</code></pre></div>"}},{"type":"prose","value":{"id":"cssmathsum","title":"CSSMathSum","isH3":true,"content":"<p>Although the <a href=\"/en-US/docs/Web/HTML/Element/button\"><code>&lt;button&gt;</code></a> element is an inline element by default, we've added <a href=\"/en-US/docs/Web/CSS/CSS_Display\"><code>display: inline-block;</code></a> to enable sizing. In our CSS we have <code>width: calc(30% + 20px);</code>, which is a <a href=\"/en-US/docs/Web/CSS/calc\"><code>calc()</code></a> function to define the width.</p>\n<p>When we <code>get()</code> the <code>width</code>, we get a <a href=\"/en-US/docs/Web/API/CSSMathSum\"><code>CSSMathSum</code></a> returned. <a href=\"/en-US/docs/Web/API/CSSMathSum/values\"><code>CSSMathSum.values</code></a> is a <a href=\"/en-US/docs/Web/API/CSSNumericArray\"><code>CSSNumericArray</code></a> with 2 <code>CSSUnitValues</code>.</p>\n<p>The value of <a href=\"/en-US/docs/Web/API/CSSMathValue/operator\"><code>CSSMathValue.operator</code></a> is <code>sum</code>:</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">const</span> btnWidth <span class=\"token operator\">=</span> allComputedStyles<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'width'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>btnWidth<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>             <span class=\"token comment\">// CSSMathSum</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>btnWidth<span class=\"token punctuation\">.</span>values<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>      <span class=\"token comment\">// CSSNumericArray {0: CSSUnitValue, 1: CSSUnitValue, length: 2}</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>btnWidth<span class=\"token punctuation\">.</span>operator<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>    <span class=\"token comment\">// 'sum'</span>\n</code></pre></div>"}},{"type":"prose","value":{"id":"csstransformvalue_with_cssscale","title":"CSSTransformValue with CSSScale","isH3":true,"content":"<p>The <a href=\"/en-US/docs/Web/CSS/CSS_Display\"><code>display: inline-block;</code></a> also enables transforming. In our CSS we have <code>transform: scale(0.95);</code>, which is a <a href=\"/en-US/docs/Web/CSS/transform\"><code>transform</code></a> function.</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">const</span> transform <span class=\"token operator\">=</span> allComputedStyles<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'transform'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>transform<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>        <span class=\"token comment\">// CSSTransformValue {0: CSSScale, 1: CSSTranslate, length: 2, is2D: true}</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>transform<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 1</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>transform<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>     <span class=\"token comment\">// CSSScale {x: CSSUnitValue, y: CSSUnitValue, z: CSSUnitValue, is2D: true}</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>transform<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>x<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   <span class=\"token comment\">// CSSUnitValue {value: 0.95, unit: \"number\"}</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>transform<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>y<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   <span class=\"token comment\">// CSSUnitValue {value: 0.95, unit: \"number\"}</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>transform<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>z<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   <span class=\"token comment\">// CSSUnitValue {value: 1, unit: \"number\"}</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>transform<span class=\"token punctuation\">.</span>is2D<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   <span class=\"token comment\">// true</span>\n</code></pre></div>\n<p>When we <code>get()</code> the <code>transform</code> property, we get a <a href=\"/en-US/docs/Web/API/CSSTransformValue\"><code>CSSTransformValue</code></a>. We can query the length (or number) of transform functions with the .<code>length</code> property.</p>\n<p>Seen as we have a length of <code>1</code>, which represents a single transform function, we log the first object and get a <code>CSSScale</code> object. We get <code>CSSUnitValues</code> when we query the <code>x</code>, <code>y</code>, and <code>z</code> scaling. The readonly <code>CSSScale.is2D</code> property is <code>true</code> in this scenario.</p>\n<p>Had we added <code>translate()</code>, <code>skew()</code>, and <code>rotate()</code> transform functions, the length would have been <code>4</code>, each with their own <code>x</code>, <code>y</code>, <code>z</code> values, and each with an <code>.is2D</code> property. For example, had we included <code>transform: translate3d(1px, 1px, 3px)</code>, the <code>.get('transform')</code> would have returned a <code>CSSTranslate</code> with <code>CSSUnitValues</code> for <code>x</code>, <code>y</code>, and <code>z</code>, and the readonly <code>.is2D</code> property would have been <code>false</code>.</p>"}},{"type":"prose","value":{"id":"cssimagevalue","title":"CSSImageValue","isH3":true,"content":"<p>Our button has one background image: a magic wand.</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">const</span> bgImage <span class=\"token operator\">=</span> allComputedStyles<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'background-image'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>bgImage<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>             <span class=\"token comment\">// CSSImageValue</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>bgImage<span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  <span class=\"token comment\">// url(\"magicwand.png\")</span>\n</code></pre></div>\n<p>When we <code>get()</code> the <code>'background-image'</code>, a <a href=\"/en-US/docs/Web/API/CSSImageValue\"><code>CSSImageValue</code></a> is returned. While we used the CSS <a href=\"/en-US/docs/Web/CSS/background\"><code>background</code></a> shorthand property, the inherited <a class=\"page-not-created\" title=\"The documentation about this has not yet been written; please consider contributing!\"><code>Object.prototype.toString()</code></a> method, shows we returned only the image, <code>'url(\"magicwand.png\")'</code>.</p>\n<p>Notice that the value returned is the absolute path to the image — this is returned even if the original <code>url()</code> value was relative. Had the background image been a gradient or multiple background images, <code>.get('background-image')</code> would have returned a <code>CSSStyleValue</code>. The <code>CSSImageValue</code> is returned only if there is a single image, and only if that single image declaration is a URL.</p>"}},{"type":"prose","value":{"id":"summary","title":"Summary","isH3":true,"content":"<p>This should get you started with understanding the CSS Typed OM. Take a look at all the <a href=\"/en-US/docs/Web/API/CSS_Typed_OM_API/Guide\" aria-current=\"page\">CSS Typed OM</a> interfaces to learn more.</p>"}},{"type":"prose","value":{"id":"see_also","title":"See also","isH3":false,"content":"<ul>\n  <li><a href=\"/en-US/docs/Web/API/CSS_Painting_API/Guide\">Using the CSS Painting API</a></li>\n</ul>"}}],"toc":[{"text":"computedStyleMap()","id":"computedstylemap"},{"text":"CSSStyleValue","id":"cssstylevalue"},{"text":"See also","id":"see_also"}],"summary":"This should get you started with understanding the CSS Typed OM. Take a look at all the CSS Typed OM interfaces to learn more.","popularity":0.0002,"modified":"2022-09-18T05:26:47.000Z","other_translations":[{"title":"CSS 型付きオブジェクトモデルの使用","locale":"ja","native":"日本語"}],"source":{"folder":"en-us/web/api/css_typed_om_api/guide","github_url":"https://github.com/mdn/content/blob/style/old/files/en-us/web/api/css_typed_om_api/guide/index.md","last_commit_url":"https://github.com/mdn/content/commit/331a21b7c2cfb816876a4fa391a34d70914dff68","filename":"index.md"},"parents":[{"uri":"/en-US/docs/Web","title":"Web technology for developers"},{"uri":"/en-US/docs/Web/API","title":"Web APIs"},{"uri":"/en-US/docs/Web/API/CSS_Typed_OM_API","title":"CSS Typed Object Model API"},{"uri":"/en-US/docs/Web/API/CSS_Typed_OM_API/Guide","title":"Using the CSS Typed Object Model"}],"pageTitle":"Using the CSS Typed Object Model - Web APIs | MDN","noIndexing":false}}