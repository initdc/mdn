{"doc":{"isMarkdown":true,"isTranslated":false,"isActive":true,"flaws":{},"title":"XRInputSource.targetRayMode","mdn_url":"/en-US/docs/Web/API/XRInputSource/targetRayMode","locale":"en-US","native":"English (US)","sidebarHTML":"<ol><li><strong><a href=\"/en-US/docs/Web/API/WebXR_Device_API\">WebXR Device API</a></strong></li><li><strong><a href=\"/en-US/docs/Web/API/XRInputSource\"><code>XRInputSource</code></a></strong></li><li class=\"toggle\"><details open=\"\"><summary>Properties</summary><ol><li><a href=\"/en-US/docs/Web/API/XRInputSource/gamepad\"><code>gamepad</code></a></li><li><a href=\"/en-US/docs/Web/API/XRInputSource/gripSpace\"><code>gripSpace</code></a></li><li><a href=\"/en-US/docs/Web/API/XRInputSource/hand\"><code>hand</code></a></li><li><a href=\"/en-US/docs/Web/API/XRInputSource/handedness\"><code>handedness</code></a></li><li><a href=\"/en-US/docs/Web/API/XRInputSource/profiles\"><code>profiles</code></a></li><li><em><code>targetRayMode</code></em></li><li><a href=\"/en-US/docs/Web/API/XRInputSource/targetRaySpace\"><code>targetRaySpace</code></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>Related pages for WebXR Device API</summary><ol><li><a href=\"/en-US/docs/Web/API/Navigator/xr\"><code>Navigator.xr</code></a></li><li><a href=\"/en-US/docs/Web/API/WebGLRenderingContext/makeXRCompatible\"><code>WebGLRenderingContext.makeXRCompatible()</code></a></li><li><a href=\"/en-US/docs/Web/API/XRAnchor\"><code>XRAnchor</code></a></li><li><a href=\"/en-US/docs/Web/API/XRBoundedReferenceSpace\"><code>XRBoundedReferenceSpace</code></a></li><li><a href=\"/en-US/docs/Web/API/XRCPUDepthInformation\"><code>XRCPUDepthInformation</code></a></li><li><a href=\"/en-US/docs/Web/API/XRDepthInformation\"><code>XRDepthInformation</code></a></li><li><a href=\"/en-US/docs/Web/API/XRFrame\"><code>XRFrame</code></a></li><li><a href=\"/en-US/docs/Web/API/XRInputSourceArray\"><code>XRInputSourceArray</code></a></li><li><a href=\"/en-US/docs/Web/API/XRInputSourceEvent\"><code>XRInputSourceEvent</code></a></li><li><a href=\"/en-US/docs/Web/API/XRInputSourcesChangeEvent\"><code>XRInputSourcesChangeEvent</code></a></li><li><a href=\"/en-US/docs/Web/API/XRPose\"><code>XRPose</code></a></li><li><a href=\"/en-US/docs/Web/API/XRReferenceSpace\"><code>XRReferenceSpace</code></a></li><li><a href=\"/en-US/docs/Web/API/XRReferenceSpaceEvent\"><code>XRReferenceSpaceEvent</code></a></li><li><a href=\"/en-US/docs/Web/API/XRRenderState\"><code>XRRenderState</code></a></li><li><a href=\"/en-US/docs/Web/API/XRRigidTransform\"><code>XRRigidTransform</code></a></li><li><a href=\"/en-US/docs/Web/API/XRSession\"><code>XRSession</code></a></li><li><a href=\"/en-US/docs/Web/API/XRSessionEvent\"><code>XRSessionEvent</code></a></li><li><a href=\"/en-US/docs/Web/API/XRSpace\"><code>XRSpace</code></a></li><li><a href=\"/en-US/docs/Web/API/XRSystem\"><code>XRSystem</code></a></li><li><a href=\"/en-US/docs/Web/API/XRView\"><code>XRView</code></a></li><li><a href=\"/en-US/docs/Web/API/XRViewerPose\"><code>XRViewerPose</code></a></li><li><a href=\"/en-US/docs/Web/API/XRViewport\"><code>XRViewport</code></a></li><li><a href=\"/en-US/docs/Web/API/XRWebGLBinding\"><code>XRWebGLBinding</code></a></li><li><a href=\"/en-US/docs/Web/API/XRWebGLDepthInformation\"><code>XRWebGLDepthInformation</code></a></li><li><a href=\"/en-US/docs/Web/API/XRWebGLLayer\"><code>XRWebGLLayer</code></a></li></ol></details></li></ol>","body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<p>\n  The read-only <a href=\"/en-US/docs/Web/API/XRInputSource\"><code>XRInputSource</code></a>\n  property <strong><code>targetRayMode</code></strong> indicates the method by which the\n  target ray for the input source should be generated and how it should be presented to\n  the user.\n</p>\n<p>Typically a target ray is drawn from the source of the targeting system along the target ray in the direction in which the user is looking or pointing. The style of the ray is generally up to you, as is the method for indicating the endpoint of the ray. The targeted point or object might be indicated by drawing a shape or highlighting the targeted surface or object.</p>\n<p>A target ray emitted by a hand controller:</p>\n<p>\n  <img src=\"/en-US/docs/Web/API/XRInputSource/targetRayMode/example-target-ray.gif\" alt=\"A screenshot showing a target ray being emitted by a hand controller\" width=\"480\" height=\"281\" loading=\"lazy\">\n</p>\n<p>The target ray can be anything from a simple line (ideally fading over distance) to an animated effect, such as the science-fiction \"phaser\" style shown in the screenshot above.</p>"}},{"type":"prose","value":{"id":"value","title":"Value","isH3":false,"content":"<p>\n  A string indicating which method to use when generating and presenting the target ray to\n  the user. The possible values are:\n</p>\n<dl>\n  <dt id=\"gaze\"><code>gaze</code></dt>\n  <dd>\n    <p>The user is using a gaze-tracking system (or <strong>gaze input</strong>) which detects the direction in which the user is looking. The target ray will be drawn originating at the viewer's eyes and will follow the direction in which they're looking.</p>\n  </dd>\n  <dt id=\"screen\"><code>screen</code></dt>\n  <dd>\n    <p>The direction of the target ray is indicated using a tap on a touch screen, mouse, or other tactile input device.</p>\n  </dd>\n  <dt id=\"tracked-pointer\"><code>tracked-pointer</code></dt>\n  <dd>\n    <p>Targeting is being performed using a handheld device or hand-tracking system which the user points in the direction of the target. The target ray extends from the hand (or the object in the hand) in the targeted direction. The direction is determined using platform-specific rules, though if no such rules exist, the direction is chosen by assuming the user is pointing their index finger straight out from their hand.</p>\n  </dd>\n</dl>"}},{"type":"prose","value":{"id":"usage_notes","title":"Usage notes","isH3":false,"content":"<p>\n  The input source's <a href=\"/en-US/docs/Web/API/XRInputSource/targetRaySpace\" title=\"targetRaySpace\"><code>targetRaySpace</code></a>\n  indicates the position and orientation of the target ray, and can be used to determine\n  where to render the ray.\n</p>"}},{"type":"prose","value":{"id":"examples","title":"Examples","isH3":false,"content":"<p>This fragment of code shows part of a function to be called once every frame. It looks for inputs which have a non-<code>null</code> <a href=\"/en-US/docs/Web/API/XRInputSource/targetRaySpace\" title=\"targetRaySpace\"><code>targetRaySpace</code></a>. Inputs which have a value for this property represent inputs that project a target ray outward from the user.</p>\n<p>For each such input, this example looks for inputs whose <a href=\"/en-US/docs/Web/API/XRInputSource/targetRayMode\" title=\"targetRayMode\" aria-current=\"page\"><code>targetRayMode</code></a> is <code>tracked-pointer</code>, indicating that the input is in fact intended to represent a targeting device rather than a gazing device, screen tap, or mouse click. For tracked pointers, a function <code>myRenderTargetRayAsBeam()</code> is called to render a beam from the input controller's virtual position outward in the direction it's pointing.</p>\n<p>The code should continue to perform tasks such as drawing controllers or any objects representative of the user's hands' positions in the virtual space, as well as any other input-related tasks.</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">function</span> <span class=\"token function\">updateInputSources</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">session<span class=\"token punctuation\">,</span> frame<span class=\"token punctuation\">,</span> refSpace</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">const</span> source <span class=\"token keyword\">of</span> session<span class=\"token punctuation\">.</span><span class=\"token function\">getInputSources</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> targetRayPose <span class=\"token operator\">=</span> frame<span class=\"token punctuation\">.</span><span class=\"token function\">getPose</span><span class=\"token punctuation\">(</span>inputSource<span class=\"token punctuation\">.</span>targetRaySpace<span class=\"token punctuation\">,</span> refSpace<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>targetRayPose<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>source<span class=\"token punctuation\">.</span>targetRayMode <span class=\"token operator\">===</span> <span class=\"token string\">\"tracked-pointer\"</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">myRenderTargetRayAsBeam</span><span class=\"token punctuation\">(</span>targetRayPose<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\">// â€¦</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>See the article <a href=\"/en-US/docs/Web/API/WebXR_Device_API/Inputs\">Inputs and input sources</a> for more details and a more complete example.</p>"}},{"type":"specifications","value":{"title":"Specifications","id":"specifications","isH3":false,"specifications":[{"bcdSpecificationURL":"https://immersive-web.github.io/webxr/#dom-xrinputsource-targetraymode","title":"WebXR Device API"}],"query":"api.XRInputSource.targetRayMode"}},{"type":"browser_compatibility","value":{"title":"Browser compatibility","id":"browser_compatibility","isH3":false,"query":"api.XRInputSource.targetRayMode","dataURL":"/en-US/docs/Web/API/XRInputSource/targetRayMode/bcd.json"}},{"type":"prose","value":{"id":"see_also","title":"See also","isH3":false,"content":"<ul>\n  <li><a href=\"/en-US/docs/Web/API/WebXR_Device_API\">WebXR Device API</a></li>\n  <li><a href=\"/en-US/docs/Web/API/WebXR_Device_API/Inputs\">Inputs and input sources</a></li>\n  <li><a href=\"/en-US/docs/Web/WebXR%20Device%20API/Gamepads\" class=\"page-not-created\" title=\"This is a link to an unwritten page\">Using gamepads in WebXR applications</a></li>\n</ul>"}}],"toc":[{"text":"Value","id":"value"},{"text":"Usage notes","id":"usage_notes"},{"text":"Examples","id":"examples"},{"text":"Specifications","id":"specifications"},{"text":"Browser compatibility","id":"browser_compatibility"},{"text":"See also","id":"see_also"}],"summary":"The read-only XRInputSource\n  property targetRayMode indicates the method by which the\n  target ray for the input source should be generated and how it should be presented to\n  the user.","popularity":0,"modified":"2022-09-09T05:23:40.000Z","other_translations":[{"title":"XRInputSource.targetRayMode","locale":"ja","native":"æ—¥æœ¬èªž"}],"source":{"folder":"en-us/web/api/xrinputsource/targetraymode","github_url":"https://github.com/mdn/content/blob/style/old/files/en-us/web/api/xrinputsource/targetraymode/index.md","last_commit_url":"https://github.com/mdn/content/commit/073f70e052ff92ab715df3c20678c11c9b51747f","filename":"index.md"},"parents":[{"uri":"/en-US/docs/Web","title":"Web technology for developers"},{"uri":"/en-US/docs/Web/API","title":"Web APIs"},{"uri":"/en-US/docs/Web/API/XRInputSource","title":"XRInputSource"},{"uri":"/en-US/docs/Web/API/XRInputSource/targetRayMode","title":"XRInputSource.targetRayMode"}],"pageTitle":"XRInputSource.targetRayMode - Web APIs | MDN","noIndexing":false}}