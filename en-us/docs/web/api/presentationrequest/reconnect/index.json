{"doc":{"isMarkdown":true,"isTranslated":false,"isActive":true,"flaws":{},"title":"PresentationRequest.reconnect()","mdn_url":"/en-US/docs/Web/API/PresentationRequest/reconnect","locale":"en-US","native":"English (US)","sidebarHTML":"<ol><li><strong><a href=\"/en-US/docs/Web/API/Presentation_API\">Presentation API</a></strong></li><li><strong><a href=\"/en-US/docs/Web/API/PresentationRequest\"><code>PresentationRequest</code></a></strong></li><li class=\"toggle\"><details open=\"\"><summary>Constructor</summary><ol><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><a href=\"/en-US/docs/Web/API/PresentationRequest/PresentationRequest\"><code>PresentationRequest()</code></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>Methods</summary><ol><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><a href=\"/en-US/docs/Web/API/PresentationRequest/start\"><code>start()</code></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>Inheritance:</summary><ol><li><a href=\"/en-US/docs/Web/API/EventTarget\"><code>EventTarget</code></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>Related pages for Presentation API</summary><ol><li><a class=\"page-not-created\" title=\"The documentation about this has not yet been written; please consider contributing!\"><code>Navigator.mozPresentationDeviceInfo</code></a></li><li><a href=\"/en-US/docs/Web/API/Navigator/presentation\"><code>Navigator.presentation</code></a></li><li><a href=\"/en-US/docs/Web/API/Presentation\"><code>Presentation</code></a></li><li><a href=\"/en-US/docs/Web/API/PresentationAvailability\"><code>PresentationAvailability</code></a></li><li><a class=\"page-not-created\" title=\"The documentation about this has not yet been written; please consider contributing!\"><code>PresentationDeviceInfoManager</code></a></li><li><a class=\"page-not-created\" title=\"The documentation about this has not yet been written; please consider contributing!\"><code>PresentationSession</code></a></li><li><a class=\"page-not-created\" title=\"The documentation about this has not yet been written; please consider contributing!\"><code>PresentationSessionConnectEvent</code></a></li></ol></details></li></ol>","body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<div class=\"notecard experimental\" id=\"sect1\"><p><strong>Experimental:</strong> <strong>This is an <a href=\"/en-US/docs/MDN/Writing_guidelines/Experimental_deprecated_obsolete#experimental\">experimental technology</a></strong><br>Check the <a href=\"#browser_compatibility\">Browser compatibility table</a> carefully before using this in production.</p></div>\n<p>When the <code>reconnect(presentationId)</code> method is called on a <code>PresentationRequest</code> <em>presentationRequest</em>, the <a href=\"https://www.w3.org/TR/presentation-api/#dfn-user-agents\" class=\"external\" rel=\" noopener\">user agent</a> <em>MUST</em> run the following steps to <em>reconnect to a presentation</em>:</p>"}},{"type":"prose","value":{"id":"input","title":"Input","isH3":false,"content":"<ul>\n  <li><em>presentationRequest</em>, the <a href=\"https://www.w3.org/TR/presentation-api/#idl-def-presentationrequest\" class=\"external\" rel=\" noopener\"><code>PresentationRequest</code></a> object that <a href=\"https://www.w3.org/TR/presentation-api/#dom-presentationrequest-reconnect\" class=\"external\" rel=\" noopener\"><code>reconnect()</code></a> was called on.</li>\n  <li><em>presentationId</em>, a valid <a href=\"https://www.w3.org/TR/presentation-api/#dfn-presentation-identifier\" class=\"external\" rel=\" noopener\">presentation identifier</a></li>\n</ul>"}},{"type":"prose","value":{"id":"output","title":"Output","isH3":false,"content":"<p><em>P</em>, a <a href=\"https://www.w3.org/TR/presentation-api/#dfn-promise\" class=\"external\" rel=\" noopener\">Promise</a>.</p>"}},{"type":"prose","value":{"id":"algorithm","title":"Algorithm","isH3":false,"content":"<ol>\n  <li>Using the document's <a href=\"https://www.w3.org/TR/presentation-api/#dfn-settings-object\" class=\"external\" rel=\" noopener\">settings object</a> run the <a href=\"https://www.w3.org/TR/presentation-api/#dfn-prohibits-mixed-security-contexts-algorithm\" class=\"external\" rel=\" noopener\">prohibits mixed security contexts algorithm</a>.</li>\n  <li>If the result of the algorithm is <code>\"Prohibits Mixed Security Contexts\"</code> and the <a href=\"https://www.w3.org/TR/presentation-api/#dfn-presentation-request-urls\" class=\"external\" rel=\" noopener\">presentation request URL</a> of <em>presentationRequest</em> is an <a href=\"https://www.w3.org/TR/presentation-api/#dfn-a-priori-unauthenticated-url\" class=\"external\" rel=\" noopener\">a priori unauthenticated URL</a>, then return a <a href=\"https://www.w3.org/TR/presentation-api/#dfn-promise\" class=\"external\" rel=\" noopener\">Promise</a> rejected with a <a href=\"https://www.w3.org/TR/presentation-api/#dfn-securityerror\" class=\"external\" rel=\" noopener\"><code>SecurityError</code></a> and abort these steps.</li>\n  <li>If the document object's <a href=\"https://www.w3.org/TR/presentation-api/#dfn-active-sandboxing-flag-set\" class=\"external\" rel=\" noopener\">active sandboxing flag set</a> has the <a href=\"https://www.w3.org/TR/presentation-api/#sandboxed-presentation-browsing-context-flag\" class=\"external\" rel=\" noopener\">sandboxed presentation browsing context flag</a> set, then return a <a href=\"https://www.w3.org/TR/presentation-api/#dfn-promise\" class=\"external\" rel=\" noopener\">Promise</a> rejected with a <a href=\"https://www.w3.org/TR/presentation-api/#dfn-securityerror\" class=\"external\" rel=\" noopener\"><code>SecurityError</code></a> and abort these steps.</li>\n  <li>Let <em>P</em> be a new <a href=\"https://www.w3.org/TR/presentation-api/#dfn-promise\" class=\"external\" rel=\" noopener\">Promise</a>.</li>\n  <li>Return <em>P</em> but continue running these steps in parallel.</li>\n  <li>Search the <a href=\"https://www.w3.org/TR/presentation-api/#dfn-set-of-controlled-presentations\" class=\"external\" rel=\" noopener\">set of controlled presentations</a> for a <a href=\"https://www.w3.org/TR/presentation-api/#idl-def-presentationconnection\" class=\"external\" rel=\" noopener\"><code>PresentationConnection</code></a> that meets the following criteria: its <a href=\"https://www.w3.org/TR/presentation-api/#dfn-controlling-browsing-context\" class=\"external\" rel=\" noopener\">controlling browsing context</a> is the current <a href=\"https://www.w3.org/TR/presentation-api/#dfn-browsing-context\" class=\"external\" rel=\" noopener\">browsing context</a>, its <a href=\"https://www.w3.org/TR/presentation-api/#dfn-presentation-connection-state\" class=\"external\" rel=\" noopener\">presentation connection state</a> is not <a href=\"https://www.w3.org/TR/presentation-api/#dom-presentationconnectionstate-terminated\" class=\"external\" rel=\" noopener\"><code>terminated</code></a>, its <a href=\"https://www.w3.org/TR/presentation-api/#dfn-presentation-url\" class=\"external\" rel=\" noopener\">presentation URL</a> is equal to one of the <a href=\"https://www.w3.org/TR/presentation-api/#dfn-presentation-request-urls\" class=\"external\" rel=\" noopener\">presentation request URLs</a> of <em>presentationRequest</em> and its <a href=\"https://www.w3.org/TR/presentation-api/#dfn-presentation-identifier\" class=\"external\" rel=\" noopener\">presentation identifier</a> is equal to <em>presentationId</em>.</li>\n  <li>If such a <a href=\"https://www.w3.org/TR/presentation-api/#idl-def-presentationconnection\" class=\"external\" rel=\" noopener\"><code>PresentationConnection</code></a> exists, run the following steps:\n    <ol>\n      <li>Let <em>S</em> be that <a href=\"https://www.w3.org/TR/presentation-api/#idl-def-presentationconnection\" class=\"external\" rel=\" noopener\"><code>PresentationConnection</code></a>.</li>\n      <li><a href=\"https://www.w3.org/TR/presentation-api/#dfn-resolving-a-promise\" class=\"external\" rel=\" noopener\">Resolve</a> <em>P</em> with <em>S</em>.</li>\n      <li>If the <a href=\"https://www.w3.org/TR/presentation-api/#dfn-presentation-connection-state\" class=\"external\" rel=\" noopener\">presentation connection state</a> of <em>S</em> is <a href=\"https://www.w3.org/TR/presentation-api/#dom-presentationconnectionstate-connecting\" class=\"external\" rel=\" noopener\"><code>connecting</code></a> or <a href=\"https://www.w3.org/TR/presentation-api/#dom-presentationconnectionstate-connected\" class=\"external\" rel=\" noopener\"><code>connected</code></a>, then abort all remaining steps.</li>\n      <li>Set the <a href=\"https://www.w3.org/TR/presentation-api/#dfn-presentation-connection-state\" class=\"external\" rel=\" noopener\">presentation connection state</a> of <em>S</em> to <a href=\"https://www.w3.org/TR/presentation-api/#dom-presentationconnectionstate-connecting\" class=\"external\" rel=\" noopener\"><code>connecting</code></a>.</li>\n      <li><a href=\"https://www.w3.org/TR/presentation-api/#dfn-establish-a-presentation-connection\" class=\"external\" rel=\" noopener\">Establish a presentation connection</a> with <em>S</em>.</li>\n      <li>Abort all remaining steps.</li>\n    </ol>\n  </li>\n  <li>Search the <a href=\"https://www.w3.org/TR/presentation-api/#dfn-set-of-controlled-presentations\" class=\"external\" rel=\" noopener\">set of controlled presentations</a> for the first <a href=\"https://www.w3.org/TR/presentation-api/#idl-def-presentationconnection\" class=\"external\" rel=\" noopener\"><code>PresentationConnection</code></a> that meets the following criteria: its <a href=\"https://www.w3.org/TR/presentation-api/#dfn-presentation-connection-state\" class=\"external\" rel=\" noopener\">presentation connection state</a> is not <a href=\"https://www.w3.org/TR/presentation-api/#dom-presentationconnectionstate-terminated\" class=\"external\" rel=\" noopener\"><code>terminated</code></a>, its <a href=\"https://www.w3.org/TR/presentation-api/#dfn-presentation-url\" class=\"external\" rel=\" noopener\">presentation URL</a> is equal to one of the <a href=\"https://www.w3.org/TR/presentation-api/#dfn-presentation-request-urls\" class=\"external\" rel=\" noopener\">presentation request URLs</a> of <em>presentationRequest</em>, and its <a href=\"https://www.w3.org/TR/presentation-api/#dfn-presentation-identifier\" class=\"external\" rel=\" noopener\">presentation identifier</a> is equal to <em>presentationId</em>.</li>\n  <li>If such a <a href=\"https://www.w3.org/TR/presentation-api/#idl-def-presentationconnection\" class=\"external\" rel=\" noopener\"><code>PresentationConnection</code></a> exists, let <em>E</em> be that <a href=\"https://www.w3.org/TR/presentation-api/#idl-def-presentationconnection\" class=\"external\" rel=\" noopener\"><code>PresentationConnection</code></a>, and run the following steps:\n    <ol>\n      <li>Create a new <a href=\"https://www.w3.org/TR/presentation-api/#idl-def-presentationconnection\" class=\"external\" rel=\" noopener\"><code>PresentationConnection</code></a> <em>S</em>.</li>\n      <li>Set the <a href=\"https://www.w3.org/TR/presentation-api/#dfn-presentation-identifier\" class=\"external\" rel=\" noopener\">presentation identifier</a> of <em>S</em> to <em>presentationId</em>.</li>\n      <li>Set the <a href=\"https://www.w3.org/TR/presentation-api/#dfn-presentation-url\" class=\"external\" rel=\" noopener\">presentation URL</a> of <em>S</em> to the <a href=\"https://www.w3.org/TR/presentation-api/#dfn-presentation-url\" class=\"external\" rel=\" noopener\">presentation URL</a> of <em>E</em>.</li>\n      <li>Set the <a href=\"https://www.w3.org/TR/presentation-api/#dfn-presentation-connection-state\" class=\"external\" rel=\" noopener\">presentation connection state</a> of <em>S</em> to <a href=\"https://www.w3.org/TR/presentation-api/#dom-presentationconnectionstate-connecting\" class=\"external\" rel=\" noopener\"><code>connecting</code></a>.</li>\n      <li>Add <em>S</em> to the <a href=\"https://www.w3.org/TR/presentation-api/#dfn-set-of-controlled-presentations\" class=\"external\" rel=\" noopener\">set of controlled presentations</a>.</li>\n      <li><a href=\"https://www.w3.org/TR/presentation-api/#dfn-resolving-a-promise\" class=\"external\" rel=\" noopener\">Resolve</a> <em>P</em> with <em>S</em>.</li>\n      <li><a href=\"https://www.w3.org/TR/presentation-api/#dfn-queue-a-task\" class=\"external\" rel=\" noopener\">Queue a task</a> to <a href=\"https://www.w3.org/TR/presentation-api/#dfn-firing-an-event\" class=\"external\" rel=\" noopener\">fire</a> a <a href=\"https://www.w3.org/TR/presentation-api/#dfn-trusted-event\" class=\"external\" rel=\" noopener\">trusted event</a> with the name <a href=\"https://www.w3.org/TR/presentation-api/#dfn-connectionavailable\" class=\"external\" rel=\" noopener\"><code>connectionavailable</code></a>, that uses the <a href=\"https://www.w3.org/TR/presentation-api/#idl-def-presentationconnectionavailableevent\" class=\"external\" rel=\" noopener\"><code>PresentationConnectionAvailableEvent</code></a> interface with the <a href=\"https://www.w3.org/TR/presentation-api/#idl-def-presentationconnectionavailableevent-connection\" class=\"external\" rel=\" noopener\"><code>connection</code></a> attribute initialized to <em>S</em>, at <em>presentationRequest</em>. The event must not bubble and cancelable and should have no default action.</li>\n      <li><a href=\"https://www.w3.org/TR/presentation-api/#dfn-establish-a-presentation-connection\" class=\"external\" rel=\" noopener\">Establish a presentation connection</a> with <em>S</em>.</li>\n      <li>Abort all remaining steps.</li>\n    </ol>\n  </li>\n  <li><a href=\"https://www.w3.org/TR/presentation-api/#dfn-rejecting-a-promise\" class=\"external\" rel=\" noopener\">Reject</a> <em>P</em> with a <a href=\"https://www.w3.org/TR/presentation-api/#dfn-notfounderror\" class=\"external\" rel=\" noopener\"><code>NotFoundError</code></a> exception.</li>\n</ol>"}},{"type":"browser_compatibility","value":{"title":"Browser compatibility","id":"browser_compatibility","isH3":false,"query":"api.PresentationRequest.reconnect","dataURL":"/en-US/docs/Web/API/PresentationRequest/reconnect/bcd.json"}}],"toc":[{"text":"Input","id":"input"},{"text":"Output","id":"output"},{"text":"Algorithm","id":"algorithm"},{"text":"Browser compatibility","id":"browser_compatibility"}],"summary":"When the reconnect(presentationId) method is called on a PresentationRequest presentationRequest, the user agent MUST run the following steps to reconnect to a presentation:","popularity":0,"modified":"2022-09-11T19:36:48.000Z","source":{"folder":"en-us/web/api/presentationrequest/reconnect","github_url":"https://github.com/mdn/content/blob/style/old/files/en-us/web/api/presentationrequest/reconnect/index.md","last_commit_url":"https://github.com/mdn/content/commit/20a58f1383da377a634b48902bff9b4fde9227c3","filename":"index.md"},"parents":[{"uri":"/en-US/docs/Web","title":"Web technology for developers"},{"uri":"/en-US/docs/Web/API","title":"Web APIs"},{"uri":"/en-US/docs/Web/API/PresentationRequest","title":"PresentationRequest"},{"uri":"/en-US/docs/Web/API/PresentationRequest/reconnect","title":"PresentationRequest.reconnect()"}],"pageTitle":"PresentationRequest.reconnect() - Web APIs | MDN","noIndexing":false}}