{"doc":{"isMarkdown":true,"isTranslated":false,"isActive":true,"flaws":{},"title":"Using the Notifications API","mdn_url":"/en-US/docs/Web/API/Notifications_API/Using_the_Notifications_API","locale":"en-US","native":"English (US)","sidebarHTML":"<ol><li><strong><a href=\"/en-US/docs/Web/API/Notifications_API\">Notifications API</a></strong></li><li><strong><a href=\"/en-US/docs/Web/API/Notifications_API\"><code>Notifications_API</code></a></strong></li><li class=\"toggle\"><details open=\"\"><summary>Related pages for Web Notifications</summary><ol><li><a href=\"/en-US/docs/Web/API/Notification\"><code>Notification</code></a></li><li><a href=\"/en-US/docs/Web/API/NotificationEvent\"><code>NotificationEvent</code></a></li><li><a href=\"/en-US/docs/Web/API/ServiceWorkerRegistration/getNotifications\"><code>ServiceWorkerRegistration.getNotifications()</code></a></li><li><a href=\"/en-US/docs/Web/API/ServiceWorkerRegistration/showNotification\"><code>ServiceWorkerRegistration.showNotification()</code></a></li></ol></details></li></ol>","body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<div class=\"notecard note\" id=\"sect1\">\n  <p><strong>Note:</strong> This feature is available in <a href=\"/en-US/docs/Web/API/Web_Workers_API\">Web Workers</a></p>\n</div><div class=\"notecard secure\" id=\"sect2\"><p><strong>Secure context:</strong> This feature is available only in <a href=\"/en-US/docs/Web/Security/Secure_Contexts\">secure contexts</a> (HTTPS), in some or all <a href=\"#browser_compatibility\">supporting browsers</a>.</p></div>\n<p>The <a href=\"/en-US/docs/Web/API/Notifications_API\">Notifications API</a> lets a web page or app send notifications that are displayed outside the page at the system level; this lets web apps send information to a user even if the application is idle or in the background. This article looks at the basics of using this API in your own apps.</p>\n<p>Typically, system notifications refer to the operating system's standard notification mechanism: think for example of how a typical desktop system or mobile device broadcasts notifications.</p>\n<p>\n  <img src=\"/en-US/docs/Web/API/Notifications_API/Using_the_Notifications_API/android-notification.png\" alt=\"Android device notifications feed containing a list of several alerts from multiple sources.\" width=\"300\" height=\"184\" loading=\"lazy\">\n</p>\n<p>The system notification system will vary of course by platform and browser, but this is OK, and the Notifications API is written to be general enough for compatibility with most system notification systems.</p>"}},{"type":"prose","value":{"id":"examples","title":"Examples","isH3":false,"content":"<p>One of the most obvious use cases for web notifications is a web-based mail or IRC application that needs to notify the user when a new message is received, even if the user is doing something else with another application. Many examples of this now exist, such as <a href=\"https://slack.com/\" class=\"external\" rel=\" noopener\">Slack</a>.</p>\n<p>We've written a real world example — a to-do list app — to give more of an idea of how web notifications can be used. It stores data locally using <a href=\"/en-US/docs/Web/API/IndexedDB_API\">IndexedDB</a> and notifies users when tasks are due using system notifications. <a href=\"https://github.com/mdn/dom-examples/tree/main/to-do-notifications\" class=\"external\" rel=\" noopener\">Download the To-do list code</a>, or <a href=\"https://mdn.github.io/dom-examples/to-do-notifications/\" class=\"external\" rel=\" noopener\">view the app running live</a>.</p>"}},{"type":"prose","value":{"id":"requesting_permission","title":"Requesting permission","isH3":false,"content":"<p>Before an app can send a notification, the user must grant the application the right to do so. This is a common requirement when an API tries to interact with something outside a web page — at least once, the user needs to specifically grant that application permission to present notifications, thereby letting the user control which apps/sites are allowed to display notifications.</p>\n<p>Because of abuses of push notifications in the past, web browsers and developers have begun to implement strategies to help mitigate this problem. You should only request consent to display notifications in response to a user gesture (e.g. clicking a button). This is not only best practice — you should not be spamming users with notifications they didn't agree to — but going forward browsers will explicitly disallow notification permission requests not triggered in response to a user gesture. Firefox is already doing this from version 72, for example, and Safari has done it for some time.</p>\n<p>In addition, In Chrome and Firefox you cannot request notifications at all unless the site is a secure context (i.e. HTTPS), and you can no longer allow notification permissions to be requested from cross-origin <a href=\"/en-US/docs/Web/HTML/Element/iframe\"><code>&lt;iframe&gt;</code></a>s.</p>"}},{"type":"prose","value":{"id":"checking_current_permission_status","title":"Checking current permission status","isH3":true,"content":"<p>You can check to see if you already have permission by checking the value of the <a href=\"/en-US/docs/Web/API/Notification/permission\"><code>Notification.permission</code></a> read only property. It can have one of three possible values:</p>\n<dl>\n  <dt id=\"default\"><code>default</code></dt>\n  <dd>\n    <p>The user hasn't been asked for permission yet, so notifications won't be displayed.</p>\n  </dd>\n  <dt id=\"granted\"><code>granted</code></dt>\n  <dd>\n    <p>The user has granted permission to display notifications, after having been asked previously.</p>\n  </dd>\n  <dt id=\"denied\"><code>denied</code></dt>\n  <dd>\n    <p>The user has explicitly declined permission to show notifications.</p>\n  </dd>\n</dl>"}},{"type":"prose","value":{"id":"getting_permission","title":"Getting permission","isH3":true,"content":"<p>If permission to display notifications hasn't been granted yet, the application needs to use the <a href=\"/en-US/docs/Web/API/Notification/requestPermission\"><code>Notification.requestPermission()</code></a> method to request this from the user. In its simplest form, we just include the following:</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code>Notification<span class=\"token punctuation\">.</span><span class=\"token function\">requestPermission</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">result</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<p>This uses the promise-based version of the method. If you want to support older versions, you might have to use the older callback version, which looks like this:</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code>Notification<span class=\"token punctuation\">.</span><span class=\"token function\">requestPermission</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<p>The callback version optionally accepts a callback function that is called once the user has responded to the request to display permissions.</p>"}},{"type":"prose","value":{"id":"example","title":"Example","isH3":true,"content":"<p>In our todo list demo, we include an \"Enable notifications\" button that, when pressed, requests notification permissions for the app.</p>\n<div class=\"code-example\"><pre class=\"brush: html notranslate\"><code><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>enable<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>Enable notifications<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">&gt;</span></span>\n</code></pre></div>\n<p>Clicking this calls the <code>askNotificationPermission()</code> function:</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">function</span> <span class=\"token function\">askNotificationPermission</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// function to actually ask the permissions</span>\n  <span class=\"token keyword\">function</span> <span class=\"token function\">handlePermission</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">permission</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// set the button to shown or hidden, depending on what the user answers</span>\n    notificationBtn<span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">.</span>display <span class=\"token operator\">=</span>\n      Notification<span class=\"token punctuation\">.</span>permission <span class=\"token operator\">===</span> <span class=\"token string\">'granted'</span> <span class=\"token operator\">?</span> <span class=\"token string\">'none'</span> <span class=\"token operator\">:</span> <span class=\"token string\">'block'</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token comment\">// Let's check if the browser supports notifications</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Notification'</span> <span class=\"token keyword\">in</span> window<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"This browser does not support notifications.\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token function\">checkNotificationPromise</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    Notification<span class=\"token punctuation\">.</span><span class=\"token function\">requestPermission</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">permission</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token function\">handlePermission</span><span class=\"token punctuation\">(</span>permission<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n    Notification<span class=\"token punctuation\">.</span><span class=\"token function\">requestPermission</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">permission</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token function\">handlePermission</span><span class=\"token punctuation\">(</span>permission<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>Looking at the second main block first, you'll see that we first check to see if Notifications are supported. If they are, we then run a check to see whether the promise-based version of <code>Notification.requestPermission()</code> is supported. If it is, we run the promise-based version (supported everywhere except Safari), and if not, we run the older callback-based version (which is supported in Safari).</p>\n<p>To avoid duplicating code, we have stored a few bits of housekeeping code inside the <code>handlePermission()</code> function, which is the first main block inside this snippet. Inside here we explicitly set the <code>Notification.permission</code> value (some old versions of Chrome failed to do this automatically), and show or hide the button depending on what the user chose in the permission dialog. We don't want to show it if permission has already been granted, but if the user chose to deny permission, we want to give them the chance to change their mind later on.</p>\n<div class=\"notecard note\" id=\"sect3\">\n  <p><strong>Note:</strong> Before version 37, Chrome doesn't let you call <a href=\"/en-US/docs/Web/API/Notification/requestPermission\"><code>Notification.requestPermission()</code></a> in the <code>load</code> event handler (see <a href=\"https://bugs.chromium.org/p/chromium/issues/detail?id=274284\" class=\"external\" rel=\" noopener\">issue 274284</a>).</p>\n</div>"}},{"type":"prose","value":{"id":"feature-detecting_the_requestpermission_promise","title":"Feature-detecting the requestPermission() promise","isH3":true,"content":"<p>Above we said that we had to check whether the browser supports the promise version of <code>Notification.requestPermission()</code>. We did this using the following:</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">function</span> <span class=\"token function\">checkNotificationPromise</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n    Notification<span class=\"token punctuation\">.</span><span class=\"token function\">requestPermission</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>We basically try to see if the <code>.then()</code> method is available on <code>requestPermission()</code>. If so, we move on and return <code>true</code>. If it fails, we return <code>false</code> in the <code>catch() {}</code> block.</p>"}},{"type":"prose","value":{"id":"creating_a_notification","title":"Creating a notification","isH3":false,"content":"<p>Creating a notification is easy; just use the <a href=\"/en-US/docs/Web/API/Notification\"><code>Notification</code></a> constructor. This constructor expects a title to display within the notification and some options to enhance the notification such as an <a href=\"/en-US/docs/Web/API/Notification/icon\" title=\"icon\"><code>icon</code></a> or a text <a href=\"/en-US/docs/Web/API/Notification/body\" title=\"body\"><code>body</code></a>.</p>\n<p>For example, in the to-do-list example we use the following snippet to create a notification when required (found inside the <code>createNotification()</code> function):</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">const</span> img <span class=\"token operator\">=</span> <span class=\"token string\">'/to-do-notifications/img/icon-128.png'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> text <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">HEY! Your task \"</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>title<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">\" is now overdue.</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> notification <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Notification</span><span class=\"token punctuation\">(</span><span class=\"token string\">'To do list'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">body</span><span class=\"token operator\">:</span> text<span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">icon</span><span class=\"token operator\">:</span> img <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>"}},{"type":"prose","value":{"id":"closing_notifications","title":"Closing notifications","isH3":false,"content":"<p>Use <a href=\"/en-US/docs/Web/API/Notification/close\" title=\"close()\"><code>close()</code></a> to remove a notification that is no longer relevant to the user (e.g. the user already read the notification on the webpage, in the case of a messaging app, or the following song is already playing in a music app to notifies upon song changes). Most modern browsers dismiss notifications automatically after a few moments (around four seconds) but this isn't something you should generally be concerned about as it's up to the user and user agent. The dismissal may also happen at the operating system level and users should remain in control of this. Old versions of Chrome didn't remove notifications automatically so you can do so after a <a href=\"/en-US/docs/Web/API/setTimeout\"><code>setTimeout()</code></a> only for those legacy versions in order to not remove notifications from notification trays on other browsers.</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">const</span> n <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Notification</span><span class=\"token punctuation\">(</span><span class=\"token string\">'My Great Song'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\ndocument<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'visibilitychange'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>document<span class=\"token punctuation\">.</span>visibilityState <span class=\"token operator\">===</span> <span class=\"token string\">'visible'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// The tab has become visible so clear the now-stale Notification.</span>\n    n<span class=\"token punctuation\">.</span><span class=\"token function\">close</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<div class=\"notecard note\" id=\"sect4\">\n  <p><strong>Note:</strong> This API shouldn't be used just to have the notification removed from the screen after a fixed delay (on modern browsers) since this method will also remove the notification from any notification tray, preventing users from interacting with it after it was initially shown.</p>\n</div>\n<div class=\"notecard note\" id=\"sect5\">\n  <p><strong>Note:</strong> When you receive a \"close\" event, there is no guarantee that it's the user who closed the notification. This is in line with the specification, which states: \"When a notification is closed, either by the underlying notifications platform or by the user, the close steps for it must be run.\"</p>\n</div>"}},{"type":"prose","value":{"id":"notification_events","title":"Notification events","isH3":false,"content":"<p>There are four events that are triggered on the <a href=\"/en-US/docs/Web/API/Notification\"><code>Notification</code></a> instance:</p>\n<dl>\n  <dt id=\"click\"><code>click</code></dt>\n  <dd>\n    <p>Triggered when the user clicks on the notification.</p>\n  </dd>\n  <dt id=\"close\"><code>close</code></dt>\n  <dd>\n    <p>Triggered once the notification is closed.</p>\n  </dd>\n  <dt id=\"error\"><code>error</code></dt>\n  <dd>\n    <p>Triggered if something goes wrong with the notification; this is usually because the notification couldn't be displayed for some reason.</p>\n  </dd>\n  <dt id=\"show\"><code>show</code></dt>\n  <dd>\n    <p>Triggered when the notification is displayed to the user.</p>\n  </dd>\n</dl>\n<p>These events can be tracked using the <a href=\"/en-US/docs/Web/API/Notification/click_event\" title=\"onclick\"><code>onclick</code></a>, <a href=\"/en-US/docs/Web/API/Notification/close_event\" title=\"onclose\"><code>onclose</code></a>, <a href=\"/en-US/docs/Web/API/Notification/error_event\" title=\"onerror\"><code>onerror</code></a>, and <a href=\"/en-US/docs/Web/API/Notification/show_event\" title=\"onshow\"><code>onshow</code></a> handlers. Because <a href=\"/en-US/docs/Web/API/Notification\"><code>Notification</code></a> also inherits from <a href=\"/en-US/docs/Web/API/EventTarget\"><code>EventTarget</code></a>, it's possible to use the <a href=\"/en-US/docs/Web/API/EventTarget/addEventListener\" title=\"addEventListener()\"><code>addEventListener()</code></a> method on it.</p>"}},{"type":"prose","value":{"id":"replacing_existing_notifications","title":"Replacing existing notifications","isH3":false,"content":"<p>It is usually undesirable for a user to receive a lot of notifications in a short space of time — for example, what if a messenger application notified a user for each incoming message, and they were being sent a lot? To avoid spamming the user with too many notifications, it's possible to modify the pending notifications queue, replacing single or multiple pending notifications with a new one.</p>\n<p>To do this, it's possible to add a tag to any new notification. If a notification already has the same tag and has not been displayed yet, the new notification replaces that previous notification. If the notification with the same tag has already been displayed, the previous notification is closed and the new one is displayed.</p>"}},{"type":"prose","value":{"id":"tag_example","title":"Tag example","isH3":true,"content":"<p>Assume the following basic HTML:</p>\n<div class=\"code-example\"><pre class=\"brush: html notranslate\"><code><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span><span class=\"token punctuation\">&gt;</span></span>Notify me!<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">&gt;</span></span>\n</code></pre></div>\n<p>It's possible to handle multiple notifications this way:</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code>window<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'load'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> button <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">'button'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>window<span class=\"token punctuation\">.</span>self <span class=\"token operator\">!==</span> window<span class=\"token punctuation\">.</span>top<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// Ensure that if our document is in a frame, we get the user</span>\n    <span class=\"token comment\">// to first open it in its own tab or window. Otherwise, it</span>\n    <span class=\"token comment\">// won't be able to request permission to send notifications.</span>\n    button<span class=\"token punctuation\">.</span>textContent <span class=\"token operator\">=</span> <span class=\"token string\">\"View live result of the example code above\"</span><span class=\"token punctuation\">;</span>\n    button<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'click'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> window<span class=\"token punctuation\">.</span><span class=\"token function\">open</span><span class=\"token punctuation\">(</span>location<span class=\"token punctuation\">.</span>href<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  button<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'click'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>Notification<span class=\"token operator\">?.</span>permission <span class=\"token operator\">===</span> <span class=\"token string\">\"granted\"</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token comment\">// If the user agreed to get notified</span>\n      <span class=\"token comment\">// Let's try to send ten notifications</span>\n      <span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n      <span class=\"token comment\">// Using an interval cause some browsers (including Firefox) are blocking notifications if there are too much in a certain time.</span>\n      <span class=\"token keyword\">const</span> interval <span class=\"token operator\">=</span> <span class=\"token function\">setInterval</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// Thanks to the tag, we should only see the \"Hi! 9\" notification</span>\n        <span class=\"token keyword\">const</span> n <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Notification</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">Hi! </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>i<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span><span class=\"token literal-property property\">tag</span><span class=\"token operator\">:</span> <span class=\"token string\">'soManyNotification'</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>i <span class=\"token operator\">===</span> <span class=\"token number\">9</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n          i<span class=\"token operator\">++</span><span class=\"token punctuation\">;</span>\n          <span class=\"token function\">clearInterval</span><span class=\"token punctuation\">(</span>interval<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token number\">200</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>Notification <span class=\"token operator\">&amp;&amp;</span> Notification<span class=\"token punctuation\">.</span>permission <span class=\"token operator\">!==</span> <span class=\"token string\">\"denied\"</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token comment\">// If the user hasn't told if they want to be notified or not</span>\n      <span class=\"token comment\">// Note: because of Chrome, we are not sure the permission property</span>\n      <span class=\"token comment\">// is set, therefore it's unsafe to check for the \"default\" value.</span>\n      Notification<span class=\"token punctuation\">.</span><span class=\"token function\">requestPermission</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">status</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// If the user said okay</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>status <span class=\"token operator\">===</span> <span class=\"token string\">\"granted\"</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n          <span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n          <span class=\"token comment\">// Using an interval cause some browsers (including Firefox) are blocking notifications if there are too much in a certain time.</span>\n          <span class=\"token keyword\">const</span> interval <span class=\"token operator\">=</span> <span class=\"token function\">setInterval</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token comment\">// Thanks to the tag, we should only see the \"Hi! 9\" notification</span>\n            <span class=\"token keyword\">const</span> n <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Notification</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">Hi! </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>i<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span><span class=\"token literal-property property\">tag</span><span class=\"token operator\">:</span> <span class=\"token string\">'soManyNotification'</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>i <span class=\"token operator\">===</span> <span class=\"token number\">9</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n              i<span class=\"token operator\">++</span><span class=\"token punctuation\">;</span>\n              <span class=\"token function\">clearInterval</span><span class=\"token punctuation\">(</span>interval<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n          <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token number\">200</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n          <span class=\"token comment\">// Otherwise, we can fallback to a regular modal alert</span>\n          <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Hi!\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token comment\">// If the user refuses to get notified, we can fallback to a regular modal alert</span>\n      <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Hi!\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>"}},{"type":"prose","value":{"id":"result","title":"Result","isH3":true,"content":"<iframe class=\"sample-code-frame\" title=\"Tag example sample\" id=\"frame_tag_example\" width=\"100%\" height=\"60\" src=\"https://yari-demos.prod.mdn.mozit.cloud/en-US/docs/Web/API/Notifications_API/Using_the_Notifications_API/_sample_.tag_example.html\" loading=\"lazy\"></iframe>"}},{"type":"specifications","value":{"title":"Specifications","id":"specifications","isH3":false,"specifications":[{"bcdSpecificationURL":"https://notifications.spec.whatwg.org/#api","title":"Notifications API Standard"}],"query":"api.Notification"}},{"type":"browser_compatibility","value":{"title":"Browser compatibility","id":"browser_compatibility","isH3":false,"query":"api.Notification","dataURL":"/en-US/docs/Web/API/Notifications_API/Using_the_Notifications_API/bcd.json"}},{"type":"prose","value":{"id":"see_also","title":"See also","isH3":false,"content":"<ul>\n  <li><a href=\"/en-US/docs/Web/API/Notification\"><code>Notification</code></a></li>\n</ul>"}}],"toc":[{"text":"Examples","id":"examples"},{"text":"Requesting permission","id":"requesting_permission"},{"text":"Creating a notification","id":"creating_a_notification"},{"text":"Closing notifications","id":"closing_notifications"},{"text":"Notification events","id":"notification_events"},{"text":"Replacing existing notifications","id":"replacing_existing_notifications"},{"text":"Specifications","id":"specifications"},{"text":"Browser compatibility","id":"browser_compatibility"},{"text":"See also","id":"see_also"}],"summary":"The Notifications API lets a web page or app send notifications that are displayed outside the page at the system level; this lets web apps send information to a user even if the application is idle or in the background. This article looks at the basics of using this API in your own apps.","popularity":0.0059,"modified":"2022-09-30T09:50:26.000Z","other_translations":[{"title":"Usando la API de Notificaciones","locale":"es","native":"Español"},{"title":"Utilisation de l'API Notifications","locale":"fr","native":"Français"},{"title":"通知 API の使用","locale":"ja","native":"日本語"},{"title":"알림 API 사용하기","locale":"ko","native":"한국어"},{"title":"使用 Web Notifications","locale":"zh-CN","native":"中文 (简体)"},{"title":"使用 Web Notifications","locale":"zh-TW","native":"正體中文 (繁體)"}],"source":{"folder":"en-us/web/api/notifications_api/using_the_notifications_api","github_url":"https://github.com/mdn/content/blob/style/old/files/en-us/web/api/notifications_api/using_the_notifications_api/index.md","last_commit_url":"https://github.com/mdn/content/commit/d42b609444efb915ab46117f59985d67dda21eb6","filename":"index.md"},"parents":[{"uri":"/en-US/docs/Web","title":"Web technology for developers"},{"uri":"/en-US/docs/Web/API","title":"Web APIs"},{"uri":"/en-US/docs/Web/API/Notifications_API","title":"Notifications API"},{"uri":"/en-US/docs/Web/API/Notifications_API/Using_the_Notifications_API","title":"Using the Notifications API"}],"pageTitle":"Using the Notifications API - Web APIs | MDN","noIndexing":false}}