{"doc":{"isMarkdown":true,"isTranslated":false,"isActive":true,"flaws":{},"title":"RTCOutboundRtpStreamStats.qpSum","mdn_url":"/en-US/docs/Web/API/RTCOutboundRtpStreamStats/qpSum","locale":"en-US","native":"English (US)","sidebarHTML":"<ol><li><strong><a href=\"/en-US/docs/Web/API/WebRTC_API\">WebRTC API</a></strong></li><li><strong><a href=\"/en-US/docs/Web/API/RTCOutboundRtpStreamStats\"><code>RTCOutboundRtpStreamStats</code></a></strong></li><li class=\"toggle\"><details open=\"\"><summary>Properties</summary><ol><li><a href=\"/en-US/docs/Web/API/RTCOutboundRtpStreamStats/averageRtcpInterval\"><code>averageRtcpInterval</code></a></li><li><a href=\"/en-US/docs/Web/API/RTCOutboundRtpStreamStats/firCount\"><code>firCount</code></a></li><li><a href=\"/en-US/docs/Web/API/RTCOutboundRtpStreamStats/framesEncoded\"><code>framesEncoded</code></a></li><li><a href=\"/en-US/docs/Web/API/RTCOutboundRtpStreamStats/lastPacketSentTimestamp\"><code>lastPacketSentTimestamp</code></a></li><li><a href=\"/en-US/docs/Web/API/RTCOutboundRtpStreamStats/nackCount\"><code>nackCount</code></a></li><li><a href=\"/en-US/docs/Web/API/RTCOutboundRtpStreamStats/perDscpPacketsSent\"><code>perDscpPacketsSent</code></a></li><li><a href=\"/en-US/docs/Web/API/RTCOutboundRtpStreamStats/pliCount\"><code>pliCount</code></a></li><li><em><code>qpSum</code></em></li><li><a href=\"/en-US/docs/Web/API/RTCOutboundRtpStreamStats/qualityLimitationReason\"><code>qualityLimitationReason</code></a></li><li><a href=\"/en-US/docs/Web/API/RTCOutboundRtpStreamStats/remoteId\"><code>remoteId</code></a></li><li><a href=\"/en-US/docs/Web/API/RTCOutboundRtpStreamStats/sliCount\"><code>sliCount</code></a></li><li><a href=\"/en-US/docs/Web/API/RTCOutboundRtpStreamStats/trackId\"><code>trackId</code></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>Related pages for WebRTC</summary><ol><li><a href=\"/en-US/docs/Web/API/MediaDevices/getUserMedia\"><code>MediaDevices.getUserMedia()</code></a></li><li><a href=\"/en-US/docs/Web/API/Navigator/mediaDevices\"><code>Navigator.mediaDevices</code></a></li><li><a href=\"/en-US/docs/Web/API/RTCCertificate\"><code>RTCCertificate</code></a></li><li><a href=\"/en-US/docs/Web/API/RTCDTMFSender\"><code>RTCDTMFSender</code></a></li><li><a href=\"/en-US/docs/Web/API/RTCDTMFToneChangeEvent\"><code>RTCDTMFToneChangeEvent</code></a></li><li><a href=\"/en-US/docs/Web/API/RTCDataChannel\"><code>RTCDataChannel</code></a></li><li><a href=\"/en-US/docs/Web/API/RTCDataChannelEvent\"><code>RTCDataChannelEvent</code></a></li><li><a href=\"/en-US/docs/Web/API/RTCDtlsTransport\"><code>RTCDtlsTransport</code></a></li><li><a href=\"/en-US/docs/Web/API/RTCErrorEvent\"><code>RTCErrorEvent</code></a></li><li><a href=\"/en-US/docs/Web/API/RTCIceCandidate\"><code>RTCIceCandidate</code></a></li><li><a href=\"/en-US/docs/Web/API/RTCIceTransport\"><code>RTCIceTransport</code></a></li><li><a href=\"/en-US/docs/Web/API/RTCPeerConnection\"><code>RTCPeerConnection</code></a></li><li><a href=\"/en-US/docs/Web/API/RTCPeerConnectionIceErrorEvent\"><code>RTCPeerConnectionIceErrorEvent</code></a></li><li><a href=\"/en-US/docs/Web/API/RTCPeerConnectionIceEvent\"><code>RTCPeerConnectionIceEvent</code></a></li><li><a href=\"/en-US/docs/Web/API/RTCRtpReceiver\"><code>RTCRtpReceiver</code></a></li><li><a href=\"/en-US/docs/Web/API/RTCRtpSender\"><code>RTCRtpSender</code></a></li><li><a href=\"/en-US/docs/Web/API/RTCRtpTransceiver\"><code>RTCRtpTransceiver</code></a></li><li><a href=\"/en-US/docs/Web/API/RTCSctpTransport\"><code>RTCSctpTransport</code></a></li><li><a href=\"/en-US/docs/Web/API/RTCSessionDescription\"><code>RTCSessionDescription</code></a></li><li><a href=\"/en-US/docs/Web/API/RTCStatsReport\"><code>RTCStatsReport</code></a></li><li><a href=\"/en-US/docs/Web/API/RTCTrackEvent\"><code>RTCTrackEvent</code></a></li></ol></details></li></ol>","body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<p>\n  The <strong><code>qpSum</code></strong> property of the\n  <a href=\"/en-US/docs/Web/API/RTCOutboundRtpStreamStats\"><code>RTCOutboundRtpStreamStats</code></a> dictionary is a value generated by adding the\n  <strong>Quantization Parameter</strong> (<strong>QP</strong>) values for every frame\n  this sender has produced to date on the video track corresponding to this\n  <code>RTCOutboundRtpStreamStats</code> object.\n</p>\n<p>\n  In general, the higher this\n  number is, the more heavily compressed the video data is.\n</p>"}},{"type":"prose","value":{"id":"value","title":"Value","isH3":false,"content":"<p>\n  An unsigned 64-bit integer value which indicates the sum of the quantization parameter\n  (QP) value for every frame sent so far on the track described by the\n  <a href=\"/en-US/docs/Web/API/RTCOutboundRtpStreamStats\"><code>RTCOutboundRtpStreamStats</code></a> object. Since the value of QP is typically\n  larger to indicate higher compression factors, the larger this sum is, the more heavily\n  compressed the stream generally has been.\n</p>\n<div class=\"notecard note\" id=\"sect1\">\n  <p><strong>Note:</strong> This value is only available for video media.</p>\n</div>"}},{"type":"prose","value":{"id":"usage_notes","title":"Usage notes","isH3":false,"content":"<p>\n  <a href=\"https://en.wikipedia.org/wiki/Quantization\" class=\"external\" rel=\" noopener\">Quantization</a> is the process of applying lossy compression\n  to a range of values, resulting in a single <strong>quantum value</strong>. This value\n  takes the place of the range of values, thereby reducing the number of different values\n  that appear in the overall data set, making the data more compressible. The quantization\n  process and the amount of compression can be controlled using one or more parameters.\n</p>\n<p>\n  It's important to keep in mind that the value of QP can change periodically—even every\n  frame—so it's difficult to know for certain how substantial the compression is. The best\n  you can do is make an estimate. You can use the value of\n  <a class=\"page-not-created\" title=\"The documentation about this has not yet been written; please consider contributing!\"><code>RTCSentRtpStreamStats.framesEncoded</code></a> to get the number of frames that have\n  been encoded so far, and compute an average from there. See <a href=\"#calculating_average_quantization\">Calculating average quantization</a> below for a function that does this.\n</p>\n<p>\n  Also, the exact meaning of the QP value depends on the <a href=\"/en-US/docs/Glossary/Codec\">codec</a> being\n  used. For example, for the VP8 codec, the QP value can be anywhere from 1 to 127 and is\n  found in the frame header element <code>\"y_ac_qi\"</code>, whose value is defined in\n  <a href=\"https://datatracker.ietf.org/doc/html/rfc6386#section-19.2\" class=\"external\" rel=\" noopener\">RFC 6386, section 19.2</a>. H.264 uses a QP which ranges from 0 to 51; in this case, it's an\n  index used to derive a scaling matrix used during the quantization process.\n  Additionally, QP is not likely to be the only parameter the codec uses to adjust the\n  compression. See the individual codec specifications for details.\n</p>"}},{"type":"prose","value":{"id":"examples","title":"Examples","isH3":false,"content":""}},{"type":"prose","value":{"id":"calculating_average_quantization","title":"Calculating average quantization","isH3":true,"content":"<p>\n  The <code>calculateAverageQP()</code> function shown below computes the average QP for\n  the given <a href=\"/en-US/docs/Web/API/RTCStats\"><code>RTCStats</code></a> object that contains RTP stream statistics, returning\n  0 if the object doesn't describe an RTP stream.\n</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">function</span> <span class=\"token function\">calculateAverageQP</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">stats</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">let</span> frameCount <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">switch</span><span class=\"token punctuation\">(</span>stats<span class=\"token punctuation\">.</span>type<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">case</span> <span class=\"token string\">\"inbound-rtp\"</span><span class=\"token operator\">:</span>\n    <span class=\"token keyword\">case</span> <span class=\"token string\">\"remote-inbound-rtp\"</span><span class=\"token operator\">:</span>\n      frameCount <span class=\"token operator\">=</span> stats<span class=\"token punctuation\">.</span>framesDecoded<span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">case</span> <span class=\"token string\">\"outbound-rtp\"</span><span class=\"token operator\">:</span>\n    <span class=\"token keyword\">case</span> <span class=\"token string\">\"remote-outbound-rtp\"</span><span class=\"token operator\">:</span>\n      frameCount <span class=\"token operator\">=</span> stats<span class=\"token punctuation\">.</span>framesEncoded<span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">default</span><span class=\"token operator\">:</span>\n      <span class=\"token keyword\">return</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">return</span> status<span class=\"token punctuation\">.</span>qpSum <span class=\"token operator\">/</span> frameCount<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>"}},{"type":"specifications","value":{"title":"Specifications","id":"specifications","isH3":false,"query":"api.RTCOutboundRtpStreamStats.qpSum","specifications":[]}},{"type":"browser_compatibility","value":{"title":"Browser compatibility","id":"browser_compatibility","isH3":false,"data":null,"query":"api.RTCOutboundRtpStreamStats.qpSum","browsers":null}}],"toc":[{"text":"Value","id":"value"},{"text":"Usage notes","id":"usage_notes"},{"text":"Examples","id":"examples"},{"text":"Specifications","id":"specifications"},{"text":"Browser compatibility","id":"browser_compatibility"}],"summary":"The qpSum property of the\n  RTCOutboundRtpStreamStats dictionary is a value generated by adding the\n  Quantization Parameter (QP) values for every frame\n  this sender has produced to date on the video track corresponding to this\n  RTCOutboundRtpStreamStats object.","popularity":0,"modified":"2022-09-09T05:18:40.000Z","source":{"folder":"en-us/web/api/rtcoutboundrtpstreamstats/qpsum","github_url":"https://github.com/mdn/content/blob/style/old/files/en-us/web/api/rtcoutboundrtpstreamstats/qpsum/index.md","last_commit_url":"https://github.com/mdn/content/commit/e0e09b1df51489867f2e74c18586d168ba5e00d1","filename":"index.md"},"parents":[{"uri":"/en-US/docs/Web","title":"Web technology for developers"},{"uri":"/en-US/docs/Web/API","title":"Web APIs"},{"uri":"/en-US/docs/Web/API/RTCOutboundRtpStreamStats","title":"RTCOutboundRtpStreamStats"},{"uri":"/en-US/docs/Web/API/RTCOutboundRtpStreamStats/qpSum","title":"RTCOutboundRtpStreamStats.qpSum"}],"pageTitle":"RTCOutboundRtpStreamStats.qpSum - Web APIs | MDN","noIndexing":false}}