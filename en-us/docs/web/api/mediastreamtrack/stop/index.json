{"doc":{"isMarkdown":true,"isTranslated":false,"isActive":true,"flaws":{},"title":"MediaStreamTrack.stop()","mdn_url":"/en-US/docs/Web/API/MediaStreamTrack/stop","locale":"en-US","native":"English (US)","sidebarHTML":"<ol><li><strong><a href=\"/en-US/docs/Web/API/Media_Capture_and_Streams_API\">Media Capture and Streams API</a></strong></li><li><strong><a href=\"/en-US/docs/Web/API/MediaStreamTrack\"><code>MediaStreamTrack</code></a></strong></li><li class=\"toggle\"><details open=\"\"><summary>Properties</summary><ol><li><a href=\"/en-US/docs/Web/API/MediaStreamTrack/enabled\"><code>enabled</code></a></li><li><a href=\"/en-US/docs/Web/API/MediaStreamTrack/id\"><code>id</code></a></li><li><a href=\"/en-US/docs/Web/API/MediaStreamTrack/kind\"><code>kind</code></a></li><li><a href=\"/en-US/docs/Web/API/MediaStreamTrack/label\"><code>label</code></a></li><li><a href=\"/en-US/docs/Web/API/MediaStreamTrack/muted\"><code>muted</code></a></li><li><a href=\"/en-US/docs/Web/API/MediaStreamTrack/readyState\"><code>readyState</code></a></li><li><svg class=\"icon icon-nonstandard\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-nonstandard\"></use>\n</svg><svg class=\"icon icon-deprecated\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-deprecated\"></use>\n</svg><a href=\"/en-US/docs/Web/API/MediaStreamTrack/remote\"><code>remote</code></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>Methods</summary><ol><li><a href=\"/en-US/docs/Web/API/MediaStreamTrack/applyConstraints\"><code>applyConstraints()</code></a></li><li><a href=\"/en-US/docs/Web/API/MediaStreamTrack/clone\"><code>clone()</code></a></li><li><a href=\"/en-US/docs/Web/API/MediaStreamTrack/getCapabilities\"><code>getCapabilities()</code></a></li><li><a href=\"/en-US/docs/Web/API/MediaStreamTrack/getConstraints\"><code>getConstraints()</code></a></li><li><a href=\"/en-US/docs/Web/API/MediaStreamTrack/getSettings\"><code>getSettings()</code></a></li><li><em><code>stop()</code></em></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>Events</summary><ol><li><a href=\"/en-US/docs/Web/API/MediaStreamTrack/ended_event\"><code>ended</code></a></li><li><a href=\"/en-US/docs/Web/API/MediaStreamTrack/mute_event\"><code>mute</code></a></li><li><svg class=\"icon icon-nonstandard\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-nonstandard\"></use>\n</svg><svg class=\"icon icon-deprecated\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-deprecated\"></use>\n</svg><a href=\"/en-US/docs/Web/API/MediaStreamTrack/overconstrained_event\"><code>overconstrained</code></a></li><li><a href=\"/en-US/docs/Web/API/MediaStreamTrack/unmute_event\"><code>unmute</code></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>Inheritance:</summary><ol><li><a href=\"/en-US/docs/Web/API/EventTarget\"><code>EventTarget</code></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>Related pages for Media Capture and Streams</summary><ol><li><a href=\"/en-US/docs/Web/API/CanvasCaptureMediaStreamTrack\"><code>CanvasCaptureMediaStreamTrack</code></a></li><li><a href=\"/en-US/docs/Web/API/HTMLCanvasElement/captureStream\"><code>HTMLCanvasElement.captureStream()</code></a></li><li><a href=\"/en-US/docs/Web/API/MediaDevices\"><code>MediaDevices</code></a></li><li><a href=\"/en-US/docs/Web/API/MediaDevices/getUserMedia\"><code>MediaDevices.getUserMedia()</code></a></li><li><a href=\"/en-US/docs/Web/API/MediaStream\"><code>MediaStream</code></a></li><li><a href=\"/en-US/docs/Web/API/MediaStreamTrackEvent\"><code>MediaStreamTrackEvent</code></a></li><li><a class=\"page-not-created\" title=\"The documentation about this has not yet been written; please consider contributing!\"><code>MediaTrackCapabilities</code></a></li><li><a href=\"/en-US/docs/Web/API/MediaTrackConstraints\"><code>MediaTrackConstraints</code></a></li><li><a href=\"/en-US/docs/Web/API/MediaTrackSettings\"><code>MediaTrackSettings</code></a></li><li><a href=\"/en-US/docs/Web/API/MediaTrackSupportedConstraints\"><code>MediaTrackSupportedConstraints</code></a></li><li><a href=\"/en-US/docs/Web/API/Navigator/mediaDevices\"><code>Navigator.mediaDevices</code></a></li><li><a class=\"page-not-created\" title=\"The documentation about this has not yet been written; please consider contributing!\"><code>VideoStreamTrack</code></a></li></ol></details></li></ol>","body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<p>The <strong><code>MediaStreamTrack.stop()</code></strong> method stops the track.</p>"}},{"type":"prose","value":{"id":"syntax","title":"Syntax","isH3":false,"content":"<div class=\"code-example\"><pre class=\"brush: js-nolint notranslate\">stop()\n</pre></div>"}},{"type":"prose","value":{"id":"parameters","title":"Parameters","isH3":true,"content":"<p>None.</p>"}},{"type":"prose","value":{"id":"return_value","title":"Return value","isH3":true,"content":"<p>None (<a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined\"><code>undefined</code></a>).</p>"}},{"type":"prose","value":{"id":"description","title":"Description","isH3":false,"content":"<p>\n  Calling <code>stop()</code> tells the <a href=\"/en-US/docs/Glossary/User_agent\">user agent</a> that the track's\n  source—whatever that source may be, including files, network streams, or a local camera\n  or microphone—is no longer needed by the <a href=\"/en-US/docs/Web/API/MediaStreamTrack\"><code>MediaStreamTrack</code></a>. Since multiple\n  tracks may use the same source (for example, if two tabs are using the device's\n  microphone), the source itself isn't necessarily immediately stopped. It is instead\n  disassociated from the track and the track object is stopped. Once no media tracks are\n  using the source, the source may actually be completely stopped.\n</p>\n<p>\n  Immediately after calling <code>stop()</code>, the\n  <a href=\"/en-US/docs/Web/API/MediaStreamTrack/readyState\" title=\"readyState\"><code>readyState</code></a> property is set to\n  <code>ended</code>. Note that the <a href=\"/en-US/docs/Web/API/MediaStreamTrack/ended_event\"><code>ended</code></a> event will not be fired in this situation.\n</p>"}},{"type":"prose","value":{"id":"examples","title":"Examples","isH3":false,"content":""}},{"type":"prose","value":{"id":"stopping_a_video_stream","title":"Stopping a video stream","isH3":true,"content":"<p>\n  In this example, we see a function which stops a streamed video by calling\n  <code>stop()</code> on every track on a given <a href=\"/en-US/docs/Web/HTML/Element/video\"><code>&lt;video&gt;</code></a>.\n</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">function</span> <span class=\"token function\">stopStreamedVideo</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">videoElem</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> stream <span class=\"token operator\">=</span> videoElem<span class=\"token punctuation\">.</span>srcObject<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> tracks <span class=\"token operator\">=</span> stream<span class=\"token punctuation\">.</span><span class=\"token function\">getTracks</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  tracks<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">track</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n    track<span class=\"token punctuation\">.</span><span class=\"token function\">stop</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  videoElem<span class=\"token punctuation\">.</span>srcObject <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>\n  This works by obtaining the video element's stream from its\n  <a href=\"/en-US/docs/Web/API/HTMLMediaElement/srcObject\" title=\"srcObject\"><code>srcObject</code></a> property. Then the stream's track\n  list is obtained by calling its <a href=\"/en-US/docs/Web/API/MediaStream/getTracks\" title=\"getTracks()\"><code>getTracks()</code></a>\n  method. From there, all that remains to do is to iterate over the track list using\n  <a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/forEach\"><code>forEach()</code></a> and calling each track's <code>stop()</code>\n  method.\n</p>\n<p>\n  Finally, <code>srcObject</code> is set to <code>null</code> to sever the link to the\n  <a href=\"/en-US/docs/Web/API/MediaStream\"><code>MediaStream</code></a> object so it can be released.\n</p>"}},{"type":"specifications","value":{"title":"Specifications","id":"specifications","isH3":false,"specifications":[{"bcdSpecificationURL":"https://w3c.github.io/mediacapture-main/#dom-mediastreamtrack-stop","title":"Media Capture and Streams"}],"query":"api.MediaStreamTrack.stop"}},{"type":"browser_compatibility","value":{"title":"Browser compatibility","id":"browser_compatibility","isH3":false,"query":"api.MediaStreamTrack.stop","dataURL":"/en-US/docs/Web/API/MediaStreamTrack/stop/bcd.json"}},{"type":"prose","value":{"id":"see_also","title":"See also","isH3":false,"content":"<ul>\n  <li><a href=\"/en-US/docs/Web/API/MediaStreamTrack\"><code>MediaStreamTrack</code></a>, the interface it belongs to.</li>\n  <li><a href=\"/en-US/docs/Web/API/MediaStreamTrack/readyState\"><code>MediaStreamTrack.readyState</code></a></li>\n  <li><a href=\"/en-US/docs/Web/API/MediaStreamTrack/ended_event\" title=\"ended\"><code>ended</code></a></li>\n</ul>"}}],"toc":[{"text":"Syntax","id":"syntax"},{"text":"Description","id":"description"},{"text":"Examples","id":"examples"},{"text":"Specifications","id":"specifications"},{"text":"Browser compatibility","id":"browser_compatibility"},{"text":"See also","id":"see_also"}],"summary":"The MediaStreamTrack.stop() method stops the track.","popularity":0.0011,"modified":"2022-09-13T05:54:54.000Z","other_translations":[{"title":"MediaStreamTrack.stop()","locale":"ja","native":"日本語"},{"title":"MediaStreamTrack.stop()","locale":"ko","native":"한국어"},{"title":"MediaStreamTrack.stop()","locale":"zh-CN","native":"中文 (简体)"}],"source":{"folder":"en-us/web/api/mediastreamtrack/stop","github_url":"https://github.com/mdn/content/blob/style/old/files/en-us/web/api/mediastreamtrack/stop/index.md","last_commit_url":"https://github.com/mdn/content/commit/b7556b71e1fc3e89057671b372871e9f33d3f0b8","filename":"index.md"},"parents":[{"uri":"/en-US/docs/Web","title":"Web technology for developers"},{"uri":"/en-US/docs/Web/API","title":"Web APIs"},{"uri":"/en-US/docs/Web/API/MediaStreamTrack","title":"MediaStreamTrack"},{"uri":"/en-US/docs/Web/API/MediaStreamTrack/stop","title":"MediaStreamTrack.stop()"}],"pageTitle":"MediaStreamTrack.stop() - Web APIs | MDN","noIndexing":false}}