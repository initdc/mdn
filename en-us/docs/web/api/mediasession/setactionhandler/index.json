{"doc":{"isMarkdown":true,"isTranslated":false,"isActive":true,"flaws":{},"title":"MediaSession.setActionHandler()","mdn_url":"/en-US/docs/Web/API/MediaSession/setActionHandler","locale":"en-US","native":"English (US)","sidebarHTML":"<ol><li><strong><a href=\"/en-US/docs/Web/API/Media_Session_API\">Media Session API</a></strong></li><li><strong><a href=\"/en-US/docs/Web/API/MediaSession\"><code>MediaSession</code></a></strong></li><li class=\"toggle\"><details open=\"\"><summary>Properties</summary><ol><li><a href=\"/en-US/docs/Web/API/MediaSession/metadata\"><code>metadata</code></a></li><li><a href=\"/en-US/docs/Web/API/MediaSession/playbackState\"><code>playbackState</code></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>Methods</summary><ol><li><em><code>setActionHandler()</code></em></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><a href=\"/en-US/docs/Web/API/MediaSession/setCameraActive\"><code>setCameraActive()</code></a></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><a href=\"/en-US/docs/Web/API/MediaSession/setMicrophoneActive\"><code>setMicrophoneActive()</code></a></li><li><a href=\"/en-US/docs/Web/API/MediaSession/setPositionState\"><code>setPositionState()</code></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>Related pages for Media Session API</summary><ol><li><a href=\"/en-US/docs/Web/API/MediaMetadata\"><code>MediaMetadata</code></a></li><li><a href=\"/en-US/docs/Web/API/Navigator/mediaSession\"><code>navigator.mediaSession</code></a></li></ol></details></li></ol>","body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<p>\n  The <strong><code>setActionHandler()</code></strong> method of the <a href=\"/en-US/docs/Web/API/MediaSession\"><code>MediaSession</code></a> interface sets a handler for a media session action.\n  These actions let a web app receive notifications when the user engages a device's built-in physical or onscreen media controls, such as play, stop, or seek buttons.\n</p>"}},{"type":"prose","value":{"id":"syntax","title":"Syntax","isH3":false,"content":"<div class=\"code-example\"><pre class=\"brush: js-nolint notranslate\">setActionHandler(type, callback)\n</pre></div>"}},{"type":"prose","value":{"id":"parameters","title":"Parameters","isH3":true,"content":"<dl>\n  <dt id=\"type\"><code>type</code></dt>\n  <dd>\n    <p>\n      A string representing an action type to listen for. It will be one\n      of the following:\n    </p>\n    <dl>\n      <dt id=\"hangup\"><code>hangup</code></dt>\n      <dd>\n        <p>End a call.</p>\n      </dd>\n      <dt id=\"nexttrack\"><code>nexttrack</code></dt>\n      <dd>\n        <p>Advances playback to the next track.</p>\n      </dd>\n      <dt id=\"pause\"><code>pause</code></dt>\n      <dd>\n        <p>Pauses playback of the media.</p>\n      </dd>\n      <dt id=\"play\"><code>play</code></dt>\n      <dd>\n        <p>Begins (or resumes) playback of the media.</p>\n      </dd>\n      <dt id=\"previoustrack\"><code>previoustrack</code></dt>\n      <dd>\n        <p>Moves back to the previous track.</p>\n      </dd>\n      <dt id=\"seekbackward\"><code>seekbackward</code></dt>\n      <dd>\n        <p>\n          Seeks backward through the media from the current position.\n          The <code>seekOffset</code> property passed to the callback specifies the amount of time to seek backward.\n        </p>\n      </dd>\n      <dt id=\"seekforward\"><code>seekforward</code></dt>\n      <dd>\n        <p>\n          Seeks forward from the current position through the media.\n          The <code>seekOffset</code> property passed to the callback specifies the amount of time to seek forward.\n        </p>\n      </dd>\n      <dt id=\"seekto\"><code>seekto</code></dt>\n      <dd>\n        <p>\n          Moves the playback position to the specified time within the media.\n          The time to which to seek is specified in the <code>seekTime</code> property passed to the callback.\n          If you intend to perform multiple <code>seekto</code> operations in rapid succession, you can also specify the <code>fastSeek</code> property passed to the callback with a value of <code>true</code>.\n          This lets the browser know it can take steps to optimize repeated operations, and is likely to result in improved performance.\n        </p>\n      </dd>\n      <dt id=\"skipad\"><code>skipad</code></dt>\n      <dd>\n        <p>\n          Skips past the currently playing advertisement or commercial.\n          This action may or may not be available, depending on the platform and <a href=\"/en-US/docs/Glossary/User_agent\">user agent</a>, or may be disabled due to subscription level or other circumstances.\n        </p>\n      </dd>\n      <dt id=\"stop\"><code>stop</code></dt>\n      <dd>\n        <p>Halts playback entirely.</p>\n      </dd>\n      <dt id=\"togglecamera\"><code>togglecamera</code></dt>\n      <dd>\n        <p>Turn the user's active camera on or off.</p>\n      </dd>\n      <dt id=\"togglemicrophone\"><code>togglemicrophone</code></dt>\n      <dd>\n        <p>Mute or unmute the user's microphone.</p>\n      </dd>\n    </dl>\n  </dd>\n  <dt id=\"callback\"><code>callback</code></dt>\n  <dd>\n    <p>A function to call when the specified action type is invoked. The callback should not return a value. The callback receives a dictionary containing the following properties:</p>\n    <dl>\n      <dt id=\"action\"><code>action</code></dt>\n      <dd>\n        <p>A string representing the action type. This property allows a single callback to handle multiple action types.</p>\n      </dd>\n      <dt id=\"fastseek\"><code>fastSeek</code> <span class=\"badge inline optional\">Optional</span></dt>\n      <dd>\n        <p>\n          A <a href=\"#seekto\"><code>seekto</code></a> action may <em>optionally</em> include this property, which is a Boolean value indicating whether or not to perform a \"fast\" seek.\n          A \"fast\" seek is a seek being performed in a rapid sequence, such as when fast-forwarding or reversing through the media, rapidly skipping through it.\n          This property can be used to indicate that you should use the shortest possible method to seek the media.\n          <code>fastSeek</code> is not included on the final action in the seek sequence in this situation.\n        </p>\n      </dd>\n      <dt id=\"seekoffset\"><code>seekOffset</code> <span class=\"badge inline optional\">Optional</span></dt>\n      <dd>\n        <p>\n          If the <code>action</code> is either <a href=\"#seekforward\"><code>seekforward</code></a> or <a href=\"#seekbackward\"><code>seekbackward</code></a> and this property is present, it is a floating point value which indicates the number of seconds to move the play position forward or backward.\n          If this property isn't present, those actions should choose a reasonable default distance to skip forward or backward (such as 7 or 10 seconds).\n        </p>\n      </dd>\n      <dt id=\"seektime\"><code>seekTime</code> <span class=\"badge inline optional\">Optional</span></dt>\n      <dd>\n        <p>If the <code>action</code> is <a href=\"#seekto\"><code>seekto</code></a>, this property must be present and must be a floating-point value indicating the absolute time within the media to move the playback position to, where 0 indicates the beginning of the media. This property is not present for other action types.</p>\n      </dd>\n    </dl>\n  </dd>\n</dl>"}},{"type":"prose","value":{"id":"return_value","title":"Return value","isH3":true,"content":"<p>None (<a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined\"><code>undefined</code></a>).</p>"}},{"type":"prose","value":{"id":"description","title":"Description","isH3":false,"content":"<p>To remove a previously-established action handler, call <code>setActionHandler()</code> again, specifying <code>null</code> as the <code>callback</code>.</p>\n<p>The action handler receives as input a single parameter: an object which provides both the action type (so the same function can handle multiple action types), as well as data needed in order to perform the action.</p>"}},{"type":"prose","value":{"id":"examples","title":"Examples","isH3":false,"content":"<p>This example creates a new media session and assigns action handlers (which don't do anything) to it.</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token string\">'mediaSession'</span> <span class=\"token keyword\">in</span> navigator<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  navigator<span class=\"token punctuation\">.</span>mediaSession<span class=\"token punctuation\">.</span>metadata <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">MediaMetadata</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">title</span><span class=\"token operator\">:</span> <span class=\"token string\">'Unforgettable'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">artist</span><span class=\"token operator\">:</span> <span class=\"token string\">'Nat King Cole'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">album</span><span class=\"token operator\">:</span> <span class=\"token string\">'The Ultimate Collection (Remastered)'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">artwork</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n      <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">src</span><span class=\"token operator\">:</span> <span class=\"token string\">'https://dummyimage.com/96x96'</span><span class=\"token punctuation\">,</span>   <span class=\"token literal-property property\">sizes</span><span class=\"token operator\">:</span> <span class=\"token string\">'96x96'</span><span class=\"token punctuation\">,</span>   <span class=\"token literal-property property\">type</span><span class=\"token operator\">:</span> <span class=\"token string\">'image/png'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">src</span><span class=\"token operator\">:</span> <span class=\"token string\">'https://dummyimage.com/128x128'</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">sizes</span><span class=\"token operator\">:</span> <span class=\"token string\">'128x128'</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">type</span><span class=\"token operator\">:</span> <span class=\"token string\">'image/png'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">src</span><span class=\"token operator\">:</span> <span class=\"token string\">'https://dummyimage.com/192x192'</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">sizes</span><span class=\"token operator\">:</span> <span class=\"token string\">'192x192'</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">type</span><span class=\"token operator\">:</span> <span class=\"token string\">'image/png'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">src</span><span class=\"token operator\">:</span> <span class=\"token string\">'https://dummyimage.com/256x256'</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">sizes</span><span class=\"token operator\">:</span> <span class=\"token string\">'256x256'</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">type</span><span class=\"token operator\">:</span> <span class=\"token string\">'image/png'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">src</span><span class=\"token operator\">:</span> <span class=\"token string\">'https://dummyimage.com/384x384'</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">sizes</span><span class=\"token operator\">:</span> <span class=\"token string\">'384x384'</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">type</span><span class=\"token operator\">:</span> <span class=\"token string\">'image/png'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">src</span><span class=\"token operator\">:</span> <span class=\"token string\">'https://dummyimage.com/512x512'</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">sizes</span><span class=\"token operator\">:</span> <span class=\"token string\">'512x512'</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">type</span><span class=\"token operator\">:</span> <span class=\"token string\">'image/png'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">]</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  navigator<span class=\"token punctuation\">.</span>mediaSession<span class=\"token punctuation\">.</span><span class=\"token function\">setActionHandler</span><span class=\"token punctuation\">(</span><span class=\"token string\">'play'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span> <span class=\"token comment\">/* Code excerpted. */</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  navigator<span class=\"token punctuation\">.</span>mediaSession<span class=\"token punctuation\">.</span><span class=\"token function\">setActionHandler</span><span class=\"token punctuation\">(</span><span class=\"token string\">'pause'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span> <span class=\"token comment\">/* Code excerpted. */</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  navigator<span class=\"token punctuation\">.</span>mediaSession<span class=\"token punctuation\">.</span><span class=\"token function\">setActionHandler</span><span class=\"token punctuation\">(</span><span class=\"token string\">'stop'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span> <span class=\"token comment\">/* Code excerpted. */</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  navigator<span class=\"token punctuation\">.</span>mediaSession<span class=\"token punctuation\">.</span><span class=\"token function\">setActionHandler</span><span class=\"token punctuation\">(</span><span class=\"token string\">'seekbackward'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span> <span class=\"token comment\">/* Code excerpted. */</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  navigator<span class=\"token punctuation\">.</span>mediaSession<span class=\"token punctuation\">.</span><span class=\"token function\">setActionHandler</span><span class=\"token punctuation\">(</span><span class=\"token string\">'seekforward'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span> <span class=\"token comment\">/* Code excerpted. */</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  navigator<span class=\"token punctuation\">.</span>mediaSession<span class=\"token punctuation\">.</span><span class=\"token function\">setActionHandler</span><span class=\"token punctuation\">(</span><span class=\"token string\">'seekto'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span> <span class=\"token comment\">/* Code excerpted. */</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  navigator<span class=\"token punctuation\">.</span>mediaSession<span class=\"token punctuation\">.</span><span class=\"token function\">setActionHandler</span><span class=\"token punctuation\">(</span><span class=\"token string\">'previoustrack'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span> <span class=\"token comment\">/* Code excerpted. */</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  navigator<span class=\"token punctuation\">.</span>mediaSession<span class=\"token punctuation\">.</span><span class=\"token function\">setActionHandler</span><span class=\"token punctuation\">(</span><span class=\"token string\">'nexttrack'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span> <span class=\"token comment\">/* Code excerpted. */</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  navigator<span class=\"token punctuation\">.</span>mediaSession<span class=\"token punctuation\">.</span><span class=\"token function\">setActionHandler</span><span class=\"token punctuation\">(</span><span class=\"token string\">'skipad'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span> <span class=\"token comment\">/* Code excerpted. */</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>The following example sets up two functions for playing and pausing, then uses them as callbacks with the relevant action handlers.</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">const</span> actionHandlers <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n  <span class=\"token comment\">// play</span>\n  <span class=\"token punctuation\">[</span>\n    <span class=\"token string\">'play'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token comment\">// play our audio</span>\n      <span class=\"token keyword\">await</span> audioEl<span class=\"token punctuation\">.</span><span class=\"token function\">play</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token comment\">// set playback state</span>\n      navigator<span class=\"token punctuation\">.</span>mediaSession<span class=\"token punctuation\">.</span>playbackState <span class=\"token operator\">=</span> <span class=\"token string\">\"playing\"</span><span class=\"token punctuation\">;</span>\n      <span class=\"token comment\">// update our status element</span>\n      <span class=\"token function\">updateStatus</span><span class=\"token punctuation\">(</span>allMeta<span class=\"token punctuation\">[</span>index<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Action: play  |  Track is playing…'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">[</span>\n    <span class=\"token string\">'pause'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token comment\">// pause out audio</span>\n      audioEl<span class=\"token punctuation\">.</span><span class=\"token function\">pause</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token comment\">// set playback state</span>\n      navigator<span class=\"token punctuation\">.</span>mediaSession<span class=\"token punctuation\">.</span>playbackState <span class=\"token operator\">=</span> <span class=\"token string\">\"paused\"</span><span class=\"token punctuation\">;</span>\n      <span class=\"token comment\">// update our status element</span>\n      <span class=\"token function\">updateStatus</span><span class=\"token punctuation\">(</span>allMeta<span class=\"token punctuation\">[</span>index<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Action: pause  |  Track has been paused…'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">]</span>\n\n<span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>action<span class=\"token punctuation\">,</span> handler<span class=\"token punctuation\">]</span> <span class=\"token keyword\">of</span> actionHandlers<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n    navigator<span class=\"token punctuation\">.</span>mediaSession<span class=\"token punctuation\">.</span><span class=\"token function\">setActionHandler</span><span class=\"token punctuation\">(</span>action<span class=\"token punctuation\">,</span> handler<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">The media session action \"</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>action<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">\" is not supported yet.</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>This example uses appropriate action handlers to allow seeking in either direction through the playing media.</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">let</span> skipTime <span class=\"token operator\">=</span> <span class=\"token number\">10</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// Time to skip in seconds</span>\n\nnavigator<span class=\"token punctuation\">.</span>mediaSession<span class=\"token punctuation\">.</span><span class=\"token function\">setActionHandler</span><span class=\"token punctuation\">(</span><span class=\"token string\">'seekbackward'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">evt</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n <span class=\"token comment\">// User clicked \"Seek Backward\" media notification icon.</span>\n audio<span class=\"token punctuation\">.</span>currentTime <span class=\"token operator\">=</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">max</span><span class=\"token punctuation\">(</span>audio<span class=\"token punctuation\">.</span>currentTime <span class=\"token operator\">-</span> skipTime<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nnavigator<span class=\"token punctuation\">.</span>mediaSession<span class=\"token punctuation\">.</span><span class=\"token function\">setActionHandler</span><span class=\"token punctuation\">(</span><span class=\"token string\">'seekforward'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">evt</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n <span class=\"token comment\">// User clicked \"Seek Forward\" media notification icon.</span>\n audio<span class=\"token punctuation\">.</span>currentTime <span class=\"token operator\">=</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">min</span><span class=\"token punctuation\">(</span>audio<span class=\"token punctuation\">.</span>currentTime <span class=\"token operator\">+</span> skipTime<span class=\"token punctuation\">,</span>\n               audio<span class=\"token punctuation\">.</span>duration<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<p>To remove a media action handler, assign it to null.</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code>navigator<span class=\"token punctuation\">.</span>mediaSession<span class=\"token punctuation\">.</span><span class=\"token function\">setActionHandler</span><span class=\"token punctuation\">(</span><span class=\"token string\">'nexttrack'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>"}},{"type":"prose","value":{"id":"supporting_multiple_actions_in_one_handler_function","title":"Supporting multiple actions in one handler function","isH3":true,"content":"<p>You can also, if you prefer, use a single function to handle multiple action types, by checking the value of the <code>action</code> property:</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">let</span> skipTime <span class=\"token operator\">=</span> <span class=\"token number\">7</span><span class=\"token punctuation\">;</span>\n\nnavigator<span class=\"token punctuation\">.</span>mediaSession<span class=\"token punctuation\">.</span><span class=\"token function\">setActionHandler</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"seekforward\"</span><span class=\"token punctuation\">,</span> handleSeek<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nnavigator<span class=\"token punctuation\">.</span>mediaSession<span class=\"token punctuation\">.</span><span class=\"token function\">setActionHandler</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"seekbackward\"</span><span class=\"token punctuation\">,</span> handleSeek<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">handleSeek</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">details</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">switch</span><span class=\"token punctuation\">(</span>details<span class=\"token punctuation\">.</span>action<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">case</span> <span class=\"token string\">\"seekforward\"</span><span class=\"token operator\">:</span>\n      audio<span class=\"token punctuation\">.</span>currentTime <span class=\"token operator\">=</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">min</span><span class=\"token punctuation\">(</span>audio<span class=\"token punctuation\">.</span>currentTime <span class=\"token operator\">+</span> skipTime<span class=\"token punctuation\">,</span>\n              audio<span class=\"token punctuation\">.</span>duration<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">case</span> <span class=\"token string\">\"seekbackward\"</span><span class=\"token operator\">:</span>\n      audio<span class=\"token punctuation\">.</span>currentTime <span class=\"token operator\">=</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">max</span><span class=\"token punctuation\">(</span>audio<span class=\"token punctuation\">.</span>currentTime <span class=\"token operator\">-</span> skipTime<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>Here, the <code>handleSeek()</code> function handles both <code>seekbackward</code> and <code>seekforward</code> actions.</p>"}},{"type":"specifications","value":{"title":"Specifications","id":"specifications","isH3":false,"specifications":[{"bcdSpecificationURL":"https://w3c.github.io/mediasession/#dom-mediasession-setactionhandler","title":"Media Session Standard"}],"query":"api.MediaSession.setActionHandler"}},{"type":"browser_compatibility","value":{"title":"Browser compatibility","id":"browser_compatibility","isH3":false,"query":"api.MediaSession.setActionHandler","dataURL":"/en-US/docs/Web/API/MediaSession/setActionHandler/bcd.json"}}],"toc":[{"text":"Syntax","id":"syntax"},{"text":"Description","id":"description"},{"text":"Examples","id":"examples"},{"text":"Specifications","id":"specifications"},{"text":"Browser compatibility","id":"browser_compatibility"}],"summary":"The setActionHandler() method of the MediaSession interface sets a handler for a media session action.\n  These actions let a web app receive notifications when the user engages a device's built-in physical or onscreen media controls, such as play, stop, or seek buttons.","popularity":0.0003,"modified":"2022-09-13T05:54:54.000Z","other_translations":[{"title":"MediaSession.setActionHandler()","locale":"zh-CN","native":"中文 (简体)"}],"source":{"folder":"en-us/web/api/mediasession/setactionhandler","github_url":"https://github.com/mdn/content/blob/style/old/files/en-us/web/api/mediasession/setactionhandler/index.md","last_commit_url":"https://github.com/mdn/content/commit/b7556b71e1fc3e89057671b372871e9f33d3f0b8","filename":"index.md"},"parents":[{"uri":"/en-US/docs/Web","title":"Web technology for developers"},{"uri":"/en-US/docs/Web/API","title":"Web APIs"},{"uri":"/en-US/docs/Web/API/MediaSession","title":"MediaSession"},{"uri":"/en-US/docs/Web/API/MediaSession/setActionHandler","title":"MediaSession.setActionHandler()"}],"pageTitle":"MediaSession.setActionHandler() - Web APIs | MDN","noIndexing":false}}