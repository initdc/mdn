{"doc":{"isMarkdown":true,"isTranslated":false,"isActive":true,"flaws":{},"title":"XRWebGLLayer.framebuffer","mdn_url":"/en-US/docs/Web/API/XRWebGLLayer/framebuffer","locale":"en-US","native":"English (US)","sidebarHTML":"<ol><li><strong><a href=\"/en-US/docs/Web/API/WebXR_Device_API\">WebXR Device API</a></strong></li><li><strong><a href=\"/en-US/docs/Web/API/XRWebGLLayer\"><code>XRWebGLLayer</code></a></strong></li><li class=\"toggle\"><details open=\"\"><summary>Constructor</summary><ol><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><a href=\"/en-US/docs/Web/API/XRWebGLLayer/XRWebGLLayer\"><code>XRWebGLLayer()</code></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>Properties</summary><ol><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><a href=\"/en-US/docs/Web/API/XRWebGLLayer/fixedFoveation\"><code>fixedFoveation</code></a></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><em><code>framebuffer</code></em></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><a href=\"/en-US/docs/Web/API/XRWebGLLayer/framebufferHeight\"><code>framebufferHeight</code></a></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><a href=\"/en-US/docs/Web/API/XRWebGLLayer/framebufferWidth\"><code>framebufferWidth</code></a></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><a href=\"/en-US/docs/Web/API/XRWebGLLayer/ignoreDepthValues\"><code>ignoreDepthValues</code></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>Methods</summary><ol><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><a href=\"/en-US/docs/Web/API/XRWebGLLayer/getViewport\"><code>getViewport()</code></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>Inheritance:</summary><ol><li><a href=\"/en-US/docs/Web/API/XRLayer\"><code>XRLayer</code></a></li><li><a href=\"/en-US/docs/Web/API/EventTarget\"><code>EventTarget</code></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>Related pages for WebXR Device API</summary><ol><li><a href=\"/en-US/docs/Web/API/Navigator/xr\"><code>Navigator.xr</code></a></li><li><a href=\"/en-US/docs/Web/API/WebGLRenderingContext/makeXRCompatible\"><code>WebGLRenderingContext.makeXRCompatible()</code></a></li><li><a href=\"/en-US/docs/Web/API/XRAnchor\"><code>XRAnchor</code></a></li><li><a href=\"/en-US/docs/Web/API/XRBoundedReferenceSpace\"><code>XRBoundedReferenceSpace</code></a></li><li><a href=\"/en-US/docs/Web/API/XRCPUDepthInformation\"><code>XRCPUDepthInformation</code></a></li><li><a href=\"/en-US/docs/Web/API/XRDepthInformation\"><code>XRDepthInformation</code></a></li><li><a href=\"/en-US/docs/Web/API/XRFrame\"><code>XRFrame</code></a></li><li><a href=\"/en-US/docs/Web/API/XRInputSource\"><code>XRInputSource</code></a></li><li><a href=\"/en-US/docs/Web/API/XRInputSourceArray\"><code>XRInputSourceArray</code></a></li><li><a href=\"/en-US/docs/Web/API/XRInputSourceEvent\"><code>XRInputSourceEvent</code></a></li><li><a href=\"/en-US/docs/Web/API/XRInputSourcesChangeEvent\"><code>XRInputSourcesChangeEvent</code></a></li><li><a href=\"/en-US/docs/Web/API/XRPose\"><code>XRPose</code></a></li><li><a href=\"/en-US/docs/Web/API/XRReferenceSpace\"><code>XRReferenceSpace</code></a></li><li><a href=\"/en-US/docs/Web/API/XRReferenceSpaceEvent\"><code>XRReferenceSpaceEvent</code></a></li><li><a href=\"/en-US/docs/Web/API/XRRenderState\"><code>XRRenderState</code></a></li><li><a href=\"/en-US/docs/Web/API/XRRigidTransform\"><code>XRRigidTransform</code></a></li><li><a href=\"/en-US/docs/Web/API/XRSession\"><code>XRSession</code></a></li><li><a href=\"/en-US/docs/Web/API/XRSessionEvent\"><code>XRSessionEvent</code></a></li><li><a href=\"/en-US/docs/Web/API/XRSpace\"><code>XRSpace</code></a></li><li><a href=\"/en-US/docs/Web/API/XRSystem\"><code>XRSystem</code></a></li><li><a href=\"/en-US/docs/Web/API/XRView\"><code>XRView</code></a></li><li><a href=\"/en-US/docs/Web/API/XRViewerPose\"><code>XRViewerPose</code></a></li><li><a href=\"/en-US/docs/Web/API/XRViewport\"><code>XRViewport</code></a></li><li><a href=\"/en-US/docs/Web/API/XRWebGLBinding\"><code>XRWebGLBinding</code></a></li><li><a href=\"/en-US/docs/Web/API/XRWebGLDepthInformation\"><code>XRWebGLDepthInformation</code></a></li></ol></details></li></ol>","body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<div class=\"notecard experimental\" id=\"sect1\"><p><strong>Experimental:</strong> <strong>This is an <a href=\"/en-US/docs/MDN/Writing_guidelines/Experimental_deprecated_obsolete#experimental\">experimental technology</a></strong><br>Check the <a href=\"#browser_compatibility\">Browser compatibility table</a> carefully before using this in production.</p></div>\n<p>\n  The read-only <a href=\"/en-US/docs/Web/API/XRWebGLLayer\"><code>XRWebGLLayer</code></a> property\n  <strong><code>framebuffer</code></strong> is an opaque <a href=\"/en-US/docs/Web/API/WebGLFramebuffer\"><code>WebGLFramebuffer</code></a>\n  which is used to buffer the rendered image if the <a href=\"/en-US/docs/Web/API/WebXR_Device_API/Fundamentals#the_webxr_compositor\">XR compositor</a> is being used. Otherwise, this property's value is\n  <code>null</code>. The opaque framebuffer is functionally nearly the same as a\n  standard WebGL framebuffer, except for the differences covered in the section\n  <a href=\"#how_opaque_framebuffers_are_special\">How opaque framebuffers are special</a> below.\n</p>"}},{"type":"prose","value":{"id":"value","title":"Value","isH3":false,"content":"<p>\n  A <a href=\"/en-US/docs/Web/API/WebGLFramebuffer\"><code>WebGLFramebuffer</code></a> object representing the framebuffer into which the 3D\n  scene is being rendered, or <code>null</code> if the <a href=\"/en-US/docs/Web/API/WebXR_Device_API/Fundamentals#the_webxr_compositor\">XR compositor</a> is disabled for the session.\n</p>"}},{"type":"prose","value":{"id":"usage_notes","title":"Usage notes","isH3":false,"content":""}},{"type":"prose","value":{"id":"how_opaque_framebuffers_are_special","title":"How opaque framebuffers are special","isH3":true,"content":"<p>\n  The framebuffer represented by the <code>framebuffer</code> property is opaque. As\n  such, its behavior is different in several ways from a standard WebGL context. These\n  differences cause the opaque framebuffer to behave more like the default WebGL\n  framebuffer:\n</p>\n<ul>\n  <li>\n    Opaque framebuffers <em>may</em> support <a href=\"/en-US/docs/Web/API/XRWebGLLayer/antialias\">anti-aliasing</a>, even under\n    WebGL 1.0, which don't normally do so.\n  </li>\n  <li>\n    Opaque framebuffers' attachments (buffers and the like) can't be inspected or\n    changed. Calling functions such as\n    <a href=\"/en-US/docs/Web/API/WebGLRenderingContext/framebufferTexture2D\" title=\"framebufferTexture2D()\"><code>framebufferTexture2D()</code></a>,\n    <a href=\"/en-US/docs/Web/API/WebGLRenderingContext/framebufferRenderbuffer\" title=\"framebufferRenderbuffer()\"><code>framebufferRenderbuffer()</code></a>, <a href=\"/en-US/docs/Web/API/WebGLRenderingContext/deleteFramebuffer\" title=\"deleteFramebuffer()\"><code>deleteFramebuffer()</code></a>, or\n    <a href=\"/en-US/docs/Web/API/WebGLRenderingContext/getFramebufferAttachmentParameter\" title=\"getFramebufferAttachmentParameter()\"><code>getFramebufferAttachmentParameter()</code></a> on an opaque framebuffer results in the WebGL\n    error <code>INVALID_OPERATION</code> (0x0502).\n  </li>\n  <li>\n    Opaque framebuffers are considered incomplete and are not available for rendering\n    other than while executing the <a href=\"/en-US/docs/Web/API/XRSession/requestAnimationFrame\" title=\"requestAnimationFrame()\"><code>requestAnimationFrame()</code></a> callback. Attempting to clear, draw to, or read from the\n    framebuffer results in a WebGL <code>INVALID_FRAMEBUFFER_OPERATION</code> error\n    (0x0506). Calling <a href=\"/en-US/docs/Web/API/WebGLRenderingContext/checkFramebufferStatus\" title=\"checkFramebufferStatus()\"><code>checkFramebufferStatus()</code></a> on the WebGL context from outside the animation frame\n    callback causes the WebGL <code>FRAMEBUFFER_UNSUPPORTED</code> error (0x8CDD) to be\n    reported.\n  </li>\n  <li>\n    Opaque framebuffers initialized with the <a class=\"page-not-created\" title=\"The documentation about this has not yet been written; please consider contributing!\"><code>depth</code></a> property set to <code>false</code> will not have a depth buffer and will\n    rely on the coordinates alone to determine distance.\n  </li>\n  <li>\n    Opaque framebuffers initialized without specifying a\n    <a class=\"page-not-created\" title=\"The documentation about this has not yet been written; please consider contributing!\"><code>stencil</code></a> will not have a stencil buffer.\n  </li>\n  <li>\n    Opaque framebuffers will not have an alpha channel available unless the\n    <a class=\"page-not-created\" title=\"The documentation about this has not yet been written; please consider contributing!\"><code>alpha</code></a> property is <code>true</code> when\n    creating the layer.\n  </li>\n  <li>\n    The XR compositor assumes that opaque framebuffers use colors with premultiplied\n    alpha, regardless of whether or not the WebGL context's\n    <a class=\"page-not-created\" title=\"The documentation about this has not yet been written; please consider contributing!\"><code>premultipliedAlpha</code></a> context\n    attribute is set.\n  </li>\n</ul>\n<div class=\"notecard note\" id=\"sect2\">\n  <p>\n    <strong>Note:</strong> The <code>depth</code> and <code>stencil</code> properties are\n    not required to be supported in order for a browser to be construed as having full\n    WebGL support.\n  </p>\n</div>"}},{"type":"prose","value":{"id":"the_default_configuration_of_a_new_framebuffer","title":"The default configuration of a new framebuffer","isH3":true,"content":"<p>\n  Upon creating a new <a href=\"/en-US/docs/Web/API/XRWebGLLayer\"><code>XRWebGLLayer</code></a>, its new framebuffer is initialized\n  just like the default framebuffer for any WebGL interface:\n</p>\n<ul>\n  <li>\n    The color buffer is configured with its clear value set to the color (0, 0, 0, 0)\n    (meaning transparent black).\n  </li>\n  <li>The depth buffer's clear value is the number 1.0.</li>\n  <li>The stencil buffer is filled with 0.</li>\n</ul>"}},{"type":"prose","value":{"id":"examples","title":"Examples","isH3":false,"content":"<p>\n  This example gets the <code>XRWebGLLayer</code> for a session and then passes its\n  framebuffer into the WebGL context's <a href=\"/en-US/docs/Web/API/WebGLRenderingContext/bindFramebuffer\" title=\"bindFramebuffer()\"><code>bindFramebuffer()</code></a> function.\n</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">let</span> glLayer <span class=\"token operator\">=</span> xrSession<span class=\"token punctuation\">.</span>renderState<span class=\"token punctuation\">.</span>baselayer<span class=\"token punctuation\">;</span>\ngl<span class=\"token punctuation\">.</span><span class=\"token function\">bindFramebuffer</span><span class=\"token punctuation\">(</span>gl<span class=\"token punctuation\">.</span><span class=\"token constant\">FRAMEBUFFER</span><span class=\"token punctuation\">,</span> glLayer<span class=\"token punctuation\">.</span>framebuffer<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>"}},{"type":"specifications","value":{"title":"Specifications","id":"specifications","isH3":false,"specifications":[{"bcdSpecificationURL":"https://immersive-web.github.io/webxr/#dom-xrwebgllayer-framebuffer","title":"WebXR Device API"}],"query":"api.XRWebGLLayer.framebuffer"}},{"type":"browser_compatibility","value":{"title":"Browser compatibility","id":"browser_compatibility","isH3":false,"query":"api.XRWebGLLayer.framebuffer","dataURL":"/en-US/docs/Web/API/XRWebGLLayer/framebuffer/bcd.json"}},{"type":"prose","value":{"id":"see_also","title":"See also","isH3":false,"content":"<ul>\n  <li><a href=\"/en-US/docs/Web/API/WebXR_Device_API\">WebXR Device API</a></li>\n  <li><a class=\"page-not-created\" title=\"The documentation about this has not yet been written; please consider contributing!\"><code>WebGLLayerInit</code></a></li>\n  <li><a class=\"page-not-created\" title=\"The documentation about this has not yet been written; please consider contributing!\"><code>WebGLContextAttributes</code></a></li>\n</ul>"}}],"toc":[{"text":"Value","id":"value"},{"text":"Usage notes","id":"usage_notes"},{"text":"Examples","id":"examples"},{"text":"Specifications","id":"specifications"},{"text":"Browser compatibility","id":"browser_compatibility"},{"text":"See also","id":"see_also"}],"summary":"The read-only XRWebGLLayer property\n  framebuffer is an opaque WebGLFramebuffer\n  which is used to buffer the rendered image if the XR compositor is being used. Otherwise, this property's value is\n  null. The opaque framebuffer is functionally nearly the same as a\n  standard WebGL framebuffer, except for the differences covered in the section\n  How opaque framebuffers are special below.","popularity":0,"modified":"2022-09-09T05:23:40.000Z","source":{"folder":"en-us/web/api/xrwebgllayer/framebuffer","github_url":"https://github.com/mdn/content/blob/style/old/files/en-us/web/api/xrwebgllayer/framebuffer/index.md","last_commit_url":"https://github.com/mdn/content/commit/073f70e052ff92ab715df3c20678c11c9b51747f","filename":"index.md"},"parents":[{"uri":"/en-US/docs/Web","title":"Web technology for developers"},{"uri":"/en-US/docs/Web/API","title":"Web APIs"},{"uri":"/en-US/docs/Web/API/XRWebGLLayer","title":"XRWebGLLayer"},{"uri":"/en-US/docs/Web/API/XRWebGLLayer/framebuffer","title":"XRWebGLLayer.framebuffer"}],"pageTitle":"XRWebGLLayer.framebuffer - Web APIs | MDN","noIndexing":false}}