{"doc":{"isMarkdown":true,"isTranslated":false,"isActive":true,"flaws":{},"title":"performance.now()","mdn_url":"/en-US/docs/Web/API/Performance/now","locale":"en-US","native":"English (US)","sidebarHTML":"<ol><li><strong><a href=\"/en-US/docs/Web/API/Performance\"><code>Performance</code></a></strong></li><li class=\"toggle\"><details open=\"\"><summary>Properties</summary><ol><li><svg class=\"icon icon-deprecated\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-deprecated\"></use>\n</svg><a href=\"/en-US/docs/Web/API/Performance/navigation\"><code>navigation</code></a></li><li><a href=\"/en-US/docs/Web/API/Performance/timeOrigin\"><code>timeOrigin</code></a></li><li><svg class=\"icon icon-deprecated\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-deprecated\"></use>\n</svg><a href=\"/en-US/docs/Web/API/Performance/timing\"><code>timing</code></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>Methods</summary><ol><li><a href=\"/en-US/docs/Web/API/Performance/clearMarks\"><code>clearMarks()</code></a></li><li><a href=\"/en-US/docs/Web/API/Performance/clearMeasures\"><code>clearMeasures()</code></a></li><li><a href=\"/en-US/docs/Web/API/Performance/clearResourceTimings\"><code>clearResourceTimings()</code></a></li><li><a href=\"/en-US/docs/Web/API/Performance/getEntries\"><code>getEntries()</code></a></li><li><a href=\"/en-US/docs/Web/API/Performance/getEntriesByName\"><code>getEntriesByName()</code></a></li><li><a href=\"/en-US/docs/Web/API/Performance/getEntriesByType\"><code>getEntriesByType()</code></a></li><li><a href=\"/en-US/docs/Web/API/Performance/mark\"><code>mark()</code></a></li><li><a href=\"/en-US/docs/Web/API/Performance/measure\"><code>measure()</code></a></li><li><em><code>now()</code></em></li><li><a href=\"/en-US/docs/Web/API/Performance/setResourceTimingBufferSize\"><code>setResourceTimingBufferSize()</code></a></li><li><a href=\"/en-US/docs/Web/API/Performance/toJSON\"><code>toJSON()</code></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>Events</summary><ol><li><a href=\"/en-US/docs/Web/API/Performance/resourcetimingbufferfull_event\"><code>resourcetimingbufferfull</code></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>Inheritance:</summary><ol><li><a href=\"/en-US/docs/Web/API/EventTarget\"><code>EventTarget</code></a></li></ol></details></li></ol>","body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<p>\n  The <strong><code>performance.now()</code></strong> method\n  returns a <a href=\"/en-US/docs/Web/API/DOMHighResTimeStamp\"><code>DOMHighResTimeStamp</code></a>, measured in milliseconds.\n</p><div class=\"notecard note\" id=\"sect1\">\n  <p><strong>Note:</strong> This feature is available in <a href=\"/en-US/docs/Web/API/Web_Workers_API\">Web Workers</a></p>\n</div>\n<p>The returned value represents the time elapsed since the <a href=\"/en-US/docs/Web/API/DOMHighResTimeStamp#the_time_origin\">time origin</a>.</p>\n<p>Bear in mind the following points:</p>\n<ul>\n  <li>\n    In dedicated workers created from a <a href=\"/en-US/docs/Web/API/Window\"><code>Window</code></a> context, the value in the\n    worker will be lower than <code>performance.now()</code> in the window who spawned\n    that worker. It used to be the same as <code>t0</code> of the main context, but this\n    was changed.\n  </li>\n  <li>\n    In shared or service workers, the value in the worker might be higher than that of\n    the main context because that window can be created after those workers.\n  </li>\n</ul>\n<p>\n  It's important to keep in mind that to mitigate potential security threats such as <a href=\"https://spectreattack.com/\" class=\"external\" rel=\" noopener\">Spectre</a>, browsers typically round the returned\n  value by some amount in order to be less predictable. This inherently introduces a\n  degree of inaccuracy by limiting the resolution or precision of the timer. For example,\n  Firefox rounds the returned time to 1 millisecond increments.\n</p>\n<p>\n  The precision of the returned value is subject to change if/when the security concerns\n  are alleviated through other means.\n</p>"}},{"type":"prose","value":{"id":"syntax","title":"Syntax","isH3":false,"content":"<div class=\"code-example\"><pre class=\"brush: js-nolint notranslate\">now()\n</pre></div>"}},{"type":"prose","value":{"id":"parameters","title":"Parameters","isH3":true,"content":"<p>None.</p>"}},{"type":"prose","value":{"id":"return_value","title":"Return value","isH3":true,"content":"<p>Returns a <a href=\"/en-US/docs/Web/API/DOMHighResTimeStamp\"><code>DOMHighResTimeStamp</code></a> measured in milliseconds.</p>"}},{"type":"prose","value":{"id":"examples","title":"Examples","isH3":false,"content":"<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">const</span> t0 <span class=\"token operator\">=</span> performance<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">doSomething</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> t1 <span class=\"token operator\">=</span> performance<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">Call to doSomething took </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>t1 <span class=\"token operator\">-</span> t0<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> milliseconds.</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<p>\n  Unlike other timing data available to JavaScript (for example <a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/now\"><code>Date.now</code></a>),\n  the timestamps returned by <code>performance.now()</code> are not limited to\n  one-millisecond resolution. Instead, they represent times as floating-point numbers with\n  up to microsecond precision.\n</p>\n<p>\n  Also unlike <code>Date.now()</code>, the values returned by\n  <code>performance.now()</code> always increase at a constant rate, independent of the\n  system clock (which might be adjusted manually or skewed by software like NTP).\n  Otherwise, <code>performance.timing.navigationStart + performance.now()</code> will be\n  approximately equal to <code>Date.now()</code>.\n</p>"}},{"type":"prose","value":{"id":"reduced_time_precision","title":"Reduced time precision","isH3":false,"content":"<p>\n  To offer protection against timing attacks and fingerprinting, the precision of\n  <code>performance.now()</code> might get rounded depending on browser settings.\n  In Firefox, the <code>privacy.reduceTimerPrecision</code> preference is enabled by\n  default and defaults to 1ms.\n</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token comment\">// reduced time precision (1ms) in Firefox 60</span>\nperformance<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// 8781416</span>\n<span class=\"token comment\">// 8781815</span>\n<span class=\"token comment\">// 8782206</span>\n<span class=\"token comment\">// …</span>\n\n<span class=\"token comment\">// reduced time precision with `privacy.resistFingerprinting` enabled</span>\nperformance<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// 8865400</span>\n<span class=\"token comment\">// 8866200</span>\n<span class=\"token comment\">// 8866700</span>\n<span class=\"token comment\">// …</span>\n</code></pre></div>\n<p>\n  In Firefox, you can also enable <code>privacy.resistFingerprinting</code> — this\n  changes the precision to 100ms or the value of\n  <code>privacy.resistFingerprinting.reduceTimerPrecision.microseconds</code>, whichever\n  is larger.\n</p>\n<p>\n  Starting with Firefox 79, high resolution timers can be used if you cross-origin\n  isolate your document using the <a href=\"/en-US/docs/Web/HTTP/Headers/Cross-Origin-Opener-Policy\"><code>Cross-Origin-Opener-Policy</code></a> and\n  <a href=\"/en-US/docs/Web/HTTP/Headers/Cross-Origin-Embedder-Policy\"><code>Cross-Origin-Embedder-Policy</code></a> headers:\n</p>\n<div class=\"code-example\"><pre class=\"brush: plain notranslate\">Cross-Origin-Opener-Policy: same-origin\nCross-Origin-Embedder-Policy: require-corp\n</pre></div>\n<p>\n  These headers ensure a top-level document does not share a browsing context group with\n  cross-origin documents. COOP process-isolates your document and potential attackers\n  can't access to your global object if they were opening it in a popup, preventing a set\n  of cross-origin attacks dubbed <a href=\"https://github.com/xsleaks/xsleaks\" class=\"external\" rel=\" noopener\">XS-Leaks</a>.\n</p>"}},{"type":"specifications","value":{"title":"Specifications","id":"specifications","isH3":false,"specifications":[{"bcdSpecificationURL":"https://w3c.github.io/hr-time/#dom-performance-now","title":"High Resolution Time"}],"query":"api.Performance.now"}},{"type":"browser_compatibility","value":{"title":"Browser compatibility","id":"browser_compatibility","isH3":false,"query":"api.Performance.now","dataURL":"/en-US/docs/Web/API/Performance/now/bcd.json"}},{"type":"prose","value":{"id":"see_also","title":"See also","isH3":false,"content":"<ul>\n  <li><a href=\"https://developer.chrome.com/blog/when-milliseconds-are-not-enough-performance-now/\" class=\"external\" rel=\" noopener\">When milliseconds are not enough: performance.now()</a>.</li>\n</ul>"}}],"toc":[{"text":"Syntax","id":"syntax"},{"text":"Examples","id":"examples"},{"text":"Reduced time precision","id":"reduced_time_precision"},{"text":"Specifications","id":"specifications"},{"text":"Browser compatibility","id":"browser_compatibility"},{"text":"See also","id":"see_also"}],"summary":"The performance.now() method\n  returns a DOMHighResTimeStamp, measured in milliseconds.","popularity":0.0072,"modified":"2022-09-13T06:09:49.000Z","other_translations":[{"title":"performance.now()","locale":"es","native":"Español"},{"title":"performance.now()","locale":"fr","native":"Français"},{"title":"performance.now()","locale":"ja","native":"日本語"},{"title":"performance.now()","locale":"ko","native":"한국어"},{"title":"performance.now()","locale":"pt-BR","native":"Português (do Brasil)"},{"title":"performance.now()","locale":"ru","native":"Русский"},{"title":"Performance.now()","locale":"zh-CN","native":"中文 (简体)"}],"source":{"folder":"en-us/web/api/performance/now","github_url":"https://github.com/mdn/content/blob/style/old/files/en-us/web/api/performance/now/index.md","last_commit_url":"https://github.com/mdn/content/commit/2b8f5d9a29f00aea5d2edfa78d1fb90c51752858","filename":"index.md"},"parents":[{"uri":"/en-US/docs/Web","title":"Web technology for developers"},{"uri":"/en-US/docs/Web/API","title":"Web APIs"},{"uri":"/en-US/docs/Web/API/Performance","title":"Performance"},{"uri":"/en-US/docs/Web/API/Performance/now","title":"performance.now()"}],"pageTitle":"performance.now() - Web APIs | MDN","noIndexing":false}}