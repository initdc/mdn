{"doc":{"isMarkdown":true,"isTranslated":false,"isActive":true,"flaws":{},"title":"Using the Web Storage API","mdn_url":"/en-US/docs/Web/API/Web_Storage_API/Using_the_Web_Storage_API","locale":"en-US","native":"English (US)","sidebarHTML":"<ol><li><strong><a href=\"/en-US/docs/Web/API/Web_Storage_API\">Web Storage API</a></strong></li><li class=\"toggle\"><details open=\"\"><summary>Guides</summary><ol><li><a href=\"/en-US/docs/Web/API/Web_Storage_API/Using_the_Web_Storage_API\">Using the Web Storage API</a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>Interfaces</summary><ol><li><a href=\"/en-US/docs/Web/API/Storage\"><code>Storage</code></a></li><li><a href=\"/en-US/docs/Web/API/StorageEvent\"><code>StorageEvent</code></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>Properties</summary><ol><li><a href=\"/en-US/docs/Web/API/Window/sessionStorage\"><code>Window.sessionStorage</code></a></li><li><a href=\"/en-US/docs/Web/API/Window/localStorage\"><code>Window.localStorage</code></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>Events</summary><ol><li><a href=\"/en-US/docs/Web/API/Window/storage_event\"><code>Window</code>: <code>storage</code></a></li></ol></details></li></ol>","body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<p>The Web Storage API provides mechanisms by which browsers can securely store key/value pairs.</p>\n<p>This article provides a walkthrough of how to make use of this technology.</p>"}},{"type":"prose","value":{"id":"basic_concepts","title":"Basic concepts","isH3":false,"content":"<p>Storage objects are simple key-value stores, similar to objects, but they stay intact through page loads. The keys and the values are always strings (note that, as with objects, integer keys will be automatically converted to strings). You can access these values like an object, or with the <a href=\"/en-US/docs/Web/API/Storage/getItem\"><code>Storage.getItem()</code></a> and <a href=\"/en-US/docs/Web/API/Storage/setItem\"><code>Storage.setItem()</code></a> methods. These three lines all set the (same) colorSetting entry:</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code>localStorage<span class=\"token punctuation\">.</span>colorSetting <span class=\"token operator\">=</span> <span class=\"token string\">'#a4509b'</span><span class=\"token punctuation\">;</span>\nlocalStorage<span class=\"token punctuation\">[</span><span class=\"token string\">'colorSetting'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token string\">'#a4509b'</span><span class=\"token punctuation\">;</span>\nlocalStorage<span class=\"token punctuation\">.</span><span class=\"token function\">setItem</span><span class=\"token punctuation\">(</span><span class=\"token string\">'colorSetting'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'#a4509b'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<div class=\"notecard note\" id=\"sect1\">\n  <p><strong>Note:</strong> It's recommended to use the Web Storage API (<code>setItem</code>, <code>getItem</code>, <code>removeItem</code>, <code>key</code>, <code>length</code>) to prevent the <a href=\"https://2ality.com/2012/01/objects-as-maps.html\" class=\"external\" rel=\" noopener\">pitfalls</a> associated with using plain objects as key-value stores.</p>\n</div>\n<p>The two mechanisms within Web Storage are as follows:</p>\n<ul>\n  <li><code>sessionStorage</code> maintains a separate storage area for each given origin that's available for the duration of the page session (as long as the browser is open, including page reloads and restores).</li>\n  <li><code>localStorage</code> does the same thing, but persists even when the browser is closed and reopened.</li>\n</ul>\n<p>These mechanisms are available via the <a href=\"/en-US/docs/Web/API/Window/sessionStorage\"><code>Window.sessionStorage</code></a> and <a href=\"/en-US/docs/Web/API/Window/localStorage\"><code>Window.localStorage</code></a> properties (to be more precise, in supporting browsers the <code>Window</code> object implements the <code>WindowLocalStorage</code> and <code>WindowSessionStorage</code> objects, which the <code>localStorage</code> and <code>sessionStorage</code> properties are members of) — invoking one of these will create an instance of the <a href=\"/en-US/docs/Web/API/Storage\"><code>Storage</code></a> object, through which data items can be set, retrieved, and removed. A different Storage object is used for the <code>sessionStorage</code> and <code>localStorage</code> for each origin — they function and are controlled separately.</p>\n<p>So, for example, initially calling <code>localStorage</code> on a document will return a <a href=\"/en-US/docs/Web/API/Storage\"><code>Storage</code></a> object; calling <code>sessionStorage</code> on a document will return a different <a href=\"/en-US/docs/Web/API/Storage\"><code>Storage</code></a> object. Both of these can be manipulated in the same way, but separately.</p>"}},{"type":"prose","value":{"id":"feature-detecting_localstorage","title":"Feature-detecting localStorage","isH3":false,"content":"<p>To be able to use localStorage, we should first verify that it is supported and available in the current browsing session.</p>"}},{"type":"prose","value":{"id":"testing_for_availability","title":"Testing for availability","isH3":true,"content":"<div class=\"notecard note\" id=\"sect2\">\n  <p><strong>Note:</strong> This API is available in current versions of all major browsers. Testing for availability is necessary only if you must support very old browsers, such as Internet Explorer 6 or 7, or in the limited circumstances described below.</p>\n</div>\n<p>Browsers that support localStorage have a property on the window object named <code>localStorage</code>. However, just asserting that the property exists may throw exceptions. If the <code>localStorage</code> object does exist, there is still no guarantee that the localStorage API is actually available, as various browsers offer settings that disable localStorage. So a browser may <em>support</em> localStorage, but not make it <em>available</em> to the scripts on the page.</p>\n<p>For example, for a document viewed in a browser's private browsing mode, some browsers might give us an empty <code>localStorage</code> object with a quota of zero, effectively making it unusable. Conversely, we might get a legitimate <code>QuotaExceededError</code>, which means that we've used up all available storage space, but storage <em>is</em> actually <em>available</em>. Our feature detection should take these scenarios into account.</p>\n<p>Here is a function that detects whether localStorage is both supported and available:</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">function</span> <span class=\"token function\">storageAvailable</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">type</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">let</span> storage<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n        storage <span class=\"token operator\">=</span> window<span class=\"token punctuation\">[</span>type<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">const</span> x <span class=\"token operator\">=</span> <span class=\"token string\">'__storage_test__'</span><span class=\"token punctuation\">;</span>\n        storage<span class=\"token punctuation\">.</span><span class=\"token function\">setItem</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">,</span> x<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        storage<span class=\"token punctuation\">.</span><span class=\"token function\">removeItem</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">return</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> e <span class=\"token keyword\">instanceof</span> <span class=\"token class-name\">DOMException</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token punctuation\">(</span>\n            <span class=\"token comment\">// everything except Firefox</span>\n            e<span class=\"token punctuation\">.</span>code <span class=\"token operator\">===</span> <span class=\"token number\">22</span> <span class=\"token operator\">||</span>\n            <span class=\"token comment\">// Firefox</span>\n            e<span class=\"token punctuation\">.</span>code <span class=\"token operator\">===</span> <span class=\"token number\">1014</span> <span class=\"token operator\">||</span>\n            <span class=\"token comment\">// test name field too, because code might not be present</span>\n            <span class=\"token comment\">// everything except Firefox</span>\n            e<span class=\"token punctuation\">.</span>name <span class=\"token operator\">===</span> <span class=\"token string\">'QuotaExceededError'</span> <span class=\"token operator\">||</span>\n            <span class=\"token comment\">// Firefox</span>\n            e<span class=\"token punctuation\">.</span>name <span class=\"token operator\">===</span> <span class=\"token string\">'NS_ERROR_DOM_QUOTA_REACHED'</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&amp;&amp;</span>\n            <span class=\"token comment\">// acknowledge QuotaExceededError only if there's something already stored</span>\n            <span class=\"token punctuation\">(</span>storage <span class=\"token operator\">&amp;&amp;</span> storage<span class=\"token punctuation\">.</span>length <span class=\"token operator\">!==</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>And here is how you would use it:</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token function\">storageAvailable</span><span class=\"token punctuation\">(</span><span class=\"token string\">'localStorage'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// Yippee! We can use localStorage awesomeness</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// Too bad, no localStorage for us</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>You can test for sessionStorage instead by calling <code>storageAvailable('sessionStorage')</code>.</p>\n<p>See here for a <a href=\"https://gist.github.com/paulirish/5558557\" class=\"external\" rel=\" noopener\">brief history of feature-detecting localStorage</a>.</p>"}},{"type":"prose","value":{"id":"example","title":"Example","isH3":false,"content":"<p>To illustrate some typical web storage usage, we have created an example, imaginatively called <strong>Web Storage Demo</strong>. The <a href=\"https://mdn.github.io/dom-examples/web-storage/\" class=\"external\" rel=\" noopener\">landing page</a> provides controls that can be used to customize the color, font, and decorative image:</p>\n<p>\n  <img src=\"/en-US/docs/Web/API/Web_Storage_API/Using_the_Web_Storage_API/landing.png\" alt=\"\" width=\"700\" height=\"482\" loading=\"lazy\">When you choose different options, the page is instantly updated; in addition, your choices are stored in <code>localStorage</code>, so that when you leave the page and load it again, later on, your choices are remembered.\n</p>\n<p>We have also provided an <a href=\"https://mdn.github.io/dom-examples/web-storage/event.html\" class=\"external\" rel=\" noopener\">event output page</a> — if you load this page in another tab, then make changes to your choices in the landing page, you'll see the updated storage information outputted as a <a href=\"/en-US/docs/Web/API/StorageEvent\"><code>StorageEvent</code></a> is fired.</p>\n<p>\n  <img src=\"/en-US/docs/Web/API/Web_Storage_API/Using_the_Web_Storage_API/event-output.png\" alt=\"\" width=\"700\" height=\"482\" loading=\"lazy\">\n</p>\n<div class=\"notecard note\" id=\"sect3\">\n  <p><strong>Note:</strong> As well as viewing the example pages live using the above links, you can also <a href=\"https://github.com/mdn/dom-examples/tree/main/web-storage\" class=\"external\" rel=\" noopener\">check out the source code</a>.</p>\n</div>"}},{"type":"prose","value":{"id":"testing_whether_your_storage_has_been_populated","title":"Testing whether your storage has been populated","isH3":true,"content":"<p>To start with, in <a href=\"https://github.com/mdn/dom-examples/blob/main/web-storage/main.js\" class=\"external\" rel=\" noopener\">main.js</a>, we test whether the storage object has already been populated (i.e., the page was previously accessed):</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>localStorage<span class=\"token punctuation\">.</span><span class=\"token function\">getItem</span><span class=\"token punctuation\">(</span><span class=\"token string\">'bgcolor'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">populateStorage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">setStyles</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>The <a href=\"/en-US/docs/Web/API/Storage/getItem\"><code>Storage.getItem()</code></a> method is used to get a data item from storage; in this case, we are testing to see whether the <code>bgcolor</code> item exists; if not, we run <code>populateStorage()</code> to add the existing customization values to the storage. If there are already values there, we run <code>setStyles()</code> to update the page styling with the stored values.</p>\n<div class=\"notecard note\" id=\"sect4\">\n  <p><strong>Note:</strong> You could also use <a href=\"/en-US/docs/Web/API/Storage/length\"><code>Storage.length</code></a> to test whether the storage object is empty or not.</p>\n</div>"}},{"type":"prose","value":{"id":"getting_values_from_storage","title":"Getting values from storage","isH3":true,"content":"<p>\n  As noted above, values can be retrieved from storage using <a href=\"/en-US/docs/Web/API/Storage/getItem\"><code>Storage.getItem()</code></a>.\n  This takes the key of the data item as an argument, and returns the data value.\n</p>\n<p>For example:</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">function</span> <span class=\"token function\">setStyles</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> currentColor <span class=\"token operator\">=</span> localStorage<span class=\"token punctuation\">.</span><span class=\"token function\">getItem</span><span class=\"token punctuation\">(</span><span class=\"token string\">'bgcolor'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> currentFont <span class=\"token operator\">=</span> localStorage<span class=\"token punctuation\">.</span><span class=\"token function\">getItem</span><span class=\"token punctuation\">(</span><span class=\"token string\">'font'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> currentImage <span class=\"token operator\">=</span> localStorage<span class=\"token punctuation\">.</span><span class=\"token function\">getItem</span><span class=\"token punctuation\">(</span><span class=\"token string\">'image'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">'bgcolor'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>value <span class=\"token operator\">=</span> currentColor<span class=\"token punctuation\">;</span>\n  document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">'font'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>value <span class=\"token operator\">=</span> currentFont<span class=\"token punctuation\">;</span>\n  document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">'image'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>value <span class=\"token operator\">=</span> currentImage<span class=\"token punctuation\">;</span>\n\n  htmlElem<span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">.</span>backgroundColor <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">#</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>currentColor<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span>\n  pElem<span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">.</span>fontFamily <span class=\"token operator\">=</span> currentFont<span class=\"token punctuation\">;</span>\n  imgElem<span class=\"token punctuation\">.</span><span class=\"token function\">setAttribute</span><span class=\"token punctuation\">(</span><span class=\"token string\">'src'</span><span class=\"token punctuation\">,</span> currentImage<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>\n  Here, the first three lines grab the values from local storage.\n  Next, we set the values displayed in the form elements to those values, so that they keep in sync when you reload the page.\n  Finally, we update the styles/decorative image on the page, so your customization options come up again on reload.\n</p>"}},{"type":"prose","value":{"id":"setting_values_in_storage","title":"Setting values in storage","isH3":true,"content":"<p><a href=\"/en-US/docs/Web/API/Storage/setItem\"><code>Storage.setItem()</code></a> is used both to create new data items, and (if the data item already exists) update existing values. This takes two arguments — the key of the data item to create/modify, and the value to store in it.</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">function</span> <span class=\"token function\">populateStorage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  localStorage<span class=\"token punctuation\">.</span><span class=\"token function\">setItem</span><span class=\"token punctuation\">(</span><span class=\"token string\">'bgcolor'</span><span class=\"token punctuation\">,</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">'bgcolor'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  localStorage<span class=\"token punctuation\">.</span><span class=\"token function\">setItem</span><span class=\"token punctuation\">(</span><span class=\"token string\">'font'</span><span class=\"token punctuation\">,</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">'font'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  localStorage<span class=\"token punctuation\">.</span><span class=\"token function\">setItem</span><span class=\"token punctuation\">(</span><span class=\"token string\">'image'</span><span class=\"token punctuation\">,</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">'image'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token function\">setStyles</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>The <code>populateStorage()</code> function sets three items in local storage — the background color, font, and image path. It then runs the <code>setStyles()</code> function to update the page styles, etc.</p>\n<p>We've also included an <code>onchange</code> handler on each form element so that the data and styling are updated whenever a form value is changed:</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code>bgcolorForm<span class=\"token punctuation\">.</span>onchange <span class=\"token operator\">=</span> populateStorage<span class=\"token punctuation\">;</span>\nfontForm<span class=\"token punctuation\">.</span>onchange <span class=\"token operator\">=</span> populateStorage<span class=\"token punctuation\">;</span>\nimageForm<span class=\"token punctuation\">.</span>onchange <span class=\"token operator\">=</span> populateStorage<span class=\"token punctuation\">;</span>\n</code></pre></div>"}},{"type":"prose","value":{"id":"responding_to_storage_changes_with_the_storageevent","title":"Responding to storage changes with the StorageEvent","isH3":true,"content":"<p>The <a href=\"/en-US/docs/Web/API/StorageEvent\"><code>StorageEvent</code></a> is fired whenever a change is made to the <a href=\"/en-US/docs/Web/API/Storage\"><code>Storage</code></a> object (note that this event is not fired for sessionStorage changes). This won't work on the same page that is making the changes — it is really a way for other pages on the domain using the storage to sync any changes that are made. Pages on other domains can't access the same storage objects.</p>\n<p>On the events page (see <a href=\"https://github.com/mdn/dom-examples/blob/main/web-storage/event.js\" class=\"external\" rel=\" noopener\">events.js</a>) the only JavaScript is as follows:</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code>window<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'storage'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">e</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n  document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.my-key'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>textContent <span class=\"token operator\">=</span> e<span class=\"token punctuation\">.</span>key<span class=\"token punctuation\">;</span>\n  document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.my-old'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>textContent <span class=\"token operator\">=</span> e<span class=\"token punctuation\">.</span>oldValue<span class=\"token punctuation\">;</span>\n  document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.my-new'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>textContent <span class=\"token operator\">=</span> e<span class=\"token punctuation\">.</span>newValue<span class=\"token punctuation\">;</span>\n  document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.my-url'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>textContent <span class=\"token operator\">=</span> e<span class=\"token punctuation\">.</span>url<span class=\"token punctuation\">;</span>\n  document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.my-storage'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>textContent <span class=\"token operator\">=</span> <span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">stringify</span><span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">.</span>storageArea<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<p>Here we add an event listener to the <code>window</code> object that fires when the <a href=\"/en-US/docs/Web/API/Storage\"><code>Storage</code></a> object associated with the current origin is changed. As you can see above, the event object associated with this event has a number of properties containing useful information — the key of the data that changed, the old value before the change, the new value after that change, the URL of the document that changed the storage, and the storage object itself (which we've stringified so you can see its content).</p>"}},{"type":"prose","value":{"id":"deleting_data_records","title":"Deleting data records","isH3":true,"content":"<p>Web Storage also provides a couple of simple methods to remove data. We don't use these in our demo, but they are very simple to add to your project:</p>\n<ul>\n  <li><a href=\"/en-US/docs/Web/API/Storage/removeItem\"><code>Storage.removeItem()</code></a> takes a single argument — the key of the data item you want to remove — and removes it from the storage object for that domain.</li>\n  <li><a href=\"/en-US/docs/Web/API/Storage/clear\"><code>Storage.clear()</code></a> takes no arguments, and empties the entire storage object for that domain.</li>\n</ul>"}},{"type":"specifications","value":{"title":"Specifications","id":"specifications","isH3":false,"query":"api.Window.localStorage,api.Window.sessionStorage","specifications":[]}},{"type":"browser_compatibility","value":{"title":"Browser compatibility","id":"browser_compatibility","isH3":false,"data":null,"query":"api.Window.localStorage,api.Window.sessionStorage","browsers":null}},{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<p>All browsers have varying capacity levels for both localStorage and sessionStorage. Here is a <a href=\"http://dev-test.nemikor.com/web-storage/support-test/\" class=\"external\" rel=\" noopener\">detailed rundown of all the storage capacities for various browsers</a>.</p>"}},{"type":"prose","value":{"id":"see_also","title":"See also","isH3":false,"content":"<ul>\n  <li><a href=\"/en-US/docs/Web/API/Web_Storage_API\">Web Storage API landing page</a></li>\n</ul>"}}],"toc":[{"text":"Basic concepts","id":"basic_concepts"},{"text":"Feature-detecting localStorage","id":"feature-detecting_localstorage"},{"text":"Example","id":"example"},{"text":"Specifications","id":"specifications"},{"text":"Browser compatibility","id":"browser_compatibility"},{"text":"See also","id":"see_also"}],"summary":"The Web Storage API provides mechanisms by which browsers can securely store key/value pairs.","popularity":0.0053,"modified":"2022-09-09T05:19:45.000Z","other_translations":[{"title":"Usando la API de almacenamiento web","locale":"es","native":"Español"},{"title":"Utiliser l'API Web Storage","locale":"fr","native":"Français"},{"title":"Web Storage API の使用","locale":"ja","native":"日本語"},{"title":"Web Storage API 사용하기","locale":"ko","native":"한국어"},{"title":"Usando a API Web Storage","locale":"pt-BR","native":"Português (do Brasil)"},{"title":"Использование Web Storage API","locale":"ru","native":"Русский"},{"title":"使用 Web Storage API","locale":"zh-CN","native":"中文 (简体)"}],"source":{"folder":"en-us/web/api/web_storage_api/using_the_web_storage_api","github_url":"https://github.com/mdn/content/blob/style/old/files/en-us/web/api/web_storage_api/using_the_web_storage_api/index.md","last_commit_url":"https://github.com/mdn/content/commit/f7dae62645a2c735ed6f6ed63f664bf279fdfc4b","filename":"index.md"},"parents":[{"uri":"/en-US/docs/Web","title":"Web technology for developers"},{"uri":"/en-US/docs/Web/API","title":"Web APIs"},{"uri":"/en-US/docs/Web/API/Web_Storage_API","title":"Web Storage API"},{"uri":"/en-US/docs/Web/API/Web_Storage_API/Using_the_Web_Storage_API","title":"Using the Web Storage API"}],"pageTitle":"Using the Web Storage API - Web APIs | MDN","noIndexing":false}}