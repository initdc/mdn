{"doc":{"isMarkdown":true,"isTranslated":false,"isActive":true,"flaws":{},"title":"XRRigidTransform.matrix","mdn_url":"/en-US/docs/Web/API/XRRigidTransform/matrix","locale":"en-US","native":"English (US)","hasMathML":true,"sidebarHTML":"<ol><li><strong><a href=\"/en-US/docs/Web/API/WebXR_Device_API\">WebXR Device API</a></strong></li><li><strong><a href=\"/en-US/docs/Web/API/XRRigidTransform\"><code>XRRigidTransform</code></a></strong></li><li class=\"toggle\"><details open=\"\"><summary>Constructor</summary><ol><li><a href=\"/en-US/docs/Web/API/XRRigidTransform/XRRigidTransform\"><code>XRRigidTransform()</code></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>Properties</summary><ol><li><a href=\"/en-US/docs/Web/API/XRRigidTransform/inverse\"><code>inverse</code></a></li><li><em><code>matrix</code></em></li><li><a href=\"/en-US/docs/Web/API/XRRigidTransform/orientation\"><code>orientation</code></a></li><li><a href=\"/en-US/docs/Web/API/XRRigidTransform/position\"><code>position</code></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>Related pages for WebXR Device API</summary><ol><li><a href=\"/en-US/docs/Web/API/Navigator/xr\"><code>Navigator.xr</code></a></li><li><a href=\"/en-US/docs/Web/API/WebGLRenderingContext/makeXRCompatible\"><code>WebGLRenderingContext.makeXRCompatible()</code></a></li><li><a href=\"/en-US/docs/Web/API/XRAnchor\"><code>XRAnchor</code></a></li><li><a href=\"/en-US/docs/Web/API/XRBoundedReferenceSpace\"><code>XRBoundedReferenceSpace</code></a></li><li><a href=\"/en-US/docs/Web/API/XRCPUDepthInformation\"><code>XRCPUDepthInformation</code></a></li><li><a href=\"/en-US/docs/Web/API/XRDepthInformation\"><code>XRDepthInformation</code></a></li><li><a href=\"/en-US/docs/Web/API/XRFrame\"><code>XRFrame</code></a></li><li><a href=\"/en-US/docs/Web/API/XRInputSource\"><code>XRInputSource</code></a></li><li><a href=\"/en-US/docs/Web/API/XRInputSourceArray\"><code>XRInputSourceArray</code></a></li><li><a href=\"/en-US/docs/Web/API/XRInputSourceEvent\"><code>XRInputSourceEvent</code></a></li><li><a href=\"/en-US/docs/Web/API/XRInputSourcesChangeEvent\"><code>XRInputSourcesChangeEvent</code></a></li><li><a href=\"/en-US/docs/Web/API/XRPose\"><code>XRPose</code></a></li><li><a href=\"/en-US/docs/Web/API/XRReferenceSpace\"><code>XRReferenceSpace</code></a></li><li><a href=\"/en-US/docs/Web/API/XRReferenceSpaceEvent\"><code>XRReferenceSpaceEvent</code></a></li><li><a href=\"/en-US/docs/Web/API/XRRenderState\"><code>XRRenderState</code></a></li><li><a href=\"/en-US/docs/Web/API/XRSession\"><code>XRSession</code></a></li><li><a href=\"/en-US/docs/Web/API/XRSessionEvent\"><code>XRSessionEvent</code></a></li><li><a href=\"/en-US/docs/Web/API/XRSpace\"><code>XRSpace</code></a></li><li><a href=\"/en-US/docs/Web/API/XRSystem\"><code>XRSystem</code></a></li><li><a href=\"/en-US/docs/Web/API/XRView\"><code>XRView</code></a></li><li><a href=\"/en-US/docs/Web/API/XRViewerPose\"><code>XRViewerPose</code></a></li><li><a href=\"/en-US/docs/Web/API/XRViewport\"><code>XRViewport</code></a></li><li><a href=\"/en-US/docs/Web/API/XRWebGLBinding\"><code>XRWebGLBinding</code></a></li><li><a href=\"/en-US/docs/Web/API/XRWebGLDepthInformation\"><code>XRWebGLDepthInformation</code></a></li><li><a href=\"/en-US/docs/Web/API/XRWebGLLayer\"><code>XRWebGLLayer</code></a></li></ol></details></li></ol>","body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<p>\n  The read-only <a href=\"/en-US/docs/Web/API/XRRigidTransform\"><code>XRRigidTransform</code></a> property\n  <strong><code>matrix</code></strong> returns the transform\n  matrix represented by the object. The returned matrix can then be premultiplied with a\n  column vector to rotate the\n  vector by the 3D rotation specified by the <a href=\"/en-US/docs/Web/API/XRRigidTransform/orientation\" title=\"orientation\"><code>orientation</code></a>, then translate\n  it by the <a href=\"/en-US/docs/Web/API/XRRigidTransform/position\" title=\"position\"><code>position</code></a>.\n</p>"}},{"type":"prose","value":{"id":"value","title":"Value","isH3":false,"content":"<p>\n  A <a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Float32Array\"><code>Float32Array</code></a> containing 16 entries which represents the 4x4 transform\n  matrix which is described by\n  the <a href=\"/en-US/docs/Web/API/XRRigidTransform/position\" title=\"position\"><code>position</code></a> and\n  <a href=\"/en-US/docs/Web/API/XRRigidTransform/orientation\" title=\"orientation\"><code>orientation</code></a> properties.\n</p>"}},{"type":"prose","value":{"id":"usage_notes","title":"Usage notes","isH3":false,"content":""}},{"type":"prose","value":{"id":"matrix_format","title":"Matrix format","isH3":true,"content":"<p>\n  All 4x4 transform matrices used in WebGL are stored in 16-element\n  <a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Float32Array\"><code>Float32Array</code></a>s. The values are stored\n  into the array in column-major order; that is, each column is written into the array\n  top-down before moving to the\n  right one column and writing the next column into the array. Thus, for an array [a0, a1,\n  a2, â€¦, a13, a14, a15], the\n  matrix looks like this:\n</p>\n<p>\n  <math display=\"block\">\n    <semantics>\n      <mrow>\n        <mo>[</mo>\n        <mtable rowspacing=\"0.5ex\">\n          <mtr>\n            <mtd>\n              <mi>a0</mi>\n            </mtd>\n            <mtd>\n              <mi>a4</mi>\n            </mtd>\n            <mtd>\n              <mi>a8</mi>\n            </mtd>\n            <mtd>\n              <mi>a12</mi>\n            </mtd>\n          </mtr>\n          <mtr>\n            <mtd>\n              <mi>a1</mi>\n            </mtd>\n            <mtd>\n              <mi>a5</mi>\n            </mtd>\n            <mtd>\n              <mi>a9</mi>\n            </mtd>\n            <mtd>\n              <mi>a13</mi>\n            </mtd>\n          </mtr>\n          <mtr>\n            <mtd>\n              <mi>a2</mi>\n            </mtd>\n            <mtd>\n              <mi>a6</mi>\n            </mtd>\n            <mtd>\n              <mi>a10</mi>\n            </mtd>\n            <mtd>\n              <mi>a14</mi>\n            </mtd>\n          </mtr>\n          <mtr>\n            <mtd>\n              <mi>a3</mi>\n            </mtd>\n            <mtd>\n              <mi>a7</mi>\n            </mtd>\n            <mtd>\n              <mi>a11</mi>\n            </mtd>\n            <mtd>\n              <mi>a15</mi>\n            </mtd>\n          </mtr>\n        </mtable>\n        <mo>]</mo>\n      </mrow>\n      <annotation encoding=\"TeX\">\n        \\begin{bmatrix} a[0] &amp; a[4] &amp; a[8] &amp; a[12]\\\n        a[1] &amp; a[5] &amp; a[9]\n        &amp; a[13]\\ a[2] &amp; a[6] &amp; a[10] &amp; a[14]\\ a[3] &amp; a[7] &amp;\n        a[11] &amp; a[15]\\ \\end{bmatrix}\n      </annotation>\n    </semantics>\n  </math>\n</p>\n<p>On the first request, the <code>matrix</code> gets computed. After that, it should be cached for performance reasons.</p>"}},{"type":"prose","value":{"id":"creating_the_matrix","title":"Creating the matrix","isH3":true,"content":"<p>\n  In this section, intended for more advanced readers, we cover how the API calculates\n  the matrix for the specified\n  transform. It begins by allocating a new matrix and writing a 4x4 identity matrix into\n  it:\n</p>\n<p>\n  <math display=\"block\">\n    <semantics>\n      <mrow>\n        <mo>[</mo>\n        <mtable rowspacing=\"0.5ex\">\n          <mtr>\n            <mtd>\n              <mn>1</mn>\n            </mtd>\n            <mtd>\n              <mn>0</mn>\n            </mtd>\n            <mtd>\n              <mn>0</mn>\n            </mtd>\n            <mtd>\n              <mn>0</mn>\n            </mtd>\n          </mtr>\n          <mtr>\n            <mtd>\n              <mn>0</mn>\n            </mtd>\n            <mtd>\n              <mn>1</mn>\n            </mtd>\n            <mtd>\n              <mn>0</mn>\n            </mtd>\n            <mtd>\n              <mn>0</mn>\n            </mtd>\n          </mtr>\n          <mtr>\n            <mtd>\n              <mn>0</mn>\n            </mtd>\n            <mtd>\n              <mn>0</mn>\n            </mtd>\n            <mtd>\n              <mn>1</mn>\n            </mtd>\n            <mtd>\n              <mn>0</mn>\n            </mtd>\n          </mtr>\n          <mtr>\n            <mtd>\n              <mn>0</mn>\n            </mtd>\n            <mtd>\n              <mn>0</mn>\n            </mtd>\n            <mtd>\n              <mn>0</mn>\n            </mtd>\n            <mtd>\n              <mn>1</mn>\n            </mtd>\n          </mtr>\n        </mtable>\n        <mo>]</mo>\n      </mrow>\n      <annotation encoding=\"TeX\">\n        \\begin{bmatrix} 1 &amp; 0 &amp; 0 &amp; 0\\ 0 &amp; 1\n        &amp; 0 &amp; 0\\ 0 &amp; 0 &amp;\n        1 &amp; 0\\ 0 &amp; 0 &amp; 0 &amp; 1 \\end{bmatrix}\n      </annotation>\n    </semantics>\n  </math>\n</p>\n<p>\n  This is a transform that will not change either the orientation or position of any\n  point, vector, or object to which\n  it's applied.\n</p>\n<p>\n  Next, the <code>position</code> is placed into the right-hand column, like this,\n  resulting in a translation matrix\n  that will transform a coordinate system by the specified distance in each dimension,\n  with no rotational change. Here\n  <em>p<sub>x</sub></em>, <em>p<sub>y</sub></em>, and <em>p<sub>z</sub></em>\n  are the values of the\n  <code>x</code>, <code>y</code>, and <code>z</code> members of the\n  <a href=\"/en-US/docs/Web/API/DOMPointReadOnly\"><code>DOMPointReadOnly</code></a>\n  <code>position</code>.\n</p>\n<p>\n  <math display=\"block\">\n    <semantics>\n      <mrow>\n        <mo>[</mo>\n        <mtable rowspacing=\"0.5ex\">\n          <mtr>\n            <mtd>\n              <mn>1</mn>\n            </mtd>\n            <mtd>\n              <mn>0</mn>\n            </mtd>\n            <mtd>\n              <mn>0</mn>\n            </mtd>\n            <mtd>\n              <msub>\n                <mi>p</mi>\n                <mi>x</mi>\n              </msub>\n            </mtd>\n          </mtr>\n          <mtr>\n            <mtd>\n              <mn>0</mn>\n            </mtd>\n            <mtd>\n              <mn>1</mn>\n            </mtd>\n            <mtd>\n              <mn>0</mn>\n            </mtd>\n            <mtd>\n              <msub>\n                <mi>p</mi>\n                <mi>y</mi>\n              </msub>\n            </mtd>\n          </mtr>\n          <mtr>\n            <mtd>\n              <mn>0</mn>\n            </mtd>\n            <mtd>\n              <mn>0</mn>\n            </mtd>\n            <mtd>\n              <mn>1</mn>\n            </mtd>\n            <mtd>\n              <msub>\n                <mi>p</mi>\n                <mi>z</mi>\n              </msub>\n            </mtd>\n          </mtr>\n          <mtr>\n            <mtd>\n              <mn>0</mn>\n            </mtd>\n            <mtd>\n              <mn>0</mn>\n            </mtd>\n            <mtd>\n              <mn>0</mn>\n            </mtd>\n            <mtd>\n              <mn>1</mn>\n            </mtd>\n          </mtr>\n        </mtable>\n        <mo>]</mo>\n      </mrow>\n      <annotation encoding=\"TeX\">\n        \\begin{bmatrix} 1 &amp; 0 &amp; 0 &amp; x\\ 0 &amp; 1\n        &amp; 0 &amp; y\\ 0 &amp; 0 &amp;\n        1 &amp; z\\ 0 &amp; 0 &amp; 0 &amp; 1 \\end{bmatrix}\n      </annotation>\n    </semantics>\n  </math>\n</p>\n<p>\n  Then a rotation matrix is created by computing a column-vector rotation matrix from the\n  unit quaternion specified by\n  <code>orientation</code>:\n</p>\n<p>\n  <math display=\"block\">\n    <semantics>\n      <mrow>\n        <mo>[</mo>\n        <mtable rowspacing=\"0.5ex\">\n          <mtr>\n            <mtd>\n              <mn>1</mn>\n              <mo>-</mo>\n              <mn>2</mn>\n              <mo stretchy=\"false\">(</mo>\n              <msubsup>\n                <mi>q</mi>\n                <mi>y</mi>\n                <mn>2</mn>\n              </msubsup>\n              <mo>+</mo>\n              <msubsup>\n                <mi>q</mi>\n                <mi>z</mi>\n                <mn>2</mn>\n              </msubsup>\n              <mo stretchy=\"false\">)</mo>\n            </mtd>\n            <mtd>\n              <mn>2</mn>\n              <mo stretchy=\"false\">(</mo>\n              <msub>\n                <mi>q</mi>\n                <mi>x</mi>\n              </msub>\n              <msub>\n                <mi>q</mi>\n                <mi>y</mi>\n              </msub>\n              <mo>-</mo>\n              <msub>\n                <mi>q</mi>\n                <mi>z</mi>\n              </msub>\n              <msub>\n                <mi>q</mi>\n                <mi>w</mi>\n              </msub>\n              <mo stretchy=\"false\">)</mo>\n            </mtd>\n            <mtd>\n              <mn>2</mn>\n              <mo stretchy=\"false\">(</mo>\n              <msub>\n                <mi>q</mi>\n                <mi>x</mi>\n              </msub>\n              <msub>\n                <mi>q</mi>\n                <mi>z</mi>\n              </msub>\n              <mo>+</mo>\n              <msub>\n                <mi>q</mi>\n                <mi>y</mi>\n              </msub>\n              <msub>\n                <mi>q</mi>\n                <mi>w</mi>\n              </msub>\n              <mo stretchy=\"false\">)</mo>\n            </mtd>\n            <mtd>\n              <mn>0</mn>\n            </mtd>\n          </mtr>\n          <mtr>\n            <mtd>\n              <mn>2</mn>\n              <mo stretchy=\"false\">(</mo>\n              <msub>\n                <mi>q</mi>\n                <mi>x</mi>\n              </msub>\n              <msub>\n                <mi>q</mi>\n                <mi>y</mi>\n              </msub>\n              <mo>+</mo>\n              <msub>\n                <mi>q</mi>\n                <mi>z</mi>\n              </msub>\n              <msub>\n                <mi>q</mi>\n                <mi>w</mi>\n              </msub>\n              <mo stretchy=\"false\">)</mo>\n            </mtd>\n            <mtd>\n              <mn>1</mn>\n              <mo>-</mo>\n              <mn>2</mn>\n              <mo stretchy=\"false\">(</mo>\n              <msubsup>\n                <mi>q</mi>\n                <mi>x</mi>\n                <mn>2</mn>\n              </msubsup>\n              <mo>+</mo>\n              <msubsup>\n                <mi>q</mi>\n                <mi>z</mi>\n                <mn>2</mn>\n              </msubsup>\n              <mo stretchy=\"false\">)</mo>\n            </mtd>\n            <mtd>\n              <mn>2</mn>\n              <mo stretchy=\"false\">(</mo>\n              <msub>\n                <mi>q</mi>\n                <mi>y</mi>\n              </msub>\n              <msub>\n                <mi>q</mi>\n                <mi>z</mi>\n              </msub>\n              <mo>-</mo>\n              <msub>\n                <mi>q</mi>\n                <mi>x</mi>\n              </msub>\n              <msub>\n                <mi>q</mi>\n                <mi>w</mi>\n              </msub>\n              <mo stretchy=\"false\">)</mo>\n            </mtd>\n            <mtd>\n              <mn>0</mn>\n            </mtd>\n          </mtr>\n          <mtr>\n            <mtd>\n              <mn>2</mn>\n              <mo stretchy=\"false\">(</mo>\n              <msub>\n                <mi>q</mi>\n                <mi>x</mi>\n              </msub>\n              <msub>\n                <mi>q</mi>\n                <mi>z</mi>\n              </msub>\n              <mo>-</mo>\n              <msub>\n                <mi>q</mi>\n                <mi>y</mi>\n              </msub>\n              <msub>\n                <mi>q</mi>\n                <mi>w</mi>\n              </msub>\n              <mo stretchy=\"false\">)</mo>\n            </mtd>\n            <mtd>\n              <mn>2</mn>\n              <mo stretchy=\"false\">(</mo>\n              <msub>\n                <mi>q</mi>\n                <mi>y</mi>\n              </msub>\n              <msub>\n                <mi>q</mi>\n                <mi>z</mi>\n              </msub>\n              <mo>+</mo>\n              <msub>\n                <mi>q</mi>\n                <mi>x</mi>\n              </msub>\n              <msub>\n                <mi>q</mi>\n                <mi>w</mi>\n              </msub>\n              <mo stretchy=\"false\">)</mo>\n            </mtd>\n            <mtd>\n              <mn>1</mn>\n              <mo>-</mo>\n              <mn>2</mn>\n              <mo stretchy=\"false\">(</mo>\n              <msubsup>\n                <mi>q</mi>\n                <mi>x</mi>\n                <mn>2</mn>\n              </msubsup>\n              <mo>+</mo>\n              <msubsup>\n                <mi>q</mi>\n                <mi>y</mi>\n                <mn>2</mn>\n              </msubsup>\n              <mo stretchy=\"false\">)</mo>\n            </mtd>\n            <mtd>\n              <mn>0</mn>\n            </mtd>\n          </mtr>\n          <mtr>\n            <mtd>\n              <mn>0</mn>\n            </mtd>\n            <mtd>\n              <mn>0</mn>\n            </mtd>\n            <mtd>\n              <mn>0</mn>\n            </mtd>\n            <mtd>\n              <mn>1</mn>\n            </mtd>\n          </mtr>\n        </mtable>\n        <mo>]</mo>\n      </mrow>\n      <annotation encoding=\"TeX\">\n        \\begin{bmatrix} 1 - 2(q_y^2 + q_z^2) &amp; 2(q_xq_y -\n        q_zq_w) &amp; 2(q_xq_z + q_yq_w)\n        &amp; p_x\\ 2(q_xq_y + q_zq_w) &amp; 1 - 2(q_x^2 + q_z^2) &amp; 2(q_yq_z - q_xq_w)\n        &amp; p_y\\ 2(q_xq_z -\n        q_yq_w) &amp; 2(q_yq_z + q_xq_w) &amp; 1 - 2(q_x^2 + q_y^2) &amp; p_z\\ 0 &amp; 0\n        &amp; 0 &amp; 1 \\end{bmatrix}\n      </annotation>\n    </semantics>\n  </math>\n</p>\n<p>\n  The final transform <code>matrix</code> is calculated by multiplying the translation\n  matrix by the rotation matrix,\n  in the order <code>(translation * rotation)</code>. This yields the final transform\n  matrix as returned by\n  <code>matrix</code>:\n</p>\n<p>\n  <math display=\"block\">\n    <semantics>\n      <mrow>\n        <mo>[</mo>\n        <mtable rowspacing=\"0.5ex\">\n          <mtr>\n            <mtd>\n              <mn>1</mn>\n              <mo>-</mo>\n              <mn>2</mn>\n              <mo stretchy=\"false\">(</mo>\n              <msubsup>\n                <mi>q</mi>\n                <mi>y</mi>\n                <mn>2</mn>\n              </msubsup>\n              <mo>+</mo>\n              <msubsup>\n                <mi>q</mi>\n                <mi>z</mi>\n                <mn>2</mn>\n              </msubsup>\n              <mo stretchy=\"false\">)</mo>\n            </mtd>\n            <mtd>\n              <mn>2</mn>\n              <mo stretchy=\"false\">(</mo>\n              <msub>\n                <mi>q</mi>\n                <mi>x</mi>\n              </msub>\n              <msub>\n                <mi>q</mi>\n                <mi>y</mi>\n              </msub>\n              <mo>-</mo>\n              <msub>\n                <mi>q</mi>\n                <mi>z</mi>\n              </msub>\n              <msub>\n                <mi>q</mi>\n                <mi>w</mi>\n              </msub>\n              <mo stretchy=\"false\">)</mo>\n            </mtd>\n            <mtd>\n              <mn>2</mn>\n              <mo stretchy=\"false\">(</mo>\n              <msub>\n                <mi>q</mi>\n                <mi>x</mi>\n              </msub>\n              <msub>\n                <mi>q</mi>\n                <mi>z</mi>\n              </msub>\n              <mo>+</mo>\n              <msub>\n                <mi>q</mi>\n                <mi>y</mi>\n              </msub>\n              <msub>\n                <mi>q</mi>\n                <mi>w</mi>\n              </msub>\n              <mo stretchy=\"false\">)</mo>\n            </mtd>\n            <mtd>\n              <msub>\n                <mi>p</mi>\n                <mi>x</mi>\n              </msub>\n            </mtd>\n          </mtr>\n          <mtr>\n            <mtd>\n              <mn>2</mn>\n              <mo stretchy=\"false\">(</mo>\n              <msub>\n                <mi>q</mi>\n                <mi>x</mi>\n              </msub>\n              <msub>\n                <mi>q</mi>\n                <mi>y</mi>\n              </msub>\n              <mo>+</mo>\n              <msub>\n                <mi>q</mi>\n                <mi>z</mi>\n              </msub>\n              <msub>\n                <mi>q</mi>\n                <mi>w</mi>\n              </msub>\n              <mo stretchy=\"false\">)</mo>\n            </mtd>\n            <mtd>\n              <mn>1</mn>\n              <mo>-</mo>\n              <mn>2</mn>\n              <mo stretchy=\"false\">(</mo>\n              <msubsup>\n                <mi>q</mi>\n                <mi>x</mi>\n                <mn>2</mn>\n              </msubsup>\n              <mo>+</mo>\n              <msubsup>\n                <mi>q</mi>\n                <mi>z</mi>\n                <mn>2</mn>\n              </msubsup>\n              <mo stretchy=\"false\">)</mo>\n            </mtd>\n            <mtd>\n              <mn>2</mn>\n              <mo stretchy=\"false\">(</mo>\n              <msub>\n                <mi>q</mi>\n                <mi>y</mi>\n              </msub>\n              <msub>\n                <mi>q</mi>\n                <mi>z</mi>\n              </msub>\n              <mo>-</mo>\n              <msub>\n                <mi>q</mi>\n                <mi>x</mi>\n              </msub>\n              <msub>\n                <mi>q</mi>\n                <mi>w</mi>\n              </msub>\n              <mo stretchy=\"false\">)</mo>\n            </mtd>\n            <mtd>\n              <msub>\n                <mi>p</mi>\n                <mi>y</mi>\n              </msub>\n            </mtd>\n          </mtr>\n          <mtr>\n            <mtd>\n              <mn>2</mn>\n              <mo stretchy=\"false\">(</mo>\n              <msub>\n                <mi>q</mi>\n                <mi>x</mi>\n              </msub>\n              <msub>\n                <mi>q</mi>\n                <mi>z</mi>\n              </msub>\n              <mo>-</mo>\n              <msub>\n                <mi>q</mi>\n                <mi>y</mi>\n              </msub>\n              <msub>\n                <mi>q</mi>\n                <mi>w</mi>\n              </msub>\n              <mo stretchy=\"false\">)</mo>\n            </mtd>\n            <mtd>\n              <mn>2</mn>\n              <mo stretchy=\"false\">(</mo>\n              <msub>\n                <mi>q</mi>\n                <mi>y</mi>\n              </msub>\n              <msub>\n                <mi>q</mi>\n                <mi>z</mi>\n              </msub>\n              <mo>+</mo>\n              <msub>\n                <mi>q</mi>\n                <mi>x</mi>\n              </msub>\n              <msub>\n                <mi>q</mi>\n                <mi>w</mi>\n              </msub>\n              <mo stretchy=\"false\">)</mo>\n            </mtd>\n            <mtd>\n              <mn>1</mn>\n              <mo>-</mo>\n              <mn>2</mn>\n              <mo stretchy=\"false\">(</mo>\n              <msubsup>\n                <mi>q</mi>\n                <mi>x</mi>\n                <mn>2</mn>\n              </msubsup>\n              <mo>+</mo>\n              <msubsup>\n                <mi>q</mi>\n                <mi>y</mi>\n                <mn>2</mn>\n              </msubsup>\n              <mo stretchy=\"false\">)</mo>\n            </mtd>\n            <mtd>\n              <msub>\n                <mi>p</mi>\n                <mi>z</mi>\n              </msub>\n            </mtd>\n          </mtr>\n          <mtr>\n            <mtd>\n              <mn>0</mn>\n            </mtd>\n            <mtd>\n              <mn>0</mn>\n            </mtd>\n            <mtd>\n              <mn>0</mn>\n            </mtd>\n            <mtd>\n              <mn>1</mn>\n            </mtd>\n          </mtr>\n        </mtable>\n        <mo>]</mo>\n      </mrow>\n      <annotation encoding=\"TeX\">\n        \\begin{bmatrix} 1 - 2(q_y^2 + q_z^2) &amp; 2(q_xq_y -\n        q_zq_w) &amp; 2(q_xq_z + q_yq_w)\n        &amp; p_x\\ 2(q_xq_y + q_zq_w) &amp; 1 - 2(q_x^2 + q_z^2) &amp; 2(q_yq_z - q_xq_w)\n        &amp; p_y\\ 2(q_xq_z -\n        q_yq_w) &amp; 2(q_yq_z + q_xq_w) &amp; 1 - 2(q_x^2 + q_y^2) &amp; p_z\\ 0 &amp; 0\n        &amp; 0 &amp; 1 \\end{bmatrix}\n      </annotation>\n    </semantics>\n  </math>\n</p>"}},{"type":"prose","value":{"id":"examples","title":"Examples","isH3":false,"content":"<p>\n  In this example, a transform is created to create a matrix which can be used as a\n  transform during rendering of WebGL\n  objects, in order to place objects to match a given offset and orientation. The\n  <code>matrix</code> is then passed\n  into a library function that uses WebGL to render an object matching a given name using\n  the transform matrix specified\n  to position and orient it.\n</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">let</span> transform <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">XRRigidTransform</span><span class=\"token punctuation\">(</span>\n                      <span class=\"token punctuation\">{</span><span class=\"token literal-property property\">x</span><span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">y</span><span class=\"token operator\">:</span> <span class=\"token number\">0.5</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">z</span><span class=\"token operator\">:</span> <span class=\"token number\">0.5</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n                      <span class=\"token punctuation\">{</span><span class=\"token literal-property property\">x</span><span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">y</span><span class=\"token operator\">:</span> <span class=\"token operator\">-</span><span class=\"token number\">0.5</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">z</span><span class=\"token operator\">:</span> <span class=\"token operator\">-</span><span class=\"token number\">0.5</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">w</span><span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">drawGLObject</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"magic-lamp\"</span><span class=\"token punctuation\">,</span> transform<span class=\"token punctuation\">.</span>matrix<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>"}},{"type":"specifications","value":{"title":"Specifications","id":"specifications","isH3":false,"specifications":[{"bcdSpecificationURL":"https://immersive-web.github.io/webxr/#dom-xrrigidtransform-matrix","title":"WebXR Device API"}],"query":"api.XRRigidTransform.matrix"}},{"type":"browser_compatibility","value":{"title":"Browser compatibility","id":"browser_compatibility","isH3":false,"query":"api.XRRigidTransform.matrix","dataURL":"/en-US/docs/Web/API/XRRigidTransform/matrix/bcd.json"}}],"toc":[{"text":"Value","id":"value"},{"text":"Usage notes","id":"usage_notes"},{"text":"Examples","id":"examples"},{"text":"Specifications","id":"specifications"},{"text":"Browser compatibility","id":"browser_compatibility"}],"summary":"The read-only XRRigidTransform property\n  matrix returns the transform\n  matrix represented by the object. The returned matrix can then be premultiplied with a\n  column vector to rotate the\n  vector by the 3D rotation specified by the orientation, then translate\n  it by the position.","popularity":0,"modified":"2022-09-09T05:23:40.000Z","other_translations":[{"title":"XRRigidTransform.matrix","locale":"ja","native":"æ—¥æœ¬èªž"}],"source":{"folder":"en-us/web/api/xrrigidtransform/matrix","github_url":"https://github.com/mdn/content/blob/style/old/files/en-us/web/api/xrrigidtransform/matrix/index.md","last_commit_url":"https://github.com/mdn/content/commit/073f70e052ff92ab715df3c20678c11c9b51747f","filename":"index.md"},"parents":[{"uri":"/en-US/docs/Web","title":"Web technology for developers"},{"uri":"/en-US/docs/Web/API","title":"Web APIs"},{"uri":"/en-US/docs/Web/API/XRRigidTransform","title":"XRRigidTransform"},{"uri":"/en-US/docs/Web/API/XRRigidTransform/matrix","title":"XRRigidTransform.matrix"}],"pageTitle":"XRRigidTransform.matrix - Web APIs | MDN","noIndexing":false}}