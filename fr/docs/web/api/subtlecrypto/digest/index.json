{"doc":{"isMarkdown":true,"isTranslated":true,"isActive":true,"flaws":{},"title":"SubtleCrypto.digest()","mdn_url":"/fr/docs/Web/API/SubtleCrypto/digest","locale":"fr","native":"Français","sidebarHTML":"<ol><li><strong><a href=\"/fr/docs/Web/API/Web_Crypto_API\">Web Crypto API</a></strong></li><li><strong><a href=\"/fr/docs/Web/API/SubtleCrypto\"><code>SubtleCrypto</code></a></strong></li><li class=\"toggle\"><details open=\"\"><summary>Méthodes</summary><ol><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/SubtleCrypto/decrypt\"><code>decrypt()</code> <small>(en-US)</small></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/SubtleCrypto/deriveBits\"><code>deriveBits()</code> <small>(en-US)</small></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/SubtleCrypto/deriveKey\"><code>deriveKey()</code> <small>(en-US)</small></a></li><li><em><code>digest()</code></em></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/SubtleCrypto/encrypt\"><code>encrypt()</code> <small>(en-US)</small></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/SubtleCrypto/exportKey\"><code>exportKey()</code> <small>(en-US)</small></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/SubtleCrypto/generateKey\"><code>generateKey()</code> <small>(en-US)</small></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/SubtleCrypto/importKey\"><code>importKey()</code> <small>(en-US)</small></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/SubtleCrypto/sign\"><code>sign()</code> <small>(en-US)</small></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/SubtleCrypto/unwrapKey\"><code>unwrapKey()</code> <small>(en-US)</small></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/SubtleCrypto/verify\"><code>verify()</code> <small>(en-US)</small></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/SubtleCrypto/wrapKey\"><code>wrapKey()</code> <small>(en-US)</small></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>Pages liées à Web Crypto API</summary><ol><li><a href=\"/fr/docs/Web/API/Crypto\"><code>Crypto</code></a></li><li><a href=\"/fr/docs/Web/API/CryptoKey\"><code>CryptoKey</code></a></li><li><a href=\"/fr/docs/Web/API/crypto_property\"><code>crypto_property</code></a></li></ol></details></li></ol>","body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<div class=\"notecard secure\" id=\"sect1\"><p><strong>Contexte sécurisé:</strong> Cette fonctionnalité est uniquement disponible dans des <a href=\"/fr/docs/Web/Security/Secure_Contexts\">contextes sécurisés</a> (HTTPS), pour certains <a href=\"#compatibilité_des_navigateurs\">navigateurs qui la prennent en charge</a>.</p></div>\n<p>La méthode <strong><code>digest()</code></strong> de l'interface <a href=\"/fr/docs/Web/API/SubtleCrypto\"><code>SubtleCrypto</code></a> génère un <a href=\"/fr/docs/Glossary/Digest\">digest</a> de la donnée fournie. Un condensé est une petite valeur de taille fixe issue d'une donnée de taille variable. Les condensés cryptographiques doivent résister à la collision, ce qui signifie qu'il doit être très difficile d'obtenir le même condensé à partir de deux entrés différentes.</p>\n<p>Il prend en argument un identifiant pour l'algorithme de condensé et les données à traiter. Il retourne une <a href=\"/fr/docs/Web/JavaScript/Reference/Global_Objects/Promise\"><code>Promise</code></a> qui contiendra le condensé.</p>"}},{"type":"prose","value":{"id":"syntaxe","title":"Syntaxe","isH3":false,"content":"<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">const</span> digest <span class=\"token operator\">=</span> crypto<span class=\"token punctuation\">.</span>subtle<span class=\"token punctuation\">.</span><span class=\"token function\">digest</span><span class=\"token punctuation\">(</span>algorithm<span class=\"token punctuation\">,</span> data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>"}},{"type":"prose","value":{"id":"paramètres","title":"Paramètres","isH3":true,"content":"<ul>\n  <li><em><code>algorithm</code></em> est une <a href=\"/fr/docs/Web/JavaScript/Reference/Global_Objects/String\"><code>DOMString</code></a> indiquant la fonction de condensé à utiliser. Les valeurs possibles sont:\n    <ul>\n      <li><code>SHA-1</code> (ne pas utiliser pour des applications cryptographiques)</li>\n      <li><code>SHA-256</code></li>\n      <li><code>SHA-384</code></li>\n      <li><code>SHA-512</code>.</li>\n    </ul>\n  </li>\n  <li><em><code>data</code></em> est un <a href=\"/fr/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer\"><code>ArrayBuffer</code></a> ou un <a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray\"><code>ArrayBufferView</code> <small>(en-US)</small></a> contenant les données à traiter.</li>\n</ul>"}},{"type":"prose","value":{"id":"valeur_retournée","title":"Valeur retournée","isH3":true,"content":"<ul>\n  <li><code>digest</code> est une <a href=\"/fr/docs/Web/JavaScript/Reference/Global_Objects/Promise\"><code>Promise</code></a> pour accéder <a href=\"/fr/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer\"><code>ArrayBuffer</code></a> au condensé.</li>\n</ul>"}},{"type":"prose","value":{"id":"algorithmes_supportés","title":"Algorithmes supportés","isH3":false,"content":"<p>Les algorithmes de condensé, aussi connue sous le nom de <a href=\"/fr/docs/Glossary/Cryptographic_hash_function\">fonctions de hachage cryptographique</a>, transforme un bloque de données de longueur arbitraire dans un résultat de taille fixe, souvent plus petit que l'entré. Ils ont de nombreuses utilisations en cryptographie.</p>"}},{"type":"prose","value":{"id":"sha-1","title":"SHA-1","isH3":true,"content":"<p>Cet algorithme est spécifié dans <a href=\"https://nvlpubs.nist.gov/nistpubs/FIPS/NIST.FIPS.180-4.pdf\" class=\"external\" rel=\" noopener\">FIPS 180-4</a>, section 6.1, et produit un résultat de 160 bits de long.</p>\n<div class=\"notecard warning\" id=\"sect2\">\n  <p><strong>Attention :</strong> Cet algorithme est maintenant considérer comme vulnérable et ne doit pas être utilisé pour des applications cryptographiques.</p>\n</div>"}},{"type":"prose","value":{"id":"sha-256","title":"SHA-256","isH3":true,"content":"<p>Cet algorithme est spécifié dans <a href=\"https://nvlpubs.nist.gov/nistpubs/FIPS/NIST.FIPS.180-4.pdf\" class=\"external\" rel=\" noopener\">FIPS 180-4</a>, section 6.2, et produit un résultat de 256 bits de long.</p>"}},{"type":"prose","value":{"id":"sha-384","title":"SHA-384","isH3":true,"content":"<p>Cet algorithme est spécifié dans <a href=\"https://nvlpubs.nist.gov/nistpubs/FIPS/NIST.FIPS.180-4.pdf\" class=\"external\" rel=\" noopener\">FIPS 180-4</a>, section 6.5, et produit un résultat de 384 bits de long.</p>"}},{"type":"prose","value":{"id":"sha-512","title":"SHA-512","isH3":true,"content":"<p>Cet algorithme est spécifié dans <a href=\"https://nvlpubs.nist.gov/nistpubs/FIPS/NIST.FIPS.180-4.pdf\" class=\"external\" rel=\" noopener\">FIPS 180-4</a>, section 6.4, et produit un résultat de 512 bits de long.</p>\n<div class=\"notecard note\" id=\"sect3\">\n  <p><strong>Note :</strong> Si vous cherchez à créer un condensé pour authentifié un message (<a href=\"/fr/docs/Glossary/HMAC\">HMAC</a>), vous aurez plutôt besoin de <a href=\"/en-US/docs/Web/API/SubtleCrypto/sign\" class=\"only-in-en-us\" title=\"Currently only available in English (US)\">SubtleCrypto.sign() (en-US)</a>.</p>\n</div>"}},{"type":"prose","value":{"id":"exemples","title":"Exemples","isH3":false,"content":""}},{"type":"prose","value":{"id":"exemple_basique","title":"Exemple basique","isH3":true,"content":"<p>Cet exemple encode un message, puis calcule le condensé avec SHA-256, enfin affiche la longueur du résultat.</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">const</span> text <span class=\"token operator\">=</span> <span class=\"token string\">'Un obscur message venant du le système S-K, votre majesté. Ses habitants le nomment la planète Terre.'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">digestMessage</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">message</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> encoder <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">TextEncoder</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> data <span class=\"token operator\">=</span> encoder<span class=\"token punctuation\">.</span><span class=\"token function\">encode</span><span class=\"token punctuation\">(</span>message<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> hash <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> crypto<span class=\"token punctuation\">.</span>subtle<span class=\"token punctuation\">.</span><span class=\"token function\">digest</span><span class=\"token punctuation\">(</span><span class=\"token string\">'SHA-256'</span><span class=\"token punctuation\">,</span> data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> hash<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> digestBuffer <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">digestMessage</span><span class=\"token punctuation\">(</span>text<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>digestBuffer<span class=\"token punctuation\">.</span>byteLength<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>"}},{"type":"prose","value":{"id":"convertir_un_condensé_vers_une_chaîne_hexadécimale","title":"Convertir un condensé vers une chaîne hexadécimale","isH3":true,"content":"<p>Le condensé est retourné sous forme d'un <code>ArrayBuffer</code>, mais la comparaison et l'affichage se fait souvent avec des chaînes hexadécimales. Cet exemple calcule un condensé puis converti l'<code>ArrayBuffer</code> vers une chaîne hexadécimale.</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">const</span> text <span class=\"token operator\">=</span> <span class=\"token string\">'Un obscur message venant du le système S-K, votre majesté. Ses habitants le nomment la planète Terre.'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">digestMessage</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">message</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> msgUint8 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">TextEncoder</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">encode</span><span class=\"token punctuation\">(</span>message<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>                           <span class=\"token comment\">// encode comme (utf-8) Uint8Array</span>\n  <span class=\"token keyword\">const</span> hashBuffer <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> crypto<span class=\"token punctuation\">.</span>subtle<span class=\"token punctuation\">.</span><span class=\"token function\">digest</span><span class=\"token punctuation\">(</span><span class=\"token string\">'SHA-256'</span><span class=\"token punctuation\">,</span> msgUint8<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>           <span class=\"token comment\">// fait le condensé</span>\n  <span class=\"token keyword\">const</span> hashArray <span class=\"token operator\">=</span> Array<span class=\"token punctuation\">.</span><span class=\"token function\">from</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">Uint8Array</span><span class=\"token punctuation\">(</span>hashBuffer<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>                     <span class=\"token comment\">// convertit le buffer en tableau d'octet</span>\n  <span class=\"token keyword\">const</span> hashHex <span class=\"token operator\">=</span> hashArray<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">b</span> <span class=\"token operator\">=&gt;</span> b<span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token number\">16</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">padStart</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'0'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span><span class=\"token string\">''</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// convertit le tableau en chaîne hexadélimale</span>\n  <span class=\"token keyword\">return</span> hashHex<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> digestHex <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">digestMessage</span><span class=\"token punctuation\">(</span>text<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>digestHex<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>"}},{"type":"specifications","value":{"title":"Spécifications","id":"spécifications","isH3":false,"specifications":[{"bcdSpecificationURL":"https://w3c.github.io/webcrypto/#SubtleCrypto-method-digest","title":"Web Cryptography API"}],"query":"api.SubtleCrypto.digest"}},{"type":"browser_compatibility","value":{"title":"Compatibilité des navigateurs","id":"compatibilité_des_navigateurs","isH3":false,"query":"api.SubtleCrypto.digest","dataURL":"/fr/docs/Web/API/SubtleCrypto/digest/bcd.json"}},{"type":"prose","value":{"id":"voir_aussi","title":"Voir aussi","isH3":false,"content":"<ul>\n  <li><a href=\"https://www.chromium.org/Home/chromium-security/prefer-secure-origins-for-powerful-new-features\" class=\"external\" rel=\" noopener\">(en) Chromium secure origins specification</a></li>\n  <li><a href=\"https://nvlpubs.nist.gov/nistpubs/FIPS/NIST.FIPS.180-4.pdf\" class=\"external\" rel=\" noopener\">(en) FIPS 180-4</a> spécifie les algorithmes de condensé de la famille SHA.</li>\n</ul>"}}],"toc":[{"text":"Syntaxe","id":"syntaxe"},{"text":"Algorithmes supportés","id":"algorithmes_supportés"},{"text":"Exemples","id":"exemples"},{"text":"Spécifications","id":"spécifications"},{"text":"Compatibilité des navigateurs","id":"compatibilité_des_navigateurs"},{"text":"Voir aussi","id":"voir_aussi"}],"summary":"La méthode digest() de l'interface SubtleCrypto génère un digest de la donnée fournie. Un condensé est une petite valeur de taille fixe issue d'une donnée de taille variable. Les condensés cryptographiques doivent résister à la collision, ce qui signifie qu'il doit être très difficile d'obtenir le même condensé à partir de deux entrés différentes.","popularity":0,"modified":"2022-10-01T03:41:16.000Z","other_translations":[{"title":"SubtleCrypto.digest()","locale":"en-US","native":"English (US)"},{"title":"SubtleCrypto.digest()","locale":"es","native":"Español"},{"title":"SubtleCrypto.digest()","locale":"ja","native":"日本語"}],"source":{"folder":"fr/web/api/subtlecrypto/digest","github_url":"https://github.com/mdn/translated-content/blob/main/files/fr/web/api/subtlecrypto/digest/index.md","last_commit_url":"https://github.com/mdn/translated-content/commit/921c46a374ab0a9f4cc809af0370f8c412e54701","filename":"index.md"},"parents":[{"uri":"/fr/docs/Web","title":"Technologies web pour développeurs"},{"uri":"/fr/docs/Web/API","title":"Référence Web API"},{"uri":"/fr/docs/Web/API/SubtleCrypto","title":"SubtleCrypto"},{"uri":"/fr/docs/Web/API/SubtleCrypto/digest","title":"SubtleCrypto.digest()"}],"pageTitle":"SubtleCrypto.digest() - Référence Web API | MDN","noIndexing":false}}