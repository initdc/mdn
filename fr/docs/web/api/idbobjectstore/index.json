{"doc":{"isMarkdown":true,"isTranslated":true,"isActive":true,"flaws":{},"title":"IDBObjectStore","mdn_url":"/fr/docs/Web/API/IDBObjectStore","locale":"fr","native":"Français","sidebarHTML":"<ol><li><strong><a href=\"/fr/docs/Web/API/IndexedDB_API\">IndexedDB API</a></strong></li><li><strong><a href=\"/fr/docs/Web/API/IDBObjectStore\"><code>IDBObjectStore</code></a></strong></li><li class=\"toggle\"><details open=\"\"><summary>Propriétés</summary><ol><li><a href=\"/fr/docs/Web/API/IDBObjectStore/autoIncrement\"><code>autoIncrement</code></a></li><li><a href=\"/fr/docs/Web/API/IDBObjectStore/indexNames\"><code>indexNames</code></a></li><li><a href=\"/fr/docs/Web/API/IDBObjectStore/keyPath\"><code>keyPath</code></a></li><li><a href=\"/fr/docs/Web/API/IDBObjectStore/name\"><code>name</code></a></li><li><a href=\"/fr/docs/Web/API/IDBObjectStore/transaction\"><code>transaction</code></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>Méthodes</summary><ol><li><a href=\"/fr/docs/Web/API/IDBObjectStore/add\"><code>add()</code></a></li><li><a href=\"/fr/docs/Web/API/IDBObjectStore/clear\"><code>clear()</code></a></li><li><a href=\"/fr/docs/Web/API/IDBObjectStore/count\"><code>count()</code></a></li><li><a href=\"/fr/docs/Web/API/IDBObjectStore/createIndex\"><code>createIndex()</code></a></li><li><a href=\"/fr/docs/Web/API/IDBObjectStore/delete\"><code>delete()</code></a></li><li><a href=\"/fr/docs/Web/API/IDBObjectStore/deleteIndex\"><code>deleteIndex()</code></a></li><li><a href=\"/fr/docs/Web/API/IDBObjectStore/get\"><code>get()</code></a></li><li><a href=\"/fr/docs/Web/API/IDBObjectStore/getAll\"><code>getAll()</code></a></li><li><a href=\"/fr/docs/Web/API/IDBObjectStore/getAllKeys\"><code>getAllKeys()</code></a></li><li><a href=\"/fr/docs/Web/API/IDBObjectStore/getKey\"><code>getKey()</code></a></li><li><a href=\"/fr/docs/Web/API/IDBObjectStore/index\"><code>index()</code></a></li><li><a href=\"/fr/docs/Web/API/IDBObjectStore/openCursor\"><code>openCursor()</code></a></li><li><a href=\"/fr/docs/Web/API/IDBObjectStore/openKeyCursor\"><code>openKeyCursor()</code></a></li><li><a href=\"/fr/docs/Web/API/IDBObjectStore/put\"><code>put()</code></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>Pages liées à IndexedDB</summary><ol><li><a href=\"/fr/docs/Web/API/IDBCursor\"><code>IDBCursor</code></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/IDBCursorWithValue\"><code>IDBCursorWithValue</code> <small>(en-US)</small></a></li><li><a href=\"/fr/docs/Web/API/IDBDatabase\"><code>IDBDatabase</code></a></li><li><a href=\"/fr/docs/Web/API/IDBFactory\"><code>IDBFactory</code></a></li><li><a href=\"/fr/docs/Web/API/IDBIndex\"><code>IDBIndex</code></a></li><li><a href=\"/fr/docs/Web/API/IDBKeyRange\"><code>IDBKeyRange</code></a></li><li><a href=\"/fr/docs/Web/API/IDBOpenDBRequest\"><code>IDBOpenDBRequest</code></a></li><li><a href=\"/fr/docs/Web/API/IDBRequest\"><code>IDBRequest</code></a></li><li><a href=\"/fr/docs/Web/API/IDBTransaction\"><code>IDBTransaction</code></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/IDBVersionChangeEvent\"><code>IDBVersionChangeEvent</code> <small>(en-US)</small></a></li></ol></details></li></ol>","body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<p>L'interface <strong><code>IDBObjectStore</code></strong> de l'<a href=\"/fr/docs/Web/API/IndexedDB_API\" title=\"API IndexedDB\"><code>API IndexedDB</code></a> est un accès aux magasins d'objet de la base de données.</p>\n<p>Le magasin d'objet emmagasine des enregistrements. Chaque enregistrement est constitué d'un couple clé/valeur. Chaque valeurs est indexée sur sa clé. Les clés sont triées pour former l'index primaire du magasin. Ce qui permet un accès rapide et ordonnée aux valeurs.</p>\n<p>Le magasin d'objet peut en plus de l'index primaire avoir des index qui ordonnent les enregistrements sur d'autres clés. Ces index se mettent automatiquement à jour dans la plupart des cas et permettent de mettre des contraintes d’unicités pour d'autres clés que la clé primaire du magasin d'objet.</p><div class=\"notecard note\" id=\"sect1\">\n  <p><strong>Note:</strong> Cette fonctionnalité est disponible via les <a href=\"/fr/docs/Web/API/Web_Workers_API\">Web Workers</a></p>\n</div>"}},{"type":"prose","value":{"id":"méthodes","title":"Méthodes","isH3":false,"content":"<dl>\n  <dt id=\"idbobjectstore.add\"><a href=\"/fr/docs/Web/API/IDBObjectStore/add\"><code>IDBObjectStore.add()</code></a></dt>\n  <dd>\n    <p>Une <a href=\"/fr/docs/Web/API/IDBRequest\" title=\"requête\"><code>requête</code></a> pour ajouter un enregistrement au magasin d'objet relié, un <a href=\"https://www.whatwg.org/specs/web-apps/current-work/multipage/common-dom-interfaces.html#structured-clone\" class=\"external\" rel=\" noopener\">clone structuré</a> de la valeur passé en paramètre et sa clé .</p>\n  </dd>\n  <dt id=\"idbobjectstore.clear\"><a href=\"/fr/docs/Web/API/IDBObjectStore/clear\"><code>IDBObjectStore.clear()</code></a></dt>\n  <dd>\n    <p>Une <a href=\"/fr/docs/Web/API/IDBRequest\" title=\"requête\"><code>requête</code></a> pour vider le magasin d'objet relié.</p>\n  </dd>\n  <dt id=\"idbobjectstore.delete\"><a href=\"/fr/docs/Web/API/IDBObjectStore/delete\"><code>IDBObjectStore.delete()</code></a></dt>\n  <dd>\n    <p>Une <a href=\"/fr/docs/Web/API/IDBRequest\" title=\"requête\"><code>requête</code></a> de suppression d'enregistrement(s) du magasin d'objet relié.</p>\n  </dd>\n  <dt id=\"idbobjectstore.get\"><a href=\"/fr/docs/Web/API/IDBObjectStore/get\"><code>IDBObjectStore.get()</code></a></dt>\n  <dd>\n    <p>Une <a href=\"/fr/docs/Web/API/IDBRequest\" title=\"requête\"><code>requête</code></a> pour renvoyer la valeur d'un enregistrement du magasin d'objet relié.</p>\n  </dd>\n  <dt id=\"idbobjectstore.getall\"><a href=\"/fr/docs/Web/API/IDBObjectStore/getAll\"><code>IDBObjectStore.getAll()</code></a></dt>\n  <dd>\n    <p>Une <a href=\"/fr/docs/Web/API/IDBRequest\" title=\"requête\"><code>requête</code></a> qui renvoie un tableau ordonné suivant les clés, des valeurs de tous les enregistrements du magasin d'objet relié. On peut limité le nombre d'enregistrements en les filtrants suivant leurs clés ou en paramétrant le compteur.</p>\n  </dd>\n  <dt id=\"idbobjectstore.getallkeys\"><a href=\"/fr/docs/Web/API/IDBObjectStore/getAllKeys\"><code>IDBObjectStore.getAllKeys()</code></a></dt>\n  <dd>\n    <p>Une <a href=\"/fr/docs/Web/API/IDBRequest\" title=\"requête\"><code>requête</code></a> qui renvoie la liste de toutes les clés des enregistrements du magasin d'objet. On peut limité le nombre d'enregistrements en les filtrants suivant leurs clés ou en paramétrant le compteur.</p>\n  </dd>\n  <dt id=\"idbobjectstore.createindex\"><a href=\"/fr/docs/Web/API/IDBObjectStore/createIndex\"><code>IDBObjectStore.createIndex()</code></a></dt>\n  <dd>\n    <p>Met en place sur le magasin d'objet relié, un nouvel index et en renvoie l'<a href=\"/fr/docs/Web/API/IDBIndex\" title=\"accès\"><code>accès</code></a>.</p>\n  </dd>\n  <dt id=\"idbobjectstore.deleteindex\"><a href=\"/fr/docs/Web/API/IDBObjectStore/deleteIndex\"><code>IDBObjectStore.deleteIndex()</code></a></dt>\n  <dd>\n    <p>Supprime l'index dont le nom est passé en paramètre, du magasin d'objet relié.</p>\n  </dd>\n  <dt id=\"idbobjectstore.index\"><a href=\"/fr/docs/Web/API/IDBObjectStore/index\"><code>IDBObjectStore.index()</code></a></dt>\n  <dd>\n    <p>L'<a href=\"/fr/docs/Web/API/IDBIndex\" title=\"accès\"><code>accès</code></a> à l'index dont le nom est passé en paramètre du magasin d'objet relié.</p>\n  </dd>\n  <dt id=\"idbobjectstore.put\"><a href=\"/fr/docs/Web/API/IDBObjectStore/put\"><code>IDBObjectStore.put()</code></a></dt>\n  <dd>\n    <p>Une <a href=\"/fr/docs/Web/API/IDBRequest\" title=\"requête\"><code>requête</code></a> pour ajouter ou mettre à jour un enregistrement du magasin d'objet relié, un <a href=\"https://www.whatwg.org/specs/web-apps/current-work/multipage/common-dom-interfaces.html#structured-clone\" class=\"external\" rel=\" noopener\">clone structuré</a> de la valeur passée en paramètre et sa clé.</p>\n  </dd>\n  <dt id=\"idbobjectstore.opencursor\"><a href=\"/fr/docs/Web/API/IDBObjectStore/openCursor\"><code>IDBObjectStore.openCursor()</code></a></dt>\n  <dd>\n    <p>Une <a href=\"/fr/docs/Web/API/IDBRequest\" title=\"requête\"><code>requête</code></a> récursive suivant un <a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/IDBCursorWithValue\"><code>curseur avec valeur</code> <small>(en-US)</small></a> qui itère le magasin d'objet relié.</p>\n  </dd>\n  <dt id=\"idbobjectstore.openkeycursor\"><a href=\"/fr/docs/Web/API/IDBObjectStore/openKeyCursor\"><code>IDBObjectStore.openKeyCursor()</code></a></dt>\n  <dd>\n    <p>Une <a href=\"/fr/docs/Web/API/IDBRequest\" title=\"requête\"><code>requête</code></a> récursive suivant un <a href=\"/fr/docs/Web/API/IDBCursor\" title=\"curseur\"><code>curseur</code></a> qui itère le magasin d'objet relié.</p>\n  </dd>\n  <dt id=\"idbobjectstore.count\"><a href=\"/fr/docs/Web/API/IDBObjectStore/count\"><code>IDBObjectStore.count()</code></a></dt>\n  <dd>\n    <p>Une <a href=\"/fr/docs/Web/API/IDBRequest\" title=\"requête\"><code>requête</code></a> au magasin d'objet relié. La requête compte le nombre d'enregistrements dans ce magasin d'objet ou sur l'<a href=\"/fr/docs/Web/API/IDBKeyRange\" title=\"intervalle de clé\"><code>intervalle de clé</code></a> passé en paramètre.</p>\n  </dd>\n</dl>"}},{"type":"prose","value":{"id":"propriétés","title":"Propriétés","isH3":false,"content":"<dl>\n  <dt id=\"idbobjectstore.indexnames\"><a href=\"/fr/docs/Web/API/IDBObjectStore/indexNames\"><code>IDBObjectStore.indexNames</code></a> <span title=\"Cette valeur ne peut pas être changée.\" class=\"badge inline readonly\">Lecture seule </span></dt>\n  <dd>\n    <p>La liste des noms d'index du magasin d'objet relié.</p>\n  </dd>\n  <dt id=\"idbobjectstore.keypath\"><a href=\"/fr/docs/Web/API/IDBObjectStore/keyPath\"><code>IDBObjectStore.keyPath</code></a> <span title=\"Cette valeur ne peut pas être changée.\" class=\"badge inline readonly\">Lecture seule </span></dt>\n  <dd>\n    <p>Le <a href=\"/fr/docs/Web/API/IndexedDB_API/Basic_Terminology#gloss_keypath\">nom de la clé</a> du magasin d'objets relié.</p>\n  </dd>\n  <dt id=\"idbobjectstore.name\"><a href=\"/fr/docs/Web/API/IDBObjectStore/name\"><code>IDBObjectStore.name</code></a> <span title=\"Cette valeur ne peut pas être changée.\" class=\"badge inline readonly\">Lecture seule </span></dt>\n  <dd>\n    <p>Le nom du magasin d'objet relié.</p>\n  </dd>\n  <dt id=\"idbobjectstore.transaction\"><a href=\"/fr/docs/Web/API/IDBObjectStore/transaction\"><code>IDBObjectStore.transaction</code></a> <span title=\"Cette valeur ne peut pas être changée.\" class=\"badge inline readonly\">Lecture seule </span></dt>\n  <dd>\n    <p>La <a href=\"/fr/docs/Web/API/IDBTransaction\" title=\"transaction\"><code>transaction</code></a> à laquelle l'accès du magasin d'objet appartient.</p>\n  </dd>\n  <dt id=\"idbobjectstore.autoincrement\"><a href=\"/fr/docs/Web/API/IDBObjectStore/autoIncrement\"><code>IDBObjectStore.autoIncrement</code></a> <span title=\"Cette valeur ne peut pas être changée.\" class=\"badge inline readonly\">Lecture seule </span></dt>\n  <dd>\n    <p>La position du drapeau d’incrémentation automatique du magasin d'objet relié.</p>\n  </dd>\n</dl><!---->"}},{"type":"prose","value":{"id":"exemple","title":"Exemple","isH3":false,"content":"<p>Cet exemple montre différents usages de l'accès au magasin d'objet. On met à jour la structure de donnée avec <a href=\"/fr/docs/Web/API/IDBObjectStore/createIndex\"><code>IDBObjectStore.createIndex</code></a> dans un gestionnaire d'événement <code>onupgradeneeded</code>. On ajoute un nouvel enregistrement avec <a href=\"/fr/docs/Web/API/IDBObjectStore/add\"><code>IDBObjectStore.add</code></a>.</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token comment\">// connexion à la base de données</span>\n<span class=\"token keyword\">var</span> DBOpenRequest <span class=\"token operator\">=</span> window<span class=\"token punctuation\">.</span>indexedDB<span class=\"token punctuation\">.</span><span class=\"token function\">open</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"toDoList\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// gère le succès de la connexion</span>\nDBOpenRequest<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onsuccess</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">event</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  note<span class=\"token punctuation\">.</span>innerHTML <span class=\"token operator\">+=</span> <span class=\"token string\">'&lt;li&gt;Connexion ouverte.&lt;/li&gt;'</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">//affect la connexion à la variable db.</span>\n  db <span class=\"token operator\">=</span> DBOpenRequest<span class=\"token punctuation\">.</span>result<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// Ce gestionnaire d'événement s'active quand on à besoin d'une nouvelle version de la base de donnée.</span>\n<span class=\"token comment\">// Si la base n'existais pas avant ou</span>\n<span class=\"token comment\">// si on ouvre une nouvelle version avec window.indexedDB.open.</span>\nDBOpenRequest<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onupgradeneeded</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">event</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">var</span> db <span class=\"token operator\">=</span> event<span class=\"token punctuation\">.</span>target<span class=\"token punctuation\">.</span>result<span class=\"token punctuation\">;</span>\n\n  db<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onerror</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">event</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    note<span class=\"token punctuation\">.</span>innerHTML <span class=\"token operator\">+=</span> <span class=\"token string\">'&lt;li&gt;Erreur de chargement de la base.&lt;/li&gt;'</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// Ajoute un magasin d'objets à la base de données</span>\n  <span class=\"token keyword\">var</span> objectStore <span class=\"token operator\">=</span> db<span class=\"token punctuation\">.</span><span class=\"token function\">createObjectStore</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"toDoList\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">keyPath</span><span class=\"token operator\">:</span> <span class=\"token string\">\"taskTitle\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// défini des index sur ce magasin</span>\n\n  objectStore<span class=\"token punctuation\">.</span><span class=\"token function\">createIndex</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"hours\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"hours\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">unique</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  objectStore<span class=\"token punctuation\">.</span><span class=\"token function\">createIndex</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"minutes\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"minutes\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">unique</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  objectStore<span class=\"token punctuation\">.</span><span class=\"token function\">createIndex</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"day\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"day\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">unique</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  objectStore<span class=\"token punctuation\">.</span><span class=\"token function\">createIndex</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"month\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"month\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">unique</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  objectStore<span class=\"token punctuation\">.</span><span class=\"token function\">createIndex</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"year\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"year\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">unique</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  objectStore<span class=\"token punctuation\">.</span><span class=\"token function\">createIndex</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"notified\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"notified\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">unique</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  note<span class=\"token punctuation\">.</span>innerHTML <span class=\"token operator\">+=</span> <span class=\"token string\">'&lt;li&gt;Le magasin d\\'objet est ajouté.&lt;/li&gt;'</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// Un nouvel enregistrement à ajouter</span>\n<span class=\"token keyword\">var</span> newItem <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">taskTitle</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Walk dog\"</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">hours</span><span class=\"token operator\">:</span> <span class=\"token number\">19</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">minutes</span><span class=\"token operator\">:</span> <span class=\"token number\">30</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">day</span><span class=\"token operator\">:</span> <span class=\"token number\">24</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">month</span><span class=\"token operator\">:</span> <span class=\"token string\">'December'</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">year</span><span class=\"token operator\">:</span> <span class=\"token number\">2013</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">notified</span><span class=\"token operator\">:</span> <span class=\"token string\">\"no\"</span> <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// ouvre une transaction en lecture/écriture sur la connexion, prête à ajouter l'enregistrement.</span>\n<span class=\"token keyword\">var</span> transaction <span class=\"token operator\">=</span> db<span class=\"token punctuation\">.</span><span class=\"token function\">transaction</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"toDoList\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"readwrite\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// affiche le succès de la transaction</span>\ntransaction<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">oncomplete</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">event</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  note<span class=\"token punctuation\">.</span>innerHTML <span class=\"token operator\">+=</span> <span class=\"token string\">'&lt;li&gt;La transaction à été effectuée.&lt;/li&gt;'</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\ntransaction<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onerror</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">event</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  note<span class=\"token punctuation\">.</span>innerHTML <span class=\"token operator\">+=</span> <span class=\"token string\">'&lt;li&gt;La transaction n\\'as pue aboutir.&lt;/li&gt;'</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// Un accès à toDoList pour la transaction</span>\n<span class=\"token keyword\">var</span> objectStore <span class=\"token operator\">=</span> transaction<span class=\"token punctuation\">.</span><span class=\"token function\">objectStore</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"toDoList\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// Ajoute l'enregistrement au magasin d'objet</span>\n<span class=\"token keyword\">var</span> objectStoreRequest <span class=\"token operator\">=</span> objectStore<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>newItem<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">//l'enregistrement s'est bien passé.</span>\nobjectStoreRequest<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onsuccess</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">event</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  note<span class=\"token punctuation\">.</span>innerHTML <span class=\"token operator\">+=</span> <span class=\"token string\">'&lt;li&gt;L\\'enregistrement à été ajouté au magasin d\\'objet.&lt;/li&gt;'</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<div class=\"notecard note\" id=\"sect2\">\n  <p><strong>Note :</strong> Pour un exemple de travail complet, voir notre <a href=\"https://github.com/mdn/to-do-notifications/\" class=\"external\" rel=\" noopener\">To-do Notifications</a> app (<a href=\"https://mdn.github.io/to-do-notifications/\" class=\"external\" rel=\" noopener\">view example live</a>).</p>\n</div>"}},{"type":"specifications","value":{"title":"Spécifications","id":"spécifications","isH3":false,"specifications":[{"bcdSpecificationURL":"https://w3c.github.io/IndexedDB/#object-store-interface","title":"Indexed Database API 3.0"}],"query":"api.IDBObjectStore"}},{"type":"browser_compatibility","value":{"title":"Compatibilité des navigateurs","id":"compatibilité_des_navigateurs","isH3":false,"query":"api.IDBObjectStore","dataURL":"/fr/docs/Web/API/IDBObjectStore/bcd.json"}},{"type":"prose","value":{"id":"voir_aussi","title":"Voir aussi","isH3":false,"content":"<ul>\n  <li><a href=\"/fr/docs/Web/API/IndexedDB_API/Using_IndexedDB\" title=\"Utiliser IndexedDB\"><code>Utiliser IndexedDB</code></a></li>\n  <li><a href=\"/fr/docs/Web/API/IDBDatabase\" title=\"Débuter une connexion\"><code>Débuter une connexion</code></a></li>\n  <li><a href=\"/fr/docs/Web/API/IDBTransaction\" title=\"Utilisé les transactions\"><code>Utilisé les transactions</code></a></li>\n  <li><a href=\"/fr/docs/Web/API/IDBKeyRange\" title=\"Définir l'intervalle des clés\"><code>Définir l'intervalle des clés</code></a></li>\n  <li><a href=\"/fr/docs/Web/API/IDBCursor\" title=\"Utiliser les curseur\"><code>Utiliser les curseur</code></a></li>\n  <li>Exemple de référence: <a href=\"https://github.com/mdn/to-do-notifications/tree/gh-pages\" class=\"external\" rel=\" noopener\">To-do Notifications</a> (<a href=\"https://mdn.github.io/to-do-notifications/\" class=\"external\" rel=\" noopener\">view example live</a>.)</li>\n</ul>"}}],"toc":[{"text":"Méthodes","id":"méthodes"},{"text":"Propriétés","id":"propriétés"},{"text":"Exemple","id":"exemple"},{"text":"Spécifications","id":"spécifications"},{"text":"Compatibilité des navigateurs","id":"compatibilité_des_navigateurs"},{"text":"Voir aussi","id":"voir_aussi"}],"summary":"L'interface IDBObjectStore de l'API IndexedDB est un accès aux magasins d'objet de la base de données.","popularity":0,"modified":"2022-10-01T03:41:16.000Z","other_translations":[{"title":"IDBObjectStore","locale":"en-US","native":"English (US)"},{"title":"IDBObjectStore","locale":"es","native":"Español"},{"title":"IDBObjectStore","locale":"zh-CN","native":"中文 (简体)"}],"source":{"folder":"fr/web/api/idbobjectstore","github_url":"https://github.com/mdn/translated-content/blob/main/files/fr/web/api/idbobjectstore/index.md","last_commit_url":"https://github.com/mdn/translated-content/commit/921c46a374ab0a9f4cc809af0370f8c412e54701","filename":"index.md"},"parents":[{"uri":"/fr/docs/Web","title":"Technologies web pour développeurs"},{"uri":"/fr/docs/Web/API","title":"Référence Web API"},{"uri":"/fr/docs/Web/API/IDBObjectStore","title":"IDBObjectStore"}],"pageTitle":"IDBObjectStore - Référence Web API | MDN","noIndexing":false}}