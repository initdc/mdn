{"doc":{"isMarkdown":true,"isTranslated":true,"isActive":true,"flaws":{},"title":"PerformanceEventTiming","mdn_url":"/fr/docs/Web/API/PerformanceEventTiming","locale":"fr","native":"Français","sidebarHTML":"<ol><li><strong><a href=\"/fr/docs/Web/API/PerformanceEventTiming\"><code>PerformanceEventTiming</code></a></strong></li><li class=\"toggle\"><details open=\"\"><summary>Héritage&nbsp;:</summary><ol><li><a href=\"/fr/docs/Web/API/PerformanceEntry\"><code>PerformanceEntry</code></a></li></ol></details></li></ol>","body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<p>L'interface <code>PerformanceEventTiming</code> des événements de l'<code>Event Timing API</code> fournit des informations de chronométrage pour les types d'événements énumérés ci-dessous.</p>\n<ul>\n  <li><a href=\"/fr/docs/Web/API/Element/auxclick_event\"><code>auxclick</code></a></li>\n  <li><a href=\"/fr/docs/Web/API/HTMLElement/beforeinput_event\"><code>beforeinput</code></a></li>\n  <li><a href=\"/fr/docs/Web/API/Element/click_event\"><code>click</code></a></li>\n  <li><a href=\"/fr/docs/Web/API/Element/compositionend_event\"><code>compositionend</code></a></li>\n  <li><a href=\"/fr/docs/Web/API/Element/compositionstart_event\"><code>compositionstart</code></a></li>\n  <li><a href=\"/fr/docs/Web/API/Element/compositionupdate_event\"><code>compositionupdate</code></a></li>\n  <li><a href=\"/fr/docs/Web/API/Element/contextmenu_event\"><code>contextmenu</code></a></li>\n  <li><a href=\"/fr/docs/Web/API/Element/dblclick_event\"><code>dblclick</code></a></li>\n  <li><a href=\"/fr/docs/Web/API/HTMLElement/dragend_event\"><code>dragend</code></a></li>\n  <li><a href=\"/fr/docs/Web/API/HTMLElement/dragenter_event\"><code>dragenter</code></a></li>\n  <li><a href=\"/fr/docs/Web/API/HTMLElement/dragleave_event\"><code>dragleave</code></a></li>\n  <li><a href=\"/fr/docs/Web/API/HTMLElement/dragover_event\"><code>dragover</code></a></li>\n  <li><a href=\"/fr/docs/Web/API/HTMLElement/dragstart_event\"><code>dragstart</code></a></li>\n  <li><a href=\"/fr/docs/Web/API/HTMLElement/drop_event\"><code>drop</code></a></li>\n  <li><a href=\"/fr/docs/Web/API/HTMLElement/input_event\"><code>input</code></a></li>\n  <li><a href=\"/en-US/docs/Web/API/Element/keydown_event\" class=\"only-in-en-us\" title=\"Currently only available in English (US)\">keydown (en-US)</a></li>\n  <li><a href=\"/fr/docs/Web/API/Element/keypress_event\"><code>keypress</code></a></li>\n  <li><a href=\"/en-US/docs/Web/API/Element/keyup_event\" class=\"only-in-en-us\" title=\"Currently only available in English (US)\">keyup (en-US)</a></li>\n  <li><a href=\"/fr/docs/Web/API/Element/mousedown_event\"><code>mousedown</code></a></li>\n  <li><a href=\"/fr/docs/Web/API/Element/mouseenter_event\"><code>mouseenter</code></a></li>\n  <li><a href=\"/fr/docs/Web/API/Element/mouseleave_event\"><code>mouseleave</code></a></li>\n  <li><a href=\"/fr/docs/Web/API/Element/mouseout_event\"><code>mouseout</code></a></li>\n  <li><a href=\"/fr/docs/Web/API/Element/mouseover_event\"><code>mouseover</code></a></li>\n  <li><a href=\"/fr/docs/Web/API/Element/mouseup_event\"><code>mouseup</code></a></li>\n  <li><a href=\"/en-US/docs/Web/API/Element/pointerover_event\" class=\"only-in-en-us\" title=\"Currently only available in English (US)\">pointerover (en-US)</a></li>\n  <li><a href=\"/en-US/docs/Web/API/Element/pointerenter_event\" class=\"only-in-en-us\" title=\"Currently only available in English (US)\">pointerenter (en-US)</a></li>\n  <li><a href=\"/en-US/docs/Web/API/Element/pointerdown_event\" class=\"only-in-en-us\" title=\"Currently only available in English (US)\">pointerdown (en-US)</a></li>\n  <li><a href=\"/en-US/docs/Web/API/Element/pointerup_event\" class=\"only-in-en-us\" title=\"Currently only available in English (US)\">pointerup (en-US)</a></li>\n  <li><a href=\"/en-US/docs/Web/API/Element/pointercancel_event\" class=\"only-in-en-us\" title=\"Currently only available in English (US)\">pointercancel (en-US)</a></li>\n  <li><a href=\"/en-US/docs/Web/API/Element/pointerout_event\" class=\"only-in-en-us\" title=\"Currently only available in English (US)\">pointerout (en-US)</a></li>\n  <li><a href=\"/en-US/docs/Web/API/Element/pointerleave_event\" class=\"only-in-en-us\" title=\"Currently only available in English (US)\">pointerleave (en-US)</a></li>\n  <li><a href=\"/en-US/docs/Web/API/Element/gotpointercapture_event\" class=\"only-in-en-us\" title=\"Currently only available in English (US)\">gotpointercapture (en-US)</a></li>\n  <li><a href=\"/en-US/docs/Web/API/Document/lostpointercapture_event\" class=\"only-in-en-us\" title=\"Currently only available in English (US)\">lostpointercapture (en-US)</a></li>\n  <li><a href=\"/en-US/docs/Web/API/Element/touchstart_event\" class=\"only-in-en-us\" title=\"Currently only available in English (US)\">touchstart (en-US)</a></li>\n  <li><a href=\"/fr/docs/Web/API/Element/touchend_event\"><code>touchend</code></a></li>\n  <li><a href=\"/en-US/docs/Web/API/Element/touchcancel_event\" class=\"only-in-en-us\" title=\"Currently only available in English (US)\">touchcancel (en-US)</a></li>\n</ul>"}},{"type":"prose","value":{"id":"propriétés","title":"Propriétés","isH3":false,"content":"<dl>\n  <dt id=\"performanceeventtiming.processingstart\"><a href=\"/fr/docs/Web/API/PerformanceEventTiming/processingStart\" class=\"page-not-created\" title=\"This is a link to an unwritten page\"><code>PerformanceEventTiming.processingStart</code></a> <em>lecture seule</em> <svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg></dt>\n  <dd>\n    <p>Retourne un <a href=\"/fr/docs/Web/API/DOMHighResTimeStamp\"><code>DOMHighResTimeStamp</code></a> représentant l'heure à laquelle la diffusion des événements a commencé.</p>\n  </dd>\n  <dt id=\"performanceeventtiming.processingend\"><a href=\"/fr/docs/Web/API/PerformanceEventTiming/processingEnd\" class=\"page-not-created\" title=\"This is a link to an unwritten page\"><code>PerformanceEventTiming.processingEnd</code></a> <em>lecture seule</em> <svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg></dt>\n  <dd>\n    <p>Retourne un <a href=\"/fr/docs/Web/API/DOMHighResTimeStamp\"><code>DOMHighResTimeStamp</code></a> représentant l'heure à laquelle la diffusion de l'événement s'est terminée.</p>\n  </dd>\n  <dt id=\"performanceeventtiming.cancelable\"><a href=\"/fr/docs/Web/API/PerformanceEventTiming/cancelable\" class=\"page-not-created\" title=\"This is a link to an unwritten page\"><code>PerformanceEventTiming.cancelable</code></a> <em>lecture seule</em> <svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg></dt>\n  <dd>\n    <p>Retourne un <a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean\" class=\"only-in-en-us\" title=\"Currently only available in English (US)\">Boolean (en-US)</a> représentant l'attribut annulable de l'événement associé.</p>\n  </dd>\n  <dt id=\"performanceeventtiming.target\"><a href=\"/fr/docs/Web/API/PerformanceEventTiming/target\" class=\"page-not-created\" title=\"This is a link to an unwritten page\"><code>PerformanceEventTiming.target</code></a> <em>lecture seule</em> <svg class=\"icon icon-nonstandard\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-nonstandard\"></use>\n</svg></dt>\n  <dd>\n    <p>Retourne un <a href=\"/fr/docs/Web/API/Node\"><code>Node</code></a> représentant la dernière cible de l'événement associé, si elle n'est pas supprimée.</p>\n  </dd>\n</dl>"}},{"type":"prose","value":{"id":"méthodes","title":"Méthodes","isH3":false,"content":"<dl>\n  <dt id=\"performanceeventtiming.tojson\"><a href=\"/fr/docs/Web/API/PerformanceEventTiming/toJSON()\" class=\"page-not-created\" title=\"This is a link to an unwritten page\"><code>PerformanceEventTiming.toJSON()</code></a> <svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg></dt>\n  <dd>\n    <p>Convertit l'objet <a href=\"/fr/docs/Web/API/PerformanceEventTiming\" aria-current=\"page\"><code>PerformanceEventTiming</code></a> en JSON.</p>\n  </dd>\n</dl>"}},{"type":"prose","value":{"id":"exemples","title":"Exemples","isH3":false,"content":"<p>L'exemple suivant montre comment utiliser l'API pour tous les événements :</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">const</span> observer <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">PerformanceObserver</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">list</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> perfEntries <span class=\"token operator\">=</span> list<span class=\"token punctuation\">.</span><span class=\"token function\">getEntries</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">entry</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// Durée totale</span>\n    <span class=\"token keyword\">const</span> inputDuration <span class=\"token operator\">=</span> entry<span class=\"token punctuation\">.</span>duration<span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">// Retard d'entrée (avant l'événement de traitement)</span>\n    <span class=\"token keyword\">const</span> inputDelay <span class=\"token operator\">=</span> entry<span class=\"token punctuation\">.</span>processingStart <span class=\"token operator\">-</span> entry<span class=\"token punctuation\">.</span>startTime<span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">// Temps de traitement d'un événement synchrone (entre le début et la fin de la diffusion).</span>\n    <span class=\"token keyword\">const</span> inputSyncProcessingTime <span class=\"token operator\">=</span> entry<span class=\"token punctuation\">.</span>processingEnd <span class=\"token operator\">-</span> entry<span class=\"token punctuation\">.</span>processingStart<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// Enregistre un observateur pour l'événement.</span>\nobserver<span class=\"token punctuation\">.</span><span class=\"token function\">observe</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><span class=\"token literal-property property\">entryTypes</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"event\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<p>Nous pouvons également interroger directement le <a href=\"https://web.dev/fid\" class=\"external\" rel=\" noopener\">premier délai d'entrée</a>. Le premier délai d'entrée ou « FID : First input delay », mesure le temps entre le moment où un utilisateur interagit pour la première fois avec une page (c'est-à-dire lorsqu'il clique sur un lien ou sur un bouton) et le moment où le navigateur est effectivement en mesure de commencer à traiter les gestionnaires d'événements en réponse à cette interaction.</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token comment\">// Pour savoir si (et quand) la page a été masquée pour la première fois, voir :</span>\n<span class=\"token comment\">// https://github.com/w3c/page-visibility/issues/29</span>\n<span class=\"token comment\">// NOTE : idéalement, cette vérification devrait être effectuée dans le &lt;head&gt; du document</span>\n<span class=\"token comment\">// pour éviter les cas où l'état de visibilité change avant l'exécution de ce code.</span>\n<span class=\"token keyword\">let</span> firstHiddenTime <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span>visibilityState <span class=\"token operator\">===</span> <span class=\"token string\">'hidden'</span> <span class=\"token operator\">?</span> <span class=\"token number\">0</span> <span class=\"token operator\">:</span> <span class=\"token number\">Infinity</span><span class=\"token punctuation\">;</span>\ndocument<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'visibilitychange'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">event</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n  firstHiddenTime <span class=\"token operator\">=</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">min</span><span class=\"token punctuation\">(</span>firstHiddenTime<span class=\"token punctuation\">,</span> event<span class=\"token punctuation\">.</span>timeStamp<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span><span class=\"token literal-property property\">once</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// Envoie les données transmises à un point de terminaison analytique. Ce code</span>\n<span class=\"token comment\">// utilise `/analytics` ; vous pouvez le remplacer par votre propre URL.</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">sendToAnalytics</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">data</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> body <span class=\"token operator\">=</span> <span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">stringify</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token comment\">// Utilise `navigator.sendBeacon()` si disponible, en revenant à `fetch()`.</span>\n  <span class=\"token punctuation\">(</span>navigator<span class=\"token punctuation\">.</span>sendBeacon <span class=\"token operator\">&amp;&amp;</span> navigator<span class=\"token punctuation\">.</span><span class=\"token function\">sendBeacon</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/analytics'</span><span class=\"token punctuation\">,</span> body<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">||</span>\n      <span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/analytics'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>body<span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">method</span><span class=\"token operator\">:</span> <span class=\"token string\">'POST'</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">keepalive</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// Utilise un try/catch au lieu de la fonction de détection de la prise en charge de `first-input`</span>\n<span class=\"token comment\">// car certains navigateurs lancent des requêtes lorsqu'ils utilisent la nouvelle option `type`.</span>\n<span class=\"token comment\">// https://bugs.webkit.org/show_bug.cgi?id=209216</span>\n<span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">function</span> <span class=\"token function\">onFirstInputEntry</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">entry</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// Ne rapporte le FID que si la page n'était pas cachée avant que</span>\n    <span class=\"token comment\">// l'entrée soit envoyée. Cela se produit généralement lorsqu'une</span>\n    <span class=\"token comment\">// page est chargée dans un onglet en arrière-plan.</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>entry<span class=\"token punctuation\">.</span>startTime <span class=\"token operator\">&lt;</span> firstHiddenTime<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">const</span> fid <span class=\"token operator\">=</span> entry<span class=\"token punctuation\">.</span>processingStart <span class=\"token operator\">-</span> entry<span class=\"token punctuation\">.</span>startTime<span class=\"token punctuation\">;</span>\n\n      <span class=\"token comment\">// Rapporte la valeur du FID à un terminal d'analyse.</span>\n      <span class=\"token function\">sendToAnalytics</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>fid<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token comment\">// Crée un PerformanceObserver qui appelle `onFirstInputEntry` pour chaque entrée.</span>\n  <span class=\"token keyword\">const</span> po <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">PerformanceObserver</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">entryList</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n    entryList<span class=\"token punctuation\">.</span><span class=\"token function\">getEntries</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span>onFirstInputEntry<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// Observe les entrées de type `first-input`, y compris les entrées en mémoire tampon,</span>\n  <span class=\"token comment\">// c'est-à-dire les entrées qui ont eu lieu avant d'appeler `observe()` ci-dessous.</span>\n  po<span class=\"token punctuation\">.</span><span class=\"token function\">observe</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">type</span><span class=\"token operator\">:</span> <span class=\"token string\">'first-input'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">buffered</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// Ne fait rien si le navigateur ne prend pas en charge cette API.</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>"}},{"type":"specifications","value":{"title":"Spécifications","id":"spécifications","isH3":false,"specifications":[{"bcdSpecificationURL":"https://w3c.github.io/event-timing/#sec-performance-event-timing","title":"Unknown specification"}],"query":"api.PerformanceEventTiming"}},{"type":"browser_compatibility","value":{"title":"Compatibilité des navigateurs","id":"compatibilité_des_navigateurs","isH3":false,"query":"api.PerformanceEventTiming","dataURL":"/fr/docs/Web/API/PerformanceEventTiming/bcd.json"}}],"toc":[{"text":"Propriétés","id":"propriétés"},{"text":"Méthodes","id":"méthodes"},{"text":"Exemples","id":"exemples"},{"text":"Spécifications","id":"spécifications"},{"text":"Compatibilité des navigateurs","id":"compatibilité_des_navigateurs"}],"summary":"L'interface PerformanceEventTiming des événements de l'Event Timing API fournit des informations de chronométrage pour les types d'événements énumérés ci-dessous.","popularity":0,"modified":"2022-10-01T03:41:16.000Z","other_translations":[{"title":"PerformanceEventTiming","locale":"en-US","native":"English (US)"}],"source":{"folder":"fr/web/api/performanceeventtiming","github_url":"https://github.com/mdn/translated-content/blob/main/files/fr/web/api/performanceeventtiming/index.md","last_commit_url":"https://github.com/mdn/translated-content/commit/921c46a374ab0a9f4cc809af0370f8c412e54701","filename":"index.md"},"parents":[{"uri":"/fr/docs/Web","title":"Technologies web pour développeurs"},{"uri":"/fr/docs/Web/API","title":"Référence Web API"},{"uri":"/fr/docs/Web/API/PerformanceEventTiming","title":"PerformanceEventTiming"}],"pageTitle":"PerformanceEventTiming - Référence Web API | MDN","noIndexing":false}}