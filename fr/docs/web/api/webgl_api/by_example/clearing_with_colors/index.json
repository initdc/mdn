{"doc":{"isMarkdown":true,"isTranslated":true,"isActive":true,"flaws":{},"title":"Appliquer des couleurs","mdn_url":"/fr/docs/Web/API/WebGL_API/By_example/Clearing_with_colors","locale":"fr","native":"Français","sidebarHTML":"","body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<ul class=\"prev-next\">\n    <li><a class=\"button minimal\" href=\"/fr/docs/Web/API/WebGL_API/By_example/Detect_WebGL\">« Précédent</a></li>\n    <li><a class=\"button minimal\" href=\"/fr/docs/Web/API/WebGL_API/By_example/Clearing_by_clicking\">Suivant  »</a></li>\n</ul>\n<p>Dans cet article, on voit comment appliquer une couleur unie dans le contexte de rendu.</p><iframe class=\"sample-code-frame\" title=\"Appliquer une couleur unie dans le contexte WebGL sample\" id=\"frame_appliquer_une_couleur_unie_dans_le_contexte_webgl\" width=\"660\" height=\"300\" src=\"https://yari-demos.prod.mdn.mozit.cloud/fr/docs/Web/API/WebGL_API/By_example/Clearing_with_colors/_sample_.appliquer_une_couleur_unie_dans_le_contexte_webgl.html\" loading=\"lazy\"></iframe>"}},{"type":"prose","value":{"id":"appliquer_une_couleur_unie_dans_le_contexte_webgl","title":"Appliquer une couleur unie dans le contexte WebGL","isH3":true,"content":"<p>Voici l'application la plus simple de <a href=\"/fr/docs/Glossary/WebGL\">WebGL</a> : appliquer un vert uni dans le <a href=\"/fr/docs/Web/API/WebGLRenderingContext\" title=\"contexte de rendu\"><code>contexte de rendu</code></a>. On notera que la feuille de style <a href=\"/fr/docs/Glossary/CSS\">CSS</a> définit l'arrière-plan comme étant noir. Ainsi, quand le canevas s'affiche en vert, on sait que <a href=\"/fr/docs/Glossary/WebGL\">WebGL</a> a fonctionné comme il fallait.</p>\n<p>Par ailleurs, vous pouvez remarquer que, pour appliquer une couleur unie sur le tampon (<em>buffer</em>) de dessin, on utilise deux étapes. Tout d'abord, on applique la couleur verte grâce à la méthode <a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/WebGLRenderingContext/clearColor\"><code>clearColor()</code> <small>(en-US)</small></a>. Cette opération ne modifie que l'état interne de <a href=\"/fr/docs/Glossary/WebGL\">WebGL</a>, rien n'est peint/affiché pour le moment. Ensuite, on dessine « réellement » avec la méthode <a href=\"/fr/docs/Web/API/WebGLRenderingContext/clear\" title=\"clear()\"><code>clear()</code></a>. C'est la méthode classique pour dessiner avec WebGL. Il y a seulement quelques méthodes qui « dessinent » (dont <code>clear()</code>), toutes les autres méthodes permettent d'obtenir ou de modifier les variables liées aux états de WebGL (dont la couleur à appliquer).</p>\n<p>Il existe de nombreuses options pour modifier les états <a href=\"/fr/docs/Glossary/WebGL\">WebGL</a>. La couleur à appliquer en est une parmi d'autres.<a href=\"/fr/docs/Glossary/WebGL\">WebGL</a>/<a href=\"/fr/docs/Glossary/OpenGL\">OpenGL</a> est souvent qualifié d'automate à états. En fait, lorsque vous manipulez ces variables internes, ces « interrupteurs », vous modifiez l'état interne de WebGL, qui modifie à son tour la façon dont la sortie est retranscrite (dans cet exemple, cela correspond à l'étape où les pixels sont passés en vert).</p>\n<p>Enfin, vous pouvez voir que les couleurs manipulées en WebGL sont décrites avec le format <a class=\"page-not-created\" title=\"Cette documentation n'a pas encore été rédigée, vous pouvez aider en contribuant&nbsp;!\">RGBA</a>. Ce format décrit quatre composantes numériques pour les intensités respectives des tons rouge (R), vert (<em>green</em> G), bleu (B) et alpha (qui correspond à l'opacité). C'est pour ça que <code>clearColor()</code> prend quatre arguments.</p>\n<div class=\"code-example\"><pre class=\"brush: html notranslate\"><code><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">&gt;</span></span>Un programme WebGL très simple qui affiche une couleur.<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token comment\">&lt;!-- Le texte d'un élément canvas est affiché uniquement\n    si canvas n'est pas supporté. --&gt;</span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>canvas</span><span class=\"token punctuation\">&gt;</span></span>Il semblerait que votre navigateur ne supporte pas\n    le canevas HTML5<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>canvas</span><span class=\"token punctuation\">&gt;</span></span>\n</code></pre></div>\n<div class=\"code-example\"><pre class=\"brush: css notranslate\"><code><span class=\"token selector\">body</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">text-align</span> <span class=\"token punctuation\">:</span> center<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token selector\">canvas</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">display</span> <span class=\"token punctuation\">:</span> block<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">width</span> <span class=\"token punctuation\">:</span> 280px<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">height</span> <span class=\"token punctuation\">:</span> 210px<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">margin</span> <span class=\"token punctuation\">:</span> auto<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">padding</span> <span class=\"token punctuation\">:</span> 0<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">border</span> <span class=\"token punctuation\">:</span> none<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">background-color</span> <span class=\"token punctuation\">:</span> black<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token comment\">// On exécute tout dans le gestionnaire d'événement</span>\n<span class=\"token comment\">// correspondant au chargement de la fenêtre. De cette</span>\n<span class=\"token comment\">// façon, le DOM est complètement chargé et mis en forme</span>\n<span class=\"token comment\">// avant de le manipuler et d'encombrer la portée globale.</span>\n<span class=\"token comment\">// On donne un nom au gestionnaire (setupWebGL) afin de</span>\n<span class=\"token comment\">// pouvoir y faire référence par la suite.</span>\nwindow<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"load\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token function\">setupWebGL</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">evt</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token string\">\"use strict\"</span>\n\n  <span class=\"token comment\">// On fait le ménage : le gestionnaire se supprime lui-</span>\n  <span class=\"token comment\">// même car il n'a besoin d'être exécuté qu'une fois.</span>\n  window<span class=\"token punctuation\">.</span><span class=\"token function\">removeEventListener</span><span class=\"token punctuation\">(</span>evt<span class=\"token punctuation\">.</span>type<span class=\"token punctuation\">,</span> setupWebGL<span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// On fait référence aux éléments du document.</span>\n  <span class=\"token keyword\">var</span> paragraph <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"p\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    canvas <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"canvas\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// On récupère le contexte de rendu WebGL.</span>\n  <span class=\"token keyword\">var</span> gl <span class=\"token operator\">=</span> canvas<span class=\"token punctuation\">.</span><span class=\"token function\">getContext</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"webgl\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token operator\">||</span> canvas<span class=\"token punctuation\">.</span><span class=\"token function\">getContext</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"experimental-webgl\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// Si cela échoue, on informe l'utilisateur.</span>\n  <span class=\"token comment\">// Sinon, on initialise la zone de dessin et on</span>\n  <span class=\"token comment\">// applique une couleur dans le contexte.</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>gl<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    paragraph<span class=\"token punctuation\">.</span>innerHTML <span class=\"token operator\">=</span> <span class=\"token string\">\"Échec de la récupération du \"</span>\n      <span class=\"token operator\">+</span> <span class=\"token string\">\"contexte WebGL. Votre navigateur peut ne pas \"</span>\n      <span class=\"token operator\">+</span> <span class=\"token string\">\" supporter WebGL.\"</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  paragraph<span class=\"token punctuation\">.</span>innerHTML <span class=\"token operator\">=</span>\n    <span class=\"token string\">\"Félicitations, votre navigateur supporte WebGL. \"</span><span class=\"token punctuation\">;</span>\n  gl<span class=\"token punctuation\">.</span><span class=\"token function\">viewport</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span>\n    gl<span class=\"token punctuation\">.</span>drawingBufferWidth<span class=\"token punctuation\">,</span> gl<span class=\"token punctuation\">.</span>drawingBufferHeight<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// On définit la couleur qu'on veut appliquer</span>\n  <span class=\"token comment\">// (ici un vert foncé).</span>\n  gl<span class=\"token punctuation\">.</span><span class=\"token function\">clearColor</span><span class=\"token punctuation\">(</span><span class=\"token number\">0.0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0.5</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0.0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1.0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// Enfin, on applique la couleur dans le contexte. C'est</span>\n  <span class=\"token comment\">// cette fonction qui « dessine » réellement quelque chose.</span>\n  gl<span class=\"token punctuation\">.</span><span class=\"token function\">clear</span><span class=\"token punctuation\">(</span>gl<span class=\"token punctuation\">.</span><span class=\"token constant\">COLOR_BUFFER_BIT</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<p>Le code source de cet exemple est également disponible sur <a href=\"https://github.com/idofilin/webgl-by-example/tree/master/clearing-with-colors\" class=\"external\" rel=\" noopener\">GitHub</a>.</p><ul class=\"prev-next\">\n    <li><a class=\"button minimal\" href=\"/fr/docs/Web/API/WebGL_API/By_example/Detect_WebGL\">« Précédent</a></li>\n    <li><a class=\"button minimal\" href=\"/fr/docs/Web/API/WebGL_API/By_example/Clearing_by_clicking\">Suivant  »</a></li>\n</ul>"}}],"toc":[],"summary":"Dans cet article, on voit comment appliquer une couleur unie dans le contexte de rendu.","popularity":0,"modified":"2022-10-01T03:41:16.000Z","other_translations":[{"title":"Clearing with colors","locale":"en-US","native":"English (US)"},{"title":"清除画布","locale":"zh-CN","native":"中文 (简体)"}],"source":{"folder":"fr/web/api/webgl_api/by_example/clearing_with_colors","github_url":"https://github.com/mdn/translated-content/blob/main/files/fr/web/api/webgl_api/by_example/clearing_with_colors/index.md","last_commit_url":"https://github.com/mdn/translated-content/commit/921c46a374ab0a9f4cc809af0370f8c412e54701","filename":"index.md"},"parents":[{"uri":"/fr/docs/Web","title":"Technologies web pour développeurs"},{"uri":"/fr/docs/Web/API","title":"Référence Web API"},{"uri":"/fr/docs/Web/API/WebGL_API","title":"L'API WebGL : graphismes 2D et 3D pour le web"},{"uri":"/fr/docs/Web/API/WebGL_API/By_example","title":"WebGL par l'exemple"},{"uri":"/fr/docs/Web/API/WebGL_API/By_example/Clearing_with_colors","title":"Appliquer des couleurs"}],"pageTitle":"Appliquer des couleurs - Référence Web API | MDN","noIndexing":false}}