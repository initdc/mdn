{"doc":{"isMarkdown":true,"isTranslated":true,"isActive":true,"flaws":{},"title":"Notification.requestPermission()","mdn_url":"/fr/docs/Web/API/notification/requestPermission","locale":"fr","native":"Français","sidebarHTML":"<ol><li><strong><a href=\"/fr/docs/Web/API/Notifications_API\">Notifications API</a></strong></li><li><strong><a href=\"/fr/docs/Web/API/notification\"><code>Notification</code></a></strong></li><li class=\"toggle\"><details open=\"\"><summary>Constructeur</summary><ol><li><a href=\"/fr/docs/Web/API/notification/Notification\"><code>Notification()</code></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>Propriétés</summary><ol><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><a href=\"/fr/docs/Web/API/notification/actions\"><code>actions</code></a></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><a href=\"/fr/docs/Web/API/notification/badge\"><code>badge</code></a></li><li><a href=\"/fr/docs/Web/API/notification/body\"><code>body</code></a></li><li><a href=\"/fr/docs/Web/API/notification/data\"><code>data</code></a></li><li><a href=\"/fr/docs/Web/API/notification/dir\"><code>dir</code></a></li><li><a href=\"/fr/docs/Web/API/notification/icon\"><code>icon</code></a></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><a href=\"/fr/docs/Web/API/notification/image\"><code>image</code></a></li><li><a href=\"/fr/docs/Web/API/notification/lang\"><code>lang</code></a></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><a href=\"/fr/docs/Web/API/notification/maxActions\"><code>maxActions</code></a></li><li><a href=\"/fr/docs/Web/API/notification/permission\"><code>permission</code></a></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><a href=\"/fr/docs/Web/API/notification/renotify\"><code>renotify</code></a></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><a href=\"/fr/docs/Web/API/notification/requireInteraction\"><code>requireInteraction</code></a></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><a href=\"/fr/docs/Web/API/notification/silent\"><code>silent</code></a></li><li><a href=\"/fr/docs/Web/API/notification/tag\"><code>tag</code></a></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><a href=\"/fr/docs/Web/API/notification/timestamp\"><code>timestamp</code></a></li><li><a href=\"/fr/docs/Web/API/notification/title\"><code>title</code></a></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><a href=\"/fr/docs/Web/API/notification/vibrate\"><code>vibrate</code></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>Méthodes</summary><ol><li><a href=\"/fr/docs/Web/API/notification/close\"><code>close()</code></a></li><li><a href=\"/fr/docs/Web/API/notification/requestPermission\"><code>requestPermission()</code></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>Événements</summary><ol><li><a href=\"/fr/docs/Web/API/Notification/click_event\"><code>click</code></a></li><li><a href=\"/fr/docs/Web/API/Notification/close_event\"><code>close</code></a></li><li><a href=\"/fr/docs/Web/API/Notification/error_event\"><code>error</code></a></li><li><a href=\"/fr/docs/Web/API/Notification/show_event\"><code>show</code></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>Héritage&nbsp;:</summary><ol><li><a href=\"/fr/docs/Web/API/EventTarget\"><code>EventTarget</code></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>Pages liées à Web Notifications</summary><ol><li><a href=\"/fr/docs/Web/API/NotificationEvent\"><code>NotificationEvent</code></a></li><li><a href=\"/fr/docs/Web/API/ServiceWorkerRegistration/getNotifications\"><code>ServiceWorkerRegistration.getNotifications()</code></a></li><li><a href=\"/fr/docs/Web/API/ServiceWorkerRegistration/showNotification\"><code>ServiceWorkerRegistration.showNotification()</code></a></li></ol></details></li></ol>","body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<div class=\"notecard note\" id=\"sect1\">\n  <p><strong>Note:</strong> Cette fonctionnalité est disponible via les <a href=\"/fr/docs/Web/API/Web_Workers_API\">Web Workers</a></p>\n</div><div class=\"notecard secure\" id=\"sect2\"><p><strong>Contexte sécurisé:</strong> Cette fonctionnalité est uniquement disponible dans des <a href=\"/fr/docs/Web/Security/Secure_Contexts\">contextes sécurisés</a> (HTTPS), pour certains <a href=\"#compatibilité_des_navigateurs\">navigateurs qui la prennent en charge</a>.</p></div>\n<div class=\"notecard note\" id=\"sect3\">\n  <p><strong>Note :</strong> Cette fonctionnalité n'est pas disponible dans <a href=\"/fr/docs/Web/API/SharedWorker\"><code>SharedWorker</code></a></p>\n</div>\n<div class=\"notecard note\" id=\"sect4\">\n  <p><strong>Note :</strong> Safari utilise toujours la syntaxe de function de rappel (callback ) pour obtenir l'autorisation. Lisez <a href=\"/fr/docs/Web/API/Notifications_API/Using_the_Notifications_API\">Utilisation de l'API Notifications</a> pour un bon exemple de la fonctionnalité de détection et d'exécution du code le cas échéant.</p>\n</div>\n<p>La méthode <strong><code>requestPermission()</code></strong> de l'interface <a href=\"/fr/docs/Web/API/notification\"><code>Notification</code></a> demande l'autorisation à l'utilisateur pour l'origine actuelle d'afficher des notifications.</p>"}},{"type":"prose","value":{"id":"syntaxe","title":"Syntaxe","isH3":false,"content":"<p>La dernière spécification a mis à jour cette méthode avec une syntaxe basée sur une promesse qui fonctionne comme ceci:</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code>Notification<span class=\"token punctuation\">.</span><span class=\"token function\">requestPermission</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">permission</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span> <span class=\"token operator\">...</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n</code></pre></div>\n<p>Auparavant, la syntaxe était basée sur un simple rappel; cette version est désormais obsolète:</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code>Notification<span class=\"token punctuation\">.</span><span class=\"token function\">requestPermission</span><span class=\"token punctuation\">(</span>callback<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>"}},{"type":"prose","value":{"id":"paramètres","title":"Paramètres","isH3":true,"content":"<dl>\n  <dt id=\"callback\"><code>callback</code> <span class=\"badge inline optional\">Facultatif</span> <span class=\"notecard inline deprecated\" title=\"(Firefox 46 / Thunderbird 46 / SeaMonkey 2.43)\">Obsolète depuis Gecko 46</span></dt>\n  <dd>\n    <p>Une fonction de rappel facultative qui est appelée avec la valeur d'autorisation. Déconseillé en faveur de la valeur de retour de la promesse.</p>\n  </dd>\n</dl>"}},{"type":"prose","value":{"id":"retour","title":"Retour","isH3":true,"content":"<p>Une <a href=\"/fr/docs/Web/JavaScript/Reference/Global_Objects/Promise\"><code>Promesse</code></a> qui se résout en une <a href=\"/fr/docs/Web/JavaScript/Reference/Global_Objects/String\"><code>DOMString</code></a> avec la permission choisie par l'utilisateur. Les valeurs possibles pour cette chaîne sont:</p>\n<ul>\n  <li><code>granted</code></li>\n  <li><code>denied</code></li>\n  <li><code>default</code></li>\n</ul>"}},{"type":"prose","value":{"id":"exemples","title":"Exemples","isH3":false,"content":"<p>Supposons ce HTML de base:</p>\n<div class=\"code-example\"><pre class=\"brush: html notranslate\"><code><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token special-attr\"><span class=\"token attr-name\">onclick</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token value javascript language-javascript\"><span class=\"token function\">notifyMe</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></span><span class=\"token punctuation\">\"</span></span></span><span class=\"token punctuation\">&gt;</span></span>Notifie moi !<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">&gt;</span></span>\n</code></pre></div>\n<p>Il est possible d'envoyer une notification comme suit - nous présentons ici un ensemble de code assez détaillé et complet que vous pourriez utiliser si vous vouliez d'abord vérifier si les notifications sont prises en charge, puis vérifiez si l'autorisation a été accordée pour l'origine actuelle d'envoyer des notifications, puis demander l'autorisation si nécessaire, avant d'envoyer une notification.</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">function</span> <span class=\"token function\">notifyMe</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// Vérifions si le navigateur prend en charge les notifications</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Notification'</span> <span class=\"token keyword\">in</span> window<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Ce navigateur ne prend pas en charge la notification de bureau'</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token comment\">// Vérifions si les autorisations de notification ont déjà été accordées</span>\n  <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>Notification<span class=\"token punctuation\">.</span>permission <span class=\"token operator\">===</span> <span class=\"token string\">'granted'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// Si tout va bien, créons une notification</span>\n    <span class=\"token keyword\">const</span> notification <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Notification</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Salut toi!'</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token comment\">// Sinon, nous devons demander la permission à l'utilisateur</span>\n  <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>Notification<span class=\"token punctuation\">.</span>permission <span class=\"token operator\">!==</span> <span class=\"token string\">'denied'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    Notification<span class=\"token punctuation\">.</span><span class=\"token function\">requestPermission</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">permission</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token comment\">// Si l'utilisateur accepte, créons une notification</span>\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>permission <span class=\"token operator\">===</span> <span class=\"token string\">'granted'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">const</span> notification <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Notification</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Salut toi!'</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token comment\">// Enfin, si l'utilisateur a refusé les notifications, et que vous</span>\n  <span class=\"token comment\">// voulez être respectueux, il n'est plus nécessaire de les déranger.</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>Nous ne montrons plus d'exemple en direct sur cette page, car Chrome et Firefox n'autorisent plus les demandes de notification des <a href=\"/fr/docs/Web/HTML/Element/iframe\"><code>&lt;iframe&gt;</code></a>s d'origine croisée, avec d'autres navigateurs à suivre. Pour voir un exemple en action, consultez notre <a href=\"https://github.com/mdn/to-do-notifications/tree/gh-pages\" class=\"external\" rel=\" noopener\">exemple de liste de tâches</a> (voir également l'<a href=\"https://mdn.github.io/to-do-notifications/\" class=\"external\" rel=\" noopener\">application en cours d'exécution</a>.)</p>\n<div class=\"notecard note\" id=\"sect5\">\n  <p><strong>Note :</strong> Dans l'exemple ci-dessus, nous générons des notifications en réponse à un geste de l'utilisateur (en cliquant sur un bouton). Il ne s'agit pas seulement d'une bonne pratique - vous ne devriez pas envoyer de spam aux utilisateurs avec des notifications qu'ils n'acceptent pas - mais les navigateurs suivants interdiront explicitement les notifications non déclenchées en réponse à un geste de l'utilisateur. Firefox le fait déjà depuis la version 72, par exemple.</p>\n</div>"}},{"type":"specifications","value":{"title":"Spécifications","id":"spécifications","isH3":false,"specifications":[{"bcdSpecificationURL":"https://notifications.spec.whatwg.org/#dom-notification-requestpermission","title":"Notifications API Standard"}],"query":"api.Notification.requestPermission"}},{"type":"browser_compatibility","value":{"title":"Compatibilité des navigateurs","id":"compatibilité_des_navigateurs","isH3":false,"query":"api.Notification.requestPermission","dataURL":"/fr/docs/Web/API/notification/requestPermission/bcd.json"}},{"type":"prose","value":{"id":"voir_aussi","title":"Voir aussi","isH3":false,"content":"<ul>\n  <li><a href=\"/fr/docs/Web/API/Notifications_API/Using_the_Notifications_API\">Utilisation de l'API Notifications</a></li>\n</ul>"}}],"toc":[{"text":"Syntaxe","id":"syntaxe"},{"text":"Exemples","id":"exemples"},{"text":"Spécifications","id":"spécifications"},{"text":"Compatibilité des navigateurs","id":"compatibilité_des_navigateurs"},{"text":"Voir aussi","id":"voir_aussi"}],"summary":"La méthode requestPermission() de l'interface Notification demande l'autorisation à l'utilisateur pour l'origine actuelle d'afficher des notifications.","popularity":0,"modified":"2022-10-01T03:41:16.000Z","other_translations":[{"title":"Notification.requestPermission()","locale":"en-US","native":"English (US)"},{"title":"Notification.requestPermission()","locale":"es","native":"Español"},{"title":"Notification.requestPermission()","locale":"ja","native":"日本語"},{"title":"Notification.requestPermission()","locale":"zh-CN","native":"中文 (简体)"}],"source":{"folder":"fr/web/api/notification/requestpermission","github_url":"https://github.com/mdn/translated-content/blob/main/files/fr/web/api/notification/requestpermission/index.md","last_commit_url":"https://github.com/mdn/translated-content/commit/921c46a374ab0a9f4cc809af0370f8c412e54701","filename":"index.md"},"parents":[{"uri":"/fr/docs/Web","title":"Technologies web pour développeurs"},{"uri":"/fr/docs/Web/API","title":"Référence Web API"},{"uri":"/fr/docs/Web/API/notification","title":"Notification"},{"uri":"/fr/docs/Web/API/notification/requestPermission","title":"Notification.requestPermission()"}],"pageTitle":"Notification.requestPermission() - Référence Web API | MDN","noIndexing":false}}