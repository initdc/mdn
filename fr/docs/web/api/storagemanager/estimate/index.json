{"doc":{"isMarkdown":true,"isTranslated":true,"isActive":true,"flaws":{},"title":"StorageManager.estimate()","mdn_url":"/fr/docs/Web/API/StorageManager/estimate","locale":"fr","native":"Français","sidebarHTML":"<ol><li><strong><a href=\"/fr/docs/Web/API/Storage_API\">Storage API</a></strong></li><li><strong><a href=\"/fr/docs/Web/API/StorageManager\"><code>StorageManager</code></a></strong></li><li class=\"toggle\"><details open=\"\"><summary>Méthodes</summary><ol><li><em><code>estimate()</code></em></li><li><a href=\"/fr/docs/Web/API/StorageManager/persist\"><code>persist()</code></a></li><li><a href=\"/fr/docs/Web/API/StorageManager/persisted\"><code>persisted()</code></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>Pages liées à Storage</summary><ol><li><a href=\"/fr/docs/Web/API/Navigator/storage\"><code>Navigator.storage</code></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/WorkerNavigator/storage\"><code>WorkerNavigator.storage</code> <small>(en-US)</small></a></li></ol></details></li></ol>","body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<div class=\"notecard secure\" id=\"sect1\"><p><strong>Contexte sécurisé:</strong> Cette fonctionnalité est uniquement disponible dans des <a href=\"/fr/docs/Web/Security/Secure_Contexts\">contextes sécurisés</a> (HTTPS), pour certains <a href=\"#compatibilité_des_navigateurs\">navigateurs qui la prennent en charge</a>.</p></div>\n<p>La méthode <strong><code>estimate()</code></strong>, rattachée à l'interface <a href=\"/fr/docs/Web/API/StorageManager\"><code>StorageManager</code></a>, demande au gestionnaire de stockage l'espace occupé (<code>usage</code>) et l'espace disponible (<code>quota</code>) pour <a href=\"/fr/docs/Glossary/Same-origin_policy\">l'origine</a> courante.</p>\n<p>Cette méthode est asynchrone est renvoie une <a href=\"/fr/docs/Web/JavaScript/Reference/Global_Objects/Promise\">promesse</a> qui est résolue lorsque l'information est disponible. Le gestionnaire de réussite de la promesse est appelé avec un objet contenant les données pour l'usage actuel et le quota restant.</p>"}},{"type":"prose","value":{"id":"syntaxe","title":"Syntaxe","isH3":false,"content":"<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token function\">estimate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n</code></pre></div>"}},{"type":"prose","value":{"id":"paramètres","title":"Paramètres","isH3":true,"content":"<p>Aucun.</p>"}},{"type":"prose","value":{"id":"valeur_de_retour","title":"Valeur de retour","isH3":true,"content":"<p>Une promesse (un objet <a href=\"/fr/docs/Web/JavaScript/Reference/Global_Objects/Promise\"><code>Promise</code></a>) qui est résolue avec un objet doté des propriétés suivantes&nbsp;:</p>\n<dl>\n  <dt id=\"quota\"><code>quota</code></dt>\n  <dd>\n    <p>Une valeur numérique, exprimée en octets, qui fournit une approximation prudente de l'espace de stockage disponible sur l'appareil ou l'ordinateur de la personne pour cette origine ou cette application web. Il est possible que davantage d'espace soit disponible, mais ce n'est pas nécessairement le cas.</p>\n  </dd>\n  <dt id=\"usage\"><code>usage</code></dt>\n  <dd>\n    <p>Une valeur numérique, exprimée en octets, qui fournit une approximation de l'espace de stockage actuellement utilisé par le site ou l'application, par rapport à l'espace total disponible indiqué par <code>quota</code>.</p>\n  </dd>\n  <dt id=\"usagedetails\"><code>usageDetails</code> <svg class=\"icon icon-nonstandard\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-nonstandard\"></use>\n</svg></dt>\n  <dd>\n    <p>Un objet contenant une décomposition de <code>usage</code> par système de stockage. Toutes les propriétés incluses sur cet objet auront un <code>usage</code> supérieur à 0 et tout système de stockage avec <code>usage</code> à 0 ne sera pas fourni comme propriété de cet objet.</p>\n  </dd>\n</dl>\n<div class=\"notecard note\" id=\"sect2\">\n  <p><strong>Note :</strong> Les valeurs renvoyées ne sont pas précisément exactes. Cela est lié à la compression, la déduplication de données et au masquage des informations pour des raisons de sécurité.</p>\n</div>\n<p>Vous pourrez observer que <code>quota</code> varie en fonction des origines. Cette variation est basée sur plusieurs facteurs dont&nbsp;:</p>\n<ul>\n  <li>La fréquence de visite du site</li>\n  <li>Les données publiques quant à la popularité du site</li>\n  <li>Les signaux d'engagement fournis par la personne comme la mise en favori, l'inscription à l'écran d'accueil, ou l'acceptation des notifications <i lang=\"en\">push</i>.</li>\n</ul>"}},{"type":"prose","value":{"id":"exemples","title":"Exemples","isH3":false,"content":"<p>Dans cet exemple, on récupère les estimations de l'espace utilisé et du quota total afin de présenter un pourcentage de l'espace actuellement occupé sur la page.</p>"}},{"type":"prose","value":{"id":"html","title":"HTML","isH3":true,"content":"<div class=\"code-example\"><pre class=\"brush: html notranslate\"><code><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>label</span><span class=\"token punctuation\">&gt;</span></span>\n  Vous utilisez actuellement <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>output</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>percent<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>output</span><span class=\"token punctuation\">&gt;</span></span>% du stockage disponible.\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>label</span><span class=\"token punctuation\">&gt;</span></span>\n</code></pre></div>"}},{"type":"prose","value":{"id":"javascript","title":"JavaScript","isH3":true,"content":"<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code>navigator<span class=\"token punctuation\">.</span>storage<span class=\"token punctuation\">.</span><span class=\"token function\">estimate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">estimate</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"percent\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>value <span class=\"token operator\">=</span>\n      <span class=\"token punctuation\">(</span>estimate<span class=\"token punctuation\">.</span>usage <span class=\"token operator\">/</span> estimate<span class=\"token punctuation\">.</span>quota <span class=\"token operator\">*</span> <span class=\"token number\">100</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toFixed</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>"}},{"type":"prose","value":{"id":"résultat","title":"Résultat","isH3":true,"content":"<iframe class=\"sample-code-frame\" title=\"Exemples\" id=\"frame_3293\" width=\"600\" height=\"60\" src=\"https://yari-demos.prod.mdn.mozit.cloud/fr/docs/Web/API/StorageManager/estimate/_sample_.3293.html\" loading=\"lazy\"></iframe>"}},{"type":"specifications","value":{"title":"Spécifications","id":"spécifications","isH3":false,"specifications":[{"bcdSpecificationURL":"https://storage.spec.whatwg.org/#ref-for-dom-storagemanager-estimate","title":"Storage Standard"}],"query":"api.StorageManager.estimate"}},{"type":"browser_compatibility","value":{"title":"Compatibilité des navigateurs","id":"compatibilité_des_navigateurs","isH3":false,"query":"api.StorageManager.estimate","dataURL":"/fr/docs/Web/API/StorageManager/estimate/bcd.json"}},{"type":"prose","value":{"id":"voir_aussi","title":"Voir aussi","isH3":false,"content":"<ul>\n  <li><a href=\"/fr/docs/Web/API/Storage_API\">L'API Storage</a></li>\n  <li><a href=\"/fr/docs/Web/API/Storage\"><code>Storage</code></a>, l'objet renvoyé par <a href=\"/fr/docs/Web/API/Window/localStorage\"><code>Window.localStorage</code></a></li>\n  <li><a href=\"/fr/docs/Web/API/StorageManager\"><code>StorageManager</code></a></li>\n  <li><a href=\"/fr/docs/Web/API/Navigator/storage\"><code>navigator.storage</code></a></li>\n</ul>"}}],"toc":[{"text":"Syntaxe","id":"syntaxe"},{"text":"Exemples","id":"exemples"},{"text":"Spécifications","id":"spécifications"},{"text":"Compatibilité des navigateurs","id":"compatibilité_des_navigateurs"},{"text":"Voir aussi","id":"voir_aussi"}],"summary":"La méthode estimate(), rattachée à l'interface StorageManager, demande au gestionnaire de stockage l'espace occupé (usage) et l'espace disponible (quota) pour l'origine courante.","popularity":0,"modified":"2022-10-01T03:41:16.000Z","other_translations":[{"title":"StorageManager.estimate()","locale":"en-US","native":"English (US)"},{"title":"StorageManager.estimate()","locale":"es","native":"Español"},{"title":"StorageManager.estimate()","locale":"ja","native":"日本語"},{"title":"StorageManager.estimate()","locale":"ru","native":"Русский"},{"title":"StorageManager.estimate()","locale":"zh-CN","native":"中文 (简体)"}],"source":{"folder":"fr/web/api/storagemanager/estimate","github_url":"https://github.com/mdn/translated-content/blob/main/files/fr/web/api/storagemanager/estimate/index.md","last_commit_url":"https://github.com/mdn/translated-content/commit/921c46a374ab0a9f4cc809af0370f8c412e54701","filename":"index.md"},"parents":[{"uri":"/fr/docs/Web","title":"Technologies web pour développeurs"},{"uri":"/fr/docs/Web/API","title":"Référence Web API"},{"uri":"/fr/docs/Web/API/StorageManager","title":"StorageManager"},{"uri":"/fr/docs/Web/API/StorageManager/estimate","title":"StorageManager.estimate()"}],"pageTitle":"StorageManager.estimate() - Référence Web API | MDN","noIndexing":false}}