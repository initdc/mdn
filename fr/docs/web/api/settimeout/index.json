{"doc":{"isMarkdown":true,"isTranslated":true,"isActive":true,"flaws":{},"title":"setTimeout()","mdn_url":"/fr/docs/Web/API/setTimeout","locale":"fr","native":"Français","sidebarHTML":"<ol><li><strong><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/HTML_DOM_API\">HTML DOM API <small>(en-US)</small></a></strong></li><li><strong><a href=\"/fr/docs/Web/API/setTimeout\"><code>SetTimeout</code></a></strong></li><li class=\"toggle\"><details open=\"\"><summary>Pages liées à HTML DOM</summary><ol><li><a href=\"/fr/docs/Web/API/BeforeUnloadEvent\"><code>BeforeUnloadEvent</code></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/DOMStringMap\"><code>DOMStringMap</code> <small>(en-US)</small></a></li><li><a href=\"/fr/docs/Web/API/ErrorEvent\"><code>ErrorEvent</code></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/HTMLAnchorElement\"><code>HTMLAnchorElement</code> <small>(en-US)</small></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/HTMLAreaElement\"><code>HTMLAreaElement</code> <small>(en-US)</small></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/HTMLAudioElement\"><code>HTMLAudioElement</code> <small>(en-US)</small></a></li><li><a href=\"/fr/docs/Web/API/HTMLBRElement\"><code>HTMLBRElement</code></a></li><li><a href=\"/fr/docs/Web/API/HTMLBaseElement\"><code>HTMLBaseElement</code></a></li><li><a href=\"/fr/docs/Web/API/HTMLBodyElement\"><code>HTMLBodyElement</code></a></li><li><a href=\"/fr/docs/Web/API/HTMLButtonElement\"><code>HTMLButtonElement</code></a></li><li><a href=\"/fr/docs/Web/API/HTMLCanvasElement\"><code>HTMLCanvasElement</code></a></li><li><a href=\"/fr/docs/Web/API/HTMLContentElement\"><code>HTMLContentElement</code></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/HTMLDListElement\"><code>HTMLDListElement</code> <small>(en-US)</small></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/HTMLDataElement\"><code>HTMLDataElement</code> <small>(en-US)</small></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/HTMLDataListElement\"><code>HTMLDataListElement</code> <small>(en-US)</small></a></li><li><a href=\"/fr/docs/Web/API/HTMLDialogElement\"><code>HTMLDialogElement</code></a></li><li><a href=\"/fr/docs/Web/API/HTMLDivElement\"><code>HTMLDivElement</code></a></li><li><a href=\"/fr/docs/Web/API/HTMLDocument\"><code>HTMLDocument</code></a></li><li><a href=\"/fr/docs/Web/API/HTMLElement\"><code>HTMLElement</code></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/HTMLEmbedElement\"><code>HTMLEmbedElement</code> <small>(en-US)</small></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/HTMLFieldSetElement\"><code>HTMLFieldSetElement</code> <small>(en-US)</small></a></li><li><a href=\"/fr/docs/Web/API/HTMLFormControlsCollection\"><code>HTMLFormControlsCollection</code></a></li><li><a href=\"/fr/docs/Web/API/HTMLFormElement\"><code>HTMLFormElement</code></a></li><li><a href=\"/fr/docs/Web/API/HTMLFrameSetElement\"><code>HTMLFrameSetElement</code></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/HTMLHRElement\"><code>HTMLHRElement</code> <small>(en-US)</small></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/HTMLHeadElement\"><code>HTMLHeadElement</code> <small>(en-US)</small></a></li><li><a href=\"/fr/docs/Web/API/HTMLHeadingElement\"><code>HTMLHeadingElement</code></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/HTMLHtmlElement\"><code>HTMLHtmlElement</code> <small>(en-US)</small></a></li><li><a href=\"/fr/docs/Web/API/HTMLIFrameElement\"><code>HTMLIFrameElement</code></a></li><li><a href=\"/fr/docs/Web/API/HTMLImageElement\"><code>HTMLImageElement</code></a></li><li><a href=\"/fr/docs/Web/API/HTMLInputElement\"><code>HTMLInputElement</code></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/HTMLKeygenElement\"><code>HTMLKeygenElement</code> <small>(en-US)</small></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/HTMLLIElement\"><code>HTMLLIElement</code> <small>(en-US)</small></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/HTMLLabelElement\"><code>HTMLLabelElement</code> <small>(en-US)</small></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/HTMLLegendElement\"><code>HTMLLegendElement</code> <small>(en-US)</small></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/HTMLLinkElement\"><code>HTMLLinkElement</code> <small>(en-US)</small></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/HTMLMapElement\"><code>HTMLMapElement</code> <small>(en-US)</small></a></li><li><a href=\"/fr/docs/Web/API/HTMLMediaElement\"><code>HTMLMediaElement</code></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/HTMLMetaElement\"><code>HTMLMetaElement</code> <small>(en-US)</small></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/HTMLMeterElement\"><code>HTMLMeterElement</code> <small>(en-US)</small></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/HTMLModElement\"><code>HTMLModElement</code> <small>(en-US)</small></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/HTMLOListElement\"><code>HTMLOListElement</code> <small>(en-US)</small></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/HTMLObjectElement\"><code>HTMLObjectElement</code> <small>(en-US)</small></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/HTMLOptGroupElement\"><code>HTMLOptGroupElement</code> <small>(en-US)</small></a></li><li><a href=\"/fr/docs/Web/API/HTMLOptionElement\"><code>HTMLOptionElement</code></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/HTMLOptionsCollection\"><code>HTMLOptionsCollection</code> <small>(en-US)</small></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/HTMLOutputElement\"><code>HTMLOutputElement</code> <small>(en-US)</small></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/HTMLParagraphElement\"><code>HTMLParagraphElement</code> <small>(en-US)</small></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/HTMLPictureElement\"><code>HTMLPictureElement</code> <small>(en-US)</small></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/HTMLPreElement\"><code>HTMLPreElement</code> <small>(en-US)</small></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/HTMLProgressElement\"><code>HTMLProgressElement</code> <small>(en-US)</small></a></li><li><a href=\"/fr/docs/Web/API/HTMLQuoteElement\"><code>HTMLQuoteElement</code></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/HTMLScriptElement\"><code>HTMLScriptElement</code> <small>(en-US)</small></a></li><li><a href=\"/fr/docs/Web/API/HTMLSelectElement\"><code>HTMLSelectElement</code></a></li><li><a href=\"/fr/docs/Web/API/HTMLShadowElement\"><code>HTMLShadowElement</code></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/HTMLSourceElement\"><code>HTMLSourceElement</code> <small>(en-US)</small></a></li><li><a href=\"/fr/docs/Web/API/HTMLSpanElement\"><code>HTMLSpanElement</code></a></li><li><a href=\"/fr/docs/Web/API/HTMLStyleElement\"><code>HTMLStyleElement</code></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/HTMLTableCaptionElement\"><code>HTMLTableCaptionElement</code> <small>(en-US)</small></a></li><li><a href=\"/fr/docs/Web/API/HTMLTableCellElement\"><code>HTMLTableCellElement</code></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/HTMLTableColElement\"><code>HTMLTableColElement</code> <small>(en-US)</small></a></li><li><a href=\"/fr/docs/Web/API/HTMLTableElement\"><code>HTMLTableElement</code></a></li><li><a href=\"/fr/docs/Web/API/HTMLTableRowElement\"><code>HTMLTableRowElement</code></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/HTMLTableSectionElement\"><code>HTMLTableSectionElement</code> <small>(en-US)</small></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/HTMLTemplateElement\"><code>HTMLTemplateElement</code> <small>(en-US)</small></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/HTMLTextAreaElement\"><code>HTMLTextAreaElement</code> <small>(en-US)</small></a></li><li><a href=\"/fr/docs/Web/API/HTMLTimeElement\"><code>HTMLTimeElement</code></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/HTMLTitleElement\"><code>HTMLTitleElement</code> <small>(en-US)</small></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/HTMLTrackElement\"><code>HTMLTrackElement</code> <small>(en-US)</small></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/HTMLUListElement\"><code>HTMLUListElement</code> <small>(en-US)</small></a></li><li><a href=\"/fr/docs/Web/API/HTMLUnknownElement\"><code>HTMLUnknownElement</code></a></li><li><a href=\"/fr/docs/Web/API/HTMLVideoElement\"><code>HTMLVideoElement</code></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/HashChangeEvent\"><code>HashChangeEvent</code> <small>(en-US)</small></a></li><li><a href=\"/fr/docs/Web/API/History\"><code>History</code></a></li><li><a href=\"/fr/docs/Web/API/ImageData\"><code>ImageData</code></a></li><li><a href=\"/fr/docs/Web/API/Location\"><code>Location</code></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/MessageChannel\"><code>MessageChannel</code> <small>(en-US)</small></a></li><li><a href=\"/fr/docs/Web/API/MessageEvent\"><code>MessageEvent</code></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/MessagePort\"><code>MessagePort</code> <small>(en-US)</small></a></li><li><a href=\"/fr/docs/Web/API/Navigator\"><code>Navigator</code></a></li><li><a href=\"/fr/docs/Web/API/PageTransitionEvent\"><code>PageTransitionEvent</code></a></li><li><a href=\"/fr/docs/Web/API/Plugin\"><code>Plugin</code></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/PluginArray\"><code>PluginArray</code> <small>(en-US)</small></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/PopStateEvent\"><code>PopStateEvent</code> <small>(en-US)</small></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/PromiseRejectionEvent\"><code>PromiseRejectionEvent</code> <small>(en-US)</small></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/RadioNodeList\"><code>RadioNodeList</code> <small>(en-US)</small></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/ValidityState\"><code>ValidityState</code> <small>(en-US)</small></a></li><li><a href=\"/fr/docs/Web/API/Window\"><code>Window</code></a></li></ol></details></li></ol>","body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<p>La méthode globale <strong><code>setTimeout()</code></strong> permet de définir un minuteur qui exécute une fonction ou un code donné après la fin du délai indiqué.</p>"}},{"type":"prose","value":{"id":"syntaxe","title":"Syntaxe","isH3":false,"content":"<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span>code<span class=\"token punctuation\">)</span>\n<span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span>code<span class=\"token punctuation\">,</span> delay<span class=\"token punctuation\">)</span>\n\n<span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span>functionRef<span class=\"token punctuation\">)</span>\n<span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span>functionRef<span class=\"token punctuation\">,</span> delay<span class=\"token punctuation\">)</span>\n<span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span>functionRef<span class=\"token punctuation\">,</span> delay<span class=\"token punctuation\">,</span> param1<span class=\"token punctuation\">)</span>\n<span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span>functionRef<span class=\"token punctuation\">,</span> delay<span class=\"token punctuation\">,</span> param1<span class=\"token punctuation\">,</span> param2<span class=\"token punctuation\">)</span>\n<span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span>functionRef<span class=\"token punctuation\">,</span> delay<span class=\"token punctuation\">,</span> param1<span class=\"token punctuation\">,</span> param2<span class=\"token punctuation\">,</span> <span class=\"token comment\">/* ... ,*/</span> paramN<span class=\"token punctuation\">)</span>\n</code></pre></div>"}},{"type":"prose","value":{"id":"paramètres","title":"Paramètres","isH3":true,"content":"<dl>\n  <dt id=\"functionref\"><code>functionRef</code></dt>\n  <dd>\n    <p>Une <a href=\"/fr/docs/Web/JavaScript/Reference/Global_Objects/Function\">fonction</a> à exécuter lorsque le délai du minuteur est expiré.</p>\n  </dd>\n  <dt id=\"code\"><code>code</code></dt>\n  <dd>\n    <p>Une syntaxe alternative qui permet d'inclure une chaîne de caractères plutôt qu'une fonction. Le code contenu est compilé et exécuté lorsque le minuteur expire. Cette syntaxe est <strong>déconseillée</strong> pour les mêmes raisons qu'<a href=\"/fr/docs/Web/JavaScript/Reference/Global_Objects/eval\"><code>eval()</code></a> et représente un risque de sécurité.</p>\n  </dd>\n  <dt id=\"delay\"><code>delay</code> <span class=\"badge inline optional\">Facultatif</span></dt>\n  <dd>\n    <p>La durée, exprimée en millisecondes, que le minuteur devrait attendre avant l'exécution de la fonction indiquée. Si ce paramètre est absent, c'est 0 qui est utilisé comme valeur par défaut, indiquant que la fonction doit être exécutée au plus vite, c'est-à-dire au prochain cycle d'évènements.</p>\n    <p>Que le paramètre soit fourni ou non, la durée attendue avant l'exécution peut être plus longue que le nombre de millisecondes exprimées, voir <a href=\"#raisons_pour_lesquelles_la_dur%C3%A9e_effective_est_plus_longue\">les raisons pour lesquelles la durée effective est plus longue</a> ci-après.</p>\n    <p>On notera également que si la valeur n'est pas un nombre, <a href=\"/fr/docs/Glossary/Type_coercion\">une conversion implicite</a> est effectuée pour transformer la valeur en un nombre. Voir <a href=\"#conversion_de_valeur_non-num%C3%A9rique_pour_le_dur%C3%A9e\">un exemple de conversion de valeur non-numérique pour la durée</a> ci-après.</p>\n  </dd>\n  <dt id=\"param1\"><code>param1</code>, …, <code>paramN</code> <span class=\"badge inline optional\">Facultatif</span></dt>\n  <dd>\n    <p>Des arguments additionnels qui sont passés à la fonction donnée par l'argument <code>function</code>.</p>\n  </dd>\n</dl>"}},{"type":"prose","value":{"id":"valeur_de_retour","title":"Valeur de retour","isH3":true,"content":"<p>Un entier positif <code>timeoutID</code> qui identifie le minuteur créé par l'appel à <code>setTimeout()</code>. Cette valeur peut être passée à <a href=\"/en-US/docs/Web/API/clearTimeout\" class=\"only-in-en-us\" title=\"Currently only available in English (US)\">clearTimeout() (en-US)</a> pour annuler le minuteur.</p>\n<p>Une même valeur de <code>timeoutID</code> ne sera jamais réutilisée par un appel ultérieur à <code>setTimeout()</code> ou <code>setInterval()</code> sur le même objet (que ce soit une fenêtre ou un <i lang=\"en\">worker</i>). Toutefois, des objets différents utilisent des ensembles distincts d'identifiants.</p>"}},{"type":"prose","value":{"id":"description","title":"Description","isH3":false,"content":"<p>Les minuteurs sont annulés grâce à la fonction <a href=\"/en-US/docs/Web/API/clearTimeout\" class=\"only-in-en-us\" title=\"Currently only available in English (US)\">clearTimeout() (en-US)</a>.</p>\n<p>Pour appeler une fonction de façon répétée (toutes les <em>N</em> millisecondes), on utilisera plutôt <a href=\"/en-US/docs/Web/API/setInterval\" class=\"only-in-en-us\" title=\"Currently only available in English (US)\">setInterval() (en-US)</a>.</p>"}},{"type":"prose","value":{"id":"conversion_de_valeur_non-numérique_pour_la_durée","title":"Conversion de valeur non-numérique pour la durée","isH3":true,"content":"<p>Lorsque <code>setTimeout()</code> est appelée avec une valeur du paramètre <code>delay</code> qui n'est pas un nombre, une <a href=\"/fr/docs/Glossary/Type_coercion\">conversion de type</a> sera effectuée implicitement pour convertir la valeur en nombre. Ainsi, dans l'exemple qui suit, le code fait l'erreur d'utiliser la valeur <code>\"1000\"</code> qui est une chaîne de caractères, plutôt que le nombre <code>1000</code>, mais cela fonctionne, car la chaîne est transformée implicitement dans la valeur numérique <code>1000</code>, et la fonction est donc exécutée après 1 seconde.</p>\n<div class=\"code-example\"><pre class=\"brush: js example-bad notranslate\"><code><span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Retardée d'une seconde.\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"1000\"</span><span class=\"token punctuation\">)</span>\n</code></pre></div>\n<p>Toutefois, dans de nombreux cas, la conversion implicite peut mener à des résultats inattendus voire surprenants. Par exemple, lorsque le code qui suit est exécuté, la chaîne de caractères <code>\"1 seconde\"</code> est en fait transformée dans le nombre <code>0</code>, et le code est donc exécuté immédiatement.</p>\n<div class=\"code-example\"><pre class=\"brush: js example-bad notranslate\"><code><span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Retardée d'une seconde.\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"1 seconde\"</span><span class=\"token punctuation\">)</span>\n</code></pre></div>\n<p>Aussi, on veillera à ne pas utiliser de chaîne de caractères pour le paramètre <code>delay</code> et à utiliser uniquement des nombres&nbsp;:</p>\n<div class=\"code-example\"><pre class=\"brush: js example-good notranslate\"><code><span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Retardée d'une seconde.\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">)</span>\n</code></pre></div>"}},{"type":"prose","value":{"id":"fonctionnement_avec_les_fonctions_asynchrones","title":"Fonctionnement avec les fonctions asynchrones","isH3":true,"content":"<p><code>setTimeout()</code> est une fonction asynchrone, ce qui signifie que la fonction passée en argument ne bloquera pas l'exécution des autres fonctions de la pile d'appels. Autrement dit, on ne peut pas utiliser <code>setTimeout()</code> afin de créer une pause avant que la prochaine fonction de la pile soit déclenchée.</p>\n<p>Prenons cet exemple&nbsp;:</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Voici le premier message\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Voici le second message\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Voici le troisième message\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// Produira ceci dans la console&amp;nbsp;:</span>\n\n<span class=\"token comment\">// Voici le troisième message</span>\n<span class=\"token comment\">// Voici le second message</span>\n<span class=\"token comment\">// Voici le premier message</span>\n</code></pre></div>\n<p>On voit ici que la première fonction ne crée pas une pause de 5 secondes que la deuxième fonction soit appelée. La première fonction est appelée par le moteur dès lors que 5 secondes sont écoulées. Pendant ce délai, le reste des instructions continue de s'exécuter et la deuxième fonction est appelée par le moteur dès que 3 secondes se sont écoulées. Juste après, il en va de même après la troisième fonction. Le délai de 1 seconde étant écoulé d'abord, c'est la troisième fonction qui est exécutée d'abord, puis la seconde et enfin la première.</p>\n<p>Pour créer une séquence d'opérations où une fonction se déclenche uniquement après qu'une autre fonction ait terminé, on utilisera plutôt <a href=\"/fr/docs/Web/JavaScript/Reference/Global_Objects/Promise\">les promesses</a>.</p>"}},{"type":"prose","value":{"id":"le_problème_de_this","title":"Le problème de <code>this</code>","isH3":true,"content":"<p>Lorsqu'on passe une méthode à <code>setTimeout()</code>, elle est appelée avec une valeur de <code>this</code> qui peut être différente de celle attendue. Ce problème général est détaillé dans <a href=\"/fr/docs/Web/JavaScript/Reference/Operators/this#en_tant_que_m%C3%A9thode_dun_objet\">la référence JavaScript</a>.</p>\n<p>Le code exécuté par <code>setTimeout()</code> est appelé par un contexte d'exécution séparé de la fonction depuis laquelle <code>setTimeout()</code> a été appelé. Les règles usuelles pour la définition du mot-clé <code>this</code> s'appliquent et si <code>this</code> n'est pas défini lors de l'appel ou avec <code>bind()</code>, sa valeur par défaut sera l'objet <code>window</code> (ou <code>global</code>). Il ne s'agira pas de la même valeur de <code>this</code> qu'au sein de la fonction qui a appelé <code>setTimeout()</code>.</p>\n<p>Prenons l'exemple suivant&nbsp;:</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">const</span> monTableau <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'zéro'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'un'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'deux'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\nmonTableau<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">maMethode</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">sPropriete</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>arguments<span class=\"token punctuation\">.</span>length <span class=\"token operator\">&gt;</span> <span class=\"token number\">0</span> <span class=\"token operator\">?</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">[</span>sPropriete<span class=\"token punctuation\">]</span> <span class=\"token operator\">:</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\nmonTableau<span class=\"token punctuation\">.</span><span class=\"token function\">maMethode</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  <span class=\"token comment\">// affiche \"zéro,un,deux\"</span>\nmonTableau<span class=\"token punctuation\">.</span><span class=\"token function\">maMethode</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// affiche \"un\"</span>\n</code></pre></div>\n<p>Cela fonctionne, car, lorsque <code>maMethode</code> est appelée, <code>this</code> vaut <code>monTableau</code> et, au sein de la fonction, <code>this[sPropriete]</code> est donc équivalent à <code>monTableau[sPropriete]</code>. Toutefois, si on écrit ceci&nbsp;:</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span>monTableau<span class=\"token punctuation\">.</span>maMethode<span class=\"token punctuation\">,</span> <span class=\"token number\">1.0</span><span class=\"token operator\">*</span><span class=\"token number\">1000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// affiche \"[object Window]\" après 1 seconde</span>\n<span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span>monTableau<span class=\"token punctuation\">.</span>maMethode<span class=\"token punctuation\">,</span> <span class=\"token number\">1.5</span><span class=\"token operator\">*</span><span class=\"token number\">1000</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'1'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// affiche \"undefined\" après 1.5 secondes</span>\n</code></pre></div>\n<p>La fonction <code>monTableau.maMethode</code> est passée à <code>setTimeout</code>, et lorsqu'elle est appelée, la valeur de <code>this</code> n'est pas définie et vaut <code>window</code> par défaut.</p>\n<p>Il n'y a pas d'argument <code>thisArg</code> pour <code>setTimeout</code> (comme on peut en voir pour <a href=\"/fr/docs/Web/JavaScript/Reference/Global_Objects/Array/forEach\"><code>forEach()</code></a> et <a href=\"/fr/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce\"><code>reduce()</code></a>. Comme indiqué après, utiliser <code>call()</code> ne fonctionne pas non plus.</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token function\">setTimeout</span><span class=\"token punctuation\">.</span><span class=\"token function\">call</span><span class=\"token punctuation\">(</span>monTableau<span class=\"token punctuation\">,</span> monTableau<span class=\"token punctuation\">.</span>maMethode<span class=\"token punctuation\">,</span> <span class=\"token number\">2.0</span><span class=\"token operator\">*</span><span class=\"token number\">1000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// erreur</span>\n<span class=\"token function\">setTimeout</span><span class=\"token punctuation\">.</span><span class=\"token function\">call</span><span class=\"token punctuation\">(</span>monTableau<span class=\"token punctuation\">,</span> monTableau<span class=\"token punctuation\">.</span>maMethode<span class=\"token punctuation\">,</span> <span class=\"token number\">2.5</span><span class=\"token operator\">*</span><span class=\"token number\">1000</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// erreur également</span>\n</code></pre></div>\n<h4 id=\"solutions\">Solutions</h4>\n<h5 id=\"utiliser_une_fonction_englobante\">Utiliser une fonction englobante</h5>\n<p>Une méthode pour résoudre ce problème consiste à englober la méthode dans une fonction afin que <code>this</code> ait la valeur attendue&nbsp;:</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>monTableau<span class=\"token punctuation\">.</span><span class=\"token function\">maMethode</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2.0</span><span class=\"token operator\">*</span><span class=\"token number\">1000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// affiche \"zéro,un,deux\" après 2 secondes</span>\n<span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>monTableau<span class=\"token punctuation\">.</span><span class=\"token function\">maMethode</span><span class=\"token punctuation\">(</span><span class=\"token string\">'1'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2.5</span><span class=\"token operator\">*</span><span class=\"token number\">1000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// affiche \"un\" après 2.5 secondes</span>\n</code></pre></div>\n<p>La fonction englobante peut être une fonction fléchée&nbsp;:</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>monTableau<span class=\"token punctuation\">.</span><span class=\"token function\">maMethode</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2.0</span><span class=\"token operator\">*</span><span class=\"token number\">1000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// affiche \"zéro,un,deux\" après 2 secondes</span>\n<span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>monTableau<span class=\"token punctuation\">.</span><span class=\"token function\">maMethode</span><span class=\"token punctuation\">(</span><span class=\"token string\">'1'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2.5</span><span class=\"token operator\">*</span><span class=\"token number\">1000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> \n<span class=\"token comment\">// affiche \"un\" après 2.5 secondes</span>\n</code></pre></div>\n<h5 id=\"utiliser_bind\">Utiliser <code>bind()</code></h5>\n<p>On peut aussi utiliser la fonction <a href=\"/fr/docs/Web/JavaScript/Reference/Global_Objects/Function/bind\"><code>bind()</code></a> afin de fixer la valeur de <code>this</code> pour tous les appels à une fonction donnée&nbsp;:</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">const</span> monTableau <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'zéro'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'un'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'deux'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> maMethodeLiee <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">sPropriete</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>arguments<span class=\"token punctuation\">.</span>length <span class=\"token operator\">&gt;</span> <span class=\"token number\">0</span> <span class=\"token operator\">?</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">[</span>sPropriete<span class=\"token punctuation\">]</span> <span class=\"token operator\">:</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">bind</span><span class=\"token punctuation\">(</span>monTableau<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token function\">maMethodeLiee</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// affiche \"zéro,un,deux\" car 'this' est lié à monTableau</span>\n<span class=\"token comment\">// dans la fonction</span>\n<span class=\"token function\">maMethodeLiee</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// affiche \"un\"</span>\n<span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span>maMethodeLiee<span class=\"token punctuation\">,</span> <span class=\"token number\">1.0</span><span class=\"token operator\">*</span><span class=\"token number\">1000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// Affiche \"zéro,un,deux\" après 1 seconde grâce à la liaison</span>\n<span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span>maMethodeLiee<span class=\"token punctuation\">,</span> <span class=\"token number\">1.5</span><span class=\"token operator\">*</span><span class=\"token number\">1000</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"1\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// Affiche \"un\" après 1.5 secondes</span>\n</code></pre></div>","titleAsText":"Le problème de this"}},{"type":"prose","value":{"id":"passer_une_chaîne_de_caractères_pour_les_instructions_à_exécuter","title":"Passer une chaîne de caractères pour les instructions à exécuter","isH3":true,"content":"<p>Lorsqu'on passe une chaîne de caractères plutôt qu'une fonction à <code>setTimeout()</code>, cela expose aux mêmes problèmes que d'utiliser <a href=\"/fr/docs/Web/JavaScript/Reference/Global_Objects/eval\"><code>eval()</code></a>.</p>\n<div class=\"code-example\"><pre class=\"brush: js example-bad notranslate\"><code><span class=\"token comment\">// À ne pas faire</span>\n<span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"console.log('Hello World!');\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">500</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<div class=\"code-example\"><pre class=\"brush: js example-good notranslate\"><code><span class=\"token comment\">// On privilégiera cette forme</span>\n<span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Hello World!'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token number\">500</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<p>Une chaîne de caractères passée à <code>setTimeout()</code> est évaluée dans le contexte global et les symboles locaux au contexte où <code>setTimeout()</code> a été appelée ne seront plus disponibles lorsque la chaîne de caractères sera évaluée comme du code.</p>"}},{"type":"prose","value":{"id":"raisons_pour_lesquelles_la_durée_effective_est_plus_longue","title":"Raisons pour lesquelles la durée effective est plus longue","isH3":true,"content":"<p>Plusieurs raisons peuvent expliquer que la durée effective d'un minuteur soit plus longue que celle attendue. Dans cette section, nous couvrirons les raisons les plus communes.</p>\n<h4 id=\"minuteurs_imbriqués\">Minuteurs imbriqués</h4>\n<p>Comme indiqué dans <a href=\"https://html.spec.whatwg.org/multipage/timers-and-user-prompts.html#timers\" class=\"external\" rel=\" noopener\">le standard HTML</a>, les navigateurs appliqueront un délai minimum de 4 millisecondes lorsqu'un appel imbriqué à <code>setTimeout</code> a été planifié 5 fois.</p>\n<p>On peut observer ce comportement dans l'exemple qui suit, dans lequel on imbrique un appel à <code>setTimeout()</code> avec une durée spécifiée à <code>0</code> milliseconde. Ensuite, on affiche la durée effective lorsque le gestionnaire est appelé. On peut voir que, pour les 4 premières fois, la durée effective est de 0 milliseconde environ et qu'après, elle passe à environ 4 millisecondes&nbsp;:</p>\n<div class=\"code-example\"><pre class=\"brush: html notranslate\"><code><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>run<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>Exécuter<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>pre</span><span class=\"token punctuation\">&gt;</span></span>Précédent    courant    durée<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>pre</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>log<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n</code></pre></div>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">let</span> last <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">let</span> iterations <span class=\"token operator\">=</span> <span class=\"token number\">10</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">timeout</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// Enregistrer l'instant de l'appel</span>\n  <span class=\"token function\">logline</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getMilliseconds</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// Tant qu'on n'a pas fini, planifier le prochain appel</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>iterations<span class=\"token operator\">--</span> <span class=\"token operator\">&gt;</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span>timeout<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">run</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// Nettoyer le journal</span>\n  <span class=\"token keyword\">const</span> log <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"#log\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span>log<span class=\"token punctuation\">.</span>lastElementChild<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    log<span class=\"token punctuation\">.</span><span class=\"token function\">removeChild</span><span class=\"token punctuation\">(</span>log<span class=\"token punctuation\">.</span>lastElementChild<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token comment\">// Initialiser le nombre d'itérations et l'horodatage</span>\n  <span class=\"token comment\">// de départ</span>\n  iterations <span class=\"token operator\">=</span> <span class=\"token number\">10</span><span class=\"token punctuation\">;</span>\n  last <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getMilliseconds</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// Démarrer le minuteur</span>\n  <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span>timeout<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">pad</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">number</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> number<span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">padStart</span><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"0\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">logline</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">now</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// Afficher le dernier horodatage, le nouveau, et la</span>\n  <span class=\"token comment\">// différence</span>\n  <span class=\"token keyword\">const</span> newLine <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">createElement</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"pre\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  newLine<span class=\"token punctuation\">.</span>textContent <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token function\">pad</span><span class=\"token punctuation\">(</span>last<span class=\"token punctuation\">)</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">           </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token function\">pad</span><span class=\"token punctuation\">(</span>now<span class=\"token punctuation\">)</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">          </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>now <span class=\"token operator\">-</span> last<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span>\n  document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"log\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">appendChild</span><span class=\"token punctuation\">(</span>newLine<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  last <span class=\"token operator\">=</span> now<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\ndocument<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"#run\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"click\"</span><span class=\"token punctuation\">,</span> run<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div><iframe class=\"sample-code-frame\" title=\"Minuteurs imbriqués\" id=\"frame_13287\" width=\"100\" height=\"420\" src=\"https://yari-demos.prod.mdn.mozit.cloud/fr/docs/Web/API/setTimeout/_sample_.13287.html\" loading=\"lazy\"></iframe>\n<h4 id=\"minuteurs_dans_les_onglets_inactifs\">Minuteurs dans les onglets inactifs</h4>\n<p>Afin de réduire la charge (et la consommation énergétique associée) des onglets en arrière-plan, les navigateurs appliqueront un délai minimum sur les onglets inactifs. Ceci peut ne pas s'appliquer si la page joue du son avec l'API Web Audio et <a href=\"/fr/docs/Web/API/AudioContext\"><code>AudioContext</code></a>.</p>\n<p>Certains aspects spécifiques de cette règle dépendent des navigateurs&nbsp;:</p>\n<ul>\n  <li>Firefox Desktop et Chrome appliquent une durée minimale de 1 seconde pour les onglets inactifs.</li>\n  <li>Firefox pour Android applique une durée minimale de 15 minutes pour les onglets inactifs et peut les décharger complètement.</li>\n  <li>Firefox ne limite pas un onglet inactif si celui-ci contient un <a href=\"/fr/docs/Web/API/AudioContext\"><code>AudioContext</code></a>.</li>\n</ul>\n<h4 id=\"limitation_des_scripts_de_pistage\">Limitation des scripts de pistage</h4>\n<p>Firefox applique certaines limitations pour les scripts qu'il reconnaît comme scripts de pistage. Lors de l'exécution dans un onglet actif, le délai minimal est de 4ms. Pour les onglets en arrière-plan, ce délai passe à 10 seconds et s'applique 30 secondes après que le chargement initial du document a eu lieu.</p>\n<p>Voir <a href=\"https://wiki.mozilla.org/Security/Tracking_protection\" class=\"external\" rel=\" noopener\">la page d'information sur la protection contre le pistage (en anglais)</a> pour plus de détails.</p>\n<h4 id=\"ordonnancement_des_autres_tâches\">Ordonnancement des autres tâches</h4>\n<p>Le minuteur peut également se déclencher plus tard si le système d'exploitation ou le navigateur est occupé à d'autres tâches.</p>\n<p>Par exemple, on notera que la fonction passée en argument de <code>setTimeout()</code> ne peut pas être exécutée avant que le <i lang=\"en\">thread</i> qui appelle <code>setTimeout()</code> ait terminé son exécution. On aura donc&nbsp;:</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">function</span> <span class=\"token function\">toto</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'toto a été appelée'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span>toto<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Après setTimeout()'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<p>Affichera ce qui suit dans la console&nbsp;:</p>\n<pre class=\"notranslate\">Après setTimeout()\ntoto a été appelée\n</pre>\n<p>En effet, même si <code>setTimeout()</code> a été appelé avec un délai à zéro, la fonction correspondante est placée dans une queue et son exécution est planifiée pour le prochain cycle disponible et pas immédiatement.</p>\n<p>Le code en cours d'exécution doit terminer avant que les fonctions placées dans la queue puissent être exécutées. C'est pour cela qu'on a cet ordre d'exécution, qui peut ne pas être celui qu'on attendait.</p>\n<h4 id=\"report_des_minuteurs_pendant_le_chargement_de_la_page\">Report des minuteurs pendant le chargement de la page</h4>\n<p>Firefox diffèrera le déclenchement des minuteurs lorsque l'onglet actuel est en train de charger. Le déclenchement est reporté jusqu'à ce que le fil d'exécution principal soit considéré comme inactif (<i lang=\"en\">idle</i>) (à la façon de <a href=\"/fr/docs/Web/API/Window/requestIdleCallback\">window.requestIdleCallback()</a>), ou jusqu'à ce que l'évènement <code>load</code> soit déclenché.</p>"}},{"type":"prose","value":{"id":"pages_darrière-plan_des_webextensions_et_minuteurs","title":"Pages d'arrière-plan des WebExtensions et minuteurs","isH3":true,"content":"<p>Pour les <a href=\"/fr/docs/Mozilla/Add-ons/WebExtensions\">WebExtensions</a>, <code>setTimeout()</code> ne fonctionne pas de façon sûre. Il faut privilégier l'API <a href=\"/fr/docs/Mozilla/Add-ons/WebExtensions/API/alarms\"><code>alarms</code></a> pour le développement d'extensions.</p>"}},{"type":"prose","value":{"id":"valeur_maximale_pour_le_délai","title":"Valeur maximale pour le délai","isH3":true,"content":"<p>Les navigateurs comme Internet Explorer, Chrome, Safari, et Firefox stockent le délai sous la forme d'un entier signé sur 32 bits. Aussi, il y a un dépassement des limites lorsqu'on indique un délai supérieur à 2&nbsp;147&nbsp;483&nbsp;647&nbsp;ms (ce qui correspond à 24,8 jours), et le résultat est un minuteur qui est exécuté immédiatement.</p>"}},{"type":"prose","value":{"id":"exemples","title":"Exemples","isH3":false,"content":""}},{"type":"prose","value":{"id":"définir_et_annuler_des_minuteurs","title":"Définir et annuler des minuteurs","isH3":true,"content":"<p>Dans l'exemple qui suit, on a deux boutons simples sur une page web qui sont reliés aux fonctions <code>setTimeout()</code> et <code>clearTimeout()</code>. Appuyer sur le premier bouton déclenchera un minuteur qui affichera un message après deux secondes et enregistrera l'identifiant du minuteur pour que celui-ci soit utilisé avec <code>clearTimeout()</code>. En appuyant sur le deuxième bouton, on peut annuler le minuteur.</p>\n<h4 id=\"html\">HTML</h4>\n<div class=\"code-example\"><pre class=\"brush: html notranslate\"><code><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token special-attr\"><span class=\"token attr-name\">onclick</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token value javascript language-javascript\"><span class=\"token function\">delayedMessage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span><span class=\"token punctuation\">\"</span></span></span><span class=\"token punctuation\">&gt;</span></span>Afficher un message après deux secondes<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token special-attr\"><span class=\"token attr-name\">onclick</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token value javascript language-javascript\"><span class=\"token function\">clearMessage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span><span class=\"token punctuation\">\"</span></span></span><span class=\"token punctuation\">&gt;</span></span>Annuler le message avant qu'il apparaisse<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">&gt;</span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>output<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n</code></pre></div>\n<h4 id=\"javascript\">JavaScript</h4>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">let</span> timeoutID<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">setOutput</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">outputContent</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">'#output'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>textContent <span class=\"token operator\">=</span> outputContent<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">delayedMessage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">setOutput</span><span class=\"token punctuation\">(</span><span class=\"token string\">''</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  timeoutID <span class=\"token operator\">=</span> <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span>setOutput<span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token operator\">*</span><span class=\"token number\">1000</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"C'était lent !\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">clearMessage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">clearTimeout</span><span class=\"token punctuation\">(</span>timeoutID<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<div class=\"code-example\"><pre class=\"brush: css hidden notranslate\"><code><span class=\"token selector\">#output</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">padding</span><span class=\"token punctuation\">:</span> .5rem 0<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<h4 id=\"résultat\">Résultat</h4><iframe class=\"sample-code-frame\" title=\"Définir et annuler des minuteurs\" id=\"frame_18164\" src=\"https://yari-demos.prod.mdn.mozit.cloud/fr/docs/Web/API/setTimeout/_sample_.18164.html\" loading=\"lazy\"></iframe>\n<p>Voir aussi <a href=\"/en-US/docs/Web/API/clearTimeout\" class=\"only-in-en-us\" title=\"Currently only available in English (US)\">l'exemple clearTimeout() (en-US)</a>.</p>"}},{"type":"specifications","value":{"title":"Spécifications","id":"spécifications","isH3":false,"specifications":[{"bcdSpecificationURL":"https://html.spec.whatwg.org/multipage/timers-and-user-prompts.html#dom-settimeout-dev","title":"HTML Standard"}],"query":"api.setTimeout"}},{"type":"browser_compatibility","value":{"title":"Compatibilité des navigateurs","id":"compatibilité_des_navigateurs","isH3":false,"query":"api.setTimeout","dataURL":"/fr/docs/Web/API/setTimeout/bcd.json"}},{"type":"prose","value":{"id":"voir_aussi","title":"Voir aussi","isH3":false,"content":"<ul>\n  <li><a href=\"https://github.com/zloirock/core-js#settimeout-and-setinterval\" class=\"external\" rel=\" noopener\">Prothèse d'émulation de <code>setTimeout()</code> qui permet de passer des arguments à la fonction de rappel, avec la bibliothèque tierce <code>core-js</code></a></li>\n  <li><a href=\"/en-US/docs/Web/API/clearTimeout\" class=\"only-in-en-us\" title=\"Currently only available in English (US)\">clearTimeout() (en-US)</a></li>\n  <li><a href=\"/en-US/docs/Web/API/setInterval\" class=\"only-in-en-us\" title=\"Currently only available in English (US)\">setInterval() (en-US)</a></li>\n  <li><a href=\"/fr/docs/Web/API/Window/requestAnimationFrame\"><code>Window.requestAnimationFrame()</code></a></li>\n  <li><a href=\"/fr/docs/Web/API/queueMicrotask\"><code>queueMicrotask()</code></a></li>\n</ul>"}}],"toc":[{"text":"Syntaxe","id":"syntaxe"},{"text":"Description","id":"description"},{"text":"Exemples","id":"exemples"},{"text":"Spécifications","id":"spécifications"},{"text":"Compatibilité des navigateurs","id":"compatibilité_des_navigateurs"},{"text":"Voir aussi","id":"voir_aussi"}],"summary":"La méthode globale setTimeout() permet de définir un minuteur qui exécute une fonction ou un code donné après la fin du délai indiqué.","popularity":0.0037,"modified":"2022-10-01T03:41:16.000Z","other_translations":[{"title":"setTimeout()","locale":"en-US","native":"English (US)"},{"title":"WindowOrWorkerGlobalScope.setTimeout","locale":"es","native":"Español"},{"title":"setTimeout()","locale":"ja","native":"日本語"},{"title":"setTimeout()","locale":"ko","native":"한국어"},{"title":"WindowTimers.setTimeout()","locale":"ru","native":"Русский"},{"title":"window.setTimeout","locale":"zh-CN","native":"中文 (简体)"}],"source":{"folder":"fr/web/api/settimeout","github_url":"https://github.com/mdn/translated-content/blob/main/files/fr/web/api/settimeout/index.md","last_commit_url":"https://github.com/mdn/translated-content/commit/921c46a374ab0a9f4cc809af0370f8c412e54701","filename":"index.md"},"parents":[{"uri":"/fr/docs/Web","title":"Technologies web pour développeurs"},{"uri":"/fr/docs/Web/API","title":"Référence Web API"},{"uri":"/fr/docs/Web/API/setTimeout","title":"setTimeout()"}],"pageTitle":"setTimeout() - Référence Web API | MDN","noIndexing":false}}