{"doc":{"isMarkdown":true,"isTranslated":true,"isActive":true,"flaws":{},"title":"Utiliser l'API Web Storage","mdn_url":"/fr/docs/Web/API/Web_Storage_API/Using_the_Web_Storage_API","locale":"fr","native":"Français","sidebarHTML":"","body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<p>L'API \"Web Storage\" fournit des mécanismes par lesquels les navigateurs web peuvent stocker des paires de clé-valeur, d'une manière plus intuitive qu'en utilisant des cookies. Cet article décrit pas à pas comment se servir de cette technologie facile d'utilisation.</p>"}},{"type":"prose","value":{"id":"concepts_de_base","title":"Concepts de base","isH3":false,"content":"<p>Les objets de stockages sont de simples magasins clé-valeur, similaires aux objets, mais restant intacts après des chargements de page. La clé peut être une chaîne de caractères ou des entiers, mais la valeur sera toujours une chaîne. Vous pouvez accéder à ces valeurs comme pour un objet ou avec les méthodes getItem() et setItem(). Les trois lignes suivantes vont enregistrer la couleur de la même façon :</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code>localStorage<span class=\"token punctuation\">.</span>colorSetting <span class=\"token operator\">=</span> <span class=\"token string\">'#a4509b'</span><span class=\"token punctuation\">;</span>\nlocalStorage<span class=\"token punctuation\">[</span><span class=\"token string\">'colorSetting'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token string\">'#a4509b'</span><span class=\"token punctuation\">;</span>\nlocalStorage<span class=\"token punctuation\">.</span><span class=\"token function\">setItem</span><span class=\"token punctuation\">(</span><span class=\"token string\">'colorSetting'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'#a4509b'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<div class=\"notecard note\" id=\"sect1\">\n  <p><strong>Note :</strong> Il est recommandé d'utiliser l'API \"Web Storage\" (<code>setItem</code>, <code>getItem</code>, <code>removeItem</code>, <code>key</code>, <code>length</code>) pour prévenir les <a href=\"https://www.2ality.com/2012/01/objects-as-maps.html\" class=\"external\" rel=\" noopener\">embûches</a> associées à l'utilisation d'objets capable de stocker des couples clé-valeur.</p>\n</div>\n<p>Les deux principaux mécanismes internes du Stockage Web sont :</p>\n<ul>\n  <li><strong><code>sessionStorage</code></strong> qui maintient un espace de stockage, séparé pour chaque origine différente, disponible le temps de la session de la page (tant que le navigateur reste lancé, incluant les rechargements de la page et les restaurations).</li>\n  <li><strong><code>localStorage</code></strong> qui tient le même rôle mais persiste même après le redémarrage du navigateur web.</li>\n</ul>\n<p>Ces mécanismes sont disponibles via les propriétés <a href=\"/fr/docs/Web/API/Window/sessionStorage\"><code>Window.sessionStorage</code></a> et <a href=\"/fr/docs/Web/API/Window/localStorage\"><code>Window.localStorage</code></a> (plus précisément, dans les navigateurs web le supportant, l'objet <code>Window</code> implémente les objets <code>WindowLocalStorage</code> et <code>WindowSessionStorage</code>, sur lesquels les propriétés <code>localStorage</code> et <code>sessionStorage</code> se basent) — l'appel d'un des deux va créer une instance de l'objet <a href=\"/fr/docs/Web/API/Storage\"><code>Storage</code></a>, dans lequel des données pourront être ajoutées, récupérées et supprimées. Pour <code>sessionStorage</code> et <code>localStorage</code>, un objet de stockage différent est utilisé pour chaque origine — ils fonctionnent et sont contrôlés séparément.</p>\n<p>Donc, par exemple, un appel initial de <code>localStorage</code> sur un document va retourner un objet <a href=\"/fr/docs/Web/API/Storage\"><code>Storage</code></a> ; un appel de <code>sessionStorage</code> sur un document va retourner un objet <a href=\"/fr/docs/Web/API/Storage\"><code>Storage</code></a> différent. Les deux peuvent se manipuler de la même façon, mais séparément.</p>"}},{"type":"prose","value":{"id":"détection_de_la_fonction_localstorage","title":"Détection de la fonction localStorage","isH3":false,"content":"<p>Pour être capable d'utiliser localStorage, nous devons d'abord vérifier qu'il est supporté et disponible dans la session de navigation actuelle.</p>"}},{"type":"prose","value":{"id":"test_du_support_et_disponibilité","title":"Test du support et disponibilité","isH3":true,"content":"<p>Les navigateurs qui supportent localStorage ont sur l'objet windows une propriété nommée localStorage. Cependant, pour différentes raisons, la vérification seule de l'existnce de cette propriété peut provoquer des erreurs. .Son absence n'est pas non plus une garantie de son indisponibilité, certains navigateurs offrent un paramètre pour désactiver localStorage. Donc un navigateur <em>peut</em> supporter localStorage, mais peut ne pas le rendre <em>disponible</em> aux scripts de la page. Un exemple de cela est Safari, qui en mode de navigation privée fournit un objet localStorage vide dont le quota est nul, le rendant inutilisable. Notre fonction de détection doit prendre en compte ces scénarios.</p>\n<p>Voici une fonction qui va détecter que localStorage est supporté mais aussi disponible:</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">function</span> <span class=\"token function\">storageAvailable</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">type</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">var</span> storage <span class=\"token operator\">=</span> window<span class=\"token punctuation\">[</span>type<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n            x <span class=\"token operator\">=</span> <span class=\"token string\">'__storage_test__'</span><span class=\"token punctuation\">;</span>\n        storage<span class=\"token punctuation\">.</span><span class=\"token function\">setItem</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">,</span> x<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        storage<span class=\"token punctuation\">.</span><span class=\"token function\">removeItem</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">return</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">catch</span><span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> e <span class=\"token keyword\">instanceof</span> <span class=\"token class-name\">DOMException</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token punctuation\">(</span>\n            <span class=\"token comment\">// everything except Firefox</span>\n            e<span class=\"token punctuation\">.</span>code <span class=\"token operator\">===</span> <span class=\"token number\">22</span> <span class=\"token operator\">||</span>\n            <span class=\"token comment\">// Firefox</span>\n            e<span class=\"token punctuation\">.</span>code <span class=\"token operator\">===</span> <span class=\"token number\">1014</span> <span class=\"token operator\">||</span>\n            <span class=\"token comment\">// test name field too, because code might not be present</span>\n            <span class=\"token comment\">// everything except Firefox</span>\n            e<span class=\"token punctuation\">.</span>name <span class=\"token operator\">===</span> <span class=\"token string\">'QuotaExceededError'</span> <span class=\"token operator\">||</span>\n            <span class=\"token comment\">// Firefox</span>\n            e<span class=\"token punctuation\">.</span>name <span class=\"token operator\">===</span> <span class=\"token string\">'NS_ERROR_DOM_QUOTA_REACHED'</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&amp;&amp;</span>\n            <span class=\"token comment\">// acknowledge QuotaExceededError only if there's something already stored</span>\n            storage<span class=\"token punctuation\">.</span>length <span class=\"token operator\">!==</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>Et voici comment l'utiliser :</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token function\">storageAvailable</span><span class=\"token punctuation\">(</span><span class=\"token string\">'localStorage'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// Nous pouvons utiliser localStorage</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// Malheureusement, localStorage n'est pas disponible</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>Au lieu de cela, vous pouvez tester la disponibilité de sessionStorage en appelant <code>storageAvailable('sessionStorage')</code>.</p>\n<p>Vous pouvez retrouver ici <a href=\"https://gist.github.com/paulirish/5558557\" class=\"external\" rel=\" noopener\">une brève histoire de la détection de localStorage</a>.</p>"}},{"type":"prose","value":{"id":"un_exemple_simple","title":"Un exemple simple","isH3":false,"content":"<p>Pour illustrer certains usages typiques du Stockage Web, nous avons créé un exemple simple ingénieusement appelé <strong>Web Storage Demo</strong>. La <a href=\"https://mdn.github.io/dom-examples/web-storage/\" class=\"external\" rel=\" noopener\">page de lancement</a> fournit des contrôles afin de personnaliser la couleur, la police de caractère et l'image de décoration:</p>\n<p>\n  <img src=\"/en-US/docs/Web/API/Web_Storage_API/Using_the_Web_Storage_API/landing.png\" alt=\"\" width=\"700\" height=\"482\" loading=\"lazy\">\n</p>\n<p>Quand vous choisissez une option différente, la page est mise à jour instantanément; de plus, vos choix sont stockés avec localStorage, donc quand vous quitterez la page et la rechargerez plus tard, vos choix auront été mémorisés.</p>\n<p>Nous avons aussi fournit une <a href=\"https://mdn.github.io/dom-examples/web-storage/event.html\" class=\"external\" rel=\" noopener\">page pour l'événement émis</a> - Si vous chargez cette page dans un autre onglet, puis faite les changements de votre choix sur la page de démarrage, vous allez voir une information liée à l'événement <a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/StorageEvent\"><code>StorageEvent</code> <small>(en-US)</small></a> qui a été lancé.</p>\n<p>\n  <img src=\"/en-US/docs/Web/API/Web_Storage_API/Using_the_Web_Storage_API/event-output.png\" alt=\"\" width=\"700\" height=\"482\" loading=\"lazy\">\n</p>\n<div class=\"notecard note\" id=\"sect2\">\n  <p><strong>Note :</strong> En plus de l'affichage en temps réel des pages en utilisant les liens ci-dessus, vous pouvez aussi <a href=\"https://github.com/mdn/dom-examples/tree/master/web-storage\" class=\"external\" rel=\" noopener\">regarder le code-source</a>.</p>\n</div>"}},{"type":"prose","value":{"id":"tester_si_le_stockage_a_déjà_été_rempli","title":"Tester si le stockage a déjà été rempli","isH3":false,"content":"<p>Pour démarrer avec <a href=\"https://github.com/mdn/dom-examples/blob/master/web-storage/main.js\" class=\"external\" rel=\" noopener\">main.js</a>, nous allons tester que l'objet de stockage a bien été rempli (c-à-d, que l'on a déjà accédé à la page):</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>localStorage<span class=\"token punctuation\">.</span><span class=\"token function\">getItem</span><span class=\"token punctuation\">(</span><span class=\"token string\">'bgcolor'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">populateStorage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">setStyles</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>La méthode <a href=\"/fr/docs/Web/API/Storage/getItem\"><code>Storage.getItem()</code></a> est utilisée pour obtenir les données de l'élément depuis le stockage ; dans ce cas nous testons l'existence de l'élément <code>bgcolor</code>; si il n'existe pas nous lançons <code>populateStorage()</code> pour ajouter des valeurs personnalisées dans le stockage. Si il y a déjà des valeurs ici, nous lançons <code>setStyles()</code> pour mettre à jour le style de la page avec les valeurs stockées.</p>\n<p><strong>Note</strong>: Vous pouvez aussi utiliser <a href=\"/fr/docs/Web/API/Storage/length\"><code>Storage.length</code></a> pour tester si l'objet de stockage est vide ou non.</p>"}},{"type":"prose","value":{"id":"obtenir_les_valeurs_du_stockage","title":"Obtenir les valeurs du stockage","isH3":false,"content":"<p>Comme vu ci dessus, les valeurs peuvent être recupérées du stockage en utilisant <a href=\"/fr/docs/Web/API/Storage/getItem\"><code>Storage.getItem()</code></a>. La méthode prend en argument la clé de l'élément, et retourne la valeur. Par exemple:</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">function</span> <span class=\"token function\">setStyles</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">var</span> currentColor <span class=\"token operator\">=</span> localStorage<span class=\"token punctuation\">.</span><span class=\"token function\">getItem</span><span class=\"token punctuation\">(</span><span class=\"token string\">'bgcolor'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">var</span> currentFont <span class=\"token operator\">=</span> localStorage<span class=\"token punctuation\">.</span><span class=\"token function\">getItem</span><span class=\"token punctuation\">(</span><span class=\"token string\">'font'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">var</span> currentImage <span class=\"token operator\">=</span> localStorage<span class=\"token punctuation\">.</span><span class=\"token function\">getItem</span><span class=\"token punctuation\">(</span><span class=\"token string\">'image'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">'bgcolor'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>value <span class=\"token operator\">=</span> currentColor<span class=\"token punctuation\">;</span>\n  document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">'font'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>value <span class=\"token operator\">=</span> currentFont<span class=\"token punctuation\">;</span>\n  document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">'image'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>value <span class=\"token operator\">=</span> currentImage<span class=\"token punctuation\">;</span>\n\n  htmlElem<span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">.</span>backgroundColor <span class=\"token operator\">=</span> <span class=\"token string\">'#'</span> <span class=\"token operator\">+</span> currentColor<span class=\"token punctuation\">;</span>\n  pElem<span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">.</span>fontFamily <span class=\"token operator\">=</span> currentFont<span class=\"token punctuation\">;</span>\n  imgElem<span class=\"token punctuation\">.</span><span class=\"token function\">setAttribute</span><span class=\"token punctuation\">(</span><span class=\"token string\">'src'</span><span class=\"token punctuation\">,</span> currentImage<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>Ici, les trois premières lignes vont chercher les valeurs dans le stockage local. Puis, nous définissons les valeurs exposées par le formulaire avec ces valeurs, afin qu'elles persistent quand on recharge la page. Enfin, nous mettons à jour le style et l'image de décoration de la page, ainsi nos options de personnalisation reviennent lors du rechargement de la page.</p>"}},{"type":"prose","value":{"id":"enregistrer_une_valeur_dans_le_stockage","title":"Enregistrer une valeur dans le stockage","isH3":false,"content":"<p><a href=\"/fr/docs/Web/API/Storage/setItem\"><code>Storage.setItem()</code></a> est aussi bien utilisée pour la création d'une donnée, que pour la modification d'une donnée existante (si cette donnée existe déja). Elle prend deux arguments — la clé de l'élément à créer/modifier, et la valeur associée à stocker.</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">function</span> <span class=\"token function\">populateStorage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  localStorage<span class=\"token punctuation\">.</span><span class=\"token function\">setItem</span><span class=\"token punctuation\">(</span><span class=\"token string\">'bgcolor'</span><span class=\"token punctuation\">,</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">'bgcolor'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  localStorage<span class=\"token punctuation\">.</span><span class=\"token function\">setItem</span><span class=\"token punctuation\">(</span><span class=\"token string\">'font'</span><span class=\"token punctuation\">,</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">'font'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  localStorage<span class=\"token punctuation\">.</span><span class=\"token function\">setItem</span><span class=\"token punctuation\">(</span><span class=\"token string\">'image'</span><span class=\"token punctuation\">,</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">'image'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token function\">setStyles</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>La fonction <code>populateStorage()</code> définit trois éléments dans le stockage local — la couleur de fond, la police de caractère et le chemin de l'image. Ensuite elle lance la fonction <code>setStyles()</code> pour mettre à jour le style de la page, etc.</p>\n<p>Nous avons aussi inclu un handler <code>onchange</code> sur chaque élément du formulaire, ainsi les données et le style sont mis à jour quelque soit la valeur du formulaire qui a changé:</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code>bgcolorForm<span class=\"token punctuation\">.</span>onchange <span class=\"token operator\">=</span> populateStorage<span class=\"token punctuation\">;</span>\nfontForm<span class=\"token punctuation\">.</span>onchange <span class=\"token operator\">=</span> populateStorage<span class=\"token punctuation\">;</span>\nimageForm<span class=\"token punctuation\">.</span>onchange <span class=\"token operator\">=</span> populateStorage<span class=\"token punctuation\">;</span>\n</code></pre></div>"}},{"type":"prose","value":{"id":"répondre_aux_changements_du_stockage_avec_storageevent","title":"Répondre aux changements du stockage avec StorageEvent","isH3":false,"content":"<p>L'événement <code><a href=\"/fr/docs/Web/Reference/Events/StorageEvent\" title=\"This is a link to an unwritten page\" class=\"page-not-created\">StorageEvent</a></code> est lancé dès lors qu'un changement est fait sur l'objet <a href=\"/fr/docs/Web/API/Storage\"><code>Storage</code></a>. Cela ne va pas marcher sur la même page qui a provoqué le changement: c'est vraiment un moyen pour que les autres pages du domaine qui utilisent le stockage local puissent se synchroniser avec tous les changements qui ont été fait.</p>\n<p>Les pages des autres domaines ne peuvent pas accéder aux mêmes objets de stockage.</p>\n<p>Sur la page d'événement (voir <a href=\"https://github.com/mdn/web-storage-demo/blob/gh-pages/event.js\" class=\"external\" rel=\" noopener\">events.js</a>) le seul JavaScript est :</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code>window<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'storage'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">e</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.my-key'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>textContent <span class=\"token operator\">=</span> e<span class=\"token punctuation\">.</span>key<span class=\"token punctuation\">;</span>\n  document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.my-old'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>textContent <span class=\"token operator\">=</span> e<span class=\"token punctuation\">.</span>oldValue<span class=\"token punctuation\">;</span>\n  document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.my-new'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>textContent <span class=\"token operator\">=</span> e<span class=\"token punctuation\">.</span>newValue<span class=\"token punctuation\">;</span>\n  document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.my-url'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>textContent <span class=\"token operator\">=</span> e<span class=\"token punctuation\">.</span>url<span class=\"token punctuation\">;</span>\n  document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.my-storage'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>textContent <span class=\"token operator\">=</span> e<span class=\"token punctuation\">.</span>storageArea<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<p>Ici nous avons ajouté un écouteur d'évènement à l'objet <code>window</code> qui se lance quand l'objet <a href=\"/fr/docs/Web/API/Storage\"><code>Storage</code></a>, associé à l'origine courante, est modifié. Comme vous pouvez le voir ci-dessus, l'objet évènement associé à cet évènement a de nombreuses propriétés contenant des informations utiles&nbsp;: la clé de la donnée qui a changé, l'ancienne valeur avant le changement, la nouvelle valeur après le changement, l'URL du document qui a changé le stockage et l'objet stockage lui-même.</p>"}},{"type":"prose","value":{"id":"supprimer_des_données","title":"Supprimer des données","isH3":false,"content":"<p>l'API de Stockage Web fournit aussi un couple de méthodes simples pour supprimer des données. Nous ne les utilisons pas dans notre démo, mais elles sont simples à ajouter dans votre projet :</p>\n<ul>\n  <li><a href=\"/fr/docs/Web/API/Storage/removeItem\"><code>Storage.removeItem()</code></a> prend un seul argument — la clé de l'élément que vous souhaitez supprimer — et le supprime de l'objet de stockage pour le domaine.</li>\n  <li><a href=\"/fr/docs/Web/API/Storage/clear\"><code>Storage.clear()</code></a> ne prend pas d'argument, et vide l'ensemble des données de l'objet de stockage pour le domaine.</li>\n</ul>"}},{"type":"specifications","value":{"title":"Spécifications","id":"spécifications","isH3":false,"query":"api.Window.localStorage,api.Window.sessionStorage","specifications":[]}},{"type":"browser_compatibility","value":{"title":"Compatibilité des navigateurs","id":"compatibilité_des_navigateurs","isH3":false,"data":null,"query":"api.Window.localStorage,api.Window.sessionStorage","browsers":null}},{"type":"prose","value":{"id":"voir_aussi","title":"Voir aussi","isH3":false,"content":"<ul>\n  <li><a href=\"/fr/docs/Web/API/Web_Storage_API\">Page API du Stockage Web</a></li>\n</ul>"}}],"toc":[{"text":"Concepts de base","id":"concepts_de_base"},{"text":"Détection de la fonction localStorage","id":"détection_de_la_fonction_localstorage"},{"text":"Un exemple simple","id":"un_exemple_simple"},{"text":"Tester si le stockage a déjà été rempli","id":"tester_si_le_stockage_a_déjà_été_rempli"},{"text":"Obtenir les valeurs du stockage","id":"obtenir_les_valeurs_du_stockage"},{"text":"Enregistrer une valeur dans le stockage","id":"enregistrer_une_valeur_dans_le_stockage"},{"text":"Répondre aux changements du stockage avec StorageEvent","id":"répondre_aux_changements_du_stockage_avec_storageevent"},{"text":"Supprimer des données","id":"supprimer_des_données"},{"text":"Spécifications","id":"spécifications"},{"text":"Compatibilité des navigateurs","id":"compatibilité_des_navigateurs"},{"text":"Voir aussi","id":"voir_aussi"}],"summary":"L'API \"Web Storage\" fournit des mécanismes par lesquels les navigateurs web peuvent stocker des paires de clé-valeur, d'une manière plus intuitive qu'en utilisant des cookies. Cet article décrit pas à pas comment se servir de cette technologie facile d'utilisation.","popularity":0.0003,"modified":"2022-10-01T03:41:16.000Z","other_translations":[{"title":"Using the Web Storage API","locale":"en-US","native":"English (US)"},{"title":"Usando la API de almacenamiento web","locale":"es","native":"Español"},{"title":"Web Storage API の使用","locale":"ja","native":"日本語"},{"title":"Web Storage API 사용하기","locale":"ko","native":"한국어"},{"title":"Usando a API Web Storage","locale":"pt-BR","native":"Português (do Brasil)"},{"title":"Использование Web Storage API","locale":"ru","native":"Русский"},{"title":"使用 Web Storage API","locale":"zh-CN","native":"中文 (简体)"}],"source":{"folder":"fr/web/api/web_storage_api/using_the_web_storage_api","github_url":"https://github.com/mdn/translated-content/blob/main/files/fr/web/api/web_storage_api/using_the_web_storage_api/index.md","last_commit_url":"https://github.com/mdn/translated-content/commit/921c46a374ab0a9f4cc809af0370f8c412e54701","filename":"index.md"},"parents":[{"uri":"/fr/docs/Web","title":"Technologies web pour développeurs"},{"uri":"/fr/docs/Web/API","title":"Référence Web API"},{"uri":"/fr/docs/Web/API/Web_Storage_API","title":"Web Storage API"},{"uri":"/fr/docs/Web/API/Web_Storage_API/Using_the_Web_Storage_API","title":"Utiliser l'API Web Storage"}],"pageTitle":"Utiliser l'API Web Storage - Référence Web API | MDN","noIndexing":false}}