{"doc":{"isMarkdown":true,"isTranslated":true,"isActive":true,"flaws":{},"title":"ShadowRoot","mdn_url":"/fr/docs/Web/API/ShadowRoot","locale":"fr","native":"Français","sidebarHTML":"<ol><li><strong><a href=\"/fr/docs/Web/API/ShadowRoot\"><code>ShadowRoot</code></a></strong></li><li class=\"toggle\"><details open=\"\"><summary>Propriétés</summary><ol><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/ShadowRoot/activeElement\"><code>activeElement</code> <small>(en-US)</small></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/ShadowRoot/adoptedStyleSheets\"><code>adoptedStyleSheets</code> <small>(en-US)</small></a></li><li><a href=\"/fr/docs/Web/API/ShadowRoot/delegatesFocus\"><code>delegatesFocus</code></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/ShadowRoot/fullscreenElement\"><code>fullscreenElement</code> <small>(en-US)</small></a></li><li><a href=\"/fr/docs/Web/API/ShadowRoot/host\"><code>host</code></a></li><li><a href=\"/fr/docs/Web/API/ShadowRoot/innerHTML\"><code>innerHTML</code></a></li><li><a href=\"/fr/docs/Web/API/ShadowRoot/mode\"><code>mode</code></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/ShadowRoot/pictureInPictureElement\"><code>pictureInPictureElement</code> <small>(en-US)</small></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/ShadowRoot/pointerLockElement\"><code>pointerLockElement</code> <small>(en-US)</small></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/ShadowRoot/styleSheets\"><code>styleSheets</code> <small>(en-US)</small></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>Méthodes</summary><ol><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/ShadowRoot/getAnimations\"><code>getAnimations()</code> <small>(en-US)</small></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>Héritage&nbsp;:</summary><ol><li><a href=\"/fr/docs/Web/API/DocumentFragment\"><code>DocumentFragment</code></a></li><li><a href=\"/fr/docs/Web/API/Node\"><code>Node</code></a></li><li><a href=\"/fr/docs/Web/API/EventTarget\"><code>EventTarget</code></a></li></ol></details></li></ol>","body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<p>L'interface <strong><code>ShadowRoot</code></strong>, relative à l'API <em>Shadow DOM</em>, représente la racine d'un sous-arbre du DOM dont le rendu est effectué séparément de celui du DOM de l'arbre principal.</p>\n<p>Il est possible de récupérer une référence à la racine <em>shadow</em> d'un élément via la propriété <a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/Element/shadowRoot\"><code>Element.shadowRoot</code> <small>(en-US)</small></a> si la racine a été créée avec la méthode <a href=\"/fr/docs/Web/API/Element/attachShadow\"><code>Element.attachShadow()</code></a> et l'option <code>mode</code> qui valait <code>open</code>.</p>"}},{"type":"prose","value":{"id":"propriétés","title":"Propriétés","isH3":false,"content":"<dl>\n  <dt id=\"shadowroot.delegatesfocus\"><a href=\"/fr/docs/Web/API/ShadowRoot/delegatesFocus\"><code>ShadowRoot.delegatesFocus</code></a> <span title=\"Cette valeur ne peut pas être changée.\" class=\"badge inline readonly\">Lecture seule </span> <svg class=\"icon icon-nonstandard\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-nonstandard\"></use>\n</svg></dt>\n  <dd>\n    <p>Cette propriété renvoie un booléen qui indique si l'option <code>delegatesFocus</code> a été activée lors de la liaison avec la racine <em>shadow</em> (cf. <a href=\"/fr/docs/Web/API/Element/attachShadow\"><code>Element.attachShadow()</code></a>).</p>\n  </dd>\n  <dt id=\"shadowroot.host\"><a href=\"/fr/docs/Web/API/ShadowRoot/host\"><code>ShadowRoot.host</code></a> <span title=\"Cette valeur ne peut pas être changée.\" class=\"badge inline readonly\">Lecture seule </span></dt>\n  <dd>\n    <p>Cette propriété renvoie une référence à l'élément DOM auquel la racine <code>ShadowRoot</code> est attachée.</p>\n  </dd>\n  <dt id=\"shadowroot.innerhtml\"><a href=\"/fr/docs/Web/API/ShadowRoot/innerHTML\"><code>ShadowRoot.innerHTML</code></a> <svg class=\"icon icon-nonstandard\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-nonstandard\"></use>\n</svg></dt>\n  <dd>\n    <p>Cette propriété permet de définir ou de récupérer le sous-arbre DOM contenu à l'intérieur de la racine <code>ShadowRoot</code>.</p>\n  </dd>\n  <dt id=\"shadowroot.mode\"><a href=\"/fr/docs/Web/API/ShadowRoot/mode\"><code>ShadowRoot.mode</code></a> <span title=\"Cette valeur ne peut pas être changée.\" class=\"badge inline readonly\">Lecture seule </span></dt>\n  <dd>\n    <p>Cette propriété renvoie le mode utilisé pour la racine <code>ShadowRoot</code> : <code>open</code> ou <code>closed</code>. Cette valeur indique si les fonctionnalités internes à la racine sont accessibles depuis JavaScript.</p>\n  </dd>\n</dl>"}},{"type":"prose","value":{"id":"propriétés_incluses_via_documentorshadowroot","title":"Propriétés incluses via <code>DocumentOrShadowRoot</code>","isH3":true,"content":"<p><em>L'interface <code>ShadowRoot</code> inclut les propriétés suivantes grâce au</em> mixin <em><a class=\"page-not-created\" title=\"Cette documentation n'a pas encore été rédigée, vous pouvez aider en contribuant&nbsp;!\"><code>DocumentOrShadowRoot</code></a>. Attention, ceci n'est actuellement (11/2019) implémenté qu'avec Chrome et les autres navigateurs continuent d'implémenter l'interface <a href=\"/fr/docs/Web/API/Document\"><code>Document</code></a>.</em></p>\n<dl>\n  <dt id=\"documentorshadowroot.activeelement\"><a href=\"/fr/docs/Web/API/Document/activeElement\"><code>DocumentOrShadowRoot.activeElement</code></a> <span title=\"Cette valeur ne peut pas être changée.\" class=\"badge inline readonly\">Lecture seule </span></dt>\n  <dd>\n    <p>L'élément (<a href=\"/fr/docs/Web/API/Element\"><code>Element</code></a>) au sein du sous-arbre <em>shadow</em> qui a le focus.</p>\n  </dd>\n  <dt id=\"documentorshadowroot.stylesheets\"><a href=\"/fr/docs/Web/API/Document/styleSheets\"><code>DocumentOrShadowRoot.styleSheets</code></a> <span title=\"Cette valeur ne peut pas être changée.\" class=\"badge inline readonly\">Lecture seule </span></dt>\n  <dd>\n    <p>Une liste <a href=\"/fr/docs/Web/API/StyleSheetList\"><code>StyleSheetList</code></a> d'objets <a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/CSSStyleSheet\"><code>CSSStyleSheet</code> <small>(en-US)</small></a> qui référencent les feuilles de styles liées explicitement ou embarquées dans le document.</p>\n  </dd>\n</dl>","titleAsText":"Propriétés incluses via DocumentOrShadowRoot"}},{"type":"prose","value":{"id":"méthodes","title":"Méthodes","isH3":false,"content":"<p><em>L'interface <code>ShadowRoot</code> inclut les méthodes suivantes qui proviennent du</em> mixin <em><a class=\"page-not-created\" title=\"Cette documentation n'a pas encore été rédigée, vous pouvez aider en contribuant&nbsp;!\"><code>DocumentOrShadowRoot</code></a>. Attention, ceci n'est actuellement (11/2019) implémenté qu'avec Chrome et les autres navigateurs continuent d'implémenter l'interface <a href=\"/fr/docs/Web/API/Document\"><code>Document</code></a>.</em></p>\n<dl>\n  <dt id=\"documentorshadowroot.getselection\"><a href=\"/fr/docs/Web/API/Document/getSelection\"><code>DocumentOrShadowRoot.getSelection()</code></a></dt>\n  <dd>\n    <p>Cette méthode renvoie un objet <a href=\"/fr/docs/Web/API/Selection\"><code>Selection</code></a> représentant le fragment de texte sélectionné par l'utilisateur ou la position courante du curseur.</p>\n  </dd>\n  <dt id=\"documentorshadowroot.elementfrompoint\"><a href=\"/fr/docs/Web/API/Document/elementFromPoint\"><code>DocumentOrShadowRoot.elementFromPoint()</code></a></dt>\n  <dd>\n    <p>Cette méthode renvoie l'élément le plus haut situé aux coordonnées passées en arguments.</p>\n  </dd>\n  <dt id=\"documentorshadowroot.elementsfrompoint\"><a href=\"/fr/docs/Web/API/Document/elementsFromPoint\"><code>DocumentOrShadowRoot.elementsFromPoint()</code></a></dt>\n  <dd>\n    <p>Cette méthode renvoie un tableau de tous les éléments situés aux coordonnées passées en arguments.</p>\n  </dd>\n  <dt id=\"documentorshadowroot.caretpositionfrompoint_en-us\"><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/Document/caretPositionFromPoint\"><code>DocumentOrShadowRoot.caretPositionFromPoint()</code> <small>(en-US)</small></a></dt>\n  <dd>\n    <p>Cette méthode renvoie un objet <a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/CaretPosition\"><code>CaretPosition</code> <small>(en-US)</small></a> contenant le nœud DOM sur lequel est le curseur ainsi que la position du curseur sur ce nœud.</p>\n  </dd>\n</dl>"}},{"type":"prose","value":{"id":"exemples","title":"Exemples","isH3":false,"content":"<p>Les fragments de code suivants sont extraits de l'exemple <a href=\"https://github.com/mdn/web-components-examples/tree/master/life-cycle-callbacks\" class=\"external\" rel=\" noopener\">life-cycle-callbacks</a> (<a href=\"https://mdn.github.io/web-components-examples/life-cycle-callbacks\" class=\"external\" rel=\" noopener\">voir le résultat en <em>live</em></a>) qui crée un élément affichant un carré avec une taille et une couleur fournies par les attributs de l'élément.</p>\n<p>Dans la définition de la classe pour l'élément <code>&lt;custom-square&gt;</code>, on ajoute certains <em>callbacks</em> permettant de gérer le cycle de vie de l'élément avec un appel à une fonction externe <code>updateStyle()</code> qui applique la taille et la couleur à l'élément. On lui passe l'argument <code>this</code> (c'est-à-dire l'élément lui-même).</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token function\">connectedCallback</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Le carré personnalisé a été ajouté à la page.\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">updateStyle</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token function\">attributeChangedCallback</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">nom<span class=\"token punctuation\">,</span> ancienneValeur<span class=\"token punctuation\">,</span> nouvelleValeur</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Les attributs du carré ont changé.\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">updateStyle</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>Quant à la fonction <code>updateStyle()</code>, voyons ici son fonctionnement. On récupère une référence au <em>shadow DOM</em> avec <a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/Element/shadowRoot\"><code>Element.shadowRoot</code> <small>(en-US)</small></a>. Ensuite, on utilise un parcours pour le sous-arbre afin de trouver l'élément <a href=\"/fr/docs/Web/HTML/Element/style\"><code>&lt;style&gt;</code></a> présent dans le <em>shadow DOM</em> et on met à jour le CSS pour cet élément :</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">function</span> <span class=\"token function\">updateStyle</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">elem</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">var</span> shadow <span class=\"token operator\">=</span> elem<span class=\"token punctuation\">.</span>shadowRoot<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">var</span> childNodes <span class=\"token operator\">=</span> shadow<span class=\"token punctuation\">.</span>childNodes<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">for</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">var</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> childNodes<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>childNodes<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>nodeName <span class=\"token operator\">===</span> <span class=\"token string\">'STYLE'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      childNodes<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>textContent <span class=\"token operator\">=</span>\n        <span class=\"token string\">'div {'</span> <span class=\"token operator\">+</span>\n          <span class=\"token string\">'width: '</span> <span class=\"token operator\">+</span> elem<span class=\"token punctuation\">.</span><span class=\"token function\">getAttribute</span><span class=\"token punctuation\">(</span><span class=\"token string\">'l'</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">'px;'</span> <span class=\"token operator\">+</span>\n          <span class=\"token string\">'height: '</span> <span class=\"token operator\">+</span> elem<span class=\"token punctuation\">.</span><span class=\"token function\">getAttribute</span><span class=\"token punctuation\">(</span><span class=\"token string\">'l'</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">'px;'</span> <span class=\"token operator\">+</span>\n          <span class=\"token string\">'background-color: '</span> <span class=\"token operator\">+</span> elem<span class=\"token punctuation\">.</span><span class=\"token function\">getAttribute</span><span class=\"token punctuation\">(</span><span class=\"token string\">'c'</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">';'</span> <span class=\"token operator\">+</span>\n        <span class=\"token string\">'}'</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>"}},{"type":"specifications","value":{"title":"Spécifications","id":"spécifications","isH3":false,"specifications":[{"bcdSpecificationURL":"https://dom.spec.whatwg.org/#interface-shadowroot","title":"DOM Standard"}],"query":"api.ShadowRoot"}},{"type":"browser_compatibility","value":{"title":"Compatibilité des navigateurs","id":"compatibilité_des_navigateurs","isH3":false,"query":"api.ShadowRoot","dataURL":"/fr/docs/Web/API/ShadowRoot/bcd.json"}}],"toc":[{"text":"Propriétés","id":"propriétés"},{"text":"Méthodes","id":"méthodes"},{"text":"Exemples","id":"exemples"},{"text":"Spécifications","id":"spécifications"},{"text":"Compatibilité des navigateurs","id":"compatibilité_des_navigateurs"}],"summary":"L'interface ShadowRoot, relative à l'API Shadow DOM, représente la racine d'un sous-arbre du DOM dont le rendu est effectué séparément de celui du DOM de l'arbre principal.","popularity":0,"modified":"2022-10-01T03:41:16.000Z","other_translations":[{"title":"ShadowRoot","locale":"en-US","native":"English (US)"},{"title":"ShadowRoot","locale":"ja","native":"日本語"},{"title":"ShadowRoot","locale":"zh-CN","native":"中文 (简体)"}],"source":{"folder":"fr/web/api/shadowroot","github_url":"https://github.com/mdn/translated-content/blob/main/files/fr/web/api/shadowroot/index.md","last_commit_url":"https://github.com/mdn/translated-content/commit/921c46a374ab0a9f4cc809af0370f8c412e54701","filename":"index.md"},"parents":[{"uri":"/fr/docs/Web","title":"Technologies web pour développeurs"},{"uri":"/fr/docs/Web/API","title":"Référence Web API"},{"uri":"/fr/docs/Web/API/ShadowRoot","title":"ShadowRoot"}],"pageTitle":"ShadowRoot - Référence Web API | MDN","noIndexing":false}}