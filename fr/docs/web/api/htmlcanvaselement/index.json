{"doc":{"isMarkdown":true,"isTranslated":true,"isActive":true,"flaws":{},"title":"HTMLCanvasElement","mdn_url":"/fr/docs/Web/API/HTMLCanvasElement","locale":"fr","native":"Français","sidebarHTML":"<ol><li><strong><a href=\"/fr/docs/Web/API/HTMLCanvasElement\"><code>HTMLCanvasElement</code></a></strong></li><li class=\"toggle\"><details open=\"\"><summary>Propriétés</summary><ol><li><a href=\"/fr/docs/Web/API/HTMLCanvasElement/height\"><code>height</code></a></li><li><svg class=\"icon icon-nonstandard\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-nonstandard\"></use>\n</svg><svg class=\"icon icon-deprecated\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-deprecated\"></use>\n</svg><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/HTMLCanvasElement/mozOpaque\"><code>mozOpaque</code> <small>(en-US)</small></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/HTMLCanvasElement/width\"><code>width</code> <small>(en-US)</small></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>Méthodes</summary><ol><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/HTMLCanvasElement/captureStream\"><code>captureStream()</code> <small>(en-US)</small></a></li><li><a href=\"/fr/docs/Web/API/HTMLCanvasElement/getContext\"><code>getContext()</code></a></li><li><svg class=\"icon icon-nonstandard\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-nonstandard\"></use>\n</svg><svg class=\"icon icon-deprecated\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-deprecated\"></use>\n</svg><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/HTMLCanvasElement/mozFetchAsStream\"><code>mozFetchAsStream()</code> <small>(en-US)</small></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/HTMLCanvasElement/toBlob\"><code>toBlob()</code> <small>(en-US)</small></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/HTMLCanvasElement/toDataURL\"><code>toDataURL()</code> <small>(en-US)</small></a></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/HTMLCanvasElement/transferControlToOffscreen\"><code>transferControlToOffscreen()</code> <small>(en-US)</small></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>Événements</summary><ol><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/HTMLCanvasElement/contextlost_event\"><code>contextlost</code> <small>(en-US)</small></a></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/HTMLCanvasElement/contextrestored_event\"><code>contextrestored</code> <small>(en-US)</small></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/HTMLCanvasElement/webglcontextlost_event\"><code>webglcontextlost</code> <small>(en-US)</small></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>Héritage&nbsp;:</summary><ol><li><a href=\"/fr/docs/Web/API/HTMLElement\"><code>HTMLElement</code></a></li><li><a href=\"/fr/docs/Web/API/Element\"><code>Element</code></a></li><li><a href=\"/fr/docs/Web/API/Node\"><code>Node</code></a></li><li><a href=\"/fr/docs/Web/API/EventTarget\"><code>EventTarget</code></a></li></ol></details></li></ol>","body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<p>L'interface <strong><code>HTMLCanvasElement</code></strong> fournit un ensemble de propriétés et de méthodes pour manipuler la disposition et la représentation des éléments canvas. L'interface <code>HTMLCanvasElement</code> hérite également des propriétés et des méthodes de l'interface <a href=\"/fr/docs/Web/API/HTMLElement\"><code>HTMLElement</code></a>.</p>"}},{"type":"prose","value":{"id":"propriétés","title":"Propriétés","isH3":false,"content":"<p><em>Propriétés hérités de son parent,</em> <em><a href=\"/fr/docs/Web/API/HTMLElement\"><code>HTMLElement</code></a>.</em></p>\n<table>\n  <thead>\n    <tr>\n      <th>Nom</th>\n      <th>Type</th>\n      <th>Description</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <td><code>height</code></td>\n      <td><code>unsigned long</code></td>\n      <td>Représente l'attribut HTML <a href=\"/fr/docs/Web/HTML/Element/canvas#attr-height\"><code>height</code></a>, qui spécifie la hauteur de l'espace des coordonnées en pixels CSS.</td>\n    </tr>\n    <tr>\n      <td><code>width</code></td>\n      <td><code>unsigned long</code></td>\n      <td>Représente l'attribut HTML <a href=\"/fr/docs/Web/HTML/Element/canvas#attr-width\"><code>width</code></a>, qui spécifie la largeur de l'espace des coordonnées en pixels CSS.</td>\n    </tr>\n  </tbody>\n</table>"}},{"type":"prose","value":{"id":"méthodes","title":"Méthodes","isH3":false,"content":"<p><em>Méthodes héritées de son parent,</em> <em><a href=\"/fr/docs/Web/API/HTMLElement\"><code>HTMLElement</code></a>.</em></p>\n<table class=\"standard-table\">\n  <thead>\n    <tr>\n      <th scope=\"col\">Nom &amp; arguments</th>\n      <th scope=\"col\">Résultat</th>\n      <th scope=\"col\">Description</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <td><code>getContext(in <a href=\"/fr/docs/Web/JavaScript/Reference/Global_Objects/String\"><code>DOMString</code></a> contextId)</code></td>\n      <td><a class=\"page-not-created\" title=\"Cette documentation n'a pas encore été rédigée, vous pouvez aider en contribuant&nbsp;!\"><code>RenderingContext</code></a></td>\n      <td>\n        Renvoie un contexte de dessin sur le canvas, ou null si l'ID de contexte\n        n'est pas supporté. Un contexte de dessin vous permet de dessiner sur le\n        canvas. Appeler getContext avec <code>\"2d\"</code> renvoie un object\n        <a href=\"/fr/docs/Web/API/CanvasRenderingContext2D\"><code>CanvasRenderingContext2D</code></a>, alors que\n        l'appeler avec <code>\"experimental-webgl\"</code> (ou\n        <code>\"webgl\"</code>) renvoie un objet\n        <a href=\"/fr/docs/Web/API/WebGLRenderingContext\"><code>WebGLRenderingContext</code></a> . Ce dernier contexte\n        n'est disponible que dans les navigateur qui implémentent\n        <a href=\"/en-US/docs/Web/API/WebGL_API\">WebGL</a>.\n      </td>\n    </tr>\n    <tr>\n      <td><code>supportsContext()</code> <svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg></td>\n      <td><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean\"><code>Boolean</code> <small>(en-US)</small></a></td>\n      <td>\n        Renvoie une valeur <a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean\"><code>Boolean</code> <small>(en-US)</small></a> indiquant si le contexte\n        donné est supporté par ce canvas.\n      </td>\n    </tr>\n    <tr>\n      <td><em><code>setContext()</code></em> <svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg></td>\n      <td><code>void</code></td>\n      <td>Chnage de contexte de l'élément en rapport avec celui fourni.</td>\n    </tr>\n    <tr>\n      <td><code>transferControlToProxy()</code> <svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg></td>\n      <td><a class=\"page-not-created\" title=\"Cette documentation n'a pas encore été rédigée, vous pouvez aider en contribuant&nbsp;!\"><code>CanvasProxy</code></a></td>\n      <td>\n        Retourne un mandataire pour autoriser le canvas à être utilisé dans un\n        autre <a href=\"/fr/docs/Web/API/Worker\"><code>Worker</code></a>.\n      </td>\n    </tr>\n    <tr>\n      <td>\n        <code>toDataURL</code>(in optional <a href=\"/fr/docs/Web/JavaScript/Reference/Global_Objects/String\"><code>DOMString</code></a>\n        type, in any ...args)\n      </td>\n      <td><a href=\"/fr/docs/Web/JavaScript/Reference/Global_Objects/String\"><code>DOMString</code></a></td>\n      <td>\n        Renvoie une <code>data:</code> URL contenant une représentation de\n        l'image au format spécifié par l'argument <code>type</code> (PNG par\n        défaut). L'image renvoyée est en 96dpi.\n        <ul>\n          <li>\n            Si la hauteur ou la largeur du canvas est <code>0</code>,\n            <code>\"data:,</code>\" représentant une chaîne vide, est renvoyée.\n          </li>\n          <li>\n            Si le format demandé n'est pas <code>image/png</code>, mais que la\n            valeur renvoyée commence par <code>data:image/png</code>, alors le\n            format demandé n'est pas supporté.\n          </li>\n          <li>Chrome supporte le format <code>image/webp</code>.</li>\n          <li>\n            Si le format demandé est <code>image/jpeg </code>ou\n            <code>image/webp</code>, alors le second argument, s'il est compris\n            entre <code>0.0</code> et <code>1.0</code>, est considéré comme une\n            indication de la qualité d'image ; si le second argument est\n            n'importe quoi d'autre, la valeur par défaut pour la qualité est\n            utilisé. Les autres arguments sont ignorés.\n          </li>\n        </ul>\n      </td>\n    </tr>\n    <tr>\n      <td><code>toDataURLHD()</code><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg></td>\n      <td><a href=\"/fr/docs/Web/JavaScript/Reference/Global_Objects/String\"><code>DOMString</code></a></td>\n      <td>\n        Renvoie une <code>data:</code> URL contenant une représentation de\n        l'image au format spécifié par <code>type</code> (PNG par défaut).\n        L'image renvoyée est à la résolution native du canvas.\n        <ul>\n          <li>\n            Si la hauteur ou la largeur du canvas est <code>0</code>,\n            <code>\"data:,</code>\" représentant une chaîne vide, est renvoyée.\n          </li>\n          <li>\n            Si le format demandé n'est pas <code>image/png</code>, mais que la\n            valeur renvoyée commence par <code>data:image/png</code>, alors le\n            format demandé n'est pas supporté.\n          </li>\n          <li>Chrome supporte le format <code>image/webp</code>.</li>\n          <li>\n            Si le format demandé est <code>image/jpeg </code>ou\n            <code>image/webp</code>, alors le second argument, s'il est compris\n            entre <code>0.0</code> et <code>1.0</code>, est considéré comme une\n            indication de la qualité d'image ; si le second argument est\n            n'importe quoi d'autre, la valeur par défaut pour la qualité est\n            utilisé. Les autres arguments sont ignorés.\n          </li>\n        </ul>\n      </td>\n    </tr>\n    <tr>\n      <td>\n        <code>toBlob</code>(in FileCallback callback, in optional\n        <a href=\"/fr/docs/Web/JavaScript/Reference/Global_Objects/String\"><code>DOMString</code></a> type, in any ...args)\n      </td>\n      <td><code>void</code></td>\n      <td>\n        Renvoie un objet <a href=\"/fr/docs/Web/API/Blob\"><code>Blob</code></a> représentant l'image contenue\n        dans le canvas ; ce fichier peut être mis en cache sur le disque ou\n        stocké en mémoire au choix du navigateur. Si <code>type</code> n'est pas\n        précisé, le format de l'image est <code>image/png</code>. L'image\n        renvoyée est en 96dpi.\n      </td>\n    </tr>\n    <tr>\n      <td>\n        <code>toBlobHD</code>(in FileCallback callback, in optional\n        <a href=\"/fr/docs/Web/JavaScript/Reference/Global_Objects/String\"><code>DOMString</code></a> type, in any ...args)\n        <svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg>\n      </td>\n      <td><code>void</code></td>\n      <td>\n        Renvoie un objet <a href=\"/fr/docs/Web/API/Blob\"><code>Blob</code></a> représentant l'image contenue\n        dans le canvas ; ce fichier peut être mis en cache sur le disque ou\n        stocké en mémoire au choix du navigateur. Si <code>type</code> n'est pas\n        précisé, le format de l'image est <code>image/png</code>. L'image\n        renvoyée est à la résolution native du canvas.\n      </td>\n    </tr>\n    <tr>\n      <td>\n        <code>mozGetAsFile</code>(in <a href=\"/fr/docs/Web/JavaScript/Reference/Global_Objects/String\"><code>DOMString</code></a> name, in\n        optional <a href=\"/fr/docs/Web/JavaScript/Reference/Global_Objects/String\"><code>DOMString</code></a> type)\n        <svg class=\"icon icon-nonstandard\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-nonstandard\"></use>\n</svg>\n      </td>\n      <td><a href=\"/fr/docs/Web/API/File\"><code>File</code></a></td>\n      <td>\n        Renvoie un objet <a href=\"/fr/docs/Web/API/File\"><code>File</code></a> représentant l'image contenue\n        dans le canvas ; ce fichier est en mémoire avec le\n        <code>nom</code> précisé. Si <code>type</code> n'est pas précisé, le\n        fotmat de l'image est <code>image/png</code>.\n      </td>\n    </tr>\n    <tr>\n      <td>\n        <code>void mozFetchAsStream(in\n`nsIInputStreamCallback` callback,\n[optional] in DOMString type)</code>\n        <svg class=\"icon icon-nonstandard\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-nonstandard\"></use>\n</svg>\n      </td>\n      <td><code>void</code></td>\n      <td>\n        Crée un nouveau flux d'entrée qui, quand il est prêt, fournit le contenu\n        du canvas en tant que données d'image. Quand le nouveau flux est prêt,\n        la fonction de rappel spécifiée\n        <code>nsIInputStreamCallback.onInputStreamReady()</code>\n        est appelée. Si <code>type</code> n'est pas précisée, Le format de\n        l'image est <code>image/png.</code>\n        <div class=\"note notecard\" id=\"sect1\">\n          <p>\n            <strong>Note :</strong> Cette méthode ne peut être utilisée que\n            depuis le code chrome.\n          </p>\n        </div>\n      </td>\n    </tr>\n  </tbody>\n</table>"}},{"type":"prose","value":{"id":"examples","title":"Examples","isH3":false,"content":""}},{"type":"prose","value":{"id":"example_obtenir_la_data-url_du_canvas","title":"Example: Obtenir la data-url du canvas","isH3":true,"content":"<p>D'abord, dessinez dans le canvas, ensuite appelez <code>canvas.toDataURL()</code> pour obtenir la data: URL du canvas.</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">function</span> <span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n <span class=\"token keyword\">var</span> canvas <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"canvas\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n <span class=\"token keyword\">var</span> url <span class=\"token operator\">=</span> canvas<span class=\"token punctuation\">.</span><span class=\"token function\">toDataURL</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n <span class=\"token keyword\">var</span> nouvelleImg <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">createElement</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"img\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n nouvelleImg<span class=\"token punctuation\">.</span>src <span class=\"token operator\">=</span> url<span class=\"token punctuation\">;</span>\n document<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">appendChild</span><span class=\"token punctuation\">(</span>nouvelleImg<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>"}},{"type":"prose","value":{"id":"example_obtenir_un_fichier_représentant_le_canvas","title":"Example: Obtenir un fichier représentant le canvas","isH3":true,"content":"<p>Une fois que vous avez dessiné du contenu dans un canvas, vous pouvez le convertir dans un fichier avec l'un des formats supportés. Par exemple, l'extrait de code ci-dessous récupère l'image contenue dans l'élément canvas avec l'ID \"canvas\", en effectue une copie au format PNG, puis ajoute un nouvel élément <a href=\"/fr/docs/Web/HTML/Element/Img\"><code>&lt;img&gt;</code></a> au document, dont l'image source est celle créée en utilisant le canvas.</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">function</span> <span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">var</span> canvas <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"canvas\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  canvas<span class=\"token punctuation\">.</span><span class=\"token function\">toBlob</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">blob</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">var</span> nouvelleImg <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">createElement</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"img\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        url <span class=\"token operator\">=</span> <span class=\"token constant\">URL</span><span class=\"token punctuation\">.</span><span class=\"token function\">createObjectURL</span><span class=\"token punctuation\">(</span>blob<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    nouvelleImg<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onload</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token comment\">// Il n'est plus nécessaire de lire le blob, il est donc révoqué</span>\n      <span class=\"token constant\">URL</span><span class=\"token punctuation\">.</span><span class=\"token function\">revokeObjectURL</span><span class=\"token punctuation\">(</span>url<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n    nouvelleImg<span class=\"token punctuation\">.</span>src <span class=\"token operator\">=</span> url<span class=\"token punctuation\">;</span>\n    document<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">appendChild</span><span class=\"token punctuation\">(</span>nouvelleImg<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>Vous pouvez utiliser cette technique en association avec les événemments de souris pour effectuer un changement d'images dynamique (niveau de gris et couleur dans cet exemple) :</p>\n<div class=\"code-example\"><pre class=\"brush: html notranslate\"><code><span class=\"token doctype\"><span class=\"token punctuation\">&lt;!</span><span class=\"token doctype-tag\">DOCTYPE</span> <span class=\"token name\">html</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>html</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>head</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">http-equiv</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Content-Type<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">content</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text/html; charset=UTF-8<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>title</span><span class=\"token punctuation\">&gt;</span></span>MDC Example<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>title</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text/javascript<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span><span class=\"token script\"><span class=\"token language-javascript\">\n<span class=\"token keyword\">function</span> <span class=\"token function\">afficherImageCouleur</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">.</span>display <span class=\"token operator\">=</span> <span class=\"token string\">\"none\"</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>nextSibling<span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">.</span>display <span class=\"token operator\">=</span> <span class=\"token string\">\"inline\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">afficherImageGrise</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>previousSibling<span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">.</span>display <span class=\"token operator\">=</span> <span class=\"token string\">\"inline\"</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">.</span>display <span class=\"token operator\">=</span> <span class=\"token string\">\"none\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">supprimerCouleurs</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">var</span> aImages <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementsByClassName</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"grayscale\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n      nImgsLong <span class=\"token operator\">=</span> aImages<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">,</span>\n      oCanvas <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">createElement</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"canvas\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n      oCtx <span class=\"token operator\">=</span> oCanvas<span class=\"token punctuation\">.</span><span class=\"token function\">getContext</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"2d\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">var</span> nLargeur<span class=\"token punctuation\">,</span> nHauteur<span class=\"token punctuation\">,</span> oImgData<span class=\"token punctuation\">,</span> oImgGrise<span class=\"token punctuation\">,</span> nPixel<span class=\"token punctuation\">,</span> aPix<span class=\"token punctuation\">,</span> nPixLong<span class=\"token punctuation\">,</span> nImgId <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> nImgId <span class=\"token operator\">&lt;</span> nImgsLong<span class=\"token punctuation\">;</span> nImgId<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    oImgCouleur <span class=\"token operator\">=</span> aImages<span class=\"token punctuation\">[</span>nImgId<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n    nLargeur <span class=\"token operator\">=</span> oImgCouleur <span class=\"token punctuation\">.</span>offsetWidth<span class=\"token punctuation\">;</span>\n    nHauteur <span class=\"token operator\">=</span> oImgCouleur <span class=\"token punctuation\">.</span>offsetHeight<span class=\"token punctuation\">;</span>\n    oCanvas<span class=\"token punctuation\">.</span>width <span class=\"token operator\">=</span> nWidth<span class=\"token punctuation\">;</span>\n    oCanvas<span class=\"token punctuation\">.</span>height <span class=\"token operator\">=</span> nHeight<span class=\"token punctuation\">;</span>\n    oCtx<span class=\"token punctuation\">.</span><span class=\"token function\">drawImage</span><span class=\"token punctuation\">(</span>oImgCouleur <span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    oImgData <span class=\"token operator\">=</span> oCtx<span class=\"token punctuation\">.</span><span class=\"token function\">getImageData</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> nLargeur<span class=\"token punctuation\">,</span> nHauteur<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    aPix <span class=\"token operator\">=</span> oImgData<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">;</span>\n    nPixLong <span class=\"token operator\">=</span> aPix<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span>nPixel <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> nPixel <span class=\"token operator\">&lt;</span> nPixLen<span class=\"token punctuation\">;</span> nPixel <span class=\"token operator\">+=</span> <span class=\"token number\">4</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      aPix<span class=\"token punctuation\">[</span>nPixel <span class=\"token operator\">+</span> <span class=\"token number\">2</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> aPix<span class=\"token punctuation\">[</span>nPixel <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> aPix<span class=\"token punctuation\">[</span>nPixel<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>aPix<span class=\"token punctuation\">[</span>nPixel<span class=\"token punctuation\">]</span> <span class=\"token operator\">+</span> aPix<span class=\"token punctuation\">[</span>nPixel <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">+</span> aPix<span class=\"token punctuation\">[</span>nPixel <span class=\"token operator\">+</span> <span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">/</span> <span class=\"token number\">3</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    oCtx<span class=\"token punctuation\">.</span><span class=\"token function\">putImageData</span><span class=\"token punctuation\">(</span>oImgData<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    oImgGrise <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Image</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    oImg<span class=\"token punctuation\">.</span>src <span class=\"token operator\">=</span> oCanvas<span class=\"token punctuation\">.</span><span class=\"token function\">toDataURL</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    oImgGrise<span class=\"token punctuation\">.</span>onmouseover <span class=\"token operator\">=</span> afficherImageCouleur<span class=\"token punctuation\">;</span>\n    oImgCouleur<span class=\"token punctuation\">.</span>onmouseout <span class=\"token operator\">=</span> afficherImageGrise<span class=\"token punctuation\">;</span>\n    oCtx<span class=\"token punctuation\">.</span><span class=\"token function\">clearRect</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> nLargeur<span class=\"token punctuation\">,</span> nHauteur<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    oImgCouleur<span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">.</span>display <span class=\"token operator\">=</span> <span class=\"token string\">\"none\"</span><span class=\"token punctuation\">;</span>\n    oImgCouleur<span class=\"token punctuation\">.</span>parentNode<span class=\"token punctuation\">.</span><span class=\"token function\">insertBefore</span><span class=\"token punctuation\">(</span>oImgGrise <span class=\"token punctuation\">,</span> oImgCouleur<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>head</span><span class=\"token punctuation\">&gt;</span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span> <span class=\"token special-attr\"><span class=\"token attr-name\">onload</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token value javascript language-javascript\"><span class=\"token function\">supprimerCouleurs</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span><span class=\"token punctuation\">\"</span></span></span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>img</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>grayscale<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>chagall.jpg<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">alt</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>html</span><span class=\"token punctuation\">&gt;</span></span>\n</code></pre></div>\n<p>Remarquez qu'ici nous créons une image PNG ; si vous ajoutez un second paramètre à l'appel de <code>toBlob()</code>, vous pouvez spécifier le type d'image. Par exemple, pour obtenir l'image au format JPEG :</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code> canvas<span class=\"token punctuation\">.</span><span class=\"token function\">toBlob</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">blob</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span><span class=\"token operator\">...</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"image/jpeg\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0.95</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// JPEG avec une qualité de 95%</span>\n</code></pre></div>"}},{"type":"specifications","value":{"title":"Spécifications","id":"spécifications","isH3":false,"specifications":[{"bcdSpecificationURL":"https://html.spec.whatwg.org/multipage/canvas.html#htmlcanvaselement","title":"HTML Standard"}],"query":"api.HTMLCanvasElement"}},{"type":"browser_compatibility","value":{"title":"Compatibilité des navigateurs","id":"compatibilité_des_navigateurs","isH3":false,"query":"api.HTMLCanvasElement","dataURL":"/fr/docs/Web/API/HTMLCanvasElement/bcd.json"}},{"type":"prose","value":{"id":"voir_aussi","title":"Voir aussi","isH3":false,"content":"<ul>\n  <li>Elément HTML implementant cette interface : <a href=\"/fr/docs/Web/HTML/Element/canvas\"><code>&lt;canvas&gt;</code></a>.</li>\n</ul>"}}],"toc":[{"text":"Propriétés","id":"propriétés"},{"text":"Méthodes","id":"méthodes"},{"text":"Examples","id":"examples"},{"text":"Spécifications","id":"spécifications"},{"text":"Compatibilité des navigateurs","id":"compatibilité_des_navigateurs"},{"text":"Voir aussi","id":"voir_aussi"}],"summary":"L'interface HTMLCanvasElement fournit un ensemble de propriétés et de méthodes pour manipuler la disposition et la représentation des éléments canvas. L'interface HTMLCanvasElement hérite également des propriétés et des méthodes de l'interface HTMLElement.","popularity":0.0002,"modified":"2022-10-01T03:41:16.000Z","other_translations":[{"title":"HTMLCanvasElement","locale":"en-US","native":"English (US)"},{"title":"HTMLCanvasElement","locale":"es","native":"Español"},{"title":"HTMLCanvasElement","locale":"ja","native":"日本語"},{"title":"HTMLCanvasElement","locale":"ko","native":"한국어"},{"title":"HTMLCanvasElement","locale":"pt-BR","native":"Português (do Brasil)"},{"title":"HTMLCanvasElement","locale":"ru","native":"Русский"},{"title":"HTMLCanvasElement","locale":"zh-CN","native":"中文 (简体)"},{"title":"HTMLCanvasElement","locale":"zh-TW","native":"正體中文 (繁體)"}],"source":{"folder":"fr/web/api/htmlcanvaselement","github_url":"https://github.com/mdn/translated-content/blob/main/files/fr/web/api/htmlcanvaselement/index.md","last_commit_url":"https://github.com/mdn/translated-content/commit/921c46a374ab0a9f4cc809af0370f8c412e54701","filename":"index.md"},"parents":[{"uri":"/fr/docs/Web","title":"Technologies web pour développeurs"},{"uri":"/fr/docs/Web/API","title":"Référence Web API"},{"uri":"/fr/docs/Web/API/HTMLCanvasElement","title":"HTMLCanvasElement"}],"pageTitle":"HTMLCanvasElement - Référence Web API | MDN","noIndexing":false}}