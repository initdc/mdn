{"doc":{"isMarkdown":true,"isTranslated":true,"isActive":true,"flaws":{},"title":"beforeunload","mdn_url":"/fr/docs/Web/API/Window/beforeunload_event","locale":"fr","native":"Français","sidebarHTML":"","body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<p>L'événement <strong><code>beforeunload</code></strong> est déclenché quand la fênetre, ou le document, et leurs resources sont sur le point d'être déchargés.</p>\n<p>Lorsqu'une chaîne de caractères est assignée à la propriété <code>returnValue</code> de <a href=\"/fr/docs/Web/API/Event\"><code>Event</code></a>, une boîte de dialogue apparaît demandant confirmation avant de quitter la page (voir exemple plus bas). Certains navigateurs affichent la valeur retournée, alors que d'autres affichent leur propre message. Si aucune valeur n'est fournie, l'événement est traité silencieusement.</p>\n<div class=\"notecard note\" id=\"sect1\">\n  <p><strong>Note :</strong> Afin d'éviter les \"pop-ups\" indésirables, les navigateurs peuvent ne pas afficher les alertes créées dans les gestionnaires <code>beforeunload</code>.</p>\n</div>\n<div class=\"notecard warning\" id=\"sect2\">\n  <p><strong>Attention :</strong> Attacher un gestionnaire d'événement <code>beforeunload</code> à <code>window</code> ou à <code>document</code> empêche les navigateurs d'utiliser leur mémoire cache ; consulter <a href=\"/fr/docs/Mozilla/Firefox/Releases/1.5/Using_Firefox_1.5_caching\">Utilisation du cache de Firefox 1.5</a> ou <a href=\"https://webkit.org/blog/516/webkit-page-cache-ii-the-unload-event/\" class=\"external\" rel=\" noopener\">WebKit's Page Cache</a> (en anglais).</p>\n</div>\n<table class=\"properties\">\n  <tbody>\n    <tr>\n      <td>Propagation</td>\n      <td>Non</td>\n    </tr>\n    <tr>\n      <td>Annulable</td>\n      <td>Oui</td>\n    </tr>\n    <tr>\n      <td>Object cible</td>\n      <td>defaultView</td>\n    </tr>\n    <tr>\n      <td>Interface</td>\n      <td><a href=\"/fr/docs/Web/API/Event\"><code>Event</code></a></td>\n    </tr>\n  </tbody>\n</table>"}},{"type":"prose","value":{"id":"propriétés","title":"Propriétés","isH3":false,"content":"<table>\n  <thead>\n    <tr>\n      <th>Propriété</th>\n      <th>Type</th>\n      <th>Description</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <td><code>target</code> <span title=\"Cette valeur ne peut pas être changée.\" class=\"badge inline readonly\">Lecture seule </span></td>\n      <td><a href=\"/fr/docs/Web/API/EventTarget\"><code>EventTarget</code></a></td>\n      <td>La cible de l'événement (la plus haute cible dans l'arbre du DOM).</td>\n    </tr>\n    <tr>\n      <td><code>type</code> <span title=\"Cette valeur ne peut pas être changée.\" class=\"badge inline readonly\">Lecture seule </span></td>\n      <td><a href=\"/fr/docs/Web/JavaScript/Reference/Global_Objects/String\"><code>DOMString</code></a></td>\n      <td>Le type de l'événement.</td>\n    </tr>\n    <tr>\n      <td><code>bubbles</code> <span title=\"Cette valeur ne peut pas être changée.\" class=\"badge inline readonly\">Lecture seule </span></td>\n      <td><a href=\"/fr/docs/Web/JavaScript/Reference/Global_Objects/Boolean\"><code>Boolean</code></a></td>\n      <td>Est-ce que l'événement se propage ?</td>\n    </tr>\n    <tr>\n      <td><code>cancelable</code> <span title=\"Cette valeur ne peut pas être changée.\" class=\"badge inline readonly\">Lecture seule </span></td>\n      <td><a href=\"/fr/docs/Web/JavaScript/Reference/Global_Objects/Boolean\"><code>Boolean</code></a></td>\n      <td>Est-il possible d'annuler l'événement ?</td>\n    </tr>\n    <tr>\n      <td><code>returnValue</code></td>\n      <td><a href=\"/fr/docs/Web/JavaScript/Reference/Global_Objects/String\"><code>DOMString</code></a></td>\n      <td>La valeur de retour de l'événement (le message à afficher à l'utlisateur)</td>\n    </tr>\n  </tbody>\n</table>"}},{"type":"prose","value":{"id":"exemples","title":"Exemples","isH3":false,"content":"<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code>window<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"beforeunload\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">event</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  event<span class=\"token punctuation\">.</span>returnValue <span class=\"token operator\">=</span> <span class=\"token string\">\"\\o/\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// est équivalent à</span>\nwindow<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"beforeunload\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">event</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  event<span class=\"token punctuation\">.</span><span class=\"token function\">preventDefault</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<p>Les navigateurs basés sur WebKit ne suivent pas les spécifications pour la boîte de dialogue. Un exemple pratiquement compatible entre les navigateurs serait à peu près comme suit:</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code>window<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"beforeunload\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">e</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">var</span> confirmationMessage <span class=\"token operator\">=</span> <span class=\"token string\">\"\\o/\"</span><span class=\"token punctuation\">;</span>\n\n  e<span class=\"token punctuation\">.</span>returnValue <span class=\"token operator\">=</span> confirmationMessage<span class=\"token punctuation\">;</span>     <span class=\"token comment\">// Gecko, Trident, Chrome 34+</span>\n  <span class=\"token keyword\">return</span> confirmationMessage<span class=\"token punctuation\">;</span>              <span class=\"token comment\">// Gecko, WebKit, Chrome &lt;34</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>"}},{"type":"prose","value":{"id":"notes","title":"Notes","isH3":false,"content":"<p>Quand l'événement retourne une valeur non nulle, l'utilisateur est invité à confirmer le déchargement de la page. Dans la plupart des navigateurs, la valeur de retour de l'événement est affiché dans une boîte de dialogue. Dans Firefox 4 et plus, la chaine de caractères retournée n'est pas affiché à l'utilisateur. A la place, Firefox affiche \"Cette page demande de confirmer sa fermeture ; des données saisies pourraient ne pas être enregistrées\". Voir <a href=\"https://bugzilla.mozilla.org/show_bug.cgi?id=588292\" class=\"external\" rel=\" noopener\">bug&nbsp;588292</a>.</p>\n<p>Depuis le 25 mai 2011, la spécification HTML5 indique que les appels aux méthodes <a href=\"/fr/docs/Web/API/Window/alert\"><code>window.alert()</code></a>, <a href=\"/fr/docs/Web/API/Window/confirm\"><code>window.confirm()</code></a> et <a href=\"/fr/docs/Web/API/Window/prompt\"><code>window.prompt()</code></a> peuvent être ignorés durant l'évènement. Voir <a href=\"https://html.spec.whatwg.org/multipage/timers-and-user-prompts.html#user-prompts\" class=\"external\" rel=\" noopener\">la spécification HTML5 (en anglais)</a> pour plus de détails.</p>\n<p>Noter aussi que de nombreux navigateurs ignorent le résultat de l'événement (il n'y a donc aucune demande de confirmation). Firefox a une préférence cachée dans about:config pour faire de même. Essentiellement, cela signifie que l'utilisateur confirme toujours silencieusement que le document peut être déchargé.</p>"}},{"type":"specifications","value":{"title":"Spécifications","id":"spécifications","isH3":false,"specifications":[{"bcdSpecificationURL":"https://html.spec.whatwg.org/multipage/indices.html#event-beforeunload","title":"HTML Standard"}],"query":"api.Window.beforeunload_event"}},{"type":"prose","value":{"id":"voir_aussi","title":"Voir aussi","isH3":false,"content":"<ul>\n  <li><a href=\"/fr/docs/Web/API/Document/DOMContentLoaded_event\"><code>DOMContentLoaded</code></a></li>\n  <li><a href=\"/fr/docs/Web/API/Document/readystatechange_event\"><code>readystatechange</code></a></li>\n  <li><a href=\"/fr_docs/Web/API/Window/load_event\"><code>load</code></a></li>\n  <li><a href=\"/fr/docs/Web/API/Window/unload_event\"><code>unload</code></a></li>\n  <li><a href=\"https://www.whatwg.org/specs/web-apps/current-work/#prompt-to-unload-a-document\" class=\"external\" rel=\" noopener\">Unloading Documents — Prompt to unload a document</a></li>\n  <li><a href=\"https://developers.google.com/web/updates/2016/04/chrome-51-deprecations?hl=en#remove_custom_messages_in_onbeforeload_dialogs\" class=\"external\" rel=\" noopener\">Enlever les messages personnalisés dans les boîtes de dialogues onbeforeload après Chrome 51</a></li>\n</ul>"}}],"toc":[{"text":"Propriétés","id":"propriétés"},{"text":"Exemples","id":"exemples"},{"text":"Notes","id":"notes"},{"text":"Spécifications","id":"spécifications"},{"text":"Voir aussi","id":"voir_aussi"}],"summary":"L'événement beforeunload est déclenché quand la fênetre, ou le document, et leurs resources sont sur le point d'être déchargés.","popularity":0.0004,"modified":"2022-10-01T03:41:16.000Z","other_translations":[{"title":"Window: beforeunload event","locale":"en-US","native":"English (US)"},{"title":"beforeunload","locale":"es","native":"Español"},{"title":"Window: beforeunload イベント","locale":"ja","native":"日本語"},{"title":"Window: beforeunload 이벤트","locale":"ko","native":"한국어"},{"title":"beforeunload","locale":"pt-BR","native":"Português (do Brasil)"},{"title":"Window: beforeunload event","locale":"ru","native":"Русский"},{"title":"Window: beforeunload event","locale":"zh-CN","native":"中文 (简体)"},{"title":"Window: beforeunload event","locale":"zh-TW","native":"正體中文 (繁體)"}],"source":{"folder":"fr/web/api/window/beforeunload_event","github_url":"https://github.com/mdn/translated-content/blob/main/files/fr/web/api/window/beforeunload_event/index.md","last_commit_url":"https://github.com/mdn/translated-content/commit/921c46a374ab0a9f4cc809af0370f8c412e54701","filename":"index.md"},"parents":[{"uri":"/fr/docs/Web","title":"Technologies web pour développeurs"},{"uri":"/fr/docs/Web/API","title":"Référence Web API"},{"uri":"/fr/docs/Web/API/Window","title":"window"},{"uri":"/fr/docs/Web/API/Window/beforeunload_event","title":"beforeunload"}],"pageTitle":"beforeunload - Référence Web API | MDN","noIndexing":false}}