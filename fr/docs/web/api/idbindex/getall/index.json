{"doc":{"isMarkdown":true,"isTranslated":true,"isActive":true,"flaws":{},"title":"IDBIndex.getAll()","mdn_url":"/fr/docs/Web/API/IDBIndex/getAll","locale":"fr","native":"Français","sidebarHTML":"<ol><li><strong><a href=\"/fr/docs/Web/API/IndexedDB_API\">IndexedDB API</a></strong></li><li><strong><a href=\"/fr/docs/Web/API/IDBIndex\"><code>IDBIndex</code></a></strong></li><li class=\"toggle\"><details open=\"\"><summary>Propriétés</summary><ol><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><svg class=\"icon icon-nonstandard\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-nonstandard\"></use>\n</svg><a href=\"/fr/docs/Web/API/IDBIndex/isAutoLocale\"><code>isAutoLocale</code></a></li><li><a href=\"/fr/docs/Web/API/IDBIndex/keyPath\"><code>keyPath</code></a></li><li><svg class=\"icon icon-experimental\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-experimental\"></use>\n</svg><svg class=\"icon icon-nonstandard\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-nonstandard\"></use>\n</svg><a href=\"/fr/docs/Web/API/IDBIndex/locale\"><code>locale</code></a></li><li><a href=\"/fr/docs/Web/API/IDBIndex/multiEntry\"><code>multiEntry</code></a></li><li><a href=\"/fr/docs/Web/API/IDBIndex/name\"><code>name</code></a></li><li><a href=\"/fr/docs/Web/API/IDBIndex/objectStore\"><code>objectStore</code></a></li><li><a href=\"/fr/docs/Web/API/IDBIndex/unique\"><code>unique</code></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>Méthodes</summary><ol><li><a href=\"/fr/docs/Web/API/IDBIndex/count\"><code>count()</code></a></li><li><a href=\"/fr/docs/Web/API/IDBIndex/get\"><code>get()</code></a></li><li><em><code>getAll()</code></em></li><li><a href=\"/fr/docs/Web/API/IDBIndex/getAllKeys\"><code>getAllKeys()</code></a></li><li><a href=\"/fr/docs/Web/API/IDBIndex/getKey\"><code>getKey()</code></a></li><li><a href=\"/fr/docs/Web/API/IDBIndex/openCursor\"><code>openCursor()</code></a></li><li><a href=\"/fr/docs/Web/API/IDBIndex/openKeyCursor\"><code>openKeyCursor()</code></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>Pages liées à IndexedDB</summary><ol><li><a href=\"/fr/docs/Web/API/IDBCursor\"><code>IDBCursor</code></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/IDBCursorWithValue\"><code>IDBCursorWithValue</code> <small>(en-US)</small></a></li><li><a href=\"/fr/docs/Web/API/IDBDatabase\"><code>IDBDatabase</code></a></li><li><a href=\"/fr/docs/Web/API/IDBFactory\"><code>IDBFactory</code></a></li><li><a href=\"/fr/docs/Web/API/IDBKeyRange\"><code>IDBKeyRange</code></a></li><li><a href=\"/fr/docs/Web/API/IDBObjectStore\"><code>IDBObjectStore</code></a></li><li><a href=\"/fr/docs/Web/API/IDBOpenDBRequest\"><code>IDBOpenDBRequest</code></a></li><li><a href=\"/fr/docs/Web/API/IDBRequest\"><code>IDBRequest</code></a></li><li><a href=\"/fr/docs/Web/API/IDBTransaction\"><code>IDBTransaction</code></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/IDBVersionChangeEvent\"><code>IDBVersionChangeEvent</code> <small>(en-US)</small></a></li></ol></details></li></ol>","body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<p>La méthode <strong><code>getAll()</code></strong> de l'interface <a href=\"/fr/docs/Web/API/IDBIndex\"><code>IDBIndex</code></a> fait une requête (<a href=\"/fr/docs/Web/API/IDBRequest\"><code>IDBRequest</code></a>) qui renvoie un tableau ordonné suivant les clés, des clones structurés des enregistrements de l'index relié (<a href=\"/fr/docs/Web/API/IDBIndex\"><code>IDBIndex</code></a>). On peut limiter le nombre d'enregistrements en les filtrant suivant leurs clés ou en paramétrant le compteur.</p>\n<p>On peut comparer cette méthode avec une recherche par curseur. Effectivement, il est plus intéressant si l'on veut accéder aux enregistrements un par un d'utiliser un <a href=\"/fr/docs/Web/API/IDBCursor\" title=\"curseur\"><code>curseur</code></a>, les clones structurés des valeurs seront faits un par un. Mais si l'on veut un tableau des clones structurés des valeurs il vaut mieux utiliser <code>getAll()</code>, le moteur Gecko fera les clones structurés en une seule fois.</p>"}},{"type":"prose","value":{"id":"syntaxe","title":"Syntaxe","isH3":false,"content":"<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">var</span> getAllKeysRequest <span class=\"token operator\">=</span> IDBIndex<span class=\"token punctuation\">.</span><span class=\"token function\">getAll</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> getAllKeysRequest <span class=\"token operator\">=</span> IDBIndex<span class=\"token punctuation\">.</span><span class=\"token function\">getAll</span><span class=\"token punctuation\">(</span>query<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> getAllKeysRequest <span class=\"token operator\">=</span> IDBIndex<span class=\"token punctuation\">.</span><span class=\"token function\">getAll</span><span class=\"token punctuation\">(</span>query<span class=\"token punctuation\">,</span> count<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>"}},{"type":"prose","value":{"id":"paramètres","title":"Paramètres","isH3":true,"content":"<dl>\n  <dt id=\"query\">query <span class=\"badge inline optional\">Facultatif</span></dt>\n  <dd>\n    <p>Une clé ou un intervalle de clé (<a href=\"/fr/docs/Web/API/IDBKeyRange\"><code>IDBKeyRange</code></a>) <strong>pour filtrer</strong>, seules les valeurs des enregistrements correspondant sont renvoyées. Par défaut toutes les clones structurés des enregistrements de l'index relié sont renvoyés.</p>\n  </dd>\n  <dt id=\"count\">count <span class=\"badge inline optional\">Facultatif</span></dt>\n  <dd>\n    <p>Le nombre d'enregistrement <strong>maximum renvoyés</strong>. Un nombre décimal sera tronqué. Zéro annule le compteur et toutes les valeurs sont retournées.</p>\n  </dd>\n</dl>"}},{"type":"prose","value":{"id":"valeur_de_retour","title":"Valeur de retour","isH3":true,"content":"<dl>\n  <dt id=\"idbrequest\"><a href=\"/fr/docs/Web/API/IDBRequest\"><code>IDBRequest</code></a></dt>\n  <dd>\n    <p>La propriété <a href=\"/fr/docs/Web/API/IDBRequest/result\" title=\"result\"><code>result</code></a> de cette requête renvoie le tableau des clones structurés des enregistrements en cas de succès.</p>\n  </dd>\n</dl>"}},{"type":"prose","value":{"id":"exceptions","title":"Exceptions","isH3":true,"content":"<dl>\n  <dt id=\"transactioninactiveerror\"><code>TransactionInactiveError</code></dt>\n  <dd>\n    <p>Cette <a href=\"/fr/docs/Web/API/DOMException\" title=\"exception\"><code>exception</code></a> est levée si la transaction (<a href=\"/fr/docs/Web/API/IDBTransaction\"><code>IDBTransaction</code></a>) est inactive.</p>\n  </dd>\n  <dt id=\"dataerror\"><code>DataError</code></dt>\n  <dd>\n    <p>Cette exception (<a href=\"/fr/docs/Web/API/DOMException\"><code>DOMException</code></a>) est levée si la clé ou l'intervalle de clé (<a href=\"/fr/docs/Web/API/IDBKeyRange\"><code>IDBKeyRange</code></a>) est invalide.</p>\n  </dd>\n  <dt id=\"invalidstateerror\"><code>InvalidStateError</code></dt>\n  <dd>\n    <p>Cette exception (<a href=\"/fr/docs/Web/API/DOMException\"><code>DOMException</code></a>) est levée si l'index à été supprimé.</p>\n  </dd>\n  <dt id=\"typeerror\"><code>TypeError</code></dt>\n  <dd>\n    <p>Cette exception (<a href=\"/fr/docs/Web/API/DOMException\"><code>DOMException</code></a>) est levée si le compteur n'est pas un nombre positif.</p>\n  </dd>\n</dl>"}},{"type":"prose","value":{"id":"exemples","title":"Exemples","isH3":false,"content":"<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token comment\">//on récupère l’accès à l'index</span>\n<span class=\"token keyword\">var</span> myIndex <span class=\"token operator\">=</span> objectStore<span class=\"token punctuation\">.</span><span class=\"token function\">index</span><span class=\"token punctuation\">(</span><span class=\"token string\">'index'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">//on fait une requête de recherche sur l'index</span>\n<span class=\"token keyword\">var</span> getAllKeyRequest <span class=\"token operator\">=</span> myIndex<span class=\"token punctuation\">.</span><span class=\"token function\">getAllKeys</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">//si la requête réussi</span>\ngetAllKeysRequest<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onsuccess</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">//on affiche le résultat sur la console</span>\n  <span class=\"token comment\">//~= [{key:'a',value:un_clone_structuré},{key:'2',value:un_clone_structuré},...]</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>getAllKeysRequest<span class=\"token punctuation\">.</span>result<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>"}},{"type":"specifications","value":{"title":"Spécifications","id":"spécifications","isH3":false,"specifications":[{"bcdSpecificationURL":"https://w3c.github.io/IndexedDB/#ref-for-dom-idbindex-getall①","title":"Indexed Database API 3.0"}],"query":"api.IDBIndex.getAll"}},{"type":"browser_compatibility","value":{"title":"Compatibilité des navigateurs","id":"compatibilité_des_navigateurs","isH3":false,"query":"api.IDBIndex.getAll","dataURL":"/fr/docs/Web/API/IDBIndex/getAll/bcd.json"}},{"type":"prose","value":{"id":"voir_aussi","title":"Voir aussi","isH3":false,"content":"<ul>\n  <li><a href=\"/fr/docs/Web/API/IndexedDB_API/Using_IndexedDB\" title=\"Utiliser IndexedDB\"><code>Utiliser IndexedDB</code></a></li>\n  <li><a href=\"/fr/docs/Web/API/IDBDatabase\" title=\"Débuter une connexion\"><code>Débuter une connexion</code></a></li>\n  <li><a href=\"/fr/docs/Web/API/IDBTransaction\" title=\"Utilisé les transactions\"><code>Utilisé les transactions</code></a></li>\n  <li><a href=\"/fr/docs/Web/API/IDBKeyRange\" title=\"Définir l'intervalle des clés\"><code>Définir l'intervalle des clés</code></a></li>\n  <li><a href=\"/fr/docs/Web/API/IDBObjectStore\" title=\"Accès aux magasins d'objets\"><code>Accès aux magasins d'objets</code></a></li>\n  <li><a href=\"/fr/docs/Web/API/IDBCursor\" title=\"Utiliser les curseur\"><code>Utiliser les curseur</code></a></li>\n  <li>Exemple de référence: <a href=\"https://github.com/mdn/to-do-notifications/tree/gh-pages\" class=\"external\" rel=\" noopener\">To-do Notifications</a> (<a href=\"https://mdn.github.io/to-do-notifications/\" class=\"external\" rel=\" noopener\">view example live</a>.)</li>\n</ul>"}}],"toc":[{"text":"Syntaxe","id":"syntaxe"},{"text":"Exemples","id":"exemples"},{"text":"Spécifications","id":"spécifications"},{"text":"Compatibilité des navigateurs","id":"compatibilité_des_navigateurs"},{"text":"Voir aussi","id":"voir_aussi"}],"summary":"La méthode getAll() de l'interface IDBIndex fait une requête (IDBRequest) qui renvoie un tableau ordonné suivant les clés, des clones structurés des enregistrements de l'index relié (IDBIndex). On peut limiter le nombre d'enregistrements en les filtrant suivant leurs clés ou en paramétrant le compteur.","popularity":0,"modified":"2022-10-01T03:41:16.000Z","other_translations":[{"title":"IDBIndex.getAll()","locale":"en-US","native":"English (US)"}],"source":{"folder":"fr/web/api/idbindex/getall","github_url":"https://github.com/mdn/translated-content/blob/main/files/fr/web/api/idbindex/getall/index.md","last_commit_url":"https://github.com/mdn/translated-content/commit/921c46a374ab0a9f4cc809af0370f8c412e54701","filename":"index.md"},"parents":[{"uri":"/fr/docs/Web","title":"Technologies web pour développeurs"},{"uri":"/fr/docs/Web/API","title":"Référence Web API"},{"uri":"/fr/docs/Web/API/IDBIndex","title":"IDBIndex"},{"uri":"/fr/docs/Web/API/IDBIndex/getAll","title":"IDBIndex.getAll()"}],"pageTitle":"IDBIndex.getAll() - Référence Web API | MDN","noIndexing":false}}