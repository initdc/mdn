<!DOCTYPE html><html lang="en-US" prefix="og: https://ogp.me/ns#"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="icon" href="/favicon-48x48.97046865.png"><link rel="apple-touch-icon" href="/apple-touch-icon.0ea0fa02.png"><meta name="theme-color" content="#ffffff"><link rel="manifest" href="/manifest.56b1cedc.json"><link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" title="MDN Web Docs"><script>Array.prototype.flat&&Array.prototype.includes||document.write('<script src="https://polyfill.io/v3/polyfill.min.js?features=Array.prototype.flat%2Ces6"><\/script>')</script><title>Op√©rations de glissement - R√©f√©rence Web API | MDN</title><link rel="preload" as="font" type="font/woff2" crossorigin="" href="/static/media/ZillaSlab-Bold.subset.0beac26b.woff2"><link rel="alternate" title="Op√©rations de glissement" href="https://developer.mozilla.org/fr/docs/Web/API/HTML_Drag_and_Drop_API/Drag_operations" hreflang="fr"><link rel="alternate" title="ÊãñÊõ≥Êìç‰Ωú" href="https://developer.mozilla.org/zh-TW/docs/Web/API/HTML_Drag_and_Drop_API/Drag_operations" hreflang="zh-TW"><link rel="alternate" title="ÊãñÊãΩÊìç‰Ωú" href="https://developer.mozilla.org/zh-CN/docs/Web/API/HTML_Drag_and_Drop_API/Drag_operations" hreflang="zh"><link rel="alternate" title="Drag Operations" href="https://developer.mozilla.org/ru/docs/Web/API/HTML_Drag_and_Drop_API/Drag_operations" hreflang="ru"><link rel="alternate" title="Drag Operations" href="https://developer.mozilla.org/ko/docs/Web/API/HTML_Drag_and_Drop_API/Drag_operations" hreflang="ko"><link rel="alternate" title="„Éâ„É©„ÉÉ„Ç∞Êìç‰Ωú" href="https://developer.mozilla.org/ja/docs/Web/API/HTML_Drag_and_Drop_API/Drag_operations" hreflang="ja"><link rel="alternate" title="Drag operations" href="https://developer.mozilla.org/en-US/docs/Web/API/HTML_Drag_and_Drop_API/Drag_operations" hreflang="en"><meta name="description" content="Ce qui suit d√©crit les √©tapes qui se d√©roulent lors d'un Glisser D√©poser."><meta property="og:url" content="https://developer.mozilla.org/fr/docs/Web/API/HTML_Drag_and_Drop_API/Drag_operations"><meta property="og:title" content="Op√©rations de glissement - R√©f√©rence Web API | MDN"><meta property="og:description" content="Ce qui suit d√©crit les √©tapes qui se d√©roulent lors d'un Glisser D√©poser."><meta property="og:locale" content="fr"><meta property="og:image" content="https://developer.mozilla.org/mdn-social-share.0ca9dbda.png"><meta property="twitter:card" content="summary_large_image"><meta name="robots" content="index, follow"><link rel="canonical" href="https://developer.mozilla.org/fr/docs/Web/API/HTML_Drag_and_Drop_API/Drag_operations"><style media="print">.breadcrumbs-container,.document-toc-container,.language-menu,.language-toggle,.on-github,.page-footer,.page-header-main,nav.sidebar,ul.prev-next{display:none!important}.main-page-content,.main-page-content pre{padding:2px}.main-page-content pre{border-left-width:2px}</style><link href="/static/css/main.55b68e13.chunk.css" rel="stylesheet"><script src="/static/js/runtime-main.4bb4c356.js" defer=""></script><script src="/static/js/4.a756dea3.chunk.js" defer=""></script><script src="/static/js/main.d4d565e0.chunk.js" defer=""></script></head><body><div id="root"><ul id="nav-access" class="a11y-nav"><li><a id="skip-main" href="#content">Skip to main content</a></li><li><a id="skip-search" href="#main-q">Skip to search</a></li><li><a id="skip-select-language" href="#select-language">Skip to select language</a></li></ul><div class="page-wrapper document-page"><header class="page-header"><a href="/fr/" class="logo" aria-label="MDN Web Docs"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 451.74 135"><path d="M7.14 8.35v111.06h111.05V8.35zm103.71 56c-.48.92-1 1.79-1.46 2.71a3.44 3.44 0 01-3.54 2 2.4 2.4 0 00-1.55.5c-1.37.9-2.76 1.79-4.18 2.63a7.33 7.33 0 01-6.35.34 29.71 29.71 0 00-10.63-2 11.7 11.7 0 00-9.46 4.31 14.84 14.84 0 00-2.13 4.29c-1.24 3.07-2.3 21.38-2.3 26.05 0 0-17.62-3.42-34.15-20.34l4.31-11.32h-13.5l9.76-10.35h-16.8l9.77-10.34H12.69L30.45 34a40.9 40.9 0 0119.77-10.83c7.1-1.22 8.93-.53 13.31.77l2.43.73.85.25 3.1.95a12.56 12.56 0 006.21.09 11.37 11.37 0 018.25 1 8.24 8.24 0 014.1 6.22 7.29 7.29 0 003.61 5.49 59.45 59.45 0 009.32 4.11c2.27.86 4.54 1.84 6.79 2.72a6.81 6.81 0 012.86 2.06 4.81 4.81 0 011.1 2.73c.14 2 .37 4 .47 6a15.24 15.24 0 01-1.77 8.03zM320.12 39.62a5.42 5.42 0 00-4.53 2.13 7.36 7.36 0 00-1.7 4.43v2.36a6.28 6.28 0 001.7 4.46 5.63 5.63 0 004.3 1.82 5.12 5.12 0 004.57-2.27A9.7 9.7 0 00326 47a8.11 8.11 0 00-1.67-5.52 5.36 5.36 0 00-4.21-1.86zM387.38 39.53a5.52 5.52 0 00-4.7 2.15 8.8 8.8 0 00-1.63 5.49 9.23 9.23 0 001.58 5.45 5.38 5.38 0 004.7 2.25 5.61 5.61 0 004.74-2.2 8.91 8.91 0 001.68-5.59 8.24 8.24 0 00-1.75-5.52 5.76 5.76 0 00-4.62-2.03zM299.47 41.35a4.34 4.34 0 00-4-1.92 4.55 4.55 0 00-3.89 1.73 8.37 8.37 0 00-1.58 4.17h10.48a6.3 6.3 0 00-1.01-3.98zM357.74 30.75H352v23.31h5.72q5.47 0 8.35-3t2.93-8.65q0-5.43-2.88-8.55t-8.38-3.11z"></path><path d="M121.55 8.35v70.8h323V8.35zm42.21 22.45h-4V54h3.68v3.73h-11.25V54h3.31V36.79h-.19l-9.63 19.12h-2.12l-10-19.4h-.19V54h3.45v3.73h-11.15V54h3.68V30.8h-4v-3.73H133l11.66 22.56h.19l11.18-22.56h7.7zm29.12 22.67q-4.11 4.28-11.38 4.28h-14.06v-3.69h3.73V30.75h-3.73v-3.68h13.83q7.59 0 11.66 4.29a15.4 15.4 0 014 11 15.33 15.33 0 01-4.05 11.11zm38.89-22.67h-3.68v27h-2.6L208.08 35h-.19v19h4.67v3.73h-12.22V54h3.49V30.8h-4v-3.73h7.08l16.9 22.09h.19V30.8h-4.58v-3.73h12.32zm43.8 27h-3.31l-7.83-23.18h-.19l-7.55 23.18h-3.35l-8.78-27h-2.65v-3.73H253v3.73h-3.87L255 50.71h.23l6.61-19.91H259v-3.73h11v3.73h-2.78l6.61 20.1h.23l5.43-20.1h-4.15v-3.73h11v3.73h-2.54zm26.71-1.51a9.66 9.66 0 01-6.42 2 10.2 10.2 0 01-7.41-2.74c-1.89-1.82-2.83-4.47-2.83-7.93a12.37 12.37 0 012.64-8.12 9 9 0 017.32-3.21 8.62 8.62 0 016.75 2.69 9.65 9.65 0 012.45 6.52 13.67 13.67 0 01-.28 2.69H290q.29 6.71 6.18 6.7a5.2 5.2 0 003.71-1.18 5.82 5.82 0 001.67-2.83l3.45.71a7.21 7.21 0 01-2.73 4.65zm25.77-1.63c-1.51 2.4-3.92 3.61-7.22 3.61s-5.84-1.29-7.22-3.87c0 .25-.1.82-.21 1.7s-.19 1.44-.22 1.7H309c.16-1 .31-2 .47-3.07a21.42 21.42 0 00.24-3.16v-23h-3.4v-3.3h7.55V40.9a9.76 9.76 0 012.67-3.28 7.33 7.33 0 014.74-1.4 8.48 8.48 0 016.5 2.78q2.55 2.74 2.55 7.74a14.6 14.6 0 01-2.27 7.87zm41.39-1.14q-4.11 4.28-11.37 4.28H344v-3.74h3.73V30.75H344v-3.68h13.83q7.59 0 11.66 4.29a15.41 15.41 0 014.06 11 15.34 15.34 0 01-4.11 11.11zm25.65 1.68a10.53 10.53 0 01-7.9 3.07 10 10 0 01-7.63-3 10.93 10.93 0 01-2.8-7.83 12.13 12.13 0 012.69-7.93q2.69-3.3 8-3.3t8 3.28a12 12 0 012.64 7.76 10.86 10.86 0 01-3 7.9zm22.61.57c-1.4 1.66-3.63 2.5-6.68 2.5a9.58 9.58 0 01-7.15-2.76q-2.72-2.76-2.71-7.91a12.25 12.25 0 012.69-8 9.17 9.17 0 017.5-3.28 15 15 0 013.82.48 10.37 10.37 0 013.5 1.65l.85 5.47-3.35.38-.76-3.54a8.07 8.07 0 00-4.11-1 4.9 4.9 0 00-4.39 2.15 9.93 9.93 0 00-1.41 5.55 8.9 8.9 0 001.5 5.38 5.23 5.23 0 004.44 2c2.92 0 4.67-1.7 5.23-5.1l3.5.71a10.34 10.34 0 01-2.47 5.27zm20.48.75a11.68 11.68 0 01-6.63 1.75 15.52 15.52 0 01-8.26-2.08L424 51l3.26.33-.1 2.74a7 7 0 002.06.66 12.63 12.63 0 002.19.19 8.68 8.68 0 003.66-.75 2.5 2.5 0 001.63-2.36 2.25 2.25 0 00-1.32-2.2 12.65 12.65 0 00-3.28-1 47.39 47.39 0 01-3.9-.82 7.5 7.5 0 01-3.25-1.7 4.67 4.67 0 01-1.33-3.66c0-2.36.88-4 2.62-4.91a12 12 0 015.6-1.37 15 15 0 014.08.55 16.65 16.65 0 013.47 1.39l.47 5.1-3.3.37-.48-3.3a9.5 9.5 0 00-4.06-.9 5.62 5.62 0 00-2.87.66 2.33 2.33 0 00-1.15 2.25 2.13 2.13 0 001.3 2.07 11.91 11.91 0 003.21.92 36.69 36.69 0 013.82.83 7.46 7.46 0 013.21 1.74 4.9 4.9 0 011.3 3.73 5.56 5.56 0 01-2.66 4.91z"></path><path d="M181.17 30.75h-5.71v23.31h5.71q5.47 0 8.36-3t2.88-8.61q0-5.43-2.88-8.55t-8.36-3.15zM121.63 119.32V81.74h114.91v37.58zM153.22 109h-2v-6.85a4.8 4.8 0 00-1.58-4 5.57 5.57 0 00-3.55-1.26 5 5 0 00-4.92 3.26 4.19 4.19 0 00-1.88-2.46 5.82 5.82 0 00-3-.8 4.89 4.89 0 00-4.56 2.56v-2.21h-6.28v3.26h2v8.5h-2v3.23h9.11V109h-2.86v-5.25a4.4 4.4 0 01.69-2.56 2.47 2.47 0 012.21-1q2.57 0 2.56 3.63v8.41h6.29V109h-2v-5.25a4.47 4.47 0 01.67-2.56 2.42 2.42 0 012.19-1q2.63 0 2.63 3.63v8.41h6.28zm9.88-12.07q-4 0-6 2.36a8.41 8.41 0 00-2 5.66 7.25 7.25 0 002.17 5.62 8 8 0 005.65 2 8.54 8.54 0 005.94-2.11 7.27 7.27 0 002.34-5.67 8.21 8.21 0 00-2-5.51q-2.07-2.34-6.1-2.34zm-.1 12.35a3 3 0 01-2.63-1.33 5.68 5.68 0 01-.9-3.26 5 5 0 011-3.28 3.23 3.23 0 012.61-1.18 3.5 3.5 0 012.59 1.08 4.56 4.56 0 011.07 3.31 5.21 5.21 0 01-1 3.41 3.33 3.33 0 01-2.74 1.25zm25-2.3l-3.39-.29-.7 2.32H179l8.32-9.54-.32-2.23h-13.19l-.53 5.25 3.16.34.67-2.36h4.65l-8.25 9.53.44 2.26h13.13zm7.62-9.74h-4.46v5.39h4.46zm0 9.61h-4.46v5.39h4.46zm13.54-17.49h-4.23l-6.48 22.88h4.22zm8.68 0h-4.23l-6.45 22.88h4.19zm15 22.51l-.07-2.26a1.22 1.22 0 01-.56.1c-.69 0-1-.39-1-1.16v-6.49a4.39 4.39 0 00-1.8-3.84 7 7 0 00-4.16-1.28 14.55 14.55 0 00-3.16.3 24.14 24.14 0 00-3.29 1.06l-.56 3.46 3.39.4.5-1.69a2.78 2.78 0 011.08-.37 11.3 11.3 0 011.25-.07c1.19 0 1.89.37 2.09 1.1a8.55 8.55 0 01.3 2.26v.5a8.91 8.91 0 00-1.18-.11h-1.21a12.64 12.64 0 00-4.81.88 3.53 3.53 0 00-2.18 3.64 3.66 3.66 0 001.48 3.33 5.63 5.63 0 003.11 1 4.67 4.67 0 003-.91 6.78 6.78 0 001.8-2 3 3 0 003.33 3 5.54 5.54 0 002.66-.85zm-9.25-2.32a1.69 1.69 0 01-1.36-.52 1.81 1.81 0 01-.43-1.21 1.67 1.67 0 01.86-1.68 4.63 4.63 0 012-.42 7.69 7.69 0 011.07.07l1.06.13a3.58 3.58 0 01-1.08 2.74 3.24 3.24 0 01-2.11.89z"></path></svg></a><button type="button" class="ghost main-menu-toggle" aria-haspopup="true" aria-label="Show Menu"></button><div class="page-header-main "><nav class="main-nav" aria-label="Main menu"><ul class="main-menu nojs"><li class="top-level-entry-container"><button id="technologies-button" type="button" class="top-level-entry" aria-haspopup="menu" aria-expanded="false">Technologies</button><ul class="technologies " role="menu" aria-labelledby="technologies-button"><li role="none"><a tabindex="-1" href="/fr/docs/Web" role="menuitem">Technologies Overview</a></li><li role="none"><a tabindex="-1" href="/fr/docs/Web/HTML" role="menuitem">HTML</a></li><li role="none"><a tabindex="-1" href="/fr/docs/Web/CSS" role="menuitem">CSS</a></li><li role="none"><a tabindex="-1" href="/fr/docs/Web/JavaScript" role="menuitem">JavaScript</a></li><li role="none"><a tabindex="-1" href="/fr/docs/Web/Guide/Graphics" role="menuitem">Graphics</a></li><li role="none"><a tabindex="-1" href="/fr/docs/Web/HTTP" role="menuitem">HTTP</a></li><li role="none"><a tabindex="-1" href="/fr/docs/Web/API" role="menuitem">APIs</a></li><li role="none"><a tabindex="-1" href="/fr/docs/Mozilla/Add-ons/WebExtensions" role="menuitem">Browser Extensions</a></li><li role="none"><a tabindex="-1" href="/fr/docs/Web/MathML" role="menuitem">MathML</a></li></ul></li><li class="top-level-entry-container"><button id="references-guides-button" type="button" class="top-level-entry" aria-haspopup="menu" aria-expanded="false">References &amp; Guides</button><ul class="references-guides " role="menu" aria-labelledby="references-guides-button"><li role="none"><a tabindex="-1" href="/fr/docs/Learn" role="menuitem">Learn web development</a></li><li role="none"><a tabindex="-1" href="/fr/docs/Web/Tutorials" role="menuitem">Tutorials</a></li><li role="none"><a tabindex="-1" href="/fr/docs/Web/Reference" role="menuitem">References</a></li><li role="none"><a tabindex="-1" href="/fr/docs/Web/Guide" role="menuitem">Developer Guides</a></li><li role="none"><a tabindex="-1" href="/fr/docs/Web/Accessibility" role="menuitem">Accessibility</a></li><li role="none"><a tabindex="-1" href="/fr/docs/Games" role="menuitem">Game development</a></li><li role="none"><a tabindex="-1" href="/fr/docs/Web" role="menuitem">...more docs</a></li></ul></li><li class="top-level-entry-container"><button id="feedback-button" type="button" class="top-level-entry" aria-haspopup="menu" aria-expanded="false">Feedback</button><ul class="feedback " role="menu" aria-labelledby="feedback-button"><li role="none"><a tabindex="-1" href="/fr/docs/MDN/Contribute/Feedback" role="menuitem">Send Feedback</a></li><li role="none"><a tabindex="-1" href="/fr/docs/MDN/Contribute" role="menuitem">Contribute to MDN</a></li><li role="none"><a tabindex="-1" target="_blank" rel="noopener noreferrer" href="https://github.com/mdn/content/issues/new" role="menuitem">Report a content issue<!-- --> üåê</a></li><li role="none"><a tabindex="-1" target="_blank" rel="noopener noreferrer" href="https://github.com/mdn/yari/issues/new" role="menuitem">Report a platform issue<!-- --> üåê</a></li></ul></li></ul></nav><div class="header-search"><form action="/fr/search" class="search-form search-widget" role="search"><label for="main-q" class="visually-hidden">Search MDN</label><input type="search" name="q" id="main-q" class="search-input-field" placeholder="Site search... (Press &quot;/&quot; to focus)" pattern="(.|\s)*\S(.|\s)*" required="" value=""><input type="submit" class="ghost search-button" value="" aria-label="Search"></form></div><div class="auth-container"></div></div></header><div class="breadcrumb-locale-container"><nav class="breadcrumbs-container" aria-label="Breadcrumb navigation"><ol typeof="BreadcrumbList" vocab="https://schema.org/" aria-label="breadcrumbs"><li property="itemListElement" typeof="ListItem"><a class="breadcrumb" property="item" typeof="WebPage" href="/fr/docs/Web"><span property="name">Technologies web pour d√©veloppeurs</span></a><meta property="position" content="1"></li><li property="itemListElement" typeof="ListItem"><a class="breadcrumb" property="item" typeof="WebPage" href="/fr/docs/Web/API"><span property="name">R√©f√©rence Web API</span></a><meta property="position" content="2"></li><li property="itemListElement" typeof="ListItem"><a class="breadcrumb-penultimate" property="item" typeof="WebPage" href="/fr/docs/Web/API/HTML_Drag_and_Drop_API"><span property="name">Glisser et d√©poser</span></a><meta property="position" content="3"></li><li property="itemListElement" typeof="ListItem"><a class="breadcrumb-current-page" property="item" typeof="WebPage" href="/fr/docs/Web/API/HTML_Drag_and_Drop_API/Drag_operations"><span property="name">Op√©rations de glissement</span></a><meta property="position" content="4"></li></ol></nav><ul class="language-toggle"><li><a href="#select-language" class="language-icon"><span class="show-desktop">Change language</span></a></li><li><a class="view-in-english" href="/en-US/docs/Web/API/HTML_Drag_and_Drop_API/Drag_operations"><span class="show-desktop">View in</span> English</a></li></ul></div><div class="localized-content-note notecard inline neutral"><a href="/en-US/docs/MDN/Contribute/Localize#active_locales">Cette page a √©t√© traduite √† partir de l'anglais par la communaut√©. Vous pouvez √©galement contribuer en rejoignant la communaut√© francophone sur MDN Web Docs.</a></div><aside class="document-toc-container"><section class="document-toc"><header><h2>Table of contents</h2><button type="button" class="ghost toc-trigger-mobile" aria-controls="toc-entries" aria-expanded="false">Table of contents</button></header><ul id="toc-entries"><li><a href="#lattribut_draggable">L'attribut draggable</a></li><li><a href="#d√©marrer_une_op√©ration_de_glissement">D√©marrer une op√©ration de glissement</a></li><li><a href="#donn√©e_de_glissement">Donn√©e de glissement</a></li><li><a href="#d√©finir_limage_filigrane_dun_glissement">D√©finir l'image filigrane d'un glissement</a></li><li><a href="#effets_du_glissement">Effets du glissement</a></li><li><a href="#sp√©cifier_les_cibles_de_d√©p√¥t">Sp√©cifier les cibles de d√©p√¥t</a></li><li><a href="#retour_dinformation_du_d√©p√¥t">Retour d'information du d√©p√¥t</a></li><li><a href="#performing_a_drop">Performing a Drop</a></li><li><a href="#finishing_a_drag">Finishing a Drag</a></li></ul></section></aside><main id="content" class="main-content" role="main"><article class="main-page-content" lang="fr"><h1>Op√©rations de glissement</h1><div><p>Ce qui suit d√©crit les √©tapes qui se d√©roulent lors d'un Glisser D√©poser.</p>
<div class="notecard note" id="sect1">
  <p><strong>Note :</strong> Les op√©rations de glisser d√©crits dans ce document utilisent l'interface <a href="/fr/docs/Web/API/DataTransfer"><code>DataTransfer</code></a>. Ce document n'utilise pas l'interface <a class="only-in-en-us" title="Currently only available in English (US)" href="/en-US/docs/Web/API/DataTransferItem"><code>DataTransferItem</code> <small>(en-US)</small></a> ni l'interface <a class="only-in-en-us" title="Currently only available in English (US)" href="/en-US/docs/Web/API/DataTransferItemList"><code>DataTransferItemList</code> <small>(en-US)</small></a>.</p>
</div></div><h2 id="lattribut_draggable"><a href="#lattribut_draggable" title="Permalink to L'attribut draggable">L'attribut draggable</a></h2><div><p>Dans une page Web, certains cas n√©cessitent l'usage du Glisser D√©poser. Il peut servir pour des s√©lections de texte, d'images ou de liens. Lorsqu'une image ou un lien sont gliss√©s, l'URL de l'image ou du lien est d√©fini comme donn√©es du glissement, et le Glisser commence. Pour d'autres √©l√©ments, il peut s'agir d'une s√©lection effectu√©e qui servira au glissement. Pour voir cet effet, s√©lectionnez une zone dans une page Web, puis cliquez dedans en maintenant le bouton de la souris et glissez la s√©lection. Un rendu translucide de la s√©lection apparaitra en suivant le pointeur de la souris. Il s'agit toutefois du comportement par d√©faut du glissement si aucun scrutateur n'a √©t√© d√©fini pour traiter les donn√©es.</p>
<p>En HTML, except√© le comportement par d√©faut des images, des liens et des s√©lections, aucun autre √©l√©ment ne peut √™tre gliss√©. Tous les √©l√©ments XUL peuvent √™tre gliss√©s.</p>
<p>Pour rendre un autre √©l√©ment HTML glissable, deux choses doivent √™tre faites&nbsp;:</p>
<ul>
  <li>D√©finissez l'attribut <code><a href="/fr/docs/Web/HTML/Global_attributes#attr-draggable"><code>draggable</code></a></code> √† <code>true</code> sur l'√©l√©ment que vous voulez rendre glissable.</li>
  <li>Ajoutez un scrutateur sur l'√©v√©nement <code><code><a href="/en-US/docs/Web/API/HTMLElement/dragstart_event" title="Currently only available in English (US)" class="only-in-en-us">dragstart (en-US)</a></code></code> et d√©finissez les donn√©es du glissement dans ce scrutateur.</li>
  <li><a class="only-in-en-us" title="Currently only available in English (US)" href="/en-US/docs/Web/API/DataTransfer/setData"><code>D√©finir la donn√©e de glissement</code> <small>(en-US)</small></a> au sein du scrutateur ajout√© pr√©c√©demment.</li>
</ul>
<p>Voici un exemple qui permet √† une section de contenu d'√™tre gliss√©e&nbsp;:</p>
<div class="code-example"><pre class="brush: html notranslate"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">draggable</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span> <span class="token attr-name">ondragstart</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>event.dataTransfer.setData(<span class="token punctuation">'</span>text/plain<span class="token punctuation">'</span>, <span class="token punctuation">'</span>Ce texte peut √™tre gliss√©<span class="token punctuation">'</span>)<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  Ce texte <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>strong</span><span class="token punctuation">&gt;</span></span>peut<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>strong</span><span class="token punctuation">&gt;</span></span> √™tre gliss√©.
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div>
<p>L'attribut <code><a href="/fr/docs/Web/HTML/Global_attributes#attr-draggable"><code>draggable</code></a></code> est d√©fini √† true, ce qui rend l'√©l√©ment glissant. Si cet attribut est omis ou d√©fini √† false, l'√©l√©ment ne serait pas glissant et le texte serait alors simplement s√©lectionn√©. Cet attribut peut √™tre plac√© sur n'importe quel √©l√©ment, y compris des images et des liens. Toutefois, pour les deux derniers, la valeur par d√©faut est true, donc vous n'utiliserez l'attribut <code><a href="/fr/docs/Web/HTML/Global_attributes#attr-draggable"><code>draggable</code></a></code> ``que pour le d√©finir √† <code>false</code> pour interdire le glissement de ces √©l√©ments.</p>
<p>Notez que lorsqu'un √©l√©ment est rendu glissable, le texte ou les autres √©l√©ments qu'il contient ne peuvent plus √™tre s√©lectionn√© de mani√®re classique en cliquant et d√©pla√ßant la souris. Au lieu de cela, l'utilisateur doit maintenir la touche <kbd>Alt</kbd> appuy√©e pour s√©lectionner le texte avec la souris, ou bien utilisez le clavier.</p>
<p>Pour des √©l√©ments XUL, il n'est pas n√©cessaire d'utiliser l'attribut <code><a href="/fr/docs/Web/HTML/Global_attributes#attr-draggable"><code>draggable</code></a></code>, car tous les √©l√©ments XUL sont glissables.</p>
<div class="code-example"><pre class="brush: html notranslate"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Glisse moi<span class="token punctuation">"</span></span> <span class="token attr-name">ondragstart</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>event.dataTransfer.setData(<span class="token punctuation">'</span>text/plain<span class="token punctuation">'</span>, <span class="token punctuation">'</span>Bouton √† glisser<span class="token punctuation">'</span>);<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
</code></pre></div></div><h2 id="d√©marrer_une_op√©ration_de_glissement"><a href="#d√©marrer_une_op√©ration_de_glissement" title="Permalink to D√©marrer une op√©ration de glissement">D√©marrer une op√©ration de glissement</a></h2><div><p>Dans cet exemple, un scrutateur est ajout√© √† l'√©v√©nement dragstart en utilisant l'attribut <code>ondragstart</code>.</p>
<div class="code-example"><pre class="brush: html notranslate"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">draggable</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span> <span class="token attr-name">ondragstart</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>event.dataTransfer.setData(<span class="token punctuation">'</span>text/plain<span class="token punctuation">'</span>, <span class="token punctuation">'</span>Ce texte peut √™tre gliss√©<span class="token punctuation">'</span>)<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  Ce texte <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>strong</span><span class="token punctuation">&gt;</span></span>peut<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>strong</span><span class="token punctuation">&gt;</span></span> √™tre gliss√©.
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div>
<p>Lorsqu'un utilisateur commence un glissement, l'√©v√©nement dragstart est d√©clench√©. Dans cet exemple, le scrutateur dragstart a √©t√© ajout√© √† l'√©l√©ment √† d√©placer lui-m√™me. Vous pouvez toutefois mettre le scrutateur sur un anc√®tre plus √©lev√© car l'√©v√©nement drag diffuse comme le font les autres √©v√©nements. √Ä l'int√©rieur de l'√©v√©nement dragstart, vous devez sp√©cifier la donn√©e de glissement, l'image filligrane et les effets du glissement tels que d√©crits ci-dessous. Cependant, seule la donn√©e de glissement est n√©cessaire&nbsp;; l'image et les effets du glissement par d√©faut sont suffisants pour la majorit√© des cas.</p></div><h2 id="donn√©e_de_glissement"><a href="#donn√©e_de_glissement" title="Permalink to Donn√©e de glissement">Donn√©e de glissement</a></h2><div><p>Tous les √©v√©nements de glissement ont une propri√©t√© appel√©e <a href="/Fr/GlisserD%C3%A9poser/DataTransfer" class="page-not-created" title="This is a link to an unwritten page">dataTransfer</a> utilis√©e pour contenir la donn√©e de glissement.</p>
<p>Lorsqu'un glissement a lieu, une donn√©e doit √™tre associ√©e au glissement pour identifier ce qui est en train de glisser. Par exemple, lors du glissement d'un texte s√©lectionn√© dans un champs de texte, la donn√©e associ√©e au glissement est le texte lui-m√™me. De m√™me, lors du glissement d'un lien, la donn√©e associ√©e est l'URL du lien.</p>
<p>La donn√©e de glissement contient deux informations&nbsp;: son type ou format et sa valeur. Le format est une cha√Æne de caract√®re (telle que <a href="/Fr/GlisserD%C3%A9poser/Types_de_glissement_recommand%C3%A9s#text" class="page-not-created" title="This is a link to an unwritten page">text/plain</a> pour un texte), et la valeur est un texte. Lorsqu'un glissement d√©marre, vous devez lui ajouter en fournissant un type et la donn√©e. Dans les scrutateurs des √©v√©nements <code>dragenter</code> et <code>dragover</code> au cours d'un glissement, vous pouvez v√©rifier les types de donn√©es et indiquer si un d√©p√¥t est permis ou non. Par exemple, une cible de d√©p√¥t qui accepte que des liens testera les types lien <a href="/Fr/GlisserD%C3%A9poser/Types_de_glissement_recommand%C3%A9s#link" class="page-not-created" title="This is a link to an unwritten page">text/uri-list</a>. Pendant un √©v√©ment de d√©p√¥t, un scrutateur r√©cup√®rera la donn√©e gliss√©e et l'ins√®rera dans la zone de d√©p√¥t.</p>
<p>Les types MIME habituels sont <a href="/Fr/GlisserD%C3%A9poser/Types_de_glissement_recommand%C3%A9s#text" class="page-not-created" title="This is a link to an unwritten page">text/plain</a> ou <a href="/Fr/GlisserD%C3%A9poser/Types_de_glissement_recommand%C3%A9s#image" class="page-not-created" title="This is a link to an unwritten page">image/jpeg</a>, mais vous pouvez cr√©er vos propres types. La liste des types les plus utilis√©s est disponible sur <a href="/Fr/GlisserD%C3%A9poser/Types_de_glissement" class="page-not-created" title="This is a link to an unwritten page">cette page</a>.</p>
<p>Un glissement peut fournir une donn√©e dans diff√©rents types. Ceci permet √† une donn√©e d'√™tre disponible dans des types sp√©cifiques, souvent personnalis√©s, toujours en fournissant un format pour les cibles ne supportant pas ces types sp√©cifiques. Habituellement, il s'agit toujours d'une version textuelle de type <a href="/Fr/GlisserD%C3%A9poser/Types_de_glissement_recommand%C3%A9s#text" class="page-not-created" title="This is a link to an unwritten page">text/plain</a>. La donn√©e n'en sera qu'une repr√©sentation sous la forme d'un texte.</p>
<p>Pour d√©finir une donn√©e dans un dataTransfer, utilisez la m√©thode <a href="/Fr/GlisserD%C3%A9poser/DataTransfer#setData" class="page-not-created" title="This is a link to an unwritten page">setData</a>. Elle prend deux arguments qui sont le type de la donn√©e et sa valeur. Par exemple&nbsp;:</p>
<div class="code-example"><pre class="brush: js notranslate"><code>event<span class="token punctuation">.</span>dataTransfer<span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token string">"text/plain"</span><span class="token punctuation">,</span> <span class="token string">"Texte √† glisser"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div>
<p>Dans ce cas, la valeur de la donn√©e est "Texte √† glisser" et son format est <a href="/Fr/GlisserD%C3%A9poser/Types_de_glissement_recommand%C3%A9s#text" class="page-not-created" title="This is a link to an unwritten page">text/plain</a>.</p>
<p>Vous pouvez fournir une donn√©e dans de multiples formats. Il suffit d'appeler la m√©thode <a href="/Fr/GlisserD%C3%A9poser/DataTransfer#setData" class="page-not-created" title="This is a link to an unwritten page">setData</a> plusieurs fois avec chacun des formats. Vous devez l'appeler dans l'ordre du format le plus sp√©cifique au moins sp√©cifique.</p>
<div class="code-example"><pre class="brush: js notranslate"><code><span class="token keyword">var</span> dt <span class="token operator">=</span> event<span class="token punctuation">.</span>dataTransfer<span class="token punctuation">;</span>
dt<span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token string">"application/x-bookmark"</span><span class="token punctuation">,</span> bookmarkString<span class="token punctuation">)</span><span class="token punctuation">;</span>
dt<span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token string">"text/uri-list"</span><span class="token punctuation">,</span> <span class="token string">"http://www.mozilla.org"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
dt<span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token string">"text/plain"</span><span class="token punctuation">,</span> <span class="token string">"http://www.mozilla.org"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div>
<p>Ici, une donn√©e est ajout√©e avec trois types diff√©rents. Le premier type 'application/x-bookmark' est un type personnalis√©. Toutes les applications ne vont pas supporter ce type, mais vous pouvez l'utiliser pour le glissement entre des zones d'une m√™me application ou d'un m√™me site. En fournissant la donn√©e avec d'autres types, vous la rendez disponible √† moindre √©chelle pour d'autres applications. Le type 'application/x-bookmark' fournira ainsi plus de d√©tail √† l'application qu'avec les autres types qui ne seraient que de simples liens ou textes.</p>
<p>Notez que cet exemple, <a href="/Fr/GlisserD%C3%A9poser/Types_de_glissement_recommand%C3%A9s#link" class="page-not-created" title="This is a link to an unwritten page">text/uri-list</a> et <a href="/Fr/GlisserD%C3%A9poser/Types_de_glissement_recommand%C3%A9s#text" class="page-not-created" title="This is a link to an unwritten page">text/plain</a> contiennent la m√™me donn√©e. C'est souvent le cas, mais pas forc√©ment n√©cessaire.</p>
<p>Si vous essayez d'ajouter une donn√©e deux fois avec le m√™me format, alors la nouvelle donn√©e remplacera l'ancienne, mais √† la m√™me position que l'ancienne dans la liste.</p>
<p>Vous pouvez effacer la donn√©e en utilisant la m√©thode <a href="/Fr/GlisserD%C3%A9poser/DataTransfer#clearData" class="page-not-created" title="This is a link to an unwritten page">clearData</a>, avec un seul argument qui est le type de la donn√©e √† effacer.</p>
<div class="code-example"><pre class="brush: js notranslate"><code>event<span class="token punctuation">.</span>dataTransfer<span class="token punctuation">.</span><span class="token function">clearData</span><span class="token punctuation">(</span><span class="token string">"text/uri-list"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div>
<p>L'argument de type de la m√©thode <a href="/Fr/GlisserD%C3%A9poser/DataTransfer#clearData" class="page-not-created" title="This is a link to an unwritten page">clearData</a> est optionnel. S'il n'est pas pr√©cis√©, la donn√©e associ√©e √† tous les types est effac√©e. Et si aucune donn√©e √† glisser n'est ajout√©e, alors l'op√©ration de glissement ne s'effectue pas.</p></div><h2 id="d√©finir_limage_filigrane_dun_glissement"><a href="#d√©finir_limage_filigrane_dun_glissement" title="Permalink to D√©finir l'image filigrane d'un glissement">D√©finir l'image filigrane d'un glissement</a></h2><div><p>Lorsqu'un glissement a lieu, une image translucide est g√©n√©r√©e √† partir de l'origine du glissement (l'√©l√©ment d'origine ayant d√©clench√© l'√©v√©nement), et cette image suit le d√©placement de la souris. Elle est cr√©√©e automatiquement donc vous n'avez pas √† le faire vous m√™me. Toutefois, vous pouvez personnaliser cette image filigrane gr√¢ce √† <a href="/Fr/GlisserD%C3%A9poser/DataTransfer#setDragImage" class="page-not-created" title="This is a link to an unwritten page">setDragImage</a>.</p>
<div class="code-example"><pre class="brush: js notranslate"><code>event<span class="token punctuation">.</span>dataTransfer<span class="token punctuation">.</span><span class="token function">setDragImage</span><span class="token punctuation">(</span>image<span class="token punctuation">,</span> xOffset<span class="token punctuation">,</span> yOffset<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div>
<p>Trois arguments sont n√©cessaires. Le premier est la r√©f√©rence √† une image. Cette r√©f√©rence pointera en g√©r√©nal vers un √©l√©ment image, mais elle peut pointer aussi vers un canvas ou vers tous autres √©l√©ments. L'image filigrane sera simplement g√©n√©r√©e telle qu'elle ressemble √† l'√©cran, et dessin√©e √† sa taille d'origine. Il est √©galement possible d'utiliser des images et des canvas qui ne sont pas dans un document, comme le montre cet exemple&nbsp;:</p>
<div class="code-example"><pre class="brush: js notranslate"><code><span class="token keyword">function</span> <span class="token function">dragWithCustomImage</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
  <span class="token keyword">var</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">"canvas"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  canvas<span class="token punctuation">.</span>width <span class="token operator">=</span> canvas<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token number">50</span><span class="token punctuation">;</span>

  <span class="token keyword">var</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">"2d"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span>lineWidth <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">var</span> dt <span class="token operator">=</span> event<span class="token punctuation">.</span>dataTransfer<span class="token punctuation">;</span>
  dt<span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token string">'text/plain'</span><span class="token punctuation">,</span> <span class="token string">'Data to Drag'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  dt<span class="token punctuation">.</span><span class="token function">setDragImage</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div>
<p>Cette technique est utile pour dessiner des images filigranes personnalis√©es en utilisant l'√©l√©ment canvas.</p>
<p>Les deuxi√®me et troisi√®me arguments de la m√©thode <a href="/Fr/GlisserD%C3%A9poser/DataTransfer#setDragImage" class="page-not-created" title="This is a link to an unwritten page">setDragImage</a> sont les d√©calages de l'image par rapport au pointeur de la souris. Dans cet exemple, comme le canvas fait 50 pixels de large et 50 pixels de haut, nous utilisons son centre (soit 25 et 25) pour que l'image soit centr√©e sur le pointeur de la souris.</p></div><h2 id="effets_du_glissement"><a href="#effets_du_glissement" title="Permalink to Effets du glissement">Effets du glissement</a></h2><div><p>Lors d'un glisser/d√©poser, plusieur op√©rations se d√©roulent. L'op√©ration <code>copy</code> indique que la donn√©e gliss√©e sera copi√©e de son emplacement d'origine au lieu de d√©pot. L'op√©ration <code>move</code> indique que la donn√©e gliss√©e sera d√©plac√©e, et l'op√©ration <code>link</code> indique une forme de relation ou de connexion entre l'origine et le lieu de d√©pot.</p>
<p>Vous pouvez sp√©cifier laquelle de ces trois op√©rations sera autoris√©e au niveau de l'origine du glissement, en d√©finissant la propri√©t√© <a href="/Fr/GlisserD%C3%A9poser/DataTransfer#effectAllowed" class="page-not-created" title="This is a link to an unwritten page">effectAllowed</a> dans un scrutateur d'√©v√©nement <code>dragstart</code>.</p>
<div class="code-example"><pre class="brush: js notranslate"><code>event<span class="token punctuation">.</span>dataTransfer<span class="token punctuation">.</span>effectAllowed <span class="token operator">=</span> <span class="token string">"copy"</span><span class="token punctuation">;</span>
</code></pre></div>
<p>Dans cet exemple, seule une copie n'est autoris√©e. Vous pouvez combiner les valeurs de plusieurs fa√ßons&nbsp;:</p>
<dl>
  <dt id="none">none</dt>
  <dd>
    <p>Aucune op√©ration permise</p>
  </dd>
  <dt id="copy">copy</dt>
  <dd>
    <p>Copie uniquement</p>
  </dd>
  <dt id="move">move</dt>
  <dd>
    <p>D√©placement uniquement</p>
  </dd>
  <dt id="link">link</dt>
  <dd>
    <p>Lien uniquement</p>
  </dd>
  <dt id="copymove">copyMove</dt>
  <dd>
    <p>Copie ou d√©placement uniquement</p>
  </dd>
  <dt id="copylink">copyLink</dt>
  <dd>
    <p>Copie ou lien uniquement</p>
  </dd>
  <dt id="linkmove">linkMove</dt>
  <dd>
    <p>Lien ou d√©placement uniquement</p>
  </dd>
  <dt id="all">all</dt>
  <dd>
    <p>Copie, d√©placement ou lien</p>
  </dd>
</dl>
<p>Notez que ces valeurs doivent √™tre √©crites exactement comme cela. Si vous ne modifiez pas la propri√©t√© <a href="/Fr/GlisserD%C3%A9poser/DataTransfer#effectAllowed" class="page-not-created" title="This is a link to an unwritten page">effectAllowed</a>, alors tous les op√©rations seront permises comme pour la valeur 'all'. L'usage de cette propri√©t√© intervient seulement si vous souhaitez exclure des types sp√©cifiques.</p>
<p>Pendant une op√©ration de glissement, un scrutateur pour les √©v√©nements <code>dragenter</code> ou <code>dragover</code> peut tester la propri√©t√© <a href="/Fr/GlisserD%C3%A9poser/DataTransfer#effectAllowed" class="page-not-created" title="This is a link to an unwritten page">effectAllowed</a> afin de voir quelles op√©rations sont autoris√©es. La propri√©t√© associ√©e <a href="/Fr/GlisserD%C3%A9pose/DataTransfer#dropEffect" class="page-not-created" title="This is a link to an unwritten page">dropEffect</a> doit √™tre d√©finie dans un de ces √©v√©nements pour sp√©cifier ce que chaque op√©ration aura √† faire. Les valeurs valides pour <a href="/Fr/GlisserD%C3%A9pose/DataTransfer#dropEffect" class="page-not-created" title="This is a link to an unwritten page">dropEffect</a> sont <code>none</code>, <code>copy</code>, <code>move</code> ou <code>link</code>. Il n'y a pas de combinaison pour cette propri√©t√©.</p>
<p>Pour les √©v√©nements <code>dragenter</code> et <code>dragover</code>, la propri√©t√© <a href="/Fr/GlisserD%C3%A9pose/DataTransfer#dropEffect" class="page-not-created" title="This is a link to an unwritten page">dropEffect</a> est initialis√©e avec l'effet attendu par l'utilisateur. L'utilisateur peut modifier l'effet d√©sir√© en appuyant sur une touche de modification. Bien que les touches varient selon la plateforme, habituellement, il s'agit d'une combinaison des touches Maj et Control qui permettent de copier, d√©placer et cr√©er un raccourci. Le pointeur de la souris change de forme pour montrer l'op√©ration souhait√©e, par exemple un signe + √† c√¥t√© de la souris pour une copie.</p>
<p>Vous pouvez modifier les propri√©t√©s <a href="/Fr/GlisserD%C3%A9poser/DataTransfer#effectAllowed" class="page-not-created" title="This is a link to an unwritten page">effectAllowed</a> et <a href="/Fr/GlisserD%C3%A9pose/DataTransfer#dropEffect" class="page-not-created" title="This is a link to an unwritten page">dropEffect</a> pendant les √©v√©nements <code>dragenter</code> ou <code>dragover</code>, si par exemple une cible ne supporte qu'un seul type d'op√©ration. La modification de la propri√©t√© <a href="/Fr/GlisserD%C3%A9poser/DataTransfer#effectAllowed" class="page-not-created" title="This is a link to an unwritten page">effectAllowed</a> vous permet de sp√©cifier les op√©rations autoris√©es sur une cible donn√©e. Par exemple, mettre une propri√©t√© <code>copyMove</code> permet des op√©ration de copie ou de d√©placement, mais pas de cr√©er un lien raccourci.</p>
<p>Vous pouvez modifier la propri√©t√© <a href="/Fr/GlisserD%C3%A9pose/DataTransfer#dropEffect" class="page-not-created" title="This is a link to an unwritten page">dropEffect</a> en rempla√ßant l'effet de l'utilisateur, et forcer √† obtenir une op√©ration sp√©cifique. Notez que cet effet doit √™tre un de ceux list√© dans la propri√©t√© <a href="/Fr/GlisserD%C3%A9poser/DataTransfer#effectAllowed" class="page-not-created" title="This is a link to an unwritten page">effectAllowed</a>, sinon une valeur alternative sera attribu√©e.</p>
<div class="code-example"><pre class="brush: js notranslate"><code>event<span class="token punctuation">.</span>dataTransfer<span class="token punctuation">.</span>effectAllowed <span class="token operator">=</span> <span class="token string">"copyMove"</span><span class="token punctuation">;</span>
event<span class="token punctuation">.</span>dataTransfer<span class="token punctuation">.</span>dropEffect <span class="token operator">=</span> <span class="token string">"copy"</span><span class="token punctuation">;</span>
</code></pre></div>
<p>Dans cet exemple, la copie est l'effet propos√© qui est inclus dans la liste des effets autoris√©s.</p>
<p>Vous pouvez utiliser la valeur <code>none</code> pour interdir tout d√©p√¥t √† cet emplacement.</p></div><h2 id="sp√©cifier_les_cibles_de_d√©p√¥t"><a href="#sp√©cifier_les_cibles_de_d√©p√¥t" title="Permalink to Sp√©cifier les cibles de d√©p√¥t">Sp√©cifier les cibles de d√©p√¥t</a></h2><div><p>Un scrutateur pour les √©v√©nements <code>dragenter</code> et <code>dragover</code> est utilis√© pour indiquer des cibles de d√©p√¥t valides, c'est-√†-dire l√† o√π les items pourront √™tre d√©pos√©s. La plupart des zones d'une page Web ne sont pas des endroits valides pour d√©poser des donn√©es. Ainsi, le comportement par d√©faut pour ces √©v√©nements ne permet pas un d√©p√¥t.</p>
<p>Si vous voulez autoriser un d√©p√¥t, vous devez emp√™cher le comportement par d√©faut en annulant l'√©v√©nement. Il suffit soit de retourner <code>false</code> √† partir d'un scrutateur d'√©v√©nement, ou par l'appel de la m√©thode √©v√©nementielle <a href="/fr/docs/DOM/event.preventDefault">event.preventDefault</a>. Cette derni√®re solution est plus faisable avec une fonction d√©finie dans un script s√©par√©.</p>
<div class="code-example"><pre class="brush: html notranslate"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">ondragover</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>return false<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">ondragover</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>event.preventDefault()<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
</code></pre></div>
<p>L'appel de la m√©thode <a href="/fr/docs/DOM/event.preventDefault">event.preventDefault</a> pendant les √©v√©nements <code>dragenter</code> et <code>dragover</code> indiquera qu'un d√©p√¥t est permis √† cet endroit. Toutefois, il est fr√©quent d'appeler la m√©thode <a href="/fr/docs/DOM/event.preventDefault">event.preventDefault</a> seulement dans certaines situations, par exemple si un lien est en train d'√™tre gliss√©. Pour cela, appelez une fonction qui testera une condition et annulera l'√©v√©nement seulement si cette condition est rencontr√©e. Dans le cas contraire, il suffit de ne pas annuler l'√©v√©nement et aucun d√©p√¥t ne se r√©alisera si l'utilisateur lache le bouton de la souris.</p>
<p>Il est plus fr√©quent d'accepter ou non un d√©p√¥t en fonction du type de la donn√©e gliss√©e. Par exemple, permettre les images ou les liens, ou bien les deux. Pour cela, testez les <a href="/fr/GlisserD%C3%A9poser/DataTransfer#types" class="page-not-created" title="This is a link to an unwritten page">types</a> de l'objet <code>dataTransfer</code>. Les types sont sous la forme d'une liste de cha√Ænes de caract√®res ajout√©es au d√©but du glissement, du plus signifiant au moins signifiant.</p>
<div class="code-example"><pre class="brush: js notranslate"><code><span class="token keyword">function</span> <span class="token function">doDragOver</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
  <span class="token keyword">var</span> isLink <span class="token operator">=</span> event<span class="token punctuation">.</span>dataTransfer<span class="token punctuation">.</span>types<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">"text/uri-list"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>isLink<span class="token punctuation">)</span>
    event<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div>
<p>Dans cet exemple, la m√©thode <code>contains</code> est utilis√©e pour v√©rifier si le type <a href="/fr/GlisserD%C3%A9poser/Types_de_glissement_recommand%C3%A9s#link" class="page-not-created" title="This is a link to an unwritten page">text/uri-list</a> est pr√©sent dans la liste des types. S'il l'est, l'√©v√©nement est annul√©, ce qui autorise un d√©p√¥t. Si la donn√©e ne contient pas un lien, l'√©v√©nement ne sera pas annul√© et le d√©p√¥t ne sera pas autoris√© √† cet endroit.</p>
<p>Vous pouvez √©galement d√©finir une propri√©t√© <a href="/fr/GlisserD%C3%A9poser/DataTransfer#effectAllowed" class="page-not-created" title="This is a link to an unwritten page">effectAllowed</a> ou <a href="/fr/GlisserD%C3%A9poser/DataTransfer#dropEffect" class="page-not-created" title="This is a link to an unwritten page">dropEffect</a> ou les deux √† la fois si vous souhaitez √™tre plus pr√©cis sur le type d'op√©ration autoris√©. Naturellement, le changement de propri√©t√© n'aura aucun effet si vous n'avez pas annul√© l'√©v√©nement.</p></div><h2 id="retour_dinformation_du_d√©p√¥t"><a href="#retour_dinformation_du_d√©p√¥t" title="Permalink to Retour d'information du d√©p√¥t">Retour d'information du d√©p√¥t</a></h2><div><p>Il y a de nombreuses mani√®res d'indiquer √† l'utilisateur que le d√©pot est autoris√© dans une certaine zone. Le pointeur de la souris va √™tre mis √† jour en fonction de la valeur de la propri√©t√© <a href="/en-US/DragDrop/DataTransfer#dropeffect.28.29">dropEffect</a>. L'apparence exacte d√©pend de la plateforme de l'utilisateur, g√©n√©ralement il s'agit d'un icone repr√©sentant un signe plus qui appara√Æt pour une copie par exemple, et un 'impossible de d√©poser ici' peut appara√Ætre quand le d√©p√¥t n'est pas autoris√©. Cette information contextuelle est suffisante dans la plupart des cas.</p>
<p>De plus, vous pouvez aussi mettre √† jour l'interface utilisateur en surlignant au besoin. Pour un simple surlignage, vous pouvez utiliser la pseudo-classe <code>-moz-drag-over</code>sur la cible du d√©p√¥t.</p>
<div class="code-example"><pre class="brush: css notranslate"><code><span class="token selector">.droparea:-moz-drag-over</span> <span class="token punctuation">{</span>
  <span class="token property">border</span><span class="token punctuation">:</span> 1px solid black<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div>
<p>Dans cet example, l'√©lement comportant la classe <code>droparea</code> va recevoir un bord noir de un pixel tant que la cible sera valide, ce qui est le cas, si la m√©thode <a href="/en-US/DOM/event.preventDefault">event.preventDefault</a> est appel√© durant l'√©venement <code>dragenter</code>. Il est √† noter que vous devez annuler l'√©venement <code>dragenter</code> de cette pseudo-classe tant que l'√©tat n'est pas verifi√© par l'√©venement <code>dragover</code>.</p>
<p>For more complex visual effects, you can also perform other operations during the <code>dragenter</code> event, for example, by inserting an element at the location where the drop will occur. For example, this might be an insertion marker or an element that represents the dragged element in its new location. To do this, you could create an <a href="/en-US/XUL/image">image</a> or <a href="/en-US/XUL/separator">separator</a> element for example, and simply insert it into the document during the <code>dragenter</code> event.</p>
<p>The <code>dragover</code> event will fire at the element the mouse is pointing at. Naturally, you may need to move the insertion marker around a <code>dragover</code> event as well. You can use the event's <a href="/en-US/DOM/event.clientX">clientX</a> and <a href="/en-US/DOM/event.clientY">clientY</a> properties as with other mouse events to determine the location of the mouse pointer.</p>
<p>Finally, the <code>dragleave</code> event will fire at an element when the drag leaves the element. This is the time when you should remove any insertion markers or highlighting. You do not need to cancel this event. Any highlighting or other visual effects specified using the <code>-moz-drag-over</code> pseudoclass will be removed automatically. The <code>dragleave</code> event will always fire, even if the drag is cancelled, so you can always ensure that any insertion point cleanup can be done during this event.</p></div><h2 id="performing_a_drop"><a href="#performing_a_drop" title="Permalink to Performing a Drop">Performing a Drop</a></h2><div><p>When the user releases the mouse, the drag and drop operation ends. If the mouse was released over an element that is a valid drop target, that is, one that cancelled the last <code>dragenter</code> or <code>dragover</code> event, then the drop will be successful, and a <code>drop</code> event will fire at the target. Otherwise, the drag operation is cancelled and no <code>drop</code> event is fired.</p>
<p>During the <code>drop</code> event, you should retrieve that data that was dropped from the event and insert it at the drop location. You can use the <a href="/en-US/DragDrop/DataTransfer#dropeffect.28.29">dropEffect</a> property to determine which drag operation was desired.</p>
<p>As with all drag related events, the event's <code>dataTransfer</code> property will hold the data that is being dragged. The <a href="/en-US/DragDrop/DataTransfer#getdata.28.29">getData</a> method may be used to retrieve the data again.</p>
<div class="code-example"><pre class="brush: js notranslate"><code><span class="token keyword">function</span> <span class="token function">onDrop</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
  <span class="token keyword">var</span> data <span class="token operator">=</span> event<span class="token punctuation">.</span>dataTransfer<span class="token punctuation">.</span><span class="token function">getData</span><span class="token punctuation">(</span><span class="token string">"text/plain"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>textContent <span class="token operator">=</span> data<span class="token punctuation">;</span>
  event<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div>
<p>The <a href="/en-US/DragDrop/DataTransfer#getdata.28.29">getData</a> method takes one argument, the type of data to retrieve. It will return the string value that was set when the <a href="/en-US/DragDrop/DataTransfer#setdata.28.29">setData</a> was called at the beginning of the drag operation. An empty string will be returned if data of that type does not exist. Naturally though, you would likely know that the right type of data was available, as it was previously checked during a <code>dragover</code> event.</p>
<p>In the example here, once we have retrieved the data, we insert the string as the textual content of the target. This has the effect of inserting the dragged text where it was dropped, assuming that the drop target is an area of text such as a <code>p</code> or <code>div</code> element.</p>
<p>In a web page, you should call the <a href="/en-US/DOM/event.preventDefault">preventDefault</a> method of the event if you have accepted the drop so that the default browser handling does not handle the droppped data as well. For example, when a link is dragged to a web page, Firefox will open the link. By cancelling the event, this behaviour will be prevented.</p>
<p>You can retrieve other types of data as well. If the data is a link, it should have the type <a href="/en-US/DragDrop/Recommended_Drag_Types#link">text/uri-list</a>. You could then insert a link into the content.</p>
<div class="code-example"><pre class="brush: js notranslate"><code><span class="token keyword">function</span> <span class="token function">doDrop</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
  <span class="token keyword">var</span> links <span class="token operator">=</span> event<span class="token punctuation">.</span>dataTransfer<span class="token punctuation">.</span><span class="token function">getData</span><span class="token punctuation">(</span><span class="token string">"text/uri-list"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token function">each</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token keyword">var</span> link <span class="token keyword">in</span> links</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>link<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">"#"</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span>
      <span class="token keyword">continue</span><span class="token punctuation">;</span>

    <span class="token keyword">var</span> newlink <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">"a"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    newlink<span class="token punctuation">.</span>href <span class="token operator">=</span> link<span class="token punctuation">;</span>
    newlink<span class="token punctuation">.</span>textContent <span class="token operator">=</span> link<span class="token punctuation">;</span>
    event<span class="token punctuation">.</span>target<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>newlink<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  event<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div>
<p>This example inserts a link from the dragged data. As you might be able to guess from the name, the <a href="/en-US/DragDrop/Recommended_Drag_Types#link">text/uri-list</a> type actually may contain a list of URLs, each on a separate line. In this code, we use the <a href="/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/split">split</a> to split the string into lines, then iterate over the list of lines, inserting each as a link into the document. Note also that we skip links starting with a number sign (#) as these are comments.</p>
<p>For simple cases, you can use the special type <code>URL</code> to just retrieve the first valid URL in the list. For example:</p>
<div class="code-example"><pre class="brush: js notranslate"><code><span class="token keyword">var</span> link <span class="token operator">=</span> event<span class="token punctuation">.</span>dataTransfer<span class="token punctuation">.</span><span class="token function">getData</span><span class="token punctuation">(</span><span class="token string">"URL"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div>
<p>This eliminates the need to check for comments or iterate through lines yourself, however it is limited to only the first URL in the list.</p>
<p>The <code>URL</code> type is a special type used only as a shorthand, and it does not appear within the list of types specified in the <a href="/en-US/DragDrop/DataTransfer#types.28.29">types</a> property.</p>
<p>Sometimes you may support a number of different formats, and you want to retrieve the data that is most specific that is supported. In this example, three formats are support by a drop target.</p>
<p>The following example returns the data associated with the best supported format:</p>
<div class="code-example"><pre class="brush: js notranslate"><code><span class="token keyword">function</span> <span class="token function">doDrop</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
  <span class="token keyword">var</span> types <span class="token operator">=</span> event<span class="token punctuation">.</span>dataTransfer<span class="token punctuation">.</span>types<span class="token punctuation">;</span>
  <span class="token keyword">var</span> supportedTypes <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"application/x-moz-file"</span><span class="token punctuation">,</span> <span class="token string">"text/uri-list"</span><span class="token punctuation">,</span> <span class="token string">"text/plain"</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  types <span class="token operator">=</span> supportedTypes<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> types<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>types<span class="token punctuation">.</span>length<span class="token punctuation">)</span>
    <span class="token keyword">var</span> data <span class="token operator">=</span> event<span class="token punctuation">.</span>dataTransfer<span class="token punctuation">.</span><span class="token function">getData</span><span class="token punctuation">(</span>types<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  event<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div>
<p>This method relies on JavaScript functionality available in Firefox 3. However the code could be adjusted to support other platforms.</p></div><h2 id="finishing_a_drag"><a href="#finishing_a_drag" title="Permalink to Finishing a Drag">Finishing a Drag</a></h2><div><p>Once the drag is complete, a <code>dragend</code> is fired at the source of the drag (the same element that received the <code>dragstart</code> event). This event will fire if the drag was successful or if it was cancelled. However, you can use the <a href="/en-US/DragDrop/DataTransfer#dropeffect.28.29">dropEffect</a> to determine what drop operation occurred.</p>
<p>If the <a href="/en-US/DragDrop/DataTransfer#dropeffect.28.29">dropEffect</a> property has the value <code>none</code> during a <code>dragend</code>, then the drag was cancelled. Otherwise, the effect specifies which operation was performed. The source can use this information after a move operation to remove the dragged item from the old location. The <a href="/en-US/DragDrop/DataTransfer#mozusercancelled.28.29">mozUserCancelled</a> property will be set to true if the user cancelled the drag (by pressing Escape), and false if the drag was cancelled for other reasons such as an invalid drop target, or if was successful.</p>
<p>A drop can occur inside the same window or over another application. The <code>dragend</code> event will always fire regardless. The event's <a href="/en-US/DOM/event.screenX">screenX</a> and <a href="/en-US/DOM/event.screenY">screenY</a> properties will be set to the screen coordinate where the drop occurred.</p>
<p>After the <code>dragend</code> event has finished propagating, the drag and drop operation is complete.</p></div></article><aside class="metadata"><div class="metadata-content-container"><div id="on-github" class="on-github"><h3>Found a problem with this page?</h3><ul><li><a href="https://github.com/mdn/translated-content/edit/main/files/fr/web/api/html_drag_and_drop_api/drag_operations/index.md" title="You're going to need to sign in to GitHub first (Opens in a new tab)" target="_blank" rel="noopener noreferrer">Edit on <b>GitHub</b></a></li><li><a href="https://github.com/mdn/translated-content/blob/main/files/fr/web/api/html_drag_and_drop_api/drag_operations/index.md" title="Folder: fr/web/api/html_drag_and_drop_api/drag_operations (Opens in a new tab)" target="_blank" rel="noopener noreferrer">Source on <b>GitHub</b></a></li><li><a href="https://github.com/mdn/translated-content/issues/new?body=MDN+URL%3A+https%3A%2F%2Fdeveloper.mozilla.org%2Ffr%2Fdocs%2FWeb%2FAPI%2FHTML_Drag_and_Drop_API%2FDrag_operations%0A%0A%23%23%23%23+What+information+was+incorrect%2C+unhelpful%2C+or+incomplete%3F%0A%0A%0A%23%23%23%23+Specific+section+or+headline%3F%0A%0A%0A%23%23%23%23+What+did+you+expect+to+see%3F%0A%0A%0A%23%23%23%23+Did+you+test+this%3F+If+so%2C+how%3F%0A%0A%0A%3C%21--+Do+not+make+changes+below+this+line+--%3E%0A%3Cdetails%3E%0A%3Csummary%3EMDN+Content+page+report+details%3C%2Fsummary%3E%0A%0A*+Folder%3A+%60fr%2Fweb%2Fapi%2Fhtml_drag_and_drop_api%2Fdrag_operations%60%0A*+MDN+URL%3A+https%3A%2F%2Fdeveloper.mozilla.org%2Ffr%2Fdocs%2FWeb%2FAPI%2FHTML_Drag_and_Drop_API%2FDrag_operations%0A*+GitHub+URL%3A+https%3A%2F%2Fgithub.com%2Fmdn%2Ftranslated-content%2Fblob%2Fmain%2Ffiles%2Ffr%2Fweb%2Fapi%2Fhtml_drag_and_drop_api%2Fdrag_operations%2Findex.md%0A*+Last+commit%3A+https%3A%2F%2Fgithub.com%2Fmdn%2Ftranslated-content%2Fcommit%2F921c46a374ab0a9f4cc809af0370f8c412e54701%0A*+Document+last+modified%3A+2022-10-01T03%3A41%3A16.000Z%0A%0A%3C%2Fdetails%3E&amp;title=Issue+with+%22Op%C3%A9rations+de+glissement%22%3A+%28short+summary+here+please%29&amp;labels=needs-triage%2Cl10n-fr" title="This will take you to https://github.com/mdn/content to file a new issue" target="_blank" rel="noopener noreferrer">Report a problem with this content on <b>GitHub</b></a></li><li>Want to fix the problem yourself? See<!-- --> <a href="https://github.com/mdn/content/blob/main/README.md" target="_blank" rel="noopener noreferrer">our Contribution guide</a>.</li></ul></div><p class="last-modified-date"><b>Last modified:</b> <time datetime="2022-10-01T03:41:16.000Z">Oct 1, 2022</time>,<!-- --> <a href="/fr/docs/Web/API/HTML_Drag_and_Drop_API/Drag_operations/contributors.txt">by MDN contributors</a></p><form class="language-menu"><fieldset id="select-language"><legend>Change your language</legend><label for="language-selector" class="visually-hidden">Select your preferred language</label> <select id="language-selector" name="language"><option selected="" value="fr">Fran√ßais</option><option value="en-US">English (US)</option><option value="ja">Êó•Êú¨Ë™û</option><option value="ko">ÌïúÍµ≠Ïñ¥</option><option value="ru">–†—É—Å—Å–∫–∏–π</option><option value="zh-CN">‰∏≠Êñá (ÁÆÄ‰Ωì)</option><option value="zh-TW">Ê≠£È´î‰∏≠Êñá (ÁπÅÈ´î)</option></select> <button type="submit" class="button minimal">Change language</button></fieldset></form></div></aside></main></div><footer id="nav-footer" class="page-footer"><div class="content-container"><div class="page-footer-logo"><a href="/fr/" class="logo" aria-label="MDN Web Docs"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 451.74 135" fill="#fff"><path d="M7.14 8.35v111.06h111.05V8.35zm103.71 56c-.48.92-1 1.79-1.46 2.71a3.44 3.44 0 01-3.54 2 2.4 2.4 0 00-1.55.5c-1.37.9-2.76 1.79-4.18 2.63a7.33 7.33 0 01-6.35.34 29.71 29.71 0 00-10.63-2 11.7 11.7 0 00-9.46 4.31 14.84 14.84 0 00-2.13 4.29c-1.24 3.07-2.3 21.38-2.3 26.05 0 0-17.62-3.42-34.15-20.34l4.31-11.32h-13.5l9.76-10.35h-16.8l9.77-10.34H12.69L30.45 34a40.9 40.9 0 0119.77-10.83c7.1-1.22 8.93-.53 13.31.77l2.43.73.85.25 3.1.95a12.56 12.56 0 006.21.09 11.37 11.37 0 018.25 1 8.24 8.24 0 014.1 6.22 7.29 7.29 0 003.61 5.49 59.45 59.45 0 009.32 4.11c2.27.86 4.54 1.84 6.79 2.72a6.81 6.81 0 012.86 2.06 4.81 4.81 0 011.1 2.73c.14 2 .37 4 .47 6a15.24 15.24 0 01-1.77 8.03zM320.12 39.62a5.42 5.42 0 00-4.53 2.13 7.36 7.36 0 00-1.7 4.43v2.36a6.28 6.28 0 001.7 4.46 5.63 5.63 0 004.3 1.82 5.12 5.12 0 004.57-2.27A9.7 9.7 0 00326 47a8.11 8.11 0 00-1.67-5.52 5.36 5.36 0 00-4.21-1.86zM387.38 39.53a5.52 5.52 0 00-4.7 2.15 8.8 8.8 0 00-1.63 5.49 9.23 9.23 0 001.58 5.45 5.38 5.38 0 004.7 2.25 5.61 5.61 0 004.74-2.2 8.91 8.91 0 001.68-5.59 8.24 8.24 0 00-1.75-5.52 5.76 5.76 0 00-4.62-2.03zM299.47 41.35a4.34 4.34 0 00-4-1.92 4.55 4.55 0 00-3.89 1.73 8.37 8.37 0 00-1.58 4.17h10.48a6.3 6.3 0 00-1.01-3.98zM357.74 30.75H352v23.31h5.72q5.47 0 8.35-3t2.93-8.65q0-5.43-2.88-8.55t-8.38-3.11z"></path><path d="M121.55 8.35v70.8h323V8.35zm42.21 22.45h-4V54h3.68v3.73h-11.25V54h3.31V36.79h-.19l-9.63 19.12h-2.12l-10-19.4h-.19V54h3.45v3.73h-11.15V54h3.68V30.8h-4v-3.73H133l11.66 22.56h.19l11.18-22.56h7.7zm29.12 22.67q-4.11 4.28-11.38 4.28h-14.06v-3.69h3.73V30.75h-3.73v-3.68h13.83q7.59 0 11.66 4.29a15.4 15.4 0 014 11 15.33 15.33 0 01-4.05 11.11zm38.89-22.67h-3.68v27h-2.6L208.08 35h-.19v19h4.67v3.73h-12.22V54h3.49V30.8h-4v-3.73h7.08l16.9 22.09h.19V30.8h-4.58v-3.73h12.32zm43.8 27h-3.31l-7.83-23.18h-.19l-7.55 23.18h-3.35l-8.78-27h-2.65v-3.73H253v3.73h-3.87L255 50.71h.23l6.61-19.91H259v-3.73h11v3.73h-2.78l6.61 20.1h.23l5.43-20.1h-4.15v-3.73h11v3.73h-2.54zm26.71-1.51a9.66 9.66 0 01-6.42 2 10.2 10.2 0 01-7.41-2.74c-1.89-1.82-2.83-4.47-2.83-7.93a12.37 12.37 0 012.64-8.12 9 9 0 017.32-3.21 8.62 8.62 0 016.75 2.69 9.65 9.65 0 012.45 6.52 13.67 13.67 0 01-.28 2.69H290q.29 6.71 6.18 6.7a5.2 5.2 0 003.71-1.18 5.82 5.82 0 001.67-2.83l3.45.71a7.21 7.21 0 01-2.73 4.65zm25.77-1.63c-1.51 2.4-3.92 3.61-7.22 3.61s-5.84-1.29-7.22-3.87c0 .25-.1.82-.21 1.7s-.19 1.44-.22 1.7H309c.16-1 .31-2 .47-3.07a21.42 21.42 0 00.24-3.16v-23h-3.4v-3.3h7.55V40.9a9.76 9.76 0 012.67-3.28 7.33 7.33 0 014.74-1.4 8.48 8.48 0 016.5 2.78q2.55 2.74 2.55 7.74a14.6 14.6 0 01-2.27 7.87zm41.39-1.14q-4.11 4.28-11.37 4.28H344v-3.74h3.73V30.75H344v-3.68h13.83q7.59 0 11.66 4.29a15.41 15.41 0 014.06 11 15.34 15.34 0 01-4.11 11.11zm25.65 1.68a10.53 10.53 0 01-7.9 3.07 10 10 0 01-7.63-3 10.93 10.93 0 01-2.8-7.83 12.13 12.13 0 012.69-7.93q2.69-3.3 8-3.3t8 3.28a12 12 0 012.64 7.76 10.86 10.86 0 01-3 7.9zm22.61.57c-1.4 1.66-3.63 2.5-6.68 2.5a9.58 9.58 0 01-7.15-2.76q-2.72-2.76-2.71-7.91a12.25 12.25 0 012.69-8 9.17 9.17 0 017.5-3.28 15 15 0 013.82.48 10.37 10.37 0 013.5 1.65l.85 5.47-3.35.38-.76-3.54a8.07 8.07 0 00-4.11-1 4.9 4.9 0 00-4.39 2.15 9.93 9.93 0 00-1.41 5.55 8.9 8.9 0 001.5 5.38 5.23 5.23 0 004.44 2c2.92 0 4.67-1.7 5.23-5.1l3.5.71a10.34 10.34 0 01-2.47 5.27zm20.48.75a11.68 11.68 0 01-6.63 1.75 15.52 15.52 0 01-8.26-2.08L424 51l3.26.33-.1 2.74a7 7 0 002.06.66 12.63 12.63 0 002.19.19 8.68 8.68 0 003.66-.75 2.5 2.5 0 001.63-2.36 2.25 2.25 0 00-1.32-2.2 12.65 12.65 0 00-3.28-1 47.39 47.39 0 01-3.9-.82 7.5 7.5 0 01-3.25-1.7 4.67 4.67 0 01-1.33-3.66c0-2.36.88-4 2.62-4.91a12 12 0 015.6-1.37 15 15 0 014.08.55 16.65 16.65 0 013.47 1.39l.47 5.1-3.3.37-.48-3.3a9.5 9.5 0 00-4.06-.9 5.62 5.62 0 00-2.87.66 2.33 2.33 0 00-1.15 2.25 2.13 2.13 0 001.3 2.07 11.91 11.91 0 003.21.92 36.69 36.69 0 013.82.83 7.46 7.46 0 013.21 1.74 4.9 4.9 0 011.3 3.73 5.56 5.56 0 01-2.66 4.91z"></path><path d="M181.17 30.75h-5.71v23.31h5.71q5.47 0 8.36-3t2.88-8.61q0-5.43-2.88-8.55t-8.36-3.15zM121.63 119.32V81.74h114.91v37.58zM153.22 109h-2v-6.85a4.8 4.8 0 00-1.58-4 5.57 5.57 0 00-3.55-1.26 5 5 0 00-4.92 3.26 4.19 4.19 0 00-1.88-2.46 5.82 5.82 0 00-3-.8 4.89 4.89 0 00-4.56 2.56v-2.21h-6.28v3.26h2v8.5h-2v3.23h9.11V109h-2.86v-5.25a4.4 4.4 0 01.69-2.56 2.47 2.47 0 012.21-1q2.57 0 2.56 3.63v8.41h6.29V109h-2v-5.25a4.47 4.47 0 01.67-2.56 2.42 2.42 0 012.19-1q2.63 0 2.63 3.63v8.41h6.28zm9.88-12.07q-4 0-6 2.36a8.41 8.41 0 00-2 5.66 7.25 7.25 0 002.17 5.62 8 8 0 005.65 2 8.54 8.54 0 005.94-2.11 7.27 7.27 0 002.34-5.67 8.21 8.21 0 00-2-5.51q-2.07-2.34-6.1-2.34zm-.1 12.35a3 3 0 01-2.63-1.33 5.68 5.68 0 01-.9-3.26 5 5 0 011-3.28 3.23 3.23 0 012.61-1.18 3.5 3.5 0 012.59 1.08 4.56 4.56 0 011.07 3.31 5.21 5.21 0 01-1 3.41 3.33 3.33 0 01-2.74 1.25zm25-2.3l-3.39-.29-.7 2.32H179l8.32-9.54-.32-2.23h-13.19l-.53 5.25 3.16.34.67-2.36h4.65l-8.25 9.53.44 2.26h13.13zm7.62-9.74h-4.46v5.39h4.46zm0 9.61h-4.46v5.39h4.46zm13.54-17.49h-4.23l-6.48 22.88h4.22zm8.68 0h-4.23l-6.45 22.88h4.19zm15 22.51l-.07-2.26a1.22 1.22 0 01-.56.1c-.69 0-1-.39-1-1.16v-6.49a4.39 4.39 0 00-1.8-3.84 7 7 0 00-4.16-1.28 14.55 14.55 0 00-3.16.3 24.14 24.14 0 00-3.29 1.06l-.56 3.46 3.39.4.5-1.69a2.78 2.78 0 011.08-.37 11.3 11.3 0 011.25-.07c1.19 0 1.89.37 2.09 1.1a8.55 8.55 0 01.3 2.26v.5a8.91 8.91 0 00-1.18-.11h-1.21a12.64 12.64 0 00-4.81.88 3.53 3.53 0 00-2.18 3.64 3.66 3.66 0 001.48 3.33 5.63 5.63 0 003.11 1 4.67 4.67 0 003-.91 6.78 6.78 0 001.8-2 3 3 0 003.33 3 5.54 5.54 0 002.66-.85zm-9.25-2.32a1.69 1.69 0 01-1.36-.52 1.81 1.81 0 01-.43-1.21 1.67 1.67 0 01.86-1.68 4.63 4.63 0 012-.42 7.69 7.69 0 011.07.07l1.06.13a3.58 3.58 0 01-1.08 2.74 3.24 3.24 0 01-2.11.89z"></path></svg></a></div><ul class="link-list-mdn"><li><a href="/fr/docs/Web">Web Technologies</a></li><li><a href="/fr/docs/Learn">Learn Web Development</a></li><li><a href="/fr/docs/MDN/About">About MDN</a></li><li><a href="/fr/docs/MDN/Feedback">Feedback</a></li></ul><ul class="link-list-moz"><li><a href="https://www.mozilla.org/about/" target="_blank" rel="noopener noreferrer">About</a></li><li><a href="https://shop.spreadshirt.com/mdn-store/" target="_blank" rel="noopener noreferrer">MDN Web Docs Store</a></li><li><a href="https://www.mozilla.org/contact/" target="_blank" rel="noopener noreferrer">Contact Us</a></li><li><a href="https://www.mozilla.org/firefox/?utm_source=developer.mozilla.org&amp;utm_campaign=footer&amp;utm_medium=referral" target="_blank" rel="noopener noreferrer">Firefox</a></li></ul><div class="social social-mdn"><h4>MDN</h4><ul><li><a class="social-icon twitter" href="https://twitter.com/mozdevnet" target="_blank" rel="noopener noreferrer"><span class="visually-hidden">MDN on Twitter</span></a></li><li><a class="social-icon github" href="https://github.com/mdn/" target="_blank" rel="noopener noreferrer"><span class="visually-hidden">MDN on Github</span></a></li></ul></div><div class="social social-moz"><h4>Mozilla</h4><ul><li><a class="social-icon twitter" href="https://twitter.com/mozilla" target="_blank" rel="noopener noreferrer"><span class="visually-hidden">Mozilla on Twitter</span></a></li><li><a class="social-icon instagram" href="https://www.instagram.com/mozillagram/" target="_blank" rel="noopener noreferrer"><span class="visually-hidden">Mozilla on Instagram</span></a></li></ul></div><p id="license" class="footer-license">¬© 2005-<!-- -->2022<!-- --> Mozilla and individual contributors. Content is available under<!-- --> <a href="/docs/MDN/About#Copyrights_and_licenses">these licenses</a>.</p><ul class="footer-legal"><li><a href="https://www.mozilla.org/about/legal/terms/mozilla" target="_blank" rel="noopener noreferrer">Terms</a></li><li><a href="https://www.mozilla.org/privacy/websites/" target="_blank" rel="noopener noreferrer">Privacy</a></li><li><a href="https://www.mozilla.org/privacy/websites/#cookies" target="_blank" rel="noopener noreferrer">Cookies</a></li></ul></div></footer><div class="page-overlay hidden"></div></div><script type="application/json" id="hydration">{"doc":{"isMarkdown":true,"isTranslated":true,"isActive":true,"flaws":{},"title":"Op√©rations de glissement","mdn_url":"/fr/docs/Web/API/HTML_Drag_and_Drop_API/Drag_operations","locale":"fr","native":"Fran√ßais","sidebarHTML":"","body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<p>Ce qui suit d√©crit les √©tapes qui se d√©roulent lors d'un Glisser D√©poser.</p>\n<div class=\"notecard note\" id=\"sect1\">\n  <p><strong>Note :</strong> Les op√©rations de glisser d√©crits dans ce document utilisent l'interface <a href=\"/fr/docs/Web/API/DataTransfer\"><code>DataTransfer</code></a>. Ce document n'utilise pas l'interface <a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/DataTransferItem\"><code>DataTransferItem</code> <small>(en-US)</small></a> ni l'interface <a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/DataTransferItemList\"><code>DataTransferItemList</code> <small>(en-US)</small></a>.</p>\n</div>"}},{"type":"prose","value":{"id":"lattribut_draggable","title":"L'attribut draggable","isH3":false,"content":"<p>Dans une page Web, certains cas n√©cessitent l'usage du Glisser D√©poser. Il peut servir pour des s√©lections de texte, d'images ou de liens. Lorsqu'une image ou un lien sont gliss√©s, l'URL de l'image ou du lien est d√©fini comme donn√©es du glissement, et le Glisser commence. Pour d'autres √©l√©ments, il peut s'agir d'une s√©lection effectu√©e qui servira au glissement. Pour voir cet effet, s√©lectionnez une zone dans une page Web, puis cliquez dedans en maintenant le bouton de la souris et glissez la s√©lection. Un rendu translucide de la s√©lection apparaitra en suivant le pointeur de la souris. Il s'agit toutefois du comportement par d√©faut du glissement si aucun scrutateur n'a √©t√© d√©fini pour traiter les donn√©es.</p>\n<p>En HTML, except√© le comportement par d√©faut des images, des liens et des s√©lections, aucun autre √©l√©ment ne peut √™tre gliss√©. Tous les √©l√©ments XUL peuvent √™tre gliss√©s.</p>\n<p>Pour rendre un autre √©l√©ment HTML glissable, deux choses doivent √™tre faites&nbsp;:</p>\n<ul>\n  <li>D√©finissez l'attribut <code><a href=\"/fr/docs/Web/HTML/Global_attributes#attr-draggable\"><code>draggable</code></a></code> √† <code>true</code> sur l'√©l√©ment que vous voulez rendre glissable.</li>\n  <li>Ajoutez un scrutateur sur l'√©v√©nement <code><code><a href=\"/en-US/docs/Web/API/HTMLElement/dragstart_event\" title=\"Currently only available in English (US)\" class=\"only-in-en-us\">dragstart (en-US)</a></code></code> et d√©finissez les donn√©es du glissement dans ce scrutateur.</li>\n  <li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/DataTransfer/setData\"><code>D√©finir la donn√©e de glissement</code> <small>(en-US)</small></a> au sein du scrutateur ajout√© pr√©c√©demment.</li>\n</ul>\n<p>Voici un exemple qui permet √† une section de contenu d'√™tre gliss√©e&nbsp;:</p>\n<div class=\"code-example\"><pre class=\"brush: html notranslate\"><code><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">draggable</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>true<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">ondragstart</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>event.dataTransfer.setData(<span class=\"token punctuation\">'</span>text/plain<span class=\"token punctuation\">'</span>, <span class=\"token punctuation\">'</span>Ce texte peut √™tre gliss√©<span class=\"token punctuation\">'</span>)<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n  Ce texte <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>strong</span><span class=\"token punctuation\">&gt;</span></span>peut<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>strong</span><span class=\"token punctuation\">&gt;</span></span> √™tre gliss√©.\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n</code></pre></div>\n<p>L'attribut <code><a href=\"/fr/docs/Web/HTML/Global_attributes#attr-draggable\"><code>draggable</code></a></code> est d√©fini √† true, ce qui rend l'√©l√©ment glissant. Si cet attribut est omis ou d√©fini √† false, l'√©l√©ment ne serait pas glissant et le texte serait alors simplement s√©lectionn√©. Cet attribut peut √™tre plac√© sur n'importe quel √©l√©ment, y compris des images et des liens. Toutefois, pour les deux derniers, la valeur par d√©faut est true, donc vous n'utiliserez l'attribut <code><a href=\"/fr/docs/Web/HTML/Global_attributes#attr-draggable\"><code>draggable</code></a></code> ``que pour le d√©finir √† <code>false</code> pour interdire le glissement de ces √©l√©ments.</p>\n<p>Notez que lorsqu'un √©l√©ment est rendu glissable, le texte ou les autres √©l√©ments qu'il contient ne peuvent plus √™tre s√©lectionn√© de mani√®re classique en cliquant et d√©pla√ßant la souris. Au lieu de cela, l'utilisateur doit maintenir la touche <kbd>Alt</kbd> appuy√©e pour s√©lectionner le texte avec la souris, ou bien utilisez le clavier.</p>\n<p>Pour des √©l√©ments XUL, il n'est pas n√©cessaire d'utiliser l'attribut <code><a href=\"/fr/docs/Web/HTML/Global_attributes#attr-draggable\"><code>draggable</code></a></code>, car tous les √©l√©ments XUL sont glissables.</p>\n<div class=\"code-example\"><pre class=\"brush: html notranslate\"><code><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">label</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Glisse moi<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">ondragstart</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>event.dataTransfer.setData(<span class=\"token punctuation\">'</span>text/plain<span class=\"token punctuation\">'</span>, <span class=\"token punctuation\">'</span>Bouton √† glisser<span class=\"token punctuation\">'</span>);<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n</code></pre></div>"}},{"type":"prose","value":{"id":"d√©marrer_une_op√©ration_de_glissement","title":"D√©marrer une op√©ration de glissement","isH3":false,"content":"<p>Dans cet exemple, un scrutateur est ajout√© √† l'√©v√©nement dragstart en utilisant l'attribut <code>ondragstart</code>.</p>\n<div class=\"code-example\"><pre class=\"brush: html notranslate\"><code><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">draggable</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>true<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">ondragstart</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>event.dataTransfer.setData(<span class=\"token punctuation\">'</span>text/plain<span class=\"token punctuation\">'</span>, <span class=\"token punctuation\">'</span>Ce texte peut √™tre gliss√©<span class=\"token punctuation\">'</span>)<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n  Ce texte <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>strong</span><span class=\"token punctuation\">&gt;</span></span>peut<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>strong</span><span class=\"token punctuation\">&gt;</span></span> √™tre gliss√©.\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n</code></pre></div>\n<p>Lorsqu'un utilisateur commence un glissement, l'√©v√©nement dragstart est d√©clench√©. Dans cet exemple, le scrutateur dragstart a √©t√© ajout√© √† l'√©l√©ment √† d√©placer lui-m√™me. Vous pouvez toutefois mettre le scrutateur sur un anc√®tre plus √©lev√© car l'√©v√©nement drag diffuse comme le font les autres √©v√©nements. √Ä l'int√©rieur de l'√©v√©nement dragstart, vous devez sp√©cifier la donn√©e de glissement, l'image filligrane et les effets du glissement tels que d√©crits ci-dessous. Cependant, seule la donn√©e de glissement est n√©cessaire&nbsp;; l'image et les effets du glissement par d√©faut sont suffisants pour la majorit√© des cas.</p>"}},{"type":"prose","value":{"id":"donn√©e_de_glissement","title":"Donn√©e de glissement","isH3":false,"content":"<p>Tous les √©v√©nements de glissement ont une propri√©t√© appel√©e <a href=\"/Fr/GlisserD%C3%A9poser/DataTransfer\" class=\"page-not-created\" title=\"This is a link to an unwritten page\">dataTransfer</a> utilis√©e pour contenir la donn√©e de glissement.</p>\n<p>Lorsqu'un glissement a lieu, une donn√©e doit √™tre associ√©e au glissement pour identifier ce qui est en train de glisser. Par exemple, lors du glissement d'un texte s√©lectionn√© dans un champs de texte, la donn√©e associ√©e au glissement est le texte lui-m√™me. De m√™me, lors du glissement d'un lien, la donn√©e associ√©e est l'URL du lien.</p>\n<p>La donn√©e de glissement contient deux informations&nbsp;: son type ou format et sa valeur. Le format est une cha√Æne de caract√®re (telle que <a href=\"/Fr/GlisserD%C3%A9poser/Types_de_glissement_recommand%C3%A9s#text\" class=\"page-not-created\" title=\"This is a link to an unwritten page\">text/plain</a> pour un texte), et la valeur est un texte. Lorsqu'un glissement d√©marre, vous devez lui ajouter en fournissant un type et la donn√©e. Dans les scrutateurs des √©v√©nements <code>dragenter</code> et <code>dragover</code> au cours d'un glissement, vous pouvez v√©rifier les types de donn√©es et indiquer si un d√©p√¥t est permis ou non. Par exemple, une cible de d√©p√¥t qui accepte que des liens testera les types lien <a href=\"/Fr/GlisserD%C3%A9poser/Types_de_glissement_recommand%C3%A9s#link\" class=\"page-not-created\" title=\"This is a link to an unwritten page\">text/uri-list</a>. Pendant un √©v√©ment de d√©p√¥t, un scrutateur r√©cup√®rera la donn√©e gliss√©e et l'ins√®rera dans la zone de d√©p√¥t.</p>\n<p>Les types MIME habituels sont <a href=\"/Fr/GlisserD%C3%A9poser/Types_de_glissement_recommand%C3%A9s#text\" class=\"page-not-created\" title=\"This is a link to an unwritten page\">text/plain</a> ou <a href=\"/Fr/GlisserD%C3%A9poser/Types_de_glissement_recommand%C3%A9s#image\" class=\"page-not-created\" title=\"This is a link to an unwritten page\">image/jpeg</a>, mais vous pouvez cr√©er vos propres types. La liste des types les plus utilis√©s est disponible sur <a href=\"/Fr/GlisserD%C3%A9poser/Types_de_glissement\" class=\"page-not-created\" title=\"This is a link to an unwritten page\">cette page</a>.</p>\n<p>Un glissement peut fournir une donn√©e dans diff√©rents types. Ceci permet √† une donn√©e d'√™tre disponible dans des types sp√©cifiques, souvent personnalis√©s, toujours en fournissant un format pour les cibles ne supportant pas ces types sp√©cifiques. Habituellement, il s'agit toujours d'une version textuelle de type <a href=\"/Fr/GlisserD%C3%A9poser/Types_de_glissement_recommand%C3%A9s#text\" class=\"page-not-created\" title=\"This is a link to an unwritten page\">text/plain</a>. La donn√©e n'en sera qu'une repr√©sentation sous la forme d'un texte.</p>\n<p>Pour d√©finir une donn√©e dans un dataTransfer, utilisez la m√©thode <a href=\"/Fr/GlisserD%C3%A9poser/DataTransfer#setData\" class=\"page-not-created\" title=\"This is a link to an unwritten page\">setData</a>. Elle prend deux arguments qui sont le type de la donn√©e et sa valeur. Par exemple&nbsp;:</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code>event<span class=\"token punctuation\">.</span>dataTransfer<span class=\"token punctuation\">.</span><span class=\"token function\">setData</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"text/plain\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"Texte √† glisser\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<p>Dans ce cas, la valeur de la donn√©e est \"Texte √† glisser\" et son format est <a href=\"/Fr/GlisserD%C3%A9poser/Types_de_glissement_recommand%C3%A9s#text\" class=\"page-not-created\" title=\"This is a link to an unwritten page\">text/plain</a>.</p>\n<p>Vous pouvez fournir une donn√©e dans de multiples formats. Il suffit d'appeler la m√©thode <a href=\"/Fr/GlisserD%C3%A9poser/DataTransfer#setData\" class=\"page-not-created\" title=\"This is a link to an unwritten page\">setData</a> plusieurs fois avec chacun des formats. Vous devez l'appeler dans l'ordre du format le plus sp√©cifique au moins sp√©cifique.</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">var</span> dt <span class=\"token operator\">=</span> event<span class=\"token punctuation\">.</span>dataTransfer<span class=\"token punctuation\">;</span>\ndt<span class=\"token punctuation\">.</span><span class=\"token function\">setData</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"application/x-bookmark\"</span><span class=\"token punctuation\">,</span> bookmarkString<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\ndt<span class=\"token punctuation\">.</span><span class=\"token function\">setData</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"text/uri-list\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"http://www.mozilla.org\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\ndt<span class=\"token punctuation\">.</span><span class=\"token function\">setData</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"text/plain\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"http://www.mozilla.org\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<p>Ici, une donn√©e est ajout√©e avec trois types diff√©rents. Le premier type 'application/x-bookmark' est un type personnalis√©. Toutes les applications ne vont pas supporter ce type, mais vous pouvez l'utiliser pour le glissement entre des zones d'une m√™me application ou d'un m√™me site. En fournissant la donn√©e avec d'autres types, vous la rendez disponible √† moindre √©chelle pour d'autres applications. Le type 'application/x-bookmark' fournira ainsi plus de d√©tail √† l'application qu'avec les autres types qui ne seraient que de simples liens ou textes.</p>\n<p>Notez que cet exemple, <a href=\"/Fr/GlisserD%C3%A9poser/Types_de_glissement_recommand%C3%A9s#link\" class=\"page-not-created\" title=\"This is a link to an unwritten page\">text/uri-list</a> et <a href=\"/Fr/GlisserD%C3%A9poser/Types_de_glissement_recommand%C3%A9s#text\" class=\"page-not-created\" title=\"This is a link to an unwritten page\">text/plain</a> contiennent la m√™me donn√©e. C'est souvent le cas, mais pas forc√©ment n√©cessaire.</p>\n<p>Si vous essayez d'ajouter une donn√©e deux fois avec le m√™me format, alors la nouvelle donn√©e remplacera l'ancienne, mais √† la m√™me position que l'ancienne dans la liste.</p>\n<p>Vous pouvez effacer la donn√©e en utilisant la m√©thode <a href=\"/Fr/GlisserD%C3%A9poser/DataTransfer#clearData\" class=\"page-not-created\" title=\"This is a link to an unwritten page\">clearData</a>, avec un seul argument qui est le type de la donn√©e √† effacer.</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code>event<span class=\"token punctuation\">.</span>dataTransfer<span class=\"token punctuation\">.</span><span class=\"token function\">clearData</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"text/uri-list\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<p>L'argument de type de la m√©thode <a href=\"/Fr/GlisserD%C3%A9poser/DataTransfer#clearData\" class=\"page-not-created\" title=\"This is a link to an unwritten page\">clearData</a> est optionnel. S'il n'est pas pr√©cis√©, la donn√©e associ√©e √† tous les types est effac√©e. Et si aucune donn√©e √† glisser n'est ajout√©e, alors l'op√©ration de glissement ne s'effectue pas.</p>"}},{"type":"prose","value":{"id":"d√©finir_limage_filigrane_dun_glissement","title":"D√©finir l'image filigrane d'un glissement","isH3":false,"content":"<p>Lorsqu'un glissement a lieu, une image translucide est g√©n√©r√©e √† partir de l'origine du glissement (l'√©l√©ment d'origine ayant d√©clench√© l'√©v√©nement), et cette image suit le d√©placement de la souris. Elle est cr√©√©e automatiquement donc vous n'avez pas √† le faire vous m√™me. Toutefois, vous pouvez personnaliser cette image filigrane gr√¢ce √† <a href=\"/Fr/GlisserD%C3%A9poser/DataTransfer#setDragImage\" class=\"page-not-created\" title=\"This is a link to an unwritten page\">setDragImage</a>.</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code>event<span class=\"token punctuation\">.</span>dataTransfer<span class=\"token punctuation\">.</span><span class=\"token function\">setDragImage</span><span class=\"token punctuation\">(</span>image<span class=\"token punctuation\">,</span> xOffset<span class=\"token punctuation\">,</span> yOffset<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<p>Trois arguments sont n√©cessaires. Le premier est la r√©f√©rence √† une image. Cette r√©f√©rence pointera en g√©r√©nal vers un √©l√©ment image, mais elle peut pointer aussi vers un canvas ou vers tous autres √©l√©ments. L'image filigrane sera simplement g√©n√©r√©e telle qu'elle ressemble √† l'√©cran, et dessin√©e √† sa taille d'origine. Il est √©galement possible d'utiliser des images et des canvas qui ne sont pas dans un document, comme le montre cet exemple&nbsp;:</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">function</span> <span class=\"token function\">dragWithCustomImage</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">event</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">var</span> canvas <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">createElement</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"canvas\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  canvas<span class=\"token punctuation\">.</span>width <span class=\"token operator\">=</span> canvas<span class=\"token punctuation\">.</span>height <span class=\"token operator\">=</span> <span class=\"token number\">50</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">var</span> ctx <span class=\"token operator\">=</span> canvas<span class=\"token punctuation\">.</span><span class=\"token function\">getContext</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"2d\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  ctx<span class=\"token punctuation\">.</span>lineWidth <span class=\"token operator\">=</span> <span class=\"token number\">4</span><span class=\"token punctuation\">;</span>\n  ctx<span class=\"token punctuation\">.</span><span class=\"token function\">moveTo</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  ctx<span class=\"token punctuation\">.</span><span class=\"token function\">lineTo</span><span class=\"token punctuation\">(</span><span class=\"token number\">50</span><span class=\"token punctuation\">,</span> <span class=\"token number\">50</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  ctx<span class=\"token punctuation\">.</span><span class=\"token function\">moveTo</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">50</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  ctx<span class=\"token punctuation\">.</span><span class=\"token function\">lineTo</span><span class=\"token punctuation\">(</span><span class=\"token number\">50</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  ctx<span class=\"token punctuation\">.</span><span class=\"token function\">stroke</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">var</span> dt <span class=\"token operator\">=</span> event<span class=\"token punctuation\">.</span>dataTransfer<span class=\"token punctuation\">;</span>\n  dt<span class=\"token punctuation\">.</span><span class=\"token function\">setData</span><span class=\"token punctuation\">(</span><span class=\"token string\">'text/plain'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Data to Drag'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  dt<span class=\"token punctuation\">.</span><span class=\"token function\">setDragImage</span><span class=\"token punctuation\">(</span>canvas<span class=\"token punctuation\">,</span> <span class=\"token number\">25</span><span class=\"token punctuation\">,</span> <span class=\"token number\">25</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>Cette technique est utile pour dessiner des images filigranes personnalis√©es en utilisant l'√©l√©ment canvas.</p>\n<p>Les deuxi√®me et troisi√®me arguments de la m√©thode <a href=\"/Fr/GlisserD%C3%A9poser/DataTransfer#setDragImage\" class=\"page-not-created\" title=\"This is a link to an unwritten page\">setDragImage</a> sont les d√©calages de l'image par rapport au pointeur de la souris. Dans cet exemple, comme le canvas fait 50 pixels de large et 50 pixels de haut, nous utilisons son centre (soit 25 et 25) pour que l'image soit centr√©e sur le pointeur de la souris.</p>"}},{"type":"prose","value":{"id":"effets_du_glissement","title":"Effets du glissement","isH3":false,"content":"<p>Lors d'un glisser/d√©poser, plusieur op√©rations se d√©roulent. L'op√©ration <code>copy</code> indique que la donn√©e gliss√©e sera copi√©e de son emplacement d'origine au lieu de d√©pot. L'op√©ration <code>move</code> indique que la donn√©e gliss√©e sera d√©plac√©e, et l'op√©ration <code>link</code> indique une forme de relation ou de connexion entre l'origine et le lieu de d√©pot.</p>\n<p>Vous pouvez sp√©cifier laquelle de ces trois op√©rations sera autoris√©e au niveau de l'origine du glissement, en d√©finissant la propri√©t√© <a href=\"/Fr/GlisserD%C3%A9poser/DataTransfer#effectAllowed\" class=\"page-not-created\" title=\"This is a link to an unwritten page\">effectAllowed</a> dans un scrutateur d'√©v√©nement <code>dragstart</code>.</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code>event<span class=\"token punctuation\">.</span>dataTransfer<span class=\"token punctuation\">.</span>effectAllowed <span class=\"token operator\">=</span> <span class=\"token string\">\"copy\"</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<p>Dans cet exemple, seule une copie n'est autoris√©e. Vous pouvez combiner les valeurs de plusieurs fa√ßons&nbsp;:</p>\n<dl>\n  <dt id=\"none\">none</dt>\n  <dd>\n    <p>Aucune op√©ration permise</p>\n  </dd>\n  <dt id=\"copy\">copy</dt>\n  <dd>\n    <p>Copie uniquement</p>\n  </dd>\n  <dt id=\"move\">move</dt>\n  <dd>\n    <p>D√©placement uniquement</p>\n  </dd>\n  <dt id=\"link\">link</dt>\n  <dd>\n    <p>Lien uniquement</p>\n  </dd>\n  <dt id=\"copymove\">copyMove</dt>\n  <dd>\n    <p>Copie ou d√©placement uniquement</p>\n  </dd>\n  <dt id=\"copylink\">copyLink</dt>\n  <dd>\n    <p>Copie ou lien uniquement</p>\n  </dd>\n  <dt id=\"linkmove\">linkMove</dt>\n  <dd>\n    <p>Lien ou d√©placement uniquement</p>\n  </dd>\n  <dt id=\"all\">all</dt>\n  <dd>\n    <p>Copie, d√©placement ou lien</p>\n  </dd>\n</dl>\n<p>Notez que ces valeurs doivent √™tre √©crites exactement comme cela. Si vous ne modifiez pas la propri√©t√© <a href=\"/Fr/GlisserD%C3%A9poser/DataTransfer#effectAllowed\" class=\"page-not-created\" title=\"This is a link to an unwritten page\">effectAllowed</a>, alors tous les op√©rations seront permises comme pour la valeur 'all'. L'usage de cette propri√©t√© intervient seulement si vous souhaitez exclure des types sp√©cifiques.</p>\n<p>Pendant une op√©ration de glissement, un scrutateur pour les √©v√©nements <code>dragenter</code> ou <code>dragover</code> peut tester la propri√©t√© <a href=\"/Fr/GlisserD%C3%A9poser/DataTransfer#effectAllowed\" class=\"page-not-created\" title=\"This is a link to an unwritten page\">effectAllowed</a> afin de voir quelles op√©rations sont autoris√©es. La propri√©t√© associ√©e <a href=\"/Fr/GlisserD%C3%A9pose/DataTransfer#dropEffect\" class=\"page-not-created\" title=\"This is a link to an unwritten page\">dropEffect</a> doit √™tre d√©finie dans un de ces √©v√©nements pour sp√©cifier ce que chaque op√©ration aura √† faire. Les valeurs valides pour <a href=\"/Fr/GlisserD%C3%A9pose/DataTransfer#dropEffect\" class=\"page-not-created\" title=\"This is a link to an unwritten page\">dropEffect</a> sont <code>none</code>, <code>copy</code>, <code>move</code> ou <code>link</code>. Il n'y a pas de combinaison pour cette propri√©t√©.</p>\n<p>Pour les √©v√©nements <code>dragenter</code> et <code>dragover</code>, la propri√©t√© <a href=\"/Fr/GlisserD%C3%A9pose/DataTransfer#dropEffect\" class=\"page-not-created\" title=\"This is a link to an unwritten page\">dropEffect</a> est initialis√©e avec l'effet attendu par l'utilisateur. L'utilisateur peut modifier l'effet d√©sir√© en appuyant sur une touche de modification. Bien que les touches varient selon la plateforme, habituellement, il s'agit d'une combinaison des touches Maj et Control qui permettent de copier, d√©placer et cr√©er un raccourci. Le pointeur de la souris change de forme pour montrer l'op√©ration souhait√©e, par exemple un signe + √† c√¥t√© de la souris pour une copie.</p>\n<p>Vous pouvez modifier les propri√©t√©s <a href=\"/Fr/GlisserD%C3%A9poser/DataTransfer#effectAllowed\" class=\"page-not-created\" title=\"This is a link to an unwritten page\">effectAllowed</a> et <a href=\"/Fr/GlisserD%C3%A9pose/DataTransfer#dropEffect\" class=\"page-not-created\" title=\"This is a link to an unwritten page\">dropEffect</a> pendant les √©v√©nements <code>dragenter</code> ou <code>dragover</code>, si par exemple une cible ne supporte qu'un seul type d'op√©ration. La modification de la propri√©t√© <a href=\"/Fr/GlisserD%C3%A9poser/DataTransfer#effectAllowed\" class=\"page-not-created\" title=\"This is a link to an unwritten page\">effectAllowed</a> vous permet de sp√©cifier les op√©rations autoris√©es sur une cible donn√©e. Par exemple, mettre une propri√©t√© <code>copyMove</code> permet des op√©ration de copie ou de d√©placement, mais pas de cr√©er un lien raccourci.</p>\n<p>Vous pouvez modifier la propri√©t√© <a href=\"/Fr/GlisserD%C3%A9pose/DataTransfer#dropEffect\" class=\"page-not-created\" title=\"This is a link to an unwritten page\">dropEffect</a> en rempla√ßant l'effet de l'utilisateur, et forcer √† obtenir une op√©ration sp√©cifique. Notez que cet effet doit √™tre un de ceux list√© dans la propri√©t√© <a href=\"/Fr/GlisserD%C3%A9poser/DataTransfer#effectAllowed\" class=\"page-not-created\" title=\"This is a link to an unwritten page\">effectAllowed</a>, sinon une valeur alternative sera attribu√©e.</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code>event<span class=\"token punctuation\">.</span>dataTransfer<span class=\"token punctuation\">.</span>effectAllowed <span class=\"token operator\">=</span> <span class=\"token string\">\"copyMove\"</span><span class=\"token punctuation\">;</span>\nevent<span class=\"token punctuation\">.</span>dataTransfer<span class=\"token punctuation\">.</span>dropEffect <span class=\"token operator\">=</span> <span class=\"token string\">\"copy\"</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<p>Dans cet exemple, la copie est l'effet propos√© qui est inclus dans la liste des effets autoris√©s.</p>\n<p>Vous pouvez utiliser la valeur <code>none</code> pour interdir tout d√©p√¥t √† cet emplacement.</p>"}},{"type":"prose","value":{"id":"sp√©cifier_les_cibles_de_d√©p√¥t","title":"Sp√©cifier les cibles de d√©p√¥t","isH3":false,"content":"<p>Un scrutateur pour les √©v√©nements <code>dragenter</code> et <code>dragover</code> est utilis√© pour indiquer des cibles de d√©p√¥t valides, c'est-√†-dire l√† o√π les items pourront √™tre d√©pos√©s. La plupart des zones d'une page Web ne sont pas des endroits valides pour d√©poser des donn√©es. Ainsi, le comportement par d√©faut pour ces √©v√©nements ne permet pas un d√©p√¥t.</p>\n<p>Si vous voulez autoriser un d√©p√¥t, vous devez emp√™cher le comportement par d√©faut en annulant l'√©v√©nement. Il suffit soit de retourner <code>false</code> √† partir d'un scrutateur d'√©v√©nement, ou par l'appel de la m√©thode √©v√©nementielle <a href=\"/fr/docs/DOM/event.preventDefault\">event.preventDefault</a>. Cette derni√®re solution est plus faisable avec une fonction d√©finie dans un script s√©par√©.</p>\n<div class=\"code-example\"><pre class=\"brush: html notranslate\"><code><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">ondragover</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>return false<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">ondragover</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>event.preventDefault()<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n</code></pre></div>\n<p>L'appel de la m√©thode <a href=\"/fr/docs/DOM/event.preventDefault\">event.preventDefault</a> pendant les √©v√©nements <code>dragenter</code> et <code>dragover</code> indiquera qu'un d√©p√¥t est permis √† cet endroit. Toutefois, il est fr√©quent d'appeler la m√©thode <a href=\"/fr/docs/DOM/event.preventDefault\">event.preventDefault</a> seulement dans certaines situations, par exemple si un lien est en train d'√™tre gliss√©. Pour cela, appelez une fonction qui testera une condition et annulera l'√©v√©nement seulement si cette condition est rencontr√©e. Dans le cas contraire, il suffit de ne pas annuler l'√©v√©nement et aucun d√©p√¥t ne se r√©alisera si l'utilisateur lache le bouton de la souris.</p>\n<p>Il est plus fr√©quent d'accepter ou non un d√©p√¥t en fonction du type de la donn√©e gliss√©e. Par exemple, permettre les images ou les liens, ou bien les deux. Pour cela, testez les <a href=\"/fr/GlisserD%C3%A9poser/DataTransfer#types\" class=\"page-not-created\" title=\"This is a link to an unwritten page\">types</a> de l'objet <code>dataTransfer</code>. Les types sont sous la forme d'une liste de cha√Ænes de caract√®res ajout√©es au d√©but du glissement, du plus signifiant au moins signifiant.</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">function</span> <span class=\"token function\">doDragOver</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">event</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">var</span> isLink <span class=\"token operator\">=</span> event<span class=\"token punctuation\">.</span>dataTransfer<span class=\"token punctuation\">.</span>types<span class=\"token punctuation\">.</span><span class=\"token function\">contains</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"text/uri-list\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>isLink<span class=\"token punctuation\">)</span>\n    event<span class=\"token punctuation\">.</span><span class=\"token function\">preventDefault</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>Dans cet exemple, la m√©thode <code>contains</code> est utilis√©e pour v√©rifier si le type <a href=\"/fr/GlisserD%C3%A9poser/Types_de_glissement_recommand%C3%A9s#link\" class=\"page-not-created\" title=\"This is a link to an unwritten page\">text/uri-list</a> est pr√©sent dans la liste des types. S'il l'est, l'√©v√©nement est annul√©, ce qui autorise un d√©p√¥t. Si la donn√©e ne contient pas un lien, l'√©v√©nement ne sera pas annul√© et le d√©p√¥t ne sera pas autoris√© √† cet endroit.</p>\n<p>Vous pouvez √©galement d√©finir une propri√©t√© <a href=\"/fr/GlisserD%C3%A9poser/DataTransfer#effectAllowed\" class=\"page-not-created\" title=\"This is a link to an unwritten page\">effectAllowed</a> ou <a href=\"/fr/GlisserD%C3%A9poser/DataTransfer#dropEffect\" class=\"page-not-created\" title=\"This is a link to an unwritten page\">dropEffect</a> ou les deux √† la fois si vous souhaitez √™tre plus pr√©cis sur le type d'op√©ration autoris√©. Naturellement, le changement de propri√©t√© n'aura aucun effet si vous n'avez pas annul√© l'√©v√©nement.</p>"}},{"type":"prose","value":{"id":"retour_dinformation_du_d√©p√¥t","title":"Retour d'information du d√©p√¥t","isH3":false,"content":"<p>Il y a de nombreuses mani√®res d'indiquer √† l'utilisateur que le d√©pot est autoris√© dans une certaine zone. Le pointeur de la souris va √™tre mis √† jour en fonction de la valeur de la propri√©t√© <a href=\"/en-US/DragDrop/DataTransfer#dropeffect.28.29\">dropEffect</a>. L'apparence exacte d√©pend de la plateforme de l'utilisateur, g√©n√©ralement il s'agit d'un icone repr√©sentant un signe plus qui appara√Æt pour une copie par exemple, et un 'impossible de d√©poser ici' peut appara√Ætre quand le d√©p√¥t n'est pas autoris√©. Cette information contextuelle est suffisante dans la plupart des cas.</p>\n<p>De plus, vous pouvez aussi mettre √† jour l'interface utilisateur en surlignant au besoin. Pour un simple surlignage, vous pouvez utiliser la pseudo-classe <code>-moz-drag-over</code>sur la cible du d√©p√¥t.</p>\n<div class=\"code-example\"><pre class=\"brush: css notranslate\"><code><span class=\"token selector\">.droparea:-moz-drag-over</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">border</span><span class=\"token punctuation\">:</span> 1px solid black<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>Dans cet example, l'√©lement comportant la classe <code>droparea</code> va recevoir un bord noir de un pixel tant que la cible sera valide, ce qui est le cas, si la m√©thode <a href=\"/en-US/DOM/event.preventDefault\">event.preventDefault</a> est appel√© durant l'√©venement <code>dragenter</code>. Il est √† noter que vous devez annuler l'√©venement <code>dragenter</code> de cette pseudo-classe tant que l'√©tat n'est pas verifi√© par l'√©venement <code>dragover</code>.</p>\n<p>For more complex visual effects, you can also perform other operations during the <code>dragenter</code> event, for example, by inserting an element at the location where the drop will occur. For example, this might be an insertion marker or an element that represents the dragged element in its new location. To do this, you could create an <a href=\"/en-US/XUL/image\">image</a> or <a href=\"/en-US/XUL/separator\">separator</a> element for example, and simply insert it into the document during the <code>dragenter</code> event.</p>\n<p>The <code>dragover</code> event will fire at the element the mouse is pointing at. Naturally, you may need to move the insertion marker around a <code>dragover</code> event as well. You can use the event's <a href=\"/en-US/DOM/event.clientX\">clientX</a> and <a href=\"/en-US/DOM/event.clientY\">clientY</a> properties as with other mouse events to determine the location of the mouse pointer.</p>\n<p>Finally, the <code>dragleave</code> event will fire at an element when the drag leaves the element. This is the time when you should remove any insertion markers or highlighting. You do not need to cancel this event. Any highlighting or other visual effects specified using the <code>-moz-drag-over</code> pseudoclass will be removed automatically. The <code>dragleave</code> event will always fire, even if the drag is cancelled, so you can always ensure that any insertion point cleanup can be done during this event.</p>"}},{"type":"prose","value":{"id":"performing_a_drop","title":"Performing a Drop","isH3":false,"content":"<p>When the user releases the mouse, the drag and drop operation ends. If the mouse was released over an element that is a valid drop target, that is, one that cancelled the last <code>dragenter</code> or <code>dragover</code> event, then the drop will be successful, and a <code>drop</code> event will fire at the target. Otherwise, the drag operation is cancelled and no <code>drop</code> event is fired.</p>\n<p>During the <code>drop</code> event, you should retrieve that data that was dropped from the event and insert it at the drop location. You can use the <a href=\"/en-US/DragDrop/DataTransfer#dropeffect.28.29\">dropEffect</a> property to determine which drag operation was desired.</p>\n<p>As with all drag related events, the event's <code>dataTransfer</code> property will hold the data that is being dragged. The <a href=\"/en-US/DragDrop/DataTransfer#getdata.28.29\">getData</a> method may be used to retrieve the data again.</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">function</span> <span class=\"token function\">onDrop</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">event</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">var</span> data <span class=\"token operator\">=</span> event<span class=\"token punctuation\">.</span>dataTransfer<span class=\"token punctuation\">.</span><span class=\"token function\">getData</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"text/plain\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  event<span class=\"token punctuation\">.</span>target<span class=\"token punctuation\">.</span>textContent <span class=\"token operator\">=</span> data<span class=\"token punctuation\">;</span>\n  event<span class=\"token punctuation\">.</span><span class=\"token function\">preventDefault</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>The <a href=\"/en-US/DragDrop/DataTransfer#getdata.28.29\">getData</a> method takes one argument, the type of data to retrieve. It will return the string value that was set when the <a href=\"/en-US/DragDrop/DataTransfer#setdata.28.29\">setData</a> was called at the beginning of the drag operation. An empty string will be returned if data of that type does not exist. Naturally though, you would likely know that the right type of data was available, as it was previously checked during a <code>dragover</code> event.</p>\n<p>In the example here, once we have retrieved the data, we insert the string as the textual content of the target. This has the effect of inserting the dragged text where it was dropped, assuming that the drop target is an area of text such as a <code>p</code> or <code>div</code> element.</p>\n<p>In a web page, you should call the <a href=\"/en-US/DOM/event.preventDefault\">preventDefault</a> method of the event if you have accepted the drop so that the default browser handling does not handle the droppped data as well. For example, when a link is dragged to a web page, Firefox will open the link. By cancelling the event, this behaviour will be prevented.</p>\n<p>You can retrieve other types of data as well. If the data is a link, it should have the type <a href=\"/en-US/DragDrop/Recommended_Drag_Types#link\">text/uri-list</a>. You could then insert a link into the content.</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">function</span> <span class=\"token function\">doDrop</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">event</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">var</span> links <span class=\"token operator\">=</span> event<span class=\"token punctuation\">.</span>dataTransfer<span class=\"token punctuation\">.</span><span class=\"token function\">getData</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"text/uri-list\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">split</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\\n\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">for</span> <span class=\"token function\">each</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token keyword\">var</span> link <span class=\"token keyword\">in</span> links</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>link<span class=\"token punctuation\">.</span><span class=\"token function\">indexOf</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"#\"</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\n      <span class=\"token keyword\">continue</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">var</span> newlink <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">createElement</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"a\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    newlink<span class=\"token punctuation\">.</span>href <span class=\"token operator\">=</span> link<span class=\"token punctuation\">;</span>\n    newlink<span class=\"token punctuation\">.</span>textContent <span class=\"token operator\">=</span> link<span class=\"token punctuation\">;</span>\n    event<span class=\"token punctuation\">.</span>target<span class=\"token punctuation\">.</span><span class=\"token function\">appendChild</span><span class=\"token punctuation\">(</span>newlink<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  event<span class=\"token punctuation\">.</span><span class=\"token function\">preventDefault</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>This example inserts a link from the dragged data. As you might be able to guess from the name, the <a href=\"/en-US/DragDrop/Recommended_Drag_Types#link\">text/uri-list</a> type actually may contain a list of URLs, each on a separate line. In this code, we use the <a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/split\">split</a> to split the string into lines, then iterate over the list of lines, inserting each as a link into the document. Note also that we skip links starting with a number sign (#) as these are comments.</p>\n<p>For simple cases, you can use the special type <code>URL</code> to just retrieve the first valid URL in the list. For example:</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">var</span> link <span class=\"token operator\">=</span> event<span class=\"token punctuation\">.</span>dataTransfer<span class=\"token punctuation\">.</span><span class=\"token function\">getData</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"URL\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<p>This eliminates the need to check for comments or iterate through lines yourself, however it is limited to only the first URL in the list.</p>\n<p>The <code>URL</code> type is a special type used only as a shorthand, and it does not appear within the list of types specified in the <a href=\"/en-US/DragDrop/DataTransfer#types.28.29\">types</a> property.</p>\n<p>Sometimes you may support a number of different formats, and you want to retrieve the data that is most specific that is supported. In this example, three formats are support by a drop target.</p>\n<p>The following example returns the data associated with the best supported format:</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">function</span> <span class=\"token function\">doDrop</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">event</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">var</span> types <span class=\"token operator\">=</span> event<span class=\"token punctuation\">.</span>dataTransfer<span class=\"token punctuation\">.</span>types<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">var</span> supportedTypes <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"application/x-moz-file\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"text/uri-list\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"text/plain\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n  types <span class=\"token operator\">=</span> supportedTypes<span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">value</span><span class=\"token punctuation\">)</span> types<span class=\"token punctuation\">.</span><span class=\"token function\">contains</span><span class=\"token punctuation\">(</span>value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>types<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">var</span> data <span class=\"token operator\">=</span> event<span class=\"token punctuation\">.</span>dataTransfer<span class=\"token punctuation\">.</span><span class=\"token function\">getData</span><span class=\"token punctuation\">(</span>types<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  event<span class=\"token punctuation\">.</span><span class=\"token function\">preventDefault</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>This method relies on JavaScript functionality available in Firefox 3. However the code could be adjusted to support other platforms.</p>"}},{"type":"prose","value":{"id":"finishing_a_drag","title":"Finishing a Drag","isH3":false,"content":"<p>Once the drag is complete, a <code>dragend</code> is fired at the source of the drag (the same element that received the <code>dragstart</code> event). This event will fire if the drag was successful or if it was cancelled. However, you can use the <a href=\"/en-US/DragDrop/DataTransfer#dropeffect.28.29\">dropEffect</a> to determine what drop operation occurred.</p>\n<p>If the <a href=\"/en-US/DragDrop/DataTransfer#dropeffect.28.29\">dropEffect</a> property has the value <code>none</code> during a <code>dragend</code>, then the drag was cancelled. Otherwise, the effect specifies which operation was performed. The source can use this information after a move operation to remove the dragged item from the old location. The <a href=\"/en-US/DragDrop/DataTransfer#mozusercancelled.28.29\">mozUserCancelled</a> property will be set to true if the user cancelled the drag (by pressing Escape), and false if the drag was cancelled for other reasons such as an invalid drop target, or if was successful.</p>\n<p>A drop can occur inside the same window or over another application. The <code>dragend</code> event will always fire regardless. The event's <a href=\"/en-US/DOM/event.screenX\">screenX</a> and <a href=\"/en-US/DOM/event.screenY\">screenY</a> properties will be set to the screen coordinate where the drop occurred.</p>\n<p>After the <code>dragend</code> event has finished propagating, the drag and drop operation is complete.</p>"}}],"toc":[{"text":"L'attribut draggable","id":"lattribut_draggable"},{"text":"D√©marrer une op√©ration de glissement","id":"d√©marrer_une_op√©ration_de_glissement"},{"text":"Donn√©e de glissement","id":"donn√©e_de_glissement"},{"text":"D√©finir l'image filigrane d'un glissement","id":"d√©finir_limage_filigrane_dun_glissement"},{"text":"Effets du glissement","id":"effets_du_glissement"},{"text":"Sp√©cifier les cibles de d√©p√¥t","id":"sp√©cifier_les_cibles_de_d√©p√¥t"},{"text":"Retour d'information du d√©p√¥t","id":"retour_dinformation_du_d√©p√¥t"},{"text":"Performing a Drop","id":"performing_a_drop"},{"text":"Finishing a Drag","id":"finishing_a_drag"}],"summary":"Ce qui suit d√©crit les √©tapes qui se d√©roulent lors d'un Glisser D√©poser.","popularity":0,"modified":"2022-10-01T03:41:16.000Z","other_translations":[{"title":"Drag operations","locale":"en-US","native":"English (US)"},{"title":"„Éâ„É©„ÉÉ„Ç∞Êìç‰Ωú","locale":"ja","native":"Êó•Êú¨Ë™û"},{"title":"Drag Operations","locale":"ko","native":"ÌïúÍµ≠Ïñ¥"},{"title":"Drag Operations","locale":"ru","native":"–†—É—Å—Å–∫–∏–π"},{"title":"ÊãñÊãΩÊìç‰Ωú","locale":"zh-CN","native":"‰∏≠Êñá (ÁÆÄ‰Ωì)"},{"title":"ÊãñÊõ≥Êìç‰Ωú","locale":"zh-TW","native":"Ê≠£È´î‰∏≠Êñá (ÁπÅÈ´î)"}],"source":{"folder":"fr/web/api/html_drag_and_drop_api/drag_operations","github_url":"https://github.com/mdn/translated-content/blob/main/files/fr/web/api/html_drag_and_drop_api/drag_operations/index.md","last_commit_url":"https://github.com/mdn/translated-content/commit/921c46a374ab0a9f4cc809af0370f8c412e54701","filename":"index.md"},"parents":[{"uri":"/fr/docs/Web","title":"Technologies web pour d√©veloppeurs"},{"uri":"/fr/docs/Web/API","title":"R√©f√©rence Web API"},{"uri":"/fr/docs/Web/API/HTML_Drag_and_Drop_API","title":"Glisser et d√©poser"},{"uri":"/fr/docs/Web/API/HTML_Drag_and_Drop_API/Drag_operations","title":"Op√©rations de glissement"}],"pageTitle":"Op√©rations de glissement - R√©f√©rence Web API | MDN","noIndexing":false}}</script></body></html>