{"doc":{"isMarkdown":true,"isTranslated":true,"isActive":true,"flaws":{},"title":"Exemple de navigation en Ajax","mdn_url":"/fr/docs/Web/API/History_API/Example","locale":"fr","native":"Français","sidebarHTML":"","body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<p>Voici un exemple de site web AJAX composé uniquement de trois pages (<em>page_un.php</em>, <em>page_deux.php</em> et <em>page_trois.php</em>). Pour tester cet exemple, merci de créer les fichiers suivants :</p>\n<p><strong>page_un.php</strong>:</p>\n<div class=\"code-example\"><pre class=\"brush: php notranslate\"><code><span class=\"token prolog\">&lt;?php\n    $page_title = \"Page un\";\n    \n    $as_json = false;\n    if (isset($_GET[\"vie\n        $as_json = \n        ob_start();\n    } else {\n?&gt;</span>\n<span class=\"token doctype\"><span class=\"token punctuation\">&lt;!</span><span class=\"token doctype-tag\">doctype</span> <span class=\"token name\">html</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>html</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>head</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token php language-php\"><span class=\"token delimiter important\">&lt;?php</span>\n        <span class=\"token keyword\">include</span> <span class=\"token string double-quoted-string\">\"include/header.php\"</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">echo</span> <span class=\"token string double-quoted-string\">\"&lt;title&gt;\"</span> <span class=\"token operator\">.</span> <span class=\"token variable\">$page_title</span> <span class=\"token operator\">.</span> <span class=\"token string double-quoted-string\">\"&lt;/title&gt;\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token delimiter important\">?&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>head</span><span class=\"token punctuation\">&gt;</span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">&gt;</span></span>\n\n<span class=\"token php language-php\"><span class=\"token delimiter important\">&lt;?php</span> <span class=\"token keyword\">include</span> <span class=\"token string double-quoted-string\">\"include/before_content.php\"</span><span class=\"token punctuation\">;</span> <span class=\"token delimiter important\">?&gt;</span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">&gt;</span></span>This paragraph is shown only when the navigation starts from <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>strong</span><span class=\"token punctuation\">&gt;</span></span>first_page.php<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>strong</span><span class=\"token punctuation\">&gt;</span></span>.<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">&gt;</span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>ajax-content<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token php language-php\"><span class=\"token delimiter important\">&lt;?php</span> <span class=\"token punctuation\">}</span> <span class=\"token delimiter important\">?&gt;</span></span>\n\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">&gt;</span></span>This is the content of <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>strong</span><span class=\"token punctuation\">&gt;</span></span>first_page.php<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>strong</span><span class=\"token punctuation\">&gt;</span></span>.<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">&gt;</span></span>\n\n<span class=\"token php language-php\"><span class=\"token delimiter important\">&lt;?php</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token variable\">$as_json</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">echo</span> <span class=\"token function\">json_encode</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">array</span><span class=\"token punctuation\">(</span><span class=\"token string double-quoted-string\">\"page\"</span> <span class=\"token operator\">=&gt;</span> <span class=\"token variable\">$page_title</span><span class=\"token punctuation\">,</span> <span class=\"token string double-quoted-string\">\"content\"</span> <span class=\"token operator\">=&gt;</span> <span class=\"token function\">ob_get_clean</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n<span class=\"token delimiter important\">?&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">&gt;</span></span>This paragraph is shown only when the navigation starts from <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>strong</span><span class=\"token punctuation\">&gt;</span></span>first_page.php<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>strong</span><span class=\"token punctuation\">&gt;</span></span>.<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">&gt;</span></span>\n\n<span class=\"token php language-php\"><span class=\"token delimiter important\">&lt;?php</span>\n        <span class=\"token keyword\">include</span> <span class=\"token string double-quoted-string\">\"include/after_content.php\"</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">echo</span> <span class=\"token string double-quoted-string\">\"&lt;/body&gt;\\n&lt;/html&gt;\"</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token delimiter important\">?&gt;</span></span>\n</code></pre></div>\n<p><strong>page_deux.php</strong>:</p>\n<div class=\"code-example\"><pre class=\"brush: php notranslate\"><code><span class=\"token prolog\">&lt;?php\n    $page_title = \"Page deux\";\n    \n    $as_json = false;\n    if (isset($_GET[\"vie\n        $as_json = \n        ob_start();\n    } else {\n?&gt;</span>\n<span class=\"token doctype\"><span class=\"token punctuation\">&lt;!</span><span class=\"token doctype-tag\">doctype</span> <span class=\"token name\">html</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>html</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>head</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token php language-php\"><span class=\"token delimiter important\">&lt;?php</span>\n        <span class=\"token keyword\">include</span> <span class=\"token string double-quoted-string\">\"include/header.php\"</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">echo</span> <span class=\"token string double-quoted-string\">\"&lt;title&gt;\"</span> <span class=\"token operator\">.</span> <span class=\"token variable\">$page_title</span> <span class=\"token operator\">.</span> <span class=\"token string double-quoted-string\">\"&lt;/title&gt;\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token delimiter important\">?&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>head</span><span class=\"token punctuation\">&gt;</span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">&gt;</span></span>\n\n<span class=\"token php language-php\"><span class=\"token delimiter important\">&lt;?php</span> <span class=\"token keyword\">include</span> <span class=\"token string double-quoted-string\">\"include/before_content.php\"</span><span class=\"token punctuation\">;</span> <span class=\"token delimiter important\">?&gt;</span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">&gt;</span></span>This paragraph is shown only when the navigation starts from <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>strong</span><span class=\"token punctuation\">&gt;</span></span>second_page.php<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>strong</span><span class=\"token punctuation\">&gt;</span></span>.<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">&gt;</span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>ajax-content<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token php language-php\"><span class=\"token delimiter important\">&lt;?php</span> <span class=\"token punctuation\">}</span> <span class=\"token delimiter important\">?&gt;</span></span>\n\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">&gt;</span></span>This is the content of <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>strong</span><span class=\"token punctuation\">&gt;</span></span>second_page.php<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>strong</span><span class=\"token punctuation\">&gt;</span></span>.<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">&gt;</span></span>\n\n<span class=\"token php language-php\"><span class=\"token delimiter important\">&lt;?php</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token variable\">$as_json</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">echo</span> <span class=\"token function\">json_encode</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">array</span><span class=\"token punctuation\">(</span><span class=\"token string double-quoted-string\">\"page\"</span> <span class=\"token operator\">=&gt;</span> <span class=\"token variable\">$page_title</span><span class=\"token punctuation\">,</span> <span class=\"token string double-quoted-string\">\"content\"</span> <span class=\"token operator\">=&gt;</span> <span class=\"token function\">ob_get_clean</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n<span class=\"token delimiter important\">?&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">&gt;</span></span>This paragraph is shown only when the navigation starts from <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>strong</span><span class=\"token punctuation\">&gt;</span></span>second_page.php<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>strong</span><span class=\"token punctuation\">&gt;</span></span>.<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">&gt;</span></span>\n\n<span class=\"token php language-php\"><span class=\"token delimiter important\">&lt;?php</span>\n        <span class=\"token keyword\">include</span> <span class=\"token string double-quoted-string\">\"include/after_content.php\"</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">echo</span> <span class=\"token string double-quoted-string\">\"&lt;/body&gt;\\n&lt;/html&gt;\"</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token delimiter important\">?&gt;</span></span>\n</code></pre></div>\n<p><strong>page_trois.php</strong>:</p>\n<div class=\"code-example\"><pre class=\"brush: php notranslate\"><code><span class=\"token php language-php\"><span class=\"token delimiter important\">&lt;?php</span>\n    <span class=\"token variable\">$page_title</span> <span class=\"token operator\">=</span> <span class=\"token string double-quoted-string\">\"Page trois\"</span><span class=\"token punctuation\">;</span>\n    <span class=\"token variable\">$page_content</span> <span class=\"token operator\">=</span> <span class=\"token string double-quoted-string\">\"&lt;p&gt;Ceci est le contenu de la &lt;strong&gt;page_trois.php&lt;/strong&gt;. Ce contenu est stocké dans une variable PHP.&lt;/p&gt;\"</span><span class=\"token punctuation\">;</span>\n    \n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">isset</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$_GET</span><span class=\"token punctuation\">[</span><span class=\"token string double-quoted-string\">\"view_as\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token variable\">$_GET</span><span class=\"token punctuation\">[</span><span class=\"token string double-quoted-string\">\"view_as\"</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">==</span> <span class=\"token string double-quoted-string\">\"json\"</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">echo</span> <span class=\"token function\">json_encode</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">array</span><span class=\"token punctuation\">(</span><span class=\"token string double-quoted-string\">\"page\"</span> <span class=\"token operator\">=&gt;</span> <span class=\"token variable\">$page_title</span><span class=\"token punctuation\">,</span> <span class=\"token string double-quoted-string\">\"content\"</span> <span class=\"token operator\">=&gt;</span> <span class=\"token variable\">$page_content</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n<span class=\"token delimiter important\">?&gt;</span></span>\n<span class=\"token doctype\"><span class=\"token punctuation\">&lt;!</span><span class=\"token doctype-tag\">doctype</span> <span class=\"token name\">html</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>html</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>head</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token php language-php\"><span class=\"token delimiter important\">&lt;?php</span>\n        <span class=\"token keyword\">include</span> <span class=\"token string double-quoted-string\">\"include/header.php\"</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">echo</span> <span class=\"token string double-quoted-string\">\"&lt;title&gt;\"</span> <span class=\"token operator\">.</span> <span class=\"token variable\">$page_title</span> <span class=\"token operator\">.</span> <span class=\"token string double-quoted-string\">\"&lt;/title&gt;\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token delimiter important\">?&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>head</span><span class=\"token punctuation\">&gt;</span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">&gt;</span></span>\n\n<span class=\"token php language-php\"><span class=\"token delimiter important\">&lt;?php</span> <span class=\"token keyword\">include</span> <span class=\"token string double-quoted-string\">\"include/before_content.php\"</span><span class=\"token punctuation\">;</span> <span class=\"token delimiter important\">?&gt;</span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">&gt;</span></span>This paragraph is shown only when the navigation starts from <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>strong</span><span class=\"token punctuation\">&gt;</span></span>third_page.php<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>strong</span><span class=\"token punctuation\">&gt;</span></span>.<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">&gt;</span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>ajax-content<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token php language-php\"><span class=\"token delimiter important\">&lt;?php</span> <span class=\"token keyword\">echo</span> <span class=\"token variable\">$page_content</span><span class=\"token punctuation\">;</span> <span class=\"token delimiter important\">?&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">&gt;</span></span>This paragraph is shown only when the navigation starts from <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>strong</span><span class=\"token punctuation\">&gt;</span></span>third_page.php<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>strong</span><span class=\"token punctuation\">&gt;</span></span>.<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">&gt;</span></span>\n\n<span class=\"token php language-php\"><span class=\"token delimiter important\">&lt;?php</span>\n        <span class=\"token keyword\">include</span> <span class=\"token string double-quoted-string\">\"include/after_content.php\"</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">echo</span> <span class=\"token string double-quoted-string\">\"&lt;/body&gt;\\n&lt;/html&gt;\"</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token delimiter important\">?&gt;</span></span>\n</code></pre></div>\n<p><strong>css/style.css</strong>:</p>\n<div class=\"code-example\"><pre class=\"brush: css notranslate\"><code><span class=\"token selector\">#ajax-loader</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">position</span><span class=\"token punctuation\">:</span> fixed<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">display</span><span class=\"token punctuation\">:</span> table<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">top</span><span class=\"token punctuation\">:</span> 0<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">left</span><span class=\"token punctuation\">:</span> 0<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">width</span><span class=\"token punctuation\">:</span> 100%<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">height</span><span class=\"token punctuation\">:</span> 100%<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token selector\">#ajax-loader &gt; div</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">display</span><span class=\"token punctuation\">:</span> table-cell<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">width</span><span class=\"token punctuation\">:</span> 100%<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">height</span><span class=\"token punctuation\">:</span> 100%<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">vertical-align</span><span class=\"token punctuation\">:</span> middle<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">text-align</span><span class=\"token punctuation\">:</span> center<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">background-color</span><span class=\"token punctuation\">:</span> #000000<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">opacity</span><span class=\"token punctuation\">:</span> 0.65<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p><strong>include/after_content.php</strong>:</p>\n<div class=\"code-example\"><pre class=\"brush: php notranslate\"><code><span class=\"token operator\">&lt;</span>p<span class=\"token operator\">&gt;</span>Ceci est le pied<span class=\"token operator\">-</span>de<span class=\"token operator\">-</span>page<span class=\"token operator\">.</span> Il est commun à toutes les pages ajax<span class=\"token operator\">.</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>p<span class=\"token operator\">&gt;</span>\n</code></pre></div>\n<p><strong>include/before_content.php</strong>:</p>\n<div class=\"code-example\"><pre class=\"brush: php notranslate\"><code><span class=\"token operator\">&lt;</span>p<span class=\"token operator\">&gt;</span>\n<span class=\"token punctuation\">[</span> <span class=\"token operator\">&lt;</span>a <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string double-quoted-string\">\"ajax-nav\"</span> href<span class=\"token operator\">=</span><span class=\"token string double-quoted-string\">\"page_un.php\"</span><span class=\"token operator\">&gt;</span>Premier exemple<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>a<span class=\"token operator\">&gt;</span>\n<span class=\"token operator\">|</span> <span class=\"token operator\">&lt;</span>a <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string double-quoted-string\">\"ajax-nav\"</span> href<span class=\"token operator\">=</span><span class=\"token string double-quoted-string\">\"page_deux.php\"</span><span class=\"token operator\">&gt;</span>Second exemple<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>a<span class=\"token operator\">&gt;</span>\n<span class=\"token operator\">|</span> <span class=\"token operator\">&lt;</span>a <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string double-quoted-string\">\"ajax-nav\"</span> href<span class=\"token operator\">=</span><span class=\"token string double-quoted-string\">\"page_trois.php\"</span><span class=\"token operator\">&gt;</span>Troisième exemple<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>a<span class=\"token operator\">&gt;</span>\n<span class=\"token operator\">|</span> <span class=\"token operator\">&lt;</span>a <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string double-quoted-string\">\"ajax-nav\"</span> href<span class=\"token operator\">=</span><span class=\"token string double-quoted-string\">\"inexistante.php\"</span><span class=\"token operator\">&gt;</span>Page inexistante<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>a<span class=\"token operator\">&gt;</span> <span class=\"token punctuation\">]</span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>p<span class=\"token operator\">&gt;</span>\n</code></pre></div>\n<p><strong>include/header.php</strong>:</p>\n<div class=\"code-example\"><pre class=\"brush: html notranslate\"><code><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">http-equiv</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Content-Type<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">content</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text/html; charset=UTF-8<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text/javascript<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>js/ajax_nav.js<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span><span class=\"token script\"></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>link</span> <span class=\"token attr-name\">rel</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>stylesheet<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>css/style.css<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/&gt;</span></span>\n</code></pre></div>\n<p><strong>js/ajax_nav.js</strong>:</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token string\">\"use strict\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> ajaxRequest <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token keyword\">function</span> <span class=\"token function\">closeReq</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        oLoadingBox<span class=\"token punctuation\">.</span>parentNode <span class=\"token operator\">&amp;&amp;</span> document<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">removeChild</span><span class=\"token punctuation\">(</span>oLoadingBox<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        bIsLoading <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">function</span> <span class=\"token function\">abortReq</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>bIsLoading<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span>\n        oReq<span class=\"token punctuation\">.</span><span class=\"token function\">abort</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token function\">closeReq</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">function</span> <span class=\"token function\">ajaxError</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Unknown error.\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">function</span> <span class=\"token function\">ajaxLoad</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">var</span> vMsg<span class=\"token punctuation\">,</span> nStatus <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>status<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">switch</span> <span class=\"token punctuation\">(</span>nStatus<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">case</span> <span class=\"token number\">200</span><span class=\"token operator\">:</span>\n                vMsg <span class=\"token operator\">=</span> <span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">parse</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>responseText<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                document<span class=\"token punctuation\">.</span>title <span class=\"token operator\">=</span> oPageInfo<span class=\"token punctuation\">.</span>title <span class=\"token operator\">=</span> vMsg<span class=\"token punctuation\">.</span>page<span class=\"token punctuation\">;</span>\n                document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span>sTargetId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>innerHTML <span class=\"token operator\">=</span> vMsg<span class=\"token punctuation\">.</span>content<span class=\"token punctuation\">;</span>\n                <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>bUpdateURL<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                    history<span class=\"token punctuation\">.</span><span class=\"token function\">pushState</span><span class=\"token punctuation\">(</span>oPageInfo<span class=\"token punctuation\">,</span> oPageInfo<span class=\"token punctuation\">.</span>title<span class=\"token punctuation\">,</span> oPageInfo<span class=\"token punctuation\">.</span>url<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                    bUpdateURL <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\n                <span class=\"token punctuation\">}</span>\n                <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\n            <span class=\"token keyword\">default</span><span class=\"token operator\">:</span>\n                vMsg <span class=\"token operator\">=</span> nStatus <span class=\"token operator\">+</span> <span class=\"token string\">\": \"</span> <span class=\"token operator\">+</span> <span class=\"token punctuation\">(</span>oHTTPStatus<span class=\"token punctuation\">[</span>nStatus<span class=\"token punctuation\">]</span> <span class=\"token operator\">||</span> <span class=\"token string\">\"Unknown\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token keyword\">switch</span> <span class=\"token punctuation\">(</span>Math<span class=\"token punctuation\">.</span><span class=\"token function\">floor</span><span class=\"token punctuation\">(</span>nStatus <span class=\"token operator\">/</span> <span class=\"token number\">100</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                    <span class=\"token comment\">/*\n                    case 1:\n                        // Informational 1xx\n                        console.log(\"Information code \" + vMsg);\n                        break;\n                    case 2:\n                        // Successful 2xx\n                        console.log(\"Successful code \" + vMsg);\n                        break;\n                    case 3:\n                        // Redirection 3xx\n                        console.log(\"Redirection code \" + vMsg);\n                        break;\n                    */</span>\n                    <span class=\"token keyword\">case</span> <span class=\"token number\">4</span><span class=\"token operator\">:</span>\n                        <span class=\"token comment\">/* Client Error 4xx */</span>\n                        <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Client Error #\"</span> <span class=\"token operator\">+</span> vMsg<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                        <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\n                    <span class=\"token keyword\">case</span> <span class=\"token number\">5</span><span class=\"token operator\">:</span>\n                        <span class=\"token comment\">/* Server Error 5xx */</span>\n                        <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Server Error #\"</span> <span class=\"token operator\">+</span> vMsg<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                        <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\n                    <span class=\"token keyword\">default</span><span class=\"token operator\">:</span>\n                        <span class=\"token comment\">/* Unknown status */</span>\n                        <span class=\"token function\">ajaxError</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n        <span class=\"token function\">closeReq</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">function</span> <span class=\"token function\">filterURL</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">sURL<span class=\"token punctuation\">,</span> sViewMode</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> sURL<span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span>rSearch<span class=\"token punctuation\">,</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token punctuation\">(</span><span class=\"token string\">\"?\"</span> <span class=\"token operator\">+</span> sURL<span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span>rHost<span class=\"token punctuation\">,</span> <span class=\"token string\">\"&amp;\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span>rView<span class=\"token punctuation\">,</span> sViewMode <span class=\"token operator\">?</span> <span class=\"token string\">\"&amp;\"</span> <span class=\"token operator\">+</span> sViewKey <span class=\"token operator\">+</span> <span class=\"token string\">\"=\"</span> <span class=\"token operator\">+</span> sViewMode <span class=\"token operator\">:</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">slice</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span>rEndQstMark<span class=\"token punctuation\">,</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">function</span> <span class=\"token function\">getPage</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">sPage</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>bIsLoading<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span>\n        oReq <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">XMLHttpRequest</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        bIsLoading <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\n        oReq<span class=\"token punctuation\">.</span>onload <span class=\"token operator\">=</span> ajaxLoad<span class=\"token punctuation\">;</span>\n        oReq<span class=\"token punctuation\">.</span>onerror <span class=\"token operator\">=</span> ajaxError<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>sPage<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> oPageInfo<span class=\"token punctuation\">.</span>url <span class=\"token operator\">=</span> <span class=\"token function\">filterURL</span><span class=\"token punctuation\">(</span>sPage<span class=\"token punctuation\">,</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span>\n        oReq<span class=\"token punctuation\">.</span><span class=\"token function\">open</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"get\"</span><span class=\"token punctuation\">,</span> <span class=\"token function\">filterURL</span><span class=\"token punctuation\">(</span>oPageInfo<span class=\"token punctuation\">.</span>url<span class=\"token punctuation\">,</span> <span class=\"token string\">\"json\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        oReq<span class=\"token punctuation\">.</span><span class=\"token function\">send</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        oLoadingBox<span class=\"token punctuation\">.</span>parentNode <span class=\"token operator\">||</span> document<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">appendChild</span><span class=\"token punctuation\">(</span>oLoadingBox<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">function</span> <span class=\"token function\">requestPage</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">sURL</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>history<span class=\"token punctuation\">.</span>pushState<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            bUpdateURL <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\n            <span class=\"token function\">getPage</span><span class=\"token punctuation\">(</span>sURL<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token comment\">/* Ajax navigation is not supported */</span>\n            location<span class=\"token punctuation\">.</span><span class=\"token function\">assign</span><span class=\"token punctuation\">(</span>sURL<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">function</span> <span class=\"token function\">processLink</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>className <span class=\"token operator\">===</span> sAjaxClass<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token function\">requestPage</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>href<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n        <span class=\"token keyword\">return</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">function</span> <span class=\"token function\">init</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        oPageInfo<span class=\"token punctuation\">.</span>title <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span>title<span class=\"token punctuation\">;</span>\n        history<span class=\"token punctuation\">.</span><span class=\"token function\">replaceState</span><span class=\"token punctuation\">(</span>oPageInfo<span class=\"token punctuation\">,</span> oPageInfo<span class=\"token punctuation\">.</span>title<span class=\"token punctuation\">,</span> oPageInfo<span class=\"token punctuation\">.</span>url<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">var</span> oLink<span class=\"token punctuation\">,</span> nIdx <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> nLen <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span>links<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span> nIdx <span class=\"token operator\">&lt;</span> nLen<span class=\"token punctuation\">;</span> document<span class=\"token punctuation\">.</span>links<span class=\"token punctuation\">[</span>nIdx<span class=\"token operator\">++</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>onclick <span class=\"token operator\">=</span> processLink<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">const</span>\n\n        <span class=\"token comment\">/* customizable constants */</span>\n        sTargetId <span class=\"token operator\">=</span> <span class=\"token string\">\"ajax-content\"</span><span class=\"token punctuation\">,</span> sViewKey <span class=\"token operator\">=</span> <span class=\"token string\">\"view_as\"</span><span class=\"token punctuation\">,</span> sAjaxClass <span class=\"token operator\">=</span> <span class=\"token string\">\"ajax-nav\"</span><span class=\"token punctuation\">,</span>\n\n        <span class=\"token comment\">/* not customizable constants */</span>\n        rSearch <span class=\"token operator\">=</span> <span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">\\?.*$</span><span class=\"token regex-delimiter\">/</span></span><span class=\"token punctuation\">,</span> rHost <span class=\"token operator\">=</span> <span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">^[^\\?]*\\?*&amp;*</span><span class=\"token regex-delimiter\">/</span></span><span class=\"token punctuation\">,</span> rView <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">RegExp</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"&amp;\"</span> <span class=\"token operator\">+</span> sViewKey <span class=\"token operator\">+</span> <span class=\"token string\">\"\\\\=[^&amp;]*|&amp;*$\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"i\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> rEndQstMark <span class=\"token operator\">=</span> <span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">\\?$</span><span class=\"token regex-delimiter\">/</span></span><span class=\"token punctuation\">,</span>\n        oLoadingBox <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">createElement</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"div\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> oCover <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">createElement</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"div\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> oLoadingImg <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Image</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        oPageInfo <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token literal-property property\">title</span><span class=\"token operator\">:</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span>\n            <span class=\"token literal-property property\">url</span><span class=\"token operator\">:</span> location<span class=\"token punctuation\">.</span>href\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> oHTTPStatus <span class=\"token operator\">=</span> <span class=\"token comment\">/* http://www.iana.org/assignments/http-status-codes/http-status-codes.xml */</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token number\">100</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Continue\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token number\">101</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Switching Protocols\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token number\">102</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Processing\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token number\">200</span><span class=\"token operator\">:</span> <span class=\"token string\">\"OK\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token number\">201</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Created\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token number\">202</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Accepted\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token number\">203</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Non-Authoritative Information\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token number\">204</span><span class=\"token operator\">:</span> <span class=\"token string\">\"No Content\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token number\">205</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Reset Content\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token number\">206</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Partial Content\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token number\">207</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Multi-Status\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token number\">208</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Already Reported\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token number\">226</span><span class=\"token operator\">:</span> <span class=\"token string\">\"IM Used\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token number\">300</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Multiple Choices\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token number\">301</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Moved Permanently\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token number\">302</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Found\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token number\">303</span><span class=\"token operator\">:</span> <span class=\"token string\">\"See Other\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token number\">304</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Not Modified\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token number\">305</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Use Proxy\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token number\">306</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Reserved\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token number\">307</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Temporary Redirect\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token number\">308</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Permanent Redirect\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token number\">400</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Bad Request\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token number\">401</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Unauthorized\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token number\">402</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Payment Required\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token number\">403</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Forbidden\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token number\">404</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Not Found\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token number\">405</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Method Not Allowed\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token number\">406</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Not Acceptable\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token number\">407</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Proxy Authentication Required\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token number\">408</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Request Timeout\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token number\">409</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Conflict\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token number\">410</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Gone\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token number\">411</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Length Required\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token number\">412</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Precondition Failed\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token number\">413</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Request Entity Too Large\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token number\">414</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Request-URI Too Long\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token number\">415</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Unsupported Media Type\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token number\">416</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Requested Range Not Satisfiable\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token number\">417</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Expectation Failed\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token number\">422</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Unprocessable Entity\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token number\">423</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Locked\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token number\">424</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Failed Dependency\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token number\">425</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Unassigned\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token number\">426</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Upgrade Required\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token number\">427</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Unassigned\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token number\">428</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Precondition Required\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token number\">429</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Too Many Requests\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token number\">430</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Unassigned\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token number\">431</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Request Header Fields Too Large\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token number\">500</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Internal Server Error\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token number\">501</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Not Implemented\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token number\">502</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Bad Gateway\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token number\">503</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Service Unavailable\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token number\">504</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Gateway Timeout\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token number\">505</span><span class=\"token operator\">:</span> <span class=\"token string\">\"HTTP Version Not Supported\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token number\">506</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Variant Also Negotiates (Experimental)\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token number\">507</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Insufficient Storage\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token number\">508</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Loop Detected\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token number\">509</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Unassigned\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token number\">510</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Not Extended\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token number\">511</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Network Authentication Required\"</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">var</span>\n\n        oReq<span class=\"token punctuation\">,</span> bIsLoading <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span> bUpdateURL <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\n\n    oLoadingBox<span class=\"token punctuation\">.</span>id <span class=\"token operator\">=</span> <span class=\"token string\">\"ajax-loader\"</span><span class=\"token punctuation\">;</span>\n    oCover<span class=\"token punctuation\">.</span>onclick <span class=\"token operator\">=</span> abortReq<span class=\"token punctuation\">;</span>\n    oLoadingImg<span class=\"token punctuation\">.</span>src <span class=\"token operator\">=</span> <span class=\"token string\">\"data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==\"</span><span class=\"token punctuation\">;</span>\n    oCover<span class=\"token punctuation\">.</span><span class=\"token function\">appendChild</span><span class=\"token punctuation\">(</span>oLoadingImg<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    oLoadingBox<span class=\"token punctuation\">.</span><span class=\"token function\">appendChild</span><span class=\"token punctuation\">(</span>oCover<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token function-variable function\">onpopstate</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">oEvent</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        bUpdateURL <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\n        oPageInfo<span class=\"token punctuation\">.</span>title <span class=\"token operator\">=</span> oEvent<span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>title<span class=\"token punctuation\">;</span>\n        oPageInfo<span class=\"token punctuation\">.</span>url <span class=\"token operator\">=</span> oEvent<span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>url<span class=\"token punctuation\">;</span>\n        <span class=\"token function\">getPage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n    window<span class=\"token punctuation\">.</span>addEventListener <span class=\"token operator\">?</span> <span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"load\"</span><span class=\"token punctuation\">,</span> init<span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">:</span> window<span class=\"token punctuation\">.</span>attachEvent <span class=\"token operator\">?</span> <span class=\"token function\">attachEvent</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"onload\"</span><span class=\"token punctuation\">,</span> init<span class=\"token punctuation\">)</span> <span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>onload <span class=\"token operator\">=</span> init<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">// Public methods</span>\n\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>open <span class=\"token operator\">=</span> requestPage<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>stop <span class=\"token operator\">=</span> abortReq<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>rebuildLinks <span class=\"token operator\">=</span> init<span class=\"token punctuation\">;</span>\n\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<div class=\"notecard note\" id=\"sect1\">\n  <p><strong>Note :</strong> <a href=\"/en-US/JavaScript/Reference/Statements/const\"><code>const</code></a> (instruction de constante) <strong>ne fait pas partie de ECMAScript 5</strong>. Il est supporté dans Firefox et Chrome (V8) et partiellement supporté dans Opera 9+ et Safari. <strong>Il n'est pas supporté dans Internet Explorer 6-9, ou dans la version de prévisualisation de Internet Explorer 10</strong>. <a href=\"/en-US/JavaScript/Reference/Statements/const\"><code>const</code></a> sera défini par ECMAScript 6, mais avec une sémantique différente. Proches des variables déclarées avec l'instruction <a href=\"/en-US/JavaScript/Reference/Statements/let\"><code>let</code></a>, les constantes déclarées avec <a href=\"/en-US/JavaScript/Reference/Statements/const\"><code>const</code></a> seront limitées en portée. <strong>Nous ne l'avons utilisé que pour des raisons pédagogiques, si vous souhaitez une compatibilité maximale de ce code, merci de remplacer les références à</strong> <strong><a href=\"/en-US/JavaScript/Reference/Statements/const\"><code>const</code></a> par des instructions <a href=\"/en-US/JavaScript/Reference/Statements/var\"><code>var</code></a>.</strong></p>\n</div>\n<p>Pour plus d'informations, voyez : <a href=\"/fr/docs/Web/API/History_API\">Manipuler l'historique du navigateur</a>.</p>"}},{"type":"prose","value":{"id":"lire_également","title":"Lire également","isH3":false,"content":"<ul>\n  <li><a href=\"/fr/docs/Web/API/Window/history\"><code>window.history</code></a></li>\n  <li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/Window/popstate_event\"><code>window.onpopstate</code> <small>(en-US)</small></a></li>\n</ul>"}}],"toc":[{"text":"Lire également","id":"lire_également"}],"summary":"Voici un exemple de site web AJAX composé uniquement de trois pages (page_un.php, page_deux.php et page_trois.php). Pour tester cet exemple, merci de créer les fichiers suivants :","popularity":0,"modified":"2022-10-01T03:41:16.000Z","other_translations":[{"title":"Ajax navigation example","locale":"en-US","native":"English (US)"},{"title":"Ajax ナビゲーションの例","locale":"ja","native":"日本語"},{"title":"Exemplo de navegação Ajax","locale":"pt-BR","native":"Português (do Brasil)"},{"title":"Ajax navigation example","locale":"zh-CN","native":"中文 (简体)"}],"source":{"folder":"fr/web/api/history_api/example","github_url":"https://github.com/mdn/translated-content/blob/main/files/fr/web/api/history_api/example/index.md","last_commit_url":"https://github.com/mdn/translated-content/commit/921c46a374ab0a9f4cc809af0370f8c412e54701","filename":"index.md"},"parents":[{"uri":"/fr/docs/Web","title":"Technologies web pour développeurs"},{"uri":"/fr/docs/Web/API","title":"Référence Web API"},{"uri":"/fr/docs/Web/API/History_API","title":"Manipuler l'historique du navigateur"},{"uri":"/fr/docs/Web/API/History_API/Example","title":"Exemple de navigation en Ajax"}],"pageTitle":"Exemple de navigation en Ajax - Référence Web API | MDN","noIndexing":false}}