<!DOCTYPE html><html lang="en-US" prefix="og: https://ogp.me/ns#"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="icon" href="/favicon-48x48.97046865.png"><link rel="apple-touch-icon" href="/apple-touch-icon.0ea0fa02.png"><meta name="theme-color" content="#ffffff"><link rel="manifest" href="/manifest.56b1cedc.json"><link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" title="MDN Web Docs"><script>Array.prototype.flat&&Array.prototype.includes||document.write('<script src="https://polyfill.io/v3/polyfill.min.js?features=Array.prototype.flat%2Ces6"><\/script>')</script><title>Django didactique - Section 9 : Travailler avec des formulaires - Apprendre le développement web | MDN</title><link rel="preload" as="font" type="font/woff2" crossorigin="" href="/static/media/ZillaSlab-Bold.subset.0beac26b.woff2"><link rel="alternate" title="Django didactique - Section 9 : Travailler avec des formulaires" href="https://developer.mozilla.org/fr/docs/Learn/Server-side/Django/Forms" hreflang="fr"><link rel="alternate" title="Django Tutorial Part 9: Working with forms" href="https://developer.mozilla.org/zh-TW/docs/Learn/Server-side/Django/Forms" hreflang="zh-TW"><link rel="alternate" title="Django 教程 9: 使用表单" href="https://developer.mozilla.org/zh-CN/docs/Learn/Server-side/Django/Forms" hreflang="zh"><link rel="alternate" title="Руководство часть 9: Работа с формами" href="https://developer.mozilla.org/ru/docs/Learn/Server-side/Django/Forms" hreflang="ru"><link rel="alternate" title="Tutorial Django Parte 9: Trabalhando com formulários" href="https://developer.mozilla.org/pt-BR/docs/Learn/Server-side/Django/Forms" hreflang="pt"><link rel="alternate" title="Django 튜토리얼 파트 9: 폼(form)으로 작업하기" href="https://developer.mozilla.org/ko/docs/Learn/Server-side/Django/Forms" hreflang="ko"><link rel="alternate" title="Tutorial de Django Parte 9: Trabajo con formularios" href="https://developer.mozilla.org/es/docs/Learn/Server-side/Django/Forms" hreflang="es"><link rel="alternate" title="Django Tutorial Part 9: Working with forms" href="https://developer.mozilla.org/en-US/docs/Learn/Server-side/Django/Forms" hreflang="en"><meta name="description" content="Dans cette formation, nous allons vous montrer comment travailler avec les formulaires HTML sous Django afin de créer, modifier et supprimer des instances de modèle. Pour illustrer le raisonnement, nous allons étendre le site web LocalLibrary pour permettre aux bibliothécaires d'utiliser nos formulaires (plutôt que l'application d'administration par défaut) pour prolonger la durée de prêt des livres, et également pour ajouter, mettre à jour et supprimer des auteurs."><meta property="og:url" content="https://developer.mozilla.org/fr/docs/Learn/Server-side/Django/Forms"><meta property="og:title" content="Django didactique - Section 9 : Travailler avec des formulaires - Apprendre le développement web | MDN"><meta property="og:description" content="Dans cette formation, nous allons vous montrer comment travailler avec les formulaires HTML sous Django afin de créer, modifier et supprimer des instances de modèle. Pour illustrer le raisonnement, nous allons étendre le site web LocalLibrary pour permettre aux bibliothécaires d'utiliser nos formulaires (plutôt que l'application d'administration par défaut) pour prolonger la durée de prêt des livres, et également pour ajouter, mettre à jour et supprimer des auteurs."><meta property="og:locale" content="fr"><meta property="og:image" content="https://developer.mozilla.org/mdn-social-share.0ca9dbda.png"><meta property="twitter:card" content="summary_large_image"><meta name="robots" content="index, follow"><link rel="canonical" href="https://developer.mozilla.org/fr/docs/Learn/Server-side/Django/Forms"><style media="print">.breadcrumbs-container,.document-toc-container,.language-menu,.language-toggle,.on-github,.page-footer,.page-header-main,nav.sidebar,ul.prev-next{display:none!important}.main-page-content,.main-page-content pre{padding:2px}.main-page-content pre{border-left-width:2px}</style><link href="/static/css/main.55b68e13.chunk.css" rel="stylesheet"><script src="/static/js/runtime-main.4bb4c356.js" defer=""></script><script src="/static/js/4.a756dea3.chunk.js" defer=""></script><script src="/static/js/main.d4d565e0.chunk.js" defer=""></script></head><body><div id="root"><ul id="nav-access" class="a11y-nav"><li><a id="skip-main" href="#content">Skip to main content</a></li><li><a id="skip-search" href="#main-q">Skip to search</a></li><li><a id="skip-select-language" href="#select-language">Skip to select language</a></li></ul><div class="page-wrapper document-page"><header class="page-header"><a href="/fr/" class="logo" aria-label="MDN Web Docs"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 451.74 135"><path d="M7.14 8.35v111.06h111.05V8.35zm103.71 56c-.48.92-1 1.79-1.46 2.71a3.44 3.44 0 01-3.54 2 2.4 2.4 0 00-1.55.5c-1.37.9-2.76 1.79-4.18 2.63a7.33 7.33 0 01-6.35.34 29.71 29.71 0 00-10.63-2 11.7 11.7 0 00-9.46 4.31 14.84 14.84 0 00-2.13 4.29c-1.24 3.07-2.3 21.38-2.3 26.05 0 0-17.62-3.42-34.15-20.34l4.31-11.32h-13.5l9.76-10.35h-16.8l9.77-10.34H12.69L30.45 34a40.9 40.9 0 0119.77-10.83c7.1-1.22 8.93-.53 13.31.77l2.43.73.85.25 3.1.95a12.56 12.56 0 006.21.09 11.37 11.37 0 018.25 1 8.24 8.24 0 014.1 6.22 7.29 7.29 0 003.61 5.49 59.45 59.45 0 009.32 4.11c2.27.86 4.54 1.84 6.79 2.72a6.81 6.81 0 012.86 2.06 4.81 4.81 0 011.1 2.73c.14 2 .37 4 .47 6a15.24 15.24 0 01-1.77 8.03zM320.12 39.62a5.42 5.42 0 00-4.53 2.13 7.36 7.36 0 00-1.7 4.43v2.36a6.28 6.28 0 001.7 4.46 5.63 5.63 0 004.3 1.82 5.12 5.12 0 004.57-2.27A9.7 9.7 0 00326 47a8.11 8.11 0 00-1.67-5.52 5.36 5.36 0 00-4.21-1.86zM387.38 39.53a5.52 5.52 0 00-4.7 2.15 8.8 8.8 0 00-1.63 5.49 9.23 9.23 0 001.58 5.45 5.38 5.38 0 004.7 2.25 5.61 5.61 0 004.74-2.2 8.91 8.91 0 001.68-5.59 8.24 8.24 0 00-1.75-5.52 5.76 5.76 0 00-4.62-2.03zM299.47 41.35a4.34 4.34 0 00-4-1.92 4.55 4.55 0 00-3.89 1.73 8.37 8.37 0 00-1.58 4.17h10.48a6.3 6.3 0 00-1.01-3.98zM357.74 30.75H352v23.31h5.72q5.47 0 8.35-3t2.93-8.65q0-5.43-2.88-8.55t-8.38-3.11z"></path><path d="M121.55 8.35v70.8h323V8.35zm42.21 22.45h-4V54h3.68v3.73h-11.25V54h3.31V36.79h-.19l-9.63 19.12h-2.12l-10-19.4h-.19V54h3.45v3.73h-11.15V54h3.68V30.8h-4v-3.73H133l11.66 22.56h.19l11.18-22.56h7.7zm29.12 22.67q-4.11 4.28-11.38 4.28h-14.06v-3.69h3.73V30.75h-3.73v-3.68h13.83q7.59 0 11.66 4.29a15.4 15.4 0 014 11 15.33 15.33 0 01-4.05 11.11zm38.89-22.67h-3.68v27h-2.6L208.08 35h-.19v19h4.67v3.73h-12.22V54h3.49V30.8h-4v-3.73h7.08l16.9 22.09h.19V30.8h-4.58v-3.73h12.32zm43.8 27h-3.31l-7.83-23.18h-.19l-7.55 23.18h-3.35l-8.78-27h-2.65v-3.73H253v3.73h-3.87L255 50.71h.23l6.61-19.91H259v-3.73h11v3.73h-2.78l6.61 20.1h.23l5.43-20.1h-4.15v-3.73h11v3.73h-2.54zm26.71-1.51a9.66 9.66 0 01-6.42 2 10.2 10.2 0 01-7.41-2.74c-1.89-1.82-2.83-4.47-2.83-7.93a12.37 12.37 0 012.64-8.12 9 9 0 017.32-3.21 8.62 8.62 0 016.75 2.69 9.65 9.65 0 012.45 6.52 13.67 13.67 0 01-.28 2.69H290q.29 6.71 6.18 6.7a5.2 5.2 0 003.71-1.18 5.82 5.82 0 001.67-2.83l3.45.71a7.21 7.21 0 01-2.73 4.65zm25.77-1.63c-1.51 2.4-3.92 3.61-7.22 3.61s-5.84-1.29-7.22-3.87c0 .25-.1.82-.21 1.7s-.19 1.44-.22 1.7H309c.16-1 .31-2 .47-3.07a21.42 21.42 0 00.24-3.16v-23h-3.4v-3.3h7.55V40.9a9.76 9.76 0 012.67-3.28 7.33 7.33 0 014.74-1.4 8.48 8.48 0 016.5 2.78q2.55 2.74 2.55 7.74a14.6 14.6 0 01-2.27 7.87zm41.39-1.14q-4.11 4.28-11.37 4.28H344v-3.74h3.73V30.75H344v-3.68h13.83q7.59 0 11.66 4.29a15.41 15.41 0 014.06 11 15.34 15.34 0 01-4.11 11.11zm25.65 1.68a10.53 10.53 0 01-7.9 3.07 10 10 0 01-7.63-3 10.93 10.93 0 01-2.8-7.83 12.13 12.13 0 012.69-7.93q2.69-3.3 8-3.3t8 3.28a12 12 0 012.64 7.76 10.86 10.86 0 01-3 7.9zm22.61.57c-1.4 1.66-3.63 2.5-6.68 2.5a9.58 9.58 0 01-7.15-2.76q-2.72-2.76-2.71-7.91a12.25 12.25 0 012.69-8 9.17 9.17 0 017.5-3.28 15 15 0 013.82.48 10.37 10.37 0 013.5 1.65l.85 5.47-3.35.38-.76-3.54a8.07 8.07 0 00-4.11-1 4.9 4.9 0 00-4.39 2.15 9.93 9.93 0 00-1.41 5.55 8.9 8.9 0 001.5 5.38 5.23 5.23 0 004.44 2c2.92 0 4.67-1.7 5.23-5.1l3.5.71a10.34 10.34 0 01-2.47 5.27zm20.48.75a11.68 11.68 0 01-6.63 1.75 15.52 15.52 0 01-8.26-2.08L424 51l3.26.33-.1 2.74a7 7 0 002.06.66 12.63 12.63 0 002.19.19 8.68 8.68 0 003.66-.75 2.5 2.5 0 001.63-2.36 2.25 2.25 0 00-1.32-2.2 12.65 12.65 0 00-3.28-1 47.39 47.39 0 01-3.9-.82 7.5 7.5 0 01-3.25-1.7 4.67 4.67 0 01-1.33-3.66c0-2.36.88-4 2.62-4.91a12 12 0 015.6-1.37 15 15 0 014.08.55 16.65 16.65 0 013.47 1.39l.47 5.1-3.3.37-.48-3.3a9.5 9.5 0 00-4.06-.9 5.62 5.62 0 00-2.87.66 2.33 2.33 0 00-1.15 2.25 2.13 2.13 0 001.3 2.07 11.91 11.91 0 003.21.92 36.69 36.69 0 013.82.83 7.46 7.46 0 013.21 1.74 4.9 4.9 0 011.3 3.73 5.56 5.56 0 01-2.66 4.91z"></path><path d="M181.17 30.75h-5.71v23.31h5.71q5.47 0 8.36-3t2.88-8.61q0-5.43-2.88-8.55t-8.36-3.15zM121.63 119.32V81.74h114.91v37.58zM153.22 109h-2v-6.85a4.8 4.8 0 00-1.58-4 5.57 5.57 0 00-3.55-1.26 5 5 0 00-4.92 3.26 4.19 4.19 0 00-1.88-2.46 5.82 5.82 0 00-3-.8 4.89 4.89 0 00-4.56 2.56v-2.21h-6.28v3.26h2v8.5h-2v3.23h9.11V109h-2.86v-5.25a4.4 4.4 0 01.69-2.56 2.47 2.47 0 012.21-1q2.57 0 2.56 3.63v8.41h6.29V109h-2v-5.25a4.47 4.47 0 01.67-2.56 2.42 2.42 0 012.19-1q2.63 0 2.63 3.63v8.41h6.28zm9.88-12.07q-4 0-6 2.36a8.41 8.41 0 00-2 5.66 7.25 7.25 0 002.17 5.62 8 8 0 005.65 2 8.54 8.54 0 005.94-2.11 7.27 7.27 0 002.34-5.67 8.21 8.21 0 00-2-5.51q-2.07-2.34-6.1-2.34zm-.1 12.35a3 3 0 01-2.63-1.33 5.68 5.68 0 01-.9-3.26 5 5 0 011-3.28 3.23 3.23 0 012.61-1.18 3.5 3.5 0 012.59 1.08 4.56 4.56 0 011.07 3.31 5.21 5.21 0 01-1 3.41 3.33 3.33 0 01-2.74 1.25zm25-2.3l-3.39-.29-.7 2.32H179l8.32-9.54-.32-2.23h-13.19l-.53 5.25 3.16.34.67-2.36h4.65l-8.25 9.53.44 2.26h13.13zm7.62-9.74h-4.46v5.39h4.46zm0 9.61h-4.46v5.39h4.46zm13.54-17.49h-4.23l-6.48 22.88h4.22zm8.68 0h-4.23l-6.45 22.88h4.19zm15 22.51l-.07-2.26a1.22 1.22 0 01-.56.1c-.69 0-1-.39-1-1.16v-6.49a4.39 4.39 0 00-1.8-3.84 7 7 0 00-4.16-1.28 14.55 14.55 0 00-3.16.3 24.14 24.14 0 00-3.29 1.06l-.56 3.46 3.39.4.5-1.69a2.78 2.78 0 011.08-.37 11.3 11.3 0 011.25-.07c1.19 0 1.89.37 2.09 1.1a8.55 8.55 0 01.3 2.26v.5a8.91 8.91 0 00-1.18-.11h-1.21a12.64 12.64 0 00-4.81.88 3.53 3.53 0 00-2.18 3.64 3.66 3.66 0 001.48 3.33 5.63 5.63 0 003.11 1 4.67 4.67 0 003-.91 6.78 6.78 0 001.8-2 3 3 0 003.33 3 5.54 5.54 0 002.66-.85zm-9.25-2.32a1.69 1.69 0 01-1.36-.52 1.81 1.81 0 01-.43-1.21 1.67 1.67 0 01.86-1.68 4.63 4.63 0 012-.42 7.69 7.69 0 011.07.07l1.06.13a3.58 3.58 0 01-1.08 2.74 3.24 3.24 0 01-2.11.89z"></path></svg></a><button type="button" class="ghost main-menu-toggle" aria-haspopup="true" aria-label="Show Menu"></button><div class="page-header-main "><nav class="main-nav" aria-label="Main menu"><ul class="main-menu nojs"><li class="top-level-entry-container"><button id="technologies-button" type="button" class="top-level-entry" aria-haspopup="menu" aria-expanded="false">Technologies</button><ul class="technologies " role="menu" aria-labelledby="technologies-button"><li role="none"><a tabindex="-1" href="/fr/docs/Web" role="menuitem">Technologies Overview</a></li><li role="none"><a tabindex="-1" href="/fr/docs/Web/HTML" role="menuitem">HTML</a></li><li role="none"><a tabindex="-1" href="/fr/docs/Web/CSS" role="menuitem">CSS</a></li><li role="none"><a tabindex="-1" href="/fr/docs/Web/JavaScript" role="menuitem">JavaScript</a></li><li role="none"><a tabindex="-1" href="/fr/docs/Web/Guide/Graphics" role="menuitem">Graphics</a></li><li role="none"><a tabindex="-1" href="/fr/docs/Web/HTTP" role="menuitem">HTTP</a></li><li role="none"><a tabindex="-1" href="/fr/docs/Web/API" role="menuitem">APIs</a></li><li role="none"><a tabindex="-1" href="/fr/docs/Mozilla/Add-ons/WebExtensions" role="menuitem">Browser Extensions</a></li><li role="none"><a tabindex="-1" href="/fr/docs/Web/MathML" role="menuitem">MathML</a></li></ul></li><li class="top-level-entry-container"><button id="references-guides-button" type="button" class="top-level-entry" aria-haspopup="menu" aria-expanded="false">References &amp; Guides</button><ul class="references-guides " role="menu" aria-labelledby="references-guides-button"><li role="none"><a tabindex="-1" href="/fr/docs/Learn" role="menuitem">Learn web development</a></li><li role="none"><a tabindex="-1" href="/fr/docs/Web/Tutorials" role="menuitem">Tutorials</a></li><li role="none"><a tabindex="-1" href="/fr/docs/Web/Reference" role="menuitem">References</a></li><li role="none"><a tabindex="-1" href="/fr/docs/Web/Guide" role="menuitem">Developer Guides</a></li><li role="none"><a tabindex="-1" href="/fr/docs/Web/Accessibility" role="menuitem">Accessibility</a></li><li role="none"><a tabindex="-1" href="/fr/docs/Games" role="menuitem">Game development</a></li><li role="none"><a tabindex="-1" href="/fr/docs/Web" role="menuitem">...more docs</a></li></ul></li><li class="top-level-entry-container"><button id="feedback-button" type="button" class="top-level-entry" aria-haspopup="menu" aria-expanded="false">Feedback</button><ul class="feedback " role="menu" aria-labelledby="feedback-button"><li role="none"><a tabindex="-1" href="/fr/docs/MDN/Contribute/Feedback" role="menuitem">Send Feedback</a></li><li role="none"><a tabindex="-1" href="/fr/docs/MDN/Contribute" role="menuitem">Contribute to MDN</a></li><li role="none"><a tabindex="-1" target="_blank" rel="noopener noreferrer" href="https://github.com/mdn/content/issues/new" role="menuitem">Report a content issue<!-- --> 🌐</a></li><li role="none"><a tabindex="-1" target="_blank" rel="noopener noreferrer" href="https://github.com/mdn/yari/issues/new" role="menuitem">Report a platform issue<!-- --> 🌐</a></li></ul></li></ul></nav><div class="header-search"><form action="/fr/search" class="search-form search-widget" role="search"><label for="main-q" class="visually-hidden">Search MDN</label><input type="search" name="q" id="main-q" class="search-input-field" placeholder="Site search... (Press &quot;/&quot; to focus)" pattern="(.|\s)*\S(.|\s)*" required="" value=""><input type="submit" class="ghost search-button" value="" aria-label="Search"></form></div><div class="auth-container"></div></div></header><div class="breadcrumb-locale-container"><nav class="breadcrumbs-container" aria-label="Breadcrumb navigation"><ol typeof="BreadcrumbList" vocab="https://schema.org/" aria-label="breadcrumbs"><li property="itemListElement" typeof="ListItem"><a class="breadcrumb" property="item" typeof="WebPage" href="/fr/docs/Learn"><span property="name">Apprendre le développement web</span></a><meta property="position" content="1"></li><li property="itemListElement" typeof="ListItem"><a class="breadcrumb" property="item" typeof="WebPage" href="/fr/docs/Learn/Server-side"><span property="name">Programmation de Sites Web côté serveur</span></a><meta property="position" content="2"></li><li property="itemListElement" typeof="ListItem"><a class="breadcrumb-penultimate" property="item" typeof="WebPage" href="/fr/docs/Learn/Server-side/Django"><span property="name">Django Web Framework (Python)</span></a><meta property="position" content="3"></li><li property="itemListElement" typeof="ListItem"><a class="breadcrumb-current-page" property="item" typeof="WebPage" href="/fr/docs/Learn/Server-side/Django/Forms"><span property="name">Django didactique - Section 9 : Travailler avec des formulaires</span></a><meta property="position" content="4"></li></ol></nav><ul class="language-toggle"><li><a href="#select-language" class="language-icon"><span class="show-desktop">Change language</span></a></li><li><a class="view-in-english" href="/en-US/docs/Learn/Server-side/Django/Forms"><span class="show-desktop">View in</span> English</a></li></ul></div><div class="localized-content-note notecard inline neutral"><a href="/en-US/docs/MDN/Contribute/Localize#active_locales">Cette page a été traduite à partir de l'anglais par la communauté. Vous pouvez également contribuer en rejoignant la communauté francophone sur MDN Web Docs.</a></div><aside class="document-toc-container"><section class="document-toc"><header><h2>Table of contents</h2><button type="button" class="ghost toc-trigger-mobile" aria-controls="toc-entries" aria-expanded="false">Table of contents</button></header><ul id="toc-entries"><li><a href="#vue_densemble">Vue d'ensemble</a></li><li><a href="#formulaires_html">Formulaires HTML</a></li><li><a href="#les_étapes_de_gestion_dun_formulaire_avec_django">Les étapes de gestion d'un formulaire avec Django</a></li><li><a href="#formulaire_de_renouvellement_de_livre_par_lutilisation_de_form_et_dune_vue_fonctionnelle">Formulaire de renouvellement de livre par l'utilisation de Form et d'une vue fonctionnelle</a></li><li><a href="#modelforms">ModelForms</a></li><li><a href="#vues_génériques_dédition">Vues génériques d'édition</a></li><li><a href="#mettez-vous_au_défi">Mettez-vous au défi</a></li><li><a href="#résumé">Résumé</a></li><li><a href="#voir_aussi">Voir aussi</a></li><li><a href="#dans_ce_module">Dans ce module</a></li></ul></section></aside><main id="content" class="main-content" role="main"><article class="main-page-content" lang="fr"><h1>Django didactique - Section 9 : Travailler avec des formulaires</h1><div><ul class="prev-next">
    <li><a class="button minimal only-in-en-us" href="/en-US/docs/Learn/Server-side/Django/Authentication" title="Currently only available in English (US)"> Précédent  (en-US)</a></li>
    <li><a class="button minimal" href="/fr/docs/Learn/Server-side/Django"> Aperçu&nbsp;: Django</a></li>
    <li><a class="button minimal" href="/fr/docs/Learn/Server-side/Django/Testing"> Suivant  </a></li>
</ul>
<p>Dans cette formation, nous allons vous montrer comment travailler avec les formulaires HTML sous Django afin de créer, modifier et supprimer des instances de modèle. Pour illustrer le raisonnement, nous allons étendre le site web <a href="/fr/docs/Learn/Server-side/Django/Tutorial_local_library_website">LocalLibrary</a> pour permettre aux bibliothécaires d'utiliser nos formulaires (plutôt que l'application d'administration par défaut) pour prolonger la durée de prêt des livres, et également pour ajouter, mettre à jour et supprimer des auteurs.</p>
<table class="standard-table">
  <tbody>
    <tr>
      <th scope="row">Prérequis&nbsp;:</th>
      <td>Avoir terminé les formations précédentes, y compris <a href="/en-US/docs/Learn/Server-side/Django/Authentication" class="only-in-en-us" title="Currently only available in English (US)">Django didactique - section 8&nbsp;: Authentification de l'utilisateur et permissions (en-US)</a>.</td>
    </tr>
    <tr>
      <th scope="row">Objectifs&nbsp;:</th>
      <td>Comprendre comment écrire des formulaires pour récupérer des informations de la part des utilisateurs et mettre à jour la base de données. Comprendre comment il est possible de simplifier grandement la création de formulaires si l'on travaille avec un seul modèle en utilisant les vues génériques de formulaires d'éditions s'appuyant sur des classes.</td>
    </tr>
  </tbody>
</table></div><h2 id="vue_densemble"><a href="#vue_densemble" title="Permalink to Vue d'ensemble">Vue d'ensemble</a></h2><div><p>Un <a href="/fr/docs/Learn/Forms">formulaire HTML</a> regroupe au moins un champ remplissable et des composants élémentaires d'interface web. Il peut être utilisé pour réunir des saisies de la part des utilisateurs avant envoi vers un serveur. Les formulaires sont souples : ils s'adaptent à plusieurs modes de saisie. En effet, il existe des composants élémentaires d'interface graphique pour des modes de saisie non contrainte avec une zone de saisie de texte, ou restreinte au type <code>date</code> avec un sélecteur de date (<i lang="en">date picker</i>), la saisie d'un variable optionnelle via une boîte à cocher, d'un choix à faire parmi plusieurs valeurs possibles avec les boutons radio, etc. Les formulaires permettent de partager des informations avec le serveur de manière relativement sécurisée, car ils permettent d'envoyer des requêtes de type <code>POST</code> avec une protection contre la falsification des requêtes inter-site.</p>
<p>Bien que nous n'ayons pas encore créé de formulaire au cours de cette formation, nous en avons déjà rencontré sur l'interface d'administration Django Admin — par exemple, la capture d'écran ci-dessous montre un formulaire d'édition de l'un de nos modèles de <a href="/fr/docs/Learn/Server-side/Django/Models">Book</a> (livre), comprenant des composants élémentaires d'interface graphique de choix de valeur parmi une liste proposée, et des zones de saisie de texte.</p>
<p>
  <img src="/en-US/docs/Learn/Server-side/Django/Forms/admin_book_add.png" alt="Écran d'administration du site - Ajout d'un livre" width="841" height="780" loading="lazy">
</p>
<p>Travailler avec des formulaires peut s'avérer compliqué&nbsp;! Les développeuses et développeurs doivent non seulement écrire le code HTML pour le formulaire, mais aussi vérifier et corriger sur le serveur les données saisies (et éventuellement aussi dans le navigateur), renvoyer le formulaire avec des messages d'erreur pour informer les usagers de tout champ invalide, prendre en charge les données quand elles passent l'étape de vérification, et finalement renvoyer une information à l'utilisateur d'une manière ou d'une autre pour indiquer ce succès. Les formulaires sous Django enlèvent beaucoup de travail à chacune de ces étapes, grâce à un cadriciel qui permet de déclarer des formulaires et leurs champs à travers un langage de programmation, puis d'utiliser ces objets non seulement pour générer le code HTML, mais aussi une grosse partie de la vérification des données et du retour d'information à l'utilisateur.</p>
<p>Dans cette formation, nous allons vous montrer quelques-unes des manières de créer et de travailler avec les formulaires, et en particulier, comment les vues sur les formulaires génériques d'édition peuvent réduire significativement la quantité de travail à fournir pour créer les formulaires de manipulation de vos modèles. En chemin, nous allons étendre notre application <em>LocalLibrary</em> en ajoutant un formulaire permettant aux bibliothécaires de prolonger le prêt de livres, et nous allons créer des pages pour créer, modifier et supprimer des livres et des auteurs (reproduisant une version basique du formulaire ci-dessus pour éditer des livres).</p></div><h2 id="formulaires_html"><a href="#formulaires_html" title="Permalink to Formulaires HTML">Formulaires HTML</a></h2><div><p>D'abord, un premier aperçu des <a href="/fr/docs/Learn/Forms">formulaires HTML</a>. Soit un formulaire HTML simple, composé d'un unique champ de saisie texte, présent pour y entrer le nom d'une «&nbsp;équipe&nbsp;» quelconque et sa description dans l'étiquette associée&nbsp;:</p>
<p>
  <img src="/en-US/docs/Learn/Server-side/Django/Forms/form_example_name_field.png" alt="Champ textuel simple d'un formulaire HTML pour saisir un nom" width="399" height="44" loading="lazy">
</p>
<p>Le formulaire est défini en HTML comme une collection d'éléments enfermés entre deux balises <code>&lt;form&gt;...&lt;/form&gt;</code> contenant au moins une balise <code>&lt;input&gt;</code> dont la valeur d'attribut <code>type</code> doit valoir <code>submit</code>&nbsp;:</p>
<div class="code-example"><pre class="brush: html notranslate"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/team_name_url/<span class="token punctuation">"</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>post<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>team_name<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Enter name: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>team_name<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>name_field<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Default name for team.<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>OK<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>
</code></pre></div>
<p>Bien qu'ici nous n'ayons qu'un champ de saisie de texte destiné à recevoir le nom d'équipe, un formulaire <em>pourrait</em> avoir un nombre quelconque d'autres champs de saisie et leurs étiquettes de description associées. La valeur de l'attribut <code>type</code> définit la sorte de composant élémentaire d'interface graphique affichée. Les attributs <code>id</code> et <code>name</code> permettent d'identifier le champ en JavaScript/CSS/HTML alors que l'attribut <code>value</code> définit la valeur initiale du champ lorsqu'il est affiché pour la première fois. La description associée est déclarée par la balise <code>&lt;label&gt;</code> (voir «&nbsp;Enter Name&nbsp;» au-dessus), avec un attribut <code>for</code> devant contenir la valeur de l'attribut <code>id</code> du champ <code>input</code> auquel on souhaite l'associer.</p>
<p>La balise <code>&lt;input&gt;</code> dont l'attribut <code>type</code> vaut <code>submit</code> sera affichée (par défaut) comme un bouton qui peut être cliqué par l'utilisatrice ou l'utilisateur pour envoyer vers le serveur les données figurant dans tous les autres éléments de formulaire <code>&lt;input&gt;</code> (dans le cas présent, la valeur actuelle de <code>team_name</code>). Les attributs de formulaire déterminent d'une part la méthode HTTP (attribut <code>method</code>) utilisée pour envoyer les données et d'autre part la destination des données sur le serveur (attribut <code>action</code>)&nbsp;:</p>
<ul>
  <li><code>action</code>&nbsp;: Il s'agit de la destination (ressource ou URL) où sont envoyées les données lorsque le formulaire est soumis. Si la valeur de cet attribut n'est pas initialisée (ou la chaîne vide est affectée à cet attribut), alors le formulaire sera renvoyé à l'URL de la page courante.</li>
  <li><code>method</code>&nbsp;: La méthode HTTP utilisée pour envoyer les données&nbsp;: <em>post</em> ou <em>get</em>.
    <ul>
      <li>La méthode <code>POST</code> devrait toujours être utilisée si l'envoi de la donnée va provoquer un changement dans la base de données du serveur, car il peut être rendu plus résistant aux attaques par falsification de requête inter-site (CSRF).</li>
      <li>La méthode <code>GET</code> ne devrait être utilisée que pour les formulaires ne changeant pas les données utilisateur (par exemple, un formulaire de recherche). Elle est recommandée lorsque vous souhaitez pouvoir partager l'URL ou la conserver dans vos favoris.</li>
    </ul>
  </li>
</ul>
<p>Le rôle du serveur est d'abord de fournir le formulaire sous sa forme initiale — c'est-à-dire une série de champs soit vides, soit préremplis avec des valeurs initiales. Après l'impulsion de l'utilisateur sur le bouton <code>submit</code>, le serveur va recevoir les données du formulaire avec les valeurs saisies dans le navigateur, et va devoir vérifier ces données. Si le formulaire contient des données invalides, le serveur devrait afficher le formulaire de nouveau, cette fois-ci avec les données utilisateur entrées dans les champs "valides" et des messages pour décrire le problème pour les champs invalides. Dès que le serveur reçoit une requête dont toutes les données du formulaire sont valides, il peut effectuer les actions appropriées (par exemple, sauver les données, renvoyer le résultat d'une recherche, téléverser un fichier, etc.) et ensuite notifier l'utilisateur.</p>
<p>Comme vous pouvez l'imaginer, créer le code HTML, vérifier les données envoyées, réafficher les données entrées avec l'adjonction de rapports sur les erreurs, effectuer les opérations désirées sur les données valides peut représenter pas mal d'efforts de réflexion et d'essais-erreurs. Django rend cela bien plus facile, en enlevant la nécessité de concevoir une partie de ce code pénible et répétitif&nbsp;!</p></div><h2 id="les_étapes_de_gestion_dun_formulaire_avec_django"><a href="#les_étapes_de_gestion_dun_formulaire_avec_django" title="Permalink to Les étapes de gestion d'un formulaire avec Django">Les étapes de gestion d'un formulaire avec Django</a></h2><div><p>Django gère un formulaire en utilisant les mêmes techniques qu'évoquées lors des formations précédentes (pour afficher des informations à propos de nos modèles)&nbsp;: la vue reçoit une requête, exécute toute action nécessaire, incluant la lecture de données depuis les modèles, puis génère une page HTML (à partir d'un squelette auquel nous transmettons un <em>contexte</em> contenant les données à afficher). Ce qui rend les choses plus compliquées, c'est que le serveur a aussi besoin d'être capable de traiter les données fournies par l'utilisateur (pas seulement le contexte) et doit pouvoir réafficher les pages s'il y a une quelconque erreur.</p>
<p>Voici ci-dessous un diagramme représentant les étapes de gestion d'un formulaire de requêtes, commençant par la demande par le navigateur d'une page, dont le code HTML se trouve contenir un formulaire (en vert).</p>
<p>
  <img src="/en-US/docs/Learn/Server-side/Django/Forms/form_handling_-_standard.png" alt="Document décrivant le processus de mise à jour d'un formulaire." width="1180" height="840" loading="lazy">
</p>
<p>En se basant sur la lecture du diagramme ci-dessus, les tâches principales dont s'acquitte Django à l'occasion de la gestion d'un formulaire sont&nbsp;:</p>
<ol>
  <li>Afficher le formulaire sous sa forme par défaut la première fois où il est demandé par l'utilisateur.
    <ul>
      <li>Le formulaire peut contenir des champs vides (par exemple, si vous créez un nouvel enregistrement), ou il peut être prérempli de valeurs initiales (par exemple, si vous modifiez les valeurs d'un enregistrement existant, ou que ces champs ont des valeurs initiales utiles).</li>
      <li>Le formulaire est qualifié à cette étape de <em>formulaire libre</em>, parce qu'il n'est associé à aucune donnée entrée par l'utilisateur (bien qu'il puisse avoir des valeurs initiales).</li>
    </ul>
  </li>
  <li>Recevoir des données d'une requête d'envoi de données et les lier au formulaire.
    <ul>
      <li>Lier les données au formulaire signifie que les données entrées par l'utilisateur, ainsi que les erreurs éventuelles, sont accessibles lorsque nous avons besoin de réafficher le formulaire.</li>
    </ul>
  </li>
  <li>Nettoyer et valider les données.
    <ul>
      <li>Le nettoyage de données consiste à désinfecter la saisie (par exemple, en supprimant les caractères non valides, et qui pourraient être utilisés pour envoyer du contenu malveillant au serveur) et à convertir ces données en types Python cohérents.</li>
      <li>La validation vérifie que les valeurs envoyées sont appropriées au champ (par exemple, dans le bon intervalle de dates, ni trop long ni trop court, etc.)</li>
    </ul>
  </li>
  <li>Si une donnée n'est pas valide, réafficher le formulaire, cette fois-ci avec les données déjà saisies par l'utilisateur et les messages d'erreur pour les champs en erreur.</li>
  <li>Si toutes les données sont conformes, effectuer les actions demandées (par exemple, sauvegarder les données, envoyer un e-mail, renvoyer le résultat d'une recherche, télécharger un fichier, etc.)</li>
  <li>Une fois toutes ces actions accomplies, rediriger l'utilisateur vers une autre page.</li>
</ol>
<p>Django fournit une multitude d'outils et de méthodes pour vous assister dans les tâches mentionnées ci-dessus. Parmi eux, la plus importante est la classe <code>Form</code>, qui simplifie à la fois la production de formulaire HTML mais aussi la validation des données. Dans la section suivante, nous décrivons comment les formulaires fonctionnent en prenant l'exemple d'une page qui permet aux bibliothécaires de renouveler des livres.</p>
<div class="notecard note" id="sect1">
  <p><strong>Note :</strong> Comprendre l'utilisation de <code>Form</code> vous aidera quand nous parlerons des classes de formulaires de Django plus complexes.</p>
</div></div><h2 id="formulaire_de_renouvellement_de_livre_par_lutilisation_de_form_et_dune_vue_fonctionnelle"><a href="#formulaire_de_renouvellement_de_livre_par_lutilisation_de_form_et_dune_vue_fonctionnelle" title="Permalink to Formulaire de renouvellement de livre par l'utilisation de Form et d'une vue fonctionnelle">Formulaire de renouvellement de livre par l'utilisation de Form et d'une vue fonctionnelle</a></h2><div><p>Nous allons maintenant créer une page qui permettra aux bibliothécaires de renouveler les livres empruntés. Pour cela nous allons créer un formulaire qui permet aux utilisateurs de saisir une valeur de type <code>date</code>. Considérons le champ avec une valeur initiale égale à la date du jour plus 3 semaines (la période normale d'emprunt d'un livre), et ajoutons une validation pour s'assurer que le bibliothécaire ne peut pas saisir une date dans le passé ou une date trop éloignée dans le futur. Quand une date valide a été entrée, nous l'enregistrons dans le champ <code>BookInstance.due_back</code> de l'enregistrement courant.</p>
<p>L'exemple va utiliser une vue basée sur une fonction et une classe <code>Form</code>. Les sections suivantes expliquent comment les formulaires fonctionnent, et les changements que vous devez faire à notre projet en cours <em>LocalLibrary</em>.</p></div><h3 id="formulaire"><a href="#formulaire" title="Permalink to Formulaire">Formulaire</a></h3><div><p>La classe <code>Form</code> est le cœur du système de gestion des formulaires de Django. Elle spécifie les champs présents dans le formulaire, affiche les widgets, les labels, les valeurs initiales, les valeurs valides et (après validation) les messages d'erreur associés aux champs invalides. Cette classe fournit également des méthodes pour se restituer elle-même dans les templates en utilisant des formats prédéfinis (tableaux, listes, etc.) ou pour obtenir la valeur de chaque élément de formulaire (permettant un rendu manuel fin).</p>
<h4 id="déclarer_un_formulaire">Déclarer un formulaire</h4>
<p>La syntaxe de déclaration pour un <code>Form</code> est très semblable à celle utilisée pour déclarer un <code>Model</code> — elles partagent les mêmes types de champs (et des paramètres similaires). Cela est logique, puisque dans les deux cas nous avons besoin de nous assurer que chaque champ gère le bon type de données, se limite aux données valides, et a une description pour l'affichage/la documentation.</p>
<p>Les données de formulaire sont stockées dans un fichier application forms.py, à l'intérieur du répertoire de l'application. Créez et ouvrez le fichier <strong>locallibrary/catalog/forms.py</strong>. Pour créer un <code>Form</code>, nous importons la bibliothèque <code>forms</code>, dérivons une classe de la classe <code>Form</code>, et déclarons les champs du formulaire. Une classe très basique de formulaire pour notre formulaire de renouvellement de livre dans notre bibliothèque est montrée ci-dessous (ajoutez ceci à votre nouveau fichier)&nbsp;:</p>
<div class="code-example"><pre class="brush: python notranslate"><code><span class="token keyword">from</span> django <span class="token keyword">import</span> forms

<span class="token keyword">class</span> <span class="token class-name">RenewBookForm</span><span class="token punctuation">(</span>forms<span class="token punctuation">.</span>Form<span class="token punctuation">)</span><span class="token punctuation">:</span>
  renewal_date <span class="token operator">=</span> forms<span class="token punctuation">.</span>DateField<span class="token punctuation">(</span>help_text<span class="token operator">=</span><span class="token string">"Enter a date between now and 4 weeks (default 3)."</span><span class="token punctuation">)</span>
</code></pre></div>
<h4 id="champs_de_formulaire">Champs de formulaire</h4>
<p>Dans ce cas, nous avons un unique champ <a href="https://docs.djangoproject.com/fr/3.1/ref/forms/fields/#datefield" class="external" rel=" noopener"><code>DateField</code></a> pour entrer la date du renouvellement, qui sera rendue en HTML avec une valeur vide, le label par défaut "<em>Renewal date:</em>", et un texte utilitaire indiquant comment s'en servir&nbsp;: "<em>Enter a date between now and 4 weeks (default 3 weeks).</em>" Comme aucun des autres arguments optionnels ne sont spécifiés, le champ acceptera des dates en utilisant les <a href="https://docs.djangoproject.com/fr/3.1/ref/forms/fields/#django.forms.DateField.input_formats" class="external" rel=" noopener">input_formats</a> suivants&nbsp;: YYYY-MM-DD (2016-11-06), MM/DD/YYYY (02/26/2016), MM/DD/YY (10/25/16), et sera rendu en utilisant le <a href="https://docs.djangoproject.com/fr/3.1/ref/forms/fields/#widget" class="external" rel=" noopener">widget</a> par défaut&nbsp;: <a href="https://docs.djangoproject.com/fr/3.1/ref/forms/widgets/#django.forms.DateInput" class="external" rel=" noopener">DateInput</a>.</p>
<p>Il y a beaucoup d'autres types de champs, que vous reconnaîtrez sans peine en raison de leur ressemblance avec les classes de champs équivalentes pour les modèles : <a href="https://docs.djangoproject.com/fr/3.1/ref/forms/fields/#booleanfield" class="external" rel=" noopener"><code>BooleanField</code></a>, <a href="https://docs.djangoproject.com/fr/3.1/ref/forms/fields/#charfield" class="external" rel=" noopener"><code>CharField</code></a>, <a href="https://docs.djangoproject.com/fr/3.1/ref/forms/fields/#choicefield" class="external" rel=" noopener"><code>ChoiceField</code></a>, <a href="https://docs.djangoproject.com/fr/3.1/ref/forms/fields/#typedchoicefield" class="external" rel=" noopener"><code>TypedChoiceField</code></a>, <a href="https://docs.djangoproject.com/fr/3.1/ref/forms/fields/#datefield" class="external" rel=" noopener"><code>DateField</code></a>, <a href="https://docs.djangoproject.com/fr/3.1/ref/forms/fields/#datetimefield" class="external" rel=" noopener"><code>DateTimeField</code></a>, <a href="https://docs.djangoproject.com/fr/3.1/ref/forms/fields/#decimalfield" class="external" rel=" noopener"><code>DecimalField</code></a>, <a href="https://docs.djangoproject.com/fr/3.1/ref/forms/fields/#durationfield" class="external" rel=" noopener"><code>DurationField</code></a>, <a href="https://docs.djangoproject.com/fr/3.1/ref/forms/fields/#emailfield" class="external" rel=" noopener"><code>EmailField</code></a>, <a href="https://docs.djangoproject.com/fr/3.1/ref/forms/fields/#filefield" class="external" rel=" noopener"><code>FileField</code></a>, <a href="https://docs.djangoproject.com/fr/3.1/ref/forms/fields/#filepathfield" class="external" rel=" noopener"><code>FilePathField</code></a>, <a href="https://docs.djangoproject.com/fr/3.1/ref/forms/fields/#floatfield" class="external" rel=" noopener"><code>FloatField</code></a>, <a href="https://docs.djangoproject.com/fr/3.1/ref/forms/fields/#imagefield" class="external" rel=" noopener"><code>ImageField</code></a>, <a href="https://docs.djangoproject.com/fr/3.1/ref/forms/fields/#integerfield" class="external" rel=" noopener"><code>IntegerField</code></a>, <a href="https://docs.djangoproject.com/fr/3.1/ref/forms/fields/#genericipaddressfield" class="external" rel=" noopener"><code>GenericIPAddressField</code></a>, <a href="https://docs.djangoproject.com/fr/3.1/ref/forms/fields/#multiplechoicefield" class="external" rel=" noopener"><code>MultipleChoiceField</code></a>, <a href="https://docs.djangoproject.com/fr/3.1/ref/forms/fields/#typedmultiplechoicefield" class="external" rel=" noopener"><code>TypedMultipleChoiceField</code></a>, <a href="https://docs.djangoproject.com/fr/3.1/ref/forms/fields/#nullbooleanfield" class="external" rel=" noopener"><code>NullBooleanField</code></a>, <a href="https://docs.djangoproject.com/fr/3.1/ref/forms/fields/#regexfield" class="external" rel=" noopener"><code>RegexField</code></a>, <a href="https://docs.djangoproject.com/fr/3.1/ref/forms/fields/#slugfield" class="external" rel=" noopener"><code>SlugField</code></a>, <a href="https://docs.djangoproject.com/fr/3.1/ref/forms/fields/#timefield" class="external" rel=" noopener"><code>TimeField</code></a>, <a href="https://docs.djangoproject.com/fr/3.1/ref/forms/fields/#urlfield" class="external" rel=" noopener"><code>URLField</code></a>, <a href="https://docs.djangoproject.com/fr/3.1/ref/forms/fields/#uuidfield" class="external" rel=" noopener"><code>UUIDField</code></a>, <a href="https://docs.djangoproject.com/fr/3.1/ref/forms/fields/#combofield" class="external" rel=" noopener"><code>ComboField</code></a>, <a href="https://docs.djangoproject.com/fr/3.1/ref/forms/fields/#multivaluefield" class="external" rel=" noopener"><code>MultiValueField</code></a>, <a href="https://docs.djangoproject.com/fr/3.1/ref/forms/fields/#splitdatetimefield" class="external" rel=" noopener"><code>SplitDateTimeField</code></a>, <a href="https://docs.djangoproject.com/fr/3.1/ref/forms/fields/#modelmultiplechoicefield" class="external" rel=" noopener"><code>ModelMultipleChoiceField</code></a>, <a href="https://docs.djangoproject.com/fr/3.1/ref/forms/fields/#modelchoicefield" class="external" rel=" noopener"><code>ModelChoiceField</code></a>.</p>
<p>Les arguments communs à la plupart des champs sont listés ci-dessous (ils ont des valeurs sensibles par défaut)&nbsp;:</p>
<ul>
  <li><a href="https://docs.djangoproject.com/fr/3.1/ref/forms/fields/#required" class="external" rel=" noopener"><code>required</code></a>&nbsp;: Si <code>True</code>, le champ ne peut être laissé vide ou recevoir une valeur <code>None</code>. Les champs sont requis par défaut, aussi devez-vous préciser <code>required=False</code> pour autoriser des valeurs vides dans le formulaire.</li>
  <li><a href="https://docs.djangoproject.com/fr/3.1/ref/forms/fields/#label" class="external" rel=" noopener"><code>label</code></a>&nbsp;: Le label à utiliser au moment de rendre le champ en HTML. Si <a href="https://docs.djangoproject.com/fr/3.1/ref/forms/fields/#label" class="external" rel=" noopener">label</a> n'est pas précisé, alors Django en créera un à partir du nom du champ concerné, en mettant en majuscule la première lettre et en remplaçant les tirets bas par des espaces (par exemple, <em>Renewal date</em>).</li>
  <li><a href="https://docs.djangoproject.com/fr/3.1/ref/forms/fields/#label-suffix" class="external" rel=" noopener"><code>label_suffix</code></a>&nbsp;: Par défaut, un double point est affiché après le label (par exemple, Renewal date​<strong>:</strong>). Cet argument vous permet de préciser un suffixe différent contenant un ou plusieurs autres caractère(s).</li>
  <li><a href="https://docs.djangoproject.com/fr/3.1/ref/forms/fields/#initial" class="external" rel=" noopener"><code>initial</code></a>&nbsp;: La valeur intiale pour le champ lorsque le formulaire est affiché.</li>
  <li><a href="https://docs.djangoproject.com/fr/3.1/ref/forms/fields/#widget" class="external" rel=" noopener"><code>widget</code></a>&nbsp;: Le widget d'affichage à utiliser.</li>
  <li><a href="https://docs.djangoproject.com/fr/3.1/ref/forms/fields/#help-text" class="external" rel=" noopener"><code>help_text</code></a> (comme dans l'exemple ci-dessus)&nbsp;: Un texte supplémentaire qui peut être affiché dans les formulaires pour expliquer comment utiliser le champ.</li>
  <li><a href="https://docs.djangoproject.com/fr/3.1/ref/forms/fields/#error-messages" class="external" rel=" noopener"><code>error_messages</code></a>&nbsp;: Une liste des messages d'erreur pour le champ. Vous pouvez remplacer les messages par défaut par vos propres messages si besoin.</li>
  <li><a href="https://docs.djangoproject.com/fr/3.1/ref/forms/fields/#validators" class="external" rel=" noopener"><code>validators</code></a>&nbsp;: Une liste de fonctions qui seront appelées quand le champ sera validé.</li>
  <li><a href="https://docs.djangoproject.com/fr/3.1/ref/forms/fields/#localize" class="external" rel=" noopener"><code>localize</code></a>&nbsp;: Autorise la forme locale des données de formulaire (voir le lien pour plus d'informations).</li>
  <li><a href="https://docs.djangoproject.com/fr/3.1/ref/forms/fields/#disabled" class="external" rel=" noopener"><code>disabled</code></a>&nbsp;: Si <code>True</code>, le champ est affiché, mais sa valeur ne peut être modifiée. <code>False</code> par défaut.</li>
</ul>
<h4 id="validation">Validation</h4>
<p>Django fournit un grand nombre d'endroits pour valider vos données. La façon la plus simple de valider un champ unique est de remplacer la méthode <code>clean_&lt;fieldname&gt;()</code> pour le champ à vérifier. Ainsi, par exemple, nous pouvons vérifier que les valeurs entrées pour le champ <code>renewal_date</code> sont entre maintenant et dans 4 semaines, en implémentant la méthode <code>clean_renewal_date()</code> comme montré ci-après.</p>
<p>Mettez à jour votre fichier forms.py, de telle sorte qu'il ressemble à cela&nbsp;:</p>
<div class="code-example"><pre class="brush: python notranslate"><code><span class="token keyword">import</span> datetime

<span class="token keyword">from</span> django <span class="token keyword">import</span> forms

<span class="token keyword">from</span> django<span class="token punctuation">.</span>core<span class="token punctuation">.</span>exceptions <span class="token keyword">import</span> ValidationError
<span class="token keyword">from</span> django<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>translation <span class="token keyword">import</span> ugettext_lazy <span class="token keyword">as</span> _

<span class="token keyword">class</span> <span class="token class-name">RenewBookForm</span><span class="token punctuation">(</span>forms<span class="token punctuation">.</span>Form<span class="token punctuation">)</span><span class="token punctuation">:</span>
  renewal_date <span class="token operator">=</span> forms<span class="token punctuation">.</span>DateField<span class="token punctuation">(</span>help_text<span class="token operator">=</span><span class="token string">"Enter a date between now and 4 weeks (default 3)."</span><span class="token punctuation">)</span>

  <span class="token keyword">def</span> <span class="token function">clean_renewal_date</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
    data <span class="token operator">=</span> self<span class="token punctuation">.</span>cleaned_data<span class="token punctuation">[</span><span class="token string">'renewal_date'</span><span class="token punctuation">]</span>

    <span class="token comment"># Vérifier que la date ne se situe pas dans le passé.</span>
    <span class="token keyword">if</span> data <span class="token operator">&lt;</span> datetime<span class="token punctuation">.</span>date<span class="token punctuation">.</span>today<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
      <span class="token keyword">raise</span> ValidationError<span class="token punctuation">(</span>_<span class="token punctuation">(</span><span class="token string">'Invalid date - renewal in past'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

      <span class="token comment"># Vérifier que la date tombe dans le bon intervalle (entre maintenant et dans 4 semaines).</span>
    <span class="token keyword">if</span> data <span class="token operator">&gt;</span> datetime<span class="token punctuation">.</span>date<span class="token punctuation">.</span>today<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> datetime<span class="token punctuation">.</span>timedelta<span class="token punctuation">(</span>weeks<span class="token operator">=</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
      <span class="token keyword">raise</span> ValidationError<span class="token punctuation">(</span>_<span class="token punctuation">(</span><span class="token string">'Invalid date - renewal more than 4 weeks ahead'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

    <span class="token comment"># N'oubliez pas de toujours renvoyer les données nettoyées.</span>
    <span class="token keyword">return</span> data
</code></pre></div>
<p>Il y a deux choses importantes à noter. La première est que nous accédons à nos données en utilisant <code>self.cleaned_data['renewal_date']</code> et que nous retournons ces données, que nous les ayons changées ou non, à la fin de la fonction. Cette étape nous donne des données "nettoyées", purgées de valeurs potentiellement dangereuses en utilisant les validateurs par défaut, et converties en type standard correct pour les données considérées (dans ce cas un objet Python <code>datetime.datetime</code>).</p>
<p>Le deuxième point est que, si une valeur tombe en dehors de l'intervalle que nous avons autorisé, nous levons une <code>ValidationError</code>, en spécifiant le texte d'erreur que nous voulons afficher dans la zone du formulaire prévue pour le cas où l'utilisateur entre une valeur non valide. L'exemple ci-dessus enveloppe aussi ce texte dans <code>ugettext_lazy()</code> (importée comme <code>_()</code>), une des <a href="https://docs.djangoproject.com/fr/3.1/topics/i18n/translation/" class="external" rel=" noopener">fonctions de traduction Django</a>, ce qui est une bonne pratique si vous voulez traduire votre site plus tard.</p>
<div class="notecard note" id="sect2">
  <p><strong>Note :</strong> Il y a un grand nombre d'autres méthodes et exemples au sujet de la validation des formulaires dans <a href="https://docs.djangoproject.com/fr/3.1/ref/forms/validation/" class="external" rel=" noopener">La validation de formulaires et de champs</a> (Documentation de Django). Par exemple, au cas où vous avez plusieurs champs dépendants les uns des autres, vous pouvez réécrire la fonction <a href="https://docs.djangoproject.com/fr/3.1/ref/forms/api/#django.forms.Form.clean" class="external" rel=" noopener">Form.clean()</a>, et lever de nouveau une <code>ValidationError</code>.</p>
</div>
<p>C'est tout ce dont nous avons besoin pour notre formulaire dans cet exemple.</p></div><h3 id="configuration_durl"><a href="#configuration_durl" title="Permalink to Configuration d'URL">Configuration d'URL</a></h3><div><p>Avant de créer notre vue, ajoutons une configuration d'URL pour la page <em>renew-books</em>. Copiez la configuration suivante à la fin de <strong>locallibrary/catalog/urls.py</strong>&nbsp;:</p>
<div class="code-example"><pre class="brush: python notranslate"><code>urlpatterns <span class="token operator">+=</span> <span class="token punctuation">[</span>
  path<span class="token punctuation">(</span><span class="token string">'book/&lt;uuid:pk&gt;/renew/'</span><span class="token punctuation">,</span> views<span class="token punctuation">.</span>renew_book_librarian<span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">'renew-book-librarian'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span>
</code></pre></div>
<p>La configuration d'URL va rediriger les URLs ayant le format <strong>/catalog/book/<em>&lt;bookinstance_id&gt;</em>/renew/</strong> vers la fonction appelée <code>renew_book_librarian()</code> dans <strong>views.py</strong>, et envoyer l'<code>id</code> de <code>BookInstance</code> comme paramètre sous le nom <code>pk</code>. Le motif ne fonctionnera que si <code>pk</code> est un <code>uuid</code> correctement formaté.</p>
<div class="notecard note" id="sect3">
  <p><strong>Note :</strong> Nous pouvons appeler comme bon nous semble la donnée d'URL "<code>pk</code>" que nous avons capturée, car nous contrôlons complètement la fonction de notre vue (nous n'utilisons pas une vue générique "détail", laquelle attendrait des paramètres avec un certain nom). Cependant, le raccourci <code>pk</code>, pour "primary key", est une convention qu'il est raisonnable d'utiliser&nbsp;!</p>
</div></div><h3 id="vue"><a href="#vue" title="Permalink to Vue">Vue</a></h3><div><p>Comme nous l'avons expliqué ci-dessus dans <a href="#les_%C3%A9tapes_de_gestion_dun_formulaire_avec_django">Les étapes de gestion d'un formulaire avec Django</a>, la vue doit retourner le formulaire par défaut s'il est appelé pour la première fois, et ensuite soit le retourner à nouveau avec les messages d'erreur si les données sont invalides, soit gérer les données et rediriger vers une nouvelle page si elles sont valides. Pour effectuer ces différentes actions, la vue doit être en mesure de savoir si elle est appelée pour la première fois (et retourner le formulaire par défaut) ou pour la deuxième fois ou plus (et valider les données).</p>
<p>Pour les formulaires qui utilisent une requête <code>POST</code> pour envoyer une information au serveur, la manière la plus commune de procéder pour la vue est de tester le type de requête <code>POST</code> (<code>if request.method == 'POST':</code>) pour repérer des requêtes de type validation de formulaire, et <code>GET</code> (en utilisant une condition <code>else</code>) pour identifier une requête initiale de création de formulaire. Si vous voulez utiliser une requête <code>GET</code> pour envoyer vos données, alors une approche classique pour savoir si la vue est invoquée pour la première fois ou non est de lire les données du formulaire (par exemple, lire une valeur cachée dans le formulaire).</p>
<p>Le processus de renouvellement de livre va écrire dans notre base de données, aussi, par convention, nous utiliserons le type de requête <code>POST</code>. Le bout de code ci-dessous montre le procédé (très classique) pour cette sorte de vue basée sur des fonctions.</p>
<div class="code-example"><pre class="brush: python notranslate"><code><span class="token keyword">import</span> datetime

<span class="token keyword">from</span> django<span class="token punctuation">.</span>shortcuts <span class="token keyword">import</span> render<span class="token punctuation">,</span> get_object_or_404
<span class="token keyword">from</span> django<span class="token punctuation">.</span>http <span class="token keyword">import</span> HttpResponseRedirect
<span class="token keyword">from</span> django<span class="token punctuation">.</span>urls <span class="token keyword">import</span> reverse

<span class="token keyword">from</span> catalog<span class="token punctuation">.</span>forms <span class="token keyword">import</span> RenewBookForm

<span class="token keyword">def</span> <span class="token function">renew_book_librarian</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> pk<span class="token punctuation">)</span><span class="token punctuation">:</span>
  book_instance <span class="token operator">=</span> get_object_or_404<span class="token punctuation">(</span>BookInstance<span class="token punctuation">,</span> pk<span class="token operator">=</span>pk<span class="token punctuation">)</span>

  <span class="token comment"># S'il s'agit d'une requête POST, traiter les données du formulaire.</span>
  <span class="token keyword">if</span> request<span class="token punctuation">.</span>method <span class="token operator">==</span> <span class="token string">'POST'</span><span class="token punctuation">:</span>

    <span class="token comment"># Créer une instance de formulaire et la peupler avec des données récupérées dans la requête (liaison) :</span>
    form <span class="token operator">=</span> RenewBookForm<span class="token punctuation">(</span>request<span class="token punctuation">.</span>POST<span class="token punctuation">)</span>

    <span class="token comment"># Vérifier que le formulaire est valide :</span>
    <span class="token keyword">if</span> form<span class="token punctuation">.</span>is_valid<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
      <span class="token comment"># Traiter les données dans form.cleaned_data tel que requis (ici on les écrit dans le champ de modèle due_back) :</span>
      book_instance<span class="token punctuation">.</span>due_back <span class="token operator">=</span> form<span class="token punctuation">.</span>cleaned_data<span class="token punctuation">[</span><span class="token string">'renewal_date'</span><span class="token punctuation">]</span>
      book_instance<span class="token punctuation">.</span>save<span class="token punctuation">(</span><span class="token punctuation">)</span>

      <span class="token comment"># Rediriger vers une nouvelle URL :</span>
      <span class="token keyword">return</span> HttpResponseRedirect<span class="token punctuation">(</span>reverse<span class="token punctuation">(</span><span class="token string">'all-borrowed'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

  <span class="token comment"># S'il s'agit d'une requête GET (ou toute autre méthode), créer le formulaire par défaut.</span>
  <span class="token keyword">else</span><span class="token punctuation">:</span>
    proposed_renewal_date <span class="token operator">=</span> datetime<span class="token punctuation">.</span>date<span class="token punctuation">.</span>today<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> datetime<span class="token punctuation">.</span>timedelta<span class="token punctuation">(</span>weeks<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">)</span>
    form <span class="token operator">=</span> RenewBookForm<span class="token punctuation">(</span>initial<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">'renewal_date'</span><span class="token punctuation">:</span> proposed_renewal_date<span class="token punctuation">}</span><span class="token punctuation">)</span>

  context <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token string">'form'</span><span class="token punctuation">:</span> form<span class="token punctuation">,</span>
    <span class="token string">'book_instance'</span><span class="token punctuation">:</span> book_instance<span class="token punctuation">,</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">return</span> render<span class="token punctuation">(</span>request<span class="token punctuation">,</span> <span class="token string">'catalog/book_renew_librarian.html'</span><span class="token punctuation">,</span> context<span class="token punctuation">)</span>
</code></pre></div>
<p>Nous importons tout d'abord notre formulaire (<code>RenewBookForm</code>) et un certain nombre d'autres objets/méthodes utiles, dont nous nous servons dans le corps de la fonction de notre vue&nbsp;:</p>
<ul>
  <li><a href="https://docs.djangoproject.com/fr/3.1/topics/http/shortcuts/#get-object-or-404" class="external" rel=" noopener"><code>get_object_or_404()</code></a>&nbsp;: Retourne un certain objet depuis un modèle, en se basant sur sa valeur "primary key", et lève une exception <code>Http404</code> (<em>not found</em>) si l'enregistrement n'existe pas.</li>
  <li><a href="https://docs.djangoproject.com/fr/3.1/ref/request-response/#django.http.HttpResponseRedirect" class="external" rel=" noopener"><code>HttpResponseRedirect</code></a>&nbsp;: Cette méthode crée une redirection vers une certaine URL (code de statut HTTP 302).</li>
  <li><a href="https://docs.djangoproject.com/fr/3.1/ref/urlresolvers/#django.urls.reverse" class="external" rel=" noopener"><code>reverse()</code></a>&nbsp;: Cette méthode génère une URL à partir d'un nom trouvé dans la configuration d'URL et un ensemble d'arguments. C'est l'équivalent Python du tag <code>url</code> que nous avons utilisé dans nos templates.</li>
  <li><a href="https://docs.python.org/3/library/datetime.html" class="external" rel=" noopener"><code>datetime</code></a>&nbsp;: Une bibliothèque Python pour manipuler des dates et des heures.</li>
</ul>
<p>Dans la vue, nous utilisons d'abord l'argument <code>pk</code> dans la fonction <code>get_object_or_404()</code> afin d'obtenir la <code>BookInstance</code> courante (si cette instance n'existe pas, la vue se termine immédiatement et la page va afficher une erreur). Si ce n'est <em>pas</em> une requête <code>POST</code> (cas géré par la clause <code>else</code>), alors nous créons le formulaire par défaut en lui passant une valeur <code>initial</code> pour le champ <code>renewal_date</code> (comme montré ci-dessous, c'est la date actuelle plus 3 semaines).</p>
<div class="code-example"><pre class="brush: python notranslate"><code>  book_instance <span class="token operator">=</span> get_object_or_404<span class="token punctuation">(</span>BookInstance<span class="token punctuation">,</span> pk<span class="token operator">=</span>pk<span class="token punctuation">)</span>

  <span class="token comment"># S'il s'agit d'une requête GET (ou toute autre méthode), créer le formulaire par défaut.</span>
  <span class="token keyword">else</span><span class="token punctuation">:</span>
    proposed_renewal_date <span class="token operator">=</span> datetime<span class="token punctuation">.</span>date<span class="token punctuation">.</span>today<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> datetime<span class="token punctuation">.</span>timedelta<span class="token punctuation">(</span>weeks<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">)</span>
    form <span class="token operator">=</span> RenewBookForm<span class="token punctuation">(</span>initial<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">'renewal_date'</span><span class="token punctuation">:</span> proposed_renewal_date<span class="token punctuation">}</span><span class="token punctuation">)</span>

  context <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token string">'form'</span><span class="token punctuation">:</span> form<span class="token punctuation">,</span>
    <span class="token string">'book_instance'</span><span class="token punctuation">:</span> book_instance<span class="token punctuation">,</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">return</span> render<span class="token punctuation">(</span>request<span class="token punctuation">,</span> <span class="token string">'catalog/book_renew_librarian.html'</span><span class="token punctuation">,</span> context<span class="token punctuation">)</span>
</code></pre></div>
<p>Après la création du formulaire, nous appelons la fonction <code>render()</code> pour créer la page HTML, en précisant le template et un contexte qui contient notre formulaire. Dans ce cas, le contexte contient aussi notre <code>BookInstance</code>, que nous allons utiliser dans le template pour fournir des informations à propos du livre que nous sommes en train de renouveler.</p>
<p>En revanche, s'il s'agit d'une requête <code>POST</code>, alors nous créons notre objet <code>form</code> et le peuplons avec des données récupérées dans la requête. Ce processus est appelé "<em>binding</em>" (liaison) et nous permet de valider le formulaire.</p>
<p>Ensuite nous vérifions que le formulaire est valide, ce qui déclenche tout le code de validation sur tous les champs — ce qui inclut à la fois le code générique vérifiant que notre champ de date est effectivement une date valide, et notre fonction <code>clean_renewal_date()</code>, spécifique à notre formulaire, pour vérifier que la date est dans le bon intervalle.</p>
<div class="code-example"><pre class="brush: python notranslate"><code>book_instance <span class="token operator">=</span> get_object_or_404<span class="token punctuation">(</span>BookInstance<span class="token punctuation">,</span> pk<span class="token operator">=</span>pk<span class="token punctuation">)</span>

  <span class="token comment"># S'il s'agit d'une requête POST, traiter les données du formulaire.</span>
  <span class="token keyword">if</span> request<span class="token punctuation">.</span>method <span class="token operator">==</span> <span class="token string">'POST'</span><span class="token punctuation">:</span>

    <span class="token comment"># Créer une instance de formulaire et la peupler avec des données récupérées dans la requête (liaison) :</span>
    form <span class="token operator">=</span> RenewBookForm<span class="token punctuation">(</span>request<span class="token punctuation">.</span>POST<span class="token punctuation">)</span>

    <span class="token comment"># Vérifier que le formulaire est valide :</span>
    <span class="token keyword">if</span> form<span class="token punctuation">.</span>is_valid<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
      <span class="token comment"># Traiter les données dans form.cleaned_data tel que requis (ici on les écrit dans le champ de modèle due_back) :</span>
      book_instance<span class="token punctuation">.</span>due_back <span class="token operator">=</span> form<span class="token punctuation">.</span>cleaned_data<span class="token punctuation">[</span><span class="token string">'renewal_date'</span><span class="token punctuation">]</span>
      book_instance<span class="token punctuation">.</span>save<span class="token punctuation">(</span><span class="token punctuation">)</span>

      <span class="token comment"># Rediriger vers une nouvelle URL :</span>
      <span class="token keyword">return</span> HttpResponseRedirect<span class="token punctuation">(</span>reverse<span class="token punctuation">(</span><span class="token string">'all-borrowed'</span><span class="token punctuation">)</span> <span class="token punctuation">)</span>

  context <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token string">'form'</span><span class="token punctuation">:</span> form<span class="token punctuation">,</span>
    <span class="token string">'book_instance'</span><span class="token punctuation">:</span> book_instance<span class="token punctuation">,</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">return</span> render<span class="token punctuation">(</span>request<span class="token punctuation">,</span> <span class="token string">'catalog/book_renew_librarian.html'</span><span class="token punctuation">,</span> context<span class="token punctuation">)</span>
</code></pre></div>
<p>Si le formulaire n'est pas valide, nous appelons à nouveau la fonction <code>render()</code>, mais cette fois les valeurs passées dans le contexte vont inclure les messages d'erreur.</p>
<p>Si le formulaire est valide, alors nous pouvons commencer à utiliser les données, en y accédant à travers l'attribut <code>form.cleaned_data</code> (par exemple, <code>data = form.cleaned_data['renewal_date']</code>). Ici, nous ne faisons que sauvegarder les données reçues dans la valeur <code>due_back</code> de l'objet <code>BookInstance</code> associé.</p>
<div class="notecard warning" id="sect4">
  <p><strong>Attention :</strong> Alors que vous pouvez accéder aussi aux données de formulaire directement à travers la requête (par exemple, <code>request.POST['renewal_date']</code>, ou <code>request.GET['renewal_date']</code> si vous utilisez une requête GET), ce n'est PAS recommandé. Les données nettoyées sont assainies, validées et converties en types standard Python.</p>
</div>
<p>L'étape finale dans la partie "gestion de formulaire" de la vue est de rediriger vers une autre page, habituellement une page "success". Dans ce cas, nous utilisons <code>HttpResponseRedirect</code> et <code>reverse()</code> pour rediriger vers la vue appelée <code>'all-borrowed'</code> (qui a été créée dans la partie "challenge" de <a href="/en-US/docs/Learn/Server-side/Django/Authentication" class="only-in-en-us" title="Currently only available in English (US)">Django didactique section 8&nbsp;: Authentification des utilisateurs et permissions (en-US)</a>. Si vous n'avez pas créé cette page, vous pouvez rediriger vers la page d'accueil à l'URL '<code>/</code>').</p>
<p>C'est tout ce qui est requis pour la gestion du formulaire lui-même, mais il nous faut encore restreindre l'accès à la vue aux seuls libraires connectés. Nous utilisons <code>@login_required</code> en exigeant que l'utilisateur se soit connecté, et le décorateur de fonction <code>@permission_required</code> avec notre permission existante <code>can_mark_returned</code> afin d'autoriser l'accès (les décorateurs sont traités en séquence). À noter que nous aurions dû créer un nouveau réglage de permission dans <code>BookInstance</code> ("<code>can_renew</code>"), mais nous réutilisons celui existant pour garder l'exemple plus simple.</p>
<p>Le résultat final de la vue est donc comme indiqué ci-dessous. Veuillez copier ceci en bas de <strong>locallibrary/catalog/views.py</strong>.</p>
<div class="code-example"><pre class="brush: python notranslate"><code><span class="token keyword">import</span> datetime

<span class="token keyword">from</span> django<span class="token punctuation">.</span>contrib<span class="token punctuation">.</span>auth<span class="token punctuation">.</span>decorators <span class="token keyword">import</span> login_required<span class="token punctuation">,</span> permission_required
<span class="token keyword">from</span> django<span class="token punctuation">.</span>shortcuts <span class="token keyword">import</span> get_object_or_404
<span class="token keyword">from</span> django<span class="token punctuation">.</span>http <span class="token keyword">import</span> HttpResponseRedirect
<span class="token keyword">from</span> django<span class="token punctuation">.</span>urls <span class="token keyword">import</span> reverse

<span class="token keyword">from</span> catalog<span class="token punctuation">.</span>forms <span class="token keyword">import</span> RenewBookForm

<span class="token decorator annotation punctuation">@login_required</span>
<span class="token decorator annotation punctuation">@permission_required</span><span class="token punctuation">(</span><span class="token string">'catalog.can_mark_returned'</span><span class="token punctuation">,</span> raise_exception<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
<span class="token keyword">def</span> <span class="token function">renew_book_librarian</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> pk<span class="token punctuation">)</span><span class="token punctuation">:</span>
  <span class="token triple-quoted-string string">"""View function for renewing a specific BookInstance by librarian."""</span>
  book_instance <span class="token operator">=</span> get_object_or_404<span class="token punctuation">(</span>BookInstance<span class="token punctuation">,</span> pk<span class="token operator">=</span>pk<span class="token punctuation">)</span>

  <span class="token comment"># S'il s'agit d'une requête POST, traiter les données du formulaire.</span>
  <span class="token keyword">if</span> request<span class="token punctuation">.</span>method <span class="token operator">==</span> <span class="token string">'POST'</span><span class="token punctuation">:</span>

    <span class="token comment"># Créer une instance de formulaire et la peupler avec des données récupérées dans la requête (liaison) :</span>
    form <span class="token operator">=</span> RenewBookForm<span class="token punctuation">(</span>request<span class="token punctuation">.</span>POST<span class="token punctuation">)</span>

    <span class="token comment"># Vérifier que le formulaire est valide :</span>
    <span class="token keyword">if</span> form<span class="token punctuation">.</span>is_valid<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
      <span class="token comment"># Traiter les données dans form.cleaned_data tel que requis (ici on les écrit dans le champ de modèle due_back) :</span>
      book_instance<span class="token punctuation">.</span>due_back <span class="token operator">=</span> form<span class="token punctuation">.</span>cleaned_data<span class="token punctuation">[</span><span class="token string">'renewal_date'</span><span class="token punctuation">]</span>
      book_instance<span class="token punctuation">.</span>save<span class="token punctuation">(</span><span class="token punctuation">)</span>

      <span class="token comment"># Rediriger vers une nouvelle URL :</span>
      <span class="token keyword">return</span> HttpResponseRedirect<span class="token punctuation">(</span>reverse<span class="token punctuation">(</span><span class="token string">'all-borrowed'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

  <span class="token comment"># S'il s'agit d'une requête GET (ou toute autre méthode), créer le formulaire par défaut.</span>
  <span class="token keyword">else</span><span class="token punctuation">:</span>
    proposed_renewal_date <span class="token operator">=</span> datetime<span class="token punctuation">.</span>date<span class="token punctuation">.</span>today<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> datetime<span class="token punctuation">.</span>timedelta<span class="token punctuation">(</span>weeks<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">)</span>
    form <span class="token operator">=</span> RenewBookForm<span class="token punctuation">(</span>initial<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">'renewal_date'</span><span class="token punctuation">:</span> proposed_renewal_date<span class="token punctuation">}</span><span class="token punctuation">)</span>
  
  context <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token string">'form'</span><span class="token punctuation">:</span> form<span class="token punctuation">,</span>
    <span class="token string">'book_instance'</span><span class="token punctuation">:</span> book_instance<span class="token punctuation">,</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">return</span> render<span class="token punctuation">(</span>request<span class="token punctuation">,</span> <span class="token string">'catalog/book_renew_librarian.html'</span><span class="token punctuation">,</span> context<span class="token punctuation">)</span>
</code></pre></div></div><h3 id="le_template"><a href="#le_template" title="Permalink to Le template">Le template</a></h3><div><p>Créez le template référencé dans la vue (<strong>/catalog/templates/catalog/book_renew_librarian.html</strong>) et copiez-y le code suivant&nbsp;:</p>
<div class="code-example"><pre class="brush: html notranslate"><code>{% extends "base_generic.html" %}

{% block content %}
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>Renew: {{ book_instance.book.title }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>Borrower: {{ book_instance.borrower }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">{%</span> <span class="token attr-name">if</span> <span class="token attr-name">book_instance.is_overdue</span> <span class="token attr-name">%}</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text-danger<span class="token punctuation">"</span></span><span class="token attr-name">{%</span> <span class="token attr-name">endif</span> <span class="token attr-name">%}</span><span class="token punctuation">&gt;</span></span>Due date: {{ book_instance.due_back }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>post<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    {% csrf_token %}
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span><span class="token punctuation">&gt;</span></span>
    {{ form.as_table }}
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Submit<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>
{% endblock %}
</code></pre></div>
<p>La majeure partie de ce code devrait vous être familière si vous avez suivi les tutoriels précédents.</p>
<p>Nous étendons le template de base et ensuite redéfinissons le block "content". Nous sommes en mesure de référencer <code>{{ book_instance }}</code> (et ses variables), puisqu'il a été passé dans l'objet contexte par la fonction <code>render()</code>, et nous utilisons tout cela pour lister le titre du livre, son emprunteur et la date originale de retour.</p>
<p>Le code du formulaire est relativement simple. Nous déclarons d'abord les balises <code>form</code>, en précisant où le formulaire doit être adressé (<code>action</code>) et la <code>method</code> utilisée pour soumettre les données (ici un "HTTP <code>POST</code>"). Si vous vous rappelez ce qui a été dit en haut de cette page (aperçu sur les <a href="#formulaires_html">Formulaires HTML</a>), une <code>action</code> vide comme ici signifie que les données de formulaire seront postées à nouveau à l'URL actuelle (ce qui est le comportement que nous voulons !). À l'intérieur des balises, nous définissons le bouton <code>submit</code> sur lequel l'utilisateur peut appuyer pour envoyer les données. Le <code>{% csrf_token %}</code> ajouté juste à l'intérieur des balises <code>form</code> est un des éléments de protection utilisés par Django contre les "<em>cross-site forgery</em>" (falsification de requête inter-site).</p>
<div class="notecard note" id="sect5">
  <p><strong>Note :</strong> Ajoutez le <code>{% csrf_token %}</code> à tout template Django que vous créez et qui utilise <code>POST</code> pour soumettre les données. Cela réduira les risques qu'un utilisateur mal intentionné pirate vos formulaires.</p>
</div>
<p>Tout ce qui reste est la variable de template <code>{{ form }}</code>, que nous avons passée au template dans le dictionnaire de contexte. Peut-être sans surprise, quand il est utilisé comme indiqué, il fournit le rendu par défaut de tous les champs de formulaire, y compris leurs labels, widgets et textes d'aide. Voici le rendu&nbsp;:</p>
<div class="code-example"><pre class="brush: html notranslate"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>id_renewal_date<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Renewal date:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>id_renewal_date<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>renewal_date<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>2016-11-08<span class="token punctuation">"</span></span> <span class="token attr-name">required</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>helptext<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Enter date between now and 4 weeks (default 3 weeks).<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
</code></pre></div>
<div class="notecard note" id="sect6">
  <p><strong>Note :</strong> Ce n'est peut-être pas évident, car nous n'avons qu'un seul champ, mais, par défaut, chaque champ est défini dans sa propre ligne de tableau. Ce même rendu est fourni si vous référencez la variable de template <code>{{ form.as_table }}</code>.</p>
</div>
<p>Si vous aviez entré une date invalide, vous obtiendriez en plus sur la page une liste des erreurs (voir <code>errorlist</code> ci-dessous).</p>
<div class="code-example"><pre class="brush: html notranslate"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>id_renewal_date<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Renewal date:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>errorlist<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>Invalid date - renewal in past<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>id_renewal_date<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>renewal_date<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>2015-11-08<span class="token punctuation">"</span></span> <span class="token attr-name">required</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>helptext<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Enter date between now and 4 weeks (default 3 weeks).<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
</code></pre></div>
<h4 id="autres_façons_dutiliser_la_variable_de_template_du_formulaire">Autres façons d'utiliser la variable de template du formulaire</h4>
<p>Si vous utilisez <code>{{ form.as_table }}</code> comme indiqué ci-dessus, chaque champ est rendu comme une ligne de tableau. Vous pouvez également rendre chaque champ comme un élément de liste (en utilisant <code>{{ form.as_ul }}</code>) ou comme un paragraphe (en utilisant <code>{{ form.as_p }}</code>).</p>
<p>Il est également possible d'avoir un contrôle complet sur le rendu de chaque partie du formulaire, en indexant ses propriétés grâce à la notation pointée. Ainsi, par exemple, nous pouvons accéder à un certain nombre d'éléments distincts pour notre champ <code>renewal_date</code> :</p>
<ul>
  <li><code>{{ form.renewal_date }}</code> : Le champ complet.</li>
  <li><code>{{ form.renewal_date.errors }}</code> : La liste des erreurs.</li>
  <li><code>{{ form.renewal_date.id_for_label }}</code> : L'<code>id</code> du label.</li>
  <li><code>{{ form.renewal_date.help_text }}</code> : Le texte d'aide du champ.</li>
</ul>
<p>Pour plus d'exemples sur la manière de rendre manuellement des formulaires dans des templates, et boucler de manière dynamique sur les champs du template, voyez <a href="https://docs.djangoproject.com/fr/3.1/topics/forms/#rendering-fields-manually" class="external" rel=" noopener">Utiliser des formulaires &gt; Affichage manuel des champs</a> (Documentation de Django).</p></div><h3 id="tester_la_page"><a href="#tester_la_page" title="Permalink to Tester la page">Tester la page</a></h3><div><p>Si vous avez accepté le "challenge" dans <a href="/en-US/docs/Learn/Server-side/Django/Authentication" class="only-in-en-us" title="Currently only available in English (US)">Django didactique - section 8&nbsp;: Authentification des utilisateurs et permissions (en-US)</a>, vous avez une liste de tous les livres empruntés dans la bibliothèque, ce qui n'est visible que pour le staff de la bibliothèque. Nous pouvons ajouter un lien vers notre page de renouvellement après chaque élément, en utilisant le code de template suivant.</p>
<div class="code-example"><pre class="brush: html notranslate"><code>{% if perms.catalog.can_mark_returned %} <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{% url <span class="token punctuation">'</span>renew-book-librarian<span class="token punctuation">'</span> bookinst.id %}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Renew<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span> {% endif %}  
</code></pre></div>
<div class="notecard note" id="sect7">
  <p><strong>Note :</strong> Souvenez-vous que votre login de test devra avoir la permission "<code>catalog.can_mark_returned</code>" pour pouvoir accéder à la page de renouvellement de livre (utilisez peut-être votre compte superuser).</p>
</div>
<p>Vous pouvez aussi construire manuellement une URL de test comme ceci&nbsp;: <code>http://127.0.0.1:8000/catalog/book/&lt;bookinstance_id&gt;/renew/</code> (un <code>bookinstance_id</code> valide peut être obtenu en naviguant vers une page de détail de livre dans votre bibliothèque, et en copiant le champ <code>id</code>).</p></div><h3 id="à_quoi_cela_ressemble-t-il_"><a href="#à_quoi_cela_ressemble-t-il_" title="Permalink to À quoi cela ressemble-t-il&nbsp;?">À quoi cela ressemble-t-il&nbsp;?</a></h3><div><p>Si tout a bien marché, le formulaire par défaut ressemblera à ceci&nbsp;:</p>
<p>
  <img src="/en-US/docs/Learn/Server-side/Django/Forms/forms_example_renew_default.png" alt="" width="680" height="292" loading="lazy">
</p>
<p>Le formulaire avec valeur erronée ressemblera à ceci&nbsp;:</p>
<p>
  <img src="/en-US/docs/Learn/Server-side/Django/Forms/forms_example_renew_invalid.png" alt="" width="658" height="290" loading="lazy">
</p>
<p>La liste de tous les livres avec les liens vers le renouvellement ressemblera à ceci&nbsp;:</p>
<p>
  <img src="/en-US/docs/Learn/Server-side/Django/Forms/forms_example_renew_allbooks.png" alt="" width="613" height="256" loading="lazy">
</p></div><h2 id="modelforms"><a href="#modelforms" title="Permalink to ModelForms">ModelForms</a></h2><div><p>Créer une classe en utilisant l'approche décrite ci-dessus est très flexible et vous autorise à créer le type de page de formulaire que vous voulez, et à l'associer à tout type de modèle(s).</p>
<p>Cependant, si vous avez seulement besoin d'un formulaire qui répertorie les champs d'un modèle <em>unique</em>, alors votre modèle définira déjà la plupart des informations requises dans votre formulaire : champs, labels, texte d'aide, etc. Plutôt que de créer à nouveau les définitions du modèle dans votre formulaire, il est plus facile d'utiliser la classe d'aide <a href="https://docs.djangoproject.com/fr/3.1/topics/forms/modelforms/" class="external" rel=" noopener">ModelForm</a> pour créer le formulaire d'après votre modèle. Ce <code>ModelForm</code> peut dès lors être utilisé à l'intérieur de vos vues exactement de la même manière qu'un <code>Form</code> ordinaire.</p>
<p>Un <code>ModelForm</code> basique, contenant le même champ que notre <code>RenewBookForm</code> d'origine, est montré ci-dessous. Tout ce que vous avez à faire pour créer le formulaire, c'est ajouter <code>class Meta</code> avec le <code>model</code> (<code>BookInstance</code>) associé, et une liste des <code>fields</code> du modèle à inclure dans le formulaire.</p>
<div class="code-example"><pre class="brush: python notranslate"><code><span class="token keyword">from</span> django<span class="token punctuation">.</span>forms <span class="token keyword">import</span> ModelForm

<span class="token keyword">from</span> catalog<span class="token punctuation">.</span>models <span class="token keyword">import</span> BookInstance

<span class="token keyword">class</span> <span class="token class-name">RenewBookModelForm</span><span class="token punctuation">(</span>ModelForm<span class="token punctuation">)</span><span class="token punctuation">:</span>
  <span class="token keyword">class</span> <span class="token class-name">Meta</span><span class="token punctuation">:</span>
    model <span class="token operator">=</span> BookInstance
    fields <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'due_back'</span><span class="token punctuation">]</span>
</code></pre></div>
<div class="notecard note" id="sect8">
  <p><strong>Note :</strong> Vous pouvez inclure tous les champs en utilisant <code>fields = '__all__'</code>, ou bien utiliser <code>exclude</code> (au lieu de <code>fields</code>) pour préciser les champs à ne <em>pas</em> importer du modèle.</p>
  <p>Aucune approche n'est recommandée, car tout nouveau champ ajouté au modèle est automatiquement inclus dans le formulaire (sans considération du développeur de répercussions sécuritaires éventuelles).</p>
</div>
<div class="notecard note" id="sect9">
  <p><strong>Note :</strong> Cela peut ne pas sembler beaucoup plus simple que d'utiliser un simple <code>Form</code>, et ça ne l'est effectivement pas dans ce cas, parce que nous n'avons qu'un seul champ. Cependant, si vous avez beaucoup de champs, cela peut réduire notablement la quantité de code&nbsp;!</p>
</div>
<p>Le reste de l'information vient des définitions de champ données par le modèle (par exemple, les labels, les widgets, le texte d'aide, les messages d'erreur). S'ils ne sont pas suffisamment satisfaisants, nous pouvons les réécrire dans notre <code>class Meta</code>, en précisant un dictionnaire contenant le champ à modifier et sa nouvelle valeur. Par exemple, dans ce formulaire, nous pourrions souhaiter, pour notre champ, un label tel que "<em>Renewal date</em>" (plutôt que celui par défaut, basé sur le nom du champ : <em>Due Back</em>), et nous voulons aussi que notre texte d'aide soit spécifique à ce cas d'utilisation. La classe <code>Meta</code> ci-dessous vous montre comment réécrire ces champs, et vous pouvez pareillement définir <code>widgets</code> et <code>error_messages</code> si les valeurs par défaut ne sont pas suffisantes.</p>
<div class="code-example"><pre class="brush: python notranslate"><code><span class="token keyword">class</span> <span class="token class-name">Meta</span><span class="token punctuation">:</span>
  model <span class="token operator">=</span> BookInstance
  fields <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'due_back'</span><span class="token punctuation">]</span>
  labels <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'due_back'</span><span class="token punctuation">:</span> _<span class="token punctuation">(</span><span class="token string">'New renewal date'</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
  help_texts <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'due_back'</span><span class="token punctuation">:</span> _<span class="token punctuation">(</span><span class="token string">'Enter a date between now and 4 weeks (default 3).'</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
</code></pre></div>
<p>Pour ajouter une validation, vous pouvez utiliser la même approche que pour un <code>Form</code> normal&nbsp;: vous définissez une fonction appelée <code>clean_field_name()</code>, et vous levez des exceptions de type <code>ValidationError</code> pour les valeurs non valides. La seule différence par rapport à notre formulaire original, c'est que le champ de modèle est appelé <code>due_back</code> et non "<code>renewal_date</code>". Ce changement est nécessaire, dans la mesure où le champ correspondant dans <code>BookInstance</code> est appelé <code>due_back</code>.</p>
<div class="code-example"><pre class="brush: python notranslate"><code><span class="token keyword">from</span> django<span class="token punctuation">.</span>forms <span class="token keyword">import</span> ModelForm

<span class="token keyword">from</span> catalog<span class="token punctuation">.</span>models <span class="token keyword">import</span> BookInstance

<span class="token keyword">class</span> <span class="token class-name">RenewBookModelForm</span><span class="token punctuation">(</span>ModelForm<span class="token punctuation">)</span><span class="token punctuation">:</span>
  <span class="token keyword">def</span> <span class="token function">clean_due_back</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
    data <span class="token operator">=</span> self<span class="token punctuation">.</span>cleaned_data<span class="token punctuation">[</span><span class="token string">'due_back'</span><span class="token punctuation">]</span>

    <span class="token comment"># Vérifier que la date ne se situe pas dans le passé.</span>
    <span class="token keyword">if</span> data <span class="token operator">&lt;</span> datetime<span class="token punctuation">.</span>date<span class="token punctuation">.</span>today<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
      <span class="token keyword">raise</span> ValidationError<span class="token punctuation">(</span>_<span class="token punctuation">(</span><span class="token string">'Invalid date - renewal in past'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

    <span class="token comment"># Vérifier que la date tombe dans le bon intervalle (entre maintenant et dans 4 semaines).</span>
    <span class="token keyword">if</span> data <span class="token operator">&gt;</span> datetime<span class="token punctuation">.</span>date<span class="token punctuation">.</span>today<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> datetime<span class="token punctuation">.</span>timedelta<span class="token punctuation">(</span>weeks<span class="token operator">=</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
      <span class="token keyword">raise</span> ValidationError<span class="token punctuation">(</span>_<span class="token punctuation">(</span><span class="token string">'Invalid date - renewal more than 4 weeks ahead'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

    <span class="token comment"># N'oubliez pas de toujours renvoyer les données nettoyées.</span>
    <span class="token keyword">return</span> data

  <span class="token keyword">class</span> <span class="token class-name">Meta</span><span class="token punctuation">:</span>
    model <span class="token operator">=</span> BookInstance
    fields <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'due_back'</span><span class="token punctuation">]</span>
    labels <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'due_back'</span><span class="token punctuation">:</span> _<span class="token punctuation">(</span><span class="token string">'Renewal date'</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
    help_texts <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'due_back'</span><span class="token punctuation">:</span> _<span class="token punctuation">(</span><span class="token string">'Enter a date between now and 4 weeks (default 3).'</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
</code></pre></div>
<p>La classe <code>RenewBookModelForm</code> ci-dessus est maintenant fonctionnellement équivalente à notre <code>RenewBookForm</code> d'origine. Vous pourriez l'importer et l'utiliser partout où vous utilisez <code>RenewBookForm</code>, du moment que vous changez aussi de <code>renewal_date</code> en <code>due_back</code> le nom de variable du formulaire correspondant, comme dans la deuxième déclaration du formulaire&nbsp;: <code>RenewBookModelForm(initial={'due_back': proposed_renewal_date}</code>.</p></div><h2 id="vues_génériques_dédition"><a href="#vues_génériques_dédition" title="Permalink to Vues génériques d'édition">Vues génériques d'édition</a></h2><div><p>L'algorithme de gestion des formulaires que nous avons utilisé ci-dessus, dans notre exemple de vue fonctionnelle, représente un processus extrêmement commun dans les vues destinées à éditer un formulaire. Django abstrait pour vous la plus grande partie de ce processus répétitif (<i lang="en">boilerplate</i>) en proposant des <a href="https://docs.djangoproject.com/fr/3.1/ref/class-based-views/generic-editing/" class="external" rel=" noopener">vues génériques d'édition</a> pour les vues de création, édition et suppression basées sur des modèles. Ces vues génériques non seulement assument le comportement d'une vue, mais elles créent automatiquement la classe de formulaire (un <code>ModelForm</code>) pour vous à partir du modèle.</p>
<div class="notecard note" id="sect10">
  <p><strong>Note :</strong> En plus des vues d'édition décrites ici, il existe aussi une classe <a href="https://docs.djangoproject.com/fr/3.1/ref/class-based-views/generic-editing/#formview" class="external" rel=" noopener">FormView</a>, qui se tient, en termes de rapport "flexibilité"/"effort codage", à mi-chemin entre notre vue basée sur une fonction et les autres vues génériques. En utilisant <code>FormView</code>, vous avez encore besoin de créer votre <code>Form</code>, mais vous n'avez pas besoin d'implémenter tous les éléments d'une gestion standard de formulaire. À la place, vous n'avez qu'à fournir une implémentation de la fonction qui sera appelée une fois que les données envoyées sont reconnues valides.</p>
</div>
<p>Dans cette section, nous allons utiliser des vues génériques d'édition pour créer des pages afin de pouvoir ajouter les fonctionnalités de création, d'édition et de suppression des enregistrements de type <code>Author</code> de notre bibliothèque, fournissant efficacement une réimplémentation basique de certaines parties du site Admin (cela peut être intéressant si vous avez besoin d'offrir une fonctionnalité admin d'une manière plus flexible que ce qui peut être présenté par le site admin).</p></div><h3 id="vues"><a href="#vues" title="Permalink to Vues">Vues</a></h3><div><p>Ouvrez le fichier vue (<strong>locallibrary/catalog/views.py</strong>) et ajoutez le bloc de code suivant à la fin&nbsp;:</p>
<div class="code-example"><pre class="brush: python notranslate"><code><span class="token keyword">from</span> django<span class="token punctuation">.</span>views<span class="token punctuation">.</span>generic<span class="token punctuation">.</span>edit <span class="token keyword">import</span> CreateView<span class="token punctuation">,</span> UpdateView<span class="token punctuation">,</span> DeleteView
<span class="token keyword">from</span> django<span class="token punctuation">.</span>urls <span class="token keyword">import</span> reverse_lazy

<span class="token keyword">from</span> catalog<span class="token punctuation">.</span>models <span class="token keyword">import</span> Author

<span class="token keyword">class</span> <span class="token class-name">AuthorCreate</span><span class="token punctuation">(</span>CreateView<span class="token punctuation">)</span><span class="token punctuation">:</span>
  model <span class="token operator">=</span> Author
  fields <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'first_name'</span><span class="token punctuation">,</span> <span class="token string">'last_name'</span><span class="token punctuation">,</span> <span class="token string">'date_of_birth'</span><span class="token punctuation">,</span> <span class="token string">'date_of_death'</span><span class="token punctuation">]</span>
  initial <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'date_of_death'</span><span class="token punctuation">:</span> <span class="token string">'11/06/2020'</span><span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">AuthorUpdate</span><span class="token punctuation">(</span>UpdateView<span class="token punctuation">)</span><span class="token punctuation">:</span>
  model <span class="token operator">=</span> Author
  fields <span class="token operator">=</span> <span class="token string">'__all__'</span> <span class="token comment"># Non recommandé (problème potentiel de sécurité si on ajoute d'autres champs)</span>

<span class="token keyword">class</span> <span class="token class-name">AuthorDelete</span><span class="token punctuation">(</span>DeleteView<span class="token punctuation">)</span><span class="token punctuation">:</span>
  model <span class="token operator">=</span> Author
  success_url <span class="token operator">=</span> reverse_lazy<span class="token punctuation">(</span><span class="token string">'authors'</span><span class="token punctuation">)</span>
</code></pre></div>
<p>Comme vous pouvez le voir, pour les vues "créer", "modifier" et "supprimer", vous avez besoin de dériver respectivement des vues génériques <code>CreateView</code>, <code>UpdateView</code>, et <code>DeleteView</code>, et de définir ensuite le modèle associé.</p>
<p>Pour les cas "créer" et "modifier", vous devez aussi préciser les champs à afficher dans le formulaire (en utilisant la même syntaxe que pour la classe <code>ModelForm</code>). Dans ce cas, nous montrons à la fois la syntaxe pour afficher "tous" les champs, et comment vous pouvez les lister un par un. Vous pouvez aussi spécifier les valeurs initiales pour chacun des champs en utilisant un dictionnaire de paires <em>nom_du_champ/valeur</em> (ici nous définissons arbitrairement la date de mort, uniquement dans un but de démonstration — sans doute voudrez-vous l'enlever !). Par défaut, ces vues vont rediriger en cas de succès vers une page affichant l'élément nouvellement créé ou modifié, ce qui, dans notre cas, sera la vue "détail" d'un auteur, créée dans un précédent tutoriel. Vous pouvez spécifier un autre lieu de redirection en déclarant explicitement le paramètre <code>success_url</code> (comme indiqué dans la classe <code>AuthorDelete</code>).</p>
<p>La classe <code>AuthorDelete</code> ne requiert pas l'affichage d'aucun champ, aussi n'ont-ils pas besoin d'être précisés. Par contre, il vous faut bien spécifier la <code>success_url</code>, car Django n'a pas de valeur par défaut pour cela. Dans ce cas, nous utilisons la fonction <a href="https://docs.djangoproject.com/fr/3.1/ref/urlresolvers/#reverse-lazy" class="external" rel=" noopener"><code>reverse_lazy()</code></a> pour rediriger vers notre liste d'auteurs après qu'un auteur a été supprimé. <code>reverse_lazy()</code> est une version de <code>reverse()</code> exécutée mollement ("<em>lazily</em>"), que nous utilisons ici parce que nous fournissons une URL à un attribut de vue basée sur une classe.</p></div><h3 id="templates"><a href="#templates" title="Permalink to Templates">Templates</a></h3><div><p>Les vues "créer" et "modifier" utilisent le même template par défaut, lequel sera nommé d'après votre modèle : <em>model_name</em>_<strong>form.html</strong> (vous pouvez changer le suffixe en autre chose que <strong>_form</strong> en utilisant le champ <code>template_name_suffix</code> dans votre vue, par exemple, <code>template_name_suffix = '_other_suffix'</code>).</p>
<p>Créez le fichier de template <strong>locallibrary/catalog/templates/catalog/author_form.html</strong> et copiez-y le texte suivant.</p>
<div class="code-example"><pre class="brush: html notranslate"><code>{% extends "base_generic.html" %}

{% block content %}
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>post<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    {% csrf_token %}
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span><span class="token punctuation">&gt;</span></span>
    {{ form.as_table }}
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Submit<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>
{% endblock %}
</code></pre></div>
<p>Ce formulaire est semblable à nos formulaires précédents et affiche les champs en utilisant un tableau. Notez aussi comment nous déclarons à nouveau le <code>{% csrf_token %}</code> pour nous assurer que nos formulaires résisteront à d'éventuelles attaques par CSRF (<em>Cross-Site Request Forgery</em>).</p>
<p>La vue "supprimer" s'attend à trouver un template avec un nom au format <em>model_name</em>_<strong>confirm_delete.html</strong> (de nouveau, vous pouvez changer le suffixe en utilisant <code>template_name_suffix</code> dans votre vue). Créez le fichier de template <strong>locallibrary/catalog/templates/catalog/author_confirm_delete.html</strong> et copiez-y le texte suivant.</p>
<div class="code-example"><pre class="brush: html notranslate"><code>{% extends "base_generic.html" %}

{% block content %}

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>Delete Author<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>Are you sure you want to delete the author: {{ author }}?<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>POST<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  {% csrf_token %}
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Yes, delete.<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>

{% endblock %}
</code></pre></div></div><h3 id="configurations_durl"><a href="#configurations_durl" title="Permalink to Configurations d'URL">Configurations d'URL</a></h3><div><p>Ouvrez votre fichier de configuration d'URL (<strong>locallibrary/catalog/urls.py</strong>) et ajoutez-y à la fin la configuration suivante&nbsp;:</p>
<div class="code-example"><pre class="brush: python notranslate"><code>urlpatterns <span class="token operator">+=</span> <span class="token punctuation">[</span>
    path<span class="token punctuation">(</span><span class="token string">'author/create/'</span><span class="token punctuation">,</span> views<span class="token punctuation">.</span>AuthorCreate<span class="token punctuation">.</span>as_view<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">'author-create'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    path<span class="token punctuation">(</span><span class="token string">'author/&lt;int:pk&gt;/update/'</span><span class="token punctuation">,</span> views<span class="token punctuation">.</span>AuthorUpdate<span class="token punctuation">.</span>as_view<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">'author-update'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    path<span class="token punctuation">(</span><span class="token string">'author/&lt;int:pk&gt;/delete/'</span><span class="token punctuation">,</span> views<span class="token punctuation">.</span>AuthorDelete<span class="token punctuation">.</span>as_view<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">'author-delete'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span>
</code></pre></div>
<p>Il n'y a rien de particulièrement nouveau ici ! Vous pouvez voir que les vues sont des classes, et doivent dès lors être appelée via <code>.as_view()</code>, et vous devriez être capable de reconnaître les motifs d'URL dans chaque cas. Nous devons utiliser <code>pk</code> comme nom pour la valeur de nos clés primaires capturées, car c'est le nom de paramètre attendu par les classes de vue.</p>
<p>Les pages de création, modification et suppression d'auteur sont maintenant prêtes à être testées (nous ne nous mettons pas en peine pour cette fois, bien que vous puissiez le faire si vous le souhaiter, de les accrocher dans la barre latérale du site).</p>
<div class="notecard note" id="sect11">
  <p><strong>Note :</strong> Les utilisateurs observateurs auront remarqué que nous n'avons rien fait pour empêcher les utilisateurs non autorisés d'accéder à ces pages&nbsp;! Nous laissons cela comme exercice pour vous (suggestion&nbsp;: vous pourriez utiliser le <code>PermissionRequiredMixin</code>, et soit créer une nouvelle permission, soit réutiliser notre permission <code>can_mark_returned</code>).</p>
</div></div><h3 id="test_de_la_page"><a href="#test_de_la_page" title="Permalink to Test de la page">Test de la page</a></h3><div><p>Tout d'abord, connectez-vous au site avec un compte ayant les permissions que vous avez définies comme nécessaires pour accéder aux pages d'édition d'auteur.</p>
<p>Ensuite, naviguez à la page de création d'auteur, <em><a href="http://127.0.0.1:8000/catalog/author/create/" class="external" rel=" noopener">http://127.0.0.1:8000/catalog/author/create/</a></em>, ce qui devrait ressembler à la capture d'écran ci-dessous.</p>
<p>
  <img src="/en-US/docs/Learn/Server-side/Django/Forms/forms_example_create_author.png" alt="Exemple de formulaire&nbsp;: création d'un auteur" width="645" height="184" loading="lazy">
</p>
<p>Entrez des valeurs pour les champs et ensuite cliquez sur <strong>Submit</strong> pour sauvegarder l'enregistrement de cet auteur. Vous devriez maintenant être conduit à une vue "détail" pour votre nouvel auteur, avec une URL du genre <code>http://127.0.0.1:8000/catalog/author/10</code>.</p>
<p>Vous pouvez tester l'édition d'un enregistrement en ajoutant <em>/update/</em> à la fin de l'URL "détail" (par exemple, <code>http://127.0.0.1:8000/catalog/author/10/update/</code>). Nous ne mettons pas de capture d'écran, car c'est à peu près la même chose que la page "create".</p>
<p>Enfin, nous pouvons effacer l'enregistrement en ajoutant "delete" à la fin de l'URL de détail (par exemple, <code>http://127.0.0.1:8000/catalog/author/10/delete/</code>). Django devrait vous afficher la page de suppression montrée ci-dessous. Cliquez sur "<strong>Yes, delete</strong>" pour supprimer l'enregistrement et être reconduit à la liste des auteurs.</p>
<p>
  <img src="/en-US/docs/Learn/Server-side/Django/Forms/forms_example_delete_author.png" alt="" width="561" height="194" loading="lazy">
</p></div><h2 id="mettez-vous_au_défi"><a href="#mettez-vous_au_défi" title="Permalink to Mettez-vous au défi">Mettez-vous au défi</a></h2><div><p>Créez des formulaires pour créer, modifier et effacer des enregistrements de type <code>Book</code>. Vous pouvez utiliser exactement la même structure que pour les <code>Authors</code>. Si votre template <strong>book_form.html</strong> est simplement copié-renommé à partir du template <strong>author_form.html</strong>, alors la nouvelle page "create book" va ressembler à quelque chose comme ceci :</p>
<p>
  <img src="/en-US/docs/Learn/Server-side/Django/Forms/forms_example_create_book.png" alt="" width="595" height="521" loading="lazy">
</p></div><h2 id="résumé"><a href="#résumé" title="Permalink to Résumé">Résumé</a></h2><div><p>Créer et gérer des formulaires peut être un processus compliqué ! Django le rend bien plus aisé en fournissant des mécanismes de programmation pour déclarer, rendre et valider des formulaires. Django fournit de plus des vues génériques d'édition de formulaires, qui peuvent faire <em>presque tout</em> le travail si vous voulez définir des pages pour créer, modifier et supprimer des enregistrements associés à une instance d'un modèle unique.</p>
<p>Il y a bien d'autres choses qui peuvent être faites avec les formulaires (regardez notre liste <a href="#voir_aussi">Voir aussi</a> ci-dessous), mais vous devez être maintenant en mesure de comprendre comment ajouter des formulaires basiques et un code de gestion de formulaire à vos propres sites web.</p></div><h2 id="voir_aussi"><a href="#voir_aussi" title="Permalink to Voir aussi">Voir aussi</a></h2><div><ul>
  <li><a href="https://docs.djangoproject.com/fr/3.1/topics/forms/" class="external" rel=" noopener">Utilisation des formulaires</a> (Documentation de Django)</li>
  <li><a href="https://docs.djangoproject.com/fr/3.1/intro/tutorial04/#write-a-simple-form" class="external" rel=" noopener">Écriture de votre première application Django, 4e partie</a> (Documentation de Django)</li>
  <li><a href="https://docs.djangoproject.com/fr/3.1/ref/forms/api/" class="external" rel=" noopener">L'API des formulaires</a> (Documentation de Django)</li>
  <li><a href="https://docs.djangoproject.com/fr/3.1/ref/forms/fields/" class="external" rel=" noopener">Champs de formulaires</a> (Documentation de Django)</li>
  <li><a href="https://docs.djangoproject.com/fr/3.1/ref/forms/validation/" class="external" rel=" noopener">Les formulaires et la validation des champs</a> (Documentation de Django)</li>
  <li><a href="https://docs.djangoproject.com/fr/3.1/topics/class-based-views/generic-editing/" class="external" rel=" noopener">Gestion de formulaires avec les vues fondées sur les classes</a> (Documentation de Django)</li>
  <li><a href="https://docs.djangoproject.com/fr/3.1/topics/forms/modelforms/" class="external" rel=" noopener">Création de formulaires à partir de modèles</a> (Documentation de Django)</li>
  <li><a href="https://docs.djangoproject.com/fr/3.1/ref/class-based-views/generic-editing/" class="external" rel=" noopener">Vues génériques d'édition</a> (Documentation de Django)</li>
</ul><ul class="prev-next">
    <li><a class="button minimal only-in-en-us" href="/en-US/docs/Learn/Server-side/Django/Authentication" title="Currently only available in English (US)"> Précédent  (en-US)</a></li>
    <li><a class="button minimal" href="/fr/docs/Learn/Server-side/Django"> Aperçu&nbsp;: Django</a></li>
    <li><a class="button minimal" href="/fr/docs/Learn/Server-side/Django/Testing"> Suivant  </a></li>
</ul></div><h2 id="dans_ce_module"><a href="#dans_ce_module" title="Permalink to Dans ce module">Dans ce module</a></h2><div><ul>
  <li><a href="/fr/docs/Learn/Server-side/Django/Introduction">Introduction à Django</a></li>
  <li><a href="/fr/docs/Learn/Server-side/Django/development_environment">Mettre en place un environnement de développement Django</a></li>
  <li><a href="/fr/docs/Learn/Server-side/Django/Tutorial_local_library_website">Django didactique&nbsp;: Site web "Bibliothèque locale"</a></li>
  <li><a href="/fr/docs/Learn/Server-side/Django/skeleton_website">Django didactique Section 2&nbsp;: Créer le squelette du site web</a></li>
  <li><a href="/fr/docs/Learn/Server-side/Django/Models">Django didactique Section 3&nbsp;: Utilisation des modèles de données</a></li>
  <li><a href="/fr/docs/Learn/Server-side/Django/Admin_site">Django didactique Section 4&nbsp;: Site d'administration de Django</a></li>
  <li><a href="/fr/docs/Learn/Server-side/Django/Home_page">Django didactique Section 5&nbsp;: Créer la page d'accueil</a></li>
  <li><a href="/fr/docs/Learn/Server-side/Django/Generic_views">Django didactique Section 6&nbsp;: Vues génériques pour les listes et les détails</a></li>
  <li><a href="/en-US/docs/Learn/Server-side/Django/Sessions" class="only-in-en-us" title="Currently only available in English (US)">Django didactique Section 7&nbsp;: Framework pour les sessions (en-US)</a></li>
  <li><a href="/en-US/docs/Learn/Server-side/Django/Authentication" class="only-in-en-us" title="Currently only available in English (US)">Django didactique Section 8&nbsp;: Authentification des utilisateurs et permission (en-US)</a></li>
  <li><a href="/fr/docs/Learn/Server-side/Django/Forms" aria-current="page">Django didactique Section 9&nbsp;: Travailler avec des formulaires</a></li>
  <li><a href="/fr/docs/Learn/Server-side/Django/Testing">Django didactique Section 10&nbsp;: Tester une application web Django</a></li>
  <li><a href="/en-US/docs/Learn/Server-side/Django/Deployment" class="only-in-en-us" title="Currently only available in English (US)">Django didactique Section 11&nbsp;: Déployer une application Django en production (en-US)</a></li>
  <li><a href="/en-US/docs/Learn/Server-side/Django/web_application_security" class="only-in-en-us" title="Currently only available in English (US)">La sécurité des applications web Django (en-US)</a></li>
  <li><a href="/en-US/docs/Learn/Server-side/Django/django_assessment_blog" class="only-in-en-us" title="Currently only available in English (US)">Mise en pratique&nbsp;: construisez votre mini blog avec Django (en-US)</a></li>
</ul></div></article><aside class="metadata"><div class="metadata-content-container"><div id="on-github" class="on-github"><h3>Found a problem with this page?</h3><ul><li><a href="https://github.com/mdn/translated-content/edit/main/files/fr/learn/server-side/django/forms/index.md" title="You're going to need to sign in to GitHub first (Opens in a new tab)" target="_blank" rel="noopener noreferrer">Edit on <b>GitHub</b></a></li><li><a href="https://github.com/mdn/translated-content/blob/main/files/fr/learn/server-side/django/forms/index.md" title="Folder: fr/learn/server-side/django/forms (Opens in a new tab)" target="_blank" rel="noopener noreferrer">Source on <b>GitHub</b></a></li><li><a href="https://github.com/mdn/translated-content/issues/new?body=MDN+URL%3A+https%3A%2F%2Fdeveloper.mozilla.org%2Ffr%2Fdocs%2FLearn%2FServer-side%2FDjango%2FForms%0A%0A%23%23%23%23+What+information+was+incorrect%2C+unhelpful%2C+or+incomplete%3F%0A%0A%0A%23%23%23%23+Specific+section+or+headline%3F%0A%0A%0A%23%23%23%23+What+did+you+expect+to+see%3F%0A%0A%0A%23%23%23%23+Did+you+test+this%3F+If+so%2C+how%3F%0A%0A%0A%3C%21--+Do+not+make+changes+below+this+line+--%3E%0A%3Cdetails%3E%0A%3Csummary%3EMDN+Content+page+report+details%3C%2Fsummary%3E%0A%0A*+Folder%3A+%60fr%2Flearn%2Fserver-side%2Fdjango%2Fforms%60%0A*+MDN+URL%3A+https%3A%2F%2Fdeveloper.mozilla.org%2Ffr%2Fdocs%2FLearn%2FServer-side%2FDjango%2FForms%0A*+GitHub+URL%3A+https%3A%2F%2Fgithub.com%2Fmdn%2Ftranslated-content%2Fblob%2Fmain%2Ffiles%2Ffr%2Flearn%2Fserver-side%2Fdjango%2Fforms%2Findex.md%0A*+Last+commit%3A+https%3A%2F%2Fgithub.com%2Fmdn%2Ftranslated-content%2Fcommit%2F921c46a374ab0a9f4cc809af0370f8c412e54701%0A*+Document+last+modified%3A+2022-10-01T03%3A41%3A16.000Z%0A%0A%3C%2Fdetails%3E&amp;title=Issue+with+%22Django+didactique+-+Section+9+%3A+Travailler+avec+de%E2%80%A6%22%3A+%28short+summary+here+please%29&amp;labels=needs-triage%2Cl10n-fr" title="This will take you to https://github.com/mdn/content to file a new issue" target="_blank" rel="noopener noreferrer">Report a problem with this content on <b>GitHub</b></a></li><li>Want to fix the problem yourself? See<!-- --> <a href="https://github.com/mdn/content/blob/main/README.md" target="_blank" rel="noopener noreferrer">our Contribution guide</a>.</li></ul></div><p class="last-modified-date"><b>Last modified:</b> <time datetime="2022-10-01T03:41:16.000Z">Oct 1, 2022</time>,<!-- --> <a href="/fr/docs/Learn/Server-side/Django/Forms/contributors.txt">by MDN contributors</a></p><form class="language-menu"><fieldset id="select-language"><legend>Change your language</legend><label for="language-selector" class="visually-hidden">Select your preferred language</label> <select id="language-selector" name="language"><option selected="" value="fr">Français</option><option value="en-US">English (US)</option><option value="es">Español</option><option value="ko">한국어</option><option value="pt-BR">Português (do&nbsp;Brasil)</option><option value="ru">Русский</option><option value="zh-CN">中文 (简体)</option><option value="zh-TW">正體中文 (繁體)</option></select> <button type="submit" class="button minimal">Change language</button></fieldset></form></div></aside></main><nav id="sidebar-quicklinks" class="sidebar"><h4>Related Topics</h4><div>

<ol>
  <li data-default-state=""><a href="/fr/docs/Learn/Getting_started_with_the_web"><strong>Bienvenue aux débutants !</strong></a></li>
  <li class="toggle">
      <details>
          <summary>Commencer avec le Web</summary>
          <ol>
            <li><a href="/fr/docs/Learn/Getting_started_with_the_web">Vue d'ensemble de Commencer avec le Web</a></li>
            <li><a href="/fr/docs/Learn/Getting_started_with_the_web/Installing_basic_software">Installation des outils de base</a></li>
            <li><a href="/fr/docs/Learn/Getting_started_with_the_web/What_will_your_website_look_like">Quel sera l'aspect de votre site web ?</a></li>
            <li><a href="/fr/docs/Learn/Getting_started_with_the_web/Dealing_with_files">Gérer les fichiers</a></li>
            <li><a href="/fr/docs/Learn/Getting_started_with_the_web/HTML_basics">Les bases de HTML</a></li>
            <li><a href="/fr/docs/Learn/Getting_started_with_the_web/CSS_basics">Les bases de CSS</a></li>
            <li><a href="/fr/docs/Learn/Getting_started_with_the_web/JavaScript_basics">Les bases de JavaScript</a></li>
            <li><a href="/fr/docs/Learn/Getting_started_with_the_web/Publishing_your_website">Publier votre site web</a></li>
            <li><a href="/fr/docs/Learn/Getting_started_with_the_web/How_the_Web_works">Le fonctionnement du Web</a></li>
          </ol>
      </details>
  </li>
  <li data-default-state=""><a href="/fr/docs/Learn/HTML"><strong>HTML</strong></a></li>
  <li class="toggle">
      <details>
          <summary>Introduction au HTML</summary>
          <ol>
            <li><a href="/fr/docs/Learn/HTML/Introduction_to_HTML">Vue d'ensemble de Introduction au HTML</a></li>
            <li><a href="/fr/docs/Learn/HTML/Introduction_to_HTML/Getting_started">Commencer avec le HTML</a></li>
            <li><a href="/fr/docs/Learn/HTML/Introduction_to_HTML/The_head_metadata_in_HTML">Qu'y-a-t-il dans l'en-tête ? Métadonnées en HTML</a></li>
            <li><a href="/fr/docs/Learn/HTML/Introduction_to_HTML/HTML_text_fundamentals">Fondamentaux du texte en HTML</a></li>
            <li><a href="/fr/docs/Learn/HTML/Introduction_to_HTML/Creating_hyperlinks">Création d'hyperliens</a></li>
            <li><a href="/fr/docs/Learn/HTML/Introduction_to_HTML/Advanced_text_formatting">Formatage avancé du texte</a></li>
            <li><a href="/fr/docs/Learn/HTML/Introduction_to_HTML/Document_and_website_structure">Structure de site web et de document</a></li>
            <li><a href="/fr/docs/Learn/HTML/Introduction_to_HTML/Debugging_HTML">Déboguer en HTML</a></li>
            <li><a href="/fr/docs/Learn/HTML/Introduction_to_HTML/Marking_up_a_letter">Baliser une lettre</a></li>
            <li><a href="/fr/docs/Learn/HTML/Introduction_to_HTML/Structuring_a_page_of_content">Structurer une page de contenu</a></li>
          </ol>
      </details>
  </li>
  <li class="toggle">
      <details>
          <summary>Multimedia and embedding</summary>
          <ol>
            <li><a href="/fr/docs/Learn/HTML/Multimedia_and_embedding">Multimedia and embedding overview</a></li>
            <li><a href="/fr/docs/Learn/HTML/Multimedia_and_embedding/Images_in_HTML">Images in HTML</a></li>
            <li><a href="/fr/docs/Learn/HTML/Multimedia_and_embedding/Video_and_audio_content">Video and audio content</a></li>
            <li><a href="/fr/docs/Learn/HTML/Multimedia_and_embedding/Other_embedding_technologies">From object to iframe — other embedding technologies</a></li>
            <li><a href="/fr/docs/Learn/HTML/Multimedia_and_embedding/Adding_vector_graphics_to_the_Web">Adding vector graphics to the Web</a></li>
            <li><a href="/fr/docs/Learn/HTML/Multimedia_and_embedding/Responsive_images">Responsive images</a></li>
            <li><a href="/fr/docs/Learn/HTML/Multimedia_and_embedding/Mozilla_splash_page">Assessment: Mozilla splash page</a></li>
          </ol>
      </details>
  </li>
  <li class="toggle">
      <details>
          <summary>HTML tables</summary>
          <ol>
            <li><a href="/fr/docs/Learn/HTML/Tables">HTML tables overview</a></li>
            <li><a href="/fr/docs/Learn/HTML/Tables/Basics">HTML table basics</a></li>
            <li><a href="/fr/docs/Learn/HTML/Tables/Advanced">HTML Table advanced features and accessibility</a></li>
            <li><a href="/fr/docs/Learn/HTML/Tables/Structuring_planet_data">Assessment: Structuring planet data</a></li>
          </ol>
      </details>
  </li>
  <li data-default-state=""><a href="/fr/docs/Learn/CSS"><strong>CSS — Styling the Web</strong></a></li>
  <li class="toggle">
      <details>
          <summary>CSS first steps</summary>
          <ol>
            <li><a href="/fr/docs/Learn/CSS/First_steps">CSS first steps overview</a></li>
            <li><a href="/fr/docs/Learn/CSS/First_steps/What_is_CSS">What is CSS?</a></li>
            <li><a href="/fr/docs/Learn/CSS/First_steps/Getting_started">Getting started with CSS</a></li>
            <li><a href="/fr/docs/Learn/CSS/First_steps/How_CSS_is_structured">How CSS is structured</a></li>
            <li><a href="/fr/docs/Learn/CSS/First_steps/How_CSS_works">How CSS works</a></li>
            <li><a href="/fr/docs/Learn/CSS/First_steps/Using_your_new_knowledge">Using your new knowledge</a></li>
          </ol>
      </details>
  </li>
  <li class="toggle">
      <details>
          <summary>CSS building blocks</summary>
          <ol>
            <li><a href="/fr/docs/Learn/CSS/Building_blocks">CSS building blocks overview</a></li>
            <li><a href="/fr/docs/Learn/CSS/Building_blocks/Cascade_and_inheritance">Cascade and inheritance</a></li>
            <li><a href="/fr/docs/Learn/CSS/Building_blocks/Selectors">CSS selectors</a></li>
            <li><a href="/fr/docs/Learn/CSS/Building_blocks/The_box_model">The box model</a></li>
            <li><a href="/fr/docs/Learn/CSS/Building_blocks/Backgrounds_and_borders">Backgrounds and borders</a></li>
            <li><a href="/fr/docs/Learn/CSS/Building_blocks/Handling_different_text_directions">Handling different text directions</a></li>
            <li><a href="/fr/docs/Learn/CSS/Building_blocks/Overflowing_content">Overflowing content</a></li>
            <li><a href="/fr/docs/Learn/CSS/Building_blocks/Values_and_units">Values and units</a></li>
            <li><a href="/fr/docs/Learn/CSS/Building_blocks/Sizing_items_in_CSS">Sizing items in CSS</a></li>
            <li><a href="/fr/docs/Learn/CSS/Building_blocks/Images_media_form_elements">Images, media, and form elements</a></li>
            <li><a href="/fr/docs/Learn/CSS/Building_blocks/Styling_tables">Styling tables</a></li>
            <li><a href="/fr/docs/Learn/CSS/Building_blocks/Debugging_CSS">Debugging CSS</a></li>
            <li><a href="/fr/docs/Learn/CSS/Building_blocks/Organizing">Organizing your CSS</a></li>
      </ol></details>
  </li>
  <li class="toggle">
      <details>
          <summary>Styling text</summary>
          <ol>
            <li><a href="/fr/docs/Learn/CSS/Styling_text">Styling text overview</a></li>
            <li><a href="/fr/docs/Learn/CSS/Styling_text/Fundamentals">Fundamental text and font styling</a></li>
            <li><a href="/fr/docs/Learn/CSS/Styling_text/Styling_lists">Styling lists</a></li>
            <li><a href="/fr/docs/Learn/CSS/Styling_text/Styling_links">Styling links</a></li>
            <li><a href="/fr/docs/Learn/CSS/Styling_text/Web_fonts">Web fonts</a></li>
            <li><a href="/fr/docs/Learn/CSS/Styling_text/Typesetting_a_homepage">Assessment: Typesetting a community school homepage</a></li>
          </ol>
      </details>
  </li>
  <li class="toggle">
      <details>
          <summary>CSS layout</summary>
          <ol>
            <li><a href="/fr/docs/Learn/CSS/CSS_layout">CSS layout overview</a></li>
            <li><a href="/fr/docs/Learn/CSS/CSS_layout/Introduction">Introduction to CSS layout</a></li>
            <li><a href="/fr/docs/Learn/CSS/CSS_layout/Normal_Flow">Normal Flow</a></li>
            <li><a href="/fr/docs/Learn/CSS/CSS_layout/Flexbox">Flexbox</a></li>
            <li><a href="/fr/docs/Learn/CSS/CSS_layout/Grids">Grids</a></li>
            <li><a href="/fr/docs/Learn/CSS/CSS_layout/Floats">Floats</a></li>
            <li><a href="/fr/docs/Learn/CSS/CSS_layout/Positioning">Positioning</a></li>
            <li><a href="/fr/docs/Learn/CSS/CSS_layout/Multiple-column_Layout">Multiple-column Layout</a></li>
            <li><a href="/fr/docs/Learn/CSS/CSS_layout/Responsive_Design">Responsive design</a></li>
            <li><a href="/fr/docs/Learn/CSS/CSS_layout/Media_queries">Beginner's guide to media queries</a></li>
            <li><a href="/fr/docs/Learn/CSS/CSS_layout/Legacy_Layout_Methods">Legacy Layout Methods</a></li>
            <li><a href="/fr/docs/Learn/CSS/CSS_layout/Supporting_Older_Browsers">Supporting Older Browsers</a></li>
            <li><a href="/fr/docs/Learn/CSS/CSS_layout/Fundamental_Layout_Comprehension">Fundamental Layout Comprehension</a></li>
          </ol>
      </details>
  </li>
  <li data-default-state=""><a href="/fr/docs/Learn/JavaScript"><strong>JavaScript — Dynamic client-side scripting</strong></a></li>
  <li class="toggle">
      <details>
          <summary>JavaScript first steps</summary>
          <ol>
            <li><a href="/fr/docs/Learn/JavaScript/First_steps">JavaScript first steps overview</a></li>
            <li><a href="/fr/docs/Learn/JavaScript/First_steps/What_is_JavaScript">What is JavaScript?</a></li>
            <li><a href="/fr/docs/Learn/JavaScript/First_steps/A_first_splash">A first splash into JavaScript</a></li>
            <li><a href="/fr/docs/Learn/JavaScript/First_steps/What_went_wrong">What went wrong? Troubleshooting JavaScript</a></li>
            <li><a href="/fr/docs/Learn/JavaScript/First_steps/Variables">Storing the information you need — Variables</a></li>
            <li><a href="/fr/docs/Learn/JavaScript/First_steps/Math">Basic math in JavaScript — Numbers and operators</a></li>
            <li><a href="/fr/docs/Learn/JavaScript/First_steps/Strings">Handling text — Strings in JavaScript</a></li>
            <li><a href="/fr/docs/Learn/JavaScript/First_steps/Useful_string_methods">Useful string methods</a></li>
            <li><a href="/fr/docs/Learn/JavaScript/First_steps/Arrays">Arrays</a></li>
            <li><a href="/fr/docs/Learn/JavaScript/First_steps/Silly_story_generator">Assessment: Silly story generator</a></li>
          </ol>
      </details>
  </li>
  <li class="toggle">
      <details>
          <summary>JavaScript building blocks</summary>
          <ol>
            <li><a href="/fr/docs/Learn/JavaScript/Building_blocks">JavaScript building blocks overview</a></li>
            <li><a href="/fr/docs/Learn/JavaScript/Building_blocks/conditionals">Making decisions in your code — Conditionals</a></li>
            <li><a href="/fr/docs/Learn/JavaScript/Building_blocks/Looping_code">Looping code</a></li>
            <li><a href="/fr/docs/Learn/JavaScript/Building_blocks/Functions">Functions — Reusable blocks of code</a></li>
            <li><a href="/fr/docs/Learn/JavaScript/Building_blocks/Build_your_own_function">Build your own function</a></li>
            <li><a href="/fr/docs/Learn/JavaScript/Building_blocks/Return_values">Function return values</a></li>
            <li><a href="/fr/docs/Learn/JavaScript/Building_blocks/Events">Introduction to events</a></li>
            <li><a href="/fr/docs/Learn/JavaScript/Building_blocks/Image_gallery">Assessment: Image gallery</a></li>
          </ol>
      </details>
  </li>
  <li class="toggle">
      <details>
          <summary>Introducing JavaScript objects</summary>
          <ol>
            <li><a href="/fr/docs/Learn/JavaScript/Objects">Introducing JavaScript objects overview</a></li>
            <li><a href="/fr/docs/Learn/JavaScript/Objects/Basics">Object basics</a></li>
            <li><a href="/fr/docs/Learn/JavaScript/Objects/Object_prototypes">Object prototypes</a></li>
            <li><a href="/fr/docs/Learn/JavaScript/Objects/Object-oriented_programming">Object-oriented programming concepts</a></li>
            <li><a href="/fr/docs/Learn/JavaScript/Objects/Classes_in_JavaScript">Classes in JavaScript</a></li>
            <li><a href="/fr/docs/Learn/JavaScript/Objects/JSON">Working with JSON data</a></li>
            <li><a href="/fr/docs/Learn/JavaScript/Objects/Object_building_practice">Object building practice</a></li>
            <li><a href="/fr/docs/Learn/JavaScript/Objects/Adding_bouncing_balls_features">Assessment: Adding features to our bouncing balls demo</a></li>
          </ol>
      </details>
  </li>
  <li class="toggle">
    <details>
        <summary>Asynchronous JavaScript</summary>
        <ol>
          <li><a href="/fr/docs/Learn/JavaScript/Asynchronous">Asynchronous JavaScript overview</a></li>
          <li><a href="/fr/docs/Learn/JavaScript/Asynchronous/Concepts">General asynchronous programming concepts</a></li>
          <li><a href="/fr/docs/Learn/JavaScript/Asynchronous/Introducing">Introducing asynchronous JavaScript</a></li>
          <li><a href="/fr/docs/Learn/JavaScript/Asynchronous/Timeouts_and_intervals">Cooperative asynchronous Java​Script: Timeouts and intervals</a></li>
          <li><a href="/fr/docs/Learn/JavaScript/Asynchronous/Promises">Graceful asynchronous programming with Promises</a></li>
          <li><a href="/fr/docs/Learn/JavaScript/Asynchronous/Async_await">Making asynchronous programming easier with async and await</a></li>
          <li><a href="/fr/docs/Learn/JavaScript/Asynchronous/Choosing_the_right_approach">Choosing the right approach</a></li>
        </ol>
    </details>
  </li>
  <li class="toggle">
    <details>
        <summary>Client-side web APIs</summary>
        <ol>
          <li><a href="/fr/docs/Learn/JavaScript/Client-side_web_APIs">Client-side web APIs</a></li>
          <li><a href="/fr/docs/Learn/JavaScript/Client-side_web_APIs/Introduction">Introduction to web APIs</a></li>
          <li><a href="/fr/docs/Learn/JavaScript/Client-side_web_APIs/Manipulating_documents">Manipulating documents</a></li>
          <li><a href="/fr/docs/Learn/JavaScript/Client-side_web_APIs/Fetching_data">Fetching data from the server</a></li>
          <li><a href="/fr/docs/Learn/JavaScript/Client-side_web_APIs/Third_party_APIs">Third party APIs</a></li>
          <li><a href="/fr/docs/Learn/JavaScript/Client-side_web_APIs/Drawing_graphics">Drawing graphics</a></li>
          <li><a href="/fr/docs/Learn/JavaScript/Client-side_web_APIs/Video_and_audio_APIs">Video and audio APIs</a></li>
          <li><a href="/fr/docs/Learn/JavaScript/Client-side_web_APIs/Client-side_storage">Client-side storage</a></li>
        </ol>
    </details>
  </li>
  <li><a href="/fr/docs/Learn/Forms"><strong>Web forms — Working with user data</strong></a></li>
  <li class="toggle">
    <details>
        <summary>Core forms learning pathway</summary>
        <ol>
          <li><a href="/fr/docs/Learn/Forms">Web forms overview</a></li>
          <li><a href="/fr/docs/Learn/Forms/Your_first_form">Your first form</a></li>
          <li><a href="/fr/docs/Learn/Forms/How_to_structure_a_web_form">How to structure a web form</a></li>
          <li><a href="/fr/docs/Learn/Forms/Basic_native_form_controls">Basic native form controls</a></li>
          <li><a href="/fr/docs/Learn/Forms/HTML5_input_types">The HTML5 input types</a></li>
          <li><a href="/fr/docs/Learn/Forms/Other_form_controls">Other form controls</a></li>
          <li><a href="/fr/docs/Learn/Forms/Styling_web_forms">Styling web forms</a></li>
          <li><a href="/fr/docs/Learn/Forms/Advanced_form_styling">Advanced form styling</a></li>
          <li><a href="/fr/docs/Learn/Forms/UI_pseudo-classes">UI pseudo-classes</a></li>
          <li><a href="/fr/docs/Learn/Forms/Form_validation">Client-side form validation</a></li>
          <li><a href="/fr/docs/Learn/Forms/Sending_and_retrieving_form_data">Sending form data</a></li>
        </ol>
    </details>
  </li>
  <li class="toggle">
    <details>
        <summary>Advanced forms articles</summary>
        <ol>
          <li><a href="/fr/docs/Learn/Forms/How_to_build_custom_form_controls">How to build custom form controls</a></li>
          <li><a href="/fr/docs/Learn/Forms/Sending_forms_through_JavaScript">Sending forms through JavaScript</a></li>
          <li><a href="/fr/docs/Learn/Forms/Property_compatibility_table_for_form_controls">CSS property compatibility table for form controls</a></li>
        </ol>
    </details>
  </li>
  <li><a href="/fr/docs/Learn/Accessibility"><strong>Accessibility — Make the web usable by everyone</strong></a></li>
  <li class="toggle">
    <details>
        <summary>Accessibility guides</summary>
        <ol>
          <li><a href="/fr/docs/Learn/Accessibility">Accessibility overview</a></li>
          <li><a href="/fr/docs/Learn/Accessibility/What_is_accessibility">What is accessibility?</a></li>
          <li><a href="/fr/docs/Learn/Accessibility/HTML">HTML: A good basis for accessibility</a></li>
          <li><a href="/fr/docs/Learn/Accessibility/CSS_and_JavaScript">CSS and JavaScript accessibility best practices</a></li>
          <li><a href="/fr/docs/Learn/Accessibility/WAI-ARIA_basics">WAI-ARIA basics</a></li>
          <li><a href="/fr/docs/Learn/Accessibility/Multimedia">Accessible multimedia</a></li>
          <li><a href="/fr/docs/Learn/Accessibility/Mobile">Mobile accessibility</a></li>
        </ol>
    </details>
  </li>
  <li class="toggle">
    <details>
        <summary>Accessibility assessment</summary>
        <ol>
            <li><a href="/fr/docs/Learn/Accessibility/Accessibility_troubleshooting">Assessment: Accessibility troubleshooting</a></li>
        </ol>
    </details>
  </li>
  <li><a href="/fr/docs/Learn/Tools_and_testing"><strong>Tools and testing</strong></a></li>
  <li class="toggle">
    <details>
        <summary>Client-side web development tools</summary>
        <ol>
          <li><a href="/fr/docs/Learn/Tools_and_testing/Understanding_client-side_tools">Client-side web development tools index</a></li>
          <li><a href="/fr/docs/Learn/Tools_and_testing/Understanding_client-side_tools/Overview">Client-side tooling overview</a></li>
          <li><a href="/fr/docs/Learn/Tools_and_testing/Understanding_client-side_tools/Command_line">Command line crash course</a></li>
          <li><a href="/fr/docs/Learn/Tools_and_testing/Understanding_client-side_tools/Package_management">Package management basics</a></li>
          <li><a href="/fr/docs/Learn/Tools_and_testing/Understanding_client-side_tools/Introducing_complete_toolchain">Introducing a complete toolchain</a></li>
          <li><a href="/fr/docs/Learn/Tools_and_testing/Understanding_client-side_tools/Deployment">Deploying our app</a></li>
        </ol>
    </details>
  </li>
  <li class="toggle">
    <details>
        <summary>Introduction to client-side frameworks</summary>
        <ol>
          <li><a href="/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Introduction">Client-side frameworks overview</a></li>
          <li><a href="/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Main_features">Framework main features</a></li>
        </ol>
    </details>
  </li>
  <li class="toggle">
    <details>
        <summary>React</summary>
        <ol>
          <li><a href="/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/React_getting_started">Getting started with React</a></li>
          <li><a href="/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/React_todo_list_beginning">Beginning our React todo list</a></li>
          <li><a href="/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/React_components">Componentizing our React app</a></li>
          <li><a href="/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/React_interactivity_events_state">React interactivity: Events and state</a></li>
          <li><a href="/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/React_interactivity_filtering_conditional_rendering">React interactivity: Editing, filtering, conditional rendering</a></li>
          <li><a href="/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/React_accessibility">Accessibility in React</a></li>
          <li><a href="/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/React_resources">React resources</a></li>
        </ol>
    </details>
  </li>
  <li class="toggle">
    <details>
        <summary>Ember</summary>
        <ol>
          <li><a href="/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Ember_getting_started">Getting started with Ember</a></li>
          <li><a href="/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Ember_structure_componentization">Ember app structure and componentization</a></li>
          <li><a href="/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Ember_interactivity_events_state">Ember interactivity: Events, classes and state</a></li>
          <li><a href="/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Ember_conditional_footer">Ember Interactivity: Footer functionality, conditional rendering</a></li>
          <li><a href="/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Ember_routing">Routing in Ember</a></li>
          <li><a href="/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Ember_resources">Ember resources and troubleshooting</a></li>
        </ol>
    </details>
  </li>
  <li class="toggle">
    <details>
        <summary>Vue</summary>
        <ol>
          <li><a href="/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Vue_getting_started">Getting started with Vue</a></li>
          <li><a href="/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Vue_first_component">Creating our first Vue component</a></li>
          <li><a href="/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Vue_rendering_lists">Rendering a list of Vue components</a></li>
          <li><a href="/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Vue_methods_events_models">Adding a new todo form: Vue events, methods, and models</a></li>
          <li><a href="/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Vue_styling">Styling Vue components with CSS</a></li>
          <li><a href="/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Vue_computed_properties">Using Vue computed properties</a></li>
          <li><a href="/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Vue_conditional_rendering  ">Vue conditional rendering: editing existing todos</a></li>
          <li><a href="/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Vue_refs_focus_management">Focus management with Vue refs</a></li>
          <li><a href="/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Vue_resources">Vue resources</a></li>
        </ol>
    </details>
  </li>
  <li class="toggle">
    <details>
        <summary>Svelte</summary>
        <ol>
          <li><a href="/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Svelte_getting_started">Getting started with Svelte</a></li>
          <li><a href="/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Svelte_Todo_list_beginning">Starting our Svelte Todo list app</a></li>
          <li><a href="/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Svelte_variables_props">Dynamic behavior in Svelte: working with variables and props</a></li>
          <li><a href="/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Svelte_components">Componentizing our Svelte app</a></li>
          <li><a href="/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Svelte_reactivity_lifecycle_accessibility">Advanced Svelte: Reactivity, lifecycle, accessibility</a></li>
          <li><a href="/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Svelte_stores">Working with Svelte stores</a></li>
          <li><a href="/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Svelte_TypeScript  ">TypeScript support in Svelte</a></li>
          <li><a href="/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Svelte_deployment_next">Deployment and next steps</a></li>
        </ol>
    </details>
  </li>
  <li class="toggle">
    <details>
        <summary>Angular</summary>
        <ol>
          <li><a href="/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Angular_getting_started">Getting started with Angular</a></li>
          <li><a href="/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Angular_todo_list_beginning">Beginning our Angular todo list app</a></li>
          <li><a href="/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Angular_styling">Styling our Angular app</a></li>
          <li><a href="/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Angular_item_component">Creating an item component</a></li>
          <li><a href="/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Angular_filtering">Filtering our to-do items</a></li>
          <li><a href="/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Angular_building">Building Angular applications and further resources</a></li>
        </ol>
    </details>
  </li>
  <li class="toggle">
    <details>
        <summary>Git and GitHub</summary>
        <ol>
          <li><a href="/fr/docs/Learn/Tools_and_testing/GitHub">Git and GitHub overview</a></li>
          <li><a href="https://guides.github.com/activities/hello-world/">Hello World</a></li>
          <li><a href="https://guides.github.com/introduction/git-handbook/">Git Handbook</a></li>
          <li><a href="https://guides.github.com/activities/forking/">Forking Projects</a></li>
          <li><a href="https://help.github.com/en/github/collaborating-with-issues-and-pull-requests/about-pull-requests">About pull requests</a></li>
          <li><a href="https://guides.github.com/features/issues/">Mastering Issues</a></li>
        </ol>
    </details>
  </li>
  <li class="toggle">
    <details>
        <summary>Cross browser testing</summary>
        <ol>
          <li><a href="/fr/docs/Learn/Tools_and_testing/Cross_browser_testing">Cross browser testing overview</a></li>
          <li><a href="/fr/docs/Learn/Tools_and_testing/Cross_browser_testing/Introduction">Introduction to cross browser testing</a></li>
          <li><a href="/fr/docs/Learn/Tools_and_testing/Cross_browser_testing/Testing_strategies">Strategies for carrying out testing</a></li>
          <li><a href="/fr/docs/Learn/Tools_and_testing/Cross_browser_testing/HTML_and_CSS">Handling common HTML and CSS problems</a></li>
          <li><a href="/fr/docs/Learn/Tools_and_testing/Cross_browser_testing/JavaScript">Handling common JavaScript problems</a></li>
          <li><a href="/fr/docs/Learn/Tools_and_testing/Cross_browser_testing/Accessibility">Handling common accessibility problems</a></li>
          <li><a href="/fr/docs/Learn/Tools_and_testing/Cross_browser_testing/Feature_detection">Implementing feature detection</a></li>
          <li><a href="/fr/docs/Learn/Tools_and_testing/Cross_browser_testing/Automated_testing">Introduction to automated testing</a></li>
          <li><a href="/fr/docs/Learn/Tools_and_testing/Cross_browser_testing/Your_own_automation_environment">Setting up your own test automation environment</a></li>
        </ol>
    </details>
  </li>
  <li data-default-state="open"><a href="/fr/docs/Learn/Server-side"><strong>Server-side website programming</strong></a></li>
  <li class="toggle">
    <details>
        <summary>First steps</summary>
        <ol>
          <li><a href="/fr/docs/Learn/Server-side/First_steps">First steps overview</a></li>
          <li><a href="/fr/docs/Learn/Server-side/First_steps/Introduction">Introduction to the server-side</a></li>
          <li><a href="/fr/docs/Learn/Server-side/First_steps/Client-Server_overview">Client-Server overview</a></li>
          <li><a href="/fr/docs/Learn/Server-side/First_steps/Web_frameworks">Server-side web frameworks</a></li>
          <li><a href="/fr/docs/Learn/Server-side/First_steps/Website_security">Website security</a></li>
        </ol>
    </details>
  </li>
  <li class="toggle">
    <details open="">
        <summary>Django web framework (Python)</summary>
        <ol>
          <li><a href="/fr/docs/Learn/Server-side/Django">Django web framework (Python) overview</a></li>
          <li><a href="/fr/docs/Learn/Server-side/Django/Introduction">Introduction</a></li>
          <li><a href="/fr/docs/Learn/Server-side/Django/development_environment">Setting up a development environment</a></li>
          <li><a href="/fr/docs/Learn/Server-side/Django/Tutorial_local_library_website">Tutorial: The Local Library website</a></li>
          <li><a href="/fr/docs/Learn/Server-side/Django/skeleton_website">Tutorial Part 2: Creating a skeleton website</a></li>
          <li><a href="/fr/docs/Learn/Server-side/Django/Models">Tutorial Part 3: Using models</a></li>
          <li><a href="/fr/docs/Learn/Server-side/Django/Admin_site">Tutorial Part 4: Django admin site</a></li>
          <li><a href="/fr/docs/Learn/Server-side/Django/Home_page">Tutorial Part 5: Creating our home page</a></li>
          <li><a href="/fr/docs/Learn/Server-side/Django/Generic_views">Tutorial Part 6: Generic list and detail views</a></li>
          <li><a href="/fr/docs/Learn/Server-side/Django/Sessions">Tutorial Part 7: Sessions framework</a></li>
          <li><a href="/fr/docs/Learn/Server-side/Django/Authentication">Tutorial Part 8: User authentication and permissions</a></li>
          <li><a href="/fr/docs/Learn/Server-side/Django/Forms">Tutorial Part 9: Working with forms</a></li>
          <li><a href="/fr/docs/Learn/Server-side/Django/Testing">Tutorial Part 10: Testing a Django web application</a></li>
          <li><a href="/fr/docs/Learn/Server-side/Django/Deployment">Tutorial Part 11: Deploying Django to production</a></li>
          <li><a href="/fr/docs/Learn/Server-side/Django/web_application_security">Web application security</a></li>
          <li><a href="/fr/docs/Learn/Server-side/Django/django_assessment_blog">Assessment: DIY mini blog</a></li>
        </ol>
    </details>
  </li>
  <li class="toggle">
    <details>
        <summary>Express Web Framework (node.js/JavaScript)</summary>
        <ol>
          <li><a href="/fr/docs/Learn/Server-side/Express_Nodejs">Express Web Framework (Node.js/JavaScript) overview</a></li>
          <li><a href="/fr/docs/Learn/Server-side/Express_Nodejs/Introduction">Express/Node introduction</a></li>
          <li><a href="/fr/docs/Learn/Server-side/Express_Nodejs/development_environment">Setting up a Node (Express) development environment</a></li>
          <li><a href="/fr/docs/Learn/Server-side/Express_Nodejs/Tutorial_local_library_website">Express tutorial: The Local Library website</a></li>
          <li><a href="/fr/docs/Learn/Server-side/Express_Nodejs/skeleton_website">Express Tutorial Part 2: Creating a skeleton website</a></li>
          <li><a href="/fr/docs/Learn/Server-side/Express_Nodejs/mongoose">Express Tutorial Part 3: Using a database (with Mongoose)</a></li>
          <li><a href="/fr/docs/Learn/Server-side/Express_Nodejs/routes">Express Tutorial Part 4: Routes and controllers</a></li>
          <li><a href="/fr/docs/Learn/Server-side/Express_Nodejs/Displaying_data">Express Tutorial Part 5: Displaying library data</a></li>
          <li><a href="/fr/docs/Learn/Server-side/Express_Nodejs/forms">Express Tutorial Part 6: Working with forms</a></li>
          <li><a href="/fr/docs/Learn/Server-side/Express_Nodejs/deployment">Express Tutorial Part 7: Deploying to production</a></li>
        </ol>
    </details>
  </li>
  <li><a href="#"><strong>Further resources</strong></a></li>
  <li class="toggle">
    <details>
        <summary>Common questions</summary>
        <ol>
          <li><a href="/fr/docs/Learn/HTML/Howto">HTML questions</a></li>
          <li><a href="/fr/docs/Learn/CSS/Howto">CSS questions</a></li>
          <li><a href="/fr/docs/Learn/JavaScript/Howto">JavaScript questions</a></li>
          <li><a href="/fr/docs/Learn/Common_questions#Web_mechanics">Web mechanics</a></li>
          <li><a href="/fr/docs/Learn/Common_questions#Tools_and_setup">Tools and setup</a></li>
          <li><a href="/fr/docs/Learn/Common_questions#Design_and_accessibility">Design and accessibility</a></li>
        </ol>
    </details>
  </li>
</ol>

</div></nav></div><footer id="nav-footer" class="page-footer"><div class="content-container"><div class="page-footer-logo"><a href="/fr/" class="logo" aria-label="MDN Web Docs"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 451.74 135" fill="#fff"><path d="M7.14 8.35v111.06h111.05V8.35zm103.71 56c-.48.92-1 1.79-1.46 2.71a3.44 3.44 0 01-3.54 2 2.4 2.4 0 00-1.55.5c-1.37.9-2.76 1.79-4.18 2.63a7.33 7.33 0 01-6.35.34 29.71 29.71 0 00-10.63-2 11.7 11.7 0 00-9.46 4.31 14.84 14.84 0 00-2.13 4.29c-1.24 3.07-2.3 21.38-2.3 26.05 0 0-17.62-3.42-34.15-20.34l4.31-11.32h-13.5l9.76-10.35h-16.8l9.77-10.34H12.69L30.45 34a40.9 40.9 0 0119.77-10.83c7.1-1.22 8.93-.53 13.31.77l2.43.73.85.25 3.1.95a12.56 12.56 0 006.21.09 11.37 11.37 0 018.25 1 8.24 8.24 0 014.1 6.22 7.29 7.29 0 003.61 5.49 59.45 59.45 0 009.32 4.11c2.27.86 4.54 1.84 6.79 2.72a6.81 6.81 0 012.86 2.06 4.81 4.81 0 011.1 2.73c.14 2 .37 4 .47 6a15.24 15.24 0 01-1.77 8.03zM320.12 39.62a5.42 5.42 0 00-4.53 2.13 7.36 7.36 0 00-1.7 4.43v2.36a6.28 6.28 0 001.7 4.46 5.63 5.63 0 004.3 1.82 5.12 5.12 0 004.57-2.27A9.7 9.7 0 00326 47a8.11 8.11 0 00-1.67-5.52 5.36 5.36 0 00-4.21-1.86zM387.38 39.53a5.52 5.52 0 00-4.7 2.15 8.8 8.8 0 00-1.63 5.49 9.23 9.23 0 001.58 5.45 5.38 5.38 0 004.7 2.25 5.61 5.61 0 004.74-2.2 8.91 8.91 0 001.68-5.59 8.24 8.24 0 00-1.75-5.52 5.76 5.76 0 00-4.62-2.03zM299.47 41.35a4.34 4.34 0 00-4-1.92 4.55 4.55 0 00-3.89 1.73 8.37 8.37 0 00-1.58 4.17h10.48a6.3 6.3 0 00-1.01-3.98zM357.74 30.75H352v23.31h5.72q5.47 0 8.35-3t2.93-8.65q0-5.43-2.88-8.55t-8.38-3.11z"></path><path d="M121.55 8.35v70.8h323V8.35zm42.21 22.45h-4V54h3.68v3.73h-11.25V54h3.31V36.79h-.19l-9.63 19.12h-2.12l-10-19.4h-.19V54h3.45v3.73h-11.15V54h3.68V30.8h-4v-3.73H133l11.66 22.56h.19l11.18-22.56h7.7zm29.12 22.67q-4.11 4.28-11.38 4.28h-14.06v-3.69h3.73V30.75h-3.73v-3.68h13.83q7.59 0 11.66 4.29a15.4 15.4 0 014 11 15.33 15.33 0 01-4.05 11.11zm38.89-22.67h-3.68v27h-2.6L208.08 35h-.19v19h4.67v3.73h-12.22V54h3.49V30.8h-4v-3.73h7.08l16.9 22.09h.19V30.8h-4.58v-3.73h12.32zm43.8 27h-3.31l-7.83-23.18h-.19l-7.55 23.18h-3.35l-8.78-27h-2.65v-3.73H253v3.73h-3.87L255 50.71h.23l6.61-19.91H259v-3.73h11v3.73h-2.78l6.61 20.1h.23l5.43-20.1h-4.15v-3.73h11v3.73h-2.54zm26.71-1.51a9.66 9.66 0 01-6.42 2 10.2 10.2 0 01-7.41-2.74c-1.89-1.82-2.83-4.47-2.83-7.93a12.37 12.37 0 012.64-8.12 9 9 0 017.32-3.21 8.62 8.62 0 016.75 2.69 9.65 9.65 0 012.45 6.52 13.67 13.67 0 01-.28 2.69H290q.29 6.71 6.18 6.7a5.2 5.2 0 003.71-1.18 5.82 5.82 0 001.67-2.83l3.45.71a7.21 7.21 0 01-2.73 4.65zm25.77-1.63c-1.51 2.4-3.92 3.61-7.22 3.61s-5.84-1.29-7.22-3.87c0 .25-.1.82-.21 1.7s-.19 1.44-.22 1.7H309c.16-1 .31-2 .47-3.07a21.42 21.42 0 00.24-3.16v-23h-3.4v-3.3h7.55V40.9a9.76 9.76 0 012.67-3.28 7.33 7.33 0 014.74-1.4 8.48 8.48 0 016.5 2.78q2.55 2.74 2.55 7.74a14.6 14.6 0 01-2.27 7.87zm41.39-1.14q-4.11 4.28-11.37 4.28H344v-3.74h3.73V30.75H344v-3.68h13.83q7.59 0 11.66 4.29a15.41 15.41 0 014.06 11 15.34 15.34 0 01-4.11 11.11zm25.65 1.68a10.53 10.53 0 01-7.9 3.07 10 10 0 01-7.63-3 10.93 10.93 0 01-2.8-7.83 12.13 12.13 0 012.69-7.93q2.69-3.3 8-3.3t8 3.28a12 12 0 012.64 7.76 10.86 10.86 0 01-3 7.9zm22.61.57c-1.4 1.66-3.63 2.5-6.68 2.5a9.58 9.58 0 01-7.15-2.76q-2.72-2.76-2.71-7.91a12.25 12.25 0 012.69-8 9.17 9.17 0 017.5-3.28 15 15 0 013.82.48 10.37 10.37 0 013.5 1.65l.85 5.47-3.35.38-.76-3.54a8.07 8.07 0 00-4.11-1 4.9 4.9 0 00-4.39 2.15 9.93 9.93 0 00-1.41 5.55 8.9 8.9 0 001.5 5.38 5.23 5.23 0 004.44 2c2.92 0 4.67-1.7 5.23-5.1l3.5.71a10.34 10.34 0 01-2.47 5.27zm20.48.75a11.68 11.68 0 01-6.63 1.75 15.52 15.52 0 01-8.26-2.08L424 51l3.26.33-.1 2.74a7 7 0 002.06.66 12.63 12.63 0 002.19.19 8.68 8.68 0 003.66-.75 2.5 2.5 0 001.63-2.36 2.25 2.25 0 00-1.32-2.2 12.65 12.65 0 00-3.28-1 47.39 47.39 0 01-3.9-.82 7.5 7.5 0 01-3.25-1.7 4.67 4.67 0 01-1.33-3.66c0-2.36.88-4 2.62-4.91a12 12 0 015.6-1.37 15 15 0 014.08.55 16.65 16.65 0 013.47 1.39l.47 5.1-3.3.37-.48-3.3a9.5 9.5 0 00-4.06-.9 5.62 5.62 0 00-2.87.66 2.33 2.33 0 00-1.15 2.25 2.13 2.13 0 001.3 2.07 11.91 11.91 0 003.21.92 36.69 36.69 0 013.82.83 7.46 7.46 0 013.21 1.74 4.9 4.9 0 011.3 3.73 5.56 5.56 0 01-2.66 4.91z"></path><path d="M181.17 30.75h-5.71v23.31h5.71q5.47 0 8.36-3t2.88-8.61q0-5.43-2.88-8.55t-8.36-3.15zM121.63 119.32V81.74h114.91v37.58zM153.22 109h-2v-6.85a4.8 4.8 0 00-1.58-4 5.57 5.57 0 00-3.55-1.26 5 5 0 00-4.92 3.26 4.19 4.19 0 00-1.88-2.46 5.82 5.82 0 00-3-.8 4.89 4.89 0 00-4.56 2.56v-2.21h-6.28v3.26h2v8.5h-2v3.23h9.11V109h-2.86v-5.25a4.4 4.4 0 01.69-2.56 2.47 2.47 0 012.21-1q2.57 0 2.56 3.63v8.41h6.29V109h-2v-5.25a4.47 4.47 0 01.67-2.56 2.42 2.42 0 012.19-1q2.63 0 2.63 3.63v8.41h6.28zm9.88-12.07q-4 0-6 2.36a8.41 8.41 0 00-2 5.66 7.25 7.25 0 002.17 5.62 8 8 0 005.65 2 8.54 8.54 0 005.94-2.11 7.27 7.27 0 002.34-5.67 8.21 8.21 0 00-2-5.51q-2.07-2.34-6.1-2.34zm-.1 12.35a3 3 0 01-2.63-1.33 5.68 5.68 0 01-.9-3.26 5 5 0 011-3.28 3.23 3.23 0 012.61-1.18 3.5 3.5 0 012.59 1.08 4.56 4.56 0 011.07 3.31 5.21 5.21 0 01-1 3.41 3.33 3.33 0 01-2.74 1.25zm25-2.3l-3.39-.29-.7 2.32H179l8.32-9.54-.32-2.23h-13.19l-.53 5.25 3.16.34.67-2.36h4.65l-8.25 9.53.44 2.26h13.13zm7.62-9.74h-4.46v5.39h4.46zm0 9.61h-4.46v5.39h4.46zm13.54-17.49h-4.23l-6.48 22.88h4.22zm8.68 0h-4.23l-6.45 22.88h4.19zm15 22.51l-.07-2.26a1.22 1.22 0 01-.56.1c-.69 0-1-.39-1-1.16v-6.49a4.39 4.39 0 00-1.8-3.84 7 7 0 00-4.16-1.28 14.55 14.55 0 00-3.16.3 24.14 24.14 0 00-3.29 1.06l-.56 3.46 3.39.4.5-1.69a2.78 2.78 0 011.08-.37 11.3 11.3 0 011.25-.07c1.19 0 1.89.37 2.09 1.1a8.55 8.55 0 01.3 2.26v.5a8.91 8.91 0 00-1.18-.11h-1.21a12.64 12.64 0 00-4.81.88 3.53 3.53 0 00-2.18 3.64 3.66 3.66 0 001.48 3.33 5.63 5.63 0 003.11 1 4.67 4.67 0 003-.91 6.78 6.78 0 001.8-2 3 3 0 003.33 3 5.54 5.54 0 002.66-.85zm-9.25-2.32a1.69 1.69 0 01-1.36-.52 1.81 1.81 0 01-.43-1.21 1.67 1.67 0 01.86-1.68 4.63 4.63 0 012-.42 7.69 7.69 0 011.07.07l1.06.13a3.58 3.58 0 01-1.08 2.74 3.24 3.24 0 01-2.11.89z"></path></svg></a></div><ul class="link-list-mdn"><li><a href="/fr/docs/Web">Web Technologies</a></li><li><a href="/fr/docs/Learn">Learn Web Development</a></li><li><a href="/fr/docs/MDN/About">About MDN</a></li><li><a href="/fr/docs/MDN/Feedback">Feedback</a></li></ul><ul class="link-list-moz"><li><a href="https://www.mozilla.org/about/" target="_blank" rel="noopener noreferrer">About</a></li><li><a href="https://shop.spreadshirt.com/mdn-store/" target="_blank" rel="noopener noreferrer">MDN Web Docs Store</a></li><li><a href="https://www.mozilla.org/contact/" target="_blank" rel="noopener noreferrer">Contact Us</a></li><li><a href="https://www.mozilla.org/firefox/?utm_source=developer.mozilla.org&amp;utm_campaign=footer&amp;utm_medium=referral" target="_blank" rel="noopener noreferrer">Firefox</a></li></ul><div class="social social-mdn"><h4>MDN</h4><ul><li><a class="social-icon twitter" href="https://twitter.com/mozdevnet" target="_blank" rel="noopener noreferrer"><span class="visually-hidden">MDN on Twitter</span></a></li><li><a class="social-icon github" href="https://github.com/mdn/" target="_blank" rel="noopener noreferrer"><span class="visually-hidden">MDN on Github</span></a></li></ul></div><div class="social social-moz"><h4>Mozilla</h4><ul><li><a class="social-icon twitter" href="https://twitter.com/mozilla" target="_blank" rel="noopener noreferrer"><span class="visually-hidden">Mozilla on Twitter</span></a></li><li><a class="social-icon instagram" href="https://www.instagram.com/mozillagram/" target="_blank" rel="noopener noreferrer"><span class="visually-hidden">Mozilla on Instagram</span></a></li></ul></div><p id="license" class="footer-license">© 2005-<!-- -->2022<!-- --> Mozilla and individual contributors. Content is available under<!-- --> <a href="/docs/MDN/About#Copyrights_and_licenses">these licenses</a>.</p><ul class="footer-legal"><li><a href="https://www.mozilla.org/about/legal/terms/mozilla" target="_blank" rel="noopener noreferrer">Terms</a></li><li><a href="https://www.mozilla.org/privacy/websites/" target="_blank" rel="noopener noreferrer">Privacy</a></li><li><a href="https://www.mozilla.org/privacy/websites/#cookies" target="_blank" rel="noopener noreferrer">Cookies</a></li></ul></div></footer><div class="page-overlay hidden"></div></div><script type="application/json" id="hydration">{"doc":{"isMarkdown":true,"isTranslated":true,"isActive":true,"flaws":{},"title":"Django didactique - Section 9 : Travailler avec des formulaires","mdn_url":"/fr/docs/Learn/Server-side/Django/Forms","locale":"fr","native":"Français","sidebarHTML":"\n\n<ol>\n  <li data-default-state=\"\"><a href=\"/fr/docs/Learn/Getting_started_with_the_web\"><strong>Bienvenue aux débutants !</strong></a></li>\n  <li class=\"toggle\">\n      <details>\n          <summary>Commencer avec le Web</summary>\n          <ol>\n            <li><a href=\"/fr/docs/Learn/Getting_started_with_the_web\">Vue d'ensemble de Commencer avec le Web</a></li>\n            <li><a href=\"/fr/docs/Learn/Getting_started_with_the_web/Installing_basic_software\">Installation des outils de base</a></li>\n            <li><a href=\"/fr/docs/Learn/Getting_started_with_the_web/What_will_your_website_look_like\">Quel sera l'aspect de votre site web ?</a></li>\n            <li><a href=\"/fr/docs/Learn/Getting_started_with_the_web/Dealing_with_files\">Gérer les fichiers</a></li>\n            <li><a href=\"/fr/docs/Learn/Getting_started_with_the_web/HTML_basics\">Les bases de HTML</a></li>\n            <li><a href=\"/fr/docs/Learn/Getting_started_with_the_web/CSS_basics\">Les bases de CSS</a></li>\n            <li><a href=\"/fr/docs/Learn/Getting_started_with_the_web/JavaScript_basics\">Les bases de JavaScript</a></li>\n            <li><a href=\"/fr/docs/Learn/Getting_started_with_the_web/Publishing_your_website\">Publier votre site web</a></li>\n            <li><a href=\"/fr/docs/Learn/Getting_started_with_the_web/How_the_Web_works\">Le fonctionnement du Web</a></li>\n          </ol>\n      </details>\n  </li>\n  <li data-default-state=\"\"><a href=\"/fr/docs/Learn/HTML\"><strong>HTML</strong></a></li>\n  <li class=\"toggle\">\n      <details>\n          <summary>Introduction au HTML</summary>\n          <ol>\n            <li><a href=\"/fr/docs/Learn/HTML/Introduction_to_HTML\">Vue d'ensemble de Introduction au HTML</a></li>\n            <li><a href=\"/fr/docs/Learn/HTML/Introduction_to_HTML/Getting_started\">Commencer avec le HTML</a></li>\n            <li><a href=\"/fr/docs/Learn/HTML/Introduction_to_HTML/The_head_metadata_in_HTML\">Qu'y-a-t-il dans l'en-tête ? Métadonnées en HTML</a></li>\n            <li><a href=\"/fr/docs/Learn/HTML/Introduction_to_HTML/HTML_text_fundamentals\">Fondamentaux du texte en HTML</a></li>\n            <li><a href=\"/fr/docs/Learn/HTML/Introduction_to_HTML/Creating_hyperlinks\">Création d'hyperliens</a></li>\n            <li><a href=\"/fr/docs/Learn/HTML/Introduction_to_HTML/Advanced_text_formatting\">Formatage avancé du texte</a></li>\n            <li><a href=\"/fr/docs/Learn/HTML/Introduction_to_HTML/Document_and_website_structure\">Structure de site web et de document</a></li>\n            <li><a href=\"/fr/docs/Learn/HTML/Introduction_to_HTML/Debugging_HTML\">Déboguer en HTML</a></li>\n            <li><a href=\"/fr/docs/Learn/HTML/Introduction_to_HTML/Marking_up_a_letter\">Baliser une lettre</a></li>\n            <li><a href=\"/fr/docs/Learn/HTML/Introduction_to_HTML/Structuring_a_page_of_content\">Structurer une page de contenu</a></li>\n          </ol>\n      </details>\n  </li>\n  <li class=\"toggle\">\n      <details>\n          <summary>Multimedia and embedding</summary>\n          <ol>\n            <li><a href=\"/fr/docs/Learn/HTML/Multimedia_and_embedding\">Multimedia and embedding overview</a></li>\n            <li><a href=\"/fr/docs/Learn/HTML/Multimedia_and_embedding/Images_in_HTML\">Images in HTML</a></li>\n            <li><a href=\"/fr/docs/Learn/HTML/Multimedia_and_embedding/Video_and_audio_content\">Video and audio content</a></li>\n            <li><a href=\"/fr/docs/Learn/HTML/Multimedia_and_embedding/Other_embedding_technologies\">From object to iframe — other embedding technologies</a></li>\n            <li><a href=\"/fr/docs/Learn/HTML/Multimedia_and_embedding/Adding_vector_graphics_to_the_Web\">Adding vector graphics to the Web</a></li>\n            <li><a href=\"/fr/docs/Learn/HTML/Multimedia_and_embedding/Responsive_images\">Responsive images</a></li>\n            <li><a href=\"/fr/docs/Learn/HTML/Multimedia_and_embedding/Mozilla_splash_page\">Assessment: Mozilla splash page</a></li>\n          </ol>\n      </details>\n  </li>\n  <li class=\"toggle\">\n      <details>\n          <summary>HTML tables</summary>\n          <ol>\n            <li><a href=\"/fr/docs/Learn/HTML/Tables\">HTML tables overview</a></li>\n            <li><a href=\"/fr/docs/Learn/HTML/Tables/Basics\">HTML table basics</a></li>\n            <li><a href=\"/fr/docs/Learn/HTML/Tables/Advanced\">HTML Table advanced features and accessibility</a></li>\n            <li><a href=\"/fr/docs/Learn/HTML/Tables/Structuring_planet_data\">Assessment: Structuring planet data</a></li>\n          </ol>\n      </details>\n  </li>\n  <li data-default-state=\"\"><a href=\"/fr/docs/Learn/CSS\"><strong>CSS — Styling the Web</strong></a></li>\n  <li class=\"toggle\">\n      <details>\n          <summary>CSS first steps</summary>\n          <ol>\n            <li><a href=\"/fr/docs/Learn/CSS/First_steps\">CSS first steps overview</a></li>\n            <li><a href=\"/fr/docs/Learn/CSS/First_steps/What_is_CSS\">What is CSS?</a></li>\n            <li><a href=\"/fr/docs/Learn/CSS/First_steps/Getting_started\">Getting started with CSS</a></li>\n            <li><a href=\"/fr/docs/Learn/CSS/First_steps/How_CSS_is_structured\">How CSS is structured</a></li>\n            <li><a href=\"/fr/docs/Learn/CSS/First_steps/How_CSS_works\">How CSS works</a></li>\n            <li><a href=\"/fr/docs/Learn/CSS/First_steps/Using_your_new_knowledge\">Using your new knowledge</a></li>\n          </ol>\n      </details>\n  </li>\n  <li class=\"toggle\">\n      <details>\n          <summary>CSS building blocks</summary>\n          <ol>\n            <li><a href=\"/fr/docs/Learn/CSS/Building_blocks\">CSS building blocks overview</a></li>\n            <li><a href=\"/fr/docs/Learn/CSS/Building_blocks/Cascade_and_inheritance\">Cascade and inheritance</a></li>\n            <li><a href=\"/fr/docs/Learn/CSS/Building_blocks/Selectors\">CSS selectors</a></li>\n            <li><a href=\"/fr/docs/Learn/CSS/Building_blocks/The_box_model\">The box model</a></li>\n            <li><a href=\"/fr/docs/Learn/CSS/Building_blocks/Backgrounds_and_borders\">Backgrounds and borders</a></li>\n            <li><a href=\"/fr/docs/Learn/CSS/Building_blocks/Handling_different_text_directions\">Handling different text directions</a></li>\n            <li><a href=\"/fr/docs/Learn/CSS/Building_blocks/Overflowing_content\">Overflowing content</a></li>\n            <li><a href=\"/fr/docs/Learn/CSS/Building_blocks/Values_and_units\">Values and units</a></li>\n            <li><a href=\"/fr/docs/Learn/CSS/Building_blocks/Sizing_items_in_CSS\">Sizing items in CSS</a></li>\n            <li><a href=\"/fr/docs/Learn/CSS/Building_blocks/Images_media_form_elements\">Images, media, and form elements</a></li>\n            <li><a href=\"/fr/docs/Learn/CSS/Building_blocks/Styling_tables\">Styling tables</a></li>\n            <li><a href=\"/fr/docs/Learn/CSS/Building_blocks/Debugging_CSS\">Debugging CSS</a></li>\n            <li><a href=\"/fr/docs/Learn/CSS/Building_blocks/Organizing\">Organizing your CSS</a></li>\n      </ol></details>\n  </li>\n  <li class=\"toggle\">\n      <details>\n          <summary>Styling text</summary>\n          <ol>\n            <li><a href=\"/fr/docs/Learn/CSS/Styling_text\">Styling text overview</a></li>\n            <li><a href=\"/fr/docs/Learn/CSS/Styling_text/Fundamentals\">Fundamental text and font styling</a></li>\n            <li><a href=\"/fr/docs/Learn/CSS/Styling_text/Styling_lists\">Styling lists</a></li>\n            <li><a href=\"/fr/docs/Learn/CSS/Styling_text/Styling_links\">Styling links</a></li>\n            <li><a href=\"/fr/docs/Learn/CSS/Styling_text/Web_fonts\">Web fonts</a></li>\n            <li><a href=\"/fr/docs/Learn/CSS/Styling_text/Typesetting_a_homepage\">Assessment: Typesetting a community school homepage</a></li>\n          </ol>\n      </details>\n  </li>\n  <li class=\"toggle\">\n      <details>\n          <summary>CSS layout</summary>\n          <ol>\n            <li><a href=\"/fr/docs/Learn/CSS/CSS_layout\">CSS layout overview</a></li>\n            <li><a href=\"/fr/docs/Learn/CSS/CSS_layout/Introduction\">Introduction to CSS layout</a></li>\n            <li><a href=\"/fr/docs/Learn/CSS/CSS_layout/Normal_Flow\">Normal Flow</a></li>\n            <li><a href=\"/fr/docs/Learn/CSS/CSS_layout/Flexbox\">Flexbox</a></li>\n            <li><a href=\"/fr/docs/Learn/CSS/CSS_layout/Grids\">Grids</a></li>\n            <li><a href=\"/fr/docs/Learn/CSS/CSS_layout/Floats\">Floats</a></li>\n            <li><a href=\"/fr/docs/Learn/CSS/CSS_layout/Positioning\">Positioning</a></li>\n            <li><a href=\"/fr/docs/Learn/CSS/CSS_layout/Multiple-column_Layout\">Multiple-column Layout</a></li>\n            <li><a href=\"/fr/docs/Learn/CSS/CSS_layout/Responsive_Design\">Responsive design</a></li>\n            <li><a href=\"/fr/docs/Learn/CSS/CSS_layout/Media_queries\">Beginner's guide to media queries</a></li>\n            <li><a href=\"/fr/docs/Learn/CSS/CSS_layout/Legacy_Layout_Methods\">Legacy Layout Methods</a></li>\n            <li><a href=\"/fr/docs/Learn/CSS/CSS_layout/Supporting_Older_Browsers\">Supporting Older Browsers</a></li>\n            <li><a href=\"/fr/docs/Learn/CSS/CSS_layout/Fundamental_Layout_Comprehension\">Fundamental Layout Comprehension</a></li>\n          </ol>\n      </details>\n  </li>\n  <li data-default-state=\"\"><a href=\"/fr/docs/Learn/JavaScript\"><strong>JavaScript — Dynamic client-side scripting</strong></a></li>\n  <li class=\"toggle\">\n      <details>\n          <summary>JavaScript first steps</summary>\n          <ol>\n            <li><a href=\"/fr/docs/Learn/JavaScript/First_steps\">JavaScript first steps overview</a></li>\n            <li><a href=\"/fr/docs/Learn/JavaScript/First_steps/What_is_JavaScript\">What is JavaScript?</a></li>\n            <li><a href=\"/fr/docs/Learn/JavaScript/First_steps/A_first_splash\">A first splash into JavaScript</a></li>\n            <li><a href=\"/fr/docs/Learn/JavaScript/First_steps/What_went_wrong\">What went wrong? Troubleshooting JavaScript</a></li>\n            <li><a href=\"/fr/docs/Learn/JavaScript/First_steps/Variables\">Storing the information you need — Variables</a></li>\n            <li><a href=\"/fr/docs/Learn/JavaScript/First_steps/Math\">Basic math in JavaScript — Numbers and operators</a></li>\n            <li><a href=\"/fr/docs/Learn/JavaScript/First_steps/Strings\">Handling text — Strings in JavaScript</a></li>\n            <li><a href=\"/fr/docs/Learn/JavaScript/First_steps/Useful_string_methods\">Useful string methods</a></li>\n            <li><a href=\"/fr/docs/Learn/JavaScript/First_steps/Arrays\">Arrays</a></li>\n            <li><a href=\"/fr/docs/Learn/JavaScript/First_steps/Silly_story_generator\">Assessment: Silly story generator</a></li>\n          </ol>\n      </details>\n  </li>\n  <li class=\"toggle\">\n      <details>\n          <summary>JavaScript building blocks</summary>\n          <ol>\n            <li><a href=\"/fr/docs/Learn/JavaScript/Building_blocks\">JavaScript building blocks overview</a></li>\n            <li><a href=\"/fr/docs/Learn/JavaScript/Building_blocks/conditionals\">Making decisions in your code — Conditionals</a></li>\n            <li><a href=\"/fr/docs/Learn/JavaScript/Building_blocks/Looping_code\">Looping code</a></li>\n            <li><a href=\"/fr/docs/Learn/JavaScript/Building_blocks/Functions\">Functions — Reusable blocks of code</a></li>\n            <li><a href=\"/fr/docs/Learn/JavaScript/Building_blocks/Build_your_own_function\">Build your own function</a></li>\n            <li><a href=\"/fr/docs/Learn/JavaScript/Building_blocks/Return_values\">Function return values</a></li>\n            <li><a href=\"/fr/docs/Learn/JavaScript/Building_blocks/Events\">Introduction to events</a></li>\n            <li><a href=\"/fr/docs/Learn/JavaScript/Building_blocks/Image_gallery\">Assessment: Image gallery</a></li>\n          </ol>\n      </details>\n  </li>\n  <li class=\"toggle\">\n      <details>\n          <summary>Introducing JavaScript objects</summary>\n          <ol>\n            <li><a href=\"/fr/docs/Learn/JavaScript/Objects\">Introducing JavaScript objects overview</a></li>\n            <li><a href=\"/fr/docs/Learn/JavaScript/Objects/Basics\">Object basics</a></li>\n            <li><a href=\"/fr/docs/Learn/JavaScript/Objects/Object_prototypes\">Object prototypes</a></li>\n            <li><a href=\"/fr/docs/Learn/JavaScript/Objects/Object-oriented_programming\">Object-oriented programming concepts</a></li>\n            <li><a href=\"/fr/docs/Learn/JavaScript/Objects/Classes_in_JavaScript\">Classes in JavaScript</a></li>\n            <li><a href=\"/fr/docs/Learn/JavaScript/Objects/JSON\">Working with JSON data</a></li>\n            <li><a href=\"/fr/docs/Learn/JavaScript/Objects/Object_building_practice\">Object building practice</a></li>\n            <li><a href=\"/fr/docs/Learn/JavaScript/Objects/Adding_bouncing_balls_features\">Assessment: Adding features to our bouncing balls demo</a></li>\n          </ol>\n      </details>\n  </li>\n  <li class=\"toggle\">\n    <details>\n        <summary>Asynchronous JavaScript</summary>\n        <ol>\n          <li><a href=\"/fr/docs/Learn/JavaScript/Asynchronous\">Asynchronous JavaScript overview</a></li>\n          <li><a href=\"/fr/docs/Learn/JavaScript/Asynchronous/Concepts\">General asynchronous programming concepts</a></li>\n          <li><a href=\"/fr/docs/Learn/JavaScript/Asynchronous/Introducing\">Introducing asynchronous JavaScript</a></li>\n          <li><a href=\"/fr/docs/Learn/JavaScript/Asynchronous/Timeouts_and_intervals\">Cooperative asynchronous Java​Script: Timeouts and intervals</a></li>\n          <li><a href=\"/fr/docs/Learn/JavaScript/Asynchronous/Promises\">Graceful asynchronous programming with Promises</a></li>\n          <li><a href=\"/fr/docs/Learn/JavaScript/Asynchronous/Async_await\">Making asynchronous programming easier with async and await</a></li>\n          <li><a href=\"/fr/docs/Learn/JavaScript/Asynchronous/Choosing_the_right_approach\">Choosing the right approach</a></li>\n        </ol>\n    </details>\n  </li>\n  <li class=\"toggle\">\n    <details>\n        <summary>Client-side web APIs</summary>\n        <ol>\n          <li><a href=\"/fr/docs/Learn/JavaScript/Client-side_web_APIs\">Client-side web APIs</a></li>\n          <li><a href=\"/fr/docs/Learn/JavaScript/Client-side_web_APIs/Introduction\">Introduction to web APIs</a></li>\n          <li><a href=\"/fr/docs/Learn/JavaScript/Client-side_web_APIs/Manipulating_documents\">Manipulating documents</a></li>\n          <li><a href=\"/fr/docs/Learn/JavaScript/Client-side_web_APIs/Fetching_data\">Fetching data from the server</a></li>\n          <li><a href=\"/fr/docs/Learn/JavaScript/Client-side_web_APIs/Third_party_APIs\">Third party APIs</a></li>\n          <li><a href=\"/fr/docs/Learn/JavaScript/Client-side_web_APIs/Drawing_graphics\">Drawing graphics</a></li>\n          <li><a href=\"/fr/docs/Learn/JavaScript/Client-side_web_APIs/Video_and_audio_APIs\">Video and audio APIs</a></li>\n          <li><a href=\"/fr/docs/Learn/JavaScript/Client-side_web_APIs/Client-side_storage\">Client-side storage</a></li>\n        </ol>\n    </details>\n  </li>\n  <li><a href=\"/fr/docs/Learn/Forms\"><strong>Web forms — Working with user data</strong></a></li>\n  <li class=\"toggle\">\n    <details>\n        <summary>Core forms learning pathway</summary>\n        <ol>\n          <li><a href=\"/fr/docs/Learn/Forms\">Web forms overview</a></li>\n          <li><a href=\"/fr/docs/Learn/Forms/Your_first_form\">Your first form</a></li>\n          <li><a href=\"/fr/docs/Learn/Forms/How_to_structure_a_web_form\">How to structure a web form</a></li>\n          <li><a href=\"/fr/docs/Learn/Forms/Basic_native_form_controls\">Basic native form controls</a></li>\n          <li><a href=\"/fr/docs/Learn/Forms/HTML5_input_types\">The HTML5 input types</a></li>\n          <li><a href=\"/fr/docs/Learn/Forms/Other_form_controls\">Other form controls</a></li>\n          <li><a href=\"/fr/docs/Learn/Forms/Styling_web_forms\">Styling web forms</a></li>\n          <li><a href=\"/fr/docs/Learn/Forms/Advanced_form_styling\">Advanced form styling</a></li>\n          <li><a href=\"/fr/docs/Learn/Forms/UI_pseudo-classes\">UI pseudo-classes</a></li>\n          <li><a href=\"/fr/docs/Learn/Forms/Form_validation\">Client-side form validation</a></li>\n          <li><a href=\"/fr/docs/Learn/Forms/Sending_and_retrieving_form_data\">Sending form data</a></li>\n        </ol>\n    </details>\n  </li>\n  <li class=\"toggle\">\n    <details>\n        <summary>Advanced forms articles</summary>\n        <ol>\n          <li><a href=\"/fr/docs/Learn/Forms/How_to_build_custom_form_controls\">How to build custom form controls</a></li>\n          <li><a href=\"/fr/docs/Learn/Forms/Sending_forms_through_JavaScript\">Sending forms through JavaScript</a></li>\n          <li><a href=\"/fr/docs/Learn/Forms/Property_compatibility_table_for_form_controls\">CSS property compatibility table for form controls</a></li>\n        </ol>\n    </details>\n  </li>\n  <li><a href=\"/fr/docs/Learn/Accessibility\"><strong>Accessibility — Make the web usable by everyone</strong></a></li>\n  <li class=\"toggle\">\n    <details>\n        <summary>Accessibility guides</summary>\n        <ol>\n          <li><a href=\"/fr/docs/Learn/Accessibility\">Accessibility overview</a></li>\n          <li><a href=\"/fr/docs/Learn/Accessibility/What_is_accessibility\">What is accessibility?</a></li>\n          <li><a href=\"/fr/docs/Learn/Accessibility/HTML\">HTML: A good basis for accessibility</a></li>\n          <li><a href=\"/fr/docs/Learn/Accessibility/CSS_and_JavaScript\">CSS and JavaScript accessibility best practices</a></li>\n          <li><a href=\"/fr/docs/Learn/Accessibility/WAI-ARIA_basics\">WAI-ARIA basics</a></li>\n          <li><a href=\"/fr/docs/Learn/Accessibility/Multimedia\">Accessible multimedia</a></li>\n          <li><a href=\"/fr/docs/Learn/Accessibility/Mobile\">Mobile accessibility</a></li>\n        </ol>\n    </details>\n  </li>\n  <li class=\"toggle\">\n    <details>\n        <summary>Accessibility assessment</summary>\n        <ol>\n            <li><a href=\"/fr/docs/Learn/Accessibility/Accessibility_troubleshooting\">Assessment: Accessibility troubleshooting</a></li>\n        </ol>\n    </details>\n  </li>\n  <li><a href=\"/fr/docs/Learn/Tools_and_testing\"><strong>Tools and testing</strong></a></li>\n  <li class=\"toggle\">\n    <details>\n        <summary>Client-side web development tools</summary>\n        <ol>\n          <li><a href=\"/fr/docs/Learn/Tools_and_testing/Understanding_client-side_tools\">Client-side web development tools index</a></li>\n          <li><a href=\"/fr/docs/Learn/Tools_and_testing/Understanding_client-side_tools/Overview\">Client-side tooling overview</a></li>\n          <li><a href=\"/fr/docs/Learn/Tools_and_testing/Understanding_client-side_tools/Command_line\">Command line crash course</a></li>\n          <li><a href=\"/fr/docs/Learn/Tools_and_testing/Understanding_client-side_tools/Package_management\">Package management basics</a></li>\n          <li><a href=\"/fr/docs/Learn/Tools_and_testing/Understanding_client-side_tools/Introducing_complete_toolchain\">Introducing a complete toolchain</a></li>\n          <li><a href=\"/fr/docs/Learn/Tools_and_testing/Understanding_client-side_tools/Deployment\">Deploying our app</a></li>\n        </ol>\n    </details>\n  </li>\n  <li class=\"toggle\">\n    <details>\n        <summary>Introduction to client-side frameworks</summary>\n        <ol>\n          <li><a href=\"/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Introduction\">Client-side frameworks overview</a></li>\n          <li><a href=\"/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Main_features\">Framework main features</a></li>\n        </ol>\n    </details>\n  </li>\n  <li class=\"toggle\">\n    <details>\n        <summary>React</summary>\n        <ol>\n          <li><a href=\"/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/React_getting_started\">Getting started with React</a></li>\n          <li><a href=\"/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/React_todo_list_beginning\">Beginning our React todo list</a></li>\n          <li><a href=\"/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/React_components\">Componentizing our React app</a></li>\n          <li><a href=\"/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/React_interactivity_events_state\">React interactivity: Events and state</a></li>\n          <li><a href=\"/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/React_interactivity_filtering_conditional_rendering\">React interactivity: Editing, filtering, conditional rendering</a></li>\n          <li><a href=\"/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/React_accessibility\">Accessibility in React</a></li>\n          <li><a href=\"/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/React_resources\">React resources</a></li>\n        </ol>\n    </details>\n  </li>\n  <li class=\"toggle\">\n    <details>\n        <summary>Ember</summary>\n        <ol>\n          <li><a href=\"/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Ember_getting_started\">Getting started with Ember</a></li>\n          <li><a href=\"/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Ember_structure_componentization\">Ember app structure and componentization</a></li>\n          <li><a href=\"/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Ember_interactivity_events_state\">Ember interactivity: Events, classes and state</a></li>\n          <li><a href=\"/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Ember_conditional_footer\">Ember Interactivity: Footer functionality, conditional rendering</a></li>\n          <li><a href=\"/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Ember_routing\">Routing in Ember</a></li>\n          <li><a href=\"/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Ember_resources\">Ember resources and troubleshooting</a></li>\n        </ol>\n    </details>\n  </li>\n  <li class=\"toggle\">\n    <details>\n        <summary>Vue</summary>\n        <ol>\n          <li><a href=\"/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Vue_getting_started\">Getting started with Vue</a></li>\n          <li><a href=\"/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Vue_first_component\">Creating our first Vue component</a></li>\n          <li><a href=\"/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Vue_rendering_lists\">Rendering a list of Vue components</a></li>\n          <li><a href=\"/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Vue_methods_events_models\">Adding a new todo form: Vue events, methods, and models</a></li>\n          <li><a href=\"/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Vue_styling\">Styling Vue components with CSS</a></li>\n          <li><a href=\"/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Vue_computed_properties\">Using Vue computed properties</a></li>\n          <li><a href=\"/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Vue_conditional_rendering  \">Vue conditional rendering: editing existing todos</a></li>\n          <li><a href=\"/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Vue_refs_focus_management\">Focus management with Vue refs</a></li>\n          <li><a href=\"/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Vue_resources\">Vue resources</a></li>\n        </ol>\n    </details>\n  </li>\n  <li class=\"toggle\">\n    <details>\n        <summary>Svelte</summary>\n        <ol>\n          <li><a href=\"/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Svelte_getting_started\">Getting started with Svelte</a></li>\n          <li><a href=\"/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Svelte_Todo_list_beginning\">Starting our Svelte Todo list app</a></li>\n          <li><a href=\"/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Svelte_variables_props\">Dynamic behavior in Svelte: working with variables and props</a></li>\n          <li><a href=\"/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Svelte_components\">Componentizing our Svelte app</a></li>\n          <li><a href=\"/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Svelte_reactivity_lifecycle_accessibility\">Advanced Svelte: Reactivity, lifecycle, accessibility</a></li>\n          <li><a href=\"/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Svelte_stores\">Working with Svelte stores</a></li>\n          <li><a href=\"/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Svelte_TypeScript  \">TypeScript support in Svelte</a></li>\n          <li><a href=\"/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Svelte_deployment_next\">Deployment and next steps</a></li>\n        </ol>\n    </details>\n  </li>\n  <li class=\"toggle\">\n    <details>\n        <summary>Angular</summary>\n        <ol>\n          <li><a href=\"/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Angular_getting_started\">Getting started with Angular</a></li>\n          <li><a href=\"/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Angular_todo_list_beginning\">Beginning our Angular todo list app</a></li>\n          <li><a href=\"/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Angular_styling\">Styling our Angular app</a></li>\n          <li><a href=\"/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Angular_item_component\">Creating an item component</a></li>\n          <li><a href=\"/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Angular_filtering\">Filtering our to-do items</a></li>\n          <li><a href=\"/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Angular_building\">Building Angular applications and further resources</a></li>\n        </ol>\n    </details>\n  </li>\n  <li class=\"toggle\">\n    <details>\n        <summary>Git and GitHub</summary>\n        <ol>\n          <li><a href=\"/fr/docs/Learn/Tools_and_testing/GitHub\">Git and GitHub overview</a></li>\n          <li><a href=\"https://guides.github.com/activities/hello-world/\">Hello World</a></li>\n          <li><a href=\"https://guides.github.com/introduction/git-handbook/\">Git Handbook</a></li>\n          <li><a href=\"https://guides.github.com/activities/forking/\">Forking Projects</a></li>\n          <li><a href=\"https://help.github.com/en/github/collaborating-with-issues-and-pull-requests/about-pull-requests\">About pull requests</a></li>\n          <li><a href=\"https://guides.github.com/features/issues/\">Mastering Issues</a></li>\n        </ol>\n    </details>\n  </li>\n  <li class=\"toggle\">\n    <details>\n        <summary>Cross browser testing</summary>\n        <ol>\n          <li><a href=\"/fr/docs/Learn/Tools_and_testing/Cross_browser_testing\">Cross browser testing overview</a></li>\n          <li><a href=\"/fr/docs/Learn/Tools_and_testing/Cross_browser_testing/Introduction\">Introduction to cross browser testing</a></li>\n          <li><a href=\"/fr/docs/Learn/Tools_and_testing/Cross_browser_testing/Testing_strategies\">Strategies for carrying out testing</a></li>\n          <li><a href=\"/fr/docs/Learn/Tools_and_testing/Cross_browser_testing/HTML_and_CSS\">Handling common HTML and CSS problems</a></li>\n          <li><a href=\"/fr/docs/Learn/Tools_and_testing/Cross_browser_testing/JavaScript\">Handling common JavaScript problems</a></li>\n          <li><a href=\"/fr/docs/Learn/Tools_and_testing/Cross_browser_testing/Accessibility\">Handling common accessibility problems</a></li>\n          <li><a href=\"/fr/docs/Learn/Tools_and_testing/Cross_browser_testing/Feature_detection\">Implementing feature detection</a></li>\n          <li><a href=\"/fr/docs/Learn/Tools_and_testing/Cross_browser_testing/Automated_testing\">Introduction to automated testing</a></li>\n          <li><a href=\"/fr/docs/Learn/Tools_and_testing/Cross_browser_testing/Your_own_automation_environment\">Setting up your own test automation environment</a></li>\n        </ol>\n    </details>\n  </li>\n  <li data-default-state=\"open\"><a href=\"/fr/docs/Learn/Server-side\"><strong>Server-side website programming</strong></a></li>\n  <li class=\"toggle\">\n    <details>\n        <summary>First steps</summary>\n        <ol>\n          <li><a href=\"/fr/docs/Learn/Server-side/First_steps\">First steps overview</a></li>\n          <li><a href=\"/fr/docs/Learn/Server-side/First_steps/Introduction\">Introduction to the server-side</a></li>\n          <li><a href=\"/fr/docs/Learn/Server-side/First_steps/Client-Server_overview\">Client-Server overview</a></li>\n          <li><a href=\"/fr/docs/Learn/Server-side/First_steps/Web_frameworks\">Server-side web frameworks</a></li>\n          <li><a href=\"/fr/docs/Learn/Server-side/First_steps/Website_security\">Website security</a></li>\n        </ol>\n    </details>\n  </li>\n  <li class=\"toggle\">\n    <details open=\"\">\n        <summary>Django web framework (Python)</summary>\n        <ol>\n          <li><a href=\"/fr/docs/Learn/Server-side/Django\">Django web framework (Python) overview</a></li>\n          <li><a href=\"/fr/docs/Learn/Server-side/Django/Introduction\">Introduction</a></li>\n          <li><a href=\"/fr/docs/Learn/Server-side/Django/development_environment\">Setting up a development environment</a></li>\n          <li><a href=\"/fr/docs/Learn/Server-side/Django/Tutorial_local_library_website\">Tutorial: The Local Library website</a></li>\n          <li><a href=\"/fr/docs/Learn/Server-side/Django/skeleton_website\">Tutorial Part 2: Creating a skeleton website</a></li>\n          <li><a href=\"/fr/docs/Learn/Server-side/Django/Models\">Tutorial Part 3: Using models</a></li>\n          <li><a href=\"/fr/docs/Learn/Server-side/Django/Admin_site\">Tutorial Part 4: Django admin site</a></li>\n          <li><a href=\"/fr/docs/Learn/Server-side/Django/Home_page\">Tutorial Part 5: Creating our home page</a></li>\n          <li><a href=\"/fr/docs/Learn/Server-side/Django/Generic_views\">Tutorial Part 6: Generic list and detail views</a></li>\n          <li><a href=\"/fr/docs/Learn/Server-side/Django/Sessions\">Tutorial Part 7: Sessions framework</a></li>\n          <li><a href=\"/fr/docs/Learn/Server-side/Django/Authentication\">Tutorial Part 8: User authentication and permissions</a></li>\n          <li><a href=\"/fr/docs/Learn/Server-side/Django/Forms\">Tutorial Part 9: Working with forms</a></li>\n          <li><a href=\"/fr/docs/Learn/Server-side/Django/Testing\">Tutorial Part 10: Testing a Django web application</a></li>\n          <li><a href=\"/fr/docs/Learn/Server-side/Django/Deployment\">Tutorial Part 11: Deploying Django to production</a></li>\n          <li><a href=\"/fr/docs/Learn/Server-side/Django/web_application_security\">Web application security</a></li>\n          <li><a href=\"/fr/docs/Learn/Server-side/Django/django_assessment_blog\">Assessment: DIY mini blog</a></li>\n        </ol>\n    </details>\n  </li>\n  <li class=\"toggle\">\n    <details>\n        <summary>Express Web Framework (node.js/JavaScript)</summary>\n        <ol>\n          <li><a href=\"/fr/docs/Learn/Server-side/Express_Nodejs\">Express Web Framework (Node.js/JavaScript) overview</a></li>\n          <li><a href=\"/fr/docs/Learn/Server-side/Express_Nodejs/Introduction\">Express/Node introduction</a></li>\n          <li><a href=\"/fr/docs/Learn/Server-side/Express_Nodejs/development_environment\">Setting up a Node (Express) development environment</a></li>\n          <li><a href=\"/fr/docs/Learn/Server-side/Express_Nodejs/Tutorial_local_library_website\">Express tutorial: The Local Library website</a></li>\n          <li><a href=\"/fr/docs/Learn/Server-side/Express_Nodejs/skeleton_website\">Express Tutorial Part 2: Creating a skeleton website</a></li>\n          <li><a href=\"/fr/docs/Learn/Server-side/Express_Nodejs/mongoose\">Express Tutorial Part 3: Using a database (with Mongoose)</a></li>\n          <li><a href=\"/fr/docs/Learn/Server-side/Express_Nodejs/routes\">Express Tutorial Part 4: Routes and controllers</a></li>\n          <li><a href=\"/fr/docs/Learn/Server-side/Express_Nodejs/Displaying_data\">Express Tutorial Part 5: Displaying library data</a></li>\n          <li><a href=\"/fr/docs/Learn/Server-side/Express_Nodejs/forms\">Express Tutorial Part 6: Working with forms</a></li>\n          <li><a href=\"/fr/docs/Learn/Server-side/Express_Nodejs/deployment\">Express Tutorial Part 7: Deploying to production</a></li>\n        </ol>\n    </details>\n  </li>\n  <li><a href=\"#\"><strong>Further resources</strong></a></li>\n  <li class=\"toggle\">\n    <details>\n        <summary>Common questions</summary>\n        <ol>\n          <li><a href=\"/fr/docs/Learn/HTML/Howto\">HTML questions</a></li>\n          <li><a href=\"/fr/docs/Learn/CSS/Howto\">CSS questions</a></li>\n          <li><a href=\"/fr/docs/Learn/JavaScript/Howto\">JavaScript questions</a></li>\n          <li><a href=\"/fr/docs/Learn/Common_questions#Web_mechanics\">Web mechanics</a></li>\n          <li><a href=\"/fr/docs/Learn/Common_questions#Tools_and_setup\">Tools and setup</a></li>\n          <li><a href=\"/fr/docs/Learn/Common_questions#Design_and_accessibility\">Design and accessibility</a></li>\n        </ol>\n    </details>\n  </li>\n</ol>\n\n","body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<ul class=\"prev-next\">\n    <li><a class=\"button minimal only-in-en-us\" href=\"/en-US/docs/Learn/Server-side/Django/Authentication\" title=\"Currently only available in English (US)\"> Précédent  (en-US)</a></li>\n    <li><a class=\"button minimal\" href=\"/fr/docs/Learn/Server-side/Django\"> Aperçu&nbsp;: Django</a></li>\n    <li><a class=\"button minimal\" href=\"/fr/docs/Learn/Server-side/Django/Testing\"> Suivant  </a></li>\n</ul>\n<p>Dans cette formation, nous allons vous montrer comment travailler avec les formulaires HTML sous Django afin de créer, modifier et supprimer des instances de modèle. Pour illustrer le raisonnement, nous allons étendre le site web <a href=\"/fr/docs/Learn/Server-side/Django/Tutorial_local_library_website\">LocalLibrary</a> pour permettre aux bibliothécaires d'utiliser nos formulaires (plutôt que l'application d'administration par défaut) pour prolonger la durée de prêt des livres, et également pour ajouter, mettre à jour et supprimer des auteurs.</p>\n<table class=\"standard-table\">\n  <tbody>\n    <tr>\n      <th scope=\"row\">Prérequis&nbsp;:</th>\n      <td>Avoir terminé les formations précédentes, y compris <a href=\"/en-US/docs/Learn/Server-side/Django/Authentication\" class=\"only-in-en-us\" title=\"Currently only available in English (US)\">Django didactique - section 8&nbsp;: Authentification de l'utilisateur et permissions (en-US)</a>.</td>\n    </tr>\n    <tr>\n      <th scope=\"row\">Objectifs&nbsp;:</th>\n      <td>Comprendre comment écrire des formulaires pour récupérer des informations de la part des utilisateurs et mettre à jour la base de données. Comprendre comment il est possible de simplifier grandement la création de formulaires si l'on travaille avec un seul modèle en utilisant les vues génériques de formulaires d'éditions s'appuyant sur des classes.</td>\n    </tr>\n  </tbody>\n</table>"}},{"type":"prose","value":{"id":"vue_densemble","title":"Vue d'ensemble","isH3":false,"content":"<p>Un <a href=\"/fr/docs/Learn/Forms\">formulaire HTML</a> regroupe au moins un champ remplissable et des composants élémentaires d'interface web. Il peut être utilisé pour réunir des saisies de la part des utilisateurs avant envoi vers un serveur. Les formulaires sont souples : ils s'adaptent à plusieurs modes de saisie. En effet, il existe des composants élémentaires d'interface graphique pour des modes de saisie non contrainte avec une zone de saisie de texte, ou restreinte au type <code>date</code> avec un sélecteur de date (<i lang=\"en\">date picker</i>), la saisie d'un variable optionnelle via une boîte à cocher, d'un choix à faire parmi plusieurs valeurs possibles avec les boutons radio, etc. Les formulaires permettent de partager des informations avec le serveur de manière relativement sécurisée, car ils permettent d'envoyer des requêtes de type <code>POST</code> avec une protection contre la falsification des requêtes inter-site.</p>\n<p>Bien que nous n'ayons pas encore créé de formulaire au cours de cette formation, nous en avons déjà rencontré sur l'interface d'administration Django Admin — par exemple, la capture d'écran ci-dessous montre un formulaire d'édition de l'un de nos modèles de <a href=\"/fr/docs/Learn/Server-side/Django/Models\">Book</a> (livre), comprenant des composants élémentaires d'interface graphique de choix de valeur parmi une liste proposée, et des zones de saisie de texte.</p>\n<p>\n  <img src=\"/en-US/docs/Learn/Server-side/Django/Forms/admin_book_add.png\" alt=\"Écran d'administration du site - Ajout d'un livre\" width=\"841\" height=\"780\" loading=\"lazy\">\n</p>\n<p>Travailler avec des formulaires peut s'avérer compliqué&nbsp;! Les développeuses et développeurs doivent non seulement écrire le code HTML pour le formulaire, mais aussi vérifier et corriger sur le serveur les données saisies (et éventuellement aussi dans le navigateur), renvoyer le formulaire avec des messages d'erreur pour informer les usagers de tout champ invalide, prendre en charge les données quand elles passent l'étape de vérification, et finalement renvoyer une information à l'utilisateur d'une manière ou d'une autre pour indiquer ce succès. Les formulaires sous Django enlèvent beaucoup de travail à chacune de ces étapes, grâce à un cadriciel qui permet de déclarer des formulaires et leurs champs à travers un langage de programmation, puis d'utiliser ces objets non seulement pour générer le code HTML, mais aussi une grosse partie de la vérification des données et du retour d'information à l'utilisateur.</p>\n<p>Dans cette formation, nous allons vous montrer quelques-unes des manières de créer et de travailler avec les formulaires, et en particulier, comment les vues sur les formulaires génériques d'édition peuvent réduire significativement la quantité de travail à fournir pour créer les formulaires de manipulation de vos modèles. En chemin, nous allons étendre notre application <em>LocalLibrary</em> en ajoutant un formulaire permettant aux bibliothécaires de prolonger le prêt de livres, et nous allons créer des pages pour créer, modifier et supprimer des livres et des auteurs (reproduisant une version basique du formulaire ci-dessus pour éditer des livres).</p>"}},{"type":"prose","value":{"id":"formulaires_html","title":"Formulaires HTML","isH3":false,"content":"<p>D'abord, un premier aperçu des <a href=\"/fr/docs/Learn/Forms\">formulaires HTML</a>. Soit un formulaire HTML simple, composé d'un unique champ de saisie texte, présent pour y entrer le nom d'une «&nbsp;équipe&nbsp;» quelconque et sa description dans l'étiquette associée&nbsp;:</p>\n<p>\n  <img src=\"/en-US/docs/Learn/Server-side/Django/Forms/form_example_name_field.png\" alt=\"Champ textuel simple d'un formulaire HTML pour saisir un nom\" width=\"399\" height=\"44\" loading=\"lazy\">\n</p>\n<p>Le formulaire est défini en HTML comme une collection d'éléments enfermés entre deux balises <code>&lt;form&gt;...&lt;/form&gt;</code> contenant au moins une balise <code>&lt;input&gt;</code> dont la valeur d'attribut <code>type</code> doit valoir <code>submit</code>&nbsp;:</p>\n<div class=\"code-example\"><pre class=\"brush: html notranslate\"><code><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>form</span> <span class=\"token attr-name\">action</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>/team_name_url/<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">method</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>post<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>label</span> <span class=\"token attr-name\">for</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>team_name<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>Enter name: <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>label</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>team_name<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>name_field<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">value</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Default name for team.<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>submit<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">value</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>OK<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>form</span><span class=\"token punctuation\">&gt;</span></span>\n</code></pre></div>\n<p>Bien qu'ici nous n'ayons qu'un champ de saisie de texte destiné à recevoir le nom d'équipe, un formulaire <em>pourrait</em> avoir un nombre quelconque d'autres champs de saisie et leurs étiquettes de description associées. La valeur de l'attribut <code>type</code> définit la sorte de composant élémentaire d'interface graphique affichée. Les attributs <code>id</code> et <code>name</code> permettent d'identifier le champ en JavaScript/CSS/HTML alors que l'attribut <code>value</code> définit la valeur initiale du champ lorsqu'il est affiché pour la première fois. La description associée est déclarée par la balise <code>&lt;label&gt;</code> (voir «&nbsp;Enter Name&nbsp;» au-dessus), avec un attribut <code>for</code> devant contenir la valeur de l'attribut <code>id</code> du champ <code>input</code> auquel on souhaite l'associer.</p>\n<p>La balise <code>&lt;input&gt;</code> dont l'attribut <code>type</code> vaut <code>submit</code> sera affichée (par défaut) comme un bouton qui peut être cliqué par l'utilisatrice ou l'utilisateur pour envoyer vers le serveur les données figurant dans tous les autres éléments de formulaire <code>&lt;input&gt;</code> (dans le cas présent, la valeur actuelle de <code>team_name</code>). Les attributs de formulaire déterminent d'une part la méthode HTTP (attribut <code>method</code>) utilisée pour envoyer les données et d'autre part la destination des données sur le serveur (attribut <code>action</code>)&nbsp;:</p>\n<ul>\n  <li><code>action</code>&nbsp;: Il s'agit de la destination (ressource ou URL) où sont envoyées les données lorsque le formulaire est soumis. Si la valeur de cet attribut n'est pas initialisée (ou la chaîne vide est affectée à cet attribut), alors le formulaire sera renvoyé à l'URL de la page courante.</li>\n  <li><code>method</code>&nbsp;: La méthode HTTP utilisée pour envoyer les données&nbsp;: <em>post</em> ou <em>get</em>.\n    <ul>\n      <li>La méthode <code>POST</code> devrait toujours être utilisée si l'envoi de la donnée va provoquer un changement dans la base de données du serveur, car il peut être rendu plus résistant aux attaques par falsification de requête inter-site (CSRF).</li>\n      <li>La méthode <code>GET</code> ne devrait être utilisée que pour les formulaires ne changeant pas les données utilisateur (par exemple, un formulaire de recherche). Elle est recommandée lorsque vous souhaitez pouvoir partager l'URL ou la conserver dans vos favoris.</li>\n    </ul>\n  </li>\n</ul>\n<p>Le rôle du serveur est d'abord de fournir le formulaire sous sa forme initiale — c'est-à-dire une série de champs soit vides, soit préremplis avec des valeurs initiales. Après l'impulsion de l'utilisateur sur le bouton <code>submit</code>, le serveur va recevoir les données du formulaire avec les valeurs saisies dans le navigateur, et va devoir vérifier ces données. Si le formulaire contient des données invalides, le serveur devrait afficher le formulaire de nouveau, cette fois-ci avec les données utilisateur entrées dans les champs \"valides\" et des messages pour décrire le problème pour les champs invalides. Dès que le serveur reçoit une requête dont toutes les données du formulaire sont valides, il peut effectuer les actions appropriées (par exemple, sauver les données, renvoyer le résultat d'une recherche, téléverser un fichier, etc.) et ensuite notifier l'utilisateur.</p>\n<p>Comme vous pouvez l'imaginer, créer le code HTML, vérifier les données envoyées, réafficher les données entrées avec l'adjonction de rapports sur les erreurs, effectuer les opérations désirées sur les données valides peut représenter pas mal d'efforts de réflexion et d'essais-erreurs. Django rend cela bien plus facile, en enlevant la nécessité de concevoir une partie de ce code pénible et répétitif&nbsp;!</p>"}},{"type":"prose","value":{"id":"les_étapes_de_gestion_dun_formulaire_avec_django","title":"Les étapes de gestion d'un formulaire avec Django","isH3":false,"content":"<p>Django gère un formulaire en utilisant les mêmes techniques qu'évoquées lors des formations précédentes (pour afficher des informations à propos de nos modèles)&nbsp;: la vue reçoit une requête, exécute toute action nécessaire, incluant la lecture de données depuis les modèles, puis génère une page HTML (à partir d'un squelette auquel nous transmettons un <em>contexte</em> contenant les données à afficher). Ce qui rend les choses plus compliquées, c'est que le serveur a aussi besoin d'être capable de traiter les données fournies par l'utilisateur (pas seulement le contexte) et doit pouvoir réafficher les pages s'il y a une quelconque erreur.</p>\n<p>Voici ci-dessous un diagramme représentant les étapes de gestion d'un formulaire de requêtes, commençant par la demande par le navigateur d'une page, dont le code HTML se trouve contenir un formulaire (en vert).</p>\n<p>\n  <img src=\"/en-US/docs/Learn/Server-side/Django/Forms/form_handling_-_standard.png\" alt=\"Document décrivant le processus de mise à jour d'un formulaire.\" width=\"1180\" height=\"840\" loading=\"lazy\">\n</p>\n<p>En se basant sur la lecture du diagramme ci-dessus, les tâches principales dont s'acquitte Django à l'occasion de la gestion d'un formulaire sont&nbsp;:</p>\n<ol>\n  <li>Afficher le formulaire sous sa forme par défaut la première fois où il est demandé par l'utilisateur.\n    <ul>\n      <li>Le formulaire peut contenir des champs vides (par exemple, si vous créez un nouvel enregistrement), ou il peut être prérempli de valeurs initiales (par exemple, si vous modifiez les valeurs d'un enregistrement existant, ou que ces champs ont des valeurs initiales utiles).</li>\n      <li>Le formulaire est qualifié à cette étape de <em>formulaire libre</em>, parce qu'il n'est associé à aucune donnée entrée par l'utilisateur (bien qu'il puisse avoir des valeurs initiales).</li>\n    </ul>\n  </li>\n  <li>Recevoir des données d'une requête d'envoi de données et les lier au formulaire.\n    <ul>\n      <li>Lier les données au formulaire signifie que les données entrées par l'utilisateur, ainsi que les erreurs éventuelles, sont accessibles lorsque nous avons besoin de réafficher le formulaire.</li>\n    </ul>\n  </li>\n  <li>Nettoyer et valider les données.\n    <ul>\n      <li>Le nettoyage de données consiste à désinfecter la saisie (par exemple, en supprimant les caractères non valides, et qui pourraient être utilisés pour envoyer du contenu malveillant au serveur) et à convertir ces données en types Python cohérents.</li>\n      <li>La validation vérifie que les valeurs envoyées sont appropriées au champ (par exemple, dans le bon intervalle de dates, ni trop long ni trop court, etc.)</li>\n    </ul>\n  </li>\n  <li>Si une donnée n'est pas valide, réafficher le formulaire, cette fois-ci avec les données déjà saisies par l'utilisateur et les messages d'erreur pour les champs en erreur.</li>\n  <li>Si toutes les données sont conformes, effectuer les actions demandées (par exemple, sauvegarder les données, envoyer un e-mail, renvoyer le résultat d'une recherche, télécharger un fichier, etc.)</li>\n  <li>Une fois toutes ces actions accomplies, rediriger l'utilisateur vers une autre page.</li>\n</ol>\n<p>Django fournit une multitude d'outils et de méthodes pour vous assister dans les tâches mentionnées ci-dessus. Parmi eux, la plus importante est la classe <code>Form</code>, qui simplifie à la fois la production de formulaire HTML mais aussi la validation des données. Dans la section suivante, nous décrivons comment les formulaires fonctionnent en prenant l'exemple d'une page qui permet aux bibliothécaires de renouveler des livres.</p>\n<div class=\"notecard note\" id=\"sect1\">\n  <p><strong>Note :</strong> Comprendre l'utilisation de <code>Form</code> vous aidera quand nous parlerons des classes de formulaires de Django plus complexes.</p>\n</div>"}},{"type":"prose","value":{"id":"formulaire_de_renouvellement_de_livre_par_lutilisation_de_form_et_dune_vue_fonctionnelle","title":"Formulaire de renouvellement de livre par l'utilisation de Form et d'une vue fonctionnelle","isH3":false,"content":"<p>Nous allons maintenant créer une page qui permettra aux bibliothécaires de renouveler les livres empruntés. Pour cela nous allons créer un formulaire qui permet aux utilisateurs de saisir une valeur de type <code>date</code>. Considérons le champ avec une valeur initiale égale à la date du jour plus 3 semaines (la période normale d'emprunt d'un livre), et ajoutons une validation pour s'assurer que le bibliothécaire ne peut pas saisir une date dans le passé ou une date trop éloignée dans le futur. Quand une date valide a été entrée, nous l'enregistrons dans le champ <code>BookInstance.due_back</code> de l'enregistrement courant.</p>\n<p>L'exemple va utiliser une vue basée sur une fonction et une classe <code>Form</code>. Les sections suivantes expliquent comment les formulaires fonctionnent, et les changements que vous devez faire à notre projet en cours <em>LocalLibrary</em>.</p>"}},{"type":"prose","value":{"id":"formulaire","title":"Formulaire","isH3":true,"content":"<p>La classe <code>Form</code> est le cœur du système de gestion des formulaires de Django. Elle spécifie les champs présents dans le formulaire, affiche les widgets, les labels, les valeurs initiales, les valeurs valides et (après validation) les messages d'erreur associés aux champs invalides. Cette classe fournit également des méthodes pour se restituer elle-même dans les templates en utilisant des formats prédéfinis (tableaux, listes, etc.) ou pour obtenir la valeur de chaque élément de formulaire (permettant un rendu manuel fin).</p>\n<h4 id=\"déclarer_un_formulaire\">Déclarer un formulaire</h4>\n<p>La syntaxe de déclaration pour un <code>Form</code> est très semblable à celle utilisée pour déclarer un <code>Model</code> — elles partagent les mêmes types de champs (et des paramètres similaires). Cela est logique, puisque dans les deux cas nous avons besoin de nous assurer que chaque champ gère le bon type de données, se limite aux données valides, et a une description pour l'affichage/la documentation.</p>\n<p>Les données de formulaire sont stockées dans un fichier application forms.py, à l'intérieur du répertoire de l'application. Créez et ouvrez le fichier <strong>locallibrary/catalog/forms.py</strong>. Pour créer un <code>Form</code>, nous importons la bibliothèque <code>forms</code>, dérivons une classe de la classe <code>Form</code>, et déclarons les champs du formulaire. Une classe très basique de formulaire pour notre formulaire de renouvellement de livre dans notre bibliothèque est montrée ci-dessous (ajoutez ceci à votre nouveau fichier)&nbsp;:</p>\n<div class=\"code-example\"><pre class=\"brush: python notranslate\"><code><span class=\"token keyword\">from</span> django <span class=\"token keyword\">import</span> forms\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">RenewBookForm</span><span class=\"token punctuation\">(</span>forms<span class=\"token punctuation\">.</span>Form<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n  renewal_date <span class=\"token operator\">=</span> forms<span class=\"token punctuation\">.</span>DateField<span class=\"token punctuation\">(</span>help_text<span class=\"token operator\">=</span><span class=\"token string\">\"Enter a date between now and 4 weeks (default 3).\"</span><span class=\"token punctuation\">)</span>\n</code></pre></div>\n<h4 id=\"champs_de_formulaire\">Champs de formulaire</h4>\n<p>Dans ce cas, nous avons un unique champ <a href=\"https://docs.djangoproject.com/fr/3.1/ref/forms/fields/#datefield\" class=\"external\" rel=\" noopener\"><code>DateField</code></a> pour entrer la date du renouvellement, qui sera rendue en HTML avec une valeur vide, le label par défaut \"<em>Renewal date:</em>\", et un texte utilitaire indiquant comment s'en servir&nbsp;: \"<em>Enter a date between now and 4 weeks (default 3 weeks).</em>\" Comme aucun des autres arguments optionnels ne sont spécifiés, le champ acceptera des dates en utilisant les <a href=\"https://docs.djangoproject.com/fr/3.1/ref/forms/fields/#django.forms.DateField.input_formats\" class=\"external\" rel=\" noopener\">input_formats</a> suivants&nbsp;: YYYY-MM-DD (2016-11-06), MM/DD/YYYY (02/26/2016), MM/DD/YY (10/25/16), et sera rendu en utilisant le <a href=\"https://docs.djangoproject.com/fr/3.1/ref/forms/fields/#widget\" class=\"external\" rel=\" noopener\">widget</a> par défaut&nbsp;: <a href=\"https://docs.djangoproject.com/fr/3.1/ref/forms/widgets/#django.forms.DateInput\" class=\"external\" rel=\" noopener\">DateInput</a>.</p>\n<p>Il y a beaucoup d'autres types de champs, que vous reconnaîtrez sans peine en raison de leur ressemblance avec les classes de champs équivalentes pour les modèles : <a href=\"https://docs.djangoproject.com/fr/3.1/ref/forms/fields/#booleanfield\" class=\"external\" rel=\" noopener\"><code>BooleanField</code></a>, <a href=\"https://docs.djangoproject.com/fr/3.1/ref/forms/fields/#charfield\" class=\"external\" rel=\" noopener\"><code>CharField</code></a>, <a href=\"https://docs.djangoproject.com/fr/3.1/ref/forms/fields/#choicefield\" class=\"external\" rel=\" noopener\"><code>ChoiceField</code></a>, <a href=\"https://docs.djangoproject.com/fr/3.1/ref/forms/fields/#typedchoicefield\" class=\"external\" rel=\" noopener\"><code>TypedChoiceField</code></a>, <a href=\"https://docs.djangoproject.com/fr/3.1/ref/forms/fields/#datefield\" class=\"external\" rel=\" noopener\"><code>DateField</code></a>, <a href=\"https://docs.djangoproject.com/fr/3.1/ref/forms/fields/#datetimefield\" class=\"external\" rel=\" noopener\"><code>DateTimeField</code></a>, <a href=\"https://docs.djangoproject.com/fr/3.1/ref/forms/fields/#decimalfield\" class=\"external\" rel=\" noopener\"><code>DecimalField</code></a>, <a href=\"https://docs.djangoproject.com/fr/3.1/ref/forms/fields/#durationfield\" class=\"external\" rel=\" noopener\"><code>DurationField</code></a>, <a href=\"https://docs.djangoproject.com/fr/3.1/ref/forms/fields/#emailfield\" class=\"external\" rel=\" noopener\"><code>EmailField</code></a>, <a href=\"https://docs.djangoproject.com/fr/3.1/ref/forms/fields/#filefield\" class=\"external\" rel=\" noopener\"><code>FileField</code></a>, <a href=\"https://docs.djangoproject.com/fr/3.1/ref/forms/fields/#filepathfield\" class=\"external\" rel=\" noopener\"><code>FilePathField</code></a>, <a href=\"https://docs.djangoproject.com/fr/3.1/ref/forms/fields/#floatfield\" class=\"external\" rel=\" noopener\"><code>FloatField</code></a>, <a href=\"https://docs.djangoproject.com/fr/3.1/ref/forms/fields/#imagefield\" class=\"external\" rel=\" noopener\"><code>ImageField</code></a>, <a href=\"https://docs.djangoproject.com/fr/3.1/ref/forms/fields/#integerfield\" class=\"external\" rel=\" noopener\"><code>IntegerField</code></a>, <a href=\"https://docs.djangoproject.com/fr/3.1/ref/forms/fields/#genericipaddressfield\" class=\"external\" rel=\" noopener\"><code>GenericIPAddressField</code></a>, <a href=\"https://docs.djangoproject.com/fr/3.1/ref/forms/fields/#multiplechoicefield\" class=\"external\" rel=\" noopener\"><code>MultipleChoiceField</code></a>, <a href=\"https://docs.djangoproject.com/fr/3.1/ref/forms/fields/#typedmultiplechoicefield\" class=\"external\" rel=\" noopener\"><code>TypedMultipleChoiceField</code></a>, <a href=\"https://docs.djangoproject.com/fr/3.1/ref/forms/fields/#nullbooleanfield\" class=\"external\" rel=\" noopener\"><code>NullBooleanField</code></a>, <a href=\"https://docs.djangoproject.com/fr/3.1/ref/forms/fields/#regexfield\" class=\"external\" rel=\" noopener\"><code>RegexField</code></a>, <a href=\"https://docs.djangoproject.com/fr/3.1/ref/forms/fields/#slugfield\" class=\"external\" rel=\" noopener\"><code>SlugField</code></a>, <a href=\"https://docs.djangoproject.com/fr/3.1/ref/forms/fields/#timefield\" class=\"external\" rel=\" noopener\"><code>TimeField</code></a>, <a href=\"https://docs.djangoproject.com/fr/3.1/ref/forms/fields/#urlfield\" class=\"external\" rel=\" noopener\"><code>URLField</code></a>, <a href=\"https://docs.djangoproject.com/fr/3.1/ref/forms/fields/#uuidfield\" class=\"external\" rel=\" noopener\"><code>UUIDField</code></a>, <a href=\"https://docs.djangoproject.com/fr/3.1/ref/forms/fields/#combofield\" class=\"external\" rel=\" noopener\"><code>ComboField</code></a>, <a href=\"https://docs.djangoproject.com/fr/3.1/ref/forms/fields/#multivaluefield\" class=\"external\" rel=\" noopener\"><code>MultiValueField</code></a>, <a href=\"https://docs.djangoproject.com/fr/3.1/ref/forms/fields/#splitdatetimefield\" class=\"external\" rel=\" noopener\"><code>SplitDateTimeField</code></a>, <a href=\"https://docs.djangoproject.com/fr/3.1/ref/forms/fields/#modelmultiplechoicefield\" class=\"external\" rel=\" noopener\"><code>ModelMultipleChoiceField</code></a>, <a href=\"https://docs.djangoproject.com/fr/3.1/ref/forms/fields/#modelchoicefield\" class=\"external\" rel=\" noopener\"><code>ModelChoiceField</code></a>.</p>\n<p>Les arguments communs à la plupart des champs sont listés ci-dessous (ils ont des valeurs sensibles par défaut)&nbsp;:</p>\n<ul>\n  <li><a href=\"https://docs.djangoproject.com/fr/3.1/ref/forms/fields/#required\" class=\"external\" rel=\" noopener\"><code>required</code></a>&nbsp;: Si <code>True</code>, le champ ne peut être laissé vide ou recevoir une valeur <code>None</code>. Les champs sont requis par défaut, aussi devez-vous préciser <code>required=False</code> pour autoriser des valeurs vides dans le formulaire.</li>\n  <li><a href=\"https://docs.djangoproject.com/fr/3.1/ref/forms/fields/#label\" class=\"external\" rel=\" noopener\"><code>label</code></a>&nbsp;: Le label à utiliser au moment de rendre le champ en HTML. Si <a href=\"https://docs.djangoproject.com/fr/3.1/ref/forms/fields/#label\" class=\"external\" rel=\" noopener\">label</a> n'est pas précisé, alors Django en créera un à partir du nom du champ concerné, en mettant en majuscule la première lettre et en remplaçant les tirets bas par des espaces (par exemple, <em>Renewal date</em>).</li>\n  <li><a href=\"https://docs.djangoproject.com/fr/3.1/ref/forms/fields/#label-suffix\" class=\"external\" rel=\" noopener\"><code>label_suffix</code></a>&nbsp;: Par défaut, un double point est affiché après le label (par exemple, Renewal date​<strong>:</strong>). Cet argument vous permet de préciser un suffixe différent contenant un ou plusieurs autres caractère(s).</li>\n  <li><a href=\"https://docs.djangoproject.com/fr/3.1/ref/forms/fields/#initial\" class=\"external\" rel=\" noopener\"><code>initial</code></a>&nbsp;: La valeur intiale pour le champ lorsque le formulaire est affiché.</li>\n  <li><a href=\"https://docs.djangoproject.com/fr/3.1/ref/forms/fields/#widget\" class=\"external\" rel=\" noopener\"><code>widget</code></a>&nbsp;: Le widget d'affichage à utiliser.</li>\n  <li><a href=\"https://docs.djangoproject.com/fr/3.1/ref/forms/fields/#help-text\" class=\"external\" rel=\" noopener\"><code>help_text</code></a> (comme dans l'exemple ci-dessus)&nbsp;: Un texte supplémentaire qui peut être affiché dans les formulaires pour expliquer comment utiliser le champ.</li>\n  <li><a href=\"https://docs.djangoproject.com/fr/3.1/ref/forms/fields/#error-messages\" class=\"external\" rel=\" noopener\"><code>error_messages</code></a>&nbsp;: Une liste des messages d'erreur pour le champ. Vous pouvez remplacer les messages par défaut par vos propres messages si besoin.</li>\n  <li><a href=\"https://docs.djangoproject.com/fr/3.1/ref/forms/fields/#validators\" class=\"external\" rel=\" noopener\"><code>validators</code></a>&nbsp;: Une liste de fonctions qui seront appelées quand le champ sera validé.</li>\n  <li><a href=\"https://docs.djangoproject.com/fr/3.1/ref/forms/fields/#localize\" class=\"external\" rel=\" noopener\"><code>localize</code></a>&nbsp;: Autorise la forme locale des données de formulaire (voir le lien pour plus d'informations).</li>\n  <li><a href=\"https://docs.djangoproject.com/fr/3.1/ref/forms/fields/#disabled\" class=\"external\" rel=\" noopener\"><code>disabled</code></a>&nbsp;: Si <code>True</code>, le champ est affiché, mais sa valeur ne peut être modifiée. <code>False</code> par défaut.</li>\n</ul>\n<h4 id=\"validation\">Validation</h4>\n<p>Django fournit un grand nombre d'endroits pour valider vos données. La façon la plus simple de valider un champ unique est de remplacer la méthode <code>clean_&lt;fieldname&gt;()</code> pour le champ à vérifier. Ainsi, par exemple, nous pouvons vérifier que les valeurs entrées pour le champ <code>renewal_date</code> sont entre maintenant et dans 4 semaines, en implémentant la méthode <code>clean_renewal_date()</code> comme montré ci-après.</p>\n<p>Mettez à jour votre fichier forms.py, de telle sorte qu'il ressemble à cela&nbsp;:</p>\n<div class=\"code-example\"><pre class=\"brush: python notranslate\"><code><span class=\"token keyword\">import</span> datetime\n\n<span class=\"token keyword\">from</span> django <span class=\"token keyword\">import</span> forms\n\n<span class=\"token keyword\">from</span> django<span class=\"token punctuation\">.</span>core<span class=\"token punctuation\">.</span>exceptions <span class=\"token keyword\">import</span> ValidationError\n<span class=\"token keyword\">from</span> django<span class=\"token punctuation\">.</span>utils<span class=\"token punctuation\">.</span>translation <span class=\"token keyword\">import</span> ugettext_lazy <span class=\"token keyword\">as</span> _\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">RenewBookForm</span><span class=\"token punctuation\">(</span>forms<span class=\"token punctuation\">.</span>Form<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n  renewal_date <span class=\"token operator\">=</span> forms<span class=\"token punctuation\">.</span>DateField<span class=\"token punctuation\">(</span>help_text<span class=\"token operator\">=</span><span class=\"token string\">\"Enter a date between now and 4 weeks (default 3).\"</span><span class=\"token punctuation\">)</span>\n\n  <span class=\"token keyword\">def</span> <span class=\"token function\">clean_renewal_date</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    data <span class=\"token operator\">=</span> self<span class=\"token punctuation\">.</span>cleaned_data<span class=\"token punctuation\">[</span><span class=\"token string\">'renewal_date'</span><span class=\"token punctuation\">]</span>\n\n    <span class=\"token comment\"># Vérifier que la date ne se situe pas dans le passé.</span>\n    <span class=\"token keyword\">if</span> data <span class=\"token operator\">&lt;</span> datetime<span class=\"token punctuation\">.</span>date<span class=\"token punctuation\">.</span>today<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n      <span class=\"token keyword\">raise</span> ValidationError<span class=\"token punctuation\">(</span>_<span class=\"token punctuation\">(</span><span class=\"token string\">'Invalid date - renewal in past'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n      <span class=\"token comment\"># Vérifier que la date tombe dans le bon intervalle (entre maintenant et dans 4 semaines).</span>\n    <span class=\"token keyword\">if</span> data <span class=\"token operator\">&gt;</span> datetime<span class=\"token punctuation\">.</span>date<span class=\"token punctuation\">.</span>today<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> datetime<span class=\"token punctuation\">.</span>timedelta<span class=\"token punctuation\">(</span>weeks<span class=\"token operator\">=</span><span class=\"token number\">4</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n      <span class=\"token keyword\">raise</span> ValidationError<span class=\"token punctuation\">(</span>_<span class=\"token punctuation\">(</span><span class=\"token string\">'Invalid date - renewal more than 4 weeks ahead'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token comment\"># N'oubliez pas de toujours renvoyer les données nettoyées.</span>\n    <span class=\"token keyword\">return</span> data\n</code></pre></div>\n<p>Il y a deux choses importantes à noter. La première est que nous accédons à nos données en utilisant <code>self.cleaned_data['renewal_date']</code> et que nous retournons ces données, que nous les ayons changées ou non, à la fin de la fonction. Cette étape nous donne des données \"nettoyées\", purgées de valeurs potentiellement dangereuses en utilisant les validateurs par défaut, et converties en type standard correct pour les données considérées (dans ce cas un objet Python <code>datetime.datetime</code>).</p>\n<p>Le deuxième point est que, si une valeur tombe en dehors de l'intervalle que nous avons autorisé, nous levons une <code>ValidationError</code>, en spécifiant le texte d'erreur que nous voulons afficher dans la zone du formulaire prévue pour le cas où l'utilisateur entre une valeur non valide. L'exemple ci-dessus enveloppe aussi ce texte dans <code>ugettext_lazy()</code> (importée comme <code>_()</code>), une des <a href=\"https://docs.djangoproject.com/fr/3.1/topics/i18n/translation/\" class=\"external\" rel=\" noopener\">fonctions de traduction Django</a>, ce qui est une bonne pratique si vous voulez traduire votre site plus tard.</p>\n<div class=\"notecard note\" id=\"sect2\">\n  <p><strong>Note :</strong> Il y a un grand nombre d'autres méthodes et exemples au sujet de la validation des formulaires dans <a href=\"https://docs.djangoproject.com/fr/3.1/ref/forms/validation/\" class=\"external\" rel=\" noopener\">La validation de formulaires et de champs</a> (Documentation de Django). Par exemple, au cas où vous avez plusieurs champs dépendants les uns des autres, vous pouvez réécrire la fonction <a href=\"https://docs.djangoproject.com/fr/3.1/ref/forms/api/#django.forms.Form.clean\" class=\"external\" rel=\" noopener\">Form.clean()</a>, et lever de nouveau une <code>ValidationError</code>.</p>\n</div>\n<p>C'est tout ce dont nous avons besoin pour notre formulaire dans cet exemple.</p>"}},{"type":"prose","value":{"id":"configuration_durl","title":"Configuration d'URL","isH3":true,"content":"<p>Avant de créer notre vue, ajoutons une configuration d'URL pour la page <em>renew-books</em>. Copiez la configuration suivante à la fin de <strong>locallibrary/catalog/urls.py</strong>&nbsp;:</p>\n<div class=\"code-example\"><pre class=\"brush: python notranslate\"><code>urlpatterns <span class=\"token operator\">+=</span> <span class=\"token punctuation\">[</span>\n  path<span class=\"token punctuation\">(</span><span class=\"token string\">'book/&lt;uuid:pk&gt;/renew/'</span><span class=\"token punctuation\">,</span> views<span class=\"token punctuation\">.</span>renew_book_librarian<span class=\"token punctuation\">,</span> name<span class=\"token operator\">=</span><span class=\"token string\">'renew-book-librarian'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">]</span>\n</code></pre></div>\n<p>La configuration d'URL va rediriger les URLs ayant le format <strong>/catalog/book/<em>&lt;bookinstance_id&gt;</em>/renew/</strong> vers la fonction appelée <code>renew_book_librarian()</code> dans <strong>views.py</strong>, et envoyer l'<code>id</code> de <code>BookInstance</code> comme paramètre sous le nom <code>pk</code>. Le motif ne fonctionnera que si <code>pk</code> est un <code>uuid</code> correctement formaté.</p>\n<div class=\"notecard note\" id=\"sect3\">\n  <p><strong>Note :</strong> Nous pouvons appeler comme bon nous semble la donnée d'URL \"<code>pk</code>\" que nous avons capturée, car nous contrôlons complètement la fonction de notre vue (nous n'utilisons pas une vue générique \"détail\", laquelle attendrait des paramètres avec un certain nom). Cependant, le raccourci <code>pk</code>, pour \"primary key\", est une convention qu'il est raisonnable d'utiliser&nbsp;!</p>\n</div>"}},{"type":"prose","value":{"id":"vue","title":"Vue","isH3":true,"content":"<p>Comme nous l'avons expliqué ci-dessus dans <a href=\"#les_%C3%A9tapes_de_gestion_dun_formulaire_avec_django\">Les étapes de gestion d'un formulaire avec Django</a>, la vue doit retourner le formulaire par défaut s'il est appelé pour la première fois, et ensuite soit le retourner à nouveau avec les messages d'erreur si les données sont invalides, soit gérer les données et rediriger vers une nouvelle page si elles sont valides. Pour effectuer ces différentes actions, la vue doit être en mesure de savoir si elle est appelée pour la première fois (et retourner le formulaire par défaut) ou pour la deuxième fois ou plus (et valider les données).</p>\n<p>Pour les formulaires qui utilisent une requête <code>POST</code> pour envoyer une information au serveur, la manière la plus commune de procéder pour la vue est de tester le type de requête <code>POST</code> (<code>if request.method == 'POST':</code>) pour repérer des requêtes de type validation de formulaire, et <code>GET</code> (en utilisant une condition <code>else</code>) pour identifier une requête initiale de création de formulaire. Si vous voulez utiliser une requête <code>GET</code> pour envoyer vos données, alors une approche classique pour savoir si la vue est invoquée pour la première fois ou non est de lire les données du formulaire (par exemple, lire une valeur cachée dans le formulaire).</p>\n<p>Le processus de renouvellement de livre va écrire dans notre base de données, aussi, par convention, nous utiliserons le type de requête <code>POST</code>. Le bout de code ci-dessous montre le procédé (très classique) pour cette sorte de vue basée sur des fonctions.</p>\n<div class=\"code-example\"><pre class=\"brush: python notranslate\"><code><span class=\"token keyword\">import</span> datetime\n\n<span class=\"token keyword\">from</span> django<span class=\"token punctuation\">.</span>shortcuts <span class=\"token keyword\">import</span> render<span class=\"token punctuation\">,</span> get_object_or_404\n<span class=\"token keyword\">from</span> django<span class=\"token punctuation\">.</span>http <span class=\"token keyword\">import</span> HttpResponseRedirect\n<span class=\"token keyword\">from</span> django<span class=\"token punctuation\">.</span>urls <span class=\"token keyword\">import</span> reverse\n\n<span class=\"token keyword\">from</span> catalog<span class=\"token punctuation\">.</span>forms <span class=\"token keyword\">import</span> RenewBookForm\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">renew_book_librarian</span><span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">,</span> pk<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n  book_instance <span class=\"token operator\">=</span> get_object_or_404<span class=\"token punctuation\">(</span>BookInstance<span class=\"token punctuation\">,</span> pk<span class=\"token operator\">=</span>pk<span class=\"token punctuation\">)</span>\n\n  <span class=\"token comment\"># S'il s'agit d'une requête POST, traiter les données du formulaire.</span>\n  <span class=\"token keyword\">if</span> request<span class=\"token punctuation\">.</span>method <span class=\"token operator\">==</span> <span class=\"token string\">'POST'</span><span class=\"token punctuation\">:</span>\n\n    <span class=\"token comment\"># Créer une instance de formulaire et la peupler avec des données récupérées dans la requête (liaison) :</span>\n    form <span class=\"token operator\">=</span> RenewBookForm<span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">.</span>POST<span class=\"token punctuation\">)</span>\n\n    <span class=\"token comment\"># Vérifier que le formulaire est valide :</span>\n    <span class=\"token keyword\">if</span> form<span class=\"token punctuation\">.</span>is_valid<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n      <span class=\"token comment\"># Traiter les données dans form.cleaned_data tel que requis (ici on les écrit dans le champ de modèle due_back) :</span>\n      book_instance<span class=\"token punctuation\">.</span>due_back <span class=\"token operator\">=</span> form<span class=\"token punctuation\">.</span>cleaned_data<span class=\"token punctuation\">[</span><span class=\"token string\">'renewal_date'</span><span class=\"token punctuation\">]</span>\n      book_instance<span class=\"token punctuation\">.</span>save<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n      <span class=\"token comment\"># Rediriger vers une nouvelle URL :</span>\n      <span class=\"token keyword\">return</span> HttpResponseRedirect<span class=\"token punctuation\">(</span>reverse<span class=\"token punctuation\">(</span><span class=\"token string\">'all-borrowed'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n  <span class=\"token comment\"># S'il s'agit d'une requête GET (ou toute autre méthode), créer le formulaire par défaut.</span>\n  <span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span>\n    proposed_renewal_date <span class=\"token operator\">=</span> datetime<span class=\"token punctuation\">.</span>date<span class=\"token punctuation\">.</span>today<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> datetime<span class=\"token punctuation\">.</span>timedelta<span class=\"token punctuation\">(</span>weeks<span class=\"token operator\">=</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span>\n    form <span class=\"token operator\">=</span> RenewBookForm<span class=\"token punctuation\">(</span>initial<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token string\">'renewal_date'</span><span class=\"token punctuation\">:</span> proposed_renewal_date<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\n  context <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token string\">'form'</span><span class=\"token punctuation\">:</span> form<span class=\"token punctuation\">,</span>\n    <span class=\"token string\">'book_instance'</span><span class=\"token punctuation\">:</span> book_instance<span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">return</span> render<span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">,</span> <span class=\"token string\">'catalog/book_renew_librarian.html'</span><span class=\"token punctuation\">,</span> context<span class=\"token punctuation\">)</span>\n</code></pre></div>\n<p>Nous importons tout d'abord notre formulaire (<code>RenewBookForm</code>) et un certain nombre d'autres objets/méthodes utiles, dont nous nous servons dans le corps de la fonction de notre vue&nbsp;:</p>\n<ul>\n  <li><a href=\"https://docs.djangoproject.com/fr/3.1/topics/http/shortcuts/#get-object-or-404\" class=\"external\" rel=\" noopener\"><code>get_object_or_404()</code></a>&nbsp;: Retourne un certain objet depuis un modèle, en se basant sur sa valeur \"primary key\", et lève une exception <code>Http404</code> (<em>not found</em>) si l'enregistrement n'existe pas.</li>\n  <li><a href=\"https://docs.djangoproject.com/fr/3.1/ref/request-response/#django.http.HttpResponseRedirect\" class=\"external\" rel=\" noopener\"><code>HttpResponseRedirect</code></a>&nbsp;: Cette méthode crée une redirection vers une certaine URL (code de statut HTTP 302).</li>\n  <li><a href=\"https://docs.djangoproject.com/fr/3.1/ref/urlresolvers/#django.urls.reverse\" class=\"external\" rel=\" noopener\"><code>reverse()</code></a>&nbsp;: Cette méthode génère une URL à partir d'un nom trouvé dans la configuration d'URL et un ensemble d'arguments. C'est l'équivalent Python du tag <code>url</code> que nous avons utilisé dans nos templates.</li>\n  <li><a href=\"https://docs.python.org/3/library/datetime.html\" class=\"external\" rel=\" noopener\"><code>datetime</code></a>&nbsp;: Une bibliothèque Python pour manipuler des dates et des heures.</li>\n</ul>\n<p>Dans la vue, nous utilisons d'abord l'argument <code>pk</code> dans la fonction <code>get_object_or_404()</code> afin d'obtenir la <code>BookInstance</code> courante (si cette instance n'existe pas, la vue se termine immédiatement et la page va afficher une erreur). Si ce n'est <em>pas</em> une requête <code>POST</code> (cas géré par la clause <code>else</code>), alors nous créons le formulaire par défaut en lui passant une valeur <code>initial</code> pour le champ <code>renewal_date</code> (comme montré ci-dessous, c'est la date actuelle plus 3 semaines).</p>\n<div class=\"code-example\"><pre class=\"brush: python notranslate\"><code>  book_instance <span class=\"token operator\">=</span> get_object_or_404<span class=\"token punctuation\">(</span>BookInstance<span class=\"token punctuation\">,</span> pk<span class=\"token operator\">=</span>pk<span class=\"token punctuation\">)</span>\n\n  <span class=\"token comment\"># S'il s'agit d'une requête GET (ou toute autre méthode), créer le formulaire par défaut.</span>\n  <span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span>\n    proposed_renewal_date <span class=\"token operator\">=</span> datetime<span class=\"token punctuation\">.</span>date<span class=\"token punctuation\">.</span>today<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> datetime<span class=\"token punctuation\">.</span>timedelta<span class=\"token punctuation\">(</span>weeks<span class=\"token operator\">=</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span>\n    form <span class=\"token operator\">=</span> RenewBookForm<span class=\"token punctuation\">(</span>initial<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token string\">'renewal_date'</span><span class=\"token punctuation\">:</span> proposed_renewal_date<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\n  context <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token string\">'form'</span><span class=\"token punctuation\">:</span> form<span class=\"token punctuation\">,</span>\n    <span class=\"token string\">'book_instance'</span><span class=\"token punctuation\">:</span> book_instance<span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">return</span> render<span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">,</span> <span class=\"token string\">'catalog/book_renew_librarian.html'</span><span class=\"token punctuation\">,</span> context<span class=\"token punctuation\">)</span>\n</code></pre></div>\n<p>Après la création du formulaire, nous appelons la fonction <code>render()</code> pour créer la page HTML, en précisant le template et un contexte qui contient notre formulaire. Dans ce cas, le contexte contient aussi notre <code>BookInstance</code>, que nous allons utiliser dans le template pour fournir des informations à propos du livre que nous sommes en train de renouveler.</p>\n<p>En revanche, s'il s'agit d'une requête <code>POST</code>, alors nous créons notre objet <code>form</code> et le peuplons avec des données récupérées dans la requête. Ce processus est appelé \"<em>binding</em>\" (liaison) et nous permet de valider le formulaire.</p>\n<p>Ensuite nous vérifions que le formulaire est valide, ce qui déclenche tout le code de validation sur tous les champs — ce qui inclut à la fois le code générique vérifiant que notre champ de date est effectivement une date valide, et notre fonction <code>clean_renewal_date()</code>, spécifique à notre formulaire, pour vérifier que la date est dans le bon intervalle.</p>\n<div class=\"code-example\"><pre class=\"brush: python notranslate\"><code>book_instance <span class=\"token operator\">=</span> get_object_or_404<span class=\"token punctuation\">(</span>BookInstance<span class=\"token punctuation\">,</span> pk<span class=\"token operator\">=</span>pk<span class=\"token punctuation\">)</span>\n\n  <span class=\"token comment\"># S'il s'agit d'une requête POST, traiter les données du formulaire.</span>\n  <span class=\"token keyword\">if</span> request<span class=\"token punctuation\">.</span>method <span class=\"token operator\">==</span> <span class=\"token string\">'POST'</span><span class=\"token punctuation\">:</span>\n\n    <span class=\"token comment\"># Créer une instance de formulaire et la peupler avec des données récupérées dans la requête (liaison) :</span>\n    form <span class=\"token operator\">=</span> RenewBookForm<span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">.</span>POST<span class=\"token punctuation\">)</span>\n\n    <span class=\"token comment\"># Vérifier que le formulaire est valide :</span>\n    <span class=\"token keyword\">if</span> form<span class=\"token punctuation\">.</span>is_valid<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n      <span class=\"token comment\"># Traiter les données dans form.cleaned_data tel que requis (ici on les écrit dans le champ de modèle due_back) :</span>\n      book_instance<span class=\"token punctuation\">.</span>due_back <span class=\"token operator\">=</span> form<span class=\"token punctuation\">.</span>cleaned_data<span class=\"token punctuation\">[</span><span class=\"token string\">'renewal_date'</span><span class=\"token punctuation\">]</span>\n      book_instance<span class=\"token punctuation\">.</span>save<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n      <span class=\"token comment\"># Rediriger vers une nouvelle URL :</span>\n      <span class=\"token keyword\">return</span> HttpResponseRedirect<span class=\"token punctuation\">(</span>reverse<span class=\"token punctuation\">(</span><span class=\"token string\">'all-borrowed'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">)</span>\n\n  context <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token string\">'form'</span><span class=\"token punctuation\">:</span> form<span class=\"token punctuation\">,</span>\n    <span class=\"token string\">'book_instance'</span><span class=\"token punctuation\">:</span> book_instance<span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">return</span> render<span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">,</span> <span class=\"token string\">'catalog/book_renew_librarian.html'</span><span class=\"token punctuation\">,</span> context<span class=\"token punctuation\">)</span>\n</code></pre></div>\n<p>Si le formulaire n'est pas valide, nous appelons à nouveau la fonction <code>render()</code>, mais cette fois les valeurs passées dans le contexte vont inclure les messages d'erreur.</p>\n<p>Si le formulaire est valide, alors nous pouvons commencer à utiliser les données, en y accédant à travers l'attribut <code>form.cleaned_data</code> (par exemple, <code>data = form.cleaned_data['renewal_date']</code>). Ici, nous ne faisons que sauvegarder les données reçues dans la valeur <code>due_back</code> de l'objet <code>BookInstance</code> associé.</p>\n<div class=\"notecard warning\" id=\"sect4\">\n  <p><strong>Attention :</strong> Alors que vous pouvez accéder aussi aux données de formulaire directement à travers la requête (par exemple, <code>request.POST['renewal_date']</code>, ou <code>request.GET['renewal_date']</code> si vous utilisez une requête GET), ce n'est PAS recommandé. Les données nettoyées sont assainies, validées et converties en types standard Python.</p>\n</div>\n<p>L'étape finale dans la partie \"gestion de formulaire\" de la vue est de rediriger vers une autre page, habituellement une page \"success\". Dans ce cas, nous utilisons <code>HttpResponseRedirect</code> et <code>reverse()</code> pour rediriger vers la vue appelée <code>'all-borrowed'</code> (qui a été créée dans la partie \"challenge\" de <a href=\"/en-US/docs/Learn/Server-side/Django/Authentication\" class=\"only-in-en-us\" title=\"Currently only available in English (US)\">Django didactique section 8&nbsp;: Authentification des utilisateurs et permissions (en-US)</a>. Si vous n'avez pas créé cette page, vous pouvez rediriger vers la page d'accueil à l'URL '<code>/</code>').</p>\n<p>C'est tout ce qui est requis pour la gestion du formulaire lui-même, mais il nous faut encore restreindre l'accès à la vue aux seuls libraires connectés. Nous utilisons <code>@login_required</code> en exigeant que l'utilisateur se soit connecté, et le décorateur de fonction <code>@permission_required</code> avec notre permission existante <code>can_mark_returned</code> afin d'autoriser l'accès (les décorateurs sont traités en séquence). À noter que nous aurions dû créer un nouveau réglage de permission dans <code>BookInstance</code> (\"<code>can_renew</code>\"), mais nous réutilisons celui existant pour garder l'exemple plus simple.</p>\n<p>Le résultat final de la vue est donc comme indiqué ci-dessous. Veuillez copier ceci en bas de <strong>locallibrary/catalog/views.py</strong>.</p>\n<div class=\"code-example\"><pre class=\"brush: python notranslate\"><code><span class=\"token keyword\">import</span> datetime\n\n<span class=\"token keyword\">from</span> django<span class=\"token punctuation\">.</span>contrib<span class=\"token punctuation\">.</span>auth<span class=\"token punctuation\">.</span>decorators <span class=\"token keyword\">import</span> login_required<span class=\"token punctuation\">,</span> permission_required\n<span class=\"token keyword\">from</span> django<span class=\"token punctuation\">.</span>shortcuts <span class=\"token keyword\">import</span> get_object_or_404\n<span class=\"token keyword\">from</span> django<span class=\"token punctuation\">.</span>http <span class=\"token keyword\">import</span> HttpResponseRedirect\n<span class=\"token keyword\">from</span> django<span class=\"token punctuation\">.</span>urls <span class=\"token keyword\">import</span> reverse\n\n<span class=\"token keyword\">from</span> catalog<span class=\"token punctuation\">.</span>forms <span class=\"token keyword\">import</span> RenewBookForm\n\n<span class=\"token decorator annotation punctuation\">@login_required</span>\n<span class=\"token decorator annotation punctuation\">@permission_required</span><span class=\"token punctuation\">(</span><span class=\"token string\">'catalog.can_mark_returned'</span><span class=\"token punctuation\">,</span> raise_exception<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">def</span> <span class=\"token function\">renew_book_librarian</span><span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">,</span> pk<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n  <span class=\"token triple-quoted-string string\">\"\"\"View function for renewing a specific BookInstance by librarian.\"\"\"</span>\n  book_instance <span class=\"token operator\">=</span> get_object_or_404<span class=\"token punctuation\">(</span>BookInstance<span class=\"token punctuation\">,</span> pk<span class=\"token operator\">=</span>pk<span class=\"token punctuation\">)</span>\n\n  <span class=\"token comment\"># S'il s'agit d'une requête POST, traiter les données du formulaire.</span>\n  <span class=\"token keyword\">if</span> request<span class=\"token punctuation\">.</span>method <span class=\"token operator\">==</span> <span class=\"token string\">'POST'</span><span class=\"token punctuation\">:</span>\n\n    <span class=\"token comment\"># Créer une instance de formulaire et la peupler avec des données récupérées dans la requête (liaison) :</span>\n    form <span class=\"token operator\">=</span> RenewBookForm<span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">.</span>POST<span class=\"token punctuation\">)</span>\n\n    <span class=\"token comment\"># Vérifier que le formulaire est valide :</span>\n    <span class=\"token keyword\">if</span> form<span class=\"token punctuation\">.</span>is_valid<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n      <span class=\"token comment\"># Traiter les données dans form.cleaned_data tel que requis (ici on les écrit dans le champ de modèle due_back) :</span>\n      book_instance<span class=\"token punctuation\">.</span>due_back <span class=\"token operator\">=</span> form<span class=\"token punctuation\">.</span>cleaned_data<span class=\"token punctuation\">[</span><span class=\"token string\">'renewal_date'</span><span class=\"token punctuation\">]</span>\n      book_instance<span class=\"token punctuation\">.</span>save<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n      <span class=\"token comment\"># Rediriger vers une nouvelle URL :</span>\n      <span class=\"token keyword\">return</span> HttpResponseRedirect<span class=\"token punctuation\">(</span>reverse<span class=\"token punctuation\">(</span><span class=\"token string\">'all-borrowed'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n  <span class=\"token comment\"># S'il s'agit d'une requête GET (ou toute autre méthode), créer le formulaire par défaut.</span>\n  <span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span>\n    proposed_renewal_date <span class=\"token operator\">=</span> datetime<span class=\"token punctuation\">.</span>date<span class=\"token punctuation\">.</span>today<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> datetime<span class=\"token punctuation\">.</span>timedelta<span class=\"token punctuation\">(</span>weeks<span class=\"token operator\">=</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span>\n    form <span class=\"token operator\">=</span> RenewBookForm<span class=\"token punctuation\">(</span>initial<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token string\">'renewal_date'</span><span class=\"token punctuation\">:</span> proposed_renewal_date<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  \n  context <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token string\">'form'</span><span class=\"token punctuation\">:</span> form<span class=\"token punctuation\">,</span>\n    <span class=\"token string\">'book_instance'</span><span class=\"token punctuation\">:</span> book_instance<span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">return</span> render<span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">,</span> <span class=\"token string\">'catalog/book_renew_librarian.html'</span><span class=\"token punctuation\">,</span> context<span class=\"token punctuation\">)</span>\n</code></pre></div>"}},{"type":"prose","value":{"id":"le_template","title":"Le template","isH3":true,"content":"<p>Créez le template référencé dans la vue (<strong>/catalog/templates/catalog/book_renew_librarian.html</strong>) et copiez-y le code suivant&nbsp;:</p>\n<div class=\"code-example\"><pre class=\"brush: html notranslate\"><code>{% extends \"base_generic.html\" %}\n\n{% block content %}\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h1</span><span class=\"token punctuation\">&gt;</span></span>Renew: {{ book_instance.book.title }}<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h1</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">&gt;</span></span>Borrower: {{ book_instance.borrower }}<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span> <span class=\"token attr-name\">{%</span> <span class=\"token attr-name\">if</span> <span class=\"token attr-name\">book_instance.is_overdue</span> <span class=\"token attr-name\">%}</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text-danger<span class=\"token punctuation\">\"</span></span><span class=\"token attr-name\">{%</span> <span class=\"token attr-name\">endif</span> <span class=\"token attr-name\">%}</span><span class=\"token punctuation\">&gt;</span></span>Due date: {{ book_instance.due_back }}<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">&gt;</span></span>\n\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>form</span> <span class=\"token attr-name\">action</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">method</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>post<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n    {% csrf_token %}\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>table</span><span class=\"token punctuation\">&gt;</span></span>\n    {{ form.as_table }}\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>table</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>submit<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">value</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Submit<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>form</span><span class=\"token punctuation\">&gt;</span></span>\n{% endblock %}\n</code></pre></div>\n<p>La majeure partie de ce code devrait vous être familière si vous avez suivi les tutoriels précédents.</p>\n<p>Nous étendons le template de base et ensuite redéfinissons le block \"content\". Nous sommes en mesure de référencer <code>{{ book_instance }}</code> (et ses variables), puisqu'il a été passé dans l'objet contexte par la fonction <code>render()</code>, et nous utilisons tout cela pour lister le titre du livre, son emprunteur et la date originale de retour.</p>\n<p>Le code du formulaire est relativement simple. Nous déclarons d'abord les balises <code>form</code>, en précisant où le formulaire doit être adressé (<code>action</code>) et la <code>method</code> utilisée pour soumettre les données (ici un \"HTTP <code>POST</code>\"). Si vous vous rappelez ce qui a été dit en haut de cette page (aperçu sur les <a href=\"#formulaires_html\">Formulaires HTML</a>), une <code>action</code> vide comme ici signifie que les données de formulaire seront postées à nouveau à l'URL actuelle (ce qui est le comportement que nous voulons !). À l'intérieur des balises, nous définissons le bouton <code>submit</code> sur lequel l'utilisateur peut appuyer pour envoyer les données. Le <code>{% csrf_token %}</code> ajouté juste à l'intérieur des balises <code>form</code> est un des éléments de protection utilisés par Django contre les \"<em>cross-site forgery</em>\" (falsification de requête inter-site).</p>\n<div class=\"notecard note\" id=\"sect5\">\n  <p><strong>Note :</strong> Ajoutez le <code>{% csrf_token %}</code> à tout template Django que vous créez et qui utilise <code>POST</code> pour soumettre les données. Cela réduira les risques qu'un utilisateur mal intentionné pirate vos formulaires.</p>\n</div>\n<p>Tout ce qui reste est la variable de template <code>{{ form }}</code>, que nous avons passée au template dans le dictionnaire de contexte. Peut-être sans surprise, quand il est utilisé comme indiqué, il fournit le rendu par défaut de tous les champs de formulaire, y compris leurs labels, widgets et textes d'aide. Voici le rendu&nbsp;:</p>\n<div class=\"code-example\"><pre class=\"brush: html notranslate\"><code><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>tr</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>th</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>label</span> <span class=\"token attr-name\">for</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>id_renewal_date<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>Renewal date:<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>label</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>th</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>td</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>id_renewal_date<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>renewal_date<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">value</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>2016-11-08<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">required</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>br</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>span</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>helptext<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>Enter date between now and 4 weeks (default 3 weeks).<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>span</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>td</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>tr</span><span class=\"token punctuation\">&gt;</span></span>\n</code></pre></div>\n<div class=\"notecard note\" id=\"sect6\">\n  <p><strong>Note :</strong> Ce n'est peut-être pas évident, car nous n'avons qu'un seul champ, mais, par défaut, chaque champ est défini dans sa propre ligne de tableau. Ce même rendu est fourni si vous référencez la variable de template <code>{{ form.as_table }}</code>.</p>\n</div>\n<p>Si vous aviez entré une date invalide, vous obtiendriez en plus sur la page une liste des erreurs (voir <code>errorlist</code> ci-dessous).</p>\n<div class=\"code-example\"><pre class=\"brush: html notranslate\"><code><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>tr</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>th</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>label</span> <span class=\"token attr-name\">for</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>id_renewal_date<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>Renewal date:<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>label</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>th</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>td</span><span class=\"token punctuation\">&gt;</span></span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ul</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>errorlist<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>li</span><span class=\"token punctuation\">&gt;</span></span>Invalid date - renewal in past<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>li</span><span class=\"token punctuation\">&gt;</span></span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>ul</span><span class=\"token punctuation\">&gt;</span></span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>id_renewal_date<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>renewal_date<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">value</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>2015-11-08<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">required</span><span class=\"token punctuation\">&gt;</span></span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>br</span><span class=\"token punctuation\">&gt;</span></span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>span</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>helptext<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>Enter date between now and 4 weeks (default 3 weeks).<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>span</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>td</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>tr</span><span class=\"token punctuation\">&gt;</span></span>\n</code></pre></div>\n<h4 id=\"autres_façons_dutiliser_la_variable_de_template_du_formulaire\">Autres façons d'utiliser la variable de template du formulaire</h4>\n<p>Si vous utilisez <code>{{ form.as_table }}</code> comme indiqué ci-dessus, chaque champ est rendu comme une ligne de tableau. Vous pouvez également rendre chaque champ comme un élément de liste (en utilisant <code>{{ form.as_ul }}</code>) ou comme un paragraphe (en utilisant <code>{{ form.as_p }}</code>).</p>\n<p>Il est également possible d'avoir un contrôle complet sur le rendu de chaque partie du formulaire, en indexant ses propriétés grâce à la notation pointée. Ainsi, par exemple, nous pouvons accéder à un certain nombre d'éléments distincts pour notre champ <code>renewal_date</code> :</p>\n<ul>\n  <li><code>{{ form.renewal_date }}</code> : Le champ complet.</li>\n  <li><code>{{ form.renewal_date.errors }}</code> : La liste des erreurs.</li>\n  <li><code>{{ form.renewal_date.id_for_label }}</code> : L'<code>id</code> du label.</li>\n  <li><code>{{ form.renewal_date.help_text }}</code> : Le texte d'aide du champ.</li>\n</ul>\n<p>Pour plus d'exemples sur la manière de rendre manuellement des formulaires dans des templates, et boucler de manière dynamique sur les champs du template, voyez <a href=\"https://docs.djangoproject.com/fr/3.1/topics/forms/#rendering-fields-manually\" class=\"external\" rel=\" noopener\">Utiliser des formulaires &gt; Affichage manuel des champs</a> (Documentation de Django).</p>"}},{"type":"prose","value":{"id":"tester_la_page","title":"Tester la page","isH3":true,"content":"<p>Si vous avez accepté le \"challenge\" dans <a href=\"/en-US/docs/Learn/Server-side/Django/Authentication\" class=\"only-in-en-us\" title=\"Currently only available in English (US)\">Django didactique - section 8&nbsp;: Authentification des utilisateurs et permissions (en-US)</a>, vous avez une liste de tous les livres empruntés dans la bibliothèque, ce qui n'est visible que pour le staff de la bibliothèque. Nous pouvons ajouter un lien vers notre page de renouvellement après chaque élément, en utilisant le code de template suivant.</p>\n<div class=\"code-example\"><pre class=\"brush: html notranslate\"><code>{% if perms.catalog.can_mark_returned %} <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>{% url <span class=\"token punctuation\">'</span>renew-book-librarian<span class=\"token punctuation\">'</span> bookinst.id %}<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>Renew<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">&gt;</span></span> {% endif %}  \n</code></pre></div>\n<div class=\"notecard note\" id=\"sect7\">\n  <p><strong>Note :</strong> Souvenez-vous que votre login de test devra avoir la permission \"<code>catalog.can_mark_returned</code>\" pour pouvoir accéder à la page de renouvellement de livre (utilisez peut-être votre compte superuser).</p>\n</div>\n<p>Vous pouvez aussi construire manuellement une URL de test comme ceci&nbsp;: <code>http://127.0.0.1:8000/catalog/book/&lt;bookinstance_id&gt;/renew/</code> (un <code>bookinstance_id</code> valide peut être obtenu en naviguant vers une page de détail de livre dans votre bibliothèque, et en copiant le champ <code>id</code>).</p>"}},{"type":"prose","value":{"id":"à_quoi_cela_ressemble-t-il_","title":"À quoi cela ressemble-t-il&nbsp;?","isH3":true,"content":"<p>Si tout a bien marché, le formulaire par défaut ressemblera à ceci&nbsp;:</p>\n<p>\n  <img src=\"/en-US/docs/Learn/Server-side/Django/Forms/forms_example_renew_default.png\" alt=\"\" width=\"680\" height=\"292\" loading=\"lazy\">\n</p>\n<p>Le formulaire avec valeur erronée ressemblera à ceci&nbsp;:</p>\n<p>\n  <img src=\"/en-US/docs/Learn/Server-side/Django/Forms/forms_example_renew_invalid.png\" alt=\"\" width=\"658\" height=\"290\" loading=\"lazy\">\n</p>\n<p>La liste de tous les livres avec les liens vers le renouvellement ressemblera à ceci&nbsp;:</p>\n<p>\n  <img src=\"/en-US/docs/Learn/Server-side/Django/Forms/forms_example_renew_allbooks.png\" alt=\"\" width=\"613\" height=\"256\" loading=\"lazy\">\n</p>","titleAsText":"À quoi cela ressemble-t-il ?"}},{"type":"prose","value":{"id":"modelforms","title":"ModelForms","isH3":false,"content":"<p>Créer une classe en utilisant l'approche décrite ci-dessus est très flexible et vous autorise à créer le type de page de formulaire que vous voulez, et à l'associer à tout type de modèle(s).</p>\n<p>Cependant, si vous avez seulement besoin d'un formulaire qui répertorie les champs d'un modèle <em>unique</em>, alors votre modèle définira déjà la plupart des informations requises dans votre formulaire : champs, labels, texte d'aide, etc. Plutôt que de créer à nouveau les définitions du modèle dans votre formulaire, il est plus facile d'utiliser la classe d'aide <a href=\"https://docs.djangoproject.com/fr/3.1/topics/forms/modelforms/\" class=\"external\" rel=\" noopener\">ModelForm</a> pour créer le formulaire d'après votre modèle. Ce <code>ModelForm</code> peut dès lors être utilisé à l'intérieur de vos vues exactement de la même manière qu'un <code>Form</code> ordinaire.</p>\n<p>Un <code>ModelForm</code> basique, contenant le même champ que notre <code>RenewBookForm</code> d'origine, est montré ci-dessous. Tout ce que vous avez à faire pour créer le formulaire, c'est ajouter <code>class Meta</code> avec le <code>model</code> (<code>BookInstance</code>) associé, et une liste des <code>fields</code> du modèle à inclure dans le formulaire.</p>\n<div class=\"code-example\"><pre class=\"brush: python notranslate\"><code><span class=\"token keyword\">from</span> django<span class=\"token punctuation\">.</span>forms <span class=\"token keyword\">import</span> ModelForm\n\n<span class=\"token keyword\">from</span> catalog<span class=\"token punctuation\">.</span>models <span class=\"token keyword\">import</span> BookInstance\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">RenewBookModelForm</span><span class=\"token punctuation\">(</span>ModelForm<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n  <span class=\"token keyword\">class</span> <span class=\"token class-name\">Meta</span><span class=\"token punctuation\">:</span>\n    model <span class=\"token operator\">=</span> BookInstance\n    fields <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'due_back'</span><span class=\"token punctuation\">]</span>\n</code></pre></div>\n<div class=\"notecard note\" id=\"sect8\">\n  <p><strong>Note :</strong> Vous pouvez inclure tous les champs en utilisant <code>fields = '__all__'</code>, ou bien utiliser <code>exclude</code> (au lieu de <code>fields</code>) pour préciser les champs à ne <em>pas</em> importer du modèle.</p>\n  <p>Aucune approche n'est recommandée, car tout nouveau champ ajouté au modèle est automatiquement inclus dans le formulaire (sans considération du développeur de répercussions sécuritaires éventuelles).</p>\n</div>\n<div class=\"notecard note\" id=\"sect9\">\n  <p><strong>Note :</strong> Cela peut ne pas sembler beaucoup plus simple que d'utiliser un simple <code>Form</code>, et ça ne l'est effectivement pas dans ce cas, parce que nous n'avons qu'un seul champ. Cependant, si vous avez beaucoup de champs, cela peut réduire notablement la quantité de code&nbsp;!</p>\n</div>\n<p>Le reste de l'information vient des définitions de champ données par le modèle (par exemple, les labels, les widgets, le texte d'aide, les messages d'erreur). S'ils ne sont pas suffisamment satisfaisants, nous pouvons les réécrire dans notre <code>class Meta</code>, en précisant un dictionnaire contenant le champ à modifier et sa nouvelle valeur. Par exemple, dans ce formulaire, nous pourrions souhaiter, pour notre champ, un label tel que \"<em>Renewal date</em>\" (plutôt que celui par défaut, basé sur le nom du champ : <em>Due Back</em>), et nous voulons aussi que notre texte d'aide soit spécifique à ce cas d'utilisation. La classe <code>Meta</code> ci-dessous vous montre comment réécrire ces champs, et vous pouvez pareillement définir <code>widgets</code> et <code>error_messages</code> si les valeurs par défaut ne sont pas suffisantes.</p>\n<div class=\"code-example\"><pre class=\"brush: python notranslate\"><code><span class=\"token keyword\">class</span> <span class=\"token class-name\">Meta</span><span class=\"token punctuation\">:</span>\n  model <span class=\"token operator\">=</span> BookInstance\n  fields <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'due_back'</span><span class=\"token punctuation\">]</span>\n  labels <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token string\">'due_back'</span><span class=\"token punctuation\">:</span> _<span class=\"token punctuation\">(</span><span class=\"token string\">'New renewal date'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\n  help_texts <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token string\">'due_back'</span><span class=\"token punctuation\">:</span> _<span class=\"token punctuation\">(</span><span class=\"token string\">'Enter a date between now and 4 weeks (default 3).'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>Pour ajouter une validation, vous pouvez utiliser la même approche que pour un <code>Form</code> normal&nbsp;: vous définissez une fonction appelée <code>clean_field_name()</code>, et vous levez des exceptions de type <code>ValidationError</code> pour les valeurs non valides. La seule différence par rapport à notre formulaire original, c'est que le champ de modèle est appelé <code>due_back</code> et non \"<code>renewal_date</code>\". Ce changement est nécessaire, dans la mesure où le champ correspondant dans <code>BookInstance</code> est appelé <code>due_back</code>.</p>\n<div class=\"code-example\"><pre class=\"brush: python notranslate\"><code><span class=\"token keyword\">from</span> django<span class=\"token punctuation\">.</span>forms <span class=\"token keyword\">import</span> ModelForm\n\n<span class=\"token keyword\">from</span> catalog<span class=\"token punctuation\">.</span>models <span class=\"token keyword\">import</span> BookInstance\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">RenewBookModelForm</span><span class=\"token punctuation\">(</span>ModelForm<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n  <span class=\"token keyword\">def</span> <span class=\"token function\">clean_due_back</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    data <span class=\"token operator\">=</span> self<span class=\"token punctuation\">.</span>cleaned_data<span class=\"token punctuation\">[</span><span class=\"token string\">'due_back'</span><span class=\"token punctuation\">]</span>\n\n    <span class=\"token comment\"># Vérifier que la date ne se situe pas dans le passé.</span>\n    <span class=\"token keyword\">if</span> data <span class=\"token operator\">&lt;</span> datetime<span class=\"token punctuation\">.</span>date<span class=\"token punctuation\">.</span>today<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n      <span class=\"token keyword\">raise</span> ValidationError<span class=\"token punctuation\">(</span>_<span class=\"token punctuation\">(</span><span class=\"token string\">'Invalid date - renewal in past'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token comment\"># Vérifier que la date tombe dans le bon intervalle (entre maintenant et dans 4 semaines).</span>\n    <span class=\"token keyword\">if</span> data <span class=\"token operator\">&gt;</span> datetime<span class=\"token punctuation\">.</span>date<span class=\"token punctuation\">.</span>today<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> datetime<span class=\"token punctuation\">.</span>timedelta<span class=\"token punctuation\">(</span>weeks<span class=\"token operator\">=</span><span class=\"token number\">4</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n      <span class=\"token keyword\">raise</span> ValidationError<span class=\"token punctuation\">(</span>_<span class=\"token punctuation\">(</span><span class=\"token string\">'Invalid date - renewal more than 4 weeks ahead'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token comment\"># N'oubliez pas de toujours renvoyer les données nettoyées.</span>\n    <span class=\"token keyword\">return</span> data\n\n  <span class=\"token keyword\">class</span> <span class=\"token class-name\">Meta</span><span class=\"token punctuation\">:</span>\n    model <span class=\"token operator\">=</span> BookInstance\n    fields <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'due_back'</span><span class=\"token punctuation\">]</span>\n    labels <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token string\">'due_back'</span><span class=\"token punctuation\">:</span> _<span class=\"token punctuation\">(</span><span class=\"token string\">'Renewal date'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\n    help_texts <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token string\">'due_back'</span><span class=\"token punctuation\">:</span> _<span class=\"token punctuation\">(</span><span class=\"token string\">'Enter a date between now and 4 weeks (default 3).'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>La classe <code>RenewBookModelForm</code> ci-dessus est maintenant fonctionnellement équivalente à notre <code>RenewBookForm</code> d'origine. Vous pourriez l'importer et l'utiliser partout où vous utilisez <code>RenewBookForm</code>, du moment que vous changez aussi de <code>renewal_date</code> en <code>due_back</code> le nom de variable du formulaire correspondant, comme dans la deuxième déclaration du formulaire&nbsp;: <code>RenewBookModelForm(initial={'due_back': proposed_renewal_date}</code>.</p>"}},{"type":"prose","value":{"id":"vues_génériques_dédition","title":"Vues génériques d'édition","isH3":false,"content":"<p>L'algorithme de gestion des formulaires que nous avons utilisé ci-dessus, dans notre exemple de vue fonctionnelle, représente un processus extrêmement commun dans les vues destinées à éditer un formulaire. Django abstrait pour vous la plus grande partie de ce processus répétitif (<i lang=\"en\">boilerplate</i>) en proposant des <a href=\"https://docs.djangoproject.com/fr/3.1/ref/class-based-views/generic-editing/\" class=\"external\" rel=\" noopener\">vues génériques d'édition</a> pour les vues de création, édition et suppression basées sur des modèles. Ces vues génériques non seulement assument le comportement d'une vue, mais elles créent automatiquement la classe de formulaire (un <code>ModelForm</code>) pour vous à partir du modèle.</p>\n<div class=\"notecard note\" id=\"sect10\">\n  <p><strong>Note :</strong> En plus des vues d'édition décrites ici, il existe aussi une classe <a href=\"https://docs.djangoproject.com/fr/3.1/ref/class-based-views/generic-editing/#formview\" class=\"external\" rel=\" noopener\">FormView</a>, qui se tient, en termes de rapport \"flexibilité\"/\"effort codage\", à mi-chemin entre notre vue basée sur une fonction et les autres vues génériques. En utilisant <code>FormView</code>, vous avez encore besoin de créer votre <code>Form</code>, mais vous n'avez pas besoin d'implémenter tous les éléments d'une gestion standard de formulaire. À la place, vous n'avez qu'à fournir une implémentation de la fonction qui sera appelée une fois que les données envoyées sont reconnues valides.</p>\n</div>\n<p>Dans cette section, nous allons utiliser des vues génériques d'édition pour créer des pages afin de pouvoir ajouter les fonctionnalités de création, d'édition et de suppression des enregistrements de type <code>Author</code> de notre bibliothèque, fournissant efficacement une réimplémentation basique de certaines parties du site Admin (cela peut être intéressant si vous avez besoin d'offrir une fonctionnalité admin d'une manière plus flexible que ce qui peut être présenté par le site admin).</p>"}},{"type":"prose","value":{"id":"vues","title":"Vues","isH3":true,"content":"<p>Ouvrez le fichier vue (<strong>locallibrary/catalog/views.py</strong>) et ajoutez le bloc de code suivant à la fin&nbsp;:</p>\n<div class=\"code-example\"><pre class=\"brush: python notranslate\"><code><span class=\"token keyword\">from</span> django<span class=\"token punctuation\">.</span>views<span class=\"token punctuation\">.</span>generic<span class=\"token punctuation\">.</span>edit <span class=\"token keyword\">import</span> CreateView<span class=\"token punctuation\">,</span> UpdateView<span class=\"token punctuation\">,</span> DeleteView\n<span class=\"token keyword\">from</span> django<span class=\"token punctuation\">.</span>urls <span class=\"token keyword\">import</span> reverse_lazy\n\n<span class=\"token keyword\">from</span> catalog<span class=\"token punctuation\">.</span>models <span class=\"token keyword\">import</span> Author\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">AuthorCreate</span><span class=\"token punctuation\">(</span>CreateView<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n  model <span class=\"token operator\">=</span> Author\n  fields <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'first_name'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'last_name'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'date_of_birth'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'date_of_death'</span><span class=\"token punctuation\">]</span>\n  initial <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token string\">'date_of_death'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'11/06/2020'</span><span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">AuthorUpdate</span><span class=\"token punctuation\">(</span>UpdateView<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n  model <span class=\"token operator\">=</span> Author\n  fields <span class=\"token operator\">=</span> <span class=\"token string\">'__all__'</span> <span class=\"token comment\"># Non recommandé (problème potentiel de sécurité si on ajoute d'autres champs)</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">AuthorDelete</span><span class=\"token punctuation\">(</span>DeleteView<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n  model <span class=\"token operator\">=</span> Author\n  success_url <span class=\"token operator\">=</span> reverse_lazy<span class=\"token punctuation\">(</span><span class=\"token string\">'authors'</span><span class=\"token punctuation\">)</span>\n</code></pre></div>\n<p>Comme vous pouvez le voir, pour les vues \"créer\", \"modifier\" et \"supprimer\", vous avez besoin de dériver respectivement des vues génériques <code>CreateView</code>, <code>UpdateView</code>, et <code>DeleteView</code>, et de définir ensuite le modèle associé.</p>\n<p>Pour les cas \"créer\" et \"modifier\", vous devez aussi préciser les champs à afficher dans le formulaire (en utilisant la même syntaxe que pour la classe <code>ModelForm</code>). Dans ce cas, nous montrons à la fois la syntaxe pour afficher \"tous\" les champs, et comment vous pouvez les lister un par un. Vous pouvez aussi spécifier les valeurs initiales pour chacun des champs en utilisant un dictionnaire de paires <em>nom_du_champ/valeur</em> (ici nous définissons arbitrairement la date de mort, uniquement dans un but de démonstration — sans doute voudrez-vous l'enlever !). Par défaut, ces vues vont rediriger en cas de succès vers une page affichant l'élément nouvellement créé ou modifié, ce qui, dans notre cas, sera la vue \"détail\" d'un auteur, créée dans un précédent tutoriel. Vous pouvez spécifier un autre lieu de redirection en déclarant explicitement le paramètre <code>success_url</code> (comme indiqué dans la classe <code>AuthorDelete</code>).</p>\n<p>La classe <code>AuthorDelete</code> ne requiert pas l'affichage d'aucun champ, aussi n'ont-ils pas besoin d'être précisés. Par contre, il vous faut bien spécifier la <code>success_url</code>, car Django n'a pas de valeur par défaut pour cela. Dans ce cas, nous utilisons la fonction <a href=\"https://docs.djangoproject.com/fr/3.1/ref/urlresolvers/#reverse-lazy\" class=\"external\" rel=\" noopener\"><code>reverse_lazy()</code></a> pour rediriger vers notre liste d'auteurs après qu'un auteur a été supprimé. <code>reverse_lazy()</code> est une version de <code>reverse()</code> exécutée mollement (\"<em>lazily</em>\"), que nous utilisons ici parce que nous fournissons une URL à un attribut de vue basée sur une classe.</p>"}},{"type":"prose","value":{"id":"templates","title":"Templates","isH3":true,"content":"<p>Les vues \"créer\" et \"modifier\" utilisent le même template par défaut, lequel sera nommé d'après votre modèle : <em>model_name</em>_<strong>form.html</strong> (vous pouvez changer le suffixe en autre chose que <strong>_form</strong> en utilisant le champ <code>template_name_suffix</code> dans votre vue, par exemple, <code>template_name_suffix = '_other_suffix'</code>).</p>\n<p>Créez le fichier de template <strong>locallibrary/catalog/templates/catalog/author_form.html</strong> et copiez-y le texte suivant.</p>\n<div class=\"code-example\"><pre class=\"brush: html notranslate\"><code>{% extends \"base_generic.html\" %}\n\n{% block content %}\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>form</span> <span class=\"token attr-name\">action</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">method</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>post<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n    {% csrf_token %}\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>table</span><span class=\"token punctuation\">&gt;</span></span>\n    {{ form.as_table }}\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>table</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>submit<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">value</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Submit<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>form</span><span class=\"token punctuation\">&gt;</span></span>\n{% endblock %}\n</code></pre></div>\n<p>Ce formulaire est semblable à nos formulaires précédents et affiche les champs en utilisant un tableau. Notez aussi comment nous déclarons à nouveau le <code>{% csrf_token %}</code> pour nous assurer que nos formulaires résisteront à d'éventuelles attaques par CSRF (<em>Cross-Site Request Forgery</em>).</p>\n<p>La vue \"supprimer\" s'attend à trouver un template avec un nom au format <em>model_name</em>_<strong>confirm_delete.html</strong> (de nouveau, vous pouvez changer le suffixe en utilisant <code>template_name_suffix</code> dans votre vue). Créez le fichier de template <strong>locallibrary/catalog/templates/catalog/author_confirm_delete.html</strong> et copiez-y le texte suivant.</p>\n<div class=\"code-example\"><pre class=\"brush: html notranslate\"><code>{% extends \"base_generic.html\" %}\n\n{% block content %}\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h1</span><span class=\"token punctuation\">&gt;</span></span>Delete Author<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h1</span><span class=\"token punctuation\">&gt;</span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">&gt;</span></span>Are you sure you want to delete the author: {{ author }}?<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">&gt;</span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>form</span> <span class=\"token attr-name\">action</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">method</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>POST<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n  {% csrf_token %}\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>submit<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">value</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>Yes, delete.<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>form</span><span class=\"token punctuation\">&gt;</span></span>\n\n{% endblock %}\n</code></pre></div>"}},{"type":"prose","value":{"id":"configurations_durl","title":"Configurations d'URL","isH3":true,"content":"<p>Ouvrez votre fichier de configuration d'URL (<strong>locallibrary/catalog/urls.py</strong>) et ajoutez-y à la fin la configuration suivante&nbsp;:</p>\n<div class=\"code-example\"><pre class=\"brush: python notranslate\"><code>urlpatterns <span class=\"token operator\">+=</span> <span class=\"token punctuation\">[</span>\n    path<span class=\"token punctuation\">(</span><span class=\"token string\">'author/create/'</span><span class=\"token punctuation\">,</span> views<span class=\"token punctuation\">.</span>AuthorCreate<span class=\"token punctuation\">.</span>as_view<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> name<span class=\"token operator\">=</span><span class=\"token string\">'author-create'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    path<span class=\"token punctuation\">(</span><span class=\"token string\">'author/&lt;int:pk&gt;/update/'</span><span class=\"token punctuation\">,</span> views<span class=\"token punctuation\">.</span>AuthorUpdate<span class=\"token punctuation\">.</span>as_view<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> name<span class=\"token operator\">=</span><span class=\"token string\">'author-update'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    path<span class=\"token punctuation\">(</span><span class=\"token string\">'author/&lt;int:pk&gt;/delete/'</span><span class=\"token punctuation\">,</span> views<span class=\"token punctuation\">.</span>AuthorDelete<span class=\"token punctuation\">.</span>as_view<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> name<span class=\"token operator\">=</span><span class=\"token string\">'author-delete'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">]</span>\n</code></pre></div>\n<p>Il n'y a rien de particulièrement nouveau ici ! Vous pouvez voir que les vues sont des classes, et doivent dès lors être appelée via <code>.as_view()</code>, et vous devriez être capable de reconnaître les motifs d'URL dans chaque cas. Nous devons utiliser <code>pk</code> comme nom pour la valeur de nos clés primaires capturées, car c'est le nom de paramètre attendu par les classes de vue.</p>\n<p>Les pages de création, modification et suppression d'auteur sont maintenant prêtes à être testées (nous ne nous mettons pas en peine pour cette fois, bien que vous puissiez le faire si vous le souhaiter, de les accrocher dans la barre latérale du site).</p>\n<div class=\"notecard note\" id=\"sect11\">\n  <p><strong>Note :</strong> Les utilisateurs observateurs auront remarqué que nous n'avons rien fait pour empêcher les utilisateurs non autorisés d'accéder à ces pages&nbsp;! Nous laissons cela comme exercice pour vous (suggestion&nbsp;: vous pourriez utiliser le <code>PermissionRequiredMixin</code>, et soit créer une nouvelle permission, soit réutiliser notre permission <code>can_mark_returned</code>).</p>\n</div>"}},{"type":"prose","value":{"id":"test_de_la_page","title":"Test de la page","isH3":true,"content":"<p>Tout d'abord, connectez-vous au site avec un compte ayant les permissions que vous avez définies comme nécessaires pour accéder aux pages d'édition d'auteur.</p>\n<p>Ensuite, naviguez à la page de création d'auteur, <em><a href=\"http://127.0.0.1:8000/catalog/author/create/\" class=\"external\" rel=\" noopener\">http://127.0.0.1:8000/catalog/author/create/</a></em>, ce qui devrait ressembler à la capture d'écran ci-dessous.</p>\n<p>\n  <img src=\"/en-US/docs/Learn/Server-side/Django/Forms/forms_example_create_author.png\" alt=\"Exemple de formulaire&nbsp;: création d'un auteur\" width=\"645\" height=\"184\" loading=\"lazy\">\n</p>\n<p>Entrez des valeurs pour les champs et ensuite cliquez sur <strong>Submit</strong> pour sauvegarder l'enregistrement de cet auteur. Vous devriez maintenant être conduit à une vue \"détail\" pour votre nouvel auteur, avec une URL du genre <code>http://127.0.0.1:8000/catalog/author/10</code>.</p>\n<p>Vous pouvez tester l'édition d'un enregistrement en ajoutant <em>/update/</em> à la fin de l'URL \"détail\" (par exemple, <code>http://127.0.0.1:8000/catalog/author/10/update/</code>). Nous ne mettons pas de capture d'écran, car c'est à peu près la même chose que la page \"create\".</p>\n<p>Enfin, nous pouvons effacer l'enregistrement en ajoutant \"delete\" à la fin de l'URL de détail (par exemple, <code>http://127.0.0.1:8000/catalog/author/10/delete/</code>). Django devrait vous afficher la page de suppression montrée ci-dessous. Cliquez sur \"<strong>Yes, delete</strong>\" pour supprimer l'enregistrement et être reconduit à la liste des auteurs.</p>\n<p>\n  <img src=\"/en-US/docs/Learn/Server-side/Django/Forms/forms_example_delete_author.png\" alt=\"\" width=\"561\" height=\"194\" loading=\"lazy\">\n</p>"}},{"type":"prose","value":{"id":"mettez-vous_au_défi","title":"Mettez-vous au défi","isH3":false,"content":"<p>Créez des formulaires pour créer, modifier et effacer des enregistrements de type <code>Book</code>. Vous pouvez utiliser exactement la même structure que pour les <code>Authors</code>. Si votre template <strong>book_form.html</strong> est simplement copié-renommé à partir du template <strong>author_form.html</strong>, alors la nouvelle page \"create book\" va ressembler à quelque chose comme ceci :</p>\n<p>\n  <img src=\"/en-US/docs/Learn/Server-side/Django/Forms/forms_example_create_book.png\" alt=\"\" width=\"595\" height=\"521\" loading=\"lazy\">\n</p>"}},{"type":"prose","value":{"id":"résumé","title":"Résumé","isH3":false,"content":"<p>Créer et gérer des formulaires peut être un processus compliqué ! Django le rend bien plus aisé en fournissant des mécanismes de programmation pour déclarer, rendre et valider des formulaires. Django fournit de plus des vues génériques d'édition de formulaires, qui peuvent faire <em>presque tout</em> le travail si vous voulez définir des pages pour créer, modifier et supprimer des enregistrements associés à une instance d'un modèle unique.</p>\n<p>Il y a bien d'autres choses qui peuvent être faites avec les formulaires (regardez notre liste <a href=\"#voir_aussi\">Voir aussi</a> ci-dessous), mais vous devez être maintenant en mesure de comprendre comment ajouter des formulaires basiques et un code de gestion de formulaire à vos propres sites web.</p>"}},{"type":"prose","value":{"id":"voir_aussi","title":"Voir aussi","isH3":false,"content":"<ul>\n  <li><a href=\"https://docs.djangoproject.com/fr/3.1/topics/forms/\" class=\"external\" rel=\" noopener\">Utilisation des formulaires</a> (Documentation de Django)</li>\n  <li><a href=\"https://docs.djangoproject.com/fr/3.1/intro/tutorial04/#write-a-simple-form\" class=\"external\" rel=\" noopener\">Écriture de votre première application Django, 4e partie</a> (Documentation de Django)</li>\n  <li><a href=\"https://docs.djangoproject.com/fr/3.1/ref/forms/api/\" class=\"external\" rel=\" noopener\">L'API des formulaires</a> (Documentation de Django)</li>\n  <li><a href=\"https://docs.djangoproject.com/fr/3.1/ref/forms/fields/\" class=\"external\" rel=\" noopener\">Champs de formulaires</a> (Documentation de Django)</li>\n  <li><a href=\"https://docs.djangoproject.com/fr/3.1/ref/forms/validation/\" class=\"external\" rel=\" noopener\">Les formulaires et la validation des champs</a> (Documentation de Django)</li>\n  <li><a href=\"https://docs.djangoproject.com/fr/3.1/topics/class-based-views/generic-editing/\" class=\"external\" rel=\" noopener\">Gestion de formulaires avec les vues fondées sur les classes</a> (Documentation de Django)</li>\n  <li><a href=\"https://docs.djangoproject.com/fr/3.1/topics/forms/modelforms/\" class=\"external\" rel=\" noopener\">Création de formulaires à partir de modèles</a> (Documentation de Django)</li>\n  <li><a href=\"https://docs.djangoproject.com/fr/3.1/ref/class-based-views/generic-editing/\" class=\"external\" rel=\" noopener\">Vues génériques d'édition</a> (Documentation de Django)</li>\n</ul><ul class=\"prev-next\">\n    <li><a class=\"button minimal only-in-en-us\" href=\"/en-US/docs/Learn/Server-side/Django/Authentication\" title=\"Currently only available in English (US)\"> Précédent  (en-US)</a></li>\n    <li><a class=\"button minimal\" href=\"/fr/docs/Learn/Server-side/Django\"> Aperçu&nbsp;: Django</a></li>\n    <li><a class=\"button minimal\" href=\"/fr/docs/Learn/Server-side/Django/Testing\"> Suivant  </a></li>\n</ul>"}},{"type":"prose","value":{"id":"dans_ce_module","title":"Dans ce module","isH3":false,"content":"<ul>\n  <li><a href=\"/fr/docs/Learn/Server-side/Django/Introduction\">Introduction à Django</a></li>\n  <li><a href=\"/fr/docs/Learn/Server-side/Django/development_environment\">Mettre en place un environnement de développement Django</a></li>\n  <li><a href=\"/fr/docs/Learn/Server-side/Django/Tutorial_local_library_website\">Django didactique&nbsp;: Site web \"Bibliothèque locale\"</a></li>\n  <li><a href=\"/fr/docs/Learn/Server-side/Django/skeleton_website\">Django didactique Section 2&nbsp;: Créer le squelette du site web</a></li>\n  <li><a href=\"/fr/docs/Learn/Server-side/Django/Models\">Django didactique Section 3&nbsp;: Utilisation des modèles de données</a></li>\n  <li><a href=\"/fr/docs/Learn/Server-side/Django/Admin_site\">Django didactique Section 4&nbsp;: Site d'administration de Django</a></li>\n  <li><a href=\"/fr/docs/Learn/Server-side/Django/Home_page\">Django didactique Section 5&nbsp;: Créer la page d'accueil</a></li>\n  <li><a href=\"/fr/docs/Learn/Server-side/Django/Generic_views\">Django didactique Section 6&nbsp;: Vues génériques pour les listes et les détails</a></li>\n  <li><a href=\"/en-US/docs/Learn/Server-side/Django/Sessions\" class=\"only-in-en-us\" title=\"Currently only available in English (US)\">Django didactique Section 7&nbsp;: Framework pour les sessions (en-US)</a></li>\n  <li><a href=\"/en-US/docs/Learn/Server-side/Django/Authentication\" class=\"only-in-en-us\" title=\"Currently only available in English (US)\">Django didactique Section 8&nbsp;: Authentification des utilisateurs et permission (en-US)</a></li>\n  <li><a href=\"/fr/docs/Learn/Server-side/Django/Forms\" aria-current=\"page\">Django didactique Section 9&nbsp;: Travailler avec des formulaires</a></li>\n  <li><a href=\"/fr/docs/Learn/Server-side/Django/Testing\">Django didactique Section 10&nbsp;: Tester une application web Django</a></li>\n  <li><a href=\"/en-US/docs/Learn/Server-side/Django/Deployment\" class=\"only-in-en-us\" title=\"Currently only available in English (US)\">Django didactique Section 11&nbsp;: Déployer une application Django en production (en-US)</a></li>\n  <li><a href=\"/en-US/docs/Learn/Server-side/Django/web_application_security\" class=\"only-in-en-us\" title=\"Currently only available in English (US)\">La sécurité des applications web Django (en-US)</a></li>\n  <li><a href=\"/en-US/docs/Learn/Server-side/Django/django_assessment_blog\" class=\"only-in-en-us\" title=\"Currently only available in English (US)\">Mise en pratique&nbsp;: construisez votre mini blog avec Django (en-US)</a></li>\n</ul>"}}],"toc":[{"text":"Vue d'ensemble","id":"vue_densemble"},{"text":"Formulaires HTML","id":"formulaires_html"},{"text":"Les étapes de gestion d'un formulaire avec Django","id":"les_étapes_de_gestion_dun_formulaire_avec_django"},{"text":"Formulaire de renouvellement de livre par l'utilisation de Form et d'une vue fonctionnelle","id":"formulaire_de_renouvellement_de_livre_par_lutilisation_de_form_et_dune_vue_fonctionnelle"},{"text":"ModelForms","id":"modelforms"},{"text":"Vues génériques d'édition","id":"vues_génériques_dédition"},{"text":"Mettez-vous au défi","id":"mettez-vous_au_défi"},{"text":"Résumé","id":"résumé"},{"text":"Voir aussi","id":"voir_aussi"},{"text":"Dans ce module","id":"dans_ce_module"}],"summary":"Dans cette formation, nous allons vous montrer comment travailler avec les formulaires HTML sous Django afin de créer, modifier et supprimer des instances de modèle. Pour illustrer le raisonnement, nous allons étendre le site web LocalLibrary pour permettre aux bibliothécaires d'utiliser nos formulaires (plutôt que l'application d'administration par défaut) pour prolonger la durée de prêt des livres, et également pour ajouter, mettre à jour et supprimer des auteurs.","popularity":0.0004,"modified":"2022-10-01T03:41:16.000Z","other_translations":[{"title":"Django Tutorial Part 9: Working with forms","locale":"en-US","native":"English (US)"},{"title":"Tutorial de Django Parte 9: Trabajo con formularios","locale":"es","native":"Español"},{"title":"Django 튜토리얼 파트 9: 폼(form)으로 작업하기","locale":"ko","native":"한국어"},{"title":"Tutorial Django Parte 9: Trabalhando com formulários","locale":"pt-BR","native":"Português (do Brasil)"},{"title":"Руководство часть 9: Работа с формами","locale":"ru","native":"Русский"},{"title":"Django 教程 9: 使用表单","locale":"zh-CN","native":"中文 (简体)"},{"title":"Django Tutorial Part 9: Working with forms","locale":"zh-TW","native":"正體中文 (繁體)"}],"source":{"folder":"fr/learn/server-side/django/forms","github_url":"https://github.com/mdn/translated-content/blob/main/files/fr/learn/server-side/django/forms/index.md","last_commit_url":"https://github.com/mdn/translated-content/commit/921c46a374ab0a9f4cc809af0370f8c412e54701","filename":"index.md"},"parents":[{"uri":"/fr/docs/Learn","title":"Apprendre le développement web"},{"uri":"/fr/docs/Learn/Server-side","title":"Programmation de Sites Web côté serveur"},{"uri":"/fr/docs/Learn/Server-side/Django","title":"Django Web Framework (Python)"},{"uri":"/fr/docs/Learn/Server-side/Django/Forms","title":"Django didactique - Section 9 : Travailler avec des formulaires"}],"pageTitle":"Django didactique - Section 9 : Travailler avec des formulaires - Apprendre le développement web | MDN","noIndexing":false}}</script></body></html>