<!DOCTYPE html><html lang="en-US" prefix="og: https://ogp.me/ns#"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="icon" href="/favicon-48x48.97046865.png"><link rel="apple-touch-icon" href="/apple-touch-icon.0ea0fa02.png"><meta name="theme-color" content="#ffffff"><link rel="manifest" href="/manifest.56b1cedc.json"><link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" title="MDN Web Docs"><script>Array.prototype.flat&&Array.prototype.includes||document.write('<script src="https://polyfill.io/v3/polyfill.min.js?features=Array.prototype.flat%2Ces6"><\/script>')</script><title>Django Tutorial Part 10: Testing a Django web application - Apprendre le d√©veloppement web | MDN</title><link rel="preload" as="font" type="font/woff2" crossorigin="" href="/static/media/ZillaSlab-Bold.subset.0beac26b.woff2"><link rel="alternate" title="Django Tutorial Part 10: Testing a Django web application" href="https://developer.mozilla.org/fr/docs/Learn/Server-side/Django/Testing" hreflang="fr"><link rel="alternate" title="Django Tutorial Part 10: Testing a Django web application" href="https://developer.mozilla.org/zh-TW/docs/Learn/Server-side/Django/Testing" hreflang="zh-TW"><link rel="alternate" title="Django ÊïôÁ®ã 10: ÊµãËØï Django ÁΩëÈ°µÂ∫îÁî®" href="https://developer.mozilla.org/zh-CN/docs/Learn/Server-side/Django/Testing" hreflang="zh"><link rel="alternate" title="–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ —á–∞—Å—Ç—å 10: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π Django" href="https://developer.mozilla.org/ru/docs/Learn/Server-side/Django/Testing" hreflang="ru"><link rel="alternate" title="Tutorial Django Parte 10: Testando uma aplica√ß√£o web Django" href="https://developer.mozilla.org/pt-BR/docs/Learn/Server-side/Django/Testing" hreflang="pt"><link rel="alternate" title="Django ÌäúÌÜ†Î¶¨Ïñº ÌååÌä∏ 10: Django Ïõπ Ïñ¥ÌîåÎ¶¨ÏºÄÏù¥ÏÖò ÌÖåÏä§Ìä∏ÌïòÍ∏∞" href="https://developer.mozilla.org/ko/docs/Learn/Server-side/Django/Testing" hreflang="ko"><link rel="alternate" title="Tutorial de Django Parte 10: Probando una aplicaci√≥n web Django" href="https://developer.mozilla.org/es/docs/Learn/Server-side/Django/Testing" hreflang="es"><link rel="alternate" title="Django Tutorial Part 10: Testing a Django web application" href="https://developer.mozilla.org/en-US/docs/Learn/Server-side/Django/Testing" hreflang="en"><meta name="description" content="Quant un site web grandit, il devient plus difficile √† tester manuellement. Non seulement il y a plus de choses √† tester, mais encore, comme les interactions entres ses composants deviennent plus complexes, un l√©ger changement dans une partie de l'application peut affecter les autres parties, si bien qu'il va √™tre n√©cessaire de faire beaucoup de modifications pour s'assurer que tout continue de fonctionner, et qu'aucune erreur ne sera introduite quand il y aura encore plus de modifications. Une fa√ßon de limiter ces probl√®mes est d'√©crire des tests automatiques qui puissent √™tre lanc√©s d'une mani√®re simple et fiable √† chaque fois que vous faites une modification. Ce tutoriel montre comment automatiser des tests unitaires sur votre site web en utilisant le framework de tests de Django."><meta property="og:url" content="https://developer.mozilla.org/fr/docs/Learn/Server-side/Django/Testing"><meta property="og:title" content="Django Tutorial Part 10: Testing a Django web application - Apprendre le d√©veloppement web | MDN"><meta property="og:description" content="Quant un site web grandit, il devient plus difficile √† tester manuellement. Non seulement il y a plus de choses √† tester, mais encore, comme les interactions entres ses composants deviennent plus complexes, un l√©ger changement dans une partie de l'application peut affecter les autres parties, si bien qu'il va √™tre n√©cessaire de faire beaucoup de modifications pour s'assurer que tout continue de fonctionner, et qu'aucune erreur ne sera introduite quand il y aura encore plus de modifications. Une fa√ßon de limiter ces probl√®mes est d'√©crire des tests automatiques qui puissent √™tre lanc√©s d'une mani√®re simple et fiable √† chaque fois que vous faites une modification. Ce tutoriel montre comment automatiser des tests unitaires sur votre site web en utilisant le framework de tests de Django."><meta property="og:locale" content="fr"><meta property="og:image" content="https://developer.mozilla.org/mdn-social-share.0ca9dbda.png"><meta property="twitter:card" content="summary_large_image"><meta name="robots" content="index, follow"><link rel="canonical" href="https://developer.mozilla.org/fr/docs/Learn/Server-side/Django/Testing"><style media="print">.breadcrumbs-container,.document-toc-container,.language-menu,.language-toggle,.on-github,.page-footer,.page-header-main,nav.sidebar,ul.prev-next{display:none!important}.main-page-content,.main-page-content pre{padding:2px}.main-page-content pre{border-left-width:2px}</style><link href="/static/css/main.55b68e13.chunk.css" rel="stylesheet"><script src="/static/js/runtime-main.4bb4c356.js" defer=""></script><script src="/static/js/4.a756dea3.chunk.js" defer=""></script><script src="/static/js/main.d4d565e0.chunk.js" defer=""></script></head><body><div id="root"><ul id="nav-access" class="a11y-nav"><li><a id="skip-main" href="#content">Skip to main content</a></li><li><a id="skip-search" href="#main-q">Skip to search</a></li><li><a id="skip-select-language" href="#select-language">Skip to select language</a></li></ul><div class="page-wrapper document-page"><header class="page-header"><a href="/fr/" class="logo" aria-label="MDN Web Docs"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 451.74 135"><path d="M7.14 8.35v111.06h111.05V8.35zm103.71 56c-.48.92-1 1.79-1.46 2.71a3.44 3.44 0 01-3.54 2 2.4 2.4 0 00-1.55.5c-1.37.9-2.76 1.79-4.18 2.63a7.33 7.33 0 01-6.35.34 29.71 29.71 0 00-10.63-2 11.7 11.7 0 00-9.46 4.31 14.84 14.84 0 00-2.13 4.29c-1.24 3.07-2.3 21.38-2.3 26.05 0 0-17.62-3.42-34.15-20.34l4.31-11.32h-13.5l9.76-10.35h-16.8l9.77-10.34H12.69L30.45 34a40.9 40.9 0 0119.77-10.83c7.1-1.22 8.93-.53 13.31.77l2.43.73.85.25 3.1.95a12.56 12.56 0 006.21.09 11.37 11.37 0 018.25 1 8.24 8.24 0 014.1 6.22 7.29 7.29 0 003.61 5.49 59.45 59.45 0 009.32 4.11c2.27.86 4.54 1.84 6.79 2.72a6.81 6.81 0 012.86 2.06 4.81 4.81 0 011.1 2.73c.14 2 .37 4 .47 6a15.24 15.24 0 01-1.77 8.03zM320.12 39.62a5.42 5.42 0 00-4.53 2.13 7.36 7.36 0 00-1.7 4.43v2.36a6.28 6.28 0 001.7 4.46 5.63 5.63 0 004.3 1.82 5.12 5.12 0 004.57-2.27A9.7 9.7 0 00326 47a8.11 8.11 0 00-1.67-5.52 5.36 5.36 0 00-4.21-1.86zM387.38 39.53a5.52 5.52 0 00-4.7 2.15 8.8 8.8 0 00-1.63 5.49 9.23 9.23 0 001.58 5.45 5.38 5.38 0 004.7 2.25 5.61 5.61 0 004.74-2.2 8.91 8.91 0 001.68-5.59 8.24 8.24 0 00-1.75-5.52 5.76 5.76 0 00-4.62-2.03zM299.47 41.35a4.34 4.34 0 00-4-1.92 4.55 4.55 0 00-3.89 1.73 8.37 8.37 0 00-1.58 4.17h10.48a6.3 6.3 0 00-1.01-3.98zM357.74 30.75H352v23.31h5.72q5.47 0 8.35-3t2.93-8.65q0-5.43-2.88-8.55t-8.38-3.11z"></path><path d="M121.55 8.35v70.8h323V8.35zm42.21 22.45h-4V54h3.68v3.73h-11.25V54h3.31V36.79h-.19l-9.63 19.12h-2.12l-10-19.4h-.19V54h3.45v3.73h-11.15V54h3.68V30.8h-4v-3.73H133l11.66 22.56h.19l11.18-22.56h7.7zm29.12 22.67q-4.11 4.28-11.38 4.28h-14.06v-3.69h3.73V30.75h-3.73v-3.68h13.83q7.59 0 11.66 4.29a15.4 15.4 0 014 11 15.33 15.33 0 01-4.05 11.11zm38.89-22.67h-3.68v27h-2.6L208.08 35h-.19v19h4.67v3.73h-12.22V54h3.49V30.8h-4v-3.73h7.08l16.9 22.09h.19V30.8h-4.58v-3.73h12.32zm43.8 27h-3.31l-7.83-23.18h-.19l-7.55 23.18h-3.35l-8.78-27h-2.65v-3.73H253v3.73h-3.87L255 50.71h.23l6.61-19.91H259v-3.73h11v3.73h-2.78l6.61 20.1h.23l5.43-20.1h-4.15v-3.73h11v3.73h-2.54zm26.71-1.51a9.66 9.66 0 01-6.42 2 10.2 10.2 0 01-7.41-2.74c-1.89-1.82-2.83-4.47-2.83-7.93a12.37 12.37 0 012.64-8.12 9 9 0 017.32-3.21 8.62 8.62 0 016.75 2.69 9.65 9.65 0 012.45 6.52 13.67 13.67 0 01-.28 2.69H290q.29 6.71 6.18 6.7a5.2 5.2 0 003.71-1.18 5.82 5.82 0 001.67-2.83l3.45.71a7.21 7.21 0 01-2.73 4.65zm25.77-1.63c-1.51 2.4-3.92 3.61-7.22 3.61s-5.84-1.29-7.22-3.87c0 .25-.1.82-.21 1.7s-.19 1.44-.22 1.7H309c.16-1 .31-2 .47-3.07a21.42 21.42 0 00.24-3.16v-23h-3.4v-3.3h7.55V40.9a9.76 9.76 0 012.67-3.28 7.33 7.33 0 014.74-1.4 8.48 8.48 0 016.5 2.78q2.55 2.74 2.55 7.74a14.6 14.6 0 01-2.27 7.87zm41.39-1.14q-4.11 4.28-11.37 4.28H344v-3.74h3.73V30.75H344v-3.68h13.83q7.59 0 11.66 4.29a15.41 15.41 0 014.06 11 15.34 15.34 0 01-4.11 11.11zm25.65 1.68a10.53 10.53 0 01-7.9 3.07 10 10 0 01-7.63-3 10.93 10.93 0 01-2.8-7.83 12.13 12.13 0 012.69-7.93q2.69-3.3 8-3.3t8 3.28a12 12 0 012.64 7.76 10.86 10.86 0 01-3 7.9zm22.61.57c-1.4 1.66-3.63 2.5-6.68 2.5a9.58 9.58 0 01-7.15-2.76q-2.72-2.76-2.71-7.91a12.25 12.25 0 012.69-8 9.17 9.17 0 017.5-3.28 15 15 0 013.82.48 10.37 10.37 0 013.5 1.65l.85 5.47-3.35.38-.76-3.54a8.07 8.07 0 00-4.11-1 4.9 4.9 0 00-4.39 2.15 9.93 9.93 0 00-1.41 5.55 8.9 8.9 0 001.5 5.38 5.23 5.23 0 004.44 2c2.92 0 4.67-1.7 5.23-5.1l3.5.71a10.34 10.34 0 01-2.47 5.27zm20.48.75a11.68 11.68 0 01-6.63 1.75 15.52 15.52 0 01-8.26-2.08L424 51l3.26.33-.1 2.74a7 7 0 002.06.66 12.63 12.63 0 002.19.19 8.68 8.68 0 003.66-.75 2.5 2.5 0 001.63-2.36 2.25 2.25 0 00-1.32-2.2 12.65 12.65 0 00-3.28-1 47.39 47.39 0 01-3.9-.82 7.5 7.5 0 01-3.25-1.7 4.67 4.67 0 01-1.33-3.66c0-2.36.88-4 2.62-4.91a12 12 0 015.6-1.37 15 15 0 014.08.55 16.65 16.65 0 013.47 1.39l.47 5.1-3.3.37-.48-3.3a9.5 9.5 0 00-4.06-.9 5.62 5.62 0 00-2.87.66 2.33 2.33 0 00-1.15 2.25 2.13 2.13 0 001.3 2.07 11.91 11.91 0 003.21.92 36.69 36.69 0 013.82.83 7.46 7.46 0 013.21 1.74 4.9 4.9 0 011.3 3.73 5.56 5.56 0 01-2.66 4.91z"></path><path d="M181.17 30.75h-5.71v23.31h5.71q5.47 0 8.36-3t2.88-8.61q0-5.43-2.88-8.55t-8.36-3.15zM121.63 119.32V81.74h114.91v37.58zM153.22 109h-2v-6.85a4.8 4.8 0 00-1.58-4 5.57 5.57 0 00-3.55-1.26 5 5 0 00-4.92 3.26 4.19 4.19 0 00-1.88-2.46 5.82 5.82 0 00-3-.8 4.89 4.89 0 00-4.56 2.56v-2.21h-6.28v3.26h2v8.5h-2v3.23h9.11V109h-2.86v-5.25a4.4 4.4 0 01.69-2.56 2.47 2.47 0 012.21-1q2.57 0 2.56 3.63v8.41h6.29V109h-2v-5.25a4.47 4.47 0 01.67-2.56 2.42 2.42 0 012.19-1q2.63 0 2.63 3.63v8.41h6.28zm9.88-12.07q-4 0-6 2.36a8.41 8.41 0 00-2 5.66 7.25 7.25 0 002.17 5.62 8 8 0 005.65 2 8.54 8.54 0 005.94-2.11 7.27 7.27 0 002.34-5.67 8.21 8.21 0 00-2-5.51q-2.07-2.34-6.1-2.34zm-.1 12.35a3 3 0 01-2.63-1.33 5.68 5.68 0 01-.9-3.26 5 5 0 011-3.28 3.23 3.23 0 012.61-1.18 3.5 3.5 0 012.59 1.08 4.56 4.56 0 011.07 3.31 5.21 5.21 0 01-1 3.41 3.33 3.33 0 01-2.74 1.25zm25-2.3l-3.39-.29-.7 2.32H179l8.32-9.54-.32-2.23h-13.19l-.53 5.25 3.16.34.67-2.36h4.65l-8.25 9.53.44 2.26h13.13zm7.62-9.74h-4.46v5.39h4.46zm0 9.61h-4.46v5.39h4.46zm13.54-17.49h-4.23l-6.48 22.88h4.22zm8.68 0h-4.23l-6.45 22.88h4.19zm15 22.51l-.07-2.26a1.22 1.22 0 01-.56.1c-.69 0-1-.39-1-1.16v-6.49a4.39 4.39 0 00-1.8-3.84 7 7 0 00-4.16-1.28 14.55 14.55 0 00-3.16.3 24.14 24.14 0 00-3.29 1.06l-.56 3.46 3.39.4.5-1.69a2.78 2.78 0 011.08-.37 11.3 11.3 0 011.25-.07c1.19 0 1.89.37 2.09 1.1a8.55 8.55 0 01.3 2.26v.5a8.91 8.91 0 00-1.18-.11h-1.21a12.64 12.64 0 00-4.81.88 3.53 3.53 0 00-2.18 3.64 3.66 3.66 0 001.48 3.33 5.63 5.63 0 003.11 1 4.67 4.67 0 003-.91 6.78 6.78 0 001.8-2 3 3 0 003.33 3 5.54 5.54 0 002.66-.85zm-9.25-2.32a1.69 1.69 0 01-1.36-.52 1.81 1.81 0 01-.43-1.21 1.67 1.67 0 01.86-1.68 4.63 4.63 0 012-.42 7.69 7.69 0 011.07.07l1.06.13a3.58 3.58 0 01-1.08 2.74 3.24 3.24 0 01-2.11.89z"></path></svg></a><button type="button" class="ghost main-menu-toggle" aria-haspopup="true" aria-label="Show Menu"></button><div class="page-header-main "><nav class="main-nav" aria-label="Main menu"><ul class="main-menu nojs"><li class="top-level-entry-container"><button id="technologies-button" type="button" class="top-level-entry" aria-haspopup="menu" aria-expanded="false">Technologies</button><ul class="technologies " role="menu" aria-labelledby="technologies-button"><li role="none"><a tabindex="-1" href="/fr/docs/Web" role="menuitem">Technologies Overview</a></li><li role="none"><a tabindex="-1" href="/fr/docs/Web/HTML" role="menuitem">HTML</a></li><li role="none"><a tabindex="-1" href="/fr/docs/Web/CSS" role="menuitem">CSS</a></li><li role="none"><a tabindex="-1" href="/fr/docs/Web/JavaScript" role="menuitem">JavaScript</a></li><li role="none"><a tabindex="-1" href="/fr/docs/Web/Guide/Graphics" role="menuitem">Graphics</a></li><li role="none"><a tabindex="-1" href="/fr/docs/Web/HTTP" role="menuitem">HTTP</a></li><li role="none"><a tabindex="-1" href="/fr/docs/Web/API" role="menuitem">APIs</a></li><li role="none"><a tabindex="-1" href="/fr/docs/Mozilla/Add-ons/WebExtensions" role="menuitem">Browser Extensions</a></li><li role="none"><a tabindex="-1" href="/fr/docs/Web/MathML" role="menuitem">MathML</a></li></ul></li><li class="top-level-entry-container"><button id="references-guides-button" type="button" class="top-level-entry" aria-haspopup="menu" aria-expanded="false">References &amp; Guides</button><ul class="references-guides " role="menu" aria-labelledby="references-guides-button"><li role="none"><a tabindex="-1" href="/fr/docs/Learn" role="menuitem">Learn web development</a></li><li role="none"><a tabindex="-1" href="/fr/docs/Web/Tutorials" role="menuitem">Tutorials</a></li><li role="none"><a tabindex="-1" href="/fr/docs/Web/Reference" role="menuitem">References</a></li><li role="none"><a tabindex="-1" href="/fr/docs/Web/Guide" role="menuitem">Developer Guides</a></li><li role="none"><a tabindex="-1" href="/fr/docs/Web/Accessibility" role="menuitem">Accessibility</a></li><li role="none"><a tabindex="-1" href="/fr/docs/Games" role="menuitem">Game development</a></li><li role="none"><a tabindex="-1" href="/fr/docs/Web" role="menuitem">...more docs</a></li></ul></li><li class="top-level-entry-container"><button id="feedback-button" type="button" class="top-level-entry" aria-haspopup="menu" aria-expanded="false">Feedback</button><ul class="feedback " role="menu" aria-labelledby="feedback-button"><li role="none"><a tabindex="-1" href="/fr/docs/MDN/Contribute/Feedback" role="menuitem">Send Feedback</a></li><li role="none"><a tabindex="-1" href="/fr/docs/MDN/Contribute" role="menuitem">Contribute to MDN</a></li><li role="none"><a tabindex="-1" target="_blank" rel="noopener noreferrer" href="https://github.com/mdn/content/issues/new" role="menuitem">Report a content issue<!-- --> üåê</a></li><li role="none"><a tabindex="-1" target="_blank" rel="noopener noreferrer" href="https://github.com/mdn/yari/issues/new" role="menuitem">Report a platform issue<!-- --> üåê</a></li></ul></li></ul></nav><div class="header-search"><form action="/fr/search" class="search-form search-widget" role="search"><label for="main-q" class="visually-hidden">Search MDN</label><input type="search" name="q" id="main-q" class="search-input-field" placeholder="Site search... (Press &quot;/&quot; to focus)" pattern="(.|\s)*\S(.|\s)*" required="" value=""><input type="submit" class="ghost search-button" value="" aria-label="Search"></form></div><div class="auth-container"></div></div></header><div class="breadcrumb-locale-container"><nav class="breadcrumbs-container" aria-label="Breadcrumb navigation"><ol typeof="BreadcrumbList" vocab="https://schema.org/" aria-label="breadcrumbs"><li property="itemListElement" typeof="ListItem"><a class="breadcrumb" property="item" typeof="WebPage" href="/fr/docs/Learn"><span property="name">Apprendre le d√©veloppement web</span></a><meta property="position" content="1"></li><li property="itemListElement" typeof="ListItem"><a class="breadcrumb" property="item" typeof="WebPage" href="/fr/docs/Learn/Server-side"><span property="name">Programmation de Sites Web c√¥t√© serveur</span></a><meta property="position" content="2"></li><li property="itemListElement" typeof="ListItem"><a class="breadcrumb-penultimate" property="item" typeof="WebPage" href="/fr/docs/Learn/Server-side/Django"><span property="name">Django Web Framework (Python)</span></a><meta property="position" content="3"></li><li property="itemListElement" typeof="ListItem"><a class="breadcrumb-current-page" property="item" typeof="WebPage" href="/fr/docs/Learn/Server-side/Django/Testing"><span property="name">Django Tutorial Part 10: Testing a Django web application</span></a><meta property="position" content="4"></li></ol></nav><ul class="language-toggle"><li><a href="#select-language" class="language-icon"><span class="show-desktop">Change language</span></a></li><li><a class="view-in-english" href="/en-US/docs/Learn/Server-side/Django/Testing"><span class="show-desktop">View in</span> English</a></li></ul></div><div class="localized-content-note notecard inline neutral"><a href="/en-US/docs/MDN/Contribute/Localize#active_locales">Cette page a √©t√© traduite √† partir de l'anglais par la communaut√©. Vous pouvez √©galement contribuer en rejoignant la communaut√© francophone sur MDN Web Docs.</a></div><aside class="document-toc-container"><section class="document-toc"><header><h2>Table of contents</h2><button type="button" class="ghost toc-trigger-mobile" aria-controls="toc-entries" aria-expanded="false">Table of contents</button></header><ul id="toc-entries"><li><a href="#vue_densemble">Vue d'ensemble</a></li><li><a href="#vue_densemble_de_la_structure_de_test">Vue d'ensemble de la structure de test</a></li><li><a href="#comment_lancer_les_tests">Comment lancer les tests</a></li><li><a href="#tests_de_locallibrary">Tests de LocalLibrary</a></li><li><a href="#autres_outils_de_test_recommand√©s">Autres outils de test recommand√©s</a></li><li><a href="#d√©fi">D√©fi</a></li><li><a href="#r√©sum√©">R√©sum√©</a></li><li><a href="#voir_aussi">Voir aussi</a></li><li><a href="#dans_ce_module">Dans ce module</a></li></ul></section></aside><main id="content" class="main-content" role="main"><article class="main-page-content" lang="fr"><h1>Django Tutorial Part 10: Testing a Django web application</h1><div><ul class="prev-next">
    <li><a class="button minimal" href="/fr/docs/Learn/Server-side/Django/Forms"> Pr√©c√©dent </a></li>
    <li><a class="button minimal" href="/fr/docs/Learn/Server-side/Django"> Aper√ßu&nbsp;: Django</a></li>
    <li><a class="button minimal only-in-en-us" href="/en-US/docs/Learn/Server-side/Django/Deployment" title="Currently only available in English (US)"> Suivant   (en-US)</a></li>
</ul>
<p>Quant un site web grandit, il devient plus difficile √† tester manuellement. Non seulement il y a plus de choses √† tester, mais encore, comme les interactions entres ses composants deviennent plus complexes, un l√©ger changement dans une partie de l'application peut affecter les autres parties, si bien qu'il va √™tre n√©cessaire de faire beaucoup de modifications pour s'assurer que tout continue de fonctionner, et qu'aucune erreur ne sera introduite quand il y aura encore plus de modifications. Une fa√ßon de limiter ces probl√®mes est d'√©crire des tests automatiques qui puissent √™tre lanc√©s d'une mani√®re simple et fiable √† chaque fois que vous faites une modification. Ce tutoriel montre comment automatiser des <em>tests unitaires</em> sur votre site web en utilisant le framework de tests de Django.</p>
<table class="standard-table">
  <tbody>
    <tr>
      <th scope="row">Pr√©requis:</th>
      <td>
        Avoir termin√© tous les tutoriels pr√©c√©dents, y compris
        <a href="/fr/docs/Learn/Server-side/Django/Forms">Django Tutorial Part 9: Working with forms</a>.
      </td>
    </tr>
    <tr>
      <th scope="row">Objectif:</th>
      <td>
        Comprendre comment √©crire des tests unitaires pour des sites web bas√©s
        sur Django.
      </td>
    </tr>
  </tbody>
</table></div><h2 id="vue_densemble"><a href="#vue_densemble" title="Permalink to Vue d'ensemble">Vue d'ensemble</a></h2><div><p>Le site <a href="/fr/docs/Learn/Server-side/Django/Tutorial_local_library_website">Local Library</a> a actuellement des pages pour afficher des listes de tous les livres et auteurs, des pages de d√©tail pour les √©l√©ments de type <code>Book</code> et <code>Author</code>, une page pour renouveler des <code>BookInstance</code>s, et des pages pour cr√©er, mettre √† jour et effacer des √©l√©ments de type <code>Author</code> (et √©galement des enregistrements de type <code>Book</code>, si vous avez relev√© le <em>d√©fi</em> dans le <a href="/fr/docs/Learn/Server-side/Django/Forms">tutoriel sur les formulaires</a>). M√™me avec ce site relativement petit, naviguer manuellement vers chaque page et v√©rifier <em>superficiellement</em> que tout fonctionne comme pr√©vu peut prendre plusieurs minutes. Quand nous allons faire des modifications et agrandir le site, le temps requis pour v√©rifier manuellement que tout fonctionne "proprement" va grandir. Si nous continuons comme cela, nous allons s√ªrement passer beaucoup de temps √† tester notre code, et peu √† l'am√©liorer.</p>
<p>Les tests automatiques peuvent vraiment nous aider √† r√©gler ce probl√®me. Les avantages √©vidents sont qu'ils peuvent √™tre lanc√©s bien rapidement que des tests manuels, peuvent r√©aliser des tests √† un niveau bien plus bas de d√©tail, et tester exactement les m√™mes fonctionnalit√©s √† chaque fois (des testeurs humains sont loin d'√™tre aussi fiables !). Parce qu'ils sont rapides, les tests automatis√©s peuvent √™tre ex√©cut√©s plus r√©guli√®rement, et si un test √©choue, ils pointent exactement vers la partie du code qui n'a pas fonctionn√© comme pr√©vu.</p>
<p>De plus, les tests automatis√©s peuvent se comporter comme le premier "utilisateur" de votre code dans le monde r√©el, vous obligeant √† √™tre rigoureux quand vous d√©finissez et documentez la mani√®re dont votre site doit se comporter. Souvent ils constituent une base pour vos exemples et votre documentation. Pour ces raisons, il existe des processus de d√©veloppement de logiciels qui commencent par la d√©finition et l'impl√©mentation de tests, et ce n'est qu'apr√®s que le code est √©crit pour atteindre le comportement attendu (par ex. le d√©veloppement <a href="https://en.wikipedia.org/wiki/Test-driven_development" class="external" rel=" noopener">test-driven</a> et le d√©veloppement <a href="https://en.wikipedia.org/wiki/Behavior-driven_development" class="external" rel=" noopener">behaviour-driven</a>).</p>
<p>Ce tutoriel montre comment √©crire des tests automatis√©s pour Django, en ajoutant un certain nombre de tests au site web <em>LocalLibrary</em>.</p></div><h3 id="cat√©gories_de_tests"><a href="#cat√©gories_de_tests" title="Permalink to Cat√©gories de tests">Cat√©gories de tests</a></h3><div><p>Il y a beaucoup de genres, de niveaux et de classifications de tests, ainsi que de mani√®res de tester. Les tests automatis√©s les plus importants sont:</p>
<dl>
  <dt id="les_tests_unitaires">Les tests unitaires</dt>
  <dd>
    <p>Ils v√©rifient le comportement fonctionnel de composants individuels, souvent au niveau des classes et des fonctions.</p>
  </dd>
  <dt id="les_tests_de_r√©gression">Les tests de r√©gression</dt>
  <dd>
    <p>Ce sont des tests qui reproduisent des bugs historiques. Chaque test a √©t√© lanc√© originellement pour v√©rifier que le bug a √©t√© r√©solu, et on le relance ensuite pour s'assurer qu'il n'a pas √©t√© r√©-introduit suite aux changements de code.</p>
  </dd>
  <dt id="les_test_dint√©gration">Les test d'int√©gration</dt>
  <dd>
    <p>Ils v√©rifient comment les groupes de composants fonctionnent quand ils sont utilis√©s ensemble. Les tests d'int√©graion sont attentifs aux interactions souhait√©es entre composants, mais pas n√©cessairement aux op√©rations internes de chaque composant. Ils peuvent couvrir des groupes simples de composants √† travers tout le site.</p>
  </dd>
</dl>
<div class="notecard note" id="sect1">
  <p><strong>Note :</strong> Les autres genres habituels de tests comprennent : la bo√Æte noire, la bo√Æte blanche, les tests manuels, automatiques, de canari (canary), de fum√©e (smoke), de conformit√© (conformance), d'approbation (acceptance), fonctionnels, syst√®me, performance, chargement et stress. Consultez pour plus d'information sur chacun d'eux.</p>
</div></div><h3 id="que_fournit_django_pour_tester_"><a href="#que_fournit_django_pour_tester_" title="Permalink to Que fournit Django pour tester ?">Que fournit Django pour tester ?</a></h3><div><p>Tester un site web est une t√¢che complexe, car c'est une op√©ration qui comporte plusieurs couches de logique : depuis la couche HTTP, la gestion des requ√™tes, les mod√®les d'interrogation de bases de donn√©es, jusqu'√† la validation des formulaires, leur traitement et le rendu des templates.</p>
<p>Django fournit un framework de test avec une petite hi√©rarchie de classes construites sur la librairie standard de Python <a href="https://docs.python.org/3/library/unittest.html#module-unittest" class="external" rel=" noopener"><code>unittest</code></a>. Malgr√© son nom, ce framework de test est utilisable pour les tests unitaires aussi bien que pour les tests d'int√©gration. Le framework Django ajoute les m√©thodes et les outils d'une API pour aider √† tester un site web et les comportements sp√©cifiques √† Django. Ces m√©thodes vous permettent de simuler des requ√™tes, d'ins√©rer des donn√©es de test et d'inspecter la sortie de votre application. Django fournit aussi une API (<a href="https://docs.djangoproject.com/en/2.1/topics/testing/tools/#liveservertestcase" class="external" rel=" noopener">LiveServerTestCase</a>) et des outils pour <a href="https://docs.djangoproject.com/en/2.1/topics/testing/advanced/#other-testing-frameworks" class="external" rel=" noopener">utiliser d'autres frameworks de test</a>. Par exemple vous pouvez int√©grer le c√©l√®bre framework <a href="/en-US/docs/Learn/Tools_and_testing/Cross_browser_testing/Your_own_automation_environment" class="only-in-en-us" title="Currently only available in English (US)">Selenium (en-US)</a> pour simuler l'interaction entre un utilisateur et un vrai navigateur.</p>
<p>Pour √©crire un test, vous partez de l'une des classes de test de base fournies par Django (ou par <em>unittest</em>) (<a href="https://docs.djangoproject.com/en/2.1/topics/testing/tools/#simpletestcase" class="external" rel=" noopener">SimpleTestCase</a>, <a href="https://docs.djangoproject.com/en/2.1/topics/testing/tools/#transactiontestcase" class="external" rel=" noopener">TransactionTestCase</a>, <a href="https://docs.djangoproject.com/en/2.1/topics/testing/tools/#testcase" class="external" rel=" noopener">TestCase</a>, <a href="https://docs.djangoproject.com/en/2.1/topics/testing/tools/#liveservertestcase" class="external" rel=" noopener">LiveServerTestCase</a>), et ensuite vous √©crivez des m√©thodes s√©par√©es pour v√©rifier que telle fonctionnalit√© se comporte comme pr√©vu (les tests utilisent des m√©thodes "assert" pour v√©rifier qu'une expression retourne <code>True</code> ou <code>False</code>, ou que deux valeurs sont √©gales, etc.). Quant vous commencez √† lancer un test, le framework ex√©cute les m√©thodes de test √©crites dans vos classes d√©riv√©es. Les m√©thodes de test sont lanc√©es de mani√®re ind√©pendante, avec en commun un r√©glage initial (<em>setUp</em>) et/ou un comportement de fin (<em>tearDown</em>) d√©finis dans la classe, comme indiqu√© ci-dessous.</p>
<div class="code-example"><pre class="brush: python notranslate"><code><span class="token keyword">class</span> <span class="token class-name">YourTestClass</span><span class="token punctuation">(</span>TestCase<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">setUp</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># Setup run before every test method.</span>
        <span class="token keyword">pass</span>

    <span class="token keyword">def</span> <span class="token function">tearDown</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># Clean up run after every test method.</span>
        <span class="token keyword">pass</span>

    <span class="token keyword">def</span> <span class="token function">test_something_that_will_pass</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>assertFalse<span class="token punctuation">(</span><span class="token boolean">False</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">test_something_that_will_fail</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>assertTrue<span class="token punctuation">(</span><span class="token boolean">False</span><span class="token punctuation">)</span>
</code></pre></div>
<p>La meilleure classe de base pour la plupart des tests est <a href="https://docs.djangoproject.com/en/2.1/topics/testing/tools/#testcase" class="external" rel=" noopener">django.test.TestCase</a>. Cette classe de test cr√©e une base de donn√©es vide avant que ses tests ne soient lanc√©s, et lance toutes les fonctions de test dans sa propre transaction. La classe poss√®de aussi un <a href="https://docs.djangoproject.com/en/2.1/topics/testing/tools/#django.test.Client" class="external" rel=" noopener">Client</a> de test, que vous pouvez utiliser pour simuler l'interaction entre un utilisateur et le code au niveau de la vue. Dans les sections suivantes, nous allons nous concentrer sur les tests unitaires, cr√©√©s en utilisant la classe de base <a href="https://docs.djangoproject.com/en/2.1/topics/testing/tools/#testcase" class="external" rel=" noopener">TestCase</a>.</p>
<div class="notecard note" id="sect2">
  <p><strong>Note :</strong> La classe <a href="https://docs.djangoproject.com/en/2.1/topics/testing/tools/#testcase" class="external" rel=" noopener">django.test.TestCase</a> est tr√®s commode, mais peut avoir pour effet de ralentir certains tests plus que n√©cessaire (tous les tests n'ont pas besoin de cr√©er leur propre base de donn√©es ni de simuler une interaction au niveau de la vue). Une fois que vous serez familiaris√© avec ce que vous pouvez faire avec cette classe, vous voudrez sans doute remplacer certains de vos tests avec d'autres classes plus simples parmi celles qui sont disponibles.</p>
</div></div><h3 id="que_faut-il_tester_"><a href="#que_faut-il_tester_" title="Permalink to Que faut-il tester ?">Que faut-il tester ?</a></h3><div><p>Vous pouvez tester tous les aspects de votre code, mais non les librairies ou fonctionnalit√©s faisant partie de Python ou de Django.</p>
<p>Ainsi par exemple, consid√©rez le mod√®le <code>Author</code> d√©fini ci-dessous. Vous n'avez pas besoin de tester explicitement que <code>first_name</code> et <code>last_name</code> ont √©t√© stock√©s correctement comme <code>CharField</code> dans la base de donn√©es, car c'est l√† quelque chose de d√©fini par Django (cependant, bien s√ªr, vous allez in√©vitablement tester cette fonctionnalit√© pendant le d√©veloppement). Vous n'avez pas non plus besoin de tester que <code>date_of_birth</code> a √©t√© valid√© comme champ date, car, encore une fois, cela est impl√©ment√© par Django.</p>
<p>En revanche, vous pouvez tester que les textes utilis√©s pour les labels (<em>First name, Last name, Date of birth, Died</em>), ainsi que le respect de la taille allou√©e au champ texte (100 caract√®res), car c'est l√† une partie de votre propre design et quelque chose qui pourrait √™tre cass√©/modifi√© dans le futur.</p>
<div class="code-example"><pre class="brush: python notranslate"><code><span class="token keyword">class</span> <span class="token class-name">Author</span><span class="token punctuation">(</span>models<span class="token punctuation">.</span>Model<span class="token punctuation">)</span><span class="token punctuation">:</span>
    first_name <span class="token operator">=</span> models<span class="token punctuation">.</span>CharField<span class="token punctuation">(</span>max_length<span class="token operator">=</span><span class="token number">100</span><span class="token punctuation">)</span>
    last_name <span class="token operator">=</span> models<span class="token punctuation">.</span>CharField<span class="token punctuation">(</span>max_length<span class="token operator">=</span><span class="token number">100</span><span class="token punctuation">)</span>
    date_of_birth <span class="token operator">=</span> models<span class="token punctuation">.</span>DateField<span class="token punctuation">(</span>null<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> blank<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
    date_of_death <span class="token operator">=</span> models<span class="token punctuation">.</span>DateField<span class="token punctuation">(</span><span class="token string">'Died'</span><span class="token punctuation">,</span> null<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> blank<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">get_absolute_url</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> reverse<span class="token punctuation">(</span><span class="token string">'author-detail'</span><span class="token punctuation">,</span> args<span class="token operator">=</span><span class="token punctuation">[</span><span class="token builtin">str</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span><span class="token builtin">id</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">__str__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token string">'%s, %s'</span> <span class="token operator">%</span> <span class="token punctuation">(</span>self<span class="token punctuation">.</span>last_name<span class="token punctuation">,</span> self<span class="token punctuation">.</span>first_name<span class="token punctuation">)</span>
</code></pre></div>
<p>De m√™me, vous pouvez tester que les m√©thodes personnalis√©es <code>get_absolute_url()</code> et <code>__str__()</code> se comportent comme pr√©vu, car elles appartiennent √† votre logique code/m√©tier. Dans le cas de <code>get_absolute_url()</code>, vous pouvez supposer que la m√©thode Django <code>reverse()</code> a √©t√© impl√©ment√©e correctement, aussi ce que vous allez tester, c'est que la vue associ√©e a √©t√© effectivement d√©finie.</p>
<div class="notecard note" id="sect3">
  <p><strong>Note :</strong> Les lecteurs attentifs auront not√© que nous pourrions aussi vouloir limiter les dates de naissance et de d√©c√®s √† des valeurs sensibles, et v√©rifier que le d√©c√®s intervient apr√®s la naissance. En Django, cette contrainte est ajout√©e √† vos classes de formulaires (bien que vous puissiez d√©finir des validateurs pour les champs du mod√®le et des validateurs de mod√®les, ceux-ci ne sont utilis√©s qu'au niveau du formulaire s'ils sont appel√©s par la m√©thode clean() du mod√®le. Cela requi√®re un ModelForm ou bien la m√©thode clean() du mod√®le a besoin d'√™tre appel√©e explicitement.)</p>
</div>
<p>Avec cela en t√™te, commen√ßons √† voir comment d√©finir et lancer des tests.</p></div><h2 id="vue_densemble_de_la_structure_de_test"><a href="#vue_densemble_de_la_structure_de_test" title="Permalink to Vue d'ensemble de la structure de test">Vue d'ensemble de la structure de test</a></h2><div><p>Avant d'entrer dans le d√©tail de "que tester", voyons d'abord bri√®vement <em>o√π</em> et <em>comment</em> les tests sont d√©finis.</p>
<p>Django utilise le <a href="https://docs.python.org/3/library/unittest.html#unittest-test-discovery" class="external" rel=" noopener">built-in test discovery</a> du module unittest, qui va chercher des tests, sous le r√©pertoire de travail actuel, dans tous les fichiers dont le nom contient le pattern <strong>test.py</strong>. Du moment que vous nommez vos fichiers de mani√®re appropri√©e, vous pouvez utiliser n'importe quelle structure. Nous vous recommandons de cr√©er un module pour coder vos tests, et d'avoir des fichiers distincts pour les mod√®les, les vues, les formulaires et tout autre type de code que vous avez besoin de tester. Par exemple :</p>
<pre class="notranslate">catalog/
  /tests/
    __init__.py
    test_models.py
    test_forms.py
    test_views.py
</pre>
<p>Cr√©ez une structure de fichier comme montr√© ci-dessus, dans votre projet <em>LocalLibrary</em>. Le ficheir <strong>__init__.py</strong> doit √™tre vide (il dit simplement √† Python que ce r√©pertoire est un package). Vous pouvez cr√©er les trois fichiers de test en copiant et renommant le fichier de test du squelette <strong>/catalog/tests.py</strong>.</p>
<div class="notecard note" id="sect4">
  <p><strong>Note :</strong> le fichier de test du squelette <strong>/catalog/tests.py</strong> a √©t√© cr√©√© automatiquement quand nous avons <a href="/fr/docs/Learn/Server-side/Django/skeleton_website">construit le squelette du site web Django</a>. Il est parfaitement "l√©gal" de mettre tous vos tests dedans, mais si vous testez correctement, vous allez rapidement vous retrouver avec un fichier de test √©norme et impossible √† g√©rer.</p>
  <p>Supprimez le fichier de squelette, car nous n'en aurons plus besoin.</p>
</div>
<p>Ouvrez le fichier <strong>/catalog/tests/test_models.py</strong>. Ce fichier doit importer <code>django.test.TestCase</code>, comme indiqu√© ci-apr√®s :</p>
<p>Open <strong>/catalog/tests/test_models.py</strong>. The file should import <code>django.test.TestCase</code>, as shown:</p>
<div class="code-example"><pre class="brush: python notranslate"><code><span class="token keyword">from</span> django<span class="token punctuation">.</span>test <span class="token keyword">import</span> TestCase

<span class="token comment"># Create your tests here.</span>
</code></pre></div>
<p>Souvent vous voudrez ajouter une classe de test pour chaque mod√®le/vue/form que vous voulez tester, avec des m√©thodes individuelles pour tester une fonctionnalit√© sp√©cifique. Dans d'autres cas vous pourriez souhaiter avoir une class s√©par√©e pour tester un cas d'utilisation sp√©cifique, avec des fonctions de test individuelles pour tester les aspects de ce cas d'utilisation (par exemple, une classe pour tester que tel champ d'un mod√®le est valid√© correctement, avec des fonctions pour tester chaque possibilit√© d'√©chec). Encore une fois, c'est √† vous de d√©cider de la structure √† adopter, mais elle sera meilleure si vous √™tes coh√©rent.</p>
<p>Ajoutez la classe de test ci-dessous √† la fin du fichier. La classe montre comment construire une classe de test de cas d√©rivant de <code>TestCase</code>.</p>
<div class="code-example"><pre class="brush: python notranslate"><code><span class="token keyword">class</span> <span class="token class-name">YourTestClass</span><span class="token punctuation">(</span>TestCase<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token decorator annotation punctuation">@classmethod</span>
    <span class="token keyword">def</span> <span class="token function">setUpTestData</span><span class="token punctuation">(</span>cls<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"setUpTestData: Run once to set up non-modified data for all class methods."</span><span class="token punctuation">)</span>
        <span class="token keyword">pass</span>

    <span class="token keyword">def</span> <span class="token function">setUp</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"setUp: Run once for every test method to setup clean data."</span><span class="token punctuation">)</span>
        <span class="token keyword">pass</span>

    <span class="token keyword">def</span> <span class="token function">test_false_is_false</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Method: test_false_is_false."</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>assertFalse<span class="token punctuation">(</span><span class="token boolean">False</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">test_false_is_true</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Method: test_false_is_true."</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>assertTrue<span class="token punctuation">(</span><span class="token boolean">False</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">test_one_plus_one_equals_two</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Method: test_one_plus_one_equals_two."</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>assertEqual<span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
</code></pre></div>
<p>La nouvelle classe d√©finit deux m√©thodes que vous pouvez utiliser pour une configuration pr√©-test (par exemple, pour cr√©er des mod√®les ou d'autres objets dont vous aurez besoin pour les tests) :</p>
<ul>
  <li><code>setUpTestData()</code> est appel√©e une fois au d√©but du lancement des tests pour un r√©glage au niveau de la classe. Vous pouvez l'utiliser pour cr√©er des objets qui ne sont pas destin√©s √† √™tre modifi√©s ou chang√©s dans les m√©thodes de test.</li>
  <li><code>setUp()</code> est appel√©e avant chaque fonction de test pour d√©finir des objets qui peuvent √™tre modifi√©s par le test (chaque fonction de test obtiendra une version "fra√Æche" de ces objets).</li>
</ul>
<div class="notecard note" id="sect5">
  <p><strong>Note :</strong> Les classes de test ont aussi une m√©thode <code>tearDown()</code>, que nous n'avons pas utilis√©e. Cette m√©thode n'est pas particuli√®rement utile pour les tests avec bases de donn√©es, dans la mesure o√π la classe de base <code>TestCase</code> prend soin pour vous de supprimer la base de donn√©es utilis√©es pour les tests.</p>
</div>
<p>En dessous de ces m√©thodes, nous avons un certain nombre de m√©thodes de test, qui utilisent des fonctions <code>Assert</code>, pour tester si certaines conditions sont vraies, fausses ou √©gales (<code>AssertTrue</code>, <code>AssertFalse</code>, <code>AssertEqual</code>). Si la condition ne renvoie pas le r√©sultat escompt√©, le test plante et renvoie une erreur √† votre console.</p>
<p>Les m√©thodes <code>AssertTrue</code>, <code>AssertFalse</code> et <code>AssertEqual</code> sont des assertions standard fournies par <strong>unittest</strong>. Il y a d'autres assertions standard dans le framework, et aussi des <a href="https://docs.djangoproject.com/en/2.1/topics/testing/tools/#assertions" class="external" rel=" noopener">assertions sp√©cifiques √† Django</a>, pour tester si une vue redirige (<code>assertRedirects</code>), pour tester si tel template a √©t√© utilis√© (<code>assertTemplateUsed</code>), etc.</p>
<div class="notecard note" id="sect6">
  <p><strong>Note :</strong> Normallement vous ne devriez <strong>pas</strong> inclure de fonctions <strong>print()</strong> dans vos tests, comme montr√© ci-dessus. Nous avons fait cela uniquement pour que vous puissiez voir dans la console (dans la section suivante) l'ordre dans lequel les fonctions de setup sont appel√©es.</p>
</div></div><h2 id="comment_lancer_les_tests"><a href="#comment_lancer_les_tests" title="Permalink to Comment lancer les tests">Comment lancer les tests</a></h2><div><p>La mani√®re la plus facile pour lancer tous les tests est d'utiliser la commande :</p>
<div class="code-example"><pre class="brush: bash notranslate"><code>python3 manage.py <span class="token builtin class-name">test</span>
</code></pre></div>
<p>Cette commande va lancer la recherche de tous les fichiers ayant la forme <strong>test.py</strong> sous le r√©pertoire courant, et lancer tous les tests d√©finis, en utilisant les classes de base appropri√©es (ici nous avons un certain nombre de fichiers de test, mais pour le moment seul <strong>/catalog/tests/test_models.py</strong> contient des tests). Par d√©faut, chaque test ne fera de rapport qu'en cas d'√©chec, avec ensuite un r√©sum√© du test.</p>
<div class="notecard note" id="sect7">
  <p><strong>Note :</strong> Si vous obtenez des erreurs telles que : <code>ValueError: Missing staticfiles manifest entry ...</code>, cela peut √™tre d√ª au fait que le test ne lance pas <em>collectstatic</em> par d√©faut, et que votre application utilise une classe de storage qui le requiert (voyez <a href="https://docs.djangoproject.com/en/2.1/ref/contrib/staticfiles/#django.contrib.staticfiles.storage.ManifestStaticFilesStorage.manifest_strict" class="external" rel=" noopener">manifest_strict</a> pour plus d'information). Il y a plusieurs fa√ßons de rem√©dier √† ce probl√®me - la plus facile est de lancer tout simplement <em>collectstatic</em> avant de lancer les tests :</p>
  <div class="code-example"><pre class="brush: bash notranslate"><code>python3 manage.py collectstatic
</code></pre></div>
</div>
<p>Lancez les tests dans le r√©pertoire racine de <em>LocalLibrary</em>. Vous devriez voir une sortie semblable √† celle ci-dessous.</p>
<div class="code-example"><pre class="brush: bash notranslate"><code><span class="token operator">&gt;</span> python3 manage.py <span class="token builtin class-name">test</span>

Creating <span class="token builtin class-name">test</span> database <span class="token keyword">for</span> <span class="token builtin class-name">alias</span> <span class="token string">'default'</span><span class="token punctuation">..</span>.
setUpTestData: Run once to <span class="token builtin class-name">set</span> up non-modified data <span class="token keyword">for</span> all class methods.
setUp: Run once <span class="token keyword">for</span> every <span class="token builtin class-name">test</span> method to setup clean data.
Method: test_false_is_false.
setUp: Run once <span class="token keyword">for</span> every <span class="token builtin class-name">test</span> method to setup clean data.
Method: test_false_is_true.
setUp: Run once <span class="token keyword">for</span> every <span class="token builtin class-name">test</span> method to setup clean data.
Method: test_one_plus_one_equals_two.
<span class="token builtin class-name">.</span>
<span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span>
FAIL: test_false_is_true <span class="token punctuation">(</span>catalog.tests.tests_models.YourTestClass<span class="token punctuation">)</span>
----------------------------------------------------------------------
Traceback <span class="token punctuation">(</span>most recent call last<span class="token punctuation">)</span>:
  File <span class="token string">"D:\Github\django_tmp\library_w_t_2\locallibrary<span class="token entity" title="\c">\c</span>atalog<span class="token entity" title="\t">\t</span>ests<span class="token entity" title="\t">\t</span>ests_models.py"</span>, line <span class="token number">22</span>, <span class="token keyword">in</span> test_false_is_true
    self.assertTrue<span class="token punctuation">(</span>False<span class="token punctuation">)</span>
AssertionError: False is not <span class="token boolean">true</span>

----------------------------------------------------------------------

Ran <span class="token number">3</span> tests <span class="token keyword">in</span> <span class="token number">0</span>.075s

FAILED <span class="token punctuation">(</span>failures<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span>
Destroying <span class="token builtin class-name">test</span> database <span class="token keyword">for</span> <span class="token builtin class-name">alias</span> <span class="token string">'default'</span><span class="token punctuation">..</span>.
</code></pre></div>
<p>Ici nous voyons que nous avons eu un √©chec pour un test, et nous pouvons voir exactement quelle fonction a plant√© et pourquoi (cet √©chec √©tait pr√©vu, car <code>False</code> n'est pas <code>True</code> !).</p>
<div class="notecard note" id="sect8">
  <p><strong>Note :</strong> La chose la plus importante √† apprendre de la sortie de test ci-dessus est qu'il est bien mieux d'utiliser des noms descriptifs/informatifs pour vos objets et m√©thodes.</p>
</div>
<p>Le texte en <strong>gras</strong> ci-dessus n'appara√Ætra pas normalement dans la sortie de test (elle est g√©n√©r√©e par les fonctions <code>print()</code> dans nos tests). Cela montre comment la m√©thode <code>setUpTestData()</code> est appel√©e une fois pour l'ensemble de classe, tandis que <code>setUp()</code> est appel√©e avant chaque m√©thode.</p>
<p>La section suivante mnotre comment vous pouvez lancer des test sp√©cifiques, et comment contr√¥ler la quantit√© d'information fournie par les tests.</p></div><h3 id="montrer_plus_dinformations_√†_propos_du_test"><a href="#montrer_plus_dinformations_√†_propos_du_test" title="Permalink to Montrer plus d'informations √† propos du test">Montrer plus d'informations √† propos du test</a></h3><div><p>Si vous souhaitez obtenir plus d'informations √† propos du test lanc√©, vous pouvez changer sa <em>verbosit√©</em>. Par exemple, pour faire la liste de ce qui a fonctionn√© dans le test, comme de ce qui a √©chou√© (ainsi que tout un tas d'informations sur la mani√®re dont la base de donn√©es √† √©t√© initialis√©e), vous pouvez mettre la verbosit√© √† "2", comme indiqu√© ci-dessous :</p>
<div class="code-example"><pre class="brush: bash notranslate"><code>python3 manage.py <span class="token builtin class-name">test</span> --verbosity <span class="token number">2</span>
</code></pre></div>
<p>Les niveaux de verbosit√© sont 0, 1, 2 et 3, avec "1" comme valeur par d√©faut.</p></div><h3 id="lancer_des_tests_sp√©cifiques"><a href="#lancer_des_tests_sp√©cifiques" title="Permalink to Lancer des tests sp√©cifiques">Lancer des tests sp√©cifiques</a></h3><div><p>Si vous voulez lancer une sous-s√©lection parmi vos tests, vous pouvez le faire en sp√©cifiant le chemin complet (avec des points) vers le ou les package(s), module, sous-classe de <code>TestCase</code> ou m√©thode :</p>
<div class="code-example"><pre class="brush: bash notranslate"><code><span class="token comment"># Run the specified module</span>
python3 manage.py <span class="token builtin class-name">test</span> catalog.tests

<span class="token comment"># Run the specified module</span>
python3 manage.py <span class="token builtin class-name">test</span> catalog.tests.test_models

<span class="token comment"># Run the specified class</span>
python3 manage.py <span class="token builtin class-name">test</span> catalog.tests.test_models.YourTestClass

<span class="token comment"># Run the specified method</span>
python3 manage.py <span class="token builtin class-name">test</span> catalog.tests.test_models.YourTestClass.test_one_plus_one_equals_two
</code></pre></div></div><h2 id="tests_de_locallibrary"><a href="#tests_de_locallibrary" title="Permalink to Tests de LocalLibrary">Tests de LocalLibrary</a></h2><div><p>Maintenant que nous savons comment lancer nos tests et quel genre de choses nous avons besoin de tester, regardons quelques exemples pratiques.</p>
<div class="notecard note" id="sect9">
  <p><strong>Note :</strong> Nous n'allons pas √©crire tous les tests possibles, mais ce qui suit devrait vous donner une id√©e sur le fonctionnement des tests, et ce que vous pouvez faire ensuite.</p>
</div></div><h3 id="mod√®les"><a href="#mod√®les" title="Permalink to Mod√®les">Mod√®les</a></h3><div><p>Comme nous l'avons dit ci-dessus, nous devrions tester tout ce qui rel√®ve de notre design, ou tout ce qui est d√©fini par du code que nous avons √©crit nous-m√™mes, mais pas les biblioth√®ques ou le code qui est d√©j√† test√© par Django ou par l'√©quipe qui d√©veloppe Python.</p>
<p>Par exemple, consid√©rez le mod√®le <code>Author</code> ci-dessous. Ici nous devrions tester les labels de tous les champs, car, bien que nous n'ayons pas explicitement sp√©cifi√© la plupart d'entre eux, nous avons un design qui dit ce que ces valeurs devraient √™tre. Si nous ne testons pas ces valeurs, nous ne savons pas que les labels des champs ont les valeurs souhait√©es. De m√™me, alors que nous sommes tranquilles sur le fait que Django cr√©era un champ de la longueur indiqu√©e, il est int√©ressant de lancer un test sp√©cifique pour s'assurer qu'il a √©t√© impl√©ment√© comme pr√©vu.</p>
<div class="code-example"><pre class="brush: python notranslate"><code><span class="token keyword">class</span> <span class="token class-name">Author</span><span class="token punctuation">(</span>models<span class="token punctuation">.</span>Model<span class="token punctuation">)</span><span class="token punctuation">:</span>
    first_name <span class="token operator">=</span> models<span class="token punctuation">.</span>CharField<span class="token punctuation">(</span>max_length<span class="token operator">=</span><span class="token number">100</span><span class="token punctuation">)</span>
    last_name <span class="token operator">=</span> models<span class="token punctuation">.</span>CharField<span class="token punctuation">(</span>max_length<span class="token operator">=</span><span class="token number">100</span><span class="token punctuation">)</span>
    date_of_birth <span class="token operator">=</span> models<span class="token punctuation">.</span>DateField<span class="token punctuation">(</span>null<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> blank<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
    date_of_death <span class="token operator">=</span> models<span class="token punctuation">.</span>DateField<span class="token punctuation">(</span><span class="token string">'Died'</span><span class="token punctuation">,</span> null<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> blank<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">get_absolute_url</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> reverse<span class="token punctuation">(</span><span class="token string">'author-detail'</span><span class="token punctuation">,</span> args<span class="token operator">=</span><span class="token punctuation">[</span><span class="token builtin">str</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span><span class="token builtin">id</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">__str__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token string-interpolation"><span class="token string">f'</span><span class="token interpolation"><span class="token punctuation">{</span>self<span class="token punctuation">.</span>last_name<span class="token punctuation">}</span></span><span class="token string">, </span><span class="token interpolation"><span class="token punctuation">{</span>self<span class="token punctuation">.</span>first_name<span class="token punctuation">}</span></span><span class="token string">'</span></span>
</code></pre></div>
<p>Ouvrez notre <strong>/catalog/tests/test_models.py</strong>, et remplacez tout le code qui s'y trouve par le code de test ci-apr√®s pour le mod√®le <code>Author</code>.</p>
<p>Vous voyez que nous importons d'abord <code>TestCase</code> et faisons d√©river d'elle notre classe de test (<code>AuthorModelTest</code>) en utilisant un nom descriptif, de fa√ßon √† pouvoir identifier ais√©ment dans la sortie tout test qui √©choue. Nous appelons ensuite <code>setUpTestData()</code> afin de cr√©er un objet <em>author</em>, que nous utiliserons mais que nous ne modifierons jamais dans aucun de nos tests.</p>
<div class="code-example"><pre class="brush: python notranslate"><code><span class="token keyword">from</span> django<span class="token punctuation">.</span>test <span class="token keyword">import</span> TestCase

<span class="token keyword">from</span> catalog<span class="token punctuation">.</span>models <span class="token keyword">import</span> Author

<span class="token keyword">class</span> <span class="token class-name">AuthorModelTest</span><span class="token punctuation">(</span>TestCase<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token decorator annotation punctuation">@classmethod</span>
    <span class="token keyword">def</span> <span class="token function">setUpTestData</span><span class="token punctuation">(</span>cls<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># Set up non-modified objects used by all test methods</span>
        Author<span class="token punctuation">.</span>objects<span class="token punctuation">.</span>create<span class="token punctuation">(</span>first_name<span class="token operator">=</span><span class="token string">'Big'</span><span class="token punctuation">,</span> last_name<span class="token operator">=</span><span class="token string">'Bob'</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">test_first_name_label</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        author <span class="token operator">=</span> Author<span class="token punctuation">.</span>objects<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token builtin">id</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span>
        field_label <span class="token operator">=</span> author<span class="token punctuation">.</span>_meta<span class="token punctuation">.</span>get_field<span class="token punctuation">(</span><span class="token string">'first_name'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>verbose_name
        self<span class="token punctuation">.</span>assertEquals<span class="token punctuation">(</span>field_label<span class="token punctuation">,</span> <span class="token string">'first name'</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">test_date_of_death_label</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        author<span class="token operator">=</span>Author<span class="token punctuation">.</span>objects<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token builtin">id</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span>
        field_label <span class="token operator">=</span> author<span class="token punctuation">.</span>_meta<span class="token punctuation">.</span>get_field<span class="token punctuation">(</span><span class="token string">'date_of_death'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>verbose_name
        self<span class="token punctuation">.</span>assertEquals<span class="token punctuation">(</span>field_label<span class="token punctuation">,</span> <span class="token string">'died'</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">test_first_name_max_length</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        author <span class="token operator">=</span> Author<span class="token punctuation">.</span>objects<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token builtin">id</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span>
        max_length <span class="token operator">=</span> author<span class="token punctuation">.</span>_meta<span class="token punctuation">.</span>get_field<span class="token punctuation">(</span><span class="token string">'first_name'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>max_length
        self<span class="token punctuation">.</span>assertEquals<span class="token punctuation">(</span>max_length<span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">test_object_name_is_last_name_comma_first_name</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        author <span class="token operator">=</span> Author<span class="token punctuation">.</span>objects<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token builtin">id</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span>
        expected_object_name <span class="token operator">=</span> <span class="token string-interpolation"><span class="token string">f'</span><span class="token interpolation"><span class="token punctuation">{</span>author<span class="token punctuation">.</span>last_name<span class="token punctuation">}</span></span><span class="token string">, </span><span class="token interpolation"><span class="token punctuation">{</span>author<span class="token punctuation">.</span>first_name<span class="token punctuation">}</span></span><span class="token string">'</span></span>
        self<span class="token punctuation">.</span>assertEquals<span class="token punctuation">(</span>expected_object_name<span class="token punctuation">,</span> <span class="token builtin">str</span><span class="token punctuation">(</span>author<span class="token punctuation">)</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">test_get_absolute_url</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        author <span class="token operator">=</span> Author<span class="token punctuation">.</span>objects<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token builtin">id</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span>
        <span class="token comment"># This will also fail if the urlconf is not defined.</span>
        self<span class="token punctuation">.</span>assertEquals<span class="token punctuation">(</span>author<span class="token punctuation">.</span>get_absolute_url<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'/catalog/author/1'</span><span class="token punctuation">)</span>
</code></pre></div>
<p>Les tests de champ v√©rifient que les valeurs des labels de champ (<code>verbose_name</code>) et que la taille des champs de type <em>character</em> sont tels que nous les souhaitons. Ces m√©thodes ont toutes des noms descriptifs et suivent le m√™me pattern :</p>
<div class="code-example"><pre class="brush: python notranslate"><code><span class="token comment"># Get an author object to test</span>
author <span class="token operator">=</span> Author<span class="token punctuation">.</span>objects<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token builtin">id</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span>

<span class="token comment"># Get the metadata for the required field and use it to query the required field data</span>
field_label <span class="token operator">=</span> author<span class="token punctuation">.</span>_meta<span class="token punctuation">.</span>get_field<span class="token punctuation">(</span><span class="token string">'first_name'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>verbose_name

<span class="token comment"># Compare the value to the expected result</span>
self<span class="token punctuation">.</span>assertEquals<span class="token punctuation">(</span>field_label<span class="token punctuation">,</span> <span class="token string">'first name'</span><span class="token punctuation">)</span>
</code></pre></div>
<p>Les choses int√©ressantes √† noter sont :</p>
<ul>
  <li>Nous ne pouvons obtenir le <code>verbose_name</code> directement en utilisant <code>author.first_name.verbose_name</code>, car <code>author.first_name</code> est une <em>cha√Æne</em> (non un moyen d'acc√©der √† l'objet <code>first_name</code>, que nous pourrions utiliser pour acc√©der √† ses propri√©t√©s). √Ä la place nous devons utiliser l'attribut <code>_meta</code> de author afin d'obtenir une instance de ses champs et utiliser celle-ci pour demander l'information que nous cherchons.</li>
  <li>Nous avons fait le choix d'utiliser <code>assertEquals(field_label,'first name')</code> plut√¥t que <code>assertTrue(field_label == 'first name')</code>. La raison en est que, en cas d'√©chec du test, la sortie vous dira, dans le premier cas, quel est effectivement le label du champ, ce qui rend un peu plus facile le d√©bogage du probl√®me.</li>
</ul>
<div class="notecard note" id="sect10">
  <p><strong>Note :</strong> Les tests pour les labels de <code>last_name</code> et <code>date_of_birth</code>, ainsi que le test de la longueur du champ <code>last_name</code>, ont √©t√© omis. Ajoutez vos propres versions maintenant, en suivant les conventions de nommage et les approches que nous vous avons montr√©es ci-dessus.</p>
</div>
<p>Il nous faut √©galement tester nos m√©thodes personnalis√©es. Essentiellement, celles-ci v√©rifient uniquement que le nom de l'objet a √©t√© construit comme pr√©vu, en utilisant le format "Last name", "First name", et que l'URL que nous obtenons pour un √©l√©ment <code>Author</code> est telle que nous l'attendons.</p>
<div class="code-example"><pre class="brush: python notranslate"><code><span class="token keyword">def</span> <span class="token function">test_object_name_is_last_name_comma_first_name</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
    author <span class="token operator">=</span> Author<span class="token punctuation">.</span>objects<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token builtin">id</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span>
    expected_object_name <span class="token operator">=</span> <span class="token string-interpolation"><span class="token string">f'</span><span class="token interpolation"><span class="token punctuation">{</span>author<span class="token punctuation">.</span>last_name<span class="token punctuation">}</span></span><span class="token string">, </span><span class="token interpolation"><span class="token punctuation">{</span>author<span class="token punctuation">.</span>first_name<span class="token punctuation">}</span></span><span class="token string">'</span></span>
    self<span class="token punctuation">.</span>assertEquals<span class="token punctuation">(</span>expected_object_name<span class="token punctuation">,</span> <span class="token builtin">str</span><span class="token punctuation">(</span>author<span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token keyword">def</span> <span class="token function">test_get_absolute_url</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
    author <span class="token operator">=</span> Author<span class="token punctuation">.</span>objects<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token builtin">id</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token comment"># This will also fail if the urlconf is not defined.</span>
    self<span class="token punctuation">.</span>assertEquals<span class="token punctuation">(</span>author<span class="token punctuation">.</span>get_absolute_url<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'/catalog/author/1'</span><span class="token punctuation">)</span>
</code></pre></div>
<p>Maintenant lancez les tests. Si vous avez cr√©√© le mod√®le <code>Author</code> comme d√©crit dans le tutoriel sur les mod√®les, il est assez probable que vous allez obtenir une erreur pour le label <code>date_of_death</code>, comme montr√© ci-dessous. Le test plante parce qu'il a √©t√© √©crit en s'attendant √† ce que la d√©finition du label suive cette convention de Django : ne pas mettre en capitale la premi√®re lettre du label (Django le fait pour vous).</p>
<div class="code-example"><pre class="brush: bash notranslate"><code><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span>
FAIL: test_date_of_death_label <span class="token punctuation">(</span>catalog.tests.test_models.AuthorModelTest<span class="token punctuation">)</span>
----------------------------------------------------------------------
Traceback <span class="token punctuation">(</span>most recent call last<span class="token punctuation">)</span>:
  File <span class="token string">"D:\...\locallibrary<span class="token entity" title="\c">\c</span>atalog<span class="token entity" title="\t">\t</span>ests<span class="token entity" title="\t">\t</span>est_models.py"</span>, line <span class="token number">32</span>, <span class="token keyword">in</span> test_date_of_death_label
    self.assertEquals<span class="token punctuation">(</span>field_label,<span class="token string">'died'</span><span class="token punctuation">)</span>
AssertionError: <span class="token string">'Died'</span> <span class="token operator">!=</span> <span class="token string">'died'</span>
- Died
? ^
+ died
? ^
</code></pre></div>
<p>C'est vraiment un bug mineur, mais il met en lumi√®re comment √©crire des test peut v√©rifier de plus pr√®s les hypoth√®ses que vous pourriez avoir suppos√©es vraies.</p>
<div class="notecard note" id="sect11">
  <p><strong>Note :</strong> Changez en "died" le label pour le champ date_of_death (/catalog/models.py) et relancez les tests.</p>
</div>
<p>La configuration pour tester les autres mod√®les est semblable pour tous, aussi nous n'allons pas discuter chacune plus longuement. Sentez-vous libre de cr√©er vos propres tests pour nos autres mod√®les.</p></div><h3 id="les_formulaires"><a href="#les_formulaires" title="Permalink to Les Formulaires">Les Formulaires</a></h3><div><p>La philosophie pour tester vos formulaires est la m√™me que pour tester vos mod√®les: vous avez besoin de tester tout ce que vous avez cod√© ou les sp√©cificit√©s de votre design, mais non le comportement du framework sous-jacent, ni celui des autres biblioth√®ques tierces.</p>
<p>G√©n√©ralement, cela signifie que vous devriez tester que les formulaires ont bien les champs que vous voulez, et qu'ils sont rendus avec les bons labels et textes d'aide. Vous n'avez pas besoin de v√©rifier que Django valide correctement les champs selon leurs types (√† moins que vous n'ayez cr√©√© vos propres champs personnalis√©s et leurs validations) ; c'est-√†-dire que vous n'avez pas besoin de tester qu'un champ email n'accepte que des emails. Cependant vous pouvez avoir besoin de tester toute validation compl√©mentaire que vous vous attendez √† voir r√©alis√©e sur les champs, et tout message d'erreur g√©n√©r√© par votre code.</p>
<p>Consid√©rez notre formulaire pour renouveler les livres. Il a seulement 1 champ pour la date de renouvellement, qui va avoir un label et un texte d'aide que nous avons besoin de v√©rifier.</p>
<div class="code-example"><pre class="brush: python notranslate"><code><span class="token keyword">class</span> <span class="token class-name">RenewBookForm</span><span class="token punctuation">(</span>forms<span class="token punctuation">.</span>Form<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""Form for a librarian to renew books."""</span>
    renewal_date <span class="token operator">=</span> forms<span class="token punctuation">.</span>DateField<span class="token punctuation">(</span>help_text<span class="token operator">=</span><span class="token string">"Enter a date between now and 4 weeks (default 3)."</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">clean_renewal_date</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        data <span class="token operator">=</span> self<span class="token punctuation">.</span>cleaned_data<span class="token punctuation">[</span><span class="token string">'renewal_date'</span><span class="token punctuation">]</span>

        <span class="token comment"># Check if a date is not in the past.</span>
        <span class="token keyword">if</span> data <span class="token operator">&lt;</span> datetime<span class="token punctuation">.</span>date<span class="token punctuation">.</span>today<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">raise</span> ValidationError<span class="token punctuation">(</span>_<span class="token punctuation">(</span><span class="token string">'Invalid date - renewal in past'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

        <span class="token comment"># Check if date is in the allowed range (+4 weeks from today).</span>
        <span class="token keyword">if</span> data <span class="token operator">&gt;</span> datetime<span class="token punctuation">.</span>date<span class="token punctuation">.</span>today<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> datetime<span class="token punctuation">.</span>timedelta<span class="token punctuation">(</span>weeks<span class="token operator">=</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">raise</span> ValidationError<span class="token punctuation">(</span>_<span class="token punctuation">(</span><span class="token string">'Invalid date - renewal more than 4 weeks ahead'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

        <span class="token comment"># Remember to always return the cleaned data.</span>
        <span class="token keyword">return</span> data
</code></pre></div>
<p>Ouvrez notre fichier <strong>/catalog/tests/test_forms.py</strong>, et remplacez tout le code qui s'y trouve par le code suivant, qui teste le formulaire <code>RenewBookForm</code>. Nous commen√ßons par importer notre formulaire et des biblioth√®ques Python et Django pour tester les fonctionnalit√©s li√©es au temps. Ensuite nous d√©clarons notre classe de test pour formulaire de la m√™me mani√®re que nous l'avons fait pour les mod√®les, en utilisant un nom descriptif pour notre classe de test d√©riv√©e de <code>TestCase</code>.</p>
<div class="code-example"><pre class="brush: python notranslate"><code><span class="token keyword">import</span> datetime

<span class="token keyword">from</span> django<span class="token punctuation">.</span>test <span class="token keyword">import</span> TestCase
<span class="token keyword">from</span> django<span class="token punctuation">.</span>utils <span class="token keyword">import</span> timezone

<span class="token keyword">from</span> catalog<span class="token punctuation">.</span>forms <span class="token keyword">import</span> RenewBookForm

<span class="token keyword">class</span> <span class="token class-name">RenewBookFormTest</span><span class="token punctuation">(</span>TestCase<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">test_renew_form_date_field_label</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        form <span class="token operator">=</span> RenewBookForm<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>assertTrue<span class="token punctuation">(</span>form<span class="token punctuation">.</span>fields<span class="token punctuation">[</span><span class="token string">'renewal_date'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>label <span class="token operator">==</span> <span class="token boolean">None</span> <span class="token keyword">or</span> form<span class="token punctuation">.</span>fields<span class="token punctuation">[</span><span class="token string">'renewal_date'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>label <span class="token operator">==</span> <span class="token string">'renewal date'</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">test_renew_form_date_field_help_text</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        form <span class="token operator">=</span> RenewBookForm<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>assertEqual<span class="token punctuation">(</span>form<span class="token punctuation">.</span>fields<span class="token punctuation">[</span><span class="token string">'renewal_date'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>help_text<span class="token punctuation">,</span> <span class="token string">'Enter a date between now and 4 weeks (default 3).'</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">test_renew_form_date_in_past</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        date <span class="token operator">=</span> datetime<span class="token punctuation">.</span>date<span class="token punctuation">.</span>today<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> datetime<span class="token punctuation">.</span>timedelta<span class="token punctuation">(</span>days<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span>
        form <span class="token operator">=</span> RenewBookForm<span class="token punctuation">(</span>data<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">'renewal_date'</span><span class="token punctuation">:</span> date<span class="token punctuation">}</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>assertFalse<span class="token punctuation">(</span>form<span class="token punctuation">.</span>is_valid<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">test_renew_form_date_too_far_in_future</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        date <span class="token operator">=</span> datetime<span class="token punctuation">.</span>date<span class="token punctuation">.</span>today<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> datetime<span class="token punctuation">.</span>timedelta<span class="token punctuation">(</span>weeks<span class="token operator">=</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token operator">+</span> datetime<span class="token punctuation">.</span>timedelta<span class="token punctuation">(</span>days<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span>
        form <span class="token operator">=</span> RenewBookForm<span class="token punctuation">(</span>data<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">'renewal_date'</span><span class="token punctuation">:</span> date<span class="token punctuation">}</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>assertFalse<span class="token punctuation">(</span>form<span class="token punctuation">.</span>is_valid<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">test_renew_form_date_today</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        date <span class="token operator">=</span> datetime<span class="token punctuation">.</span>date<span class="token punctuation">.</span>today<span class="token punctuation">(</span><span class="token punctuation">)</span>
        form <span class="token operator">=</span> RenewBookForm<span class="token punctuation">(</span>data<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">'renewal_date'</span><span class="token punctuation">:</span> date<span class="token punctuation">}</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>assertTrue<span class="token punctuation">(</span>form<span class="token punctuation">.</span>is_valid<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">test_renew_form_date_max</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        date <span class="token operator">=</span> timezone<span class="token punctuation">.</span>localtime<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> datetime<span class="token punctuation">.</span>timedelta<span class="token punctuation">(</span>weeks<span class="token operator">=</span><span class="token number">4</span><span class="token punctuation">)</span>
        form <span class="token operator">=</span> RenewBookForm<span class="token punctuation">(</span>data<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">'renewal_date'</span><span class="token punctuation">:</span> date<span class="token punctuation">}</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>assertTrue<span class="token punctuation">(</span>form<span class="token punctuation">.</span>is_valid<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div>
<p>Les deux premi√®res fonctions testent que le <code>label</code> et le <code>help_text</code> du champ sont tels qu'on les attend. Nous devons acc√©der au champ en utilisant le dictionnaire du champ (p. ex. <code>form.fields['renewal_date']</code>). Notez bien ici que nous devons aussi tester si la valeur du label est <code>None</code>, car m√™me si Django rend le label correct, il retournera <code>None</code> si la valeur n'est pas d√©finie <em>explicitement</em>.</p>
<p>Les autres fonctions testent que le formulaire est valide avec des dates de renouvellement situ√©es √† l'int√©rieur des limites acceptables, et invalide avec des valeurs en dehors de ces limites. Notez comment nous construisons des valeurs de dates de test autour de notre date actuelle (<code>datetime.date.today()</code>) en utilisant <code>datetime.timedelta()</code> (dans ce cas en sp√©cifiant un nombre de jours ou de semaines). Ensuite nous cr√©ons juste le formulaire en lui passant nos donn√©es, et nous testons s'il est valide.</p>
<div class="notecard note" id="sect12">
  <p><strong>Note :</strong> Ici nous n'utilisons pas r√©ellement la base de donn√©es ni le client de test. Envisagez de modifier ces tests pour utiliser <a href="https://docs.djangoproject.com/en/2.1/topics/testing/tools/#django.test.SimpleTestCase" class="external" rel=" noopener">SimpleTestCase</a>.</p>
  <p>Nous avons aussi besoin de v√©rifier que les erreurs correctes sont lev√©es si le formulaire est invalide. Cependant cela se fait habituellement dans la partie view, c'est pourquoi nous allons nous y attacher dans la prochaine section.</p>
</div>
<p>C'est tout pour les formulaires; nous en avons d'autres, mais ils sont automatiquement cr√©√©s par nos vues g√©n√©riques pour √©dition bas√©es sur des classes, et c'est l√† qu'elles doivent √™tre test√©es. Lancez les tests et v√©rifiez que notre code passe toujours !</p></div><h3 id="vues"><a href="#vues" title="Permalink to Vues">Vues</a></h3><div><p>Pour valider le comportement de notre vue, nous utilisons le <a href="https://docs.djangoproject.com/en/2.1/topics/testing/tools/#django.test.Client" class="external" rel=" noopener">client</a> de test de Django. Cette classe se comporte comme un navigateur web fictif que nous pouvons utiliser pour simuler des requ√™tes <code>GET</code> et <code>POST</code> √† une URL donn√©e, et observer la r√©ponse. Nous pouvons voir √† peu pr√®s tout au sujet de la r√©ponse, depuis le HTTP bas-niveau (ent√™tes et codes de statut r√©sultants) jusqu'au template que nous utilisons pour rendre le HTML et aux donn√©es de contexte que nous lui passons. Nous pouvons aussi voir la cha√Æne des redirections (s'il y en a) et v√©rifier l'URL et le code de statut √† chaque √©tape. Cela nous permet de v√©rifier que chaque vue se comporte comme pr√©vu.</p>
<p>Commen√ßons avec l'une de nos vues les plus simples, celle qui fournit une liste de tous les auteurs. Elle est affich√©e √† l'URL <strong>/catalog/authors/</strong> (une URL nomm√©e 'authors' dans la configuration des URL).</p>
<div class="code-example"><pre class="brush: python notranslate"><code><span class="token keyword">class</span> <span class="token class-name">AuthorListView</span><span class="token punctuation">(</span>generic<span class="token punctuation">.</span>ListView<span class="token punctuation">)</span><span class="token punctuation">:</span>
    model <span class="token operator">=</span> Author
    paginate_by <span class="token operator">=</span> <span class="token number">10</span>
</code></pre></div>
<p>Comme c'est une vue liste g√©n√©rique, presque tout est fait √† notre place par Django. Probablement, si vous faites confiance √† Django, la seule chose que vous aurez besoin de tester, c'est que la vue est accessible √† l'URL correcte et qu'elle peut √™tre atteinte en utilisant son nom. Cependant, si vous utilisez un processus de d√©veloppement 'test-driven', vous allez commencer par √©crire des tests qui confirmeront que la vue affiche bien tous les auteurs, en les paginant par lots de 10.</p>
<p>Ouvrez le fichier <strong>/catalog/tests/test_views.py</strong>, et remplacez tout texte existant par le code de test suivant, pour la vue <code>AuthorListView</code>. Comme auparavant, nous importons notre mod√®le et quelques classes utiles. Dans la m√©thode <code>setUpTestData()</code>, nous d√©finissons un certain nombre d'objets <code>Author</code>, de fa√ßon √† pouvoir tester notre pagination.</p>
<div class="code-example"><pre class="brush: python notranslate"><code><span class="token keyword">from</span> django<span class="token punctuation">.</span>test <span class="token keyword">import</span> TestCase
<span class="token keyword">from</span> django<span class="token punctuation">.</span>urls <span class="token keyword">import</span> reverse

<span class="token keyword">from</span> catalog<span class="token punctuation">.</span>models <span class="token keyword">import</span> Author

<span class="token keyword">class</span> <span class="token class-name">AuthorListViewTest</span><span class="token punctuation">(</span>TestCase<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token decorator annotation punctuation">@classmethod</span>
    <span class="token keyword">def</span> <span class="token function">setUpTestData</span><span class="token punctuation">(</span>cls<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># Create 13 authors for pagination tests</span>
        number_of_authors <span class="token operator">=</span> <span class="token number">13</span>

        <span class="token keyword">for</span> author_id <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>number_of_authors<span class="token punctuation">)</span><span class="token punctuation">:</span>
            Author<span class="token punctuation">.</span>objects<span class="token punctuation">.</span>create<span class="token punctuation">(</span>
                first_name<span class="token operator">=</span><span class="token string-interpolation"><span class="token string">f'Christian </span><span class="token interpolation"><span class="token punctuation">{</span>author_id<span class="token punctuation">}</span></span><span class="token string">'</span></span><span class="token punctuation">,</span>
                last_name<span class="token operator">=</span><span class="token string-interpolation"><span class="token string">f'Surname </span><span class="token interpolation"><span class="token punctuation">{</span>author_id<span class="token punctuation">}</span></span><span class="token string">'</span></span><span class="token punctuation">,</span>
            <span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">test_view_url_exists_at_desired_location</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        response <span class="token operator">=</span> self<span class="token punctuation">.</span>client<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'/catalog/authors/'</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>assertEqual<span class="token punctuation">(</span>response<span class="token punctuation">.</span>status_code<span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">test_view_url_accessible_by_name</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        response <span class="token operator">=</span> self<span class="token punctuation">.</span>client<span class="token punctuation">.</span>get<span class="token punctuation">(</span>reverse<span class="token punctuation">(</span><span class="token string">'authors'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>assertEqual<span class="token punctuation">(</span>response<span class="token punctuation">.</span>status_code<span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">test_view_uses_correct_template</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        response <span class="token operator">=</span> self<span class="token punctuation">.</span>client<span class="token punctuation">.</span>get<span class="token punctuation">(</span>reverse<span class="token punctuation">(</span><span class="token string">'authors'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>assertEqual<span class="token punctuation">(</span>response<span class="token punctuation">.</span>status_code<span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>assertTemplateUsed<span class="token punctuation">(</span>response<span class="token punctuation">,</span> <span class="token string">'catalog/author_list.html'</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">test_pagination_is_ten</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        response <span class="token operator">=</span> self<span class="token punctuation">.</span>client<span class="token punctuation">.</span>get<span class="token punctuation">(</span>reverse<span class="token punctuation">(</span><span class="token string">'authors'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>assertEqual<span class="token punctuation">(</span>response<span class="token punctuation">.</span>status_code<span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>assertTrue<span class="token punctuation">(</span><span class="token string">'is_paginated'</span> <span class="token keyword">in</span> response<span class="token punctuation">.</span>context<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>assertTrue<span class="token punctuation">(</span>response<span class="token punctuation">.</span>context<span class="token punctuation">[</span><span class="token string">'is_paginated'</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token boolean">True</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>assertTrue<span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>context<span class="token punctuation">[</span><span class="token string">'author_list'</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">10</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">test_lists_all_authors</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># Get second page and confirm it has (exactly) remaining 3 items</span>
        response <span class="token operator">=</span> self<span class="token punctuation">.</span>client<span class="token punctuation">.</span>get<span class="token punctuation">(</span>reverse<span class="token punctuation">(</span><span class="token string">'authors'</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">'?page=2'</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>assertEqual<span class="token punctuation">(</span>response<span class="token punctuation">.</span>status_code<span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>assertTrue<span class="token punctuation">(</span><span class="token string">'is_paginated'</span> <span class="token keyword">in</span> response<span class="token punctuation">.</span>context<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>assertTrue<span class="token punctuation">(</span>response<span class="token punctuation">.</span>context<span class="token punctuation">[</span><span class="token string">'is_paginated'</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token boolean">True</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>assertTrue<span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>context<span class="token punctuation">[</span><span class="token string">'author_list'</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">3</span><span class="token punctuation">)</span>
</code></pre></div>
<p>Tous les tests utilisent le client (qui appartient √† notre classe d√©riv√©e de <code>TestCase</code>), afin de simuler une requ√™te <code>GET</code> et d'obtenir une r√©ponse. La premi√®re version v√©rifie une URL sp√©cifique (note : seulement le chemin sp√©cifique, sans le domaine), tandis que la seconde g√©n√®re une URL √† partir de son nom tel qu'il se trouve dans la configuration des URL.</p>
<div class="code-example"><pre class="brush: python notranslate"><code>response <span class="token operator">=</span> self<span class="token punctuation">.</span>client<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'/catalog/authors/'</span><span class="token punctuation">)</span>
response <span class="token operator">=</span> self<span class="token punctuation">.</span>client<span class="token punctuation">.</span>get<span class="token punctuation">(</span>reverse<span class="token punctuation">(</span><span class="token string">'authors'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div>
<p>Une fois que nous avons la r√©ponse, nous lui demandons son code de statut, le template utilis√©, si la r√©ponse est pagin√©e ou non, le nombre d'√©l√©ments retourn√©s et le nombre total d'√©l√©ments.</p>
<div class="notecard note" id="sect13">
  <p><strong>Note :</strong> Si, dans votre fichier <strong>/catalog/views.py</strong>, vous mettez la variable <code>paginate_by</code> √† un nombre autre que 10, assurez-vous de mettre √† jour les lignes qui testent le nombre correct d'√©l√©ments affich√©s dans les templates pagin√©s, ci-dessus et dans les sections qui suivent. Par exemple, si vous mettez √† 5 la variable pour la liste des auteurs, changez ainsi la ligne ci-dessus :</p>
  <div class="code-example"><pre class="brush: python notranslate"><code>self<span class="token punctuation">.</span>assertTrue<span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>context<span class="token punctuation">[</span><span class="token string">'author_list'</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">5</span><span class="token punctuation">)</span>
</code></pre></div>
</div>
<p>La variable la plus int√©ressante que nous montrons ci-dessus est <code>response.context</code>, qui est la variable de contexte pass√©e au template par la vue. C'est incroyablement utile pour tester, parce qu'elle nous autorise √† confirmer que notre template re√ßoit bien toutes les donn√©es dont il a besoin. En d'autres termes, nous pouvons v√©rifier que nous utilisons le template pr√©vu, et quelles donn√©es le template utilise, ce qui permet dans une large mesure de v√©rifier que tous les probl√®mes de 'render' sont seulement dus au template.</p>
<h4 id="vues_limit√©es_aux_utilisateurs_connect√©s">Vues limit√©es aux utilisateurs connect√©s</h4>
<p>Dans certains cas, vous voudrez tester une vue qui est limit√©e aux seuls utilisateurs connect√©s. Par exemple notre vue <code>LoanedBooksByUserListView</code> est tr√®s semblable √† notre vue pr√©c√©dente, mais n'est accessible qu'aux utilisateurs connect√©s, et n'affiche que des enregistrements de type <code>BookInstance</code> qui sont emprunt√©s par l'utilisateur courant, ont le statut 'on loan', et sont tri√©s 'le plus ancien en premier'.</p>
<div class="code-example"><pre class="brush: python notranslate"><code><span class="token keyword">from</span> django<span class="token punctuation">.</span>contrib<span class="token punctuation">.</span>auth<span class="token punctuation">.</span>mixins <span class="token keyword">import</span> LoginRequiredMixin

<span class="token keyword">class</span> <span class="token class-name">LoanedBooksByUserListView</span><span class="token punctuation">(</span>LoginRequiredMixin<span class="token punctuation">,</span> generic<span class="token punctuation">.</span>ListView<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""Generic class-based view listing books on loan to current user."""</span>
    model <span class="token operator">=</span> BookInstance
    template_name <span class="token operator">=</span><span class="token string">'catalog/bookinstance_list_borrowed_user.html'</span>
    paginate_by <span class="token operator">=</span> <span class="token number">10</span>

    <span class="token keyword">def</span> <span class="token function">get_queryset</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> BookInstance<span class="token punctuation">.</span>objects<span class="token punctuation">.</span><span class="token builtin">filter</span><span class="token punctuation">(</span>borrower<span class="token operator">=</span>self<span class="token punctuation">.</span>request<span class="token punctuation">.</span>user<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token builtin">filter</span><span class="token punctuation">(</span>status__exact<span class="token operator">=</span><span class="token string">'o'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>order_by<span class="token punctuation">(</span><span class="token string">'due_back'</span><span class="token punctuation">)</span>
</code></pre></div>
<p>Ajoutez le code de test suivant √† <strong>/catalog/tests/test_views.py</strong>. Ici nous utilisons d'abord la m√©thode <code>SetUp()</code> pour cr√©er des logins de comptes d'utilisateurs et des objets de type <code>BookInstance</code> (avec leurs livres et autres enregistrements associ√©s), que nous utiliserons plus tard dans les tests. La moiti√© des livres sont emprunt√©s par chaque utilisateur-test, mais nous avons initialement mis le statut de tous les livres √† "maintenance". Nous avons utilis√© <code>SetUp()</code> plut√¥t que <code>setUpTestData()</code>, parce que nous allons modifier plus tard certains de ces objets.</p>
<div class="notecard note" id="sect14">
  <p><strong>Note :</strong> Le code de <code>setUp()</code> ci-dessous cr√©e un livre avec un <code>Language</code> sp√©cifique, mais <em>votre</em> code n'inclut peut-√™tre pas le mod√®le <code>Language</code>, √©tant donn√© que celui-ci a √©t√© cr√©√© lors d'un <em>d√©fi</em>. Si c'est le cas, commentez simplement les bouts de code qui cr√©ent ou importent des objets de type Language. Vous devrez aussi le faire dans la section <code>RenewBookInstancesViewTest</code> qui suit.</p>
</div>
<div class="code-example"><pre class="brush: python notranslate"><code><span class="token keyword">import</span> datetime

<span class="token keyword">from</span> django<span class="token punctuation">.</span>utils <span class="token keyword">import</span> timezone
<span class="token keyword">from</span> django<span class="token punctuation">.</span>contrib<span class="token punctuation">.</span>auth<span class="token punctuation">.</span>models <span class="token keyword">import</span> User <span class="token comment"># Required to assign User as a borrower</span>

<span class="token keyword">from</span> catalog<span class="token punctuation">.</span>models <span class="token keyword">import</span> BookInstance<span class="token punctuation">,</span> Book<span class="token punctuation">,</span> Genre<span class="token punctuation">,</span> Language

<span class="token keyword">class</span> <span class="token class-name">LoanedBookInstancesByUserListViewTest</span><span class="token punctuation">(</span>TestCase<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">setUp</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># Create two users</span>
        test_user1 <span class="token operator">=</span> User<span class="token punctuation">.</span>objects<span class="token punctuation">.</span>create_user<span class="token punctuation">(</span>username<span class="token operator">=</span><span class="token string">'testuser1'</span><span class="token punctuation">,</span> password<span class="token operator">=</span><span class="token string">'1X&lt;ISRUkw+tuK'</span><span class="token punctuation">)</span>
        test_user2 <span class="token operator">=</span> User<span class="token punctuation">.</span>objects<span class="token punctuation">.</span>create_user<span class="token punctuation">(</span>username<span class="token operator">=</span><span class="token string">'testuser2'</span><span class="token punctuation">,</span> password<span class="token operator">=</span><span class="token string">'2HJ1vRV0Z&amp;3iD'</span><span class="token punctuation">)</span>

        test_user1<span class="token punctuation">.</span>save<span class="token punctuation">(</span><span class="token punctuation">)</span>
        test_user2<span class="token punctuation">.</span>save<span class="token punctuation">(</span><span class="token punctuation">)</span>

        <span class="token comment"># Create a book</span>
        test_author <span class="token operator">=</span> Author<span class="token punctuation">.</span>objects<span class="token punctuation">.</span>create<span class="token punctuation">(</span>first_name<span class="token operator">=</span><span class="token string">'John'</span><span class="token punctuation">,</span> last_name<span class="token operator">=</span><span class="token string">'Smith'</span><span class="token punctuation">)</span>
        test_genre <span class="token operator">=</span> Genre<span class="token punctuation">.</span>objects<span class="token punctuation">.</span>create<span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">'Fantasy'</span><span class="token punctuation">)</span>
        test_language <span class="token operator">=</span> Language<span class="token punctuation">.</span>objects<span class="token punctuation">.</span>create<span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">'English'</span><span class="token punctuation">)</span>
        test_book <span class="token operator">=</span> Book<span class="token punctuation">.</span>objects<span class="token punctuation">.</span>create<span class="token punctuation">(</span>
            title<span class="token operator">=</span><span class="token string">'Book Title'</span><span class="token punctuation">,</span>
            summary<span class="token operator">=</span><span class="token string">'My book summary'</span><span class="token punctuation">,</span>
            isbn<span class="token operator">=</span><span class="token string">'ABCDEFG'</span><span class="token punctuation">,</span>
            author<span class="token operator">=</span>test_author<span class="token punctuation">,</span>
            language<span class="token operator">=</span>test_language<span class="token punctuation">,</span>
        <span class="token punctuation">)</span>

        <span class="token comment"># Create genre as a post-step</span>
        genre_objects_for_book <span class="token operator">=</span> Genre<span class="token punctuation">.</span>objects<span class="token punctuation">.</span><span class="token builtin">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        test_book<span class="token punctuation">.</span>genre<span class="token punctuation">.</span><span class="token builtin">set</span><span class="token punctuation">(</span>genre_objects_for_book<span class="token punctuation">)</span> <span class="token comment"># Direct assignment of many-to-many types not allowed.</span>
        test_book<span class="token punctuation">.</span>save<span class="token punctuation">(</span><span class="token punctuation">)</span>

        <span class="token comment"># Create 30 BookInstance objects</span>
        number_of_book_copies <span class="token operator">=</span> <span class="token number">30</span>
        <span class="token keyword">for</span> book_copy <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>number_of_book_copies<span class="token punctuation">)</span><span class="token punctuation">:</span>
            return_date <span class="token operator">=</span> timezone<span class="token punctuation">.</span>localtime<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> datetime<span class="token punctuation">.</span>timedelta<span class="token punctuation">(</span>days<span class="token operator">=</span>book_copy<span class="token operator">%</span><span class="token number">5</span><span class="token punctuation">)</span>
            the_borrower <span class="token operator">=</span> test_user1 <span class="token keyword">if</span> book_copy <span class="token operator">%</span> <span class="token number">2</span> <span class="token keyword">else</span> test_user2
            status <span class="token operator">=</span> <span class="token string">'m'</span>
            BookInstance<span class="token punctuation">.</span>objects<span class="token punctuation">.</span>create<span class="token punctuation">(</span>
                book<span class="token operator">=</span>test_book<span class="token punctuation">,</span>
                imprint<span class="token operator">=</span><span class="token string">'Unlikely Imprint, 2016'</span><span class="token punctuation">,</span>
                due_back<span class="token operator">=</span>return_date<span class="token punctuation">,</span>
                borrower<span class="token operator">=</span>the_borrower<span class="token punctuation">,</span>
                status<span class="token operator">=</span>status<span class="token punctuation">,</span>
            <span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">test_redirect_if_not_logged_in</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        response <span class="token operator">=</span> self<span class="token punctuation">.</span>client<span class="token punctuation">.</span>get<span class="token punctuation">(</span>reverse<span class="token punctuation">(</span><span class="token string">'my-borrowed'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>assertRedirects<span class="token punctuation">(</span>response<span class="token punctuation">,</span> <span class="token string">'/accounts/login/?next=/catalog/mybooks/'</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">test_logged_in_uses_correct_template</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        login <span class="token operator">=</span> self<span class="token punctuation">.</span>client<span class="token punctuation">.</span>login<span class="token punctuation">(</span>username<span class="token operator">=</span><span class="token string">'testuser1'</span><span class="token punctuation">,</span> password<span class="token operator">=</span><span class="token string">'1X&lt;ISRUkw+tuK'</span><span class="token punctuation">)</span>
        response <span class="token operator">=</span> self<span class="token punctuation">.</span>client<span class="token punctuation">.</span>get<span class="token punctuation">(</span>reverse<span class="token punctuation">(</span><span class="token string">'my-borrowed'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

        <span class="token comment"># Check our user is logged in</span>
        self<span class="token punctuation">.</span>assertEqual<span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>context<span class="token punctuation">[</span><span class="token string">'user'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'testuser1'</span><span class="token punctuation">)</span>
        <span class="token comment"># Check that we got a response "success"</span>
        self<span class="token punctuation">.</span>assertEqual<span class="token punctuation">(</span>response<span class="token punctuation">.</span>status_code<span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span>

        <span class="token comment"># Check we used correct template</span>
        self<span class="token punctuation">.</span>assertTemplateUsed<span class="token punctuation">(</span>response<span class="token punctuation">,</span> <span class="token string">'catalog/bookinstance_list_borrowed_user.html'</span><span class="token punctuation">)</span>
</code></pre></div>
<p>Pour v√©rifier que la vue redirige √† une page de login si l'utilisateur n'est pas connect√©, nous utilisons <code>assertRedirects</code>, comme montr√© dans <code>test_redirect_if_not_logged_in()</code>. Pour v√©rifier que la page est affich√©e pour un utilisateur connect√©, nous connectons d'abord notre utilisateur-test, et ensuite nous acc√©dons de nouveau √† la page et v√©rifions que nous obtenons un <code>status_code</code> de 200 (succ√®s).</p>
<p>Le reste des test v√©rifie que notre vue ne retourne que les livres qui sont pr√™t√©s √† notre emprunteur courant. Copiez ce code et collez le √† la fin de la classe de test ci-dessus.</p>
<div class="code-example"><pre class="brush: python notranslate"><code>    <span class="token keyword">def</span> <span class="token function">test_only_borrowed_books_in_list</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        login <span class="token operator">=</span> self<span class="token punctuation">.</span>client<span class="token punctuation">.</span>login<span class="token punctuation">(</span>username<span class="token operator">=</span><span class="token string">'testuser1'</span><span class="token punctuation">,</span> password<span class="token operator">=</span><span class="token string">'1X&lt;ISRUkw+tuK'</span><span class="token punctuation">)</span>
        response <span class="token operator">=</span> self<span class="token punctuation">.</span>client<span class="token punctuation">.</span>get<span class="token punctuation">(</span>reverse<span class="token punctuation">(</span><span class="token string">'my-borrowed'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

        <span class="token comment"># Check our user is logged in</span>
        self<span class="token punctuation">.</span>assertEqual<span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>context<span class="token punctuation">[</span><span class="token string">'user'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'testuser1'</span><span class="token punctuation">)</span>
        <span class="token comment"># Check that we got a response "success"</span>
        self<span class="token punctuation">.</span>assertEqual<span class="token punctuation">(</span>response<span class="token punctuation">.</span>status_code<span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span>

        <span class="token comment"># Check that initially we don't have any books in list (none on loan)</span>
        self<span class="token punctuation">.</span>assertTrue<span class="token punctuation">(</span><span class="token string">'bookinstance_list'</span> <span class="token keyword">in</span> response<span class="token punctuation">.</span>context<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>assertEqual<span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>context<span class="token punctuation">[</span><span class="token string">'bookinstance_list'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>

        <span class="token comment"># Now change all books to be on loan</span>
        books <span class="token operator">=</span> BookInstance<span class="token punctuation">.</span>objects<span class="token punctuation">.</span><span class="token builtin">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token number">10</span><span class="token punctuation">]</span>

        <span class="token keyword">for</span> book <span class="token keyword">in</span> books<span class="token punctuation">:</span>
            book<span class="token punctuation">.</span>status <span class="token operator">=</span> <span class="token string">'o'</span>
            book<span class="token punctuation">.</span>save<span class="token punctuation">(</span><span class="token punctuation">)</span>

        <span class="token comment"># Check that now we have borrowed books in the list</span>
        response <span class="token operator">=</span> self<span class="token punctuation">.</span>client<span class="token punctuation">.</span>get<span class="token punctuation">(</span>reverse<span class="token punctuation">(</span><span class="token string">'my-borrowed'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token comment"># Check our user is logged in</span>
        self<span class="token punctuation">.</span>assertEqual<span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>context<span class="token punctuation">[</span><span class="token string">'user'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'testuser1'</span><span class="token punctuation">)</span>
        <span class="token comment"># Check that we got a response "success"</span>
        self<span class="token punctuation">.</span>assertEqual<span class="token punctuation">(</span>response<span class="token punctuation">.</span>status_code<span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>assertTrue<span class="token punctuation">(</span><span class="token string">'bookinstance_list'</span> <span class="token keyword">in</span> response<span class="token punctuation">.</span>context<span class="token punctuation">)</span>

        <span class="token comment"># Confirm all books belong to testuser1 and are on loan</span>
        <span class="token keyword">for</span> bookitem <span class="token keyword">in</span> response<span class="token punctuation">.</span>context<span class="token punctuation">[</span><span class="token string">'bookinstance_list'</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>assertEqual<span class="token punctuation">(</span>response<span class="token punctuation">.</span>context<span class="token punctuation">[</span><span class="token string">'user'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> bookitem<span class="token punctuation">.</span>borrower<span class="token punctuation">)</span>
            self<span class="token punctuation">.</span>assertEqual<span class="token punctuation">(</span><span class="token string">'o'</span><span class="token punctuation">,</span> bookitem<span class="token punctuation">.</span>status<span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">test_pages_ordered_by_due_date</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># Change all books to be on loan</span>
        <span class="token keyword">for</span> book <span class="token keyword">in</span> BookInstance<span class="token punctuation">.</span>objects<span class="token punctuation">.</span><span class="token builtin">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            book<span class="token punctuation">.</span>status<span class="token operator">=</span><span class="token string">'o'</span>
            book<span class="token punctuation">.</span>save<span class="token punctuation">(</span><span class="token punctuation">)</span>

        login <span class="token operator">=</span> self<span class="token punctuation">.</span>client<span class="token punctuation">.</span>login<span class="token punctuation">(</span>username<span class="token operator">=</span><span class="token string">'testuser1'</span><span class="token punctuation">,</span> password<span class="token operator">=</span><span class="token string">'1X&lt;ISRUkw+tuK'</span><span class="token punctuation">)</span>
        response <span class="token operator">=</span> self<span class="token punctuation">.</span>client<span class="token punctuation">.</span>get<span class="token punctuation">(</span>reverse<span class="token punctuation">(</span><span class="token string">'my-borrowed'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

        <span class="token comment"># Check our user is logged in</span>
        self<span class="token punctuation">.</span>assertEqual<span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>context<span class="token punctuation">[</span><span class="token string">'user'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'testuser1'</span><span class="token punctuation">)</span>
        <span class="token comment"># Check that we got a response "success"</span>
        self<span class="token punctuation">.</span>assertEqual<span class="token punctuation">(</span>response<span class="token punctuation">.</span>status_code<span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span>

        <span class="token comment"># Confirm that of the items, only 10 are displayed due to pagination.</span>
        self<span class="token punctuation">.</span>assertEqual<span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>context<span class="token punctuation">[</span><span class="token string">'bookinstance_list'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>

        last_date <span class="token operator">=</span> <span class="token number">0</span>
        <span class="token keyword">for</span> book <span class="token keyword">in</span> response<span class="token punctuation">.</span>context<span class="token punctuation">[</span><span class="token string">'bookinstance_list'</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> last_date <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>
                last_date <span class="token operator">=</span> book<span class="token punctuation">.</span>due_back
            <span class="token keyword">else</span><span class="token punctuation">:</span>
                self<span class="token punctuation">.</span>assertTrue<span class="token punctuation">(</span>last_date <span class="token operator">&lt;=</span> book<span class="token punctuation">.</span>due_back<span class="token punctuation">)</span>
                last_date <span class="token operator">=</span> book<span class="token punctuation">.</span>due_back
</code></pre></div>
<p>Vous pourriez aussi ajouter les tests de pagination, si vous voulez !</p>
<h4 id="tester_des_vues_avec_formulaires">Tester des vues avec formulaires</h4>
<p>Tester des vues avec formulaires est un peu plus compliqu√© que dans les cas pr√©c√©dents, car vous devez tester un code qui parcourt plus de chemin : l'affichage initial, l'affichage apr√®s que la validation des donn√©es a √©chou√©, et l'affichage apr√®s que la validation a r√©ussi. La bonne nouvelle, c'est que nous utilisons le client de test presque de la m√™me mani√®re que nous l'avons fait pour des vues qui ne font qu'afficher des donn√©es.</p>
<p>Pour voir cela, √©crivons des tests pour la vue utilis√©e pour renouveler des livres (<code>renew_book_librarian()</code>) :</p>
<div class="code-example"><pre class="brush: python notranslate"><code><span class="token keyword">from</span> catalog<span class="token punctuation">.</span>forms <span class="token keyword">import</span> RenewBookForm

<span class="token decorator annotation punctuation">@permission_required</span><span class="token punctuation">(</span><span class="token string">'catalog.can_mark_returned'</span><span class="token punctuation">)</span>
<span class="token keyword">def</span> <span class="token function">renew_book_librarian</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> pk<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""View function for renewing a specific BookInstance by librarian."""</span>
    book_instance <span class="token operator">=</span> get_object_or_404<span class="token punctuation">(</span>BookInstance<span class="token punctuation">,</span> pk<span class="token operator">=</span>pk<span class="token punctuation">)</span>

    <span class="token comment"># If this is a POST request then process the Form data</span>
    <span class="token keyword">if</span> request<span class="token punctuation">.</span>method <span class="token operator">==</span> <span class="token string">'POST'</span><span class="token punctuation">:</span>

        <span class="token comment"># Create a form instance and populate it with data from the request (binding):</span>
        book_renewal_form <span class="token operator">=</span> RenewBookForm<span class="token punctuation">(</span>request<span class="token punctuation">.</span>POST<span class="token punctuation">)</span>

        <span class="token comment"># Check if the form is valid:</span>
        <span class="token keyword">if</span> form<span class="token punctuation">.</span>is_valid<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token comment"># process the data in form.cleaned_data as required (here we just write it to the model due_back field)</span>
            book_instance<span class="token punctuation">.</span>due_back <span class="token operator">=</span> form<span class="token punctuation">.</span>cleaned_data<span class="token punctuation">[</span><span class="token string">'renewal_date'</span><span class="token punctuation">]</span>
            book_instance<span class="token punctuation">.</span>save<span class="token punctuation">(</span><span class="token punctuation">)</span>

            <span class="token comment"># redirect to a new URL:</span>
            <span class="token keyword">return</span> HttpResponseRedirect<span class="token punctuation">(</span>reverse<span class="token punctuation">(</span><span class="token string">'all-borrowed'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

    <span class="token comment"># If this is a GET (or any other method) create the default form</span>
    <span class="token keyword">else</span><span class="token punctuation">:</span>
        proposed_renewal_date <span class="token operator">=</span> datetime<span class="token punctuation">.</span>date<span class="token punctuation">.</span>today<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> datetime<span class="token punctuation">.</span>timedelta<span class="token punctuation">(</span>weeks<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">)</span>
        book_renewal_form <span class="token operator">=</span> RenewBookForm<span class="token punctuation">(</span>initial<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">'renewal_date'</span><span class="token punctuation">:</span> proposed_renewal_date<span class="token punctuation">}</span><span class="token punctuation">)</span>

    context <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token string">'book_renewal_form'</span><span class="token punctuation">:</span> book_renewal_form<span class="token punctuation">,</span>
        <span class="token string">'book_instance'</span><span class="token punctuation">:</span> book_instance<span class="token punctuation">,</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> render<span class="token punctuation">(</span>request<span class="token punctuation">,</span> <span class="token string">'catalog/book_renew_librarian.html'</span><span class="token punctuation">,</span> context<span class="token punctuation">)</span>
</code></pre></div>
<p>Nous allons devoir tester que la vue n'est disponible qu'aux utilisateurs ayant la permission <code>can_mark_returned</code>, et que les utilisateurs sont bien redirig√©s vers une page d'erreur HTTP 404 s'ils essaient de renouveler une <code>BookInstance</code> inexistante. Nous devons v√©rifier que la valeur initiale du formulaire est remplie avec une date de trois semaines dans le futur, et que si la validation r√©ussit, nous sommes redirig√©s vers la vue "tous les livres emprunt√©s". Dans le cadre des tests sur l'√©chec de la validation, nous allons aussi v√©rifier que notre formulaire envoie les bons messages d'erreur.</p>
<p>Ajoutez la premi√®re partie de la classe de test ci-dessous √† la fin du fichier <strong>/catalog/tests/test_views.py</strong>. Cela cr√©e deux utilisateurs et deux instances de livres, mais ne donne qu'√† un seul utilisateur la permission d'acc√©der √† la vue. Le code pour autoriser les permissions durant les tests est montr√©e en gras :</p>
<div class="code-example"><pre class="brush: python notranslate"><code><span class="token keyword">import</span> uuid

<span class="token keyword">from</span> django<span class="token punctuation">.</span>contrib<span class="token punctuation">.</span>auth<span class="token punctuation">.</span>models <span class="token keyword">import</span> Permission <span class="token comment"># Required to grant the permission needed to set a book as returned.</span>

<span class="token keyword">class</span> <span class="token class-name">RenewBookInstancesViewTest</span><span class="token punctuation">(</span>TestCase<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">setUp</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># Create a user</span>
        test_user1 <span class="token operator">=</span> User<span class="token punctuation">.</span>objects<span class="token punctuation">.</span>create_user<span class="token punctuation">(</span>username<span class="token operator">=</span><span class="token string">'testuser1'</span><span class="token punctuation">,</span> password<span class="token operator">=</span><span class="token string">'1X&lt;ISRUkw+tuK'</span><span class="token punctuation">)</span>
        test_user2 <span class="token operator">=</span> User<span class="token punctuation">.</span>objects<span class="token punctuation">.</span>create_user<span class="token punctuation">(</span>username<span class="token operator">=</span><span class="token string">'testuser2'</span><span class="token punctuation">,</span> password<span class="token operator">=</span><span class="token string">'2HJ1vRV0Z&amp;3iD'</span><span class="token punctuation">)</span>

        test_user1<span class="token punctuation">.</span>save<span class="token punctuation">(</span><span class="token punctuation">)</span>
        test_user2<span class="token punctuation">.</span>save<span class="token punctuation">(</span><span class="token punctuation">)</span>

        permission <span class="token operator">=</span> Permission<span class="token punctuation">.</span>objects<span class="token punctuation">.</span>get<span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">'Set book as returned'</span><span class="token punctuation">)</span>
        test_user2<span class="token punctuation">.</span>user_permissions<span class="token punctuation">.</span>add<span class="token punctuation">(</span>permission<span class="token punctuation">)</span>
        test_user2<span class="token punctuation">.</span>save<span class="token punctuation">(</span><span class="token punctuation">)</span>

        <span class="token comment"># Create a book</span>
        test_author <span class="token operator">=</span> Author<span class="token punctuation">.</span>objects<span class="token punctuation">.</span>create<span class="token punctuation">(</span>first_name<span class="token operator">=</span><span class="token string">'John'</span><span class="token punctuation">,</span> last_name<span class="token operator">=</span><span class="token string">'Smith'</span><span class="token punctuation">)</span>
        test_genre <span class="token operator">=</span> Genre<span class="token punctuation">.</span>objects<span class="token punctuation">.</span>create<span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">'Fantasy'</span><span class="token punctuation">)</span>
        test_language <span class="token operator">=</span> Language<span class="token punctuation">.</span>objects<span class="token punctuation">.</span>create<span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">'English'</span><span class="token punctuation">)</span>
        test_book <span class="token operator">=</span> Book<span class="token punctuation">.</span>objects<span class="token punctuation">.</span>create<span class="token punctuation">(</span>
            title<span class="token operator">=</span><span class="token string">'Book Title'</span><span class="token punctuation">,</span>
            summary<span class="token operator">=</span><span class="token string">'My book summary'</span><span class="token punctuation">,</span>
            isbn<span class="token operator">=</span><span class="token string">'ABCDEFG'</span><span class="token punctuation">,</span>
            author<span class="token operator">=</span>test_author<span class="token punctuation">,</span>
            language<span class="token operator">=</span>test_language<span class="token punctuation">,</span>
        <span class="token punctuation">)</span>

        <span class="token comment"># Create genre as a post-step</span>
        genre_objects_for_book <span class="token operator">=</span> Genre<span class="token punctuation">.</span>objects<span class="token punctuation">.</span><span class="token builtin">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        test_book<span class="token punctuation">.</span>genre<span class="token punctuation">.</span><span class="token builtin">set</span><span class="token punctuation">(</span>genre_objects_for_book<span class="token punctuation">)</span> <span class="token comment"># Direct assignment of many-to-many types not allowed.</span>
        test_book<span class="token punctuation">.</span>save<span class="token punctuation">(</span><span class="token punctuation">)</span>

        <span class="token comment"># Create a BookInstance object for test_user1</span>
        return_date <span class="token operator">=</span> datetime<span class="token punctuation">.</span>date<span class="token punctuation">.</span>today<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> datetime<span class="token punctuation">.</span>timedelta<span class="token punctuation">(</span>days<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>test_bookinstance1 <span class="token operator">=</span> BookInstance<span class="token punctuation">.</span>objects<span class="token punctuation">.</span>create<span class="token punctuation">(</span>
            book<span class="token operator">=</span>test_book<span class="token punctuation">,</span>
            imprint<span class="token operator">=</span><span class="token string">'Unlikely Imprint, 2016'</span><span class="token punctuation">,</span>
            due_back<span class="token operator">=</span>return_date<span class="token punctuation">,</span>
            borrower<span class="token operator">=</span>test_user1<span class="token punctuation">,</span>
            status<span class="token operator">=</span><span class="token string">'o'</span><span class="token punctuation">,</span>
        <span class="token punctuation">)</span>

        <span class="token comment"># Create a BookInstance object for test_user2</span>
        return_date <span class="token operator">=</span> datetime<span class="token punctuation">.</span>date<span class="token punctuation">.</span>today<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> datetime<span class="token punctuation">.</span>timedelta<span class="token punctuation">(</span>days<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>test_bookinstance2 <span class="token operator">=</span> BookInstance<span class="token punctuation">.</span>objects<span class="token punctuation">.</span>create<span class="token punctuation">(</span>
            book<span class="token operator">=</span>test_book<span class="token punctuation">,</span>
            imprint<span class="token operator">=</span><span class="token string">'Unlikely Imprint, 2016'</span><span class="token punctuation">,</span>
            due_back<span class="token operator">=</span>return_date<span class="token punctuation">,</span>
            borrower<span class="token operator">=</span>test_user2<span class="token punctuation">,</span>
            status<span class="token operator">=</span><span class="token string">'o'</span><span class="token punctuation">,</span>
        <span class="token punctuation">)</span>
</code></pre></div>
<p>Ajoutez les tests suivants √† la fin de la classe de test. Ils v√©rifient que seuls les utilisateurs avec les bonnes permissions (<em>testuser2</em>) peuvent acc√©der √† la vue. Nous v√©rifions tous les cas : quand l'utilisateur n'est pas connect√©, quand un utilisateur est connect√© mais n'a pas les permissions requises, quand l'utilisateur a les permissions mais n'est pas l'emprunteur (ce test devrait r√©ussir), et ce qui se passe quand ils tentent d'acc√©der √† une <code>BookInstance</code> inexistante. Nous v√©rifions aussi que le bon template est utilis√©.</p>
<div class="code-example"><pre class="brush: python notranslate"><code>   <span class="token keyword">def</span> <span class="token function">test_redirect_if_not_logged_in</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        response <span class="token operator">=</span> self<span class="token punctuation">.</span>client<span class="token punctuation">.</span>get<span class="token punctuation">(</span>reverse<span class="token punctuation">(</span><span class="token string">'renew-book-librarian'</span><span class="token punctuation">,</span> kwargs<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">'pk'</span><span class="token punctuation">:</span> self<span class="token punctuation">.</span>test_bookinstance1<span class="token punctuation">.</span>pk<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token comment"># Manually check redirect (Can't use assertRedirect, because the redirect URL is unpredictable)</span>
        self<span class="token punctuation">.</span>assertEqual<span class="token punctuation">(</span>response<span class="token punctuation">.</span>status_code<span class="token punctuation">,</span> <span class="token number">302</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>assertTrue<span class="token punctuation">(</span>response<span class="token punctuation">.</span>url<span class="token punctuation">.</span>startswith<span class="token punctuation">(</span><span class="token string">'/accounts/login/'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">test_redirect_if_logged_in_but_not_correct_permission</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        login <span class="token operator">=</span> self<span class="token punctuation">.</span>client<span class="token punctuation">.</span>login<span class="token punctuation">(</span>username<span class="token operator">=</span><span class="token string">'testuser1'</span><span class="token punctuation">,</span> password<span class="token operator">=</span><span class="token string">'1X&lt;ISRUkw+tuK'</span><span class="token punctuation">)</span>
        response <span class="token operator">=</span> self<span class="token punctuation">.</span>client<span class="token punctuation">.</span>get<span class="token punctuation">(</span>reverse<span class="token punctuation">(</span><span class="token string">'renew-book-librarian'</span><span class="token punctuation">,</span> kwargs<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">'pk'</span><span class="token punctuation">:</span> self<span class="token punctuation">.</span>test_bookinstance1<span class="token punctuation">.</span>pk<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>assertEqual<span class="token punctuation">(</span>response<span class="token punctuation">.</span>status_code<span class="token punctuation">,</span> <span class="token number">403</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">test_logged_in_with_permission_borrowed_book</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        login <span class="token operator">=</span> self<span class="token punctuation">.</span>client<span class="token punctuation">.</span>login<span class="token punctuation">(</span>username<span class="token operator">=</span><span class="token string">'testuser2'</span><span class="token punctuation">,</span> password<span class="token operator">=</span><span class="token string">'2HJ1vRV0Z&amp;3iD'</span><span class="token punctuation">)</span>
        response <span class="token operator">=</span> self<span class="token punctuation">.</span>client<span class="token punctuation">.</span>get<span class="token punctuation">(</span>reverse<span class="token punctuation">(</span><span class="token string">'renew-book-librarian'</span><span class="token punctuation">,</span> kwargs<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">'pk'</span><span class="token punctuation">:</span> self<span class="token punctuation">.</span>test_bookinstance2<span class="token punctuation">.</span>pk<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

        <span class="token comment"># Check that it lets us login - this is our book and we have the right permissions.</span>
        self<span class="token punctuation">.</span>assertEqual<span class="token punctuation">(</span>response<span class="token punctuation">.</span>status_code<span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">test_logged_in_with_permission_another_users_borrowed_book</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        login <span class="token operator">=</span> self<span class="token punctuation">.</span>client<span class="token punctuation">.</span>login<span class="token punctuation">(</span>username<span class="token operator">=</span><span class="token string">'testuser2'</span><span class="token punctuation">,</span> password<span class="token operator">=</span><span class="token string">'2HJ1vRV0Z&amp;3iD'</span><span class="token punctuation">)</span>
        response <span class="token operator">=</span> self<span class="token punctuation">.</span>client<span class="token punctuation">.</span>get<span class="token punctuation">(</span>reverse<span class="token punctuation">(</span><span class="token string">'renew-book-librarian'</span><span class="token punctuation">,</span> kwargs<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">'pk'</span><span class="token punctuation">:</span> self<span class="token punctuation">.</span>test_bookinstance1<span class="token punctuation">.</span>pk<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

        <span class="token comment"># Check that it lets us login. We're a librarian, so we can view any users book</span>
        self<span class="token punctuation">.</span>assertEqual<span class="token punctuation">(</span>response<span class="token punctuation">.</span>status_code<span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">test_HTTP404_for_invalid_book_if_logged_in</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># unlikely UID to match our bookinstance!</span>
        test_uid <span class="token operator">=</span> uuid<span class="token punctuation">.</span>uuid4<span class="token punctuation">(</span><span class="token punctuation">)</span>
        login <span class="token operator">=</span> self<span class="token punctuation">.</span>client<span class="token punctuation">.</span>login<span class="token punctuation">(</span>username<span class="token operator">=</span><span class="token string">'testuser2'</span><span class="token punctuation">,</span> password<span class="token operator">=</span><span class="token string">'2HJ1vRV0Z&amp;3iD'</span><span class="token punctuation">)</span>
        response <span class="token operator">=</span> self<span class="token punctuation">.</span>client<span class="token punctuation">.</span>get<span class="token punctuation">(</span>reverse<span class="token punctuation">(</span><span class="token string">'renew-book-librarian'</span><span class="token punctuation">,</span> kwargs<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">'pk'</span><span class="token punctuation">:</span>test_uid<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>assertEqual<span class="token punctuation">(</span>response<span class="token punctuation">.</span>status_code<span class="token punctuation">,</span> <span class="token number">404</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">test_uses_correct_template</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        login <span class="token operator">=</span> self<span class="token punctuation">.</span>client<span class="token punctuation">.</span>login<span class="token punctuation">(</span>username<span class="token operator">=</span><span class="token string">'testuser2'</span><span class="token punctuation">,</span> password<span class="token operator">=</span><span class="token string">'2HJ1vRV0Z&amp;3iD'</span><span class="token punctuation">)</span>
        response <span class="token operator">=</span> self<span class="token punctuation">.</span>client<span class="token punctuation">.</span>get<span class="token punctuation">(</span>reverse<span class="token punctuation">(</span><span class="token string">'renew-book-librarian'</span><span class="token punctuation">,</span> kwargs<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">'pk'</span><span class="token punctuation">:</span> self<span class="token punctuation">.</span>test_bookinstance1<span class="token punctuation">.</span>pk<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>assertEqual<span class="token punctuation">(</span>response<span class="token punctuation">.</span>status_code<span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span>

        <span class="token comment"># Check we used correct template</span>
        self<span class="token punctuation">.</span>assertTemplateUsed<span class="token punctuation">(</span>response<span class="token punctuation">,</span> <span class="token string">'catalog/book_renew_librarian.html'</span><span class="token punctuation">)</span>
</code></pre></div>
<p>Ajoutez la m√©thode de test suivante, comme montr√© ci-dessous. Elle v√©rifie que la date initiale pour le formulaire est trois semaines dans le futur. Notez comment nous pouvons acc√©der √† la valeur initiale de ce champ de formulaire (en gras).</p>
<div class="code-example"><pre class="brush: python notranslate"><code>    <span class="token keyword">def</span> <span class="token function">test_form_renewal_date_initially_has_date_three_weeks_in_future</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        login <span class="token operator">=</span> self<span class="token punctuation">.</span>client<span class="token punctuation">.</span>login<span class="token punctuation">(</span>username<span class="token operator">=</span><span class="token string">'testuser2'</span><span class="token punctuation">,</span> password<span class="token operator">=</span><span class="token string">'2HJ1vRV0Z&amp;3iD'</span><span class="token punctuation">)</span>
        response <span class="token operator">=</span> self<span class="token punctuation">.</span>client<span class="token punctuation">.</span>get<span class="token punctuation">(</span>reverse<span class="token punctuation">(</span><span class="token string">'renew-book-librarian'</span><span class="token punctuation">,</span> kwargs<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">'pk'</span><span class="token punctuation">:</span> self<span class="token punctuation">.</span>test_bookinstance1<span class="token punctuation">.</span>pk<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>assertEqual<span class="token punctuation">(</span>response<span class="token punctuation">.</span>status_code<span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span>

        date_3_weeks_in_future <span class="token operator">=</span> datetime<span class="token punctuation">.</span>date<span class="token punctuation">.</span>today<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> datetime<span class="token punctuation">.</span>timedelta<span class="token punctuation">(</span>weeks<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>assertEqual<span class="token punctuation">(</span>response<span class="token punctuation">.</span>context<span class="token punctuation">[</span><span class="token string">'form'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>initial<span class="token punctuation">[</span><span class="token string">'renewal_date'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> date_3_weeks_in_future<span class="token punctuation">)</span>
</code></pre></div>
<div class="notecard warning" id="sect15">
  <p><strong>Attention :</strong> Si vous utilisez la class de formulaire <code>RenewBookModelForm(forms.ModelForm)</code> √† la place de la classe <code>RenewBookForm(forms.Form)</code>, le nom du champ est <strong>'due_back'</strong> et non <strong>'renewal_date'</strong>.</p>
</div>
<p>Le test suivant (ajoutez-le √† la classe √©galement) v√©rifie que la vue redirige vers une liste de tous les livres emprunt√©s si le renouvellement r√©ussit. Ce qui diff√®re ici est que, pour la premi√®re fois, nous montrons comment vous pouvez <code>POST</code>er des donn√©es en utilisant le client. Les donn√©es post√©es forment le second argument de la fonction post, et elles sont sp√©cifi√©es comme un dictionnaire de cl√©s/valeurs.</p>
<div class="code-example"><pre class="brush: python notranslate"><code>    <span class="token keyword">def</span> <span class="token function">test_redirects_to_all_borrowed_book_list_on_success</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        login <span class="token operator">=</span> self<span class="token punctuation">.</span>client<span class="token punctuation">.</span>login<span class="token punctuation">(</span>username<span class="token operator">=</span><span class="token string">'testuser2'</span><span class="token punctuation">,</span> password<span class="token operator">=</span><span class="token string">'2HJ1vRV0Z&amp;3iD'</span><span class="token punctuation">)</span>
        valid_date_in_future <span class="token operator">=</span> datetime<span class="token punctuation">.</span>date<span class="token punctuation">.</span>today<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> datetime<span class="token punctuation">.</span>timedelta<span class="token punctuation">(</span>weeks<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">)</span>
        response <span class="token operator">=</span> self<span class="token punctuation">.</span>client<span class="token punctuation">.</span>post<span class="token punctuation">(</span>reverse<span class="token punctuation">(</span><span class="token string">'renew-book-librarian'</span><span class="token punctuation">,</span> kwargs<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">'pk'</span><span class="token punctuation">:</span>self<span class="token punctuation">.</span>test_bookinstance1<span class="token punctuation">.</span>pk<span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token string">'renewal_date'</span><span class="token punctuation">:</span>valid_date_in_future<span class="token punctuation">}</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>assertRedirects<span class="token punctuation">(</span>response<span class="token punctuation">,</span> reverse<span class="token punctuation">(</span><span class="token string">'all-borrowed'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div>
<div class="notecard warning" id="sect16">
  <p><strong>Attention :</strong> La vue <em>all-borrowed</em> a √©t√© ajout√©e comme <em>d√©fi</em>, et votre code peut, √† la place, rediriger vers la page d'accueil '/'. Si c'est le cas, modifiez les deux derni√®res lignes du code de test pour qu'elles ressemblent au code ci-dessous. L'expression <code>follow=True</code> dans la requ√™te s'assure que la requ√™te retourne l'URL de la destination finale (donc v√©rifie <code>/catalog/</code> plut√¥t que <code>/</code>).</p>
  <div class="code-example"><pre class="brush: python notranslate"><code> response <span class="token operator">=</span> self<span class="token punctuation">.</span>client<span class="token punctuation">.</span>post<span class="token punctuation">(</span>reverse<span class="token punctuation">(</span><span class="token string">'renew-book-librarian'</span><span class="token punctuation">,</span> kwargs<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">'pk'</span><span class="token punctuation">:</span>self<span class="token punctuation">.</span>test_bookinstance1<span class="token punctuation">.</span>pk<span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token string">'renewal_date'</span><span class="token punctuation">:</span>valid_date_in_future<span class="token punctuation">}</span><span class="token punctuation">,</span> follow<span class="token operator">=</span><span class="token boolean">True</span> <span class="token punctuation">)</span>
 self<span class="token punctuation">.</span>assertRedirects<span class="token punctuation">(</span>response<span class="token punctuation">,</span> <span class="token string">'/catalog/'</span><span class="token punctuation">)</span>
</code></pre></div>
</div>
<p>Copiez les deux derni√®res fonctions dans la classe, comme indiqu√© ci-dessous. Elles testent de nouveau des requ√™tes POST, mais dans ce cas avec des dates de renouvellement invalides. Nous utilisons la m√©thode assertFormError() pour v√©rifier que les messages d'erreur sont ceux que nous attendons.</p>
<div class="code-example"><pre class="brush: python notranslate"><code>    <span class="token keyword">def</span> <span class="token function">test_form_invalid_renewal_date_past</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        login <span class="token operator">=</span> self<span class="token punctuation">.</span>client<span class="token punctuation">.</span>login<span class="token punctuation">(</span>username<span class="token operator">=</span><span class="token string">'testuser2'</span><span class="token punctuation">,</span> password<span class="token operator">=</span><span class="token string">'2HJ1vRV0Z&amp;3iD'</span><span class="token punctuation">)</span>
        date_in_past <span class="token operator">=</span> datetime<span class="token punctuation">.</span>date<span class="token punctuation">.</span>today<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> datetime<span class="token punctuation">.</span>timedelta<span class="token punctuation">(</span>weeks<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span>
        response <span class="token operator">=</span> self<span class="token punctuation">.</span>client<span class="token punctuation">.</span>post<span class="token punctuation">(</span>reverse<span class="token punctuation">(</span><span class="token string">'renew-book-librarian'</span><span class="token punctuation">,</span> kwargs<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">'pk'</span><span class="token punctuation">:</span> self<span class="token punctuation">.</span>test_bookinstance1<span class="token punctuation">.</span>pk<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token string">'renewal_date'</span><span class="token punctuation">:</span> date_in_past<span class="token punctuation">}</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>assertEqual<span class="token punctuation">(</span>response<span class="token punctuation">.</span>status_code<span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>assertFormError<span class="token punctuation">(</span>response<span class="token punctuation">,</span> <span class="token string">'form'</span><span class="token punctuation">,</span> <span class="token string">'renewal_date'</span><span class="token punctuation">,</span> <span class="token string">'Invalid date - renewal in past'</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">test_form_invalid_renewal_date_future</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        login <span class="token operator">=</span> self<span class="token punctuation">.</span>client<span class="token punctuation">.</span>login<span class="token punctuation">(</span>username<span class="token operator">=</span><span class="token string">'testuser2'</span><span class="token punctuation">,</span> password<span class="token operator">=</span><span class="token string">'2HJ1vRV0Z&amp;3iD'</span><span class="token punctuation">)</span>
        invalid_date_in_future <span class="token operator">=</span> datetime<span class="token punctuation">.</span>date<span class="token punctuation">.</span>today<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> datetime<span class="token punctuation">.</span>timedelta<span class="token punctuation">(</span>weeks<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">)</span>
        response <span class="token operator">=</span> self<span class="token punctuation">.</span>client<span class="token punctuation">.</span>post<span class="token punctuation">(</span>reverse<span class="token punctuation">(</span><span class="token string">'renew-book-librarian'</span><span class="token punctuation">,</span> kwargs<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">'pk'</span><span class="token punctuation">:</span> self<span class="token punctuation">.</span>test_bookinstance1<span class="token punctuation">.</span>pk<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token string">'renewal_date'</span><span class="token punctuation">:</span> invalid_date_in_future<span class="token punctuation">}</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>assertEqual<span class="token punctuation">(</span>response<span class="token punctuation">.</span>status_code<span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>assertFormError<span class="token punctuation">(</span>response<span class="token punctuation">,</span> <span class="token string">'form'</span><span class="token punctuation">,</span> <span class="token string">'renewal_date'</span><span class="token punctuation">,</span> <span class="token string">'Invalid date - renewal more than 4 weeks ahead'</span><span class="token punctuation">)</span>
</code></pre></div>
<p>Le m√™me genre de technique peut √™tre utilis√© pour tester les autres vues.</p></div><h3 id="templates"><a href="#templates" title="Permalink to Templates">Templates</a></h3><div><p>Django fournit des API de test pour v√©rifier que le bon template sera appel√© par vos vues, et pour vous permettre de v√©rifier que l'information correcte sera envoy√©e. Il n'y a cependant pas de support d'API sp√©cifique en Django pour tester que votre sortie HTML a le rendu souhait√©.</p></div><h2 id="autres_outils_de_test_recommand√©s"><a href="#autres_outils_de_test_recommand√©s" title="Permalink to Autres outils de test recommand√©s">Autres outils de test recommand√©s</a></h2><div><p>Le framework de test de Django peut vous aider √† √©crire des tests unitaires et d'int√©gration efficaces - nous n'avons fait que gratter la surface de ce que peut faire unittest,le framework de test sous-jacent, et plus encore les additions de Django (par exemple, regardez comment vous pouvez utiliser unittest.mock pour patcher les biblioth√®ques tierces afin de tester plus finement votre propre code).</p>
<p>Comme il y a un grand nombre d'autres outils de test √† votre disposition, nous ne mentionnerons que les deux suivants :</p>
<ul>
  <li><a href="http://coverage.readthedocs.io/en/latest/" class="external" rel=" noopener">Coverage</a>: Cet outil Python fait un rapport sur la proportion de votre code r√©ellement ex√©cut√©e par vos tests. C'est particuli√®rement int√©ressant quand vous commencez, et que vous cherchez √† vous repr√©senter exactement ce que vous devez tester.</li>
  <li><a href="/en-US/docs/Learn/Tools_and_testing/Cross_browser_testing/Your_own_automation_environment" class="only-in-en-us" title="Currently only available in English (US)">Selenium (en-US)</a> est un framework pour automatiser les tests dans un vrai navigateur. Il vous permet de simuler un utilisateur r√©el en interaction avec le site, et fournit un excellent framework pour les tests syst√®me de votre site (l'√©tape qui suit les tests d'int√©gration).</li>
</ul></div><h2 id="d√©fi"><a href="#d√©fi" title="Permalink to D√©fi">D√©fi</a></h2><div><p>Il y a beaucoup d'autres mod√®les et vues que nous pouvons tester. Comme exercice simple, essayez de cr√©er un cas de test pour la vue <code>AuthorCreate</code>.</p>
<div class="code-example"><pre class="brush: python notranslate"><code><span class="token keyword">class</span> <span class="token class-name">AuthorCreate</span><span class="token punctuation">(</span>PermissionRequiredMixin<span class="token punctuation">,</span> CreateView<span class="token punctuation">)</span><span class="token punctuation">:</span>
    model <span class="token operator">=</span> Author
    fields <span class="token operator">=</span> <span class="token string">'__all__'</span>
    initial <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'date_of_death'</span><span class="token punctuation">:</span><span class="token string">'12/10/2016'</span><span class="token punctuation">}</span>
    permission_required <span class="token operator">=</span> <span class="token string">'catalog.can_mark_returned'</span>
</code></pre></div>
<p>Souvenez-vous que vous avez besoin de v√©rifier tout ce que vous avez sp√©cifi√© ou ce qui fait partie du design. Cela va inclure qui a acc√®s, la date initiale, le template utilis√©, et o√π la vue redirige en cas de succ√®s.</p></div><h2 id="r√©sum√©"><a href="#r√©sum√©" title="Permalink to R√©sum√©">R√©sum√©</a></h2><div><p>√âcrire un code de test n'est ni tr√®s excitant ni tr√®s fascinant, et par cons√©quent ce travail est souvent laiss√© pour la fin (ou compl√®tement d√©laiss√©) par les cr√©ateurs de sites web. C'est pourtant un √©l√©ment essentiel pour vous assurer que, malgr√© les changements apport√©s, votre code peut passer √† une nouvelle version en toute s√©curit√©, et que sa maintenance est rentable.</p>
<p>Dans ce tutoriel, nous vous avons montr√© comment √©crire et lancer des tests pour vos mod√®les, formulaires et vues. Plus important, nous avons fourni un bref r√©sum√© de ce que vous devez tester, ce qui est souvent la chose la plus difficile √† comprendre quand on commence. Il y a beaucoup de choses √† savoir, mais avec ce que vous avez d√©j√† appris, vous devriez √™tre capable de cr√©er des tests unitaires efficaces pour vos sites web.</p>
<p>Le prochain (et dernier) tutoriel montre comment vous pouvez d√©ployer votre merveilleux (et enti√®rement test√© !) site web Django.</p></div><h2 id="voir_aussi"><a href="#voir_aussi" title="Permalink to Voir aussi">Voir aussi</a></h2><div><ul>
  <li><a href="https://docs.djangoproject.com/en/2.1/topics/testing/overview/" class="external" rel=" noopener">Writing and running tests</a> (Django docs)</li>
  <li><a href="https://docs.djangoproject.com/en/2.1/intro/tutorial05/" class="external" rel=" noopener">Writing your first Django app, part 5 &gt; Introducing automated testing</a> (Django docs)</li>
  <li><a href="https://docs.djangoproject.com/en/2.1/topics/testing/tools/" class="external" rel=" noopener">Testing tools reference</a> (Django docs)</li>
  <li><a href="https://docs.djangoproject.com/en/2.1/topics/testing/advanced/" class="external" rel=" noopener">Advanced testing topics</a> (Django docs)</li>
  <li><a href="http://toastdriven.com/blog/2011/apr/10/guide-to-testing-in-django/" class="external" rel=" noopener">A Guide to Testing in Django</a> (Toast Driven Blog, 2011)</li>
  <li><a href="http://test-driven-django-development.readthedocs.io/en/latest/index.html" class="external" rel=" noopener">Workshop: Test-Driven Web Development with Django</a> (San Diego Python, 2014)</li>
  <li><a href="https://realpython.com/blog/python/testing-in-django-part-1-best-practices-and-examples/" class="external" rel=" noopener">Testing in Django (Part 1) - Best Practices and Examples</a> (RealPython, 2013)</li>
</ul><ul class="prev-next">
    <li><a class="button minimal" href="/fr/docs/Learn/Server-side/Django/Forms"> Pr√©c√©dent </a></li>
    <li><a class="button minimal" href="/fr/docs/Learn/Server-side/Django"> Aper√ßu&nbsp;: Django</a></li>
    <li><a class="button minimal only-in-en-us" href="/en-US/docs/Learn/Server-side/Django/Deployment" title="Currently only available in English (US)"> Suivant   (en-US)</a></li>
</ul></div><h2 id="dans_ce_module"><a href="#dans_ce_module" title="Permalink to Dans ce module">Dans ce module</a></h2><div><ul>
  <li><a href="/fr/docs/Learn/Server-side/Django/Introduction">Django introduction</a></li>
  <li><a href="/fr/docs/Learn/Server-side/Django/development_environment">Setting up a Django development environment</a></li>
  <li><a href="/fr/docs/Learn/Server-side/Django/Tutorial_local_library_website">Django Tutorial: The Local Library website</a></li>
  <li><a href="/fr/docs/Learn/Server-side/Django/skeleton_website">Django Tutorial Part 2: Creating a skeleton website</a></li>
  <li><a href="/fr/docs/Learn/Server-side/Django/Models">Django Tutorial Part 3: Using models</a></li>
  <li><a href="/fr/docs/Learn/Server-side/Django/Admin_site">Django Tutorial Part 4: Django admin site</a></li>
  <li><a href="/fr/docs/Learn/Server-side/Django/Home_page">Django Tutorial Part 5: Creating our home page</a></li>
  <li><a href="/fr/docs/Learn/Server-side/Django/Generic_views">Django Tutorial Part 6: Generic list and detail views</a></li>
  <li><a href="/en-US/docs/Learn/Server-side/Django/Sessions" class="only-in-en-us" title="Currently only available in English (US)">Django Tutorial Part 7: Sessions framework (en-US)</a></li>
  <li><a href="/en-US/docs/Learn/Server-side/Django/Authentication" class="only-in-en-us" title="Currently only available in English (US)">Django Tutorial Part 8: User authentication and permissions (en-US)</a></li>
  <li><a href="/fr/docs/Learn/Server-side/Django/Forms">Django Tutorial Part 9: Working with forms</a></li>
  <li><a href="/fr/docs/Learn/Server-side/Django/Testing" aria-current="page">Django Tutorial Part 10: Testing a Django web application</a></li>
  <li><a href="/en-US/docs/Learn/Server-side/Django/Deployment" class="only-in-en-us" title="Currently only available in English (US)">Django Tutorial Part 11: Deploying Django to production (en-US)</a></li>
  <li><a href="/en-US/docs/Learn/Server-side/Django/web_application_security" class="only-in-en-us" title="Currently only available in English (US)">Django web application security (en-US)</a></li>
  <li><a href="/en-US/docs/Learn/Server-side/Django/django_assessment_blog" class="only-in-en-us" title="Currently only available in English (US)">DIY Django mini blog (en-US)</a></li>
</ul></div></article><aside class="metadata"><div class="metadata-content-container"><div id="on-github" class="on-github"><h3>Found a problem with this page?</h3><ul><li><a href="https://github.com/mdn/translated-content/edit/main/files/fr/learn/server-side/django/testing/index.md" title="You're going to need to sign in to GitHub first (Opens in a new tab)" target="_blank" rel="noopener noreferrer">Edit on <b>GitHub</b></a></li><li><a href="https://github.com/mdn/translated-content/blob/main/files/fr/learn/server-side/django/testing/index.md" title="Folder: fr/learn/server-side/django/testing (Opens in a new tab)" target="_blank" rel="noopener noreferrer">Source on <b>GitHub</b></a></li><li><a href="https://github.com/mdn/translated-content/issues/new?body=MDN+URL%3A+https%3A%2F%2Fdeveloper.mozilla.org%2Ffr%2Fdocs%2FLearn%2FServer-side%2FDjango%2FTesting%0A%0A%23%23%23%23+What+information+was+incorrect%2C+unhelpful%2C+or+incomplete%3F%0A%0A%0A%23%23%23%23+Specific+section+or+headline%3F%0A%0A%0A%23%23%23%23+What+did+you+expect+to+see%3F%0A%0A%0A%23%23%23%23+Did+you+test+this%3F+If+so%2C+how%3F%0A%0A%0A%3C%21--+Do+not+make+changes+below+this+line+--%3E%0A%3Cdetails%3E%0A%3Csummary%3EMDN+Content+page+report+details%3C%2Fsummary%3E%0A%0A*+Folder%3A+%60fr%2Flearn%2Fserver-side%2Fdjango%2Ftesting%60%0A*+MDN+URL%3A+https%3A%2F%2Fdeveloper.mozilla.org%2Ffr%2Fdocs%2FLearn%2FServer-side%2FDjango%2FTesting%0A*+GitHub+URL%3A+https%3A%2F%2Fgithub.com%2Fmdn%2Ftranslated-content%2Fblob%2Fmain%2Ffiles%2Ffr%2Flearn%2Fserver-side%2Fdjango%2Ftesting%2Findex.md%0A*+Last+commit%3A+https%3A%2F%2Fgithub.com%2Fmdn%2Ftranslated-content%2Fcommit%2F921c46a374ab0a9f4cc809af0370f8c412e54701%0A*+Document+last+modified%3A+2022-10-01T03%3A41%3A16.000Z%0A%0A%3C%2Fdetails%3E&amp;title=Issue+with+%22Django+Tutorial+Part+10%3A+Testing+a+Django+web+appl%E2%80%A6%22%3A+%28short+summary+here+please%29&amp;labels=needs-triage%2Cl10n-fr" title="This will take you to https://github.com/mdn/content to file a new issue" target="_blank" rel="noopener noreferrer">Report a problem with this content on <b>GitHub</b></a></li><li>Want to fix the problem yourself? See<!-- --> <a href="https://github.com/mdn/content/blob/main/README.md" target="_blank" rel="noopener noreferrer">our Contribution guide</a>.</li></ul></div><p class="last-modified-date"><b>Last modified:</b> <time datetime="2022-10-01T03:41:16.000Z">Oct 1, 2022</time>,<!-- --> <a href="/fr/docs/Learn/Server-side/Django/Testing/contributors.txt">by MDN contributors</a></p><form class="language-menu"><fieldset id="select-language"><legend>Change your language</legend><label for="language-selector" class="visually-hidden">Select your preferred language</label> <select id="language-selector" name="language"><option selected="" value="fr">Fran√ßais</option><option value="en-US">English (US)</option><option value="es">Espa√±ol</option><option value="ko">ÌïúÍµ≠Ïñ¥</option><option value="pt-BR">Portugu√™s (do&nbsp;Brasil)</option><option value="ru">–†—É—Å—Å–∫–∏–π</option><option value="zh-CN">‰∏≠Êñá (ÁÆÄ‰Ωì)</option><option value="zh-TW">Ê≠£È´î‰∏≠Êñá (ÁπÅÈ´î)</option></select> <button type="submit" class="button minimal">Change language</button></fieldset></form></div></aside></main><nav id="sidebar-quicklinks" class="sidebar"><h4>Related Topics</h4><div>

<ol>
  <li data-default-state=""><a href="/fr/docs/Learn/Getting_started_with_the_web"><strong>Bienvenue aux d√©butants !</strong></a></li>
  <li class="toggle">
      <details>
          <summary>Commencer avec le Web</summary>
          <ol>
            <li><a href="/fr/docs/Learn/Getting_started_with_the_web">Vue d'ensemble de Commencer avec le Web</a></li>
            <li><a href="/fr/docs/Learn/Getting_started_with_the_web/Installing_basic_software">Installation des outils de base</a></li>
            <li><a href="/fr/docs/Learn/Getting_started_with_the_web/What_will_your_website_look_like">Quel sera l'aspect de votre site web ?</a></li>
            <li><a href="/fr/docs/Learn/Getting_started_with_the_web/Dealing_with_files">G√©rer les fichiers</a></li>
            <li><a href="/fr/docs/Learn/Getting_started_with_the_web/HTML_basics">Les bases de HTML</a></li>
            <li><a href="/fr/docs/Learn/Getting_started_with_the_web/CSS_basics">Les bases de CSS</a></li>
            <li><a href="/fr/docs/Learn/Getting_started_with_the_web/JavaScript_basics">Les bases de JavaScript</a></li>
            <li><a href="/fr/docs/Learn/Getting_started_with_the_web/Publishing_your_website">Publier votre site web</a></li>
            <li><a href="/fr/docs/Learn/Getting_started_with_the_web/How_the_Web_works">Le fonctionnement du Web</a></li>
          </ol>
      </details>
  </li>
  <li data-default-state=""><a href="/fr/docs/Learn/HTML"><strong>HTML</strong></a></li>
  <li class="toggle">
      <details>
          <summary>Introduction au HTML</summary>
          <ol>
            <li><a href="/fr/docs/Learn/HTML/Introduction_to_HTML">Vue d'ensemble de Introduction au HTML</a></li>
            <li><a href="/fr/docs/Learn/HTML/Introduction_to_HTML/Getting_started">Commencer avec le HTML</a></li>
            <li><a href="/fr/docs/Learn/HTML/Introduction_to_HTML/The_head_metadata_in_HTML">Qu'y-a-t-il dans l'en-t√™te ? M√©tadonn√©es en HTML</a></li>
            <li><a href="/fr/docs/Learn/HTML/Introduction_to_HTML/HTML_text_fundamentals">Fondamentaux du texte en HTML</a></li>
            <li><a href="/fr/docs/Learn/HTML/Introduction_to_HTML/Creating_hyperlinks">Cr√©ation d'hyperliens</a></li>
            <li><a href="/fr/docs/Learn/HTML/Introduction_to_HTML/Advanced_text_formatting">Formatage avanc√© du texte</a></li>
            <li><a href="/fr/docs/Learn/HTML/Introduction_to_HTML/Document_and_website_structure">Structure de site web et de document</a></li>
            <li><a href="/fr/docs/Learn/HTML/Introduction_to_HTML/Debugging_HTML">D√©boguer en HTML</a></li>
            <li><a href="/fr/docs/Learn/HTML/Introduction_to_HTML/Marking_up_a_letter">Baliser une lettre</a></li>
            <li><a href="/fr/docs/Learn/HTML/Introduction_to_HTML/Structuring_a_page_of_content">Structurer une page de contenu</a></li>
          </ol>
      </details>
  </li>
  <li class="toggle">
      <details>
          <summary>Multimedia and embedding</summary>
          <ol>
            <li><a href="/fr/docs/Learn/HTML/Multimedia_and_embedding">Multimedia and embedding overview</a></li>
            <li><a href="/fr/docs/Learn/HTML/Multimedia_and_embedding/Images_in_HTML">Images in HTML</a></li>
            <li><a href="/fr/docs/Learn/HTML/Multimedia_and_embedding/Video_and_audio_content">Video and audio content</a></li>
            <li><a href="/fr/docs/Learn/HTML/Multimedia_and_embedding/Other_embedding_technologies">From object to iframe ‚Äî other embedding technologies</a></li>
            <li><a href="/fr/docs/Learn/HTML/Multimedia_and_embedding/Adding_vector_graphics_to_the_Web">Adding vector graphics to the Web</a></li>
            <li><a href="/fr/docs/Learn/HTML/Multimedia_and_embedding/Responsive_images">Responsive images</a></li>
            <li><a href="/fr/docs/Learn/HTML/Multimedia_and_embedding/Mozilla_splash_page">Assessment: Mozilla splash page</a></li>
          </ol>
      </details>
  </li>
  <li class="toggle">
      <details>
          <summary>HTML tables</summary>
          <ol>
            <li><a href="/fr/docs/Learn/HTML/Tables">HTML tables overview</a></li>
            <li><a href="/fr/docs/Learn/HTML/Tables/Basics">HTML table basics</a></li>
            <li><a href="/fr/docs/Learn/HTML/Tables/Advanced">HTML Table advanced features and accessibility</a></li>
            <li><a href="/fr/docs/Learn/HTML/Tables/Structuring_planet_data">Assessment: Structuring planet data</a></li>
          </ol>
      </details>
  </li>
  <li data-default-state=""><a href="/fr/docs/Learn/CSS"><strong>CSS ‚Äî Styling the Web</strong></a></li>
  <li class="toggle">
      <details>
          <summary>CSS first steps</summary>
          <ol>
            <li><a href="/fr/docs/Learn/CSS/First_steps">CSS first steps overview</a></li>
            <li><a href="/fr/docs/Learn/CSS/First_steps/What_is_CSS">What is CSS?</a></li>
            <li><a href="/fr/docs/Learn/CSS/First_steps/Getting_started">Getting started with CSS</a></li>
            <li><a href="/fr/docs/Learn/CSS/First_steps/How_CSS_is_structured">How CSS is structured</a></li>
            <li><a href="/fr/docs/Learn/CSS/First_steps/How_CSS_works">How CSS works</a></li>
            <li><a href="/fr/docs/Learn/CSS/First_steps/Using_your_new_knowledge">Using your new knowledge</a></li>
          </ol>
      </details>
  </li>
  <li class="toggle">
      <details>
          <summary>CSS building blocks</summary>
          <ol>
            <li><a href="/fr/docs/Learn/CSS/Building_blocks">CSS building blocks overview</a></li>
            <li><a href="/fr/docs/Learn/CSS/Building_blocks/Cascade_and_inheritance">Cascade and inheritance</a></li>
            <li><a href="/fr/docs/Learn/CSS/Building_blocks/Selectors">CSS selectors</a></li>
            <li><a href="/fr/docs/Learn/CSS/Building_blocks/The_box_model">The box model</a></li>
            <li><a href="/fr/docs/Learn/CSS/Building_blocks/Backgrounds_and_borders">Backgrounds and borders</a></li>
            <li><a href="/fr/docs/Learn/CSS/Building_blocks/Handling_different_text_directions">Handling different text directions</a></li>
            <li><a href="/fr/docs/Learn/CSS/Building_blocks/Overflowing_content">Overflowing content</a></li>
            <li><a href="/fr/docs/Learn/CSS/Building_blocks/Values_and_units">Values and units</a></li>
            <li><a href="/fr/docs/Learn/CSS/Building_blocks/Sizing_items_in_CSS">Sizing items in CSS</a></li>
            <li><a href="/fr/docs/Learn/CSS/Building_blocks/Images_media_form_elements">Images, media, and form elements</a></li>
            <li><a href="/fr/docs/Learn/CSS/Building_blocks/Styling_tables">Styling tables</a></li>
            <li><a href="/fr/docs/Learn/CSS/Building_blocks/Debugging_CSS">Debugging CSS</a></li>
            <li><a href="/fr/docs/Learn/CSS/Building_blocks/Organizing">Organizing your CSS</a></li>
      </ol></details>
  </li>
  <li class="toggle">
      <details>
          <summary>Styling text</summary>
          <ol>
            <li><a href="/fr/docs/Learn/CSS/Styling_text">Styling text overview</a></li>
            <li><a href="/fr/docs/Learn/CSS/Styling_text/Fundamentals">Fundamental text and font styling</a></li>
            <li><a href="/fr/docs/Learn/CSS/Styling_text/Styling_lists">Styling lists</a></li>
            <li><a href="/fr/docs/Learn/CSS/Styling_text/Styling_links">Styling links</a></li>
            <li><a href="/fr/docs/Learn/CSS/Styling_text/Web_fonts">Web fonts</a></li>
            <li><a href="/fr/docs/Learn/CSS/Styling_text/Typesetting_a_homepage">Assessment: Typesetting a community school homepage</a></li>
          </ol>
      </details>
  </li>
  <li class="toggle">
      <details>
          <summary>CSS layout</summary>
          <ol>
            <li><a href="/fr/docs/Learn/CSS/CSS_layout">CSS layout overview</a></li>
            <li><a href="/fr/docs/Learn/CSS/CSS_layout/Introduction">Introduction to CSS layout</a></li>
            <li><a href="/fr/docs/Learn/CSS/CSS_layout/Normal_Flow">Normal Flow</a></li>
            <li><a href="/fr/docs/Learn/CSS/CSS_layout/Flexbox">Flexbox</a></li>
            <li><a href="/fr/docs/Learn/CSS/CSS_layout/Grids">Grids</a></li>
            <li><a href="/fr/docs/Learn/CSS/CSS_layout/Floats">Floats</a></li>
            <li><a href="/fr/docs/Learn/CSS/CSS_layout/Positioning">Positioning</a></li>
            <li><a href="/fr/docs/Learn/CSS/CSS_layout/Multiple-column_Layout">Multiple-column Layout</a></li>
            <li><a href="/fr/docs/Learn/CSS/CSS_layout/Responsive_Design">Responsive design</a></li>
            <li><a href="/fr/docs/Learn/CSS/CSS_layout/Media_queries">Beginner's guide to media queries</a></li>
            <li><a href="/fr/docs/Learn/CSS/CSS_layout/Legacy_Layout_Methods">Legacy Layout Methods</a></li>
            <li><a href="/fr/docs/Learn/CSS/CSS_layout/Supporting_Older_Browsers">Supporting Older Browsers</a></li>
            <li><a href="/fr/docs/Learn/CSS/CSS_layout/Fundamental_Layout_Comprehension">Fundamental Layout Comprehension</a></li>
          </ol>
      </details>
  </li>
  <li data-default-state=""><a href="/fr/docs/Learn/JavaScript"><strong>JavaScript ‚Äî Dynamic client-side scripting</strong></a></li>
  <li class="toggle">
      <details>
          <summary>JavaScript first steps</summary>
          <ol>
            <li><a href="/fr/docs/Learn/JavaScript/First_steps">JavaScript first steps overview</a></li>
            <li><a href="/fr/docs/Learn/JavaScript/First_steps/What_is_JavaScript">What is JavaScript?</a></li>
            <li><a href="/fr/docs/Learn/JavaScript/First_steps/A_first_splash">A first splash into JavaScript</a></li>
            <li><a href="/fr/docs/Learn/JavaScript/First_steps/What_went_wrong">What went wrong? Troubleshooting JavaScript</a></li>
            <li><a href="/fr/docs/Learn/JavaScript/First_steps/Variables">Storing the information you need ‚Äî Variables</a></li>
            <li><a href="/fr/docs/Learn/JavaScript/First_steps/Math">Basic math in JavaScript ‚Äî Numbers and operators</a></li>
            <li><a href="/fr/docs/Learn/JavaScript/First_steps/Strings">Handling text ‚Äî Strings in JavaScript</a></li>
            <li><a href="/fr/docs/Learn/JavaScript/First_steps/Useful_string_methods">Useful string methods</a></li>
            <li><a href="/fr/docs/Learn/JavaScript/First_steps/Arrays">Arrays</a></li>
            <li><a href="/fr/docs/Learn/JavaScript/First_steps/Silly_story_generator">Assessment: Silly story generator</a></li>
          </ol>
      </details>
  </li>
  <li class="toggle">
      <details>
          <summary>JavaScript building blocks</summary>
          <ol>
            <li><a href="/fr/docs/Learn/JavaScript/Building_blocks">JavaScript building blocks overview</a></li>
            <li><a href="/fr/docs/Learn/JavaScript/Building_blocks/conditionals">Making decisions in your code ‚Äî Conditionals</a></li>
            <li><a href="/fr/docs/Learn/JavaScript/Building_blocks/Looping_code">Looping code</a></li>
            <li><a href="/fr/docs/Learn/JavaScript/Building_blocks/Functions">Functions ‚Äî Reusable blocks of code</a></li>
            <li><a href="/fr/docs/Learn/JavaScript/Building_blocks/Build_your_own_function">Build your own function</a></li>
            <li><a href="/fr/docs/Learn/JavaScript/Building_blocks/Return_values">Function return values</a></li>
            <li><a href="/fr/docs/Learn/JavaScript/Building_blocks/Events">Introduction to events</a></li>
            <li><a href="/fr/docs/Learn/JavaScript/Building_blocks/Image_gallery">Assessment: Image gallery</a></li>
          </ol>
      </details>
  </li>
  <li class="toggle">
      <details>
          <summary>Introducing JavaScript objects</summary>
          <ol>
            <li><a href="/fr/docs/Learn/JavaScript/Objects">Introducing JavaScript objects overview</a></li>
            <li><a href="/fr/docs/Learn/JavaScript/Objects/Basics">Object basics</a></li>
            <li><a href="/fr/docs/Learn/JavaScript/Objects/Object_prototypes">Object prototypes</a></li>
            <li><a href="/fr/docs/Learn/JavaScript/Objects/Object-oriented_programming">Object-oriented programming concepts</a></li>
            <li><a href="/fr/docs/Learn/JavaScript/Objects/Classes_in_JavaScript">Classes in JavaScript</a></li>
            <li><a href="/fr/docs/Learn/JavaScript/Objects/JSON">Working with JSON data</a></li>
            <li><a href="/fr/docs/Learn/JavaScript/Objects/Object_building_practice">Object building practice</a></li>
            <li><a href="/fr/docs/Learn/JavaScript/Objects/Adding_bouncing_balls_features">Assessment: Adding features to our bouncing balls demo</a></li>
          </ol>
      </details>
  </li>
  <li class="toggle">
    <details>
        <summary>Asynchronous JavaScript</summary>
        <ol>
          <li><a href="/fr/docs/Learn/JavaScript/Asynchronous">Asynchronous JavaScript overview</a></li>
          <li><a href="/fr/docs/Learn/JavaScript/Asynchronous/Concepts">General asynchronous programming concepts</a></li>
          <li><a href="/fr/docs/Learn/JavaScript/Asynchronous/Introducing">Introducing asynchronous JavaScript</a></li>
          <li><a href="/fr/docs/Learn/JavaScript/Asynchronous/Timeouts_and_intervals">Cooperative asynchronous Java‚ÄãScript: Timeouts and intervals</a></li>
          <li><a href="/fr/docs/Learn/JavaScript/Asynchronous/Promises">Graceful asynchronous programming with Promises</a></li>
          <li><a href="/fr/docs/Learn/JavaScript/Asynchronous/Async_await">Making asynchronous programming easier with async and await</a></li>
          <li><a href="/fr/docs/Learn/JavaScript/Asynchronous/Choosing_the_right_approach">Choosing the right approach</a></li>
        </ol>
    </details>
  </li>
  <li class="toggle">
    <details>
        <summary>Client-side web APIs</summary>
        <ol>
          <li><a href="/fr/docs/Learn/JavaScript/Client-side_web_APIs">Client-side web APIs</a></li>
          <li><a href="/fr/docs/Learn/JavaScript/Client-side_web_APIs/Introduction">Introduction to web APIs</a></li>
          <li><a href="/fr/docs/Learn/JavaScript/Client-side_web_APIs/Manipulating_documents">Manipulating documents</a></li>
          <li><a href="/fr/docs/Learn/JavaScript/Client-side_web_APIs/Fetching_data">Fetching data from the server</a></li>
          <li><a href="/fr/docs/Learn/JavaScript/Client-side_web_APIs/Third_party_APIs">Third party APIs</a></li>
          <li><a href="/fr/docs/Learn/JavaScript/Client-side_web_APIs/Drawing_graphics">Drawing graphics</a></li>
          <li><a href="/fr/docs/Learn/JavaScript/Client-side_web_APIs/Video_and_audio_APIs">Video and audio APIs</a></li>
          <li><a href="/fr/docs/Learn/JavaScript/Client-side_web_APIs/Client-side_storage">Client-side storage</a></li>
        </ol>
    </details>
  </li>
  <li><a href="/fr/docs/Learn/Forms"><strong>Web forms ‚Äî Working with user data</strong></a></li>
  <li class="toggle">
    <details>
        <summary>Core forms learning pathway</summary>
        <ol>
          <li><a href="/fr/docs/Learn/Forms">Web forms overview</a></li>
          <li><a href="/fr/docs/Learn/Forms/Your_first_form">Your first form</a></li>
          <li><a href="/fr/docs/Learn/Forms/How_to_structure_a_web_form">How to structure a web form</a></li>
          <li><a href="/fr/docs/Learn/Forms/Basic_native_form_controls">Basic native form controls</a></li>
          <li><a href="/fr/docs/Learn/Forms/HTML5_input_types">The HTML5 input types</a></li>
          <li><a href="/fr/docs/Learn/Forms/Other_form_controls">Other form controls</a></li>
          <li><a href="/fr/docs/Learn/Forms/Styling_web_forms">Styling web forms</a></li>
          <li><a href="/fr/docs/Learn/Forms/Advanced_form_styling">Advanced form styling</a></li>
          <li><a href="/fr/docs/Learn/Forms/UI_pseudo-classes">UI pseudo-classes</a></li>
          <li><a href="/fr/docs/Learn/Forms/Form_validation">Client-side form validation</a></li>
          <li><a href="/fr/docs/Learn/Forms/Sending_and_retrieving_form_data">Sending form data</a></li>
        </ol>
    </details>
  </li>
  <li class="toggle">
    <details>
        <summary>Advanced forms articles</summary>
        <ol>
          <li><a href="/fr/docs/Learn/Forms/How_to_build_custom_form_controls">How to build custom form controls</a></li>
          <li><a href="/fr/docs/Learn/Forms/Sending_forms_through_JavaScript">Sending forms through JavaScript</a></li>
          <li><a href="/fr/docs/Learn/Forms/Property_compatibility_table_for_form_controls">CSS property compatibility table for form controls</a></li>
        </ol>
    </details>
  </li>
  <li><a href="/fr/docs/Learn/Accessibility"><strong>Accessibility ‚Äî Make the web usable by everyone</strong></a></li>
  <li class="toggle">
    <details>
        <summary>Accessibility guides</summary>
        <ol>
          <li><a href="/fr/docs/Learn/Accessibility">Accessibility overview</a></li>
          <li><a href="/fr/docs/Learn/Accessibility/What_is_accessibility">What is accessibility?</a></li>
          <li><a href="/fr/docs/Learn/Accessibility/HTML">HTML: A good basis for accessibility</a></li>
          <li><a href="/fr/docs/Learn/Accessibility/CSS_and_JavaScript">CSS and JavaScript accessibility best practices</a></li>
          <li><a href="/fr/docs/Learn/Accessibility/WAI-ARIA_basics">WAI-ARIA basics</a></li>
          <li><a href="/fr/docs/Learn/Accessibility/Multimedia">Accessible multimedia</a></li>
          <li><a href="/fr/docs/Learn/Accessibility/Mobile">Mobile accessibility</a></li>
        </ol>
    </details>
  </li>
  <li class="toggle">
    <details>
        <summary>Accessibility assessment</summary>
        <ol>
            <li><a href="/fr/docs/Learn/Accessibility/Accessibility_troubleshooting">Assessment: Accessibility troubleshooting</a></li>
        </ol>
    </details>
  </li>
  <li><a href="/fr/docs/Learn/Tools_and_testing"><strong>Tools and testing</strong></a></li>
  <li class="toggle">
    <details>
        <summary>Client-side web development tools</summary>
        <ol>
          <li><a href="/fr/docs/Learn/Tools_and_testing/Understanding_client-side_tools">Client-side web development tools index</a></li>
          <li><a href="/fr/docs/Learn/Tools_and_testing/Understanding_client-side_tools/Overview">Client-side tooling overview</a></li>
          <li><a href="/fr/docs/Learn/Tools_and_testing/Understanding_client-side_tools/Command_line">Command line crash course</a></li>
          <li><a href="/fr/docs/Learn/Tools_and_testing/Understanding_client-side_tools/Package_management">Package management basics</a></li>
          <li><a href="/fr/docs/Learn/Tools_and_testing/Understanding_client-side_tools/Introducing_complete_toolchain">Introducing a complete toolchain</a></li>
          <li><a href="/fr/docs/Learn/Tools_and_testing/Understanding_client-side_tools/Deployment">Deploying our app</a></li>
        </ol>
    </details>
  </li>
  <li class="toggle">
    <details>
        <summary>Introduction to client-side frameworks</summary>
        <ol>
          <li><a href="/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Introduction">Client-side frameworks overview</a></li>
          <li><a href="/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Main_features">Framework main features</a></li>
        </ol>
    </details>
  </li>
  <li class="toggle">
    <details>
        <summary>React</summary>
        <ol>
          <li><a href="/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/React_getting_started">Getting started with React</a></li>
          <li><a href="/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/React_todo_list_beginning">Beginning our React todo list</a></li>
          <li><a href="/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/React_components">Componentizing our React app</a></li>
          <li><a href="/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/React_interactivity_events_state">React interactivity: Events and state</a></li>
          <li><a href="/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/React_interactivity_filtering_conditional_rendering">React interactivity: Editing, filtering, conditional rendering</a></li>
          <li><a href="/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/React_accessibility">Accessibility in React</a></li>
          <li><a href="/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/React_resources">React resources</a></li>
        </ol>
    </details>
  </li>
  <li class="toggle">
    <details>
        <summary>Ember</summary>
        <ol>
          <li><a href="/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Ember_getting_started">Getting started with Ember</a></li>
          <li><a href="/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Ember_structure_componentization">Ember app structure and componentization</a></li>
          <li><a href="/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Ember_interactivity_events_state">Ember interactivity: Events, classes and state</a></li>
          <li><a href="/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Ember_conditional_footer">Ember Interactivity: Footer functionality, conditional rendering</a></li>
          <li><a href="/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Ember_routing">Routing in Ember</a></li>
          <li><a href="/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Ember_resources">Ember resources and troubleshooting</a></li>
        </ol>
    </details>
  </li>
  <li class="toggle">
    <details>
        <summary>Vue</summary>
        <ol>
          <li><a href="/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Vue_getting_started">Getting started with Vue</a></li>
          <li><a href="/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Vue_first_component">Creating our first Vue component</a></li>
          <li><a href="/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Vue_rendering_lists">Rendering a list of Vue components</a></li>
          <li><a href="/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Vue_methods_events_models">Adding a new todo form: Vue events, methods, and models</a></li>
          <li><a href="/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Vue_styling">Styling Vue components with CSS</a></li>
          <li><a href="/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Vue_computed_properties">Using Vue computed properties</a></li>
          <li><a href="/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Vue_conditional_rendering  ">Vue conditional rendering: editing existing todos</a></li>
          <li><a href="/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Vue_refs_focus_management">Focus management with Vue refs</a></li>
          <li><a href="/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Vue_resources">Vue resources</a></li>
        </ol>
    </details>
  </li>
  <li class="toggle">
    <details>
        <summary>Svelte</summary>
        <ol>
          <li><a href="/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Svelte_getting_started">Getting started with Svelte</a></li>
          <li><a href="/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Svelte_Todo_list_beginning">Starting our Svelte Todo list app</a></li>
          <li><a href="/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Svelte_variables_props">Dynamic behavior in Svelte: working with variables and props</a></li>
          <li><a href="/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Svelte_components">Componentizing our Svelte app</a></li>
          <li><a href="/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Svelte_reactivity_lifecycle_accessibility">Advanced Svelte: Reactivity, lifecycle, accessibility</a></li>
          <li><a href="/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Svelte_stores">Working with Svelte stores</a></li>
          <li><a href="/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Svelte_TypeScript  ">TypeScript support in Svelte</a></li>
          <li><a href="/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Svelte_deployment_next">Deployment and next steps</a></li>
        </ol>
    </details>
  </li>
  <li class="toggle">
    <details>
        <summary>Angular</summary>
        <ol>
          <li><a href="/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Angular_getting_started">Getting started with Angular</a></li>
          <li><a href="/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Angular_todo_list_beginning">Beginning our Angular todo list app</a></li>
          <li><a href="/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Angular_styling">Styling our Angular app</a></li>
          <li><a href="/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Angular_item_component">Creating an item component</a></li>
          <li><a href="/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Angular_filtering">Filtering our to-do items</a></li>
          <li><a href="/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Angular_building">Building Angular applications and further resources</a></li>
        </ol>
    </details>
  </li>
  <li class="toggle">
    <details>
        <summary>Git and GitHub</summary>
        <ol>
          <li><a href="/fr/docs/Learn/Tools_and_testing/GitHub">Git and GitHub overview</a></li>
          <li><a href="https://guides.github.com/activities/hello-world/">Hello World</a></li>
          <li><a href="https://guides.github.com/introduction/git-handbook/">Git Handbook</a></li>
          <li><a href="https://guides.github.com/activities/forking/">Forking Projects</a></li>
          <li><a href="https://help.github.com/en/github/collaborating-with-issues-and-pull-requests/about-pull-requests">About pull requests</a></li>
          <li><a href="https://guides.github.com/features/issues/">Mastering Issues</a></li>
        </ol>
    </details>
  </li>
  <li class="toggle">
    <details>
        <summary>Cross browser testing</summary>
        <ol>
          <li><a href="/fr/docs/Learn/Tools_and_testing/Cross_browser_testing">Cross browser testing overview</a></li>
          <li><a href="/fr/docs/Learn/Tools_and_testing/Cross_browser_testing/Introduction">Introduction to cross browser testing</a></li>
          <li><a href="/fr/docs/Learn/Tools_and_testing/Cross_browser_testing/Testing_strategies">Strategies for carrying out testing</a></li>
          <li><a href="/fr/docs/Learn/Tools_and_testing/Cross_browser_testing/HTML_and_CSS">Handling common HTML and CSS problems</a></li>
          <li><a href="/fr/docs/Learn/Tools_and_testing/Cross_browser_testing/JavaScript">Handling common JavaScript problems</a></li>
          <li><a href="/fr/docs/Learn/Tools_and_testing/Cross_browser_testing/Accessibility">Handling common accessibility problems</a></li>
          <li><a href="/fr/docs/Learn/Tools_and_testing/Cross_browser_testing/Feature_detection">Implementing feature detection</a></li>
          <li><a href="/fr/docs/Learn/Tools_and_testing/Cross_browser_testing/Automated_testing">Introduction to automated testing</a></li>
          <li><a href="/fr/docs/Learn/Tools_and_testing/Cross_browser_testing/Your_own_automation_environment">Setting up your own test automation environment</a></li>
        </ol>
    </details>
  </li>
  <li data-default-state="open"><a href="/fr/docs/Learn/Server-side"><strong>Server-side website programming</strong></a></li>
  <li class="toggle">
    <details>
        <summary>First steps</summary>
        <ol>
          <li><a href="/fr/docs/Learn/Server-side/First_steps">First steps overview</a></li>
          <li><a href="/fr/docs/Learn/Server-side/First_steps/Introduction">Introduction to the server-side</a></li>
          <li><a href="/fr/docs/Learn/Server-side/First_steps/Client-Server_overview">Client-Server overview</a></li>
          <li><a href="/fr/docs/Learn/Server-side/First_steps/Web_frameworks">Server-side web frameworks</a></li>
          <li><a href="/fr/docs/Learn/Server-side/First_steps/Website_security">Website security</a></li>
        </ol>
    </details>
  </li>
  <li class="toggle">
    <details open="">
        <summary>Django web framework (Python)</summary>
        <ol>
          <li><a href="/fr/docs/Learn/Server-side/Django">Django web framework (Python) overview</a></li>
          <li><a href="/fr/docs/Learn/Server-side/Django/Introduction">Introduction</a></li>
          <li><a href="/fr/docs/Learn/Server-side/Django/development_environment">Setting up a development environment</a></li>
          <li><a href="/fr/docs/Learn/Server-side/Django/Tutorial_local_library_website">Tutorial: The Local Library website</a></li>
          <li><a href="/fr/docs/Learn/Server-side/Django/skeleton_website">Tutorial Part 2: Creating a skeleton website</a></li>
          <li><a href="/fr/docs/Learn/Server-side/Django/Models">Tutorial Part 3: Using models</a></li>
          <li><a href="/fr/docs/Learn/Server-side/Django/Admin_site">Tutorial Part 4: Django admin site</a></li>
          <li><a href="/fr/docs/Learn/Server-side/Django/Home_page">Tutorial Part 5: Creating our home page</a></li>
          <li><a href="/fr/docs/Learn/Server-side/Django/Generic_views">Tutorial Part 6: Generic list and detail views</a></li>
          <li><a href="/fr/docs/Learn/Server-side/Django/Sessions">Tutorial Part 7: Sessions framework</a></li>
          <li><a href="/fr/docs/Learn/Server-side/Django/Authentication">Tutorial Part 8: User authentication and permissions</a></li>
          <li><a href="/fr/docs/Learn/Server-side/Django/Forms">Tutorial Part 9: Working with forms</a></li>
          <li><a href="/fr/docs/Learn/Server-side/Django/Testing">Tutorial Part 10: Testing a Django web application</a></li>
          <li><a href="/fr/docs/Learn/Server-side/Django/Deployment">Tutorial Part 11: Deploying Django to production</a></li>
          <li><a href="/fr/docs/Learn/Server-side/Django/web_application_security">Web application security</a></li>
          <li><a href="/fr/docs/Learn/Server-side/Django/django_assessment_blog">Assessment: DIY mini blog</a></li>
        </ol>
    </details>
  </li>
  <li class="toggle">
    <details>
        <summary>Express Web Framework (node.js/JavaScript)</summary>
        <ol>
          <li><a href="/fr/docs/Learn/Server-side/Express_Nodejs">Express Web Framework (Node.js/JavaScript) overview</a></li>
          <li><a href="/fr/docs/Learn/Server-side/Express_Nodejs/Introduction">Express/Node introduction</a></li>
          <li><a href="/fr/docs/Learn/Server-side/Express_Nodejs/development_environment">Setting up a Node (Express) development environment</a></li>
          <li><a href="/fr/docs/Learn/Server-side/Express_Nodejs/Tutorial_local_library_website">Express tutorial: The Local Library website</a></li>
          <li><a href="/fr/docs/Learn/Server-side/Express_Nodejs/skeleton_website">Express Tutorial Part 2: Creating a skeleton website</a></li>
          <li><a href="/fr/docs/Learn/Server-side/Express_Nodejs/mongoose">Express Tutorial Part 3: Using a database (with Mongoose)</a></li>
          <li><a href="/fr/docs/Learn/Server-side/Express_Nodejs/routes">Express Tutorial Part 4: Routes and controllers</a></li>
          <li><a href="/fr/docs/Learn/Server-side/Express_Nodejs/Displaying_data">Express Tutorial Part 5: Displaying library data</a></li>
          <li><a href="/fr/docs/Learn/Server-side/Express_Nodejs/forms">Express Tutorial Part 6: Working with forms</a></li>
          <li><a href="/fr/docs/Learn/Server-side/Express_Nodejs/deployment">Express Tutorial Part 7: Deploying to production</a></li>
        </ol>
    </details>
  </li>
  <li><a href="#"><strong>Further resources</strong></a></li>
  <li class="toggle">
    <details>
        <summary>Common questions</summary>
        <ol>
          <li><a href="/fr/docs/Learn/HTML/Howto">HTML questions</a></li>
          <li><a href="/fr/docs/Learn/CSS/Howto">CSS questions</a></li>
          <li><a href="/fr/docs/Learn/JavaScript/Howto">JavaScript questions</a></li>
          <li><a href="/fr/docs/Learn/Common_questions#Web_mechanics">Web mechanics</a></li>
          <li><a href="/fr/docs/Learn/Common_questions#Tools_and_setup">Tools and setup</a></li>
          <li><a href="/fr/docs/Learn/Common_questions#Design_and_accessibility">Design and accessibility</a></li>
        </ol>
    </details>
  </li>
</ol>

</div></nav></div><footer id="nav-footer" class="page-footer"><div class="content-container"><div class="page-footer-logo"><a href="/fr/" class="logo" aria-label="MDN Web Docs"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 451.74 135" fill="#fff"><path d="M7.14 8.35v111.06h111.05V8.35zm103.71 56c-.48.92-1 1.79-1.46 2.71a3.44 3.44 0 01-3.54 2 2.4 2.4 0 00-1.55.5c-1.37.9-2.76 1.79-4.18 2.63a7.33 7.33 0 01-6.35.34 29.71 29.71 0 00-10.63-2 11.7 11.7 0 00-9.46 4.31 14.84 14.84 0 00-2.13 4.29c-1.24 3.07-2.3 21.38-2.3 26.05 0 0-17.62-3.42-34.15-20.34l4.31-11.32h-13.5l9.76-10.35h-16.8l9.77-10.34H12.69L30.45 34a40.9 40.9 0 0119.77-10.83c7.1-1.22 8.93-.53 13.31.77l2.43.73.85.25 3.1.95a12.56 12.56 0 006.21.09 11.37 11.37 0 018.25 1 8.24 8.24 0 014.1 6.22 7.29 7.29 0 003.61 5.49 59.45 59.45 0 009.32 4.11c2.27.86 4.54 1.84 6.79 2.72a6.81 6.81 0 012.86 2.06 4.81 4.81 0 011.1 2.73c.14 2 .37 4 .47 6a15.24 15.24 0 01-1.77 8.03zM320.12 39.62a5.42 5.42 0 00-4.53 2.13 7.36 7.36 0 00-1.7 4.43v2.36a6.28 6.28 0 001.7 4.46 5.63 5.63 0 004.3 1.82 5.12 5.12 0 004.57-2.27A9.7 9.7 0 00326 47a8.11 8.11 0 00-1.67-5.52 5.36 5.36 0 00-4.21-1.86zM387.38 39.53a5.52 5.52 0 00-4.7 2.15 8.8 8.8 0 00-1.63 5.49 9.23 9.23 0 001.58 5.45 5.38 5.38 0 004.7 2.25 5.61 5.61 0 004.74-2.2 8.91 8.91 0 001.68-5.59 8.24 8.24 0 00-1.75-5.52 5.76 5.76 0 00-4.62-2.03zM299.47 41.35a4.34 4.34 0 00-4-1.92 4.55 4.55 0 00-3.89 1.73 8.37 8.37 0 00-1.58 4.17h10.48a6.3 6.3 0 00-1.01-3.98zM357.74 30.75H352v23.31h5.72q5.47 0 8.35-3t2.93-8.65q0-5.43-2.88-8.55t-8.38-3.11z"></path><path d="M121.55 8.35v70.8h323V8.35zm42.21 22.45h-4V54h3.68v3.73h-11.25V54h3.31V36.79h-.19l-9.63 19.12h-2.12l-10-19.4h-.19V54h3.45v3.73h-11.15V54h3.68V30.8h-4v-3.73H133l11.66 22.56h.19l11.18-22.56h7.7zm29.12 22.67q-4.11 4.28-11.38 4.28h-14.06v-3.69h3.73V30.75h-3.73v-3.68h13.83q7.59 0 11.66 4.29a15.4 15.4 0 014 11 15.33 15.33 0 01-4.05 11.11zm38.89-22.67h-3.68v27h-2.6L208.08 35h-.19v19h4.67v3.73h-12.22V54h3.49V30.8h-4v-3.73h7.08l16.9 22.09h.19V30.8h-4.58v-3.73h12.32zm43.8 27h-3.31l-7.83-23.18h-.19l-7.55 23.18h-3.35l-8.78-27h-2.65v-3.73H253v3.73h-3.87L255 50.71h.23l6.61-19.91H259v-3.73h11v3.73h-2.78l6.61 20.1h.23l5.43-20.1h-4.15v-3.73h11v3.73h-2.54zm26.71-1.51a9.66 9.66 0 01-6.42 2 10.2 10.2 0 01-7.41-2.74c-1.89-1.82-2.83-4.47-2.83-7.93a12.37 12.37 0 012.64-8.12 9 9 0 017.32-3.21 8.62 8.62 0 016.75 2.69 9.65 9.65 0 012.45 6.52 13.67 13.67 0 01-.28 2.69H290q.29 6.71 6.18 6.7a5.2 5.2 0 003.71-1.18 5.82 5.82 0 001.67-2.83l3.45.71a7.21 7.21 0 01-2.73 4.65zm25.77-1.63c-1.51 2.4-3.92 3.61-7.22 3.61s-5.84-1.29-7.22-3.87c0 .25-.1.82-.21 1.7s-.19 1.44-.22 1.7H309c.16-1 .31-2 .47-3.07a21.42 21.42 0 00.24-3.16v-23h-3.4v-3.3h7.55V40.9a9.76 9.76 0 012.67-3.28 7.33 7.33 0 014.74-1.4 8.48 8.48 0 016.5 2.78q2.55 2.74 2.55 7.74a14.6 14.6 0 01-2.27 7.87zm41.39-1.14q-4.11 4.28-11.37 4.28H344v-3.74h3.73V30.75H344v-3.68h13.83q7.59 0 11.66 4.29a15.41 15.41 0 014.06 11 15.34 15.34 0 01-4.11 11.11zm25.65 1.68a10.53 10.53 0 01-7.9 3.07 10 10 0 01-7.63-3 10.93 10.93 0 01-2.8-7.83 12.13 12.13 0 012.69-7.93q2.69-3.3 8-3.3t8 3.28a12 12 0 012.64 7.76 10.86 10.86 0 01-3 7.9zm22.61.57c-1.4 1.66-3.63 2.5-6.68 2.5a9.58 9.58 0 01-7.15-2.76q-2.72-2.76-2.71-7.91a12.25 12.25 0 012.69-8 9.17 9.17 0 017.5-3.28 15 15 0 013.82.48 10.37 10.37 0 013.5 1.65l.85 5.47-3.35.38-.76-3.54a8.07 8.07 0 00-4.11-1 4.9 4.9 0 00-4.39 2.15 9.93 9.93 0 00-1.41 5.55 8.9 8.9 0 001.5 5.38 5.23 5.23 0 004.44 2c2.92 0 4.67-1.7 5.23-5.1l3.5.71a10.34 10.34 0 01-2.47 5.27zm20.48.75a11.68 11.68 0 01-6.63 1.75 15.52 15.52 0 01-8.26-2.08L424 51l3.26.33-.1 2.74a7 7 0 002.06.66 12.63 12.63 0 002.19.19 8.68 8.68 0 003.66-.75 2.5 2.5 0 001.63-2.36 2.25 2.25 0 00-1.32-2.2 12.65 12.65 0 00-3.28-1 47.39 47.39 0 01-3.9-.82 7.5 7.5 0 01-3.25-1.7 4.67 4.67 0 01-1.33-3.66c0-2.36.88-4 2.62-4.91a12 12 0 015.6-1.37 15 15 0 014.08.55 16.65 16.65 0 013.47 1.39l.47 5.1-3.3.37-.48-3.3a9.5 9.5 0 00-4.06-.9 5.62 5.62 0 00-2.87.66 2.33 2.33 0 00-1.15 2.25 2.13 2.13 0 001.3 2.07 11.91 11.91 0 003.21.92 36.69 36.69 0 013.82.83 7.46 7.46 0 013.21 1.74 4.9 4.9 0 011.3 3.73 5.56 5.56 0 01-2.66 4.91z"></path><path d="M181.17 30.75h-5.71v23.31h5.71q5.47 0 8.36-3t2.88-8.61q0-5.43-2.88-8.55t-8.36-3.15zM121.63 119.32V81.74h114.91v37.58zM153.22 109h-2v-6.85a4.8 4.8 0 00-1.58-4 5.57 5.57 0 00-3.55-1.26 5 5 0 00-4.92 3.26 4.19 4.19 0 00-1.88-2.46 5.82 5.82 0 00-3-.8 4.89 4.89 0 00-4.56 2.56v-2.21h-6.28v3.26h2v8.5h-2v3.23h9.11V109h-2.86v-5.25a4.4 4.4 0 01.69-2.56 2.47 2.47 0 012.21-1q2.57 0 2.56 3.63v8.41h6.29V109h-2v-5.25a4.47 4.47 0 01.67-2.56 2.42 2.42 0 012.19-1q2.63 0 2.63 3.63v8.41h6.28zm9.88-12.07q-4 0-6 2.36a8.41 8.41 0 00-2 5.66 7.25 7.25 0 002.17 5.62 8 8 0 005.65 2 8.54 8.54 0 005.94-2.11 7.27 7.27 0 002.34-5.67 8.21 8.21 0 00-2-5.51q-2.07-2.34-6.1-2.34zm-.1 12.35a3 3 0 01-2.63-1.33 5.68 5.68 0 01-.9-3.26 5 5 0 011-3.28 3.23 3.23 0 012.61-1.18 3.5 3.5 0 012.59 1.08 4.56 4.56 0 011.07 3.31 5.21 5.21 0 01-1 3.41 3.33 3.33 0 01-2.74 1.25zm25-2.3l-3.39-.29-.7 2.32H179l8.32-9.54-.32-2.23h-13.19l-.53 5.25 3.16.34.67-2.36h4.65l-8.25 9.53.44 2.26h13.13zm7.62-9.74h-4.46v5.39h4.46zm0 9.61h-4.46v5.39h4.46zm13.54-17.49h-4.23l-6.48 22.88h4.22zm8.68 0h-4.23l-6.45 22.88h4.19zm15 22.51l-.07-2.26a1.22 1.22 0 01-.56.1c-.69 0-1-.39-1-1.16v-6.49a4.39 4.39 0 00-1.8-3.84 7 7 0 00-4.16-1.28 14.55 14.55 0 00-3.16.3 24.14 24.14 0 00-3.29 1.06l-.56 3.46 3.39.4.5-1.69a2.78 2.78 0 011.08-.37 11.3 11.3 0 011.25-.07c1.19 0 1.89.37 2.09 1.1a8.55 8.55 0 01.3 2.26v.5a8.91 8.91 0 00-1.18-.11h-1.21a12.64 12.64 0 00-4.81.88 3.53 3.53 0 00-2.18 3.64 3.66 3.66 0 001.48 3.33 5.63 5.63 0 003.11 1 4.67 4.67 0 003-.91 6.78 6.78 0 001.8-2 3 3 0 003.33 3 5.54 5.54 0 002.66-.85zm-9.25-2.32a1.69 1.69 0 01-1.36-.52 1.81 1.81 0 01-.43-1.21 1.67 1.67 0 01.86-1.68 4.63 4.63 0 012-.42 7.69 7.69 0 011.07.07l1.06.13a3.58 3.58 0 01-1.08 2.74 3.24 3.24 0 01-2.11.89z"></path></svg></a></div><ul class="link-list-mdn"><li><a href="/fr/docs/Web">Web Technologies</a></li><li><a href="/fr/docs/Learn">Learn Web Development</a></li><li><a href="/fr/docs/MDN/About">About MDN</a></li><li><a href="/fr/docs/MDN/Feedback">Feedback</a></li></ul><ul class="link-list-moz"><li><a href="https://www.mozilla.org/about/" target="_blank" rel="noopener noreferrer">About</a></li><li><a href="https://shop.spreadshirt.com/mdn-store/" target="_blank" rel="noopener noreferrer">MDN Web Docs Store</a></li><li><a href="https://www.mozilla.org/contact/" target="_blank" rel="noopener noreferrer">Contact Us</a></li><li><a href="https://www.mozilla.org/firefox/?utm_source=developer.mozilla.org&amp;utm_campaign=footer&amp;utm_medium=referral" target="_blank" rel="noopener noreferrer">Firefox</a></li></ul><div class="social social-mdn"><h4>MDN</h4><ul><li><a class="social-icon twitter" href="https://twitter.com/mozdevnet" target="_blank" rel="noopener noreferrer"><span class="visually-hidden">MDN on Twitter</span></a></li><li><a class="social-icon github" href="https://github.com/mdn/" target="_blank" rel="noopener noreferrer"><span class="visually-hidden">MDN on Github</span></a></li></ul></div><div class="social social-moz"><h4>Mozilla</h4><ul><li><a class="social-icon twitter" href="https://twitter.com/mozilla" target="_blank" rel="noopener noreferrer"><span class="visually-hidden">Mozilla on Twitter</span></a></li><li><a class="social-icon instagram" href="https://www.instagram.com/mozillagram/" target="_blank" rel="noopener noreferrer"><span class="visually-hidden">Mozilla on Instagram</span></a></li></ul></div><p id="license" class="footer-license">¬© 2005-<!-- -->2022<!-- --> Mozilla and individual contributors. Content is available under<!-- --> <a href="/docs/MDN/About#Copyrights_and_licenses">these licenses</a>.</p><ul class="footer-legal"><li><a href="https://www.mozilla.org/about/legal/terms/mozilla" target="_blank" rel="noopener noreferrer">Terms</a></li><li><a href="https://www.mozilla.org/privacy/websites/" target="_blank" rel="noopener noreferrer">Privacy</a></li><li><a href="https://www.mozilla.org/privacy/websites/#cookies" target="_blank" rel="noopener noreferrer">Cookies</a></li></ul></div></footer><div class="page-overlay hidden"></div></div><script type="application/json" id="hydration">{"doc":{"isMarkdown":true,"isTranslated":true,"isActive":true,"flaws":{},"title":"Django Tutorial Part 10: Testing a Django web application","mdn_url":"/fr/docs/Learn/Server-side/Django/Testing","locale":"fr","native":"Fran√ßais","sidebarHTML":"\n\n<ol>\n  <li data-default-state=\"\"><a href=\"/fr/docs/Learn/Getting_started_with_the_web\"><strong>Bienvenue aux d√©butants !</strong></a></li>\n  <li class=\"toggle\">\n      <details>\n          <summary>Commencer avec le Web</summary>\n          <ol>\n            <li><a href=\"/fr/docs/Learn/Getting_started_with_the_web\">Vue d'ensemble de Commencer avec le Web</a></li>\n            <li><a href=\"/fr/docs/Learn/Getting_started_with_the_web/Installing_basic_software\">Installation des outils de base</a></li>\n            <li><a href=\"/fr/docs/Learn/Getting_started_with_the_web/What_will_your_website_look_like\">Quel sera l'aspect de votre site web ?</a></li>\n            <li><a href=\"/fr/docs/Learn/Getting_started_with_the_web/Dealing_with_files\">G√©rer les fichiers</a></li>\n            <li><a href=\"/fr/docs/Learn/Getting_started_with_the_web/HTML_basics\">Les bases de HTML</a></li>\n            <li><a href=\"/fr/docs/Learn/Getting_started_with_the_web/CSS_basics\">Les bases de CSS</a></li>\n            <li><a href=\"/fr/docs/Learn/Getting_started_with_the_web/JavaScript_basics\">Les bases de JavaScript</a></li>\n            <li><a href=\"/fr/docs/Learn/Getting_started_with_the_web/Publishing_your_website\">Publier votre site web</a></li>\n            <li><a href=\"/fr/docs/Learn/Getting_started_with_the_web/How_the_Web_works\">Le fonctionnement du Web</a></li>\n          </ol>\n      </details>\n  </li>\n  <li data-default-state=\"\"><a href=\"/fr/docs/Learn/HTML\"><strong>HTML</strong></a></li>\n  <li class=\"toggle\">\n      <details>\n          <summary>Introduction au HTML</summary>\n          <ol>\n            <li><a href=\"/fr/docs/Learn/HTML/Introduction_to_HTML\">Vue d'ensemble de Introduction au HTML</a></li>\n            <li><a href=\"/fr/docs/Learn/HTML/Introduction_to_HTML/Getting_started\">Commencer avec le HTML</a></li>\n            <li><a href=\"/fr/docs/Learn/HTML/Introduction_to_HTML/The_head_metadata_in_HTML\">Qu'y-a-t-il dans l'en-t√™te ? M√©tadonn√©es en HTML</a></li>\n            <li><a href=\"/fr/docs/Learn/HTML/Introduction_to_HTML/HTML_text_fundamentals\">Fondamentaux du texte en HTML</a></li>\n            <li><a href=\"/fr/docs/Learn/HTML/Introduction_to_HTML/Creating_hyperlinks\">Cr√©ation d'hyperliens</a></li>\n            <li><a href=\"/fr/docs/Learn/HTML/Introduction_to_HTML/Advanced_text_formatting\">Formatage avanc√© du texte</a></li>\n            <li><a href=\"/fr/docs/Learn/HTML/Introduction_to_HTML/Document_and_website_structure\">Structure de site web et de document</a></li>\n            <li><a href=\"/fr/docs/Learn/HTML/Introduction_to_HTML/Debugging_HTML\">D√©boguer en HTML</a></li>\n            <li><a href=\"/fr/docs/Learn/HTML/Introduction_to_HTML/Marking_up_a_letter\">Baliser une lettre</a></li>\n            <li><a href=\"/fr/docs/Learn/HTML/Introduction_to_HTML/Structuring_a_page_of_content\">Structurer une page de contenu</a></li>\n          </ol>\n      </details>\n  </li>\n  <li class=\"toggle\">\n      <details>\n          <summary>Multimedia and embedding</summary>\n          <ol>\n            <li><a href=\"/fr/docs/Learn/HTML/Multimedia_and_embedding\">Multimedia and embedding overview</a></li>\n            <li><a href=\"/fr/docs/Learn/HTML/Multimedia_and_embedding/Images_in_HTML\">Images in HTML</a></li>\n            <li><a href=\"/fr/docs/Learn/HTML/Multimedia_and_embedding/Video_and_audio_content\">Video and audio content</a></li>\n            <li><a href=\"/fr/docs/Learn/HTML/Multimedia_and_embedding/Other_embedding_technologies\">From object to iframe ‚Äî other embedding technologies</a></li>\n            <li><a href=\"/fr/docs/Learn/HTML/Multimedia_and_embedding/Adding_vector_graphics_to_the_Web\">Adding vector graphics to the Web</a></li>\n            <li><a href=\"/fr/docs/Learn/HTML/Multimedia_and_embedding/Responsive_images\">Responsive images</a></li>\n            <li><a href=\"/fr/docs/Learn/HTML/Multimedia_and_embedding/Mozilla_splash_page\">Assessment: Mozilla splash page</a></li>\n          </ol>\n      </details>\n  </li>\n  <li class=\"toggle\">\n      <details>\n          <summary>HTML tables</summary>\n          <ol>\n            <li><a href=\"/fr/docs/Learn/HTML/Tables\">HTML tables overview</a></li>\n            <li><a href=\"/fr/docs/Learn/HTML/Tables/Basics\">HTML table basics</a></li>\n            <li><a href=\"/fr/docs/Learn/HTML/Tables/Advanced\">HTML Table advanced features and accessibility</a></li>\n            <li><a href=\"/fr/docs/Learn/HTML/Tables/Structuring_planet_data\">Assessment: Structuring planet data</a></li>\n          </ol>\n      </details>\n  </li>\n  <li data-default-state=\"\"><a href=\"/fr/docs/Learn/CSS\"><strong>CSS ‚Äî Styling the Web</strong></a></li>\n  <li class=\"toggle\">\n      <details>\n          <summary>CSS first steps</summary>\n          <ol>\n            <li><a href=\"/fr/docs/Learn/CSS/First_steps\">CSS first steps overview</a></li>\n            <li><a href=\"/fr/docs/Learn/CSS/First_steps/What_is_CSS\">What is CSS?</a></li>\n            <li><a href=\"/fr/docs/Learn/CSS/First_steps/Getting_started\">Getting started with CSS</a></li>\n            <li><a href=\"/fr/docs/Learn/CSS/First_steps/How_CSS_is_structured\">How CSS is structured</a></li>\n            <li><a href=\"/fr/docs/Learn/CSS/First_steps/How_CSS_works\">How CSS works</a></li>\n            <li><a href=\"/fr/docs/Learn/CSS/First_steps/Using_your_new_knowledge\">Using your new knowledge</a></li>\n          </ol>\n      </details>\n  </li>\n  <li class=\"toggle\">\n      <details>\n          <summary>CSS building blocks</summary>\n          <ol>\n            <li><a href=\"/fr/docs/Learn/CSS/Building_blocks\">CSS building blocks overview</a></li>\n            <li><a href=\"/fr/docs/Learn/CSS/Building_blocks/Cascade_and_inheritance\">Cascade and inheritance</a></li>\n            <li><a href=\"/fr/docs/Learn/CSS/Building_blocks/Selectors\">CSS selectors</a></li>\n            <li><a href=\"/fr/docs/Learn/CSS/Building_blocks/The_box_model\">The box model</a></li>\n            <li><a href=\"/fr/docs/Learn/CSS/Building_blocks/Backgrounds_and_borders\">Backgrounds and borders</a></li>\n            <li><a href=\"/fr/docs/Learn/CSS/Building_blocks/Handling_different_text_directions\">Handling different text directions</a></li>\n            <li><a href=\"/fr/docs/Learn/CSS/Building_blocks/Overflowing_content\">Overflowing content</a></li>\n            <li><a href=\"/fr/docs/Learn/CSS/Building_blocks/Values_and_units\">Values and units</a></li>\n            <li><a href=\"/fr/docs/Learn/CSS/Building_blocks/Sizing_items_in_CSS\">Sizing items in CSS</a></li>\n            <li><a href=\"/fr/docs/Learn/CSS/Building_blocks/Images_media_form_elements\">Images, media, and form elements</a></li>\n            <li><a href=\"/fr/docs/Learn/CSS/Building_blocks/Styling_tables\">Styling tables</a></li>\n            <li><a href=\"/fr/docs/Learn/CSS/Building_blocks/Debugging_CSS\">Debugging CSS</a></li>\n            <li><a href=\"/fr/docs/Learn/CSS/Building_blocks/Organizing\">Organizing your CSS</a></li>\n      </ol></details>\n  </li>\n  <li class=\"toggle\">\n      <details>\n          <summary>Styling text</summary>\n          <ol>\n            <li><a href=\"/fr/docs/Learn/CSS/Styling_text\">Styling text overview</a></li>\n            <li><a href=\"/fr/docs/Learn/CSS/Styling_text/Fundamentals\">Fundamental text and font styling</a></li>\n            <li><a href=\"/fr/docs/Learn/CSS/Styling_text/Styling_lists\">Styling lists</a></li>\n            <li><a href=\"/fr/docs/Learn/CSS/Styling_text/Styling_links\">Styling links</a></li>\n            <li><a href=\"/fr/docs/Learn/CSS/Styling_text/Web_fonts\">Web fonts</a></li>\n            <li><a href=\"/fr/docs/Learn/CSS/Styling_text/Typesetting_a_homepage\">Assessment: Typesetting a community school homepage</a></li>\n          </ol>\n      </details>\n  </li>\n  <li class=\"toggle\">\n      <details>\n          <summary>CSS layout</summary>\n          <ol>\n            <li><a href=\"/fr/docs/Learn/CSS/CSS_layout\">CSS layout overview</a></li>\n            <li><a href=\"/fr/docs/Learn/CSS/CSS_layout/Introduction\">Introduction to CSS layout</a></li>\n            <li><a href=\"/fr/docs/Learn/CSS/CSS_layout/Normal_Flow\">Normal Flow</a></li>\n            <li><a href=\"/fr/docs/Learn/CSS/CSS_layout/Flexbox\">Flexbox</a></li>\n            <li><a href=\"/fr/docs/Learn/CSS/CSS_layout/Grids\">Grids</a></li>\n            <li><a href=\"/fr/docs/Learn/CSS/CSS_layout/Floats\">Floats</a></li>\n            <li><a href=\"/fr/docs/Learn/CSS/CSS_layout/Positioning\">Positioning</a></li>\n            <li><a href=\"/fr/docs/Learn/CSS/CSS_layout/Multiple-column_Layout\">Multiple-column Layout</a></li>\n            <li><a href=\"/fr/docs/Learn/CSS/CSS_layout/Responsive_Design\">Responsive design</a></li>\n            <li><a href=\"/fr/docs/Learn/CSS/CSS_layout/Media_queries\">Beginner's guide to media queries</a></li>\n            <li><a href=\"/fr/docs/Learn/CSS/CSS_layout/Legacy_Layout_Methods\">Legacy Layout Methods</a></li>\n            <li><a href=\"/fr/docs/Learn/CSS/CSS_layout/Supporting_Older_Browsers\">Supporting Older Browsers</a></li>\n            <li><a href=\"/fr/docs/Learn/CSS/CSS_layout/Fundamental_Layout_Comprehension\">Fundamental Layout Comprehension</a></li>\n          </ol>\n      </details>\n  </li>\n  <li data-default-state=\"\"><a href=\"/fr/docs/Learn/JavaScript\"><strong>JavaScript ‚Äî Dynamic client-side scripting</strong></a></li>\n  <li class=\"toggle\">\n      <details>\n          <summary>JavaScript first steps</summary>\n          <ol>\n            <li><a href=\"/fr/docs/Learn/JavaScript/First_steps\">JavaScript first steps overview</a></li>\n            <li><a href=\"/fr/docs/Learn/JavaScript/First_steps/What_is_JavaScript\">What is JavaScript?</a></li>\n            <li><a href=\"/fr/docs/Learn/JavaScript/First_steps/A_first_splash\">A first splash into JavaScript</a></li>\n            <li><a href=\"/fr/docs/Learn/JavaScript/First_steps/What_went_wrong\">What went wrong? Troubleshooting JavaScript</a></li>\n            <li><a href=\"/fr/docs/Learn/JavaScript/First_steps/Variables\">Storing the information you need ‚Äî Variables</a></li>\n            <li><a href=\"/fr/docs/Learn/JavaScript/First_steps/Math\">Basic math in JavaScript ‚Äî Numbers and operators</a></li>\n            <li><a href=\"/fr/docs/Learn/JavaScript/First_steps/Strings\">Handling text ‚Äî Strings in JavaScript</a></li>\n            <li><a href=\"/fr/docs/Learn/JavaScript/First_steps/Useful_string_methods\">Useful string methods</a></li>\n            <li><a href=\"/fr/docs/Learn/JavaScript/First_steps/Arrays\">Arrays</a></li>\n            <li><a href=\"/fr/docs/Learn/JavaScript/First_steps/Silly_story_generator\">Assessment: Silly story generator</a></li>\n          </ol>\n      </details>\n  </li>\n  <li class=\"toggle\">\n      <details>\n          <summary>JavaScript building blocks</summary>\n          <ol>\n            <li><a href=\"/fr/docs/Learn/JavaScript/Building_blocks\">JavaScript building blocks overview</a></li>\n            <li><a href=\"/fr/docs/Learn/JavaScript/Building_blocks/conditionals\">Making decisions in your code ‚Äî Conditionals</a></li>\n            <li><a href=\"/fr/docs/Learn/JavaScript/Building_blocks/Looping_code\">Looping code</a></li>\n            <li><a href=\"/fr/docs/Learn/JavaScript/Building_blocks/Functions\">Functions ‚Äî Reusable blocks of code</a></li>\n            <li><a href=\"/fr/docs/Learn/JavaScript/Building_blocks/Build_your_own_function\">Build your own function</a></li>\n            <li><a href=\"/fr/docs/Learn/JavaScript/Building_blocks/Return_values\">Function return values</a></li>\n            <li><a href=\"/fr/docs/Learn/JavaScript/Building_blocks/Events\">Introduction to events</a></li>\n            <li><a href=\"/fr/docs/Learn/JavaScript/Building_blocks/Image_gallery\">Assessment: Image gallery</a></li>\n          </ol>\n      </details>\n  </li>\n  <li class=\"toggle\">\n      <details>\n          <summary>Introducing JavaScript objects</summary>\n          <ol>\n            <li><a href=\"/fr/docs/Learn/JavaScript/Objects\">Introducing JavaScript objects overview</a></li>\n            <li><a href=\"/fr/docs/Learn/JavaScript/Objects/Basics\">Object basics</a></li>\n            <li><a href=\"/fr/docs/Learn/JavaScript/Objects/Object_prototypes\">Object prototypes</a></li>\n            <li><a href=\"/fr/docs/Learn/JavaScript/Objects/Object-oriented_programming\">Object-oriented programming concepts</a></li>\n            <li><a href=\"/fr/docs/Learn/JavaScript/Objects/Classes_in_JavaScript\">Classes in JavaScript</a></li>\n            <li><a href=\"/fr/docs/Learn/JavaScript/Objects/JSON\">Working with JSON data</a></li>\n            <li><a href=\"/fr/docs/Learn/JavaScript/Objects/Object_building_practice\">Object building practice</a></li>\n            <li><a href=\"/fr/docs/Learn/JavaScript/Objects/Adding_bouncing_balls_features\">Assessment: Adding features to our bouncing balls demo</a></li>\n          </ol>\n      </details>\n  </li>\n  <li class=\"toggle\">\n    <details>\n        <summary>Asynchronous JavaScript</summary>\n        <ol>\n          <li><a href=\"/fr/docs/Learn/JavaScript/Asynchronous\">Asynchronous JavaScript overview</a></li>\n          <li><a href=\"/fr/docs/Learn/JavaScript/Asynchronous/Concepts\">General asynchronous programming concepts</a></li>\n          <li><a href=\"/fr/docs/Learn/JavaScript/Asynchronous/Introducing\">Introducing asynchronous JavaScript</a></li>\n          <li><a href=\"/fr/docs/Learn/JavaScript/Asynchronous/Timeouts_and_intervals\">Cooperative asynchronous Java‚ÄãScript: Timeouts and intervals</a></li>\n          <li><a href=\"/fr/docs/Learn/JavaScript/Asynchronous/Promises\">Graceful asynchronous programming with Promises</a></li>\n          <li><a href=\"/fr/docs/Learn/JavaScript/Asynchronous/Async_await\">Making asynchronous programming easier with async and await</a></li>\n          <li><a href=\"/fr/docs/Learn/JavaScript/Asynchronous/Choosing_the_right_approach\">Choosing the right approach</a></li>\n        </ol>\n    </details>\n  </li>\n  <li class=\"toggle\">\n    <details>\n        <summary>Client-side web APIs</summary>\n        <ol>\n          <li><a href=\"/fr/docs/Learn/JavaScript/Client-side_web_APIs\">Client-side web APIs</a></li>\n          <li><a href=\"/fr/docs/Learn/JavaScript/Client-side_web_APIs/Introduction\">Introduction to web APIs</a></li>\n          <li><a href=\"/fr/docs/Learn/JavaScript/Client-side_web_APIs/Manipulating_documents\">Manipulating documents</a></li>\n          <li><a href=\"/fr/docs/Learn/JavaScript/Client-side_web_APIs/Fetching_data\">Fetching data from the server</a></li>\n          <li><a href=\"/fr/docs/Learn/JavaScript/Client-side_web_APIs/Third_party_APIs\">Third party APIs</a></li>\n          <li><a href=\"/fr/docs/Learn/JavaScript/Client-side_web_APIs/Drawing_graphics\">Drawing graphics</a></li>\n          <li><a href=\"/fr/docs/Learn/JavaScript/Client-side_web_APIs/Video_and_audio_APIs\">Video and audio APIs</a></li>\n          <li><a href=\"/fr/docs/Learn/JavaScript/Client-side_web_APIs/Client-side_storage\">Client-side storage</a></li>\n        </ol>\n    </details>\n  </li>\n  <li><a href=\"/fr/docs/Learn/Forms\"><strong>Web forms ‚Äî Working with user data</strong></a></li>\n  <li class=\"toggle\">\n    <details>\n        <summary>Core forms learning pathway</summary>\n        <ol>\n          <li><a href=\"/fr/docs/Learn/Forms\">Web forms overview</a></li>\n          <li><a href=\"/fr/docs/Learn/Forms/Your_first_form\">Your first form</a></li>\n          <li><a href=\"/fr/docs/Learn/Forms/How_to_structure_a_web_form\">How to structure a web form</a></li>\n          <li><a href=\"/fr/docs/Learn/Forms/Basic_native_form_controls\">Basic native form controls</a></li>\n          <li><a href=\"/fr/docs/Learn/Forms/HTML5_input_types\">The HTML5 input types</a></li>\n          <li><a href=\"/fr/docs/Learn/Forms/Other_form_controls\">Other form controls</a></li>\n          <li><a href=\"/fr/docs/Learn/Forms/Styling_web_forms\">Styling web forms</a></li>\n          <li><a href=\"/fr/docs/Learn/Forms/Advanced_form_styling\">Advanced form styling</a></li>\n          <li><a href=\"/fr/docs/Learn/Forms/UI_pseudo-classes\">UI pseudo-classes</a></li>\n          <li><a href=\"/fr/docs/Learn/Forms/Form_validation\">Client-side form validation</a></li>\n          <li><a href=\"/fr/docs/Learn/Forms/Sending_and_retrieving_form_data\">Sending form data</a></li>\n        </ol>\n    </details>\n  </li>\n  <li class=\"toggle\">\n    <details>\n        <summary>Advanced forms articles</summary>\n        <ol>\n          <li><a href=\"/fr/docs/Learn/Forms/How_to_build_custom_form_controls\">How to build custom form controls</a></li>\n          <li><a href=\"/fr/docs/Learn/Forms/Sending_forms_through_JavaScript\">Sending forms through JavaScript</a></li>\n          <li><a href=\"/fr/docs/Learn/Forms/Property_compatibility_table_for_form_controls\">CSS property compatibility table for form controls</a></li>\n        </ol>\n    </details>\n  </li>\n  <li><a href=\"/fr/docs/Learn/Accessibility\"><strong>Accessibility ‚Äî Make the web usable by everyone</strong></a></li>\n  <li class=\"toggle\">\n    <details>\n        <summary>Accessibility guides</summary>\n        <ol>\n          <li><a href=\"/fr/docs/Learn/Accessibility\">Accessibility overview</a></li>\n          <li><a href=\"/fr/docs/Learn/Accessibility/What_is_accessibility\">What is accessibility?</a></li>\n          <li><a href=\"/fr/docs/Learn/Accessibility/HTML\">HTML: A good basis for accessibility</a></li>\n          <li><a href=\"/fr/docs/Learn/Accessibility/CSS_and_JavaScript\">CSS and JavaScript accessibility best practices</a></li>\n          <li><a href=\"/fr/docs/Learn/Accessibility/WAI-ARIA_basics\">WAI-ARIA basics</a></li>\n          <li><a href=\"/fr/docs/Learn/Accessibility/Multimedia\">Accessible multimedia</a></li>\n          <li><a href=\"/fr/docs/Learn/Accessibility/Mobile\">Mobile accessibility</a></li>\n        </ol>\n    </details>\n  </li>\n  <li class=\"toggle\">\n    <details>\n        <summary>Accessibility assessment</summary>\n        <ol>\n            <li><a href=\"/fr/docs/Learn/Accessibility/Accessibility_troubleshooting\">Assessment: Accessibility troubleshooting</a></li>\n        </ol>\n    </details>\n  </li>\n  <li><a href=\"/fr/docs/Learn/Tools_and_testing\"><strong>Tools and testing</strong></a></li>\n  <li class=\"toggle\">\n    <details>\n        <summary>Client-side web development tools</summary>\n        <ol>\n          <li><a href=\"/fr/docs/Learn/Tools_and_testing/Understanding_client-side_tools\">Client-side web development tools index</a></li>\n          <li><a href=\"/fr/docs/Learn/Tools_and_testing/Understanding_client-side_tools/Overview\">Client-side tooling overview</a></li>\n          <li><a href=\"/fr/docs/Learn/Tools_and_testing/Understanding_client-side_tools/Command_line\">Command line crash course</a></li>\n          <li><a href=\"/fr/docs/Learn/Tools_and_testing/Understanding_client-side_tools/Package_management\">Package management basics</a></li>\n          <li><a href=\"/fr/docs/Learn/Tools_and_testing/Understanding_client-side_tools/Introducing_complete_toolchain\">Introducing a complete toolchain</a></li>\n          <li><a href=\"/fr/docs/Learn/Tools_and_testing/Understanding_client-side_tools/Deployment\">Deploying our app</a></li>\n        </ol>\n    </details>\n  </li>\n  <li class=\"toggle\">\n    <details>\n        <summary>Introduction to client-side frameworks</summary>\n        <ol>\n          <li><a href=\"/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Introduction\">Client-side frameworks overview</a></li>\n          <li><a href=\"/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Main_features\">Framework main features</a></li>\n        </ol>\n    </details>\n  </li>\n  <li class=\"toggle\">\n    <details>\n        <summary>React</summary>\n        <ol>\n          <li><a href=\"/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/React_getting_started\">Getting started with React</a></li>\n          <li><a href=\"/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/React_todo_list_beginning\">Beginning our React todo list</a></li>\n          <li><a href=\"/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/React_components\">Componentizing our React app</a></li>\n          <li><a href=\"/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/React_interactivity_events_state\">React interactivity: Events and state</a></li>\n          <li><a href=\"/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/React_interactivity_filtering_conditional_rendering\">React interactivity: Editing, filtering, conditional rendering</a></li>\n          <li><a href=\"/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/React_accessibility\">Accessibility in React</a></li>\n          <li><a href=\"/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/React_resources\">React resources</a></li>\n        </ol>\n    </details>\n  </li>\n  <li class=\"toggle\">\n    <details>\n        <summary>Ember</summary>\n        <ol>\n          <li><a href=\"/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Ember_getting_started\">Getting started with Ember</a></li>\n          <li><a href=\"/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Ember_structure_componentization\">Ember app structure and componentization</a></li>\n          <li><a href=\"/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Ember_interactivity_events_state\">Ember interactivity: Events, classes and state</a></li>\n          <li><a href=\"/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Ember_conditional_footer\">Ember Interactivity: Footer functionality, conditional rendering</a></li>\n          <li><a href=\"/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Ember_routing\">Routing in Ember</a></li>\n          <li><a href=\"/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Ember_resources\">Ember resources and troubleshooting</a></li>\n        </ol>\n    </details>\n  </li>\n  <li class=\"toggle\">\n    <details>\n        <summary>Vue</summary>\n        <ol>\n          <li><a href=\"/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Vue_getting_started\">Getting started with Vue</a></li>\n          <li><a href=\"/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Vue_first_component\">Creating our first Vue component</a></li>\n          <li><a href=\"/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Vue_rendering_lists\">Rendering a list of Vue components</a></li>\n          <li><a href=\"/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Vue_methods_events_models\">Adding a new todo form: Vue events, methods, and models</a></li>\n          <li><a href=\"/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Vue_styling\">Styling Vue components with CSS</a></li>\n          <li><a href=\"/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Vue_computed_properties\">Using Vue computed properties</a></li>\n          <li><a href=\"/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Vue_conditional_rendering  \">Vue conditional rendering: editing existing todos</a></li>\n          <li><a href=\"/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Vue_refs_focus_management\">Focus management with Vue refs</a></li>\n          <li><a href=\"/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Vue_resources\">Vue resources</a></li>\n        </ol>\n    </details>\n  </li>\n  <li class=\"toggle\">\n    <details>\n        <summary>Svelte</summary>\n        <ol>\n          <li><a href=\"/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Svelte_getting_started\">Getting started with Svelte</a></li>\n          <li><a href=\"/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Svelte_Todo_list_beginning\">Starting our Svelte Todo list app</a></li>\n          <li><a href=\"/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Svelte_variables_props\">Dynamic behavior in Svelte: working with variables and props</a></li>\n          <li><a href=\"/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Svelte_components\">Componentizing our Svelte app</a></li>\n          <li><a href=\"/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Svelte_reactivity_lifecycle_accessibility\">Advanced Svelte: Reactivity, lifecycle, accessibility</a></li>\n          <li><a href=\"/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Svelte_stores\">Working with Svelte stores</a></li>\n          <li><a href=\"/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Svelte_TypeScript  \">TypeScript support in Svelte</a></li>\n          <li><a href=\"/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Svelte_deployment_next\">Deployment and next steps</a></li>\n        </ol>\n    </details>\n  </li>\n  <li class=\"toggle\">\n    <details>\n        <summary>Angular</summary>\n        <ol>\n          <li><a href=\"/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Angular_getting_started\">Getting started with Angular</a></li>\n          <li><a href=\"/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Angular_todo_list_beginning\">Beginning our Angular todo list app</a></li>\n          <li><a href=\"/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Angular_styling\">Styling our Angular app</a></li>\n          <li><a href=\"/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Angular_item_component\">Creating an item component</a></li>\n          <li><a href=\"/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Angular_filtering\">Filtering our to-do items</a></li>\n          <li><a href=\"/fr/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/Angular_building\">Building Angular applications and further resources</a></li>\n        </ol>\n    </details>\n  </li>\n  <li class=\"toggle\">\n    <details>\n        <summary>Git and GitHub</summary>\n        <ol>\n          <li><a href=\"/fr/docs/Learn/Tools_and_testing/GitHub\">Git and GitHub overview</a></li>\n          <li><a href=\"https://guides.github.com/activities/hello-world/\">Hello World</a></li>\n          <li><a href=\"https://guides.github.com/introduction/git-handbook/\">Git Handbook</a></li>\n          <li><a href=\"https://guides.github.com/activities/forking/\">Forking Projects</a></li>\n          <li><a href=\"https://help.github.com/en/github/collaborating-with-issues-and-pull-requests/about-pull-requests\">About pull requests</a></li>\n          <li><a href=\"https://guides.github.com/features/issues/\">Mastering Issues</a></li>\n        </ol>\n    </details>\n  </li>\n  <li class=\"toggle\">\n    <details>\n        <summary>Cross browser testing</summary>\n        <ol>\n          <li><a href=\"/fr/docs/Learn/Tools_and_testing/Cross_browser_testing\">Cross browser testing overview</a></li>\n          <li><a href=\"/fr/docs/Learn/Tools_and_testing/Cross_browser_testing/Introduction\">Introduction to cross browser testing</a></li>\n          <li><a href=\"/fr/docs/Learn/Tools_and_testing/Cross_browser_testing/Testing_strategies\">Strategies for carrying out testing</a></li>\n          <li><a href=\"/fr/docs/Learn/Tools_and_testing/Cross_browser_testing/HTML_and_CSS\">Handling common HTML and CSS problems</a></li>\n          <li><a href=\"/fr/docs/Learn/Tools_and_testing/Cross_browser_testing/JavaScript\">Handling common JavaScript problems</a></li>\n          <li><a href=\"/fr/docs/Learn/Tools_and_testing/Cross_browser_testing/Accessibility\">Handling common accessibility problems</a></li>\n          <li><a href=\"/fr/docs/Learn/Tools_and_testing/Cross_browser_testing/Feature_detection\">Implementing feature detection</a></li>\n          <li><a href=\"/fr/docs/Learn/Tools_and_testing/Cross_browser_testing/Automated_testing\">Introduction to automated testing</a></li>\n          <li><a href=\"/fr/docs/Learn/Tools_and_testing/Cross_browser_testing/Your_own_automation_environment\">Setting up your own test automation environment</a></li>\n        </ol>\n    </details>\n  </li>\n  <li data-default-state=\"open\"><a href=\"/fr/docs/Learn/Server-side\"><strong>Server-side website programming</strong></a></li>\n  <li class=\"toggle\">\n    <details>\n        <summary>First steps</summary>\n        <ol>\n          <li><a href=\"/fr/docs/Learn/Server-side/First_steps\">First steps overview</a></li>\n          <li><a href=\"/fr/docs/Learn/Server-side/First_steps/Introduction\">Introduction to the server-side</a></li>\n          <li><a href=\"/fr/docs/Learn/Server-side/First_steps/Client-Server_overview\">Client-Server overview</a></li>\n          <li><a href=\"/fr/docs/Learn/Server-side/First_steps/Web_frameworks\">Server-side web frameworks</a></li>\n          <li><a href=\"/fr/docs/Learn/Server-side/First_steps/Website_security\">Website security</a></li>\n        </ol>\n    </details>\n  </li>\n  <li class=\"toggle\">\n    <details open=\"\">\n        <summary>Django web framework (Python)</summary>\n        <ol>\n          <li><a href=\"/fr/docs/Learn/Server-side/Django\">Django web framework (Python) overview</a></li>\n          <li><a href=\"/fr/docs/Learn/Server-side/Django/Introduction\">Introduction</a></li>\n          <li><a href=\"/fr/docs/Learn/Server-side/Django/development_environment\">Setting up a development environment</a></li>\n          <li><a href=\"/fr/docs/Learn/Server-side/Django/Tutorial_local_library_website\">Tutorial: The Local Library website</a></li>\n          <li><a href=\"/fr/docs/Learn/Server-side/Django/skeleton_website\">Tutorial Part 2: Creating a skeleton website</a></li>\n          <li><a href=\"/fr/docs/Learn/Server-side/Django/Models\">Tutorial Part 3: Using models</a></li>\n          <li><a href=\"/fr/docs/Learn/Server-side/Django/Admin_site\">Tutorial Part 4: Django admin site</a></li>\n          <li><a href=\"/fr/docs/Learn/Server-side/Django/Home_page\">Tutorial Part 5: Creating our home page</a></li>\n          <li><a href=\"/fr/docs/Learn/Server-side/Django/Generic_views\">Tutorial Part 6: Generic list and detail views</a></li>\n          <li><a href=\"/fr/docs/Learn/Server-side/Django/Sessions\">Tutorial Part 7: Sessions framework</a></li>\n          <li><a href=\"/fr/docs/Learn/Server-side/Django/Authentication\">Tutorial Part 8: User authentication and permissions</a></li>\n          <li><a href=\"/fr/docs/Learn/Server-side/Django/Forms\">Tutorial Part 9: Working with forms</a></li>\n          <li><a href=\"/fr/docs/Learn/Server-side/Django/Testing\">Tutorial Part 10: Testing a Django web application</a></li>\n          <li><a href=\"/fr/docs/Learn/Server-side/Django/Deployment\">Tutorial Part 11: Deploying Django to production</a></li>\n          <li><a href=\"/fr/docs/Learn/Server-side/Django/web_application_security\">Web application security</a></li>\n          <li><a href=\"/fr/docs/Learn/Server-side/Django/django_assessment_blog\">Assessment: DIY mini blog</a></li>\n        </ol>\n    </details>\n  </li>\n  <li class=\"toggle\">\n    <details>\n        <summary>Express Web Framework (node.js/JavaScript)</summary>\n        <ol>\n          <li><a href=\"/fr/docs/Learn/Server-side/Express_Nodejs\">Express Web Framework (Node.js/JavaScript) overview</a></li>\n          <li><a href=\"/fr/docs/Learn/Server-side/Express_Nodejs/Introduction\">Express/Node introduction</a></li>\n          <li><a href=\"/fr/docs/Learn/Server-side/Express_Nodejs/development_environment\">Setting up a Node (Express) development environment</a></li>\n          <li><a href=\"/fr/docs/Learn/Server-side/Express_Nodejs/Tutorial_local_library_website\">Express tutorial: The Local Library website</a></li>\n          <li><a href=\"/fr/docs/Learn/Server-side/Express_Nodejs/skeleton_website\">Express Tutorial Part 2: Creating a skeleton website</a></li>\n          <li><a href=\"/fr/docs/Learn/Server-side/Express_Nodejs/mongoose\">Express Tutorial Part 3: Using a database (with Mongoose)</a></li>\n          <li><a href=\"/fr/docs/Learn/Server-side/Express_Nodejs/routes\">Express Tutorial Part 4: Routes and controllers</a></li>\n          <li><a href=\"/fr/docs/Learn/Server-side/Express_Nodejs/Displaying_data\">Express Tutorial Part 5: Displaying library data</a></li>\n          <li><a href=\"/fr/docs/Learn/Server-side/Express_Nodejs/forms\">Express Tutorial Part 6: Working with forms</a></li>\n          <li><a href=\"/fr/docs/Learn/Server-side/Express_Nodejs/deployment\">Express Tutorial Part 7: Deploying to production</a></li>\n        </ol>\n    </details>\n  </li>\n  <li><a href=\"#\"><strong>Further resources</strong></a></li>\n  <li class=\"toggle\">\n    <details>\n        <summary>Common questions</summary>\n        <ol>\n          <li><a href=\"/fr/docs/Learn/HTML/Howto\">HTML questions</a></li>\n          <li><a href=\"/fr/docs/Learn/CSS/Howto\">CSS questions</a></li>\n          <li><a href=\"/fr/docs/Learn/JavaScript/Howto\">JavaScript questions</a></li>\n          <li><a href=\"/fr/docs/Learn/Common_questions#Web_mechanics\">Web mechanics</a></li>\n          <li><a href=\"/fr/docs/Learn/Common_questions#Tools_and_setup\">Tools and setup</a></li>\n          <li><a href=\"/fr/docs/Learn/Common_questions#Design_and_accessibility\">Design and accessibility</a></li>\n        </ol>\n    </details>\n  </li>\n</ol>\n\n","body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<ul class=\"prev-next\">\n    <li><a class=\"button minimal\" href=\"/fr/docs/Learn/Server-side/Django/Forms\"> Pr√©c√©dent </a></li>\n    <li><a class=\"button minimal\" href=\"/fr/docs/Learn/Server-side/Django\"> Aper√ßu&nbsp;: Django</a></li>\n    <li><a class=\"button minimal only-in-en-us\" href=\"/en-US/docs/Learn/Server-side/Django/Deployment\" title=\"Currently only available in English (US)\"> Suivant   (en-US)</a></li>\n</ul>\n<p>Quant un site web grandit, il devient plus difficile √† tester manuellement. Non seulement il y a plus de choses √† tester, mais encore, comme les interactions entres ses composants deviennent plus complexes, un l√©ger changement dans une partie de l'application peut affecter les autres parties, si bien qu'il va √™tre n√©cessaire de faire beaucoup de modifications pour s'assurer que tout continue de fonctionner, et qu'aucune erreur ne sera introduite quand il y aura encore plus de modifications. Une fa√ßon de limiter ces probl√®mes est d'√©crire des tests automatiques qui puissent √™tre lanc√©s d'une mani√®re simple et fiable √† chaque fois que vous faites une modification. Ce tutoriel montre comment automatiser des <em>tests unitaires</em> sur votre site web en utilisant le framework de tests de Django.</p>\n<table class=\"standard-table\">\n  <tbody>\n    <tr>\n      <th scope=\"row\">Pr√©requis:</th>\n      <td>\n        Avoir termin√© tous les tutoriels pr√©c√©dents, y compris\n        <a href=\"/fr/docs/Learn/Server-side/Django/Forms\">Django Tutorial Part 9: Working with forms</a>.\n      </td>\n    </tr>\n    <tr>\n      <th scope=\"row\">Objectif:</th>\n      <td>\n        Comprendre comment √©crire des tests unitaires pour des sites web bas√©s\n        sur Django.\n      </td>\n    </tr>\n  </tbody>\n</table>"}},{"type":"prose","value":{"id":"vue_densemble","title":"Vue d'ensemble","isH3":false,"content":"<p>Le site <a href=\"/fr/docs/Learn/Server-side/Django/Tutorial_local_library_website\">Local Library</a> a actuellement des pages pour afficher des listes de tous les livres et auteurs, des pages de d√©tail pour les √©l√©ments de type <code>Book</code> et <code>Author</code>, une page pour renouveler des <code>BookInstance</code>s, et des pages pour cr√©er, mettre √† jour et effacer des √©l√©ments de type <code>Author</code> (et √©galement des enregistrements de type <code>Book</code>, si vous avez relev√© le <em>d√©fi</em> dans le <a href=\"/fr/docs/Learn/Server-side/Django/Forms\">tutoriel sur les formulaires</a>). M√™me avec ce site relativement petit, naviguer manuellement vers chaque page et v√©rifier <em>superficiellement</em> que tout fonctionne comme pr√©vu peut prendre plusieurs minutes. Quand nous allons faire des modifications et agrandir le site, le temps requis pour v√©rifier manuellement que tout fonctionne \"proprement\" va grandir. Si nous continuons comme cela, nous allons s√ªrement passer beaucoup de temps √† tester notre code, et peu √† l'am√©liorer.</p>\n<p>Les tests automatiques peuvent vraiment nous aider √† r√©gler ce probl√®me. Les avantages √©vidents sont qu'ils peuvent √™tre lanc√©s bien rapidement que des tests manuels, peuvent r√©aliser des tests √† un niveau bien plus bas de d√©tail, et tester exactement les m√™mes fonctionnalit√©s √† chaque fois (des testeurs humains sont loin d'√™tre aussi fiables !). Parce qu'ils sont rapides, les tests automatis√©s peuvent √™tre ex√©cut√©s plus r√©guli√®rement, et si un test √©choue, ils pointent exactement vers la partie du code qui n'a pas fonctionn√© comme pr√©vu.</p>\n<p>De plus, les tests automatis√©s peuvent se comporter comme le premier \"utilisateur\" de votre code dans le monde r√©el, vous obligeant √† √™tre rigoureux quand vous d√©finissez et documentez la mani√®re dont votre site doit se comporter. Souvent ils constituent une base pour vos exemples et votre documentation. Pour ces raisons, il existe des processus de d√©veloppement de logiciels qui commencent par la d√©finition et l'impl√©mentation de tests, et ce n'est qu'apr√®s que le code est √©crit pour atteindre le comportement attendu (par ex. le d√©veloppement <a href=\"https://en.wikipedia.org/wiki/Test-driven_development\" class=\"external\" rel=\" noopener\">test-driven</a> et le d√©veloppement <a href=\"https://en.wikipedia.org/wiki/Behavior-driven_development\" class=\"external\" rel=\" noopener\">behaviour-driven</a>).</p>\n<p>Ce tutoriel montre comment √©crire des tests automatis√©s pour Django, en ajoutant un certain nombre de tests au site web <em>LocalLibrary</em>.</p>"}},{"type":"prose","value":{"id":"cat√©gories_de_tests","title":"Cat√©gories de tests","isH3":true,"content":"<p>Il y a beaucoup de genres, de niveaux et de classifications de tests, ainsi que de mani√®res de tester. Les tests automatis√©s les plus importants sont:</p>\n<dl>\n  <dt id=\"les_tests_unitaires\">Les tests unitaires</dt>\n  <dd>\n    <p>Ils v√©rifient le comportement fonctionnel de composants individuels, souvent au niveau des classes et des fonctions.</p>\n  </dd>\n  <dt id=\"les_tests_de_r√©gression\">Les tests de r√©gression</dt>\n  <dd>\n    <p>Ce sont des tests qui reproduisent des bugs historiques. Chaque test a √©t√© lanc√© originellement pour v√©rifier que le bug a √©t√© r√©solu, et on le relance ensuite pour s'assurer qu'il n'a pas √©t√© r√©-introduit suite aux changements de code.</p>\n  </dd>\n  <dt id=\"les_test_dint√©gration\">Les test d'int√©gration</dt>\n  <dd>\n    <p>Ils v√©rifient comment les groupes de composants fonctionnent quand ils sont utilis√©s ensemble. Les tests d'int√©graion sont attentifs aux interactions souhait√©es entre composants, mais pas n√©cessairement aux op√©rations internes de chaque composant. Ils peuvent couvrir des groupes simples de composants √† travers tout le site.</p>\n  </dd>\n</dl>\n<div class=\"notecard note\" id=\"sect1\">\n  <p><strong>Note :</strong> Les autres genres habituels de tests comprennent : la bo√Æte noire, la bo√Æte blanche, les tests manuels, automatiques, de canari (canary), de fum√©e (smoke), de conformit√© (conformance), d'approbation (acceptance), fonctionnels, syst√®me, performance, chargement et stress. Consultez pour plus d'information sur chacun d'eux.</p>\n</div>"}},{"type":"prose","value":{"id":"que_fournit_django_pour_tester_","title":"Que fournit Django pour tester ?","isH3":true,"content":"<p>Tester un site web est une t√¢che complexe, car c'est une op√©ration qui comporte plusieurs couches de logique : depuis la couche HTTP, la gestion des requ√™tes, les mod√®les d'interrogation de bases de donn√©es, jusqu'√† la validation des formulaires, leur traitement et le rendu des templates.</p>\n<p>Django fournit un framework de test avec une petite hi√©rarchie de classes construites sur la librairie standard de Python <a href=\"https://docs.python.org/3/library/unittest.html#module-unittest\" class=\"external\" rel=\" noopener\"><code>unittest</code></a>. Malgr√© son nom, ce framework de test est utilisable pour les tests unitaires aussi bien que pour les tests d'int√©gration. Le framework Django ajoute les m√©thodes et les outils d'une API pour aider √† tester un site web et les comportements sp√©cifiques √† Django. Ces m√©thodes vous permettent de simuler des requ√™tes, d'ins√©rer des donn√©es de test et d'inspecter la sortie de votre application. Django fournit aussi une API (<a href=\"https://docs.djangoproject.com/en/2.1/topics/testing/tools/#liveservertestcase\" class=\"external\" rel=\" noopener\">LiveServerTestCase</a>) et des outils pour <a href=\"https://docs.djangoproject.com/en/2.1/topics/testing/advanced/#other-testing-frameworks\" class=\"external\" rel=\" noopener\">utiliser d'autres frameworks de test</a>. Par exemple vous pouvez int√©grer le c√©l√®bre framework <a href=\"/en-US/docs/Learn/Tools_and_testing/Cross_browser_testing/Your_own_automation_environment\" class=\"only-in-en-us\" title=\"Currently only available in English (US)\">Selenium (en-US)</a> pour simuler l'interaction entre un utilisateur et un vrai navigateur.</p>\n<p>Pour √©crire un test, vous partez de l'une des classes de test de base fournies par Django (ou par <em>unittest</em>) (<a href=\"https://docs.djangoproject.com/en/2.1/topics/testing/tools/#simpletestcase\" class=\"external\" rel=\" noopener\">SimpleTestCase</a>, <a href=\"https://docs.djangoproject.com/en/2.1/topics/testing/tools/#transactiontestcase\" class=\"external\" rel=\" noopener\">TransactionTestCase</a>, <a href=\"https://docs.djangoproject.com/en/2.1/topics/testing/tools/#testcase\" class=\"external\" rel=\" noopener\">TestCase</a>, <a href=\"https://docs.djangoproject.com/en/2.1/topics/testing/tools/#liveservertestcase\" class=\"external\" rel=\" noopener\">LiveServerTestCase</a>), et ensuite vous √©crivez des m√©thodes s√©par√©es pour v√©rifier que telle fonctionnalit√© se comporte comme pr√©vu (les tests utilisent des m√©thodes \"assert\" pour v√©rifier qu'une expression retourne <code>True</code> ou <code>False</code>, ou que deux valeurs sont √©gales, etc.). Quant vous commencez √† lancer un test, le framework ex√©cute les m√©thodes de test √©crites dans vos classes d√©riv√©es. Les m√©thodes de test sont lanc√©es de mani√®re ind√©pendante, avec en commun un r√©glage initial (<em>setUp</em>) et/ou un comportement de fin (<em>tearDown</em>) d√©finis dans la classe, comme indiqu√© ci-dessous.</p>\n<div class=\"code-example\"><pre class=\"brush: python notranslate\"><code><span class=\"token keyword\">class</span> <span class=\"token class-name\">YourTestClass</span><span class=\"token punctuation\">(</span>TestCase<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">def</span> <span class=\"token function\">setUp</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token comment\"># Setup run before every test method.</span>\n        <span class=\"token keyword\">pass</span>\n\n    <span class=\"token keyword\">def</span> <span class=\"token function\">tearDown</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token comment\"># Clean up run after every test method.</span>\n        <span class=\"token keyword\">pass</span>\n\n    <span class=\"token keyword\">def</span> <span class=\"token function\">test_something_that_will_pass</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        self<span class=\"token punctuation\">.</span>assertFalse<span class=\"token punctuation\">(</span><span class=\"token boolean\">False</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">def</span> <span class=\"token function\">test_something_that_will_fail</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        self<span class=\"token punctuation\">.</span>assertTrue<span class=\"token punctuation\">(</span><span class=\"token boolean\">False</span><span class=\"token punctuation\">)</span>\n</code></pre></div>\n<p>La meilleure classe de base pour la plupart des tests est <a href=\"https://docs.djangoproject.com/en/2.1/topics/testing/tools/#testcase\" class=\"external\" rel=\" noopener\">django.test.TestCase</a>. Cette classe de test cr√©e une base de donn√©es vide avant que ses tests ne soient lanc√©s, et lance toutes les fonctions de test dans sa propre transaction. La classe poss√®de aussi un <a href=\"https://docs.djangoproject.com/en/2.1/topics/testing/tools/#django.test.Client\" class=\"external\" rel=\" noopener\">Client</a> de test, que vous pouvez utiliser pour simuler l'interaction entre un utilisateur et le code au niveau de la vue. Dans les sections suivantes, nous allons nous concentrer sur les tests unitaires, cr√©√©s en utilisant la classe de base <a href=\"https://docs.djangoproject.com/en/2.1/topics/testing/tools/#testcase\" class=\"external\" rel=\" noopener\">TestCase</a>.</p>\n<div class=\"notecard note\" id=\"sect2\">\n  <p><strong>Note :</strong> La classe <a href=\"https://docs.djangoproject.com/en/2.1/topics/testing/tools/#testcase\" class=\"external\" rel=\" noopener\">django.test.TestCase</a> est tr√®s commode, mais peut avoir pour effet de ralentir certains tests plus que n√©cessaire (tous les tests n'ont pas besoin de cr√©er leur propre base de donn√©es ni de simuler une interaction au niveau de la vue). Une fois que vous serez familiaris√© avec ce que vous pouvez faire avec cette classe, vous voudrez sans doute remplacer certains de vos tests avec d'autres classes plus simples parmi celles qui sont disponibles.</p>\n</div>"}},{"type":"prose","value":{"id":"que_faut-il_tester_","title":"Que faut-il tester ?","isH3":true,"content":"<p>Vous pouvez tester tous les aspects de votre code, mais non les librairies ou fonctionnalit√©s faisant partie de Python ou de Django.</p>\n<p>Ainsi par exemple, consid√©rez le mod√®le <code>Author</code> d√©fini ci-dessous. Vous n'avez pas besoin de tester explicitement que <code>first_name</code> et <code>last_name</code> ont √©t√© stock√©s correctement comme <code>CharField</code> dans la base de donn√©es, car c'est l√† quelque chose de d√©fini par Django (cependant, bien s√ªr, vous allez in√©vitablement tester cette fonctionnalit√© pendant le d√©veloppement). Vous n'avez pas non plus besoin de tester que <code>date_of_birth</code> a √©t√© valid√© comme champ date, car, encore une fois, cela est impl√©ment√© par Django.</p>\n<p>En revanche, vous pouvez tester que les textes utilis√©s pour les labels (<em>First name, Last name, Date of birth, Died</em>), ainsi que le respect de la taille allou√©e au champ texte (100 caract√®res), car c'est l√† une partie de votre propre design et quelque chose qui pourrait √™tre cass√©/modifi√© dans le futur.</p>\n<div class=\"code-example\"><pre class=\"brush: python notranslate\"><code><span class=\"token keyword\">class</span> <span class=\"token class-name\">Author</span><span class=\"token punctuation\">(</span>models<span class=\"token punctuation\">.</span>Model<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    first_name <span class=\"token operator\">=</span> models<span class=\"token punctuation\">.</span>CharField<span class=\"token punctuation\">(</span>max_length<span class=\"token operator\">=</span><span class=\"token number\">100</span><span class=\"token punctuation\">)</span>\n    last_name <span class=\"token operator\">=</span> models<span class=\"token punctuation\">.</span>CharField<span class=\"token punctuation\">(</span>max_length<span class=\"token operator\">=</span><span class=\"token number\">100</span><span class=\"token punctuation\">)</span>\n    date_of_birth <span class=\"token operator\">=</span> models<span class=\"token punctuation\">.</span>DateField<span class=\"token punctuation\">(</span>null<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">,</span> blank<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">)</span>\n    date_of_death <span class=\"token operator\">=</span> models<span class=\"token punctuation\">.</span>DateField<span class=\"token punctuation\">(</span><span class=\"token string\">'Died'</span><span class=\"token punctuation\">,</span> null<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">,</span> blank<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">def</span> <span class=\"token function\">get_absolute_url</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">return</span> reverse<span class=\"token punctuation\">(</span><span class=\"token string\">'author-detail'</span><span class=\"token punctuation\">,</span> args<span class=\"token operator\">=</span><span class=\"token punctuation\">[</span><span class=\"token builtin\">str</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">.</span><span class=\"token builtin\">id</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">def</span> <span class=\"token function\">__str__</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">return</span> <span class=\"token string\">'%s, %s'</span> <span class=\"token operator\">%</span> <span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">.</span>last_name<span class=\"token punctuation\">,</span> self<span class=\"token punctuation\">.</span>first_name<span class=\"token punctuation\">)</span>\n</code></pre></div>\n<p>De m√™me, vous pouvez tester que les m√©thodes personnalis√©es <code>get_absolute_url()</code> et <code>__str__()</code> se comportent comme pr√©vu, car elles appartiennent √† votre logique code/m√©tier. Dans le cas de <code>get_absolute_url()</code>, vous pouvez supposer que la m√©thode Django <code>reverse()</code> a √©t√© impl√©ment√©e correctement, aussi ce que vous allez tester, c'est que la vue associ√©e a √©t√© effectivement d√©finie.</p>\n<div class=\"notecard note\" id=\"sect3\">\n  <p><strong>Note :</strong> Les lecteurs attentifs auront not√© que nous pourrions aussi vouloir limiter les dates de naissance et de d√©c√®s √† des valeurs sensibles, et v√©rifier que le d√©c√®s intervient apr√®s la naissance. En Django, cette contrainte est ajout√©e √† vos classes de formulaires (bien que vous puissiez d√©finir des validateurs pour les champs du mod√®le et des validateurs de mod√®les, ceux-ci ne sont utilis√©s qu'au niveau du formulaire s'ils sont appel√©s par la m√©thode clean() du mod√®le. Cela requi√®re un ModelForm ou bien la m√©thode clean() du mod√®le a besoin d'√™tre appel√©e explicitement.)</p>\n</div>\n<p>Avec cela en t√™te, commen√ßons √† voir comment d√©finir et lancer des tests.</p>"}},{"type":"prose","value":{"id":"vue_densemble_de_la_structure_de_test","title":"Vue d'ensemble de la structure de test","isH3":false,"content":"<p>Avant d'entrer dans le d√©tail de \"que tester\", voyons d'abord bri√®vement <em>o√π</em> et <em>comment</em> les tests sont d√©finis.</p>\n<p>Django utilise le <a href=\"https://docs.python.org/3/library/unittest.html#unittest-test-discovery\" class=\"external\" rel=\" noopener\">built-in test discovery</a> du module unittest, qui va chercher des tests, sous le r√©pertoire de travail actuel, dans tous les fichiers dont le nom contient le pattern <strong>test.py</strong>. Du moment que vous nommez vos fichiers de mani√®re appropri√©e, vous pouvez utiliser n'importe quelle structure. Nous vous recommandons de cr√©er un module pour coder vos tests, et d'avoir des fichiers distincts pour les mod√®les, les vues, les formulaires et tout autre type de code que vous avez besoin de tester. Par exemple :</p>\n<pre class=\"notranslate\">catalog/\n  /tests/\n    __init__.py\n    test_models.py\n    test_forms.py\n    test_views.py\n</pre>\n<p>Cr√©ez une structure de fichier comme montr√© ci-dessus, dans votre projet <em>LocalLibrary</em>. Le ficheir <strong>__init__.py</strong> doit √™tre vide (il dit simplement √† Python que ce r√©pertoire est un package). Vous pouvez cr√©er les trois fichiers de test en copiant et renommant le fichier de test du squelette <strong>/catalog/tests.py</strong>.</p>\n<div class=\"notecard note\" id=\"sect4\">\n  <p><strong>Note :</strong> le fichier de test du squelette <strong>/catalog/tests.py</strong> a √©t√© cr√©√© automatiquement quand nous avons <a href=\"/fr/docs/Learn/Server-side/Django/skeleton_website\">construit le squelette du site web Django</a>. Il est parfaitement \"l√©gal\" de mettre tous vos tests dedans, mais si vous testez correctement, vous allez rapidement vous retrouver avec un fichier de test √©norme et impossible √† g√©rer.</p>\n  <p>Supprimez le fichier de squelette, car nous n'en aurons plus besoin.</p>\n</div>\n<p>Ouvrez le fichier <strong>/catalog/tests/test_models.py</strong>. Ce fichier doit importer <code>django.test.TestCase</code>, comme indiqu√© ci-apr√®s :</p>\n<p>Open <strong>/catalog/tests/test_models.py</strong>. The file should import <code>django.test.TestCase</code>, as shown:</p>\n<div class=\"code-example\"><pre class=\"brush: python notranslate\"><code><span class=\"token keyword\">from</span> django<span class=\"token punctuation\">.</span>test <span class=\"token keyword\">import</span> TestCase\n\n<span class=\"token comment\"># Create your tests here.</span>\n</code></pre></div>\n<p>Souvent vous voudrez ajouter une classe de test pour chaque mod√®le/vue/form que vous voulez tester, avec des m√©thodes individuelles pour tester une fonctionnalit√© sp√©cifique. Dans d'autres cas vous pourriez souhaiter avoir une class s√©par√©e pour tester un cas d'utilisation sp√©cifique, avec des fonctions de test individuelles pour tester les aspects de ce cas d'utilisation (par exemple, une classe pour tester que tel champ d'un mod√®le est valid√© correctement, avec des fonctions pour tester chaque possibilit√© d'√©chec). Encore une fois, c'est √† vous de d√©cider de la structure √† adopter, mais elle sera meilleure si vous √™tes coh√©rent.</p>\n<p>Ajoutez la classe de test ci-dessous √† la fin du fichier. La classe montre comment construire une classe de test de cas d√©rivant de <code>TestCase</code>.</p>\n<div class=\"code-example\"><pre class=\"brush: python notranslate\"><code><span class=\"token keyword\">class</span> <span class=\"token class-name\">YourTestClass</span><span class=\"token punctuation\">(</span>TestCase<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token decorator annotation punctuation\">@classmethod</span>\n    <span class=\"token keyword\">def</span> <span class=\"token function\">setUpTestData</span><span class=\"token punctuation\">(</span>cls<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"setUpTestData: Run once to set up non-modified data for all class methods.\"</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">pass</span>\n\n    <span class=\"token keyword\">def</span> <span class=\"token function\">setUp</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"setUp: Run once for every test method to setup clean data.\"</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">pass</span>\n\n    <span class=\"token keyword\">def</span> <span class=\"token function\">test_false_is_false</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Method: test_false_is_false.\"</span><span class=\"token punctuation\">)</span>\n        self<span class=\"token punctuation\">.</span>assertFalse<span class=\"token punctuation\">(</span><span class=\"token boolean\">False</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">def</span> <span class=\"token function\">test_false_is_true</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Method: test_false_is_true.\"</span><span class=\"token punctuation\">)</span>\n        self<span class=\"token punctuation\">.</span>assertTrue<span class=\"token punctuation\">(</span><span class=\"token boolean\">False</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">def</span> <span class=\"token function\">test_one_plus_one_equals_two</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Method: test_one_plus_one_equals_two.\"</span><span class=\"token punctuation\">)</span>\n        self<span class=\"token punctuation\">.</span>assertEqual<span class=\"token punctuation\">(</span><span class=\"token number\">1</span> <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span>\n</code></pre></div>\n<p>La nouvelle classe d√©finit deux m√©thodes que vous pouvez utiliser pour une configuration pr√©-test (par exemple, pour cr√©er des mod√®les ou d'autres objets dont vous aurez besoin pour les tests) :</p>\n<ul>\n  <li><code>setUpTestData()</code> est appel√©e une fois au d√©but du lancement des tests pour un r√©glage au niveau de la classe. Vous pouvez l'utiliser pour cr√©er des objets qui ne sont pas destin√©s √† √™tre modifi√©s ou chang√©s dans les m√©thodes de test.</li>\n  <li><code>setUp()</code> est appel√©e avant chaque fonction de test pour d√©finir des objets qui peuvent √™tre modifi√©s par le test (chaque fonction de test obtiendra une version \"fra√Æche\" de ces objets).</li>\n</ul>\n<div class=\"notecard note\" id=\"sect5\">\n  <p><strong>Note :</strong> Les classes de test ont aussi une m√©thode <code>tearDown()</code>, que nous n'avons pas utilis√©e. Cette m√©thode n'est pas particuli√®rement utile pour les tests avec bases de donn√©es, dans la mesure o√π la classe de base <code>TestCase</code> prend soin pour vous de supprimer la base de donn√©es utilis√©es pour les tests.</p>\n</div>\n<p>En dessous de ces m√©thodes, nous avons un certain nombre de m√©thodes de test, qui utilisent des fonctions <code>Assert</code>, pour tester si certaines conditions sont vraies, fausses ou √©gales (<code>AssertTrue</code>, <code>AssertFalse</code>, <code>AssertEqual</code>). Si la condition ne renvoie pas le r√©sultat escompt√©, le test plante et renvoie une erreur √† votre console.</p>\n<p>Les m√©thodes <code>AssertTrue</code>, <code>AssertFalse</code> et <code>AssertEqual</code> sont des assertions standard fournies par <strong>unittest</strong>. Il y a d'autres assertions standard dans le framework, et aussi des <a href=\"https://docs.djangoproject.com/en/2.1/topics/testing/tools/#assertions\" class=\"external\" rel=\" noopener\">assertions sp√©cifiques √† Django</a>, pour tester si une vue redirige (<code>assertRedirects</code>), pour tester si tel template a √©t√© utilis√© (<code>assertTemplateUsed</code>), etc.</p>\n<div class=\"notecard note\" id=\"sect6\">\n  <p><strong>Note :</strong> Normallement vous ne devriez <strong>pas</strong> inclure de fonctions <strong>print()</strong> dans vos tests, comme montr√© ci-dessus. Nous avons fait cela uniquement pour que vous puissiez voir dans la console (dans la section suivante) l'ordre dans lequel les fonctions de setup sont appel√©es.</p>\n</div>"}},{"type":"prose","value":{"id":"comment_lancer_les_tests","title":"Comment lancer les tests","isH3":false,"content":"<p>La mani√®re la plus facile pour lancer tous les tests est d'utiliser la commande :</p>\n<div class=\"code-example\"><pre class=\"brush: bash notranslate\"><code>python3 manage.py <span class=\"token builtin class-name\">test</span>\n</code></pre></div>\n<p>Cette commande va lancer la recherche de tous les fichiers ayant la forme <strong>test.py</strong> sous le r√©pertoire courant, et lancer tous les tests d√©finis, en utilisant les classes de base appropri√©es (ici nous avons un certain nombre de fichiers de test, mais pour le moment seul <strong>/catalog/tests/test_models.py</strong> contient des tests). Par d√©faut, chaque test ne fera de rapport qu'en cas d'√©chec, avec ensuite un r√©sum√© du test.</p>\n<div class=\"notecard note\" id=\"sect7\">\n  <p><strong>Note :</strong> Si vous obtenez des erreurs telles que : <code>ValueError: Missing staticfiles manifest entry ...</code>, cela peut √™tre d√ª au fait que le test ne lance pas <em>collectstatic</em> par d√©faut, et que votre application utilise une classe de storage qui le requiert (voyez <a href=\"https://docs.djangoproject.com/en/2.1/ref/contrib/staticfiles/#django.contrib.staticfiles.storage.ManifestStaticFilesStorage.manifest_strict\" class=\"external\" rel=\" noopener\">manifest_strict</a> pour plus d'information). Il y a plusieurs fa√ßons de rem√©dier √† ce probl√®me - la plus facile est de lancer tout simplement <em>collectstatic</em> avant de lancer les tests :</p>\n  <div class=\"code-example\"><pre class=\"brush: bash notranslate\"><code>python3 manage.py collectstatic\n</code></pre></div>\n</div>\n<p>Lancez les tests dans le r√©pertoire racine de <em>LocalLibrary</em>. Vous devriez voir une sortie semblable √† celle ci-dessous.</p>\n<div class=\"code-example\"><pre class=\"brush: bash notranslate\"><code><span class=\"token operator\">&gt;</span> python3 manage.py <span class=\"token builtin class-name\">test</span>\n\nCreating <span class=\"token builtin class-name\">test</span> database <span class=\"token keyword\">for</span> <span class=\"token builtin class-name\">alias</span> <span class=\"token string\">'default'</span><span class=\"token punctuation\">..</span>.\nsetUpTestData: Run once to <span class=\"token builtin class-name\">set</span> up non-modified data <span class=\"token keyword\">for</span> all class methods.\nsetUp: Run once <span class=\"token keyword\">for</span> every <span class=\"token builtin class-name\">test</span> method to setup clean data.\nMethod: test_false_is_false.\nsetUp: Run once <span class=\"token keyword\">for</span> every <span class=\"token builtin class-name\">test</span> method to setup clean data.\nMethod: test_false_is_true.\nsetUp: Run once <span class=\"token keyword\">for</span> every <span class=\"token builtin class-name\">test</span> method to setup clean data.\nMethod: test_one_plus_one_equals_two.\n<span class=\"token builtin class-name\">.</span>\n<span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span>\nFAIL: test_false_is_true <span class=\"token punctuation\">(</span>catalog.tests.tests_models.YourTestClass<span class=\"token punctuation\">)</span>\n----------------------------------------------------------------------\nTraceback <span class=\"token punctuation\">(</span>most recent call last<span class=\"token punctuation\">)</span>:\n  File <span class=\"token string\">\"D:\\Github\\django_tmp\\library_w_t_2\\locallibrary<span class=\"token entity\" title=\"\\c\">\\c</span>atalog<span class=\"token entity\" title=\"\\t\">\\t</span>ests<span class=\"token entity\" title=\"\\t\">\\t</span>ests_models.py\"</span>, line <span class=\"token number\">22</span>, <span class=\"token keyword\">in</span> test_false_is_true\n    self.assertTrue<span class=\"token punctuation\">(</span>False<span class=\"token punctuation\">)</span>\nAssertionError: False is not <span class=\"token boolean\">true</span>\n\n----------------------------------------------------------------------\n\nRan <span class=\"token number\">3</span> tests <span class=\"token keyword\">in</span> <span class=\"token number\">0</span>.075s\n\nFAILED <span class=\"token punctuation\">(</span>failures<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\nDestroying <span class=\"token builtin class-name\">test</span> database <span class=\"token keyword\">for</span> <span class=\"token builtin class-name\">alias</span> <span class=\"token string\">'default'</span><span class=\"token punctuation\">..</span>.\n</code></pre></div>\n<p>Ici nous voyons que nous avons eu un √©chec pour un test, et nous pouvons voir exactement quelle fonction a plant√© et pourquoi (cet √©chec √©tait pr√©vu, car <code>False</code> n'est pas <code>True</code> !).</p>\n<div class=\"notecard note\" id=\"sect8\">\n  <p><strong>Note :</strong> La chose la plus importante √† apprendre de la sortie de test ci-dessus est qu'il est bien mieux d'utiliser des noms descriptifs/informatifs pour vos objets et m√©thodes.</p>\n</div>\n<p>Le texte en <strong>gras</strong> ci-dessus n'appara√Ætra pas normalement dans la sortie de test (elle est g√©n√©r√©e par les fonctions <code>print()</code> dans nos tests). Cela montre comment la m√©thode <code>setUpTestData()</code> est appel√©e une fois pour l'ensemble de classe, tandis que <code>setUp()</code> est appel√©e avant chaque m√©thode.</p>\n<p>La section suivante mnotre comment vous pouvez lancer des test sp√©cifiques, et comment contr√¥ler la quantit√© d'information fournie par les tests.</p>"}},{"type":"prose","value":{"id":"montrer_plus_dinformations_√†_propos_du_test","title":"Montrer plus d'informations √† propos du test","isH3":true,"content":"<p>Si vous souhaitez obtenir plus d'informations √† propos du test lanc√©, vous pouvez changer sa <em>verbosit√©</em>. Par exemple, pour faire la liste de ce qui a fonctionn√© dans le test, comme de ce qui a √©chou√© (ainsi que tout un tas d'informations sur la mani√®re dont la base de donn√©es √† √©t√© initialis√©e), vous pouvez mettre la verbosit√© √† \"2\", comme indiqu√© ci-dessous :</p>\n<div class=\"code-example\"><pre class=\"brush: bash notranslate\"><code>python3 manage.py <span class=\"token builtin class-name\">test</span> --verbosity <span class=\"token number\">2</span>\n</code></pre></div>\n<p>Les niveaux de verbosit√© sont 0, 1, 2 et 3, avec \"1\" comme valeur par d√©faut.</p>"}},{"type":"prose","value":{"id":"lancer_des_tests_sp√©cifiques","title":"Lancer des tests sp√©cifiques","isH3":true,"content":"<p>Si vous voulez lancer une sous-s√©lection parmi vos tests, vous pouvez le faire en sp√©cifiant le chemin complet (avec des points) vers le ou les package(s), module, sous-classe de <code>TestCase</code> ou m√©thode :</p>\n<div class=\"code-example\"><pre class=\"brush: bash notranslate\"><code><span class=\"token comment\"># Run the specified module</span>\npython3 manage.py <span class=\"token builtin class-name\">test</span> catalog.tests\n\n<span class=\"token comment\"># Run the specified module</span>\npython3 manage.py <span class=\"token builtin class-name\">test</span> catalog.tests.test_models\n\n<span class=\"token comment\"># Run the specified class</span>\npython3 manage.py <span class=\"token builtin class-name\">test</span> catalog.tests.test_models.YourTestClass\n\n<span class=\"token comment\"># Run the specified method</span>\npython3 manage.py <span class=\"token builtin class-name\">test</span> catalog.tests.test_models.YourTestClass.test_one_plus_one_equals_two\n</code></pre></div>"}},{"type":"prose","value":{"id":"tests_de_locallibrary","title":"Tests de LocalLibrary","isH3":false,"content":"<p>Maintenant que nous savons comment lancer nos tests et quel genre de choses nous avons besoin de tester, regardons quelques exemples pratiques.</p>\n<div class=\"notecard note\" id=\"sect9\">\n  <p><strong>Note :</strong> Nous n'allons pas √©crire tous les tests possibles, mais ce qui suit devrait vous donner une id√©e sur le fonctionnement des tests, et ce que vous pouvez faire ensuite.</p>\n</div>"}},{"type":"prose","value":{"id":"mod√®les","title":"Mod√®les","isH3":true,"content":"<p>Comme nous l'avons dit ci-dessus, nous devrions tester tout ce qui rel√®ve de notre design, ou tout ce qui est d√©fini par du code que nous avons √©crit nous-m√™mes, mais pas les biblioth√®ques ou le code qui est d√©j√† test√© par Django ou par l'√©quipe qui d√©veloppe Python.</p>\n<p>Par exemple, consid√©rez le mod√®le <code>Author</code> ci-dessous. Ici nous devrions tester les labels de tous les champs, car, bien que nous n'ayons pas explicitement sp√©cifi√© la plupart d'entre eux, nous avons un design qui dit ce que ces valeurs devraient √™tre. Si nous ne testons pas ces valeurs, nous ne savons pas que les labels des champs ont les valeurs souhait√©es. De m√™me, alors que nous sommes tranquilles sur le fait que Django cr√©era un champ de la longueur indiqu√©e, il est int√©ressant de lancer un test sp√©cifique pour s'assurer qu'il a √©t√© impl√©ment√© comme pr√©vu.</p>\n<div class=\"code-example\"><pre class=\"brush: python notranslate\"><code><span class=\"token keyword\">class</span> <span class=\"token class-name\">Author</span><span class=\"token punctuation\">(</span>models<span class=\"token punctuation\">.</span>Model<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    first_name <span class=\"token operator\">=</span> models<span class=\"token punctuation\">.</span>CharField<span class=\"token punctuation\">(</span>max_length<span class=\"token operator\">=</span><span class=\"token number\">100</span><span class=\"token punctuation\">)</span>\n    last_name <span class=\"token operator\">=</span> models<span class=\"token punctuation\">.</span>CharField<span class=\"token punctuation\">(</span>max_length<span class=\"token operator\">=</span><span class=\"token number\">100</span><span class=\"token punctuation\">)</span>\n    date_of_birth <span class=\"token operator\">=</span> models<span class=\"token punctuation\">.</span>DateField<span class=\"token punctuation\">(</span>null<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">,</span> blank<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">)</span>\n    date_of_death <span class=\"token operator\">=</span> models<span class=\"token punctuation\">.</span>DateField<span class=\"token punctuation\">(</span><span class=\"token string\">'Died'</span><span class=\"token punctuation\">,</span> null<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">,</span> blank<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">def</span> <span class=\"token function\">get_absolute_url</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">return</span> reverse<span class=\"token punctuation\">(</span><span class=\"token string\">'author-detail'</span><span class=\"token punctuation\">,</span> args<span class=\"token operator\">=</span><span class=\"token punctuation\">[</span><span class=\"token builtin\">str</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">.</span><span class=\"token builtin\">id</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">def</span> <span class=\"token function\">__str__</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">return</span> <span class=\"token string-interpolation\"><span class=\"token string\">f'</span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span>self<span class=\"token punctuation\">.</span>last_name<span class=\"token punctuation\">}</span></span><span class=\"token string\">, </span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span>self<span class=\"token punctuation\">.</span>first_name<span class=\"token punctuation\">}</span></span><span class=\"token string\">'</span></span>\n</code></pre></div>\n<p>Ouvrez notre <strong>/catalog/tests/test_models.py</strong>, et remplacez tout le code qui s'y trouve par le code de test ci-apr√®s pour le mod√®le <code>Author</code>.</p>\n<p>Vous voyez que nous importons d'abord <code>TestCase</code> et faisons d√©river d'elle notre classe de test (<code>AuthorModelTest</code>) en utilisant un nom descriptif, de fa√ßon √† pouvoir identifier ais√©ment dans la sortie tout test qui √©choue. Nous appelons ensuite <code>setUpTestData()</code> afin de cr√©er un objet <em>author</em>, que nous utiliserons mais que nous ne modifierons jamais dans aucun de nos tests.</p>\n<div class=\"code-example\"><pre class=\"brush: python notranslate\"><code><span class=\"token keyword\">from</span> django<span class=\"token punctuation\">.</span>test <span class=\"token keyword\">import</span> TestCase\n\n<span class=\"token keyword\">from</span> catalog<span class=\"token punctuation\">.</span>models <span class=\"token keyword\">import</span> Author\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">AuthorModelTest</span><span class=\"token punctuation\">(</span>TestCase<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token decorator annotation punctuation\">@classmethod</span>\n    <span class=\"token keyword\">def</span> <span class=\"token function\">setUpTestData</span><span class=\"token punctuation\">(</span>cls<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token comment\"># Set up non-modified objects used by all test methods</span>\n        Author<span class=\"token punctuation\">.</span>objects<span class=\"token punctuation\">.</span>create<span class=\"token punctuation\">(</span>first_name<span class=\"token operator\">=</span><span class=\"token string\">'Big'</span><span class=\"token punctuation\">,</span> last_name<span class=\"token operator\">=</span><span class=\"token string\">'Bob'</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">def</span> <span class=\"token function\">test_first_name_label</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        author <span class=\"token operator\">=</span> Author<span class=\"token punctuation\">.</span>objects<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span><span class=\"token builtin\">id</span><span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n        field_label <span class=\"token operator\">=</span> author<span class=\"token punctuation\">.</span>_meta<span class=\"token punctuation\">.</span>get_field<span class=\"token punctuation\">(</span><span class=\"token string\">'first_name'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>verbose_name\n        self<span class=\"token punctuation\">.</span>assertEquals<span class=\"token punctuation\">(</span>field_label<span class=\"token punctuation\">,</span> <span class=\"token string\">'first name'</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">def</span> <span class=\"token function\">test_date_of_death_label</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        author<span class=\"token operator\">=</span>Author<span class=\"token punctuation\">.</span>objects<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span><span class=\"token builtin\">id</span><span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n        field_label <span class=\"token operator\">=</span> author<span class=\"token punctuation\">.</span>_meta<span class=\"token punctuation\">.</span>get_field<span class=\"token punctuation\">(</span><span class=\"token string\">'date_of_death'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>verbose_name\n        self<span class=\"token punctuation\">.</span>assertEquals<span class=\"token punctuation\">(</span>field_label<span class=\"token punctuation\">,</span> <span class=\"token string\">'died'</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">def</span> <span class=\"token function\">test_first_name_max_length</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        author <span class=\"token operator\">=</span> Author<span class=\"token punctuation\">.</span>objects<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span><span class=\"token builtin\">id</span><span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n        max_length <span class=\"token operator\">=</span> author<span class=\"token punctuation\">.</span>_meta<span class=\"token punctuation\">.</span>get_field<span class=\"token punctuation\">(</span><span class=\"token string\">'first_name'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>max_length\n        self<span class=\"token punctuation\">.</span>assertEquals<span class=\"token punctuation\">(</span>max_length<span class=\"token punctuation\">,</span> <span class=\"token number\">100</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">def</span> <span class=\"token function\">test_object_name_is_last_name_comma_first_name</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        author <span class=\"token operator\">=</span> Author<span class=\"token punctuation\">.</span>objects<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span><span class=\"token builtin\">id</span><span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n        expected_object_name <span class=\"token operator\">=</span> <span class=\"token string-interpolation\"><span class=\"token string\">f'</span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span>author<span class=\"token punctuation\">.</span>last_name<span class=\"token punctuation\">}</span></span><span class=\"token string\">, </span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span>author<span class=\"token punctuation\">.</span>first_name<span class=\"token punctuation\">}</span></span><span class=\"token string\">'</span></span>\n        self<span class=\"token punctuation\">.</span>assertEquals<span class=\"token punctuation\">(</span>expected_object_name<span class=\"token punctuation\">,</span> <span class=\"token builtin\">str</span><span class=\"token punctuation\">(</span>author<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">def</span> <span class=\"token function\">test_get_absolute_url</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        author <span class=\"token operator\">=</span> Author<span class=\"token punctuation\">.</span>objects<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span><span class=\"token builtin\">id</span><span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n        <span class=\"token comment\"># This will also fail if the urlconf is not defined.</span>\n        self<span class=\"token punctuation\">.</span>assertEquals<span class=\"token punctuation\">(</span>author<span class=\"token punctuation\">.</span>get_absolute_url<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'/catalog/author/1'</span><span class=\"token punctuation\">)</span>\n</code></pre></div>\n<p>Les tests de champ v√©rifient que les valeurs des labels de champ (<code>verbose_name</code>) et que la taille des champs de type <em>character</em> sont tels que nous les souhaitons. Ces m√©thodes ont toutes des noms descriptifs et suivent le m√™me pattern :</p>\n<div class=\"code-example\"><pre class=\"brush: python notranslate\"><code><span class=\"token comment\"># Get an author object to test</span>\nauthor <span class=\"token operator\">=</span> Author<span class=\"token punctuation\">.</span>objects<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span><span class=\"token builtin\">id</span><span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\"># Get the metadata for the required field and use it to query the required field data</span>\nfield_label <span class=\"token operator\">=</span> author<span class=\"token punctuation\">.</span>_meta<span class=\"token punctuation\">.</span>get_field<span class=\"token punctuation\">(</span><span class=\"token string\">'first_name'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>verbose_name\n\n<span class=\"token comment\"># Compare the value to the expected result</span>\nself<span class=\"token punctuation\">.</span>assertEquals<span class=\"token punctuation\">(</span>field_label<span class=\"token punctuation\">,</span> <span class=\"token string\">'first name'</span><span class=\"token punctuation\">)</span>\n</code></pre></div>\n<p>Les choses int√©ressantes √† noter sont :</p>\n<ul>\n  <li>Nous ne pouvons obtenir le <code>verbose_name</code> directement en utilisant <code>author.first_name.verbose_name</code>, car <code>author.first_name</code> est une <em>cha√Æne</em> (non un moyen d'acc√©der √† l'objet <code>first_name</code>, que nous pourrions utiliser pour acc√©der √† ses propri√©t√©s). √Ä la place nous devons utiliser l'attribut <code>_meta</code> de author afin d'obtenir une instance de ses champs et utiliser celle-ci pour demander l'information que nous cherchons.</li>\n  <li>Nous avons fait le choix d'utiliser <code>assertEquals(field_label,'first name')</code> plut√¥t que <code>assertTrue(field_label == 'first name')</code>. La raison en est que, en cas d'√©chec du test, la sortie vous dira, dans le premier cas, quel est effectivement le label du champ, ce qui rend un peu plus facile le d√©bogage du probl√®me.</li>\n</ul>\n<div class=\"notecard note\" id=\"sect10\">\n  <p><strong>Note :</strong> Les tests pour les labels de <code>last_name</code> et <code>date_of_birth</code>, ainsi que le test de la longueur du champ <code>last_name</code>, ont √©t√© omis. Ajoutez vos propres versions maintenant, en suivant les conventions de nommage et les approches que nous vous avons montr√©es ci-dessus.</p>\n</div>\n<p>Il nous faut √©galement tester nos m√©thodes personnalis√©es. Essentiellement, celles-ci v√©rifient uniquement que le nom de l'objet a √©t√© construit comme pr√©vu, en utilisant le format \"Last name\", \"First name\", et que l'URL que nous obtenons pour un √©l√©ment <code>Author</code> est telle que nous l'attendons.</p>\n<div class=\"code-example\"><pre class=\"brush: python notranslate\"><code><span class=\"token keyword\">def</span> <span class=\"token function\">test_object_name_is_last_name_comma_first_name</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    author <span class=\"token operator\">=</span> Author<span class=\"token punctuation\">.</span>objects<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span><span class=\"token builtin\">id</span><span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n    expected_object_name <span class=\"token operator\">=</span> <span class=\"token string-interpolation\"><span class=\"token string\">f'</span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span>author<span class=\"token punctuation\">.</span>last_name<span class=\"token punctuation\">}</span></span><span class=\"token string\">, </span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span>author<span class=\"token punctuation\">.</span>first_name<span class=\"token punctuation\">}</span></span><span class=\"token string\">'</span></span>\n    self<span class=\"token punctuation\">.</span>assertEquals<span class=\"token punctuation\">(</span>expected_object_name<span class=\"token punctuation\">,</span> <span class=\"token builtin\">str</span><span class=\"token punctuation\">(</span>author<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">test_get_absolute_url</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    author <span class=\"token operator\">=</span> Author<span class=\"token punctuation\">.</span>objects<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span><span class=\"token builtin\">id</span><span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n    <span class=\"token comment\"># This will also fail if the urlconf is not defined.</span>\n    self<span class=\"token punctuation\">.</span>assertEquals<span class=\"token punctuation\">(</span>author<span class=\"token punctuation\">.</span>get_absolute_url<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'/catalog/author/1'</span><span class=\"token punctuation\">)</span>\n</code></pre></div>\n<p>Maintenant lancez les tests. Si vous avez cr√©√© le mod√®le <code>Author</code> comme d√©crit dans le tutoriel sur les mod√®les, il est assez probable que vous allez obtenir une erreur pour le label <code>date_of_death</code>, comme montr√© ci-dessous. Le test plante parce qu'il a √©t√© √©crit en s'attendant √† ce que la d√©finition du label suive cette convention de Django : ne pas mettre en capitale la premi√®re lettre du label (Django le fait pour vous).</p>\n<div class=\"code-example\"><pre class=\"brush: bash notranslate\"><code><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span>\nFAIL: test_date_of_death_label <span class=\"token punctuation\">(</span>catalog.tests.test_models.AuthorModelTest<span class=\"token punctuation\">)</span>\n----------------------------------------------------------------------\nTraceback <span class=\"token punctuation\">(</span>most recent call last<span class=\"token punctuation\">)</span>:\n  File <span class=\"token string\">\"D:\\...\\locallibrary<span class=\"token entity\" title=\"\\c\">\\c</span>atalog<span class=\"token entity\" title=\"\\t\">\\t</span>ests<span class=\"token entity\" title=\"\\t\">\\t</span>est_models.py\"</span>, line <span class=\"token number\">32</span>, <span class=\"token keyword\">in</span> test_date_of_death_label\n    self.assertEquals<span class=\"token punctuation\">(</span>field_label,<span class=\"token string\">'died'</span><span class=\"token punctuation\">)</span>\nAssertionError: <span class=\"token string\">'Died'</span> <span class=\"token operator\">!=</span> <span class=\"token string\">'died'</span>\n- Died\n? ^\n+ died\n? ^\n</code></pre></div>\n<p>C'est vraiment un bug mineur, mais il met en lumi√®re comment √©crire des test peut v√©rifier de plus pr√®s les hypoth√®ses que vous pourriez avoir suppos√©es vraies.</p>\n<div class=\"notecard note\" id=\"sect11\">\n  <p><strong>Note :</strong> Changez en \"died\" le label pour le champ date_of_death (/catalog/models.py) et relancez les tests.</p>\n</div>\n<p>La configuration pour tester les autres mod√®les est semblable pour tous, aussi nous n'allons pas discuter chacune plus longuement. Sentez-vous libre de cr√©er vos propres tests pour nos autres mod√®les.</p>"}},{"type":"prose","value":{"id":"les_formulaires","title":"Les Formulaires","isH3":true,"content":"<p>La philosophie pour tester vos formulaires est la m√™me que pour tester vos mod√®les: vous avez besoin de tester tout ce que vous avez cod√© ou les sp√©cificit√©s de votre design, mais non le comportement du framework sous-jacent, ni celui des autres biblioth√®ques tierces.</p>\n<p>G√©n√©ralement, cela signifie que vous devriez tester que les formulaires ont bien les champs que vous voulez, et qu'ils sont rendus avec les bons labels et textes d'aide. Vous n'avez pas besoin de v√©rifier que Django valide correctement les champs selon leurs types (√† moins que vous n'ayez cr√©√© vos propres champs personnalis√©s et leurs validations) ; c'est-√†-dire que vous n'avez pas besoin de tester qu'un champ email n'accepte que des emails. Cependant vous pouvez avoir besoin de tester toute validation compl√©mentaire que vous vous attendez √† voir r√©alis√©e sur les champs, et tout message d'erreur g√©n√©r√© par votre code.</p>\n<p>Consid√©rez notre formulaire pour renouveler les livres. Il a seulement 1 champ pour la date de renouvellement, qui va avoir un label et un texte d'aide que nous avons besoin de v√©rifier.</p>\n<div class=\"code-example\"><pre class=\"brush: python notranslate\"><code><span class=\"token keyword\">class</span> <span class=\"token class-name\">RenewBookForm</span><span class=\"token punctuation\">(</span>forms<span class=\"token punctuation\">.</span>Form<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token triple-quoted-string string\">\"\"\"Form for a librarian to renew books.\"\"\"</span>\n    renewal_date <span class=\"token operator\">=</span> forms<span class=\"token punctuation\">.</span>DateField<span class=\"token punctuation\">(</span>help_text<span class=\"token operator\">=</span><span class=\"token string\">\"Enter a date between now and 4 weeks (default 3).\"</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">def</span> <span class=\"token function\">clean_renewal_date</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        data <span class=\"token operator\">=</span> self<span class=\"token punctuation\">.</span>cleaned_data<span class=\"token punctuation\">[</span><span class=\"token string\">'renewal_date'</span><span class=\"token punctuation\">]</span>\n\n        <span class=\"token comment\"># Check if a date is not in the past.</span>\n        <span class=\"token keyword\">if</span> data <span class=\"token operator\">&lt;</span> datetime<span class=\"token punctuation\">.</span>date<span class=\"token punctuation\">.</span>today<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n            <span class=\"token keyword\">raise</span> ValidationError<span class=\"token punctuation\">(</span>_<span class=\"token punctuation\">(</span><span class=\"token string\">'Invalid date - renewal in past'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n        <span class=\"token comment\"># Check if date is in the allowed range (+4 weeks from today).</span>\n        <span class=\"token keyword\">if</span> data <span class=\"token operator\">&gt;</span> datetime<span class=\"token punctuation\">.</span>date<span class=\"token punctuation\">.</span>today<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> datetime<span class=\"token punctuation\">.</span>timedelta<span class=\"token punctuation\">(</span>weeks<span class=\"token operator\">=</span><span class=\"token number\">4</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n            <span class=\"token keyword\">raise</span> ValidationError<span class=\"token punctuation\">(</span>_<span class=\"token punctuation\">(</span><span class=\"token string\">'Invalid date - renewal more than 4 weeks ahead'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n        <span class=\"token comment\"># Remember to always return the cleaned data.</span>\n        <span class=\"token keyword\">return</span> data\n</code></pre></div>\n<p>Ouvrez notre fichier <strong>/catalog/tests/test_forms.py</strong>, et remplacez tout le code qui s'y trouve par le code suivant, qui teste le formulaire <code>RenewBookForm</code>. Nous commen√ßons par importer notre formulaire et des biblioth√®ques Python et Django pour tester les fonctionnalit√©s li√©es au temps. Ensuite nous d√©clarons notre classe de test pour formulaire de la m√™me mani√®re que nous l'avons fait pour les mod√®les, en utilisant un nom descriptif pour notre classe de test d√©riv√©e de <code>TestCase</code>.</p>\n<div class=\"code-example\"><pre class=\"brush: python notranslate\"><code><span class=\"token keyword\">import</span> datetime\n\n<span class=\"token keyword\">from</span> django<span class=\"token punctuation\">.</span>test <span class=\"token keyword\">import</span> TestCase\n<span class=\"token keyword\">from</span> django<span class=\"token punctuation\">.</span>utils <span class=\"token keyword\">import</span> timezone\n\n<span class=\"token keyword\">from</span> catalog<span class=\"token punctuation\">.</span>forms <span class=\"token keyword\">import</span> RenewBookForm\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">RenewBookFormTest</span><span class=\"token punctuation\">(</span>TestCase<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">def</span> <span class=\"token function\">test_renew_form_date_field_label</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        form <span class=\"token operator\">=</span> RenewBookForm<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        self<span class=\"token punctuation\">.</span>assertTrue<span class=\"token punctuation\">(</span>form<span class=\"token punctuation\">.</span>fields<span class=\"token punctuation\">[</span><span class=\"token string\">'renewal_date'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>label <span class=\"token operator\">==</span> <span class=\"token boolean\">None</span> <span class=\"token keyword\">or</span> form<span class=\"token punctuation\">.</span>fields<span class=\"token punctuation\">[</span><span class=\"token string\">'renewal_date'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>label <span class=\"token operator\">==</span> <span class=\"token string\">'renewal date'</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">def</span> <span class=\"token function\">test_renew_form_date_field_help_text</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        form <span class=\"token operator\">=</span> RenewBookForm<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        self<span class=\"token punctuation\">.</span>assertEqual<span class=\"token punctuation\">(</span>form<span class=\"token punctuation\">.</span>fields<span class=\"token punctuation\">[</span><span class=\"token string\">'renewal_date'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>help_text<span class=\"token punctuation\">,</span> <span class=\"token string\">'Enter a date between now and 4 weeks (default 3).'</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">def</span> <span class=\"token function\">test_renew_form_date_in_past</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        date <span class=\"token operator\">=</span> datetime<span class=\"token punctuation\">.</span>date<span class=\"token punctuation\">.</span>today<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span> datetime<span class=\"token punctuation\">.</span>timedelta<span class=\"token punctuation\">(</span>days<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n        form <span class=\"token operator\">=</span> RenewBookForm<span class=\"token punctuation\">(</span>data<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token string\">'renewal_date'</span><span class=\"token punctuation\">:</span> date<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n        self<span class=\"token punctuation\">.</span>assertFalse<span class=\"token punctuation\">(</span>form<span class=\"token punctuation\">.</span>is_valid<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">def</span> <span class=\"token function\">test_renew_form_date_too_far_in_future</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        date <span class=\"token operator\">=</span> datetime<span class=\"token punctuation\">.</span>date<span class=\"token punctuation\">.</span>today<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> datetime<span class=\"token punctuation\">.</span>timedelta<span class=\"token punctuation\">(</span>weeks<span class=\"token operator\">=</span><span class=\"token number\">4</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> datetime<span class=\"token punctuation\">.</span>timedelta<span class=\"token punctuation\">(</span>days<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n        form <span class=\"token operator\">=</span> RenewBookForm<span class=\"token punctuation\">(</span>data<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token string\">'renewal_date'</span><span class=\"token punctuation\">:</span> date<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n        self<span class=\"token punctuation\">.</span>assertFalse<span class=\"token punctuation\">(</span>form<span class=\"token punctuation\">.</span>is_valid<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">def</span> <span class=\"token function\">test_renew_form_date_today</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        date <span class=\"token operator\">=</span> datetime<span class=\"token punctuation\">.</span>date<span class=\"token punctuation\">.</span>today<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        form <span class=\"token operator\">=</span> RenewBookForm<span class=\"token punctuation\">(</span>data<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token string\">'renewal_date'</span><span class=\"token punctuation\">:</span> date<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n        self<span class=\"token punctuation\">.</span>assertTrue<span class=\"token punctuation\">(</span>form<span class=\"token punctuation\">.</span>is_valid<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">def</span> <span class=\"token function\">test_renew_form_date_max</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        date <span class=\"token operator\">=</span> timezone<span class=\"token punctuation\">.</span>localtime<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> datetime<span class=\"token punctuation\">.</span>timedelta<span class=\"token punctuation\">(</span>weeks<span class=\"token operator\">=</span><span class=\"token number\">4</span><span class=\"token punctuation\">)</span>\n        form <span class=\"token operator\">=</span> RenewBookForm<span class=\"token punctuation\">(</span>data<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token string\">'renewal_date'</span><span class=\"token punctuation\">:</span> date<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n        self<span class=\"token punctuation\">.</span>assertTrue<span class=\"token punctuation\">(</span>form<span class=\"token punctuation\">.</span>is_valid<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n</code></pre></div>\n<p>Les deux premi√®res fonctions testent que le <code>label</code> et le <code>help_text</code> du champ sont tels qu'on les attend. Nous devons acc√©der au champ en utilisant le dictionnaire du champ (p. ex. <code>form.fields['renewal_date']</code>). Notez bien ici que nous devons aussi tester si la valeur du label est <code>None</code>, car m√™me si Django rend le label correct, il retournera <code>None</code> si la valeur n'est pas d√©finie <em>explicitement</em>.</p>\n<p>Les autres fonctions testent que le formulaire est valide avec des dates de renouvellement situ√©es √† l'int√©rieur des limites acceptables, et invalide avec des valeurs en dehors de ces limites. Notez comment nous construisons des valeurs de dates de test autour de notre date actuelle (<code>datetime.date.today()</code>) en utilisant <code>datetime.timedelta()</code> (dans ce cas en sp√©cifiant un nombre de jours ou de semaines). Ensuite nous cr√©ons juste le formulaire en lui passant nos donn√©es, et nous testons s'il est valide.</p>\n<div class=\"notecard note\" id=\"sect12\">\n  <p><strong>Note :</strong> Ici nous n'utilisons pas r√©ellement la base de donn√©es ni le client de test. Envisagez de modifier ces tests pour utiliser <a href=\"https://docs.djangoproject.com/en/2.1/topics/testing/tools/#django.test.SimpleTestCase\" class=\"external\" rel=\" noopener\">SimpleTestCase</a>.</p>\n  <p>Nous avons aussi besoin de v√©rifier que les erreurs correctes sont lev√©es si le formulaire est invalide. Cependant cela se fait habituellement dans la partie view, c'est pourquoi nous allons nous y attacher dans la prochaine section.</p>\n</div>\n<p>C'est tout pour les formulaires; nous en avons d'autres, mais ils sont automatiquement cr√©√©s par nos vues g√©n√©riques pour √©dition bas√©es sur des classes, et c'est l√† qu'elles doivent √™tre test√©es. Lancez les tests et v√©rifiez que notre code passe toujours !</p>"}},{"type":"prose","value":{"id":"vues","title":"Vues","isH3":true,"content":"<p>Pour valider le comportement de notre vue, nous utilisons le <a href=\"https://docs.djangoproject.com/en/2.1/topics/testing/tools/#django.test.Client\" class=\"external\" rel=\" noopener\">client</a> de test de Django. Cette classe se comporte comme un navigateur web fictif que nous pouvons utiliser pour simuler des requ√™tes <code>GET</code> et <code>POST</code> √† une URL donn√©e, et observer la r√©ponse. Nous pouvons voir √† peu pr√®s tout au sujet de la r√©ponse, depuis le HTTP bas-niveau (ent√™tes et codes de statut r√©sultants) jusqu'au template que nous utilisons pour rendre le HTML et aux donn√©es de contexte que nous lui passons. Nous pouvons aussi voir la cha√Æne des redirections (s'il y en a) et v√©rifier l'URL et le code de statut √† chaque √©tape. Cela nous permet de v√©rifier que chaque vue se comporte comme pr√©vu.</p>\n<p>Commen√ßons avec l'une de nos vues les plus simples, celle qui fournit une liste de tous les auteurs. Elle est affich√©e √† l'URL <strong>/catalog/authors/</strong> (une URL nomm√©e 'authors' dans la configuration des URL).</p>\n<div class=\"code-example\"><pre class=\"brush: python notranslate\"><code><span class=\"token keyword\">class</span> <span class=\"token class-name\">AuthorListView</span><span class=\"token punctuation\">(</span>generic<span class=\"token punctuation\">.</span>ListView<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    model <span class=\"token operator\">=</span> Author\n    paginate_by <span class=\"token operator\">=</span> <span class=\"token number\">10</span>\n</code></pre></div>\n<p>Comme c'est une vue liste g√©n√©rique, presque tout est fait √† notre place par Django. Probablement, si vous faites confiance √† Django, la seule chose que vous aurez besoin de tester, c'est que la vue est accessible √† l'URL correcte et qu'elle peut √™tre atteinte en utilisant son nom. Cependant, si vous utilisez un processus de d√©veloppement 'test-driven', vous allez commencer par √©crire des tests qui confirmeront que la vue affiche bien tous les auteurs, en les paginant par lots de 10.</p>\n<p>Ouvrez le fichier <strong>/catalog/tests/test_views.py</strong>, et remplacez tout texte existant par le code de test suivant, pour la vue <code>AuthorListView</code>. Comme auparavant, nous importons notre mod√®le et quelques classes utiles. Dans la m√©thode <code>setUpTestData()</code>, nous d√©finissons un certain nombre d'objets <code>Author</code>, de fa√ßon √† pouvoir tester notre pagination.</p>\n<div class=\"code-example\"><pre class=\"brush: python notranslate\"><code><span class=\"token keyword\">from</span> django<span class=\"token punctuation\">.</span>test <span class=\"token keyword\">import</span> TestCase\n<span class=\"token keyword\">from</span> django<span class=\"token punctuation\">.</span>urls <span class=\"token keyword\">import</span> reverse\n\n<span class=\"token keyword\">from</span> catalog<span class=\"token punctuation\">.</span>models <span class=\"token keyword\">import</span> Author\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">AuthorListViewTest</span><span class=\"token punctuation\">(</span>TestCase<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token decorator annotation punctuation\">@classmethod</span>\n    <span class=\"token keyword\">def</span> <span class=\"token function\">setUpTestData</span><span class=\"token punctuation\">(</span>cls<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token comment\"># Create 13 authors for pagination tests</span>\n        number_of_authors <span class=\"token operator\">=</span> <span class=\"token number\">13</span>\n\n        <span class=\"token keyword\">for</span> author_id <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span>number_of_authors<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n            Author<span class=\"token punctuation\">.</span>objects<span class=\"token punctuation\">.</span>create<span class=\"token punctuation\">(</span>\n                first_name<span class=\"token operator\">=</span><span class=\"token string-interpolation\"><span class=\"token string\">f'Christian </span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span>author_id<span class=\"token punctuation\">}</span></span><span class=\"token string\">'</span></span><span class=\"token punctuation\">,</span>\n                last_name<span class=\"token operator\">=</span><span class=\"token string-interpolation\"><span class=\"token string\">f'Surname </span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span>author_id<span class=\"token punctuation\">}</span></span><span class=\"token string\">'</span></span><span class=\"token punctuation\">,</span>\n            <span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">def</span> <span class=\"token function\">test_view_url_exists_at_desired_location</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        response <span class=\"token operator\">=</span> self<span class=\"token punctuation\">.</span>client<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span><span class=\"token string\">'/catalog/authors/'</span><span class=\"token punctuation\">)</span>\n        self<span class=\"token punctuation\">.</span>assertEqual<span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">.</span>status_code<span class=\"token punctuation\">,</span> <span class=\"token number\">200</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">def</span> <span class=\"token function\">test_view_url_accessible_by_name</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        response <span class=\"token operator\">=</span> self<span class=\"token punctuation\">.</span>client<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span>reverse<span class=\"token punctuation\">(</span><span class=\"token string\">'authors'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        self<span class=\"token punctuation\">.</span>assertEqual<span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">.</span>status_code<span class=\"token punctuation\">,</span> <span class=\"token number\">200</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">def</span> <span class=\"token function\">test_view_uses_correct_template</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        response <span class=\"token operator\">=</span> self<span class=\"token punctuation\">.</span>client<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span>reverse<span class=\"token punctuation\">(</span><span class=\"token string\">'authors'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        self<span class=\"token punctuation\">.</span>assertEqual<span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">.</span>status_code<span class=\"token punctuation\">,</span> <span class=\"token number\">200</span><span class=\"token punctuation\">)</span>\n        self<span class=\"token punctuation\">.</span>assertTemplateUsed<span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">,</span> <span class=\"token string\">'catalog/author_list.html'</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">def</span> <span class=\"token function\">test_pagination_is_ten</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        response <span class=\"token operator\">=</span> self<span class=\"token punctuation\">.</span>client<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span>reverse<span class=\"token punctuation\">(</span><span class=\"token string\">'authors'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        self<span class=\"token punctuation\">.</span>assertEqual<span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">.</span>status_code<span class=\"token punctuation\">,</span> <span class=\"token number\">200</span><span class=\"token punctuation\">)</span>\n        self<span class=\"token punctuation\">.</span>assertTrue<span class=\"token punctuation\">(</span><span class=\"token string\">'is_paginated'</span> <span class=\"token keyword\">in</span> response<span class=\"token punctuation\">.</span>context<span class=\"token punctuation\">)</span>\n        self<span class=\"token punctuation\">.</span>assertTrue<span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">.</span>context<span class=\"token punctuation\">[</span><span class=\"token string\">'is_paginated'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">==</span> <span class=\"token boolean\">True</span><span class=\"token punctuation\">)</span>\n        self<span class=\"token punctuation\">.</span>assertTrue<span class=\"token punctuation\">(</span><span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">.</span>context<span class=\"token punctuation\">[</span><span class=\"token string\">'author_list'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> <span class=\"token number\">10</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">def</span> <span class=\"token function\">test_lists_all_authors</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token comment\"># Get second page and confirm it has (exactly) remaining 3 items</span>\n        response <span class=\"token operator\">=</span> self<span class=\"token punctuation\">.</span>client<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span>reverse<span class=\"token punctuation\">(</span><span class=\"token string\">'authors'</span><span class=\"token punctuation\">)</span><span class=\"token operator\">+</span><span class=\"token string\">'?page=2'</span><span class=\"token punctuation\">)</span>\n        self<span class=\"token punctuation\">.</span>assertEqual<span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">.</span>status_code<span class=\"token punctuation\">,</span> <span class=\"token number\">200</span><span class=\"token punctuation\">)</span>\n        self<span class=\"token punctuation\">.</span>assertTrue<span class=\"token punctuation\">(</span><span class=\"token string\">'is_paginated'</span> <span class=\"token keyword\">in</span> response<span class=\"token punctuation\">.</span>context<span class=\"token punctuation\">)</span>\n        self<span class=\"token punctuation\">.</span>assertTrue<span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">.</span>context<span class=\"token punctuation\">[</span><span class=\"token string\">'is_paginated'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">==</span> <span class=\"token boolean\">True</span><span class=\"token punctuation\">)</span>\n        self<span class=\"token punctuation\">.</span>assertTrue<span class=\"token punctuation\">(</span><span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">.</span>context<span class=\"token punctuation\">[</span><span class=\"token string\">'author_list'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> <span class=\"token number\">3</span><span class=\"token punctuation\">)</span>\n</code></pre></div>\n<p>Tous les tests utilisent le client (qui appartient √† notre classe d√©riv√©e de <code>TestCase</code>), afin de simuler une requ√™te <code>GET</code> et d'obtenir une r√©ponse. La premi√®re version v√©rifie une URL sp√©cifique (note : seulement le chemin sp√©cifique, sans le domaine), tandis que la seconde g√©n√®re une URL √† partir de son nom tel qu'il se trouve dans la configuration des URL.</p>\n<div class=\"code-example\"><pre class=\"brush: python notranslate\"><code>response <span class=\"token operator\">=</span> self<span class=\"token punctuation\">.</span>client<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span><span class=\"token string\">'/catalog/authors/'</span><span class=\"token punctuation\">)</span>\nresponse <span class=\"token operator\">=</span> self<span class=\"token punctuation\">.</span>client<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span>reverse<span class=\"token punctuation\">(</span><span class=\"token string\">'authors'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n</code></pre></div>\n<p>Une fois que nous avons la r√©ponse, nous lui demandons son code de statut, le template utilis√©, si la r√©ponse est pagin√©e ou non, le nombre d'√©l√©ments retourn√©s et le nombre total d'√©l√©ments.</p>\n<div class=\"notecard note\" id=\"sect13\">\n  <p><strong>Note :</strong> Si, dans votre fichier <strong>/catalog/views.py</strong>, vous mettez la variable <code>paginate_by</code> √† un nombre autre que 10, assurez-vous de mettre √† jour les lignes qui testent le nombre correct d'√©l√©ments affich√©s dans les templates pagin√©s, ci-dessus et dans les sections qui suivent. Par exemple, si vous mettez √† 5 la variable pour la liste des auteurs, changez ainsi la ligne ci-dessus :</p>\n  <div class=\"code-example\"><pre class=\"brush: python notranslate\"><code>self<span class=\"token punctuation\">.</span>assertTrue<span class=\"token punctuation\">(</span><span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">.</span>context<span class=\"token punctuation\">[</span><span class=\"token string\">'author_list'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> <span class=\"token number\">5</span><span class=\"token punctuation\">)</span>\n</code></pre></div>\n</div>\n<p>La variable la plus int√©ressante que nous montrons ci-dessus est <code>response.context</code>, qui est la variable de contexte pass√©e au template par la vue. C'est incroyablement utile pour tester, parce qu'elle nous autorise √† confirmer que notre template re√ßoit bien toutes les donn√©es dont il a besoin. En d'autres termes, nous pouvons v√©rifier que nous utilisons le template pr√©vu, et quelles donn√©es le template utilise, ce qui permet dans une large mesure de v√©rifier que tous les probl√®mes de 'render' sont seulement dus au template.</p>\n<h4 id=\"vues_limit√©es_aux_utilisateurs_connect√©s\">Vues limit√©es aux utilisateurs connect√©s</h4>\n<p>Dans certains cas, vous voudrez tester une vue qui est limit√©e aux seuls utilisateurs connect√©s. Par exemple notre vue <code>LoanedBooksByUserListView</code> est tr√®s semblable √† notre vue pr√©c√©dente, mais n'est accessible qu'aux utilisateurs connect√©s, et n'affiche que des enregistrements de type <code>BookInstance</code> qui sont emprunt√©s par l'utilisateur courant, ont le statut 'on loan', et sont tri√©s 'le plus ancien en premier'.</p>\n<div class=\"code-example\"><pre class=\"brush: python notranslate\"><code><span class=\"token keyword\">from</span> django<span class=\"token punctuation\">.</span>contrib<span class=\"token punctuation\">.</span>auth<span class=\"token punctuation\">.</span>mixins <span class=\"token keyword\">import</span> LoginRequiredMixin\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">LoanedBooksByUserListView</span><span class=\"token punctuation\">(</span>LoginRequiredMixin<span class=\"token punctuation\">,</span> generic<span class=\"token punctuation\">.</span>ListView<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token triple-quoted-string string\">\"\"\"Generic class-based view listing books on loan to current user.\"\"\"</span>\n    model <span class=\"token operator\">=</span> BookInstance\n    template_name <span class=\"token operator\">=</span><span class=\"token string\">'catalog/bookinstance_list_borrowed_user.html'</span>\n    paginate_by <span class=\"token operator\">=</span> <span class=\"token number\">10</span>\n\n    <span class=\"token keyword\">def</span> <span class=\"token function\">get_queryset</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">return</span> BookInstance<span class=\"token punctuation\">.</span>objects<span class=\"token punctuation\">.</span><span class=\"token builtin\">filter</span><span class=\"token punctuation\">(</span>borrower<span class=\"token operator\">=</span>self<span class=\"token punctuation\">.</span>request<span class=\"token punctuation\">.</span>user<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token builtin\">filter</span><span class=\"token punctuation\">(</span>status__exact<span class=\"token operator\">=</span><span class=\"token string\">'o'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>order_by<span class=\"token punctuation\">(</span><span class=\"token string\">'due_back'</span><span class=\"token punctuation\">)</span>\n</code></pre></div>\n<p>Ajoutez le code de test suivant √† <strong>/catalog/tests/test_views.py</strong>. Ici nous utilisons d'abord la m√©thode <code>SetUp()</code> pour cr√©er des logins de comptes d'utilisateurs et des objets de type <code>BookInstance</code> (avec leurs livres et autres enregistrements associ√©s), que nous utiliserons plus tard dans les tests. La moiti√© des livres sont emprunt√©s par chaque utilisateur-test, mais nous avons initialement mis le statut de tous les livres √† \"maintenance\". Nous avons utilis√© <code>SetUp()</code> plut√¥t que <code>setUpTestData()</code>, parce que nous allons modifier plus tard certains de ces objets.</p>\n<div class=\"notecard note\" id=\"sect14\">\n  <p><strong>Note :</strong> Le code de <code>setUp()</code> ci-dessous cr√©e un livre avec un <code>Language</code> sp√©cifique, mais <em>votre</em> code n'inclut peut-√™tre pas le mod√®le <code>Language</code>, √©tant donn√© que celui-ci a √©t√© cr√©√© lors d'un <em>d√©fi</em>. Si c'est le cas, commentez simplement les bouts de code qui cr√©ent ou importent des objets de type Language. Vous devrez aussi le faire dans la section <code>RenewBookInstancesViewTest</code> qui suit.</p>\n</div>\n<div class=\"code-example\"><pre class=\"brush: python notranslate\"><code><span class=\"token keyword\">import</span> datetime\n\n<span class=\"token keyword\">from</span> django<span class=\"token punctuation\">.</span>utils <span class=\"token keyword\">import</span> timezone\n<span class=\"token keyword\">from</span> django<span class=\"token punctuation\">.</span>contrib<span class=\"token punctuation\">.</span>auth<span class=\"token punctuation\">.</span>models <span class=\"token keyword\">import</span> User <span class=\"token comment\"># Required to assign User as a borrower</span>\n\n<span class=\"token keyword\">from</span> catalog<span class=\"token punctuation\">.</span>models <span class=\"token keyword\">import</span> BookInstance<span class=\"token punctuation\">,</span> Book<span class=\"token punctuation\">,</span> Genre<span class=\"token punctuation\">,</span> Language\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">LoanedBookInstancesByUserListViewTest</span><span class=\"token punctuation\">(</span>TestCase<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">def</span> <span class=\"token function\">setUp</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token comment\"># Create two users</span>\n        test_user1 <span class=\"token operator\">=</span> User<span class=\"token punctuation\">.</span>objects<span class=\"token punctuation\">.</span>create_user<span class=\"token punctuation\">(</span>username<span class=\"token operator\">=</span><span class=\"token string\">'testuser1'</span><span class=\"token punctuation\">,</span> password<span class=\"token operator\">=</span><span class=\"token string\">'1X&lt;ISRUkw+tuK'</span><span class=\"token punctuation\">)</span>\n        test_user2 <span class=\"token operator\">=</span> User<span class=\"token punctuation\">.</span>objects<span class=\"token punctuation\">.</span>create_user<span class=\"token punctuation\">(</span>username<span class=\"token operator\">=</span><span class=\"token string\">'testuser2'</span><span class=\"token punctuation\">,</span> password<span class=\"token operator\">=</span><span class=\"token string\">'2HJ1vRV0Z&amp;3iD'</span><span class=\"token punctuation\">)</span>\n\n        test_user1<span class=\"token punctuation\">.</span>save<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        test_user2<span class=\"token punctuation\">.</span>save<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n        <span class=\"token comment\"># Create a book</span>\n        test_author <span class=\"token operator\">=</span> Author<span class=\"token punctuation\">.</span>objects<span class=\"token punctuation\">.</span>create<span class=\"token punctuation\">(</span>first_name<span class=\"token operator\">=</span><span class=\"token string\">'John'</span><span class=\"token punctuation\">,</span> last_name<span class=\"token operator\">=</span><span class=\"token string\">'Smith'</span><span class=\"token punctuation\">)</span>\n        test_genre <span class=\"token operator\">=</span> Genre<span class=\"token punctuation\">.</span>objects<span class=\"token punctuation\">.</span>create<span class=\"token punctuation\">(</span>name<span class=\"token operator\">=</span><span class=\"token string\">'Fantasy'</span><span class=\"token punctuation\">)</span>\n        test_language <span class=\"token operator\">=</span> Language<span class=\"token punctuation\">.</span>objects<span class=\"token punctuation\">.</span>create<span class=\"token punctuation\">(</span>name<span class=\"token operator\">=</span><span class=\"token string\">'English'</span><span class=\"token punctuation\">)</span>\n        test_book <span class=\"token operator\">=</span> Book<span class=\"token punctuation\">.</span>objects<span class=\"token punctuation\">.</span>create<span class=\"token punctuation\">(</span>\n            title<span class=\"token operator\">=</span><span class=\"token string\">'Book Title'</span><span class=\"token punctuation\">,</span>\n            summary<span class=\"token operator\">=</span><span class=\"token string\">'My book summary'</span><span class=\"token punctuation\">,</span>\n            isbn<span class=\"token operator\">=</span><span class=\"token string\">'ABCDEFG'</span><span class=\"token punctuation\">,</span>\n            author<span class=\"token operator\">=</span>test_author<span class=\"token punctuation\">,</span>\n            language<span class=\"token operator\">=</span>test_language<span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">)</span>\n\n        <span class=\"token comment\"># Create genre as a post-step</span>\n        genre_objects_for_book <span class=\"token operator\">=</span> Genre<span class=\"token punctuation\">.</span>objects<span class=\"token punctuation\">.</span><span class=\"token builtin\">all</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        test_book<span class=\"token punctuation\">.</span>genre<span class=\"token punctuation\">.</span><span class=\"token builtin\">set</span><span class=\"token punctuation\">(</span>genre_objects_for_book<span class=\"token punctuation\">)</span> <span class=\"token comment\"># Direct assignment of many-to-many types not allowed.</span>\n        test_book<span class=\"token punctuation\">.</span>save<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n        <span class=\"token comment\"># Create 30 BookInstance objects</span>\n        number_of_book_copies <span class=\"token operator\">=</span> <span class=\"token number\">30</span>\n        <span class=\"token keyword\">for</span> book_copy <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span>number_of_book_copies<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n            return_date <span class=\"token operator\">=</span> timezone<span class=\"token punctuation\">.</span>localtime<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> datetime<span class=\"token punctuation\">.</span>timedelta<span class=\"token punctuation\">(</span>days<span class=\"token operator\">=</span>book_copy<span class=\"token operator\">%</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span>\n            the_borrower <span class=\"token operator\">=</span> test_user1 <span class=\"token keyword\">if</span> book_copy <span class=\"token operator\">%</span> <span class=\"token number\">2</span> <span class=\"token keyword\">else</span> test_user2\n            status <span class=\"token operator\">=</span> <span class=\"token string\">'m'</span>\n            BookInstance<span class=\"token punctuation\">.</span>objects<span class=\"token punctuation\">.</span>create<span class=\"token punctuation\">(</span>\n                book<span class=\"token operator\">=</span>test_book<span class=\"token punctuation\">,</span>\n                imprint<span class=\"token operator\">=</span><span class=\"token string\">'Unlikely Imprint, 2016'</span><span class=\"token punctuation\">,</span>\n                due_back<span class=\"token operator\">=</span>return_date<span class=\"token punctuation\">,</span>\n                borrower<span class=\"token operator\">=</span>the_borrower<span class=\"token punctuation\">,</span>\n                status<span class=\"token operator\">=</span>status<span class=\"token punctuation\">,</span>\n            <span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">def</span> <span class=\"token function\">test_redirect_if_not_logged_in</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        response <span class=\"token operator\">=</span> self<span class=\"token punctuation\">.</span>client<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span>reverse<span class=\"token punctuation\">(</span><span class=\"token string\">'my-borrowed'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        self<span class=\"token punctuation\">.</span>assertRedirects<span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">,</span> <span class=\"token string\">'/accounts/login/?next=/catalog/mybooks/'</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">def</span> <span class=\"token function\">test_logged_in_uses_correct_template</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        login <span class=\"token operator\">=</span> self<span class=\"token punctuation\">.</span>client<span class=\"token punctuation\">.</span>login<span class=\"token punctuation\">(</span>username<span class=\"token operator\">=</span><span class=\"token string\">'testuser1'</span><span class=\"token punctuation\">,</span> password<span class=\"token operator\">=</span><span class=\"token string\">'1X&lt;ISRUkw+tuK'</span><span class=\"token punctuation\">)</span>\n        response <span class=\"token operator\">=</span> self<span class=\"token punctuation\">.</span>client<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span>reverse<span class=\"token punctuation\">(</span><span class=\"token string\">'my-borrowed'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n        <span class=\"token comment\"># Check our user is logged in</span>\n        self<span class=\"token punctuation\">.</span>assertEqual<span class=\"token punctuation\">(</span><span class=\"token builtin\">str</span><span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">.</span>context<span class=\"token punctuation\">[</span><span class=\"token string\">'user'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'testuser1'</span><span class=\"token punctuation\">)</span>\n        <span class=\"token comment\"># Check that we got a response \"success\"</span>\n        self<span class=\"token punctuation\">.</span>assertEqual<span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">.</span>status_code<span class=\"token punctuation\">,</span> <span class=\"token number\">200</span><span class=\"token punctuation\">)</span>\n\n        <span class=\"token comment\"># Check we used correct template</span>\n        self<span class=\"token punctuation\">.</span>assertTemplateUsed<span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">,</span> <span class=\"token string\">'catalog/bookinstance_list_borrowed_user.html'</span><span class=\"token punctuation\">)</span>\n</code></pre></div>\n<p>Pour v√©rifier que la vue redirige √† une page de login si l'utilisateur n'est pas connect√©, nous utilisons <code>assertRedirects</code>, comme montr√© dans <code>test_redirect_if_not_logged_in()</code>. Pour v√©rifier que la page est affich√©e pour un utilisateur connect√©, nous connectons d'abord notre utilisateur-test, et ensuite nous acc√©dons de nouveau √† la page et v√©rifions que nous obtenons un <code>status_code</code> de 200 (succ√®s).</p>\n<p>Le reste des test v√©rifie que notre vue ne retourne que les livres qui sont pr√™t√©s √† notre emprunteur courant. Copiez ce code et collez le √† la fin de la classe de test ci-dessus.</p>\n<div class=\"code-example\"><pre class=\"brush: python notranslate\"><code>    <span class=\"token keyword\">def</span> <span class=\"token function\">test_only_borrowed_books_in_list</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        login <span class=\"token operator\">=</span> self<span class=\"token punctuation\">.</span>client<span class=\"token punctuation\">.</span>login<span class=\"token punctuation\">(</span>username<span class=\"token operator\">=</span><span class=\"token string\">'testuser1'</span><span class=\"token punctuation\">,</span> password<span class=\"token operator\">=</span><span class=\"token string\">'1X&lt;ISRUkw+tuK'</span><span class=\"token punctuation\">)</span>\n        response <span class=\"token operator\">=</span> self<span class=\"token punctuation\">.</span>client<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span>reverse<span class=\"token punctuation\">(</span><span class=\"token string\">'my-borrowed'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n        <span class=\"token comment\"># Check our user is logged in</span>\n        self<span class=\"token punctuation\">.</span>assertEqual<span class=\"token punctuation\">(</span><span class=\"token builtin\">str</span><span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">.</span>context<span class=\"token punctuation\">[</span><span class=\"token string\">'user'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'testuser1'</span><span class=\"token punctuation\">)</span>\n        <span class=\"token comment\"># Check that we got a response \"success\"</span>\n        self<span class=\"token punctuation\">.</span>assertEqual<span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">.</span>status_code<span class=\"token punctuation\">,</span> <span class=\"token number\">200</span><span class=\"token punctuation\">)</span>\n\n        <span class=\"token comment\"># Check that initially we don't have any books in list (none on loan)</span>\n        self<span class=\"token punctuation\">.</span>assertTrue<span class=\"token punctuation\">(</span><span class=\"token string\">'bookinstance_list'</span> <span class=\"token keyword\">in</span> response<span class=\"token punctuation\">.</span>context<span class=\"token punctuation\">)</span>\n        self<span class=\"token punctuation\">.</span>assertEqual<span class=\"token punctuation\">(</span><span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">.</span>context<span class=\"token punctuation\">[</span><span class=\"token string\">'bookinstance_list'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\n\n        <span class=\"token comment\"># Now change all books to be on loan</span>\n        books <span class=\"token operator\">=</span> BookInstance<span class=\"token punctuation\">.</span>objects<span class=\"token punctuation\">.</span><span class=\"token builtin\">all</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">:</span><span class=\"token number\">10</span><span class=\"token punctuation\">]</span>\n\n        <span class=\"token keyword\">for</span> book <span class=\"token keyword\">in</span> books<span class=\"token punctuation\">:</span>\n            book<span class=\"token punctuation\">.</span>status <span class=\"token operator\">=</span> <span class=\"token string\">'o'</span>\n            book<span class=\"token punctuation\">.</span>save<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n        <span class=\"token comment\"># Check that now we have borrowed books in the list</span>\n        response <span class=\"token operator\">=</span> self<span class=\"token punctuation\">.</span>client<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span>reverse<span class=\"token punctuation\">(</span><span class=\"token string\">'my-borrowed'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        <span class=\"token comment\"># Check our user is logged in</span>\n        self<span class=\"token punctuation\">.</span>assertEqual<span class=\"token punctuation\">(</span><span class=\"token builtin\">str</span><span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">.</span>context<span class=\"token punctuation\">[</span><span class=\"token string\">'user'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'testuser1'</span><span class=\"token punctuation\">)</span>\n        <span class=\"token comment\"># Check that we got a response \"success\"</span>\n        self<span class=\"token punctuation\">.</span>assertEqual<span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">.</span>status_code<span class=\"token punctuation\">,</span> <span class=\"token number\">200</span><span class=\"token punctuation\">)</span>\n\n        self<span class=\"token punctuation\">.</span>assertTrue<span class=\"token punctuation\">(</span><span class=\"token string\">'bookinstance_list'</span> <span class=\"token keyword\">in</span> response<span class=\"token punctuation\">.</span>context<span class=\"token punctuation\">)</span>\n\n        <span class=\"token comment\"># Confirm all books belong to testuser1 and are on loan</span>\n        <span class=\"token keyword\">for</span> bookitem <span class=\"token keyword\">in</span> response<span class=\"token punctuation\">.</span>context<span class=\"token punctuation\">[</span><span class=\"token string\">'bookinstance_list'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">:</span>\n            self<span class=\"token punctuation\">.</span>assertEqual<span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">.</span>context<span class=\"token punctuation\">[</span><span class=\"token string\">'user'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> bookitem<span class=\"token punctuation\">.</span>borrower<span class=\"token punctuation\">)</span>\n            self<span class=\"token punctuation\">.</span>assertEqual<span class=\"token punctuation\">(</span><span class=\"token string\">'o'</span><span class=\"token punctuation\">,</span> bookitem<span class=\"token punctuation\">.</span>status<span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">def</span> <span class=\"token function\">test_pages_ordered_by_due_date</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token comment\"># Change all books to be on loan</span>\n        <span class=\"token keyword\">for</span> book <span class=\"token keyword\">in</span> BookInstance<span class=\"token punctuation\">.</span>objects<span class=\"token punctuation\">.</span><span class=\"token builtin\">all</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n            book<span class=\"token punctuation\">.</span>status<span class=\"token operator\">=</span><span class=\"token string\">'o'</span>\n            book<span class=\"token punctuation\">.</span>save<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n        login <span class=\"token operator\">=</span> self<span class=\"token punctuation\">.</span>client<span class=\"token punctuation\">.</span>login<span class=\"token punctuation\">(</span>username<span class=\"token operator\">=</span><span class=\"token string\">'testuser1'</span><span class=\"token punctuation\">,</span> password<span class=\"token operator\">=</span><span class=\"token string\">'1X&lt;ISRUkw+tuK'</span><span class=\"token punctuation\">)</span>\n        response <span class=\"token operator\">=</span> self<span class=\"token punctuation\">.</span>client<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span>reverse<span class=\"token punctuation\">(</span><span class=\"token string\">'my-borrowed'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n        <span class=\"token comment\"># Check our user is logged in</span>\n        self<span class=\"token punctuation\">.</span>assertEqual<span class=\"token punctuation\">(</span><span class=\"token builtin\">str</span><span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">.</span>context<span class=\"token punctuation\">[</span><span class=\"token string\">'user'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'testuser1'</span><span class=\"token punctuation\">)</span>\n        <span class=\"token comment\"># Check that we got a response \"success\"</span>\n        self<span class=\"token punctuation\">.</span>assertEqual<span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">.</span>status_code<span class=\"token punctuation\">,</span> <span class=\"token number\">200</span><span class=\"token punctuation\">)</span>\n\n        <span class=\"token comment\"># Confirm that of the items, only 10 are displayed due to pagination.</span>\n        self<span class=\"token punctuation\">.</span>assertEqual<span class=\"token punctuation\">(</span><span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">.</span>context<span class=\"token punctuation\">[</span><span class=\"token string\">'bookinstance_list'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token number\">10</span><span class=\"token punctuation\">)</span>\n\n        last_date <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n        <span class=\"token keyword\">for</span> book <span class=\"token keyword\">in</span> response<span class=\"token punctuation\">.</span>context<span class=\"token punctuation\">[</span><span class=\"token string\">'bookinstance_list'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">:</span>\n            <span class=\"token keyword\">if</span> last_date <span class=\"token operator\">==</span> <span class=\"token number\">0</span><span class=\"token punctuation\">:</span>\n                last_date <span class=\"token operator\">=</span> book<span class=\"token punctuation\">.</span>due_back\n            <span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span>\n                self<span class=\"token punctuation\">.</span>assertTrue<span class=\"token punctuation\">(</span>last_date <span class=\"token operator\">&lt;=</span> book<span class=\"token punctuation\">.</span>due_back<span class=\"token punctuation\">)</span>\n                last_date <span class=\"token operator\">=</span> book<span class=\"token punctuation\">.</span>due_back\n</code></pre></div>\n<p>Vous pourriez aussi ajouter les tests de pagination, si vous voulez !</p>\n<h4 id=\"tester_des_vues_avec_formulaires\">Tester des vues avec formulaires</h4>\n<p>Tester des vues avec formulaires est un peu plus compliqu√© que dans les cas pr√©c√©dents, car vous devez tester un code qui parcourt plus de chemin : l'affichage initial, l'affichage apr√®s que la validation des donn√©es a √©chou√©, et l'affichage apr√®s que la validation a r√©ussi. La bonne nouvelle, c'est que nous utilisons le client de test presque de la m√™me mani√®re que nous l'avons fait pour des vues qui ne font qu'afficher des donn√©es.</p>\n<p>Pour voir cela, √©crivons des tests pour la vue utilis√©e pour renouveler des livres (<code>renew_book_librarian()</code>) :</p>\n<div class=\"code-example\"><pre class=\"brush: python notranslate\"><code><span class=\"token keyword\">from</span> catalog<span class=\"token punctuation\">.</span>forms <span class=\"token keyword\">import</span> RenewBookForm\n\n<span class=\"token decorator annotation punctuation\">@permission_required</span><span class=\"token punctuation\">(</span><span class=\"token string\">'catalog.can_mark_returned'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">def</span> <span class=\"token function\">renew_book_librarian</span><span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">,</span> pk<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token triple-quoted-string string\">\"\"\"View function for renewing a specific BookInstance by librarian.\"\"\"</span>\n    book_instance <span class=\"token operator\">=</span> get_object_or_404<span class=\"token punctuation\">(</span>BookInstance<span class=\"token punctuation\">,</span> pk<span class=\"token operator\">=</span>pk<span class=\"token punctuation\">)</span>\n\n    <span class=\"token comment\"># If this is a POST request then process the Form data</span>\n    <span class=\"token keyword\">if</span> request<span class=\"token punctuation\">.</span>method <span class=\"token operator\">==</span> <span class=\"token string\">'POST'</span><span class=\"token punctuation\">:</span>\n\n        <span class=\"token comment\"># Create a form instance and populate it with data from the request (binding):</span>\n        book_renewal_form <span class=\"token operator\">=</span> RenewBookForm<span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">.</span>POST<span class=\"token punctuation\">)</span>\n\n        <span class=\"token comment\"># Check if the form is valid:</span>\n        <span class=\"token keyword\">if</span> form<span class=\"token punctuation\">.</span>is_valid<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n            <span class=\"token comment\"># process the data in form.cleaned_data as required (here we just write it to the model due_back field)</span>\n            book_instance<span class=\"token punctuation\">.</span>due_back <span class=\"token operator\">=</span> form<span class=\"token punctuation\">.</span>cleaned_data<span class=\"token punctuation\">[</span><span class=\"token string\">'renewal_date'</span><span class=\"token punctuation\">]</span>\n            book_instance<span class=\"token punctuation\">.</span>save<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n            <span class=\"token comment\"># redirect to a new URL:</span>\n            <span class=\"token keyword\">return</span> HttpResponseRedirect<span class=\"token punctuation\">(</span>reverse<span class=\"token punctuation\">(</span><span class=\"token string\">'all-borrowed'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token comment\"># If this is a GET (or any other method) create the default form</span>\n    <span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span>\n        proposed_renewal_date <span class=\"token operator\">=</span> datetime<span class=\"token punctuation\">.</span>date<span class=\"token punctuation\">.</span>today<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> datetime<span class=\"token punctuation\">.</span>timedelta<span class=\"token punctuation\">(</span>weeks<span class=\"token operator\">=</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span>\n        book_renewal_form <span class=\"token operator\">=</span> RenewBookForm<span class=\"token punctuation\">(</span>initial<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token string\">'renewal_date'</span><span class=\"token punctuation\">:</span> proposed_renewal_date<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\n    context <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token string\">'book_renewal_form'</span><span class=\"token punctuation\">:</span> book_renewal_form<span class=\"token punctuation\">,</span>\n        <span class=\"token string\">'book_instance'</span><span class=\"token punctuation\">:</span> book_instance<span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">return</span> render<span class=\"token punctuation\">(</span>request<span class=\"token punctuation\">,</span> <span class=\"token string\">'catalog/book_renew_librarian.html'</span><span class=\"token punctuation\">,</span> context<span class=\"token punctuation\">)</span>\n</code></pre></div>\n<p>Nous allons devoir tester que la vue n'est disponible qu'aux utilisateurs ayant la permission <code>can_mark_returned</code>, et que les utilisateurs sont bien redirig√©s vers une page d'erreur HTTP 404 s'ils essaient de renouveler une <code>BookInstance</code> inexistante. Nous devons v√©rifier que la valeur initiale du formulaire est remplie avec une date de trois semaines dans le futur, et que si la validation r√©ussit, nous sommes redirig√©s vers la vue \"tous les livres emprunt√©s\". Dans le cadre des tests sur l'√©chec de la validation, nous allons aussi v√©rifier que notre formulaire envoie les bons messages d'erreur.</p>\n<p>Ajoutez la premi√®re partie de la classe de test ci-dessous √† la fin du fichier <strong>/catalog/tests/test_views.py</strong>. Cela cr√©e deux utilisateurs et deux instances de livres, mais ne donne qu'√† un seul utilisateur la permission d'acc√©der √† la vue. Le code pour autoriser les permissions durant les tests est montr√©e en gras :</p>\n<div class=\"code-example\"><pre class=\"brush: python notranslate\"><code><span class=\"token keyword\">import</span> uuid\n\n<span class=\"token keyword\">from</span> django<span class=\"token punctuation\">.</span>contrib<span class=\"token punctuation\">.</span>auth<span class=\"token punctuation\">.</span>models <span class=\"token keyword\">import</span> Permission <span class=\"token comment\"># Required to grant the permission needed to set a book as returned.</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">RenewBookInstancesViewTest</span><span class=\"token punctuation\">(</span>TestCase<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">def</span> <span class=\"token function\">setUp</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token comment\"># Create a user</span>\n        test_user1 <span class=\"token operator\">=</span> User<span class=\"token punctuation\">.</span>objects<span class=\"token punctuation\">.</span>create_user<span class=\"token punctuation\">(</span>username<span class=\"token operator\">=</span><span class=\"token string\">'testuser1'</span><span class=\"token punctuation\">,</span> password<span class=\"token operator\">=</span><span class=\"token string\">'1X&lt;ISRUkw+tuK'</span><span class=\"token punctuation\">)</span>\n        test_user2 <span class=\"token operator\">=</span> User<span class=\"token punctuation\">.</span>objects<span class=\"token punctuation\">.</span>create_user<span class=\"token punctuation\">(</span>username<span class=\"token operator\">=</span><span class=\"token string\">'testuser2'</span><span class=\"token punctuation\">,</span> password<span class=\"token operator\">=</span><span class=\"token string\">'2HJ1vRV0Z&amp;3iD'</span><span class=\"token punctuation\">)</span>\n\n        test_user1<span class=\"token punctuation\">.</span>save<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        test_user2<span class=\"token punctuation\">.</span>save<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n        permission <span class=\"token operator\">=</span> Permission<span class=\"token punctuation\">.</span>objects<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span>name<span class=\"token operator\">=</span><span class=\"token string\">'Set book as returned'</span><span class=\"token punctuation\">)</span>\n        test_user2<span class=\"token punctuation\">.</span>user_permissions<span class=\"token punctuation\">.</span>add<span class=\"token punctuation\">(</span>permission<span class=\"token punctuation\">)</span>\n        test_user2<span class=\"token punctuation\">.</span>save<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n        <span class=\"token comment\"># Create a book</span>\n        test_author <span class=\"token operator\">=</span> Author<span class=\"token punctuation\">.</span>objects<span class=\"token punctuation\">.</span>create<span class=\"token punctuation\">(</span>first_name<span class=\"token operator\">=</span><span class=\"token string\">'John'</span><span class=\"token punctuation\">,</span> last_name<span class=\"token operator\">=</span><span class=\"token string\">'Smith'</span><span class=\"token punctuation\">)</span>\n        test_genre <span class=\"token operator\">=</span> Genre<span class=\"token punctuation\">.</span>objects<span class=\"token punctuation\">.</span>create<span class=\"token punctuation\">(</span>name<span class=\"token operator\">=</span><span class=\"token string\">'Fantasy'</span><span class=\"token punctuation\">)</span>\n        test_language <span class=\"token operator\">=</span> Language<span class=\"token punctuation\">.</span>objects<span class=\"token punctuation\">.</span>create<span class=\"token punctuation\">(</span>name<span class=\"token operator\">=</span><span class=\"token string\">'English'</span><span class=\"token punctuation\">)</span>\n        test_book <span class=\"token operator\">=</span> Book<span class=\"token punctuation\">.</span>objects<span class=\"token punctuation\">.</span>create<span class=\"token punctuation\">(</span>\n            title<span class=\"token operator\">=</span><span class=\"token string\">'Book Title'</span><span class=\"token punctuation\">,</span>\n            summary<span class=\"token operator\">=</span><span class=\"token string\">'My book summary'</span><span class=\"token punctuation\">,</span>\n            isbn<span class=\"token operator\">=</span><span class=\"token string\">'ABCDEFG'</span><span class=\"token punctuation\">,</span>\n            author<span class=\"token operator\">=</span>test_author<span class=\"token punctuation\">,</span>\n            language<span class=\"token operator\">=</span>test_language<span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">)</span>\n\n        <span class=\"token comment\"># Create genre as a post-step</span>\n        genre_objects_for_book <span class=\"token operator\">=</span> Genre<span class=\"token punctuation\">.</span>objects<span class=\"token punctuation\">.</span><span class=\"token builtin\">all</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        test_book<span class=\"token punctuation\">.</span>genre<span class=\"token punctuation\">.</span><span class=\"token builtin\">set</span><span class=\"token punctuation\">(</span>genre_objects_for_book<span class=\"token punctuation\">)</span> <span class=\"token comment\"># Direct assignment of many-to-many types not allowed.</span>\n        test_book<span class=\"token punctuation\">.</span>save<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n        <span class=\"token comment\"># Create a BookInstance object for test_user1</span>\n        return_date <span class=\"token operator\">=</span> datetime<span class=\"token punctuation\">.</span>date<span class=\"token punctuation\">.</span>today<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> datetime<span class=\"token punctuation\">.</span>timedelta<span class=\"token punctuation\">(</span>days<span class=\"token operator\">=</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span>\n        self<span class=\"token punctuation\">.</span>test_bookinstance1 <span class=\"token operator\">=</span> BookInstance<span class=\"token punctuation\">.</span>objects<span class=\"token punctuation\">.</span>create<span class=\"token punctuation\">(</span>\n            book<span class=\"token operator\">=</span>test_book<span class=\"token punctuation\">,</span>\n            imprint<span class=\"token operator\">=</span><span class=\"token string\">'Unlikely Imprint, 2016'</span><span class=\"token punctuation\">,</span>\n            due_back<span class=\"token operator\">=</span>return_date<span class=\"token punctuation\">,</span>\n            borrower<span class=\"token operator\">=</span>test_user1<span class=\"token punctuation\">,</span>\n            status<span class=\"token operator\">=</span><span class=\"token string\">'o'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">)</span>\n\n        <span class=\"token comment\"># Create a BookInstance object for test_user2</span>\n        return_date <span class=\"token operator\">=</span> datetime<span class=\"token punctuation\">.</span>date<span class=\"token punctuation\">.</span>today<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> datetime<span class=\"token punctuation\">.</span>timedelta<span class=\"token punctuation\">(</span>days<span class=\"token operator\">=</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span>\n        self<span class=\"token punctuation\">.</span>test_bookinstance2 <span class=\"token operator\">=</span> BookInstance<span class=\"token punctuation\">.</span>objects<span class=\"token punctuation\">.</span>create<span class=\"token punctuation\">(</span>\n            book<span class=\"token operator\">=</span>test_book<span class=\"token punctuation\">,</span>\n            imprint<span class=\"token operator\">=</span><span class=\"token string\">'Unlikely Imprint, 2016'</span><span class=\"token punctuation\">,</span>\n            due_back<span class=\"token operator\">=</span>return_date<span class=\"token punctuation\">,</span>\n            borrower<span class=\"token operator\">=</span>test_user2<span class=\"token punctuation\">,</span>\n            status<span class=\"token operator\">=</span><span class=\"token string\">'o'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">)</span>\n</code></pre></div>\n<p>Ajoutez les tests suivants √† la fin de la classe de test. Ils v√©rifient que seuls les utilisateurs avec les bonnes permissions (<em>testuser2</em>) peuvent acc√©der √† la vue. Nous v√©rifions tous les cas : quand l'utilisateur n'est pas connect√©, quand un utilisateur est connect√© mais n'a pas les permissions requises, quand l'utilisateur a les permissions mais n'est pas l'emprunteur (ce test devrait r√©ussir), et ce qui se passe quand ils tentent d'acc√©der √† une <code>BookInstance</code> inexistante. Nous v√©rifions aussi que le bon template est utilis√©.</p>\n<div class=\"code-example\"><pre class=\"brush: python notranslate\"><code>   <span class=\"token keyword\">def</span> <span class=\"token function\">test_redirect_if_not_logged_in</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        response <span class=\"token operator\">=</span> self<span class=\"token punctuation\">.</span>client<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span>reverse<span class=\"token punctuation\">(</span><span class=\"token string\">'renew-book-librarian'</span><span class=\"token punctuation\">,</span> kwargs<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token string\">'pk'</span><span class=\"token punctuation\">:</span> self<span class=\"token punctuation\">.</span>test_bookinstance1<span class=\"token punctuation\">.</span>pk<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        <span class=\"token comment\"># Manually check redirect (Can't use assertRedirect, because the redirect URL is unpredictable)</span>\n        self<span class=\"token punctuation\">.</span>assertEqual<span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">.</span>status_code<span class=\"token punctuation\">,</span> <span class=\"token number\">302</span><span class=\"token punctuation\">)</span>\n        self<span class=\"token punctuation\">.</span>assertTrue<span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">.</span>url<span class=\"token punctuation\">.</span>startswith<span class=\"token punctuation\">(</span><span class=\"token string\">'/accounts/login/'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">def</span> <span class=\"token function\">test_redirect_if_logged_in_but_not_correct_permission</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        login <span class=\"token operator\">=</span> self<span class=\"token punctuation\">.</span>client<span class=\"token punctuation\">.</span>login<span class=\"token punctuation\">(</span>username<span class=\"token operator\">=</span><span class=\"token string\">'testuser1'</span><span class=\"token punctuation\">,</span> password<span class=\"token operator\">=</span><span class=\"token string\">'1X&lt;ISRUkw+tuK'</span><span class=\"token punctuation\">)</span>\n        response <span class=\"token operator\">=</span> self<span class=\"token punctuation\">.</span>client<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span>reverse<span class=\"token punctuation\">(</span><span class=\"token string\">'renew-book-librarian'</span><span class=\"token punctuation\">,</span> kwargs<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token string\">'pk'</span><span class=\"token punctuation\">:</span> self<span class=\"token punctuation\">.</span>test_bookinstance1<span class=\"token punctuation\">.</span>pk<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        self<span class=\"token punctuation\">.</span>assertEqual<span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">.</span>status_code<span class=\"token punctuation\">,</span> <span class=\"token number\">403</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">def</span> <span class=\"token function\">test_logged_in_with_permission_borrowed_book</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        login <span class=\"token operator\">=</span> self<span class=\"token punctuation\">.</span>client<span class=\"token punctuation\">.</span>login<span class=\"token punctuation\">(</span>username<span class=\"token operator\">=</span><span class=\"token string\">'testuser2'</span><span class=\"token punctuation\">,</span> password<span class=\"token operator\">=</span><span class=\"token string\">'2HJ1vRV0Z&amp;3iD'</span><span class=\"token punctuation\">)</span>\n        response <span class=\"token operator\">=</span> self<span class=\"token punctuation\">.</span>client<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span>reverse<span class=\"token punctuation\">(</span><span class=\"token string\">'renew-book-librarian'</span><span class=\"token punctuation\">,</span> kwargs<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token string\">'pk'</span><span class=\"token punctuation\">:</span> self<span class=\"token punctuation\">.</span>test_bookinstance2<span class=\"token punctuation\">.</span>pk<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n        <span class=\"token comment\"># Check that it lets us login - this is our book and we have the right permissions.</span>\n        self<span class=\"token punctuation\">.</span>assertEqual<span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">.</span>status_code<span class=\"token punctuation\">,</span> <span class=\"token number\">200</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">def</span> <span class=\"token function\">test_logged_in_with_permission_another_users_borrowed_book</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        login <span class=\"token operator\">=</span> self<span class=\"token punctuation\">.</span>client<span class=\"token punctuation\">.</span>login<span class=\"token punctuation\">(</span>username<span class=\"token operator\">=</span><span class=\"token string\">'testuser2'</span><span class=\"token punctuation\">,</span> password<span class=\"token operator\">=</span><span class=\"token string\">'2HJ1vRV0Z&amp;3iD'</span><span class=\"token punctuation\">)</span>\n        response <span class=\"token operator\">=</span> self<span class=\"token punctuation\">.</span>client<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span>reverse<span class=\"token punctuation\">(</span><span class=\"token string\">'renew-book-librarian'</span><span class=\"token punctuation\">,</span> kwargs<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token string\">'pk'</span><span class=\"token punctuation\">:</span> self<span class=\"token punctuation\">.</span>test_bookinstance1<span class=\"token punctuation\">.</span>pk<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n        <span class=\"token comment\"># Check that it lets us login. We're a librarian, so we can view any users book</span>\n        self<span class=\"token punctuation\">.</span>assertEqual<span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">.</span>status_code<span class=\"token punctuation\">,</span> <span class=\"token number\">200</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">def</span> <span class=\"token function\">test_HTTP404_for_invalid_book_if_logged_in</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token comment\"># unlikely UID to match our bookinstance!</span>\n        test_uid <span class=\"token operator\">=</span> uuid<span class=\"token punctuation\">.</span>uuid4<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        login <span class=\"token operator\">=</span> self<span class=\"token punctuation\">.</span>client<span class=\"token punctuation\">.</span>login<span class=\"token punctuation\">(</span>username<span class=\"token operator\">=</span><span class=\"token string\">'testuser2'</span><span class=\"token punctuation\">,</span> password<span class=\"token operator\">=</span><span class=\"token string\">'2HJ1vRV0Z&amp;3iD'</span><span class=\"token punctuation\">)</span>\n        response <span class=\"token operator\">=</span> self<span class=\"token punctuation\">.</span>client<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span>reverse<span class=\"token punctuation\">(</span><span class=\"token string\">'renew-book-librarian'</span><span class=\"token punctuation\">,</span> kwargs<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token string\">'pk'</span><span class=\"token punctuation\">:</span>test_uid<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        self<span class=\"token punctuation\">.</span>assertEqual<span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">.</span>status_code<span class=\"token punctuation\">,</span> <span class=\"token number\">404</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">def</span> <span class=\"token function\">test_uses_correct_template</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        login <span class=\"token operator\">=</span> self<span class=\"token punctuation\">.</span>client<span class=\"token punctuation\">.</span>login<span class=\"token punctuation\">(</span>username<span class=\"token operator\">=</span><span class=\"token string\">'testuser2'</span><span class=\"token punctuation\">,</span> password<span class=\"token operator\">=</span><span class=\"token string\">'2HJ1vRV0Z&amp;3iD'</span><span class=\"token punctuation\">)</span>\n        response <span class=\"token operator\">=</span> self<span class=\"token punctuation\">.</span>client<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span>reverse<span class=\"token punctuation\">(</span><span class=\"token string\">'renew-book-librarian'</span><span class=\"token punctuation\">,</span> kwargs<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token string\">'pk'</span><span class=\"token punctuation\">:</span> self<span class=\"token punctuation\">.</span>test_bookinstance1<span class=\"token punctuation\">.</span>pk<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        self<span class=\"token punctuation\">.</span>assertEqual<span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">.</span>status_code<span class=\"token punctuation\">,</span> <span class=\"token number\">200</span><span class=\"token punctuation\">)</span>\n\n        <span class=\"token comment\"># Check we used correct template</span>\n        self<span class=\"token punctuation\">.</span>assertTemplateUsed<span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">,</span> <span class=\"token string\">'catalog/book_renew_librarian.html'</span><span class=\"token punctuation\">)</span>\n</code></pre></div>\n<p>Ajoutez la m√©thode de test suivante, comme montr√© ci-dessous. Elle v√©rifie que la date initiale pour le formulaire est trois semaines dans le futur. Notez comment nous pouvons acc√©der √† la valeur initiale de ce champ de formulaire (en gras).</p>\n<div class=\"code-example\"><pre class=\"brush: python notranslate\"><code>    <span class=\"token keyword\">def</span> <span class=\"token function\">test_form_renewal_date_initially_has_date_three_weeks_in_future</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        login <span class=\"token operator\">=</span> self<span class=\"token punctuation\">.</span>client<span class=\"token punctuation\">.</span>login<span class=\"token punctuation\">(</span>username<span class=\"token operator\">=</span><span class=\"token string\">'testuser2'</span><span class=\"token punctuation\">,</span> password<span class=\"token operator\">=</span><span class=\"token string\">'2HJ1vRV0Z&amp;3iD'</span><span class=\"token punctuation\">)</span>\n        response <span class=\"token operator\">=</span> self<span class=\"token punctuation\">.</span>client<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span>reverse<span class=\"token punctuation\">(</span><span class=\"token string\">'renew-book-librarian'</span><span class=\"token punctuation\">,</span> kwargs<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token string\">'pk'</span><span class=\"token punctuation\">:</span> self<span class=\"token punctuation\">.</span>test_bookinstance1<span class=\"token punctuation\">.</span>pk<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        self<span class=\"token punctuation\">.</span>assertEqual<span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">.</span>status_code<span class=\"token punctuation\">,</span> <span class=\"token number\">200</span><span class=\"token punctuation\">)</span>\n\n        date_3_weeks_in_future <span class=\"token operator\">=</span> datetime<span class=\"token punctuation\">.</span>date<span class=\"token punctuation\">.</span>today<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> datetime<span class=\"token punctuation\">.</span>timedelta<span class=\"token punctuation\">(</span>weeks<span class=\"token operator\">=</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span>\n        self<span class=\"token punctuation\">.</span>assertEqual<span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">.</span>context<span class=\"token punctuation\">[</span><span class=\"token string\">'form'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>initial<span class=\"token punctuation\">[</span><span class=\"token string\">'renewal_date'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> date_3_weeks_in_future<span class=\"token punctuation\">)</span>\n</code></pre></div>\n<div class=\"notecard warning\" id=\"sect15\">\n  <p><strong>Attention :</strong> Si vous utilisez la class de formulaire <code>RenewBookModelForm(forms.ModelForm)</code> √† la place de la classe <code>RenewBookForm(forms.Form)</code>, le nom du champ est <strong>'due_back'</strong> et non <strong>'renewal_date'</strong>.</p>\n</div>\n<p>Le test suivant (ajoutez-le √† la classe √©galement) v√©rifie que la vue redirige vers une liste de tous les livres emprunt√©s si le renouvellement r√©ussit. Ce qui diff√®re ici est que, pour la premi√®re fois, nous montrons comment vous pouvez <code>POST</code>er des donn√©es en utilisant le client. Les donn√©es post√©es forment le second argument de la fonction post, et elles sont sp√©cifi√©es comme un dictionnaire de cl√©s/valeurs.</p>\n<div class=\"code-example\"><pre class=\"brush: python notranslate\"><code>    <span class=\"token keyword\">def</span> <span class=\"token function\">test_redirects_to_all_borrowed_book_list_on_success</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        login <span class=\"token operator\">=</span> self<span class=\"token punctuation\">.</span>client<span class=\"token punctuation\">.</span>login<span class=\"token punctuation\">(</span>username<span class=\"token operator\">=</span><span class=\"token string\">'testuser2'</span><span class=\"token punctuation\">,</span> password<span class=\"token operator\">=</span><span class=\"token string\">'2HJ1vRV0Z&amp;3iD'</span><span class=\"token punctuation\">)</span>\n        valid_date_in_future <span class=\"token operator\">=</span> datetime<span class=\"token punctuation\">.</span>date<span class=\"token punctuation\">.</span>today<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> datetime<span class=\"token punctuation\">.</span>timedelta<span class=\"token punctuation\">(</span>weeks<span class=\"token operator\">=</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span>\n        response <span class=\"token operator\">=</span> self<span class=\"token punctuation\">.</span>client<span class=\"token punctuation\">.</span>post<span class=\"token punctuation\">(</span>reverse<span class=\"token punctuation\">(</span><span class=\"token string\">'renew-book-librarian'</span><span class=\"token punctuation\">,</span> kwargs<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token string\">'pk'</span><span class=\"token punctuation\">:</span>self<span class=\"token punctuation\">.</span>test_bookinstance1<span class=\"token punctuation\">.</span>pk<span class=\"token punctuation\">,</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span><span class=\"token string\">'renewal_date'</span><span class=\"token punctuation\">:</span>valid_date_in_future<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n        self<span class=\"token punctuation\">.</span>assertRedirects<span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">,</span> reverse<span class=\"token punctuation\">(</span><span class=\"token string\">'all-borrowed'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n</code></pre></div>\n<div class=\"notecard warning\" id=\"sect16\">\n  <p><strong>Attention :</strong> La vue <em>all-borrowed</em> a √©t√© ajout√©e comme <em>d√©fi</em>, et votre code peut, √† la place, rediriger vers la page d'accueil '/'. Si c'est le cas, modifiez les deux derni√®res lignes du code de test pour qu'elles ressemblent au code ci-dessous. L'expression <code>follow=True</code> dans la requ√™te s'assure que la requ√™te retourne l'URL de la destination finale (donc v√©rifie <code>/catalog/</code> plut√¥t que <code>/</code>).</p>\n  <div class=\"code-example\"><pre class=\"brush: python notranslate\"><code> response <span class=\"token operator\">=</span> self<span class=\"token punctuation\">.</span>client<span class=\"token punctuation\">.</span>post<span class=\"token punctuation\">(</span>reverse<span class=\"token punctuation\">(</span><span class=\"token string\">'renew-book-librarian'</span><span class=\"token punctuation\">,</span> kwargs<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token string\">'pk'</span><span class=\"token punctuation\">:</span>self<span class=\"token punctuation\">.</span>test_bookinstance1<span class=\"token punctuation\">.</span>pk<span class=\"token punctuation\">,</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span><span class=\"token string\">'renewal_date'</span><span class=\"token punctuation\">:</span>valid_date_in_future<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> follow<span class=\"token operator\">=</span><span class=\"token boolean\">True</span> <span class=\"token punctuation\">)</span>\n self<span class=\"token punctuation\">.</span>assertRedirects<span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">,</span> <span class=\"token string\">'/catalog/'</span><span class=\"token punctuation\">)</span>\n</code></pre></div>\n</div>\n<p>Copiez les deux derni√®res fonctions dans la classe, comme indiqu√© ci-dessous. Elles testent de nouveau des requ√™tes POST, mais dans ce cas avec des dates de renouvellement invalides. Nous utilisons la m√©thode assertFormError() pour v√©rifier que les messages d'erreur sont ceux que nous attendons.</p>\n<div class=\"code-example\"><pre class=\"brush: python notranslate\"><code>    <span class=\"token keyword\">def</span> <span class=\"token function\">test_form_invalid_renewal_date_past</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        login <span class=\"token operator\">=</span> self<span class=\"token punctuation\">.</span>client<span class=\"token punctuation\">.</span>login<span class=\"token punctuation\">(</span>username<span class=\"token operator\">=</span><span class=\"token string\">'testuser2'</span><span class=\"token punctuation\">,</span> password<span class=\"token operator\">=</span><span class=\"token string\">'2HJ1vRV0Z&amp;3iD'</span><span class=\"token punctuation\">)</span>\n        date_in_past <span class=\"token operator\">=</span> datetime<span class=\"token punctuation\">.</span>date<span class=\"token punctuation\">.</span>today<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span> datetime<span class=\"token punctuation\">.</span>timedelta<span class=\"token punctuation\">(</span>weeks<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n        response <span class=\"token operator\">=</span> self<span class=\"token punctuation\">.</span>client<span class=\"token punctuation\">.</span>post<span class=\"token punctuation\">(</span>reverse<span class=\"token punctuation\">(</span><span class=\"token string\">'renew-book-librarian'</span><span class=\"token punctuation\">,</span> kwargs<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token string\">'pk'</span><span class=\"token punctuation\">:</span> self<span class=\"token punctuation\">.</span>test_bookinstance1<span class=\"token punctuation\">.</span>pk<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span><span class=\"token string\">'renewal_date'</span><span class=\"token punctuation\">:</span> date_in_past<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n        self<span class=\"token punctuation\">.</span>assertEqual<span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">.</span>status_code<span class=\"token punctuation\">,</span> <span class=\"token number\">200</span><span class=\"token punctuation\">)</span>\n        self<span class=\"token punctuation\">.</span>assertFormError<span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">,</span> <span class=\"token string\">'form'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'renewal_date'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Invalid date - renewal in past'</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">def</span> <span class=\"token function\">test_form_invalid_renewal_date_future</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        login <span class=\"token operator\">=</span> self<span class=\"token punctuation\">.</span>client<span class=\"token punctuation\">.</span>login<span class=\"token punctuation\">(</span>username<span class=\"token operator\">=</span><span class=\"token string\">'testuser2'</span><span class=\"token punctuation\">,</span> password<span class=\"token operator\">=</span><span class=\"token string\">'2HJ1vRV0Z&amp;3iD'</span><span class=\"token punctuation\">)</span>\n        invalid_date_in_future <span class=\"token operator\">=</span> datetime<span class=\"token punctuation\">.</span>date<span class=\"token punctuation\">.</span>today<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> datetime<span class=\"token punctuation\">.</span>timedelta<span class=\"token punctuation\">(</span>weeks<span class=\"token operator\">=</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span>\n        response <span class=\"token operator\">=</span> self<span class=\"token punctuation\">.</span>client<span class=\"token punctuation\">.</span>post<span class=\"token punctuation\">(</span>reverse<span class=\"token punctuation\">(</span><span class=\"token string\">'renew-book-librarian'</span><span class=\"token punctuation\">,</span> kwargs<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token string\">'pk'</span><span class=\"token punctuation\">:</span> self<span class=\"token punctuation\">.</span>test_bookinstance1<span class=\"token punctuation\">.</span>pk<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span><span class=\"token string\">'renewal_date'</span><span class=\"token punctuation\">:</span> invalid_date_in_future<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n        self<span class=\"token punctuation\">.</span>assertEqual<span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">.</span>status_code<span class=\"token punctuation\">,</span> <span class=\"token number\">200</span><span class=\"token punctuation\">)</span>\n        self<span class=\"token punctuation\">.</span>assertFormError<span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">,</span> <span class=\"token string\">'form'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'renewal_date'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Invalid date - renewal more than 4 weeks ahead'</span><span class=\"token punctuation\">)</span>\n</code></pre></div>\n<p>Le m√™me genre de technique peut √™tre utilis√© pour tester les autres vues.</p>"}},{"type":"prose","value":{"id":"templates","title":"Templates","isH3":true,"content":"<p>Django fournit des API de test pour v√©rifier que le bon template sera appel√© par vos vues, et pour vous permettre de v√©rifier que l'information correcte sera envoy√©e. Il n'y a cependant pas de support d'API sp√©cifique en Django pour tester que votre sortie HTML a le rendu souhait√©.</p>"}},{"type":"prose","value":{"id":"autres_outils_de_test_recommand√©s","title":"Autres outils de test recommand√©s","isH3":false,"content":"<p>Le framework de test de Django peut vous aider √† √©crire des tests unitaires et d'int√©gration efficaces - nous n'avons fait que gratter la surface de ce que peut faire unittest,le framework de test sous-jacent, et plus encore les additions de Django (par exemple, regardez comment vous pouvez utiliser unittest.mock pour patcher les biblioth√®ques tierces afin de tester plus finement votre propre code).</p>\n<p>Comme il y a un grand nombre d'autres outils de test √† votre disposition, nous ne mentionnerons que les deux suivants :</p>\n<ul>\n  <li><a href=\"http://coverage.readthedocs.io/en/latest/\" class=\"external\" rel=\" noopener\">Coverage</a>: Cet outil Python fait un rapport sur la proportion de votre code r√©ellement ex√©cut√©e par vos tests. C'est particuli√®rement int√©ressant quand vous commencez, et que vous cherchez √† vous repr√©senter exactement ce que vous devez tester.</li>\n  <li><a href=\"/en-US/docs/Learn/Tools_and_testing/Cross_browser_testing/Your_own_automation_environment\" class=\"only-in-en-us\" title=\"Currently only available in English (US)\">Selenium (en-US)</a> est un framework pour automatiser les tests dans un vrai navigateur. Il vous permet de simuler un utilisateur r√©el en interaction avec le site, et fournit un excellent framework pour les tests syst√®me de votre site (l'√©tape qui suit les tests d'int√©gration).</li>\n</ul>"}},{"type":"prose","value":{"id":"d√©fi","title":"D√©fi","isH3":false,"content":"<p>Il y a beaucoup d'autres mod√®les et vues que nous pouvons tester. Comme exercice simple, essayez de cr√©er un cas de test pour la vue <code>AuthorCreate</code>.</p>\n<div class=\"code-example\"><pre class=\"brush: python notranslate\"><code><span class=\"token keyword\">class</span> <span class=\"token class-name\">AuthorCreate</span><span class=\"token punctuation\">(</span>PermissionRequiredMixin<span class=\"token punctuation\">,</span> CreateView<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    model <span class=\"token operator\">=</span> Author\n    fields <span class=\"token operator\">=</span> <span class=\"token string\">'__all__'</span>\n    initial <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token string\">'date_of_death'</span><span class=\"token punctuation\">:</span><span class=\"token string\">'12/10/2016'</span><span class=\"token punctuation\">}</span>\n    permission_required <span class=\"token operator\">=</span> <span class=\"token string\">'catalog.can_mark_returned'</span>\n</code></pre></div>\n<p>Souvenez-vous que vous avez besoin de v√©rifier tout ce que vous avez sp√©cifi√© ou ce qui fait partie du design. Cela va inclure qui a acc√®s, la date initiale, le template utilis√©, et o√π la vue redirige en cas de succ√®s.</p>"}},{"type":"prose","value":{"id":"r√©sum√©","title":"R√©sum√©","isH3":false,"content":"<p>√âcrire un code de test n'est ni tr√®s excitant ni tr√®s fascinant, et par cons√©quent ce travail est souvent laiss√© pour la fin (ou compl√®tement d√©laiss√©) par les cr√©ateurs de sites web. C'est pourtant un √©l√©ment essentiel pour vous assurer que, malgr√© les changements apport√©s, votre code peut passer √† une nouvelle version en toute s√©curit√©, et que sa maintenance est rentable.</p>\n<p>Dans ce tutoriel, nous vous avons montr√© comment √©crire et lancer des tests pour vos mod√®les, formulaires et vues. Plus important, nous avons fourni un bref r√©sum√© de ce que vous devez tester, ce qui est souvent la chose la plus difficile √† comprendre quand on commence. Il y a beaucoup de choses √† savoir, mais avec ce que vous avez d√©j√† appris, vous devriez √™tre capable de cr√©er des tests unitaires efficaces pour vos sites web.</p>\n<p>Le prochain (et dernier) tutoriel montre comment vous pouvez d√©ployer votre merveilleux (et enti√®rement test√© !) site web Django.</p>"}},{"type":"prose","value":{"id":"voir_aussi","title":"Voir aussi","isH3":false,"content":"<ul>\n  <li><a href=\"https://docs.djangoproject.com/en/2.1/topics/testing/overview/\" class=\"external\" rel=\" noopener\">Writing and running tests</a> (Django docs)</li>\n  <li><a href=\"https://docs.djangoproject.com/en/2.1/intro/tutorial05/\" class=\"external\" rel=\" noopener\">Writing your first Django app, part 5 &gt; Introducing automated testing</a> (Django docs)</li>\n  <li><a href=\"https://docs.djangoproject.com/en/2.1/topics/testing/tools/\" class=\"external\" rel=\" noopener\">Testing tools reference</a> (Django docs)</li>\n  <li><a href=\"https://docs.djangoproject.com/en/2.1/topics/testing/advanced/\" class=\"external\" rel=\" noopener\">Advanced testing topics</a> (Django docs)</li>\n  <li><a href=\"http://toastdriven.com/blog/2011/apr/10/guide-to-testing-in-django/\" class=\"external\" rel=\" noopener\">A Guide to Testing in Django</a> (Toast Driven Blog, 2011)</li>\n  <li><a href=\"http://test-driven-django-development.readthedocs.io/en/latest/index.html\" class=\"external\" rel=\" noopener\">Workshop: Test-Driven Web Development with Django</a> (San Diego Python, 2014)</li>\n  <li><a href=\"https://realpython.com/blog/python/testing-in-django-part-1-best-practices-and-examples/\" class=\"external\" rel=\" noopener\">Testing in Django (Part 1) - Best Practices and Examples</a> (RealPython, 2013)</li>\n</ul><ul class=\"prev-next\">\n    <li><a class=\"button minimal\" href=\"/fr/docs/Learn/Server-side/Django/Forms\"> Pr√©c√©dent </a></li>\n    <li><a class=\"button minimal\" href=\"/fr/docs/Learn/Server-side/Django\"> Aper√ßu&nbsp;: Django</a></li>\n    <li><a class=\"button minimal only-in-en-us\" href=\"/en-US/docs/Learn/Server-side/Django/Deployment\" title=\"Currently only available in English (US)\"> Suivant   (en-US)</a></li>\n</ul>"}},{"type":"prose","value":{"id":"dans_ce_module","title":"Dans ce module","isH3":false,"content":"<ul>\n  <li><a href=\"/fr/docs/Learn/Server-side/Django/Introduction\">Django introduction</a></li>\n  <li><a href=\"/fr/docs/Learn/Server-side/Django/development_environment\">Setting up a Django development environment</a></li>\n  <li><a href=\"/fr/docs/Learn/Server-side/Django/Tutorial_local_library_website\">Django Tutorial: The Local Library website</a></li>\n  <li><a href=\"/fr/docs/Learn/Server-side/Django/skeleton_website\">Django Tutorial Part 2: Creating a skeleton website</a></li>\n  <li><a href=\"/fr/docs/Learn/Server-side/Django/Models\">Django Tutorial Part 3: Using models</a></li>\n  <li><a href=\"/fr/docs/Learn/Server-side/Django/Admin_site\">Django Tutorial Part 4: Django admin site</a></li>\n  <li><a href=\"/fr/docs/Learn/Server-side/Django/Home_page\">Django Tutorial Part 5: Creating our home page</a></li>\n  <li><a href=\"/fr/docs/Learn/Server-side/Django/Generic_views\">Django Tutorial Part 6: Generic list and detail views</a></li>\n  <li><a href=\"/en-US/docs/Learn/Server-side/Django/Sessions\" class=\"only-in-en-us\" title=\"Currently only available in English (US)\">Django Tutorial Part 7: Sessions framework (en-US)</a></li>\n  <li><a href=\"/en-US/docs/Learn/Server-side/Django/Authentication\" class=\"only-in-en-us\" title=\"Currently only available in English (US)\">Django Tutorial Part 8: User authentication and permissions (en-US)</a></li>\n  <li><a href=\"/fr/docs/Learn/Server-side/Django/Forms\">Django Tutorial Part 9: Working with forms</a></li>\n  <li><a href=\"/fr/docs/Learn/Server-side/Django/Testing\" aria-current=\"page\">Django Tutorial Part 10: Testing a Django web application</a></li>\n  <li><a href=\"/en-US/docs/Learn/Server-side/Django/Deployment\" class=\"only-in-en-us\" title=\"Currently only available in English (US)\">Django Tutorial Part 11: Deploying Django to production (en-US)</a></li>\n  <li><a href=\"/en-US/docs/Learn/Server-side/Django/web_application_security\" class=\"only-in-en-us\" title=\"Currently only available in English (US)\">Django web application security (en-US)</a></li>\n  <li><a href=\"/en-US/docs/Learn/Server-side/Django/django_assessment_blog\" class=\"only-in-en-us\" title=\"Currently only available in English (US)\">DIY Django mini blog (en-US)</a></li>\n</ul>"}}],"toc":[{"text":"Vue d'ensemble","id":"vue_densemble"},{"text":"Vue d'ensemble de la structure de test","id":"vue_densemble_de_la_structure_de_test"},{"text":"Comment lancer les tests","id":"comment_lancer_les_tests"},{"text":"Tests de LocalLibrary","id":"tests_de_locallibrary"},{"text":"Autres outils de test recommand√©s","id":"autres_outils_de_test_recommand√©s"},{"text":"D√©fi","id":"d√©fi"},{"text":"R√©sum√©","id":"r√©sum√©"},{"text":"Voir aussi","id":"voir_aussi"},{"text":"Dans ce module","id":"dans_ce_module"}],"summary":"Quant un site web grandit, il devient plus difficile √† tester manuellement. Non seulement il y a plus de choses √† tester, mais encore, comme les interactions entres ses composants deviennent plus complexes, un l√©ger changement dans une partie de l'application peut affecter les autres parties, si bien qu'il va √™tre n√©cessaire de faire beaucoup de modifications pour s'assurer que tout continue de fonctionner, et qu'aucune erreur ne sera introduite quand il y aura encore plus de modifications. Une fa√ßon de limiter ces probl√®mes est d'√©crire des tests automatiques qui puissent √™tre lanc√©s d'une mani√®re simple et fiable √† chaque fois que vous faites une modification. Ce tutoriel montre comment automatiser des tests unitaires sur votre site web en utilisant le framework de tests de Django.","popularity":0.0002,"modified":"2022-10-01T03:41:16.000Z","other_translations":[{"title":"Django Tutorial Part 10: Testing a Django web application","locale":"en-US","native":"English (US)"},{"title":"Tutorial de Django Parte 10: Probando una aplicaci√≥n web Django","locale":"es","native":"Espa√±ol"},{"title":"Django ÌäúÌÜ†Î¶¨Ïñº ÌååÌä∏ 10: Django Ïõπ Ïñ¥ÌîåÎ¶¨ÏºÄÏù¥ÏÖò ÌÖåÏä§Ìä∏ÌïòÍ∏∞","locale":"ko","native":"ÌïúÍµ≠Ïñ¥"},{"title":"Tutorial Django Parte 10: Testando uma aplica√ß√£o web Django","locale":"pt-BR","native":"Portugu√™s (do¬†Brasil)"},{"title":"–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ —á–∞—Å—Ç—å 10: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π Django","locale":"ru","native":"–†—É—Å—Å–∫–∏–π"},{"title":"Django ÊïôÁ®ã 10: ÊµãËØï Django ÁΩëÈ°µÂ∫îÁî®","locale":"zh-CN","native":"‰∏≠Êñá (ÁÆÄ‰Ωì)"},{"title":"Django Tutorial Part 10: Testing a Django web application","locale":"zh-TW","native":"Ê≠£È´î‰∏≠Êñá (ÁπÅÈ´î)"}],"source":{"folder":"fr/learn/server-side/django/testing","github_url":"https://github.com/mdn/translated-content/blob/main/files/fr/learn/server-side/django/testing/index.md","last_commit_url":"https://github.com/mdn/translated-content/commit/921c46a374ab0a9f4cc809af0370f8c412e54701","filename":"index.md"},"parents":[{"uri":"/fr/docs/Learn","title":"Apprendre le d√©veloppement web"},{"uri":"/fr/docs/Learn/Server-side","title":"Programmation de Sites Web c√¥t√© serveur"},{"uri":"/fr/docs/Learn/Server-side/Django","title":"Django Web Framework (Python)"},{"uri":"/fr/docs/Learn/Server-side/Django/Testing","title":"Django Tutorial Part 10: Testing a Django web application"}],"pageTitle":"Django Tutorial Part 10: Testing a Django web application - Apprendre le d√©veloppement web | MDN","noIndexing":false}}</script></body></html>