{"doc":{"isMarkdown":true,"isTranslated":true,"isActive":true,"flaws":{},"title":"Interagir avec le presse-papier","mdn_url":"/fr/docs/Mozilla/Add-ons/WebExtensions/Interact_with_the_clipboard","locale":"fr","native":"Français","sidebarHTML":"\n  <ol>\n    <li><a href=\"/fr/docs/Mozilla/Add-ons/WebExtensions\"><strong>WebExtensions</strong></a></li>\n    <li class=\"toggle\">\n      <details>\n        <summary>Démarrage</summary>\n        <ol>\n          <li><a href=\"/fr/docs/Mozilla/Add-ons/WebExtensions/What_are_WebExtensions\">Que sont les WebExtensions ?</a></li>\n          <li><a href=\"/fr/docs/Mozilla/Add-ons/WebExtensions/Your_first_WebExtension\">Votre première WebExtension</a></li>\n          <li><a href=\"/fr/docs/Mozilla/Add-ons/WebExtensions/Your_second_WebExtension\">Votre deuxième WebExtension</a></li>\n          <li><a href=\"/fr/docs/Mozilla/Add-ons/WebExtensions/Anatomy_of_a_WebExtension\">Anatomie d'une WebExtension</a></li>\n          <li><a href=\"/fr/docs/Mozilla/Add-ons/WebExtensions/Examples\">Exemples de WebExtensions</a></li>\n          <li><a href=\"/fr/docs/Mozilla/Add-ons/WebExtensions/What_next_\">Que faire ensuite ?</a></li>\n        </ol>\n      </details>\n    </li>\n    <li class=\"toggle\">\n      <details>\n        <summary>Concepts</summary>\n        <ol>\n          <li><a href=\"/fr/docs/Mozilla/Add-ons/WebExtensions/Using_the_JavaScript_APIs\">Utilisation des API JavaScript</a></li>\n          <li><a href=\"/fr/docs/Mozilla/Add-ons/WebExtensions/Content_scripts\">Scripts de contenu</a></li>\n          <li><a href=\"/fr/docs/Mozilla/Add-ons/WebExtensions/Match_patterns\">Motifs de correspondance (Match patterns)</a></li>\n          <li><a href=\"/fr/docs/Mozilla/Add-ons/WebExtensions/Working_with_files\">Travailler avec les fichiers</a></li>\n          <li><a href=\"/fr/docs/Mozilla/Add-ons/WebExtensions/Internationalization\">Internationalisation</a></li>\n          <li><a href=\"/fr/docs/Mozilla/Add-ons/WebExtensions/Content_Security_Policy\">Politique de sécurité du contenu</a></li>\n          <li><a href=\"/fr/docs/Mozilla/Add-ons/WebExtensions/Native_messaging\">Message natifs</a></li>\n          <li><a href=\"/fr/docs/Mozilla/Add-ons/WebExtensions/Differences_between_API_implementations\">Differences between API implementations</a></li>\n          <li><a href=\"/fr/docs/Mozilla/Add-ons/WebExtensions/Chrome_incompatibilities\">Incompatibilités avec Chrome</a></li>\n        </ol>\n      </details>\n    </li>\n    <li class=\"toggle\">\n      <details>\n        <summary>Interface Utilisateur</summary>\n        <ol>\n          <li><a href=\"/fr/docs/Mozilla/Add-ons/WebExtensions/user_interface\">Introduction</a></li>\n          <li><a href=\"/fr/docs/Mozilla/Add-ons/WebExtensions/user_interface/Browser_action\">Bouton de la barre d'outils</a></li>\n          <li><a href=\"/fr/docs/Mozilla/Add-ons/WebExtensions/user_interface/Page_actions\">Bouton de la barre d'adresse</a></li>\n          <li><a href=\"/fr/docs/Mozilla/Add-ons/WebExtensions/user_interface/Sidebars\">Barres latérales</a></li>\n          <li><a href=\"/fr/docs/Mozilla/Add-ons/WebExtensions/user_interface/Context_menu_items\">Éléments du menu contextuel</a></li>\n          <li><a href=\"/fr/docs/Mozilla/Add-ons/WebExtensions/user_interface/Options_pages\">Page d'options</a></li>\n          <li><a href=\"/fr/docs/Mozilla/Add-ons/WebExtensions/user_interface/Extension_pages\">Pages pour l'extension</a></li>\n          <li><a href=\"/fr/docs/Mozilla/Add-ons/WebExtensions/user_interface/Notifications\">Notifications</a></li>\n          <li><a href=\"/fr/docs/Mozilla/Add-ons/WebExtensions/user_interface/Omnibox\">Suggestions de la barre d'adresse</a></li>\n          <li><a href=\"/fr/docs/Mozilla/Add-ons/WebExtensions/user_interface/devtools_panels\">Panneaux d'outils de développement</a></li>\n        </ol>\n      </details>\n    </li>\n    <li class=\"toggle\">\n      <details>\n        <summary>Mode d'emploi</summary>\n        <ol>\n          <li><a href=\"/fr/docs/Mozilla/Add-ons/WebExtensions/Intercept_HTTP_requests\">Intercepter les requêtes HTTP</a></li>\n          <li><a href=\"/fr/docs/Mozilla/Add-ons/WebExtensions/Modify_a_web_page\">Modifier une page web</a></li>\n          <li><a href=\"/fr/docs/Mozilla/Add-ons/WebExtensions/Safely_inserting_external_content_into_a_page\">Insérer un contenu externe</a></li>\n          <li><a href=\"/fr/docs/Mozilla/Add-ons/WebExtensions/Sharing_objects_with_page_scripts\">Share objects with page scripts</a></li>\n          <li><a href=\"/fr/docs/Mozilla/Add-ons/WebExtensions/Add_a_button_to_the_toolbar\">Ajouter un bouton à la barre d'outils</a></li>\n          <li><a href=\"/fr/docs/Mozilla/Add-ons/WebExtensions/Implement_a_settings_page\">Mettre en place une page de paramètres</a></li>\n          <li><a href=\"/fr/docs/Mozilla/Add-ons/WebExtensions/Working_with_the_Tabs_API\">Travailler avec l'API Tabs</a></li>\n          <li><a href=\"/fr/docs/Mozilla/Add-ons/WebExtensions/Work_with_the_Bookmarks_API\">Travailler avec l'API Bookmarks</a></li>\n          <li><a href=\"/fr/docs/Mozilla/Add-ons/WebExtensions/Work_with_the_Cookies_API\">Travailler avec l'API Cookies</a></li>\n          <li><a href=\"/fr/docs/Mozilla/Add-ons/WebExtensions/Work_with_contextual_identities\">Travailler avec des identités contextuelles</a></li>\n          <li><a href=\"/fr/docs/Mozilla/Add-ons/WebExtensions/Interact_with_the_clipboard\">Interagir avec le presse-papier</a></li>\n          <li><a href=\"/fr/docs/Mozilla/Add-ons/WebExtensions/Build_a_cross_browser_extension\">Build a cross-browser extension</a></li>\n        </ol>\n      </details>\n    </li>\n    <li class=\"toggle\">\n      <details>\n        <summary><a href=\"/fr/docs/Mozilla/Add-ons/WebExtensions/Firefox_differentiators\">Firefox differentiators</a></summary>\n      </details>\n    </li>\n    <li class=\"toggle\">\n      <details>\n        <summary>Les API JavaScript</summary>\n        <ol><li><a href=\"/fr/docs/Mozilla/Add-ons/WebExtensions/Browser_support_for_JavaScript_APIs\">Browser support for JavaScript APIs</a></li><li><a href=\"/fr/docs/Mozilla/Add-ons/WebExtensions/API/alarms\">alarms</a></li><li><a href=\"/fr/docs/Mozilla/Add-ons/WebExtensions/API/bookmarks\">bookmarks</a></li><li><a href=\"/fr/docs/Mozilla/Add-ons/WebExtensions/API/browserAction\">browserAction</a></li><li><a href=\"/fr/docs/Mozilla/Add-ons/WebExtensions/API/browserSettings\">browserSettings</a></li><li><a href=\"/fr/docs/Mozilla/Add-ons/WebExtensions/API/browsingData\">browsingData</a></li><li><a href=\"/fr/docs/Mozilla/Add-ons/WebExtensions/API/captivePortal\">captivePortal</a></li><li><a href=\"/fr/docs/Mozilla/Add-ons/WebExtensions/API/clipboard\">clipboard</a></li><li><a href=\"/fr/docs/Mozilla/Add-ons/WebExtensions/API/commands\">commands</a></li><li><a href=\"/fr/docs/Mozilla/Add-ons/WebExtensions/API/contentScripts\">contentScripts</a></li><li><a href=\"/fr/docs/Mozilla/Add-ons/WebExtensions/API/contextualIdentities\">contextualIdentities</a></li><li><a href=\"/fr/docs/Mozilla/Add-ons/WebExtensions/API/cookies\">cookies</a></li><li><a href=\"/fr/docs/Mozilla/Add-ons/WebExtensions/API/devtools\">devtools</a></li><li><a href=\"/fr/docs/Mozilla/Add-ons/WebExtensions/API/dns\">dns</a></li><li><a href=\"/fr/docs/Mozilla/Add-ons/WebExtensions/API/downloads\">downloads</a></li><li><a href=\"/fr/docs/Mozilla/Add-ons/WebExtensions/API/events\">events</a></li><li><a href=\"/fr/docs/Mozilla/Add-ons/WebExtensions/API/extension\">extension</a></li><li><a href=\"/fr/docs/Mozilla/Add-ons/WebExtensions/API/extensionTypes\">extensionTypes</a></li><li><a href=\"/fr/docs/Mozilla/Add-ons/WebExtensions/API/find\">find</a></li><li><a href=\"/fr/docs/Mozilla/Add-ons/WebExtensions/API/history\">history</a></li><li><a href=\"/fr/docs/Mozilla/Add-ons/WebExtensions/API/i18n\">i18n</a></li><li><a href=\"/fr/docs/Mozilla/Add-ons/WebExtensions/API/identity\">identity</a></li><li><a href=\"/fr/docs/Mozilla/Add-ons/WebExtensions/API/idle\">idle</a></li><li><a href=\"/fr/docs/Mozilla/Add-ons/WebExtensions/API/management\">management</a></li><li><a href=\"/fr/docs/Mozilla/Add-ons/WebExtensions/API/menus\">menus</a></li><li><a href=\"/fr/docs/Mozilla/Add-ons/WebExtensions/API/notifications\">notifications</a></li><li><a href=\"/fr/docs/Mozilla/Add-ons/WebExtensions/API/omnibox\">omnibox</a></li><li><a href=\"/fr/docs/Mozilla/Add-ons/WebExtensions/API/pageAction\">pageAction</a></li><li><a href=\"/fr/docs/Mozilla/Add-ons/WebExtensions/API/permissions\">permissions</a></li><li><a href=\"/fr/docs/Mozilla/Add-ons/WebExtensions/API/pkcs11\">pkcs11</a></li><li><a href=\"/fr/docs/Mozilla/Add-ons/WebExtensions/API/privacy\">privacy</a></li><li><a href=\"/fr/docs/Mozilla/Add-ons/WebExtensions/API/proxy\">proxy</a></li><li><a href=\"/fr/docs/Mozilla/Add-ons/WebExtensions/API/runtime\">runtime</a></li><li><a href=\"/fr/docs/Mozilla/Add-ons/WebExtensions/API/search\">search</a></li><li><a href=\"/fr/docs/Mozilla/Add-ons/WebExtensions/API/sessions\">sessions</a></li><li><a href=\"/fr/docs/Mozilla/Add-ons/WebExtensions/API/sidebarAction\">sidebarAction</a></li><li><a href=\"/fr/docs/Mozilla/Add-ons/WebExtensions/API/storage\">storage</a></li><li><a href=\"/fr/docs/Mozilla/Add-ons/WebExtensions/API/tabs\">tabs</a></li><li><a href=\"/fr/docs/Mozilla/Add-ons/WebExtensions/API/theme\">theme</a></li><li><a href=\"/fr/docs/Mozilla/Add-ons/WebExtensions/API/topSites\">topSites</a></li><li><a href=\"/fr/docs/Mozilla/Add-ons/WebExtensions/API/types\">types</a></li><li><a href=\"/fr/docs/Mozilla/Add-ons/WebExtensions/API/userScripts\">userScripts</a></li><li><a href=\"/fr/docs/Mozilla/Add-ons/WebExtensions/API/webNavigation\">webNavigation</a></li><li><a href=\"/fr/docs/Mozilla/Add-ons/WebExtensions/API/webRequest\">webRequest</a></li><li><a href=\"/fr/docs/Mozilla/Add-ons/WebExtensions/API/windows\">windows</a></li></ol>\n      </details>\n    </li>\n    <li class=\"toggle\">\n      <details>\n      <summary>Clés de manifeste</summary>\n        <ol>\n          <li><a href=\"/fr/docs/Mozilla/Add-ons/WebExtensions/manifest.json\">Introduction</a></li>\n        </ol>\n      <ol><li><a href=\"/fr/docs/Mozilla/Add-ons/WebExtensions/manifest.json/author\">author</a></li><li><a href=\"/fr/docs/Mozilla/Add-ons/WebExtensions/manifest.json/background\">background</a></li><li><a href=\"/fr/docs/Mozilla/Add-ons/WebExtensions/manifest.json/browser_action\">browser_action</a></li><li><a href=\"/fr/docs/Mozilla/Add-ons/WebExtensions/manifest.json/browser_specific_settings\">browser_specific_settings</a></li><li><a href=\"/fr/docs/Mozilla/Add-ons/WebExtensions/manifest.json/chrome_settings_overrides\">chrome_settings_overrides</a></li><li><a href=\"/fr/docs/Mozilla/Add-ons/WebExtensions/manifest.json/chrome_url_overrides\">chrome_url_overrides</a></li><li><a href=\"/fr/docs/Mozilla/Add-ons/WebExtensions/manifest.json/commands\">commands</a></li><li><a href=\"/fr/docs/Mozilla/Add-ons/WebExtensions/manifest.json/content_scripts\">content_scripts</a></li><li><a href=\"/fr/docs/Mozilla/Add-ons/WebExtensions/manifest.json/content_security_policy\">content_security_policy</a></li><li><a href=\"/fr/docs/Mozilla/Add-ons/WebExtensions/manifest.json/default_locale\">default_locale</a></li><li><a href=\"/fr/docs/Mozilla/Add-ons/WebExtensions/manifest.json/description\">description</a></li><li><a href=\"/fr/docs/Mozilla/Add-ons/WebExtensions/manifest.json/developer\">developer</a></li><li><a href=\"/fr/docs/Mozilla/Add-ons/WebExtensions/manifest.json/devtools_page\">devtools_page</a></li><li><a href=\"/fr/docs/Mozilla/Add-ons/WebExtensions/manifest.json/dictionaries\">dictionaries</a></li><li><a href=\"/fr/docs/Mozilla/Add-ons/WebExtensions/manifest.json/externally_connectable\">externally_connectable</a></li><li><a href=\"/fr/docs/Mozilla/Add-ons/WebExtensions/manifest.json/homepage_url\">homepage_url</a></li><li><a href=\"/fr/docs/Mozilla/Add-ons/WebExtensions/manifest.json/icons\">icons</a></li><li><a href=\"/fr/docs/Mozilla/Add-ons/WebExtensions/manifest.json/incognito\">incognito</a></li><li><a href=\"/fr/docs/Mozilla/Add-ons/WebExtensions/manifest.json/manifest_version\">manifest_version</a></li><li><a href=\"/fr/docs/Mozilla/Add-ons/WebExtensions/manifest.json/name\">name</a></li><li><a href=\"/fr/docs/Mozilla/Add-ons/WebExtensions/manifest.json/offline_enabled\">offline_enabled</a></li><li><a href=\"/fr/docs/Mozilla/Add-ons/WebExtensions/manifest.json/omnibox\">omnibox</a></li><li><a href=\"/fr/docs/Mozilla/Add-ons/WebExtensions/manifest.json/optional_permissions\">optional_permissions</a></li><li><a href=\"/fr/docs/Mozilla/Add-ons/WebExtensions/manifest.json/options_page\">options_page</a></li><li><a href=\"/fr/docs/Mozilla/Add-ons/WebExtensions/manifest.json/options_ui\">options_ui</a></li><li><a href=\"/fr/docs/Mozilla/Add-ons/WebExtensions/manifest.json/page_action\">page_action</a></li><li><a href=\"/fr/docs/Mozilla/Add-ons/WebExtensions/manifest.json/permissions\">permissions</a></li><li><a href=\"/fr/docs/Mozilla/Add-ons/WebExtensions/manifest.json/protocol_handlers\">protocol_handlers</a></li><li><a href=\"/fr/docs/Mozilla/Add-ons/WebExtensions/manifest.json/short_name\">short_name</a></li><li><a href=\"/fr/docs/Mozilla/Add-ons/WebExtensions/manifest.json/sidebar_action\">sidebar_action</a></li><li><a href=\"/fr/docs/Mozilla/Add-ons/WebExtensions/manifest.json/storage\">storage</a></li><li><a href=\"/fr/docs/Mozilla/Add-ons/WebExtensions/manifest.json/theme\">theme</a></li><li><a href=\"/fr/docs/Mozilla/Add-ons/WebExtensions/manifest.json/theme_experiment\">theme expérimentation</a></li><li><a href=\"/fr/docs/Mozilla/Add-ons/WebExtensions/manifest.json/user_scripts\">user_scripts</a></li><li><a href=\"/fr/docs/Mozilla/Add-ons/WebExtensions/manifest.json/version\">version</a></li><li><a href=\"/fr/docs/Mozilla/Add-ons/WebExtensions/manifest.json/version_name\">version_name</a></li><li><a href=\"/fr/docs/Mozilla/Add-ons/WebExtensions/manifest.json/web_accessible_resources\">web_accessible_resources</a></li></ol>\n      </details>\n    </li>\n     <li class=\"toggle\">\n      <details>\n        <summary>Extension Workshop</summary>\n        <ol>\n          <li><a href=\"https://extensionworkshop.com/documentation/develop/\">Develop</a></li>\n          <li><a href=\"https://extensionworkshop.com/documentation/publish/\">Publish</a></li>\n          <li><a href=\"https://extensionworkshop.com/documentation/manage/\">Manage</a></li>\n          <li><a href=\"https://extensionworkshop.com/documentation/enterprise/\">Enterprise</a></li>\n        </ol>\n      </details>\n    </li>\n    <li><a href=\"/fr/docs/Mozilla/Add-ons/Contact_us\"><strong>Nous contacter</strong></a></li>\n    <li class=\"toggle\">\n      <details>\n        <summary>Canaux de discussions</summary>\n        <ol>\n          <li><a href=\"https://blog.mozilla.org/addons\">Blog extensions</a></li>\n          <li><a href=\"https://discourse.mozilla.org/c/add-ons\">Forum extensions</a></li>\n          <li><a href=\"https://chat.mozilla.org/#/room/%23addons:mozilla.org\">Add-ons chat</a></li>\n        </ol>\n      </details>\n    </li>\n  </ol>\n","body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<p>La gestion du presse-papier avec les extensions s'effectue avec l'objet <a href=\"/fr/docs/Web/API/Clipboard\"><code>navigator.clipboard</code></a> (elle s'effectuait avant avec la méthode <a href=\"/fr/docs/Web/API/Document/execCommand\"><code>document.execCommand()</code></a> qui est désormais dépréciée).</p>\n<div class=\"notecard note\" id=\"sect1\">\n  <p><strong>Note :</strong> L'API <a href=\"/fr/docs/Web/API/Clipboard\"><code>navigator.clipboard</code></a> est un ajout relativement récent à la spécification et peut ne pas être complètement implémentée par l'ensemble des navigateurs. Cet article décrit certaines des limitations, mais il est préférable de vérifier les tableaux de compatibilité de chaque méthode avant de les utiliser.</p>\n</div>\n<p>La différence entre les deux API peut se décrire ainsi&nbsp;: <a href=\"/fr/docs/Web/API/Document/execCommand\"><code>document.execCommand()</code></a> est analogue aux actions de copier/coller/couper du clavier en échangeant des données entre une page web et un presse-papier tandis que <a href=\"/fr/docs/Web/API/Clipboard\"><code>navigator.clipboard</code></a> permet de lire et d'écrire des données arbitraires dans le presse-papier.</p>\n<p><a href=\"/fr/docs/Web/API/Clipboard\"><code>navigator.clipboard</code></a> fournit des méthodes séparées pour la lecture et l'écriture&nbsp;:</p>\n<ul>\n  <li>Pour le contenu textuel simple, on utilisera <a href=\"/en-US/docs/Web/API/Clipboard/readText\" class=\"only-in-en-us\" title=\"Currently only available in English (US)\">navigator.clipboard.readText() (en-US)</a> et <a href=\"/fr/docs/Web/API/Clipboard/writeText\"><code>navigator.clipboard.writeText()</code></a>.</li>\n  <li>Pour les images, le texte riche, du HTML ou d'autre contenu complexe, on utilisera <a href=\"/en-US/docs/Web/API/Clipboard/read\" class=\"only-in-en-us\" title=\"Currently only available in English (US)\">navigator.clipboard.read() (en-US)</a> et <a href=\"/fr/docs/Web/API/Clipboard/write\"><code>navigator.clipboard.write()</code></a>.</li>\n</ul>\n<p>On notera cependant que, bien que <a href=\"/en-US/docs/Web/API/Clipboard/readText\" class=\"only-in-en-us\" title=\"Currently only available in English (US)\">navigator.clipboard.readText() (en-US)</a> et <a href=\"/fr/docs/Web/API/Clipboard/writeText\"><code>navigator.clipboard.writeText()</code></a> fonctionnent pour tous les navigateurs, ce n'est pas le cas de <a href=\"/en-US/docs/Web/API/Clipboard/read\" class=\"only-in-en-us\" title=\"Currently only available in English (US)\">navigator.clipboard.read() (en-US)</a> et <a href=\"/fr/docs/Web/API/Clipboard/write\"><code>navigator.clipboard.write()</code></a>. Ainsi, au moment où nous écrivons ces lignes, Firefox n'implémente pas complètement <a href=\"/en-US/docs/Web/API/Clipboard/read\" class=\"only-in-en-us\" title=\"Currently only available in English (US)\">navigator.clipboard.read() (en-US)</a> et <a href=\"/fr/docs/Web/API/Clipboard/write\"><code>navigator.clipboard.write()</code></a>. Il faudra alors&nbsp;:</p>\n<ul>\n  <li>Pour manipuler des images, utiliser <a href=\"/fr/docs/Mozilla/Add-ons/WebExtensions/API/clipboard/setImageData\"><code>browser.clipboard.setImageData()</code></a> pour écrire des images dans le presse-papier et <a href=\"/fr/docs/Web/API/Document/execCommand\"><code>document.execCommand(\"paste\")</code></a> pour coller des images sur une page web.</li>\n  <li>Pour écrire du contenu riche (comme du HTML, du texte complexe incluant des images, etc.) dans le presse-papier, utiliser <a href=\"/fr/docs/Web/API/Document/execCommand\"><code>document.execCommand(\"copy\")</code></a> ou <a href=\"/fr/docs/Web/API/Document/execCommand\"><code>document.execCommand(\"cut\")</code></a>. Pour lire le contenu équivalent depuis le presse-papier, on utilisera <a href=\"/en-US/docs/Web/API/Clipboard/read\" class=\"only-in-en-us\" title=\"Currently only available in English (US)\">navigator.clipboard.read() (en-US)</a> (recommandée) ou <a href=\"/fr/docs/Web/API/Document/execCommand\"><code>document.execCommand(\"paste\")</code></a>.</li>\n</ul>"}},{"type":"prose","value":{"id":"écrire_dans_le_presse-papier","title":"Écrire dans le presse-papier","isH3":false,"content":"<p>Cette section décrit les options permettant d'écrire des données dans le presse-papier.</p>"}},{"type":"prose","value":{"id":"utiliser_lapi_clipboard","title":"Utiliser l'API Clipboard","isH3":true,"content":"<p>L'API Clipboard permet d'écrire des données arbitraires dans le presse-papier de votre extension. Pour utiliser cette API, il faut la permission <code>\"clipboardRead\"</code> ou <code>\"clipboardWrite\"</code> dans le fichier <code>manifest.json</code>. Cette API étant uniquement disponible <a href=\"/fr/docs/Web/Security/Secure_Contexts\">pour les contextes sécurisés</a>, on ne peut pas l'utiliser pour un script de contenu qui s'exécute sur une page servie en HTTP mais uniquement sur des pages servies en HTTPS.</p>\n<p>Pour les scripts de page, la permission <code>\"clipboard-write\"</code> doit être demandée via l'API <a href=\"/en-US/docs/Web/API/Permissions\" class=\"only-in-en-us\" title=\"Currently only available in English (US)\">navigator.permissions (en-US)</a>. Cette permission peut ensuite être vérifiée avec <a href=\"/en-US/docs/Web/API/Permissions/query\" class=\"only-in-en-us\" title=\"Currently only available in English (US)\">navigator.permissions.query() (en-US)</a>&nbsp;:</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code>navigator<span class=\"token punctuation\">.</span>permissions<span class=\"token punctuation\">.</span><span class=\"token function\">query</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">\"clipboard-write\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">result</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">.</span>state <span class=\"token operator\">==</span> <span class=\"token string\">\"granted\"</span> <span class=\"token operator\">||</span> result<span class=\"token punctuation\">.</span>state <span class=\"token operator\">==</span> <span class=\"token string\">\"prompt\"</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">/* On peut alors écrire dans le presse-papier */</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<div class=\"notecard note\" id=\"sect2\">\n  <p><strong>Note :</strong> La permission intitulée <code>clipboard-write</code> est uniquement prise en charge pour les navigateurs basés sur Chromium et pas dans Firefox.</p>\n</div>\n<p>La fonction qui suit prend en argument une chaîne de caractères et l'écrit dans le presse-papier&nbsp;:</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">function</span> <span class=\"token function\">updateClipboard</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">newClip</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  navigator<span class=\"token punctuation\">.</span>clipboard<span class=\"token punctuation\">.</span><span class=\"token function\">writeText</span><span class=\"token punctuation\">(</span>newClip<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">/* le presse-papier est correctement paramétré */</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">/* l'écriture dans le presse-papier a échoué */</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>"}},{"type":"prose","value":{"id":"utiliser_execcommand","title":"Utiliser <code>execCommand()</code>","isH3":true,"content":"<p>Les commandes <code>\"cut\"</code> et <code>\"copy\"</code>, fournies par la méthode <a href=\"/fr/docs/Web/API/Document/execCommand\"><code>document.execCommand()</code></a>, peuvent être utilisées pour remplacer le contenu du presse-papier avec les données voulues. Ces commandes peuvent être utilisées sans permission spéciale préalable dans des gestionnaires d'évènements éphémères (par exemple pour gérer l'évènement d'un clic).</p>\n<p>Prenons comme exemple une fenêtre contenant le fragment de HTML suivant&nbsp;:</p>\n<div class=\"code-example\"><pre class=\"brush: html notranslate\"><code><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>input<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>copy<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>Copier<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">&gt;</span></span>\n</code></pre></div>\n<p>Pour que le bouton <code>\"copy\"</code> copie effectivement le contenu de l'élément <a href=\"/fr/docs/Web/HTML/Element/input\"><code>&lt;input&gt;</code></a>, on pourra utiliser un code comme celui-ci&nbsp;:</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">function</span> <span class=\"token function\">copy</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">let</span> copyText <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"#input\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  copyText<span class=\"token punctuation\">.</span><span class=\"token function\">select</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  document<span class=\"token punctuation\">.</span><span class=\"token function\">execCommand</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"copy\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\ndocument<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"#copy\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"click\"</span><span class=\"token punctuation\">,</span> copy<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<p>Comme l'appel à <code>execCommand()</code> est situé dans un gestionnaire d'évènement pour un clic, il n'est pas nécessaire d'avoir d'autres permissions.</p>\n<p>Supposons toutefois que l'action soit déclenchée autrement, via une alarme&nbsp;:</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">function</span> <span class=\"token function\">copy</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">let</span> copyText <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"#input\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  copyText<span class=\"token punctuation\">.</span><span class=\"token function\">select</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  document<span class=\"token punctuation\">.</span><span class=\"token function\">execCommand</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"copy\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\nbrowser<span class=\"token punctuation\">.</span>alarms<span class=\"token punctuation\">.</span><span class=\"token function\">create</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">delayInMinutes</span><span class=\"token operator\">:</span> <span class=\"token number\">0.1</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nbrowser<span class=\"token punctuation\">.</span>alarms<span class=\"token punctuation\">.</span>onAlarm<span class=\"token punctuation\">.</span><span class=\"token function\">addListener</span><span class=\"token punctuation\">(</span>copy<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<p>Selon le navigateur, le code présenté juste avant pourra ne pas fonctionner. Pour Firefox, ça ne fonctionnera pas et un message analogue à ce qui suit sera affiché dans la console&nbsp;:</p>\n<p><code>La commande document.execCommand('cut'/'copy') a été rejetée parce qu'elle n'a pas été appelée à l'intérieur d'un gestionnaire d'évènement généré par l'utilisateur.</code></p>\n<p>Pour permettre ce cas d'usage, il faut demander la <a href=\"/fr/docs/Mozilla/Add-ons/WebExtensions/manifest.json/permissions\">permission</a> <code>\"clipboardWrite\"</code>. Cette dernière permettra d'écrire dans le presse-papier en dehors des gestionnaires d'évènements éphémères déclenchés par une action de l'utilisatrice ou de l'utilisateur.</p>\n<div class=\"notecard note\" id=\"sect3\">\n  <p><strong>Note :</strong> <a href=\"/fr/docs/Web/API/Document/execCommand\"><code>document.execCommand()</code></a> ne fonctionne pas pour les champs de formulaire avec <code>type=\"hidden\"</code>, les éléments avec l'attribut HTML <code>\"hidden\"</code>, ou ceux ciblés par une règle CSS contenant <code>\"display: none;\"</code>.</p>\n</div>","titleAsText":"Utiliser execCommand()"}},{"type":"prose","value":{"id":"considérations_spécifiques_à_chaque_navigateur","title":"Considérations spécifiques à chaque navigateur","isH3":true,"content":"<p>Les différentes API évoquées ici évoluent rapidement. Il existe des variations quant à leur fonctionnement selon le navigateur.</p>\n<p>Pour Chrome, la permission <code>\"clipboardWrite\"</code> n'est pas nécessaire, même pour écrire dans le presse-papier en dehors d'un gestionnaire d'évènement pour un évènement déclenché par l'utilisatrice ou l'utilisateur.</p>\n<p>Pour Firefox, la méthode <a href=\"/fr/docs/Web/API/Clipboard/write\"><code>navigator.clipboard.write()</code></a> n'est pas prise en charge.</p>\n<p>Voir <a href=\"#compatibilit%C3%A9_des_navigateurs\">les tableaux de compatibilité des navigateurs</a> pour plus d'information.</p>"}},{"type":"prose","value":{"id":"lire_les_données_du_presse-papier","title":"Lire les données du presse-papier","isH3":false,"content":"<p>Cette section décrit les options disponibles pour lire ou copier des données depuis le presse-papier.</p>"}},{"type":"prose","value":{"id":"utiliser_lapi_clipboard_2","title":"Utiliser l'API Clipboard","isH3":true,"content":"<p>Les méthodes de l'API Clipboard <a href=\"/en-US/docs/Web/API/Clipboard/readText\" class=\"only-in-en-us\" title=\"Currently only available in English (US)\">navigator.clipboard.readText() (en-US)</a> et <a href=\"/en-US/docs/Web/API/Clipboard/read\" class=\"only-in-en-us\" title=\"Currently only available in English (US)\">navigator.clipboard.read() (en-US)</a> permettent de lire du texte ou des données binaires depuis le presse-papier <a href=\"/fr/docs/Web/Security/Secure_Contexts\">dans les contextes sécurisés</a>. Cela permet d'accéder aux données du presse-papier sans avoir à les coller au préalable dans un élément éditable.</p>\n<p>Une fois que la permission <code>\"clipboard-read\"</code> a été demandée via <a href=\"/fr/docs/Web/API/Permissions_API\">l'API Permissions</a>, il est possible de lire depuis le presse-papier. Ce fragment de code illustre la récupération du texte depuis le presse-papier et remplace le contenu de l'élément ayant l'identifiant <code>\"outbox\"</code> avec ce texte.</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code>navigator<span class=\"token punctuation\">.</span>clipboard<span class=\"token punctuation\">.</span><span class=\"token function\">readText</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">clipText</span> <span class=\"token operator\">=&gt;</span>\n  document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"outbox\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>innerText <span class=\"token operator\">=</span> clipText<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>"}},{"type":"prose","value":{"id":"utiliser_execcommand_2","title":"Utiliser <code>execCommand()</code>","isH3":true,"content":"<p>Pour utiliser <a href=\"/fr/docs/Web/API/Document/execCommand\"><code>document.execCommand(\"paste\")</code></a>, l'extension aura besoin de la <a href=\"/fr/docs/Mozilla/Add-ons/WebExtensions/manifest.json/permissions\">permission</a> <code>\"clipboardRead\"</code>. Cela vaut également lorsqu'on utilise la commande <code>\"paste\"</code> depuis un gestionnaire d'évènement pour un évènement généré par l'utilisatrice ou l'utilisateur (comme <a href=\"/fr/docs/Web/API/Element/click_event\"><code>click</code></a> ou <a href=\"/fr/docs/Web/API/Element/keypress_event\"><code>keypress</code></a>).</p>\n<p>Prenons ce fragment de HTML&nbsp;:</p>\n<div class=\"code-example\"><pre class=\"brush: html notranslate\"><code><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>textarea</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>output<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>textarea</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>paste<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>Coller<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">&gt;</span></span>\n</code></pre></div>\n<p>Pour transformer le contenu de l'élément <a href=\"/fr/docs/Web/HTML/Element/Textarea\"><code>&lt;textarea&gt;</code></a> avec l'identifiant <code>\"output\"</code> en utilisant celui du presse-papier lorsque l'utilisateur clique sur le bouton (<a href=\"/fr/docs/Web/HTML/Element/Button\"><code>&lt;button&gt;</code></a>) <code>\"paste\"</code>, on pourra utiliser le code qui suit&nbsp;:</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">function</span> <span class=\"token function\">paste</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">let</span> pasteText <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"#output\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  pasteText<span class=\"token punctuation\">.</span><span class=\"token function\">focus</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  document<span class=\"token punctuation\">.</span><span class=\"token function\">execCommand</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"paste\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>pasteText<span class=\"token punctuation\">.</span>textContent<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\ndocument<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"#paste\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"click\"</span><span class=\"token punctuation\">,</span> paste<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>","titleAsText":"Utiliser execCommand()"}},{"type":"prose","value":{"id":"considérations_spécifiques_à_chaque_navigateur_2","title":"Considérations spécifiques à chaque navigateur","isH3":true,"content":"<p>Firefox prend en charge <a href=\"/fr/docs/Mozilla/Add-ons/WebExtensions/manifest.json/permissions\">la permission</a> <code>\"clipboardRead\"</code> à partir de la version 54 mais la prise en charge porte uniquement sur le collage au sein d'éléments <a href=\"/fr/docs/Web/Guide/HTML/Editable_content\">en mode éditable</a>, ce qui limite à <a href=\"/fr/docs/Web/HTML/Element/Textarea\"><code>&lt;textarea&gt;</code></a> pour les scripts de contenu. Pour les scripts d'arrière-plan, tout élément pourra être mis en mode éditable.</p>"}},{"type":"prose","value":{"id":"compatibilité_des_navigateurs","title":"Compatibilité des navigateurs","isH3":false,"content":""}},{"type":"browser_compatibility","value":{"title":"navigator.clipboard","id":"navigator.clipboard","isH3":true,"query":"api.Clipboard","dataURL":"/fr/docs/Mozilla/Add-ons/WebExtensions/Interact_with_the_clipboard/bcd.json"}},{"type":"browser_compatibility","value":{"title":"clipboard.setImageData","id":"clipboard.setimagedata","isH3":true,"query":"webextensions.api.clipboard","dataURL":"/fr/docs/Mozilla/Add-ons/WebExtensions/Interact_with_the_clipboard/bcd-2.json"}},{"type":"prose","value":{"id":"voir_aussi","title":"Voir aussi","isH3":false,"content":"<ul>\n  <li><a href=\"/fr/docs/Web/API/Clipboard_API\">API Clipboard</a></li>\n  <li><a href=\"/fr/docs/Web/API/Permissions_API\">API Permissions</a></li>\n  <li><a href=\"/fr/docs/Web/Guide/HTML/Editable_content\">Rendre le contenu éditable</a></li>\n  <li><a href=\"/fr/docs/Web/HTML/Global_attributes#attr-contenteditable\"><code>contenteditable</code></a></li>\n</ul>"}}],"toc":[{"text":"Écrire dans le presse-papier","id":"écrire_dans_le_presse-papier"},{"text":"Lire les données du presse-papier","id":"lire_les_données_du_presse-papier"},{"text":"Compatibilité des navigateurs","id":"compatibilité_des_navigateurs"},{"text":"Voir aussi","id":"voir_aussi"}],"summary":"La gestion du presse-papier avec les extensions s'effectue avec l'objet navigator.clipboard (elle s'effectuait avant avec la méthode document.execCommand() qui est désormais dépréciée).","popularity":0.0005,"modified":"2022-10-01T03:41:16.000Z","other_translations":[{"title":"Interact with the clipboard","locale":"en-US","native":"English (US)"},{"title":"クリップボードとのやりとり","locale":"ja","native":"日本語"},{"title":"Interact with the clipboard","locale":"zh-CN","native":"中文 (简体)"}],"source":{"folder":"fr/mozilla/add-ons/webextensions/interact_with_the_clipboard","github_url":"https://github.com/mdn/translated-content/blob/main/files/fr/mozilla/add-ons/webextensions/interact_with_the_clipboard/index.md","last_commit_url":"https://github.com/mdn/translated-content/commit/921c46a374ab0a9f4cc809af0370f8c412e54701","filename":"index.md"},"parents":[{"uri":"/fr/docs/Mozilla","title":"Mozilla"},{"uri":"/fr/docs/Mozilla/Add-ons","title":"Modules"},{"uri":"/fr/docs/Mozilla/Add-ons/WebExtensions","title":"WebExtensions"},{"uri":"/fr/docs/Mozilla/Add-ons/WebExtensions/Interact_with_the_clipboard","title":"Interagir avec le presse-papier"}],"pageTitle":"Interagir avec le presse-papier - Mozilla | MDN","noIndexing":false}}