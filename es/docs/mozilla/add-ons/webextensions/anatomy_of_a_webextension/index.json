{"doc":{"isMarkdown":true,"isTranslated":true,"isActive":true,"flaws":{},"title":"Anatomía de una extension","mdn_url":"/es/docs/Mozilla/Add-ons/WebExtensions/Anatomy_of_a_WebExtension","locale":"es","native":"Español","sidebarHTML":"\n  <ol>\n    <li><a href=\"/es/docs/Mozilla/Add-ons/WebExtensions\"><strong>Extensiónes del navegador</strong></a></li>\n    <li class=\"toggle\">\n      <details>\n        <summary>Comenzar</summary>\n        <ol>\n          <li><a href=\"/es/docs/Mozilla/Add-ons/WebExtensions/What_are_WebExtensions\">¿Qué son las extensiones?</a></li>\n          <li><a href=\"/es/docs/Mozilla/Add-ons/WebExtensions/Your_first_WebExtension\">Tu primera extensión</a></li>\n          <li><a href=\"/es/docs/Mozilla/Add-ons/WebExtensions/Your_second_WebExtension\">Tu segunda extensión</a></li>\n          <li><a href=\"/es/docs/Mozilla/Add-ons/WebExtensions/Anatomy_of_a_WebExtension\">Anatomía de una extensión</a></li>\n          <li><a href=\"/es/docs/Mozilla/Add-ons/WebExtensions/Examples\">Extensiones de ejemplo</a></li>\n          <li><a href=\"/es/docs/Mozilla/Add-ons/WebExtensions/What_next_\">¿Qué sigue?</a></li>\n        </ol>\n      </details>\n    </li>\n    <li class=\"toggle\">\n      <details>\n        <summary>Conceptos</summary>\n        <ol>\n          <li><a href=\"/es/docs/Mozilla/Add-ons/WebExtensions/Using_the_JavaScript_APIs\">Uso de las API de JavaScript</a></li>\n          <li><a href=\"/es/docs/Mozilla/Add-ons/WebExtensions/Content_scripts\">Guiones de contenido</a></li>\n          <li><a href=\"/es/docs/Mozilla/Add-ons/WebExtensions/Match_patterns\">Patrones de coincidencia</a></li>\n          <li><a href=\"/es/docs/Mozilla/Add-ons/WebExtensions/Working_with_files\">Trabajar con archivos</a></li>\n          <li><a href=\"/es/docs/Mozilla/Add-ons/WebExtensions/Internationalization\">Internacionalización</a></li>\n          <li><a href=\"/es/docs/Mozilla/Add-ons/WebExtensions/Content_Security_Policy\">Política de seguridad de contenido</a></li>\n          <li><a href=\"/es/docs/Mozilla/Add-ons/WebExtensions/Native_messaging\">Mensajería nativa</a></li>\n          <li><a href=\"/es/docs/Mozilla/Add-ons/WebExtensions/Differences_between_API_implementations\">Diferencias entre implementaciones de API</a></li>\n          <li><a href=\"/es/docs/Mozilla/Add-ons/WebExtensions/Chrome_incompatibilities\">Incompatibilidades de Chrome</a></li>\n        </ol>\n      </details>\n    </li>\n    <li class=\"toggle\">\n      <details>\n        <summary>Interfaz de usuario</summary>\n        <ol>\n          <li><a href=\"/es/docs/Mozilla/Add-ons/WebExtensions/user_interface\">Interfaz de usuario</a></li>\n          <li><a href=\"/es/docs/Mozilla/Add-ons/WebExtensions/user_interface/Browser_action\">Botón de la barra de herramientas</a></li>\n          <li><a href=\"/es/docs/Mozilla/Add-ons/WebExtensions/user_interface/Page_actions\">Botón de la barra de direcciones</a></li>\n          <li><a href=\"/es/docs/Mozilla/Add-ons/WebExtensions/user_interface/Sidebars\">Barras laterales</a></li>\n          <li><a href=\"/es/docs/Mozilla/Add-ons/WebExtensions/user_interface/Context_menu_items\">Elementos del menú contextual</a></li>\n          <li><a href=\"/es/docs/Mozilla/Add-ons/WebExtensions/user_interface/Options_pages\">Página de opciones</a></li>\n          <li><a href=\"/es/docs/Mozilla/Add-ons/WebExtensions/user_interface/Extension_pages\">Páginas de extensión</a></li>\n          <li><a href=\"/es/docs/Mozilla/Add-ons/WebExtensions/user_interface/Notifications\">Notificaciones</a></li>\n          <li><a href=\"/es/docs/Mozilla/Add-ons/WebExtensions/user_interface/Omnibox\">Sugerencias de la barra de direcciones</a></li>\n          <li><a href=\"/es/docs/Mozilla/Add-ons/WebExtensions/user_interface/devtools_panels\">Paneles de herramientas para desarrolladores</a></li>\n        </ol>\n      </details>\n    </li>\n    <li class=\"toggle\">\n      <details>\n        <summary>Cómo hacer</summary>\n        <ol>\n          <li><a href=\"/es/docs/Mozilla/Add-ons/WebExtensions/Intercept_HTTP_requests\">Interceptar solicitudes HTTP</a></li>\n          <li><a href=\"/es/docs/Mozilla/Add-ons/WebExtensions/Modify_a_web_page\">Modificar una página web</a></li>\n          <li><a href=\"/es/docs/Mozilla/Add-ons/WebExtensions/Safely_inserting_external_content_into_a_page\">Insertar contenido externo</a></li>\n          <li><a href=\"/es/docs/Mozilla/Add-ons/WebExtensions/Sharing_objects_with_page_scripts\">Comparta objetos con scripts de página</a></li>\n          <li><a href=\"/es/docs/Mozilla/Add-ons/WebExtensions/Add_a_button_to_the_toolbar\">Agregar un botón a la barra de herramientas</a></li>\n          <li><a href=\"/es/docs/Mozilla/Add-ons/WebExtensions/Implement_a_settings_page\">Implementar una página de configuración</a></li>\n          <li><a href=\"/es/docs/Mozilla/Add-ons/WebExtensions/Working_with_the_Tabs_API\">Trabajar con la API de pestañas</a></li>\n          <li><a href=\"/es/docs/Mozilla/Add-ons/WebExtensions/Work_with_the_Bookmarks_API\">Trabajar con la API de marcadores</a></li>\n          <li><a href=\"/es/docs/Mozilla/Add-ons/WebExtensions/Work_with_the_Cookies_API\">Trabajar con la API de Cookies</a></li>\n          <li><a href=\"/es/docs/Mozilla/Add-ons/WebExtensions/Work_with_contextual_identities\">Trabajar con identidades contextuales</a></li>\n          <li><a href=\"/es/docs/Mozilla/Add-ons/WebExtensions/Interact_with_the_clipboard\">Interactuar con el portapapeles</a></li>\n          <li><a href=\"/es/docs/Mozilla/Add-ons/WebExtensions/Build_a_cross_browser_extension\">Cree una extensión multinavegador</a></li>\n        </ol>\n      </details>\n    </li>\n    <li class=\"toggle\">\n      <details>\n        <summary><a href=\"/es/docs/Mozilla/Add-ons/WebExtensions/Firefox_differentiators\">Diferenciadores de Firefox</a></summary>\n      </details>\n    </li>\n    <li class=\"toggle\">\n      <details>\n        <summary>API de JavaScript</summary>\n        <ol><li><a href=\"/es/docs/Mozilla/Add-ons/WebExtensions/Browser_support_for_JavaScript_APIs\">Browser support for JavaScript APIs</a></li><li><a href=\"/es/docs/Mozilla/Add-ons/WebExtensions/API/i18n\">i18n</a></li><li><a href=\"/es/docs/Mozilla/Add-ons/WebExtensions/API/storage\">storage</a></li></ol>\n      </details>\n    </li>\n    <li class=\"toggle\">\n      <details>\n      <summary>Claves de manifiesto</summary>\n        <ol>\n          <li><a href=\"/es/docs/Mozilla/Add-ons/WebExtensions/manifest.json\">Introducción</a></li>\n        </ol>\n      <ol><li><a href=\"/es/docs/Mozilla/Add-ons/WebExtensions/manifest.json/icons\">icons</a></li></ol>\n      </details>\n    </li>\n     <li class=\"toggle\">\n      <details>\n        <summary>Taller de Extensión</summary>\n        <ol>\n          <li><a href=\"https://extensionworkshop.com/documentation/develop/\">Desarrollar</a></li>\n          <li><a href=\"https://extensionworkshop.com/documentation/publish/\">Publish</a></li>\n          <li><a href=\"https://extensionworkshop.com/documentation/manage/\">Gestionar</a></li>\n          <li><a href=\"https://extensionworkshop.com/documentation/enterprise/\">Empresa</a></li>\n        </ol>\n      </details>\n    </li>\n    <li><a href=\"/es/docs/Mozilla/Add-ons/Contact_us\"><strong>Contáctenos</strong></a></li>\n    <li class=\"toggle\">\n      <details>\n        <summary>Canales de discusión</summary>\n        <ol>\n          <li><a href=\"https://blog.mozilla.org/addons\">Blog de complementos</a></li>\n          <li><a href=\"https://discourse.mozilla.org/c/add-ons\">Foro de complementos</a></li>\n          <li><a href=\"https://chat.mozilla.org/#/room/%23addons:mozilla.org\">Chat de complementos</a></li>\n        </ol>\n      </details>\n    </li>\n  </ol>\n","body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<p>Una extensión se compone de una colección de archivos, empaquetados para su distribución e instalación. En este artículo vamos a repasar rápidamente los archivos que deben estar presentes en una extensión.</p>\n<p>Toda extensión debe contener un archivo llamado <a href=\"/es/docs/Mozilla/Add-ons/WebExtensions/Anatomy_of_a_WebExtension#manifest.json\">\"manifest.json\"</a>. Este puede tener enlaces a otros tipos de archivos:</p>\n<ul>\n  <li><a href=\"/es/Add-ons/WebExtensions/Anatomia_de_una_WebExtension#Scripts_en_segundo_plano\">Páginas en segundo plano</a>: Implementan la lógica de larga ejecución.</li>\n  <li><a href=\"/es/Add-ons/WebExtensions/Anatomia_de_una_WebExtension#Scripts_de_contenido\">Scripts de contenido</a>: Interactúan con las páginas web (note que esto no es lo mismo que JavaScript en un elemento <a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/HTML/Element/script\"><code>&lt;script&gt;</code> <small>(en-US)</small></a> dentro de una página).</li>\n  <li><a href=\"/es/Add-ons/WebExtensions/Anatomia_de_una_WebExtension#Acciones_del_navegador_2\">Archivos de acción del navegador</a>: Implementan los botones de la barra de herramientas.</li>\n  <li><a href=\"/es/Add-ons/WebExtensions/Anatomia_de_una_WebExtension#Acciones_de_las_p%C3%A1ginas\">Archivos de acción de la página:</a>Implementan botones en la barra de direcciones.</li>\n  <li><a href=\"/es/Add-ons/WebExtensions/Anatomia_de_una_WebExtension#Opciones_de_las_p%C3%A1ginas\">Páginas de opciones</a>: Definen una IU para que los usuarios vean y cambien las configuraciones de la extensión.</li>\n  <li><a href=\"/es/docs/Mozilla/Add-ons/WebExtensions/user_interface/Sidebars\">archivos de la barra lateral</a>: Agregue una barra lateral al navegador.</li>\n  <li><a href=\"/es/Add-ons/WebExtensions/Anatomia_de_una_WebExtension#Recursos_web_accesibles\">Recursos Web accesibles</a>: Hace posible que el contenido empaquetado acceda a páginas web y scripts.</li>\n</ul>\n<p>\n  <img src=\"https://mdn.mozillademos.org/files/13669/webextension-anatomy.png\" alt=\"\" loading=\"lazy\">\n</p>"}},{"type":"prose","value":{"id":"manifest.json","title":"manifest.json","isH3":false,"content":"<p>Este es el único archivo que debe estar presente en toda WebExtension. Este contiene los metadatos básicos acerca de la extensión, como su nombre, versión, y los permisos que esta requiere. También provee los enlaces a otros archivos de la extensión.</p>\n<p>Mira la página de referencia <a href=\"/es/docs/Mozilla/Add-ons/WebExtensions/manifest.json\">manifest.json</a> para ver todos los detalles.</p>"}},{"type":"prose","value":{"id":"scripts_en_segundo_plano","title":"Scripts en segundo plano","isH3":false,"content":"<p>Las extensiones a menudo necesitan mantener estados de larga duración, o ejecutar operaciones a largo plazo, independientemente del tiempo de vida de una página web en particular o las ventanas del navegador. Para eso son los scripts en segundo plano.</p>\n<p>Los scripts en segundo plano son cargados cuando la extensión es cargada y se mantienen cargados hasta que la extensión es deshabilitada o desinstalada. Tu puedes usar cualquier <a href=\"/es/docs/Mozilla/Add-ons/WebExtensions/API\">API de WebExtensions</a> en el script, siempre y cuando hayas solicitado el <a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/permissions\" class=\"only-in-en-us\" title=\"Currently only available in English (US)\">permiso (en-US)</a> necesario.</p>"}},{"type":"prose","value":{"id":"especificando_los_scripts_en_segundo_plano","title":"Especificando los scripts en segundo plano","isH3":true,"content":"<p>Puedes incluir un script en segundo plano usando la propiedad <code>background</code> en \"manifest.json\":</p>\n<div class=\"code-example\"><pre class=\"brush: json notranslate\"><code><span class=\"token comment\">// manifest.json</span>\n\n<span class=\"token property\">\"background\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"scripts\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"background-script.js\"</span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>Puedes especificar múltiples scripts en segundo plano: Si lo haces, ellos se ejecutarán en el mismo contexto, justo como son cargados múltiples scripts en una página web.</p>"}},{"type":"prose","value":{"id":"entorno_del_script_en_segundo_plano","title":"Entorno del script en segundo plano","isH3":true,"content":"<h4 id=\"apis_del_dom\">APIs del DOM</h4>\n<p>Los scripts en segundo plano se ejecuta en el contexto de páginas especiales llamadas páginas en segundo plano. Esto le da un variable global <a href=\"/es/docs/Web/API/Window\"><code>window</code></a>, junto con todas las APIs estándar del DOM que proporciona.</p>\n<p>No necesitas proveer tu propia página en segundo plano. Si incluyes un script en segundo plano, una página en segundo plano vacía se creará para ti.</p>\n<p>Sin embargo, puedes escoger y proveer tu página en segundo plano como un archivo HTML separado:</p>\n<div class=\"code-example\"><pre class=\"brush: json notranslate\"><code><span class=\"token comment\">// manifest.json</span>\n\n<span class=\"token property\">\"background\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"page\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"background-page.html\"</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<h4 id=\"apis_de_webextension\">APIs de WebExtension</h4>\n<p>Los scripts en segundo plano pueden usar cualquier <a href=\"/es/docs/Mozilla/Add-ons/WebExtensions/API\">API de WebExtension</a> en el script, siempre que tu extensión tenga los <a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/permissions\" class=\"only-in-en-us\" title=\"Currently only available in English (US)\">permisos (en-US)</a> necesarios.</p>\n<h4 id=\"acceso_de_origen_cruzado\">Acceso de origen cruzado</h4>\n<p>Los scripts en segundo plano pueden hacer peticiones XHR a cualquier host para los cuales tienen <a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/permissions\" class=\"only-in-en-us\" title=\"Currently only available in English (US)\">permisos del host (en-US)</a>.</p>\n<h4 id=\"acciones_del_navegador\">Acciones del navegador</h4>\n<p>Si tu extensión define una acción del navegador, y esa acción del navegador no tiene ventanas emergentes, entonces puedes escuchar los eventos \"clic\" del botón en el navegador empleando el objeto <a href=\"/es/docs/Mozilla/Add-ons/WebExtensions/API/browserAction#onclicked\"><code>onClicked</code></a> de las acciones del navegador:</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code>browser<span class=\"token punctuation\">.</span>browserAction<span class=\"token punctuation\">.</span>onClicked<span class=\"token punctuation\">.</span><span class=\"token function\">addListener</span><span class=\"token punctuation\">(</span>handleClick<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<h4 id=\"contenido_web\">Contenido web</h4>\n<p>Los scripts en segundo plano no tienen acceso directo a las páginas web. Sin embargo, pueden cargar <a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/Content_scripts\" class=\"only-in-en-us\" title=\"Currently only available in English (US)\">scripts de contenido (en-US)</a> en páginas web, y <a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/Content_scripts#communicating_with_background_scripts\">comunicarse con esos scripts empleando la API de paso de mensajes</a>.</p>\n<h4 id=\"políticas_de_seguridad_para_el_contenido\">Políticas de seguridad para el contenido</h4>\n<p>Los scripts de segundo plano están restringidos de algunas operaciones dañinas, como el uso de <a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/eval\"><code>eval()</code></a>, a través de la Política de Seguridad del Contenido. Vea la <a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/Content_Security_Policy\" class=\"only-in-en-us\" title=\"Currently only available in English (US)\">Política de Seguridad del Contenido (en-US)</a>para más detalles sobre esto.</p>"}},{"type":"prose","value":{"id":"scripts_de_contenido","title":"Scripts de contenido","isH3":false,"content":"<p>Usa los scripts de contenido para acceder y manipular páginas web. Los scripts de contenido son cargados dentro de las páginas web y ejecutados en el contexto particular de esa página.</p>\n<p>Los scripts de contenido son scripts provistos por la extensión los cuales se ejecutan en el contexto de la página web; estos difieren de los scripts que son cargados por la página misma, incluye aquellos que son proporcionados en los elementos <a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/HTML/Element/script\"><code>&lt;script&gt;</code> <small>(en-US)</small></a> dentro de la página.</p>\n<p>Los scripts de contenido pueden ver y manipular el DOM de las páginas, igual que los scripts cargados normalmente por la página.</p>\n<p>A diferencia de los scripts normales, ellos pueden:</p>\n<ul>\n  <li>Realizar peticiones XHR de dominio cruzado</li>\n  <li>Usar un pequeño subconjunto de las <a href=\"/es/docs/Mozilla/Add-ons/WebExtensions/API\">APIs de WebExtension</a></li>\n  <li>Intercambiar mensajes con sus scripts en segundo plano, y por esta vía, tener acceso indirecto a todas las APIs de WebExtension.</li>\n</ul>\n<p>Los scripts de contenido no pueden acceder directamente a los scripts normales de una página web, pero pueden intercambiar mensajes con ellos usando la API estándar <a href=\"/en-US/docs/Web/API/Window/postMessage\" class=\"only-in-en-us\" title=\"Currently only available in English (US)\">window.postMessage() (en-US)</a>.</p>\n<p>Generalmente, cuando hablamos acerca de scripts de contenido, nos referimos a JavaScript, pero tu puedes inyectar CSS dentro de las páginas web empleando el mismo mecanismo.</p>\n<p>Mira el artículo <a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/Content_scripts\" class=\"only-in-en-us\" title=\"Currently only available in English (US)\">scripts de contenido (en-US)</a> para aprender más.</p>"}},{"type":"prose","value":{"id":"recursos_web_accesibles","title":"Recursos web accesibles","isH3":false,"content":"<p>Los recursos web accesibles son recursos como imágenes, HTML, CSS y JavaScript que tu puedes incluir en la extensión y los quieres hacer accesible a los scripts en segundo plano y los scripts de las páginas. Los recursos que son hechos accesibles desde la web pueden ser referenciados desde scripts de páginas web y scripts de contenido mediante un esquema especial de URI.</p>\n<p>Por ejemplo, si un script de contenido quiere insertar algunas imágenes dentro de páginas web, tu puedes incluirlos en la extensión y hacerlos accesibles desde la web. El script de contenido creará y añadirá las etiquetas <a href=\"/en-US/docs/Web/HTML/Element/img\"><code>img</code></a> que referencia a las imágenes mediante el atributo <code>src</code>.</p>\n<p>Para aprender más, vea la documentación para la el parámetro <a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/web_accessible_resources\" class=\"only-in-en-us\" title=\"Currently only available in English (US)\">web_accessible_resource (en-US)</a> del manifest.json.</p>"}}],"toc":[{"text":"manifest.json","id":"manifest.json"},{"text":"Scripts en segundo plano","id":"scripts_en_segundo_plano"},{"text":"Scripts de contenido","id":"scripts_de_contenido"},{"text":"Recursos web accesibles","id":"recursos_web_accesibles"}],"summary":"Una extensión se compone de una colección de archivos, empaquetados para su distribución e instalación. En este artículo vamos a repasar rápidamente los archivos que deben estar presentes en una extensión.","popularity":0,"modified":"2022-10-01T03:41:16.000Z","other_translations":[{"title":"Anatomy of an extension","locale":"en-US","native":"English (US)"},{"title":"Anatomie d'une WebExtension","locale":"fr","native":"Français"},{"title":"拡張機能の中身","locale":"ja","native":"日本語"},{"title":"Anatomy of an extension","locale":"ko","native":"한국어"},{"title":"Anatomia de uma WebExtension","locale":"pt-BR","native":"Português (do Brasil)"},{"title":"Анатомия Расширения","locale":"ru","native":"Русский"},{"title":"扩展剖析","locale":"zh-CN","native":"中文 (简体)"},{"title":"Anatomy of an extension","locale":"zh-TW","native":"正體中文 (繁體)"}],"source":{"folder":"es/mozilla/add-ons/webextensions/anatomy_of_a_webextension","github_url":"https://github.com/mdn/translated-content/blob/main/files/es/mozilla/add-ons/webextensions/anatomy_of_a_webextension/index.md","last_commit_url":"https://github.com/mdn/translated-content/commit/921c46a374ab0a9f4cc809af0370f8c412e54701","filename":"index.md"},"parents":[{"uri":"/es/docs/Mozilla","title":"Mozilla"},{"uri":"/es/docs/Mozilla/Add-ons","title":"Complementos"},{"uri":"/es/docs/Mozilla/Add-ons/WebExtensions","title":"Extensiones del navegador"},{"uri":"/es/docs/Mozilla/Add-ons/WebExtensions/Anatomy_of_a_WebExtension","title":"Anatomía de una extension"}],"pageTitle":"Anatomía de una extension - Mozilla | MDN","noIndexing":false}}