<!DOCTYPE html><html lang="en-US" prefix="og: https://ogp.me/ns#"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="icon" href="/favicon-48x48.97046865.png"><link rel="apple-touch-icon" href="/apple-touch-icon.0ea0fa02.png"><meta name="theme-color" content="#ffffff"><link rel="manifest" href="/manifest.56b1cedc.json"><link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" title="MDN Web Docs"><script>Array.prototype.flat&&Array.prototype.includes||document.write('<script src="https://polyfill.io/v3/polyfill.min.js?features=Array.prototype.flat%2Ces6"><\/script>')</script><title>Uso de la Web Speech API - Referencia de la API Web | MDN</title><link rel="preload" as="font" type="font/woff2" crossorigin="" href="/static/media/ZillaSlab-Bold.subset.0beac26b.woff2"><link rel="alternate" title="Uso de la Web Speech API" href="https://developer.mozilla.org/es/docs/Web/API/Web_Speech_API/Using_the_Web_Speech_API" hreflang="es"><link rel="alternate" title="‰ΩøÁî® Web Speech API" href="https://developer.mozilla.org/zh-CN/docs/Web/API/Web_Speech_API/Using_the_Web_Speech_API" hreflang="zh"><link rel="alternate" title="–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ Web Speech API" href="https://developer.mozilla.org/ru/docs/Web/API/Web_Speech_API/Using_the_Web_Speech_API" hreflang="ru"><link rel="alternate" title="Web Speech API„Çí‰Ωø„ÅÜ" href="https://developer.mozilla.org/ja/docs/Web/API/Web_Speech_API/Using_the_Web_Speech_API" hreflang="ja"><link rel="alternate" title="Utiliser l'API Web Speech" href="https://developer.mozilla.org/fr/docs/Web/API/Web_Speech_API/Using_the_Web_Speech_API" hreflang="fr"><link rel="alternate" title="Using the Web Speech API" href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Speech_API/Using_the_Web_Speech_API" hreflang="en"><meta name="description" content="La API Web Speech API proporciona dos funcionalidades distintas ‚Äî reconocimiento de voz, y s√≠ntesis de voz (tambi√©n conocido como texto a voz o tts) ‚Äî lo que nos ofrece nuevas e interesantes posibilidades para accesibilidad y otros mecanismos. Este art√≠culo ofrece una breve introducci√≥n en las dos √°reas, as√≠ como unas demos."><meta property="og:url" content="https://developer.mozilla.org/es/docs/Web/API/Web_Speech_API/Using_the_Web_Speech_API"><meta property="og:title" content="Uso de la Web Speech API - Referencia de la API Web | MDN"><meta property="og:description" content="La API Web Speech API proporciona dos funcionalidades distintas ‚Äî reconocimiento de voz, y s√≠ntesis de voz (tambi√©n conocido como texto a voz o tts) ‚Äî lo que nos ofrece nuevas e interesantes posibilidades para accesibilidad y otros mecanismos. Este art√≠culo ofrece una breve introducci√≥n en las dos √°reas, as√≠ como unas demos."><meta property="og:locale" content="es"><meta property="og:image" content="https://developer.mozilla.org/mdn-social-share.0ca9dbda.png"><meta property="twitter:card" content="summary_large_image"><meta name="robots" content="index, follow"><link rel="canonical" href="https://developer.mozilla.org/es/docs/Web/API/Web_Speech_API/Using_the_Web_Speech_API"><style media="print">.breadcrumbs-container,.document-toc-container,.language-menu,.language-toggle,.on-github,.page-footer,.page-header-main,nav.sidebar,ul.prev-next{display:none!important}.main-page-content,.main-page-content pre{padding:2px}.main-page-content pre{border-left-width:2px}</style><link href="/static/css/main.55b68e13.chunk.css" rel="stylesheet"><script src="/static/js/runtime-main.4bb4c356.js" defer=""></script><script src="/static/js/4.a756dea3.chunk.js" defer=""></script><script src="/static/js/main.d4d565e0.chunk.js" defer=""></script></head><body><div id="root"><ul id="nav-access" class="a11y-nav"><li><a id="skip-main" href="#content">Skip to main content</a></li><li><a id="skip-search" href="#main-q">Skip to search</a></li><li><a id="skip-select-language" href="#select-language">Skip to select language</a></li></ul><div class="page-wrapper document-page"><header class="page-header"><a href="/es/" class="logo" aria-label="MDN Web Docs"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 451.74 135"><path d="M7.14 8.35v111.06h111.05V8.35zm103.71 56c-.48.92-1 1.79-1.46 2.71a3.44 3.44 0 01-3.54 2 2.4 2.4 0 00-1.55.5c-1.37.9-2.76 1.79-4.18 2.63a7.33 7.33 0 01-6.35.34 29.71 29.71 0 00-10.63-2 11.7 11.7 0 00-9.46 4.31 14.84 14.84 0 00-2.13 4.29c-1.24 3.07-2.3 21.38-2.3 26.05 0 0-17.62-3.42-34.15-20.34l4.31-11.32h-13.5l9.76-10.35h-16.8l9.77-10.34H12.69L30.45 34a40.9 40.9 0 0119.77-10.83c7.1-1.22 8.93-.53 13.31.77l2.43.73.85.25 3.1.95a12.56 12.56 0 006.21.09 11.37 11.37 0 018.25 1 8.24 8.24 0 014.1 6.22 7.29 7.29 0 003.61 5.49 59.45 59.45 0 009.32 4.11c2.27.86 4.54 1.84 6.79 2.72a6.81 6.81 0 012.86 2.06 4.81 4.81 0 011.1 2.73c.14 2 .37 4 .47 6a15.24 15.24 0 01-1.77 8.03zM320.12 39.62a5.42 5.42 0 00-4.53 2.13 7.36 7.36 0 00-1.7 4.43v2.36a6.28 6.28 0 001.7 4.46 5.63 5.63 0 004.3 1.82 5.12 5.12 0 004.57-2.27A9.7 9.7 0 00326 47a8.11 8.11 0 00-1.67-5.52 5.36 5.36 0 00-4.21-1.86zM387.38 39.53a5.52 5.52 0 00-4.7 2.15 8.8 8.8 0 00-1.63 5.49 9.23 9.23 0 001.58 5.45 5.38 5.38 0 004.7 2.25 5.61 5.61 0 004.74-2.2 8.91 8.91 0 001.68-5.59 8.24 8.24 0 00-1.75-5.52 5.76 5.76 0 00-4.62-2.03zM299.47 41.35a4.34 4.34 0 00-4-1.92 4.55 4.55 0 00-3.89 1.73 8.37 8.37 0 00-1.58 4.17h10.48a6.3 6.3 0 00-1.01-3.98zM357.74 30.75H352v23.31h5.72q5.47 0 8.35-3t2.93-8.65q0-5.43-2.88-8.55t-8.38-3.11z"></path><path d="M121.55 8.35v70.8h323V8.35zm42.21 22.45h-4V54h3.68v3.73h-11.25V54h3.31V36.79h-.19l-9.63 19.12h-2.12l-10-19.4h-.19V54h3.45v3.73h-11.15V54h3.68V30.8h-4v-3.73H133l11.66 22.56h.19l11.18-22.56h7.7zm29.12 22.67q-4.11 4.28-11.38 4.28h-14.06v-3.69h3.73V30.75h-3.73v-3.68h13.83q7.59 0 11.66 4.29a15.4 15.4 0 014 11 15.33 15.33 0 01-4.05 11.11zm38.89-22.67h-3.68v27h-2.6L208.08 35h-.19v19h4.67v3.73h-12.22V54h3.49V30.8h-4v-3.73h7.08l16.9 22.09h.19V30.8h-4.58v-3.73h12.32zm43.8 27h-3.31l-7.83-23.18h-.19l-7.55 23.18h-3.35l-8.78-27h-2.65v-3.73H253v3.73h-3.87L255 50.71h.23l6.61-19.91H259v-3.73h11v3.73h-2.78l6.61 20.1h.23l5.43-20.1h-4.15v-3.73h11v3.73h-2.54zm26.71-1.51a9.66 9.66 0 01-6.42 2 10.2 10.2 0 01-7.41-2.74c-1.89-1.82-2.83-4.47-2.83-7.93a12.37 12.37 0 012.64-8.12 9 9 0 017.32-3.21 8.62 8.62 0 016.75 2.69 9.65 9.65 0 012.45 6.52 13.67 13.67 0 01-.28 2.69H290q.29 6.71 6.18 6.7a5.2 5.2 0 003.71-1.18 5.82 5.82 0 001.67-2.83l3.45.71a7.21 7.21 0 01-2.73 4.65zm25.77-1.63c-1.51 2.4-3.92 3.61-7.22 3.61s-5.84-1.29-7.22-3.87c0 .25-.1.82-.21 1.7s-.19 1.44-.22 1.7H309c.16-1 .31-2 .47-3.07a21.42 21.42 0 00.24-3.16v-23h-3.4v-3.3h7.55V40.9a9.76 9.76 0 012.67-3.28 7.33 7.33 0 014.74-1.4 8.48 8.48 0 016.5 2.78q2.55 2.74 2.55 7.74a14.6 14.6 0 01-2.27 7.87zm41.39-1.14q-4.11 4.28-11.37 4.28H344v-3.74h3.73V30.75H344v-3.68h13.83q7.59 0 11.66 4.29a15.41 15.41 0 014.06 11 15.34 15.34 0 01-4.11 11.11zm25.65 1.68a10.53 10.53 0 01-7.9 3.07 10 10 0 01-7.63-3 10.93 10.93 0 01-2.8-7.83 12.13 12.13 0 012.69-7.93q2.69-3.3 8-3.3t8 3.28a12 12 0 012.64 7.76 10.86 10.86 0 01-3 7.9zm22.61.57c-1.4 1.66-3.63 2.5-6.68 2.5a9.58 9.58 0 01-7.15-2.76q-2.72-2.76-2.71-7.91a12.25 12.25 0 012.69-8 9.17 9.17 0 017.5-3.28 15 15 0 013.82.48 10.37 10.37 0 013.5 1.65l.85 5.47-3.35.38-.76-3.54a8.07 8.07 0 00-4.11-1 4.9 4.9 0 00-4.39 2.15 9.93 9.93 0 00-1.41 5.55 8.9 8.9 0 001.5 5.38 5.23 5.23 0 004.44 2c2.92 0 4.67-1.7 5.23-5.1l3.5.71a10.34 10.34 0 01-2.47 5.27zm20.48.75a11.68 11.68 0 01-6.63 1.75 15.52 15.52 0 01-8.26-2.08L424 51l3.26.33-.1 2.74a7 7 0 002.06.66 12.63 12.63 0 002.19.19 8.68 8.68 0 003.66-.75 2.5 2.5 0 001.63-2.36 2.25 2.25 0 00-1.32-2.2 12.65 12.65 0 00-3.28-1 47.39 47.39 0 01-3.9-.82 7.5 7.5 0 01-3.25-1.7 4.67 4.67 0 01-1.33-3.66c0-2.36.88-4 2.62-4.91a12 12 0 015.6-1.37 15 15 0 014.08.55 16.65 16.65 0 013.47 1.39l.47 5.1-3.3.37-.48-3.3a9.5 9.5 0 00-4.06-.9 5.62 5.62 0 00-2.87.66 2.33 2.33 0 00-1.15 2.25 2.13 2.13 0 001.3 2.07 11.91 11.91 0 003.21.92 36.69 36.69 0 013.82.83 7.46 7.46 0 013.21 1.74 4.9 4.9 0 011.3 3.73 5.56 5.56 0 01-2.66 4.91z"></path><path d="M181.17 30.75h-5.71v23.31h5.71q5.47 0 8.36-3t2.88-8.61q0-5.43-2.88-8.55t-8.36-3.15zM121.63 119.32V81.74h114.91v37.58zM153.22 109h-2v-6.85a4.8 4.8 0 00-1.58-4 5.57 5.57 0 00-3.55-1.26 5 5 0 00-4.92 3.26 4.19 4.19 0 00-1.88-2.46 5.82 5.82 0 00-3-.8 4.89 4.89 0 00-4.56 2.56v-2.21h-6.28v3.26h2v8.5h-2v3.23h9.11V109h-2.86v-5.25a4.4 4.4 0 01.69-2.56 2.47 2.47 0 012.21-1q2.57 0 2.56 3.63v8.41h6.29V109h-2v-5.25a4.47 4.47 0 01.67-2.56 2.42 2.42 0 012.19-1q2.63 0 2.63 3.63v8.41h6.28zm9.88-12.07q-4 0-6 2.36a8.41 8.41 0 00-2 5.66 7.25 7.25 0 002.17 5.62 8 8 0 005.65 2 8.54 8.54 0 005.94-2.11 7.27 7.27 0 002.34-5.67 8.21 8.21 0 00-2-5.51q-2.07-2.34-6.1-2.34zm-.1 12.35a3 3 0 01-2.63-1.33 5.68 5.68 0 01-.9-3.26 5 5 0 011-3.28 3.23 3.23 0 012.61-1.18 3.5 3.5 0 012.59 1.08 4.56 4.56 0 011.07 3.31 5.21 5.21 0 01-1 3.41 3.33 3.33 0 01-2.74 1.25zm25-2.3l-3.39-.29-.7 2.32H179l8.32-9.54-.32-2.23h-13.19l-.53 5.25 3.16.34.67-2.36h4.65l-8.25 9.53.44 2.26h13.13zm7.62-9.74h-4.46v5.39h4.46zm0 9.61h-4.46v5.39h4.46zm13.54-17.49h-4.23l-6.48 22.88h4.22zm8.68 0h-4.23l-6.45 22.88h4.19zm15 22.51l-.07-2.26a1.22 1.22 0 01-.56.1c-.69 0-1-.39-1-1.16v-6.49a4.39 4.39 0 00-1.8-3.84 7 7 0 00-4.16-1.28 14.55 14.55 0 00-3.16.3 24.14 24.14 0 00-3.29 1.06l-.56 3.46 3.39.4.5-1.69a2.78 2.78 0 011.08-.37 11.3 11.3 0 011.25-.07c1.19 0 1.89.37 2.09 1.1a8.55 8.55 0 01.3 2.26v.5a8.91 8.91 0 00-1.18-.11h-1.21a12.64 12.64 0 00-4.81.88 3.53 3.53 0 00-2.18 3.64 3.66 3.66 0 001.48 3.33 5.63 5.63 0 003.11 1 4.67 4.67 0 003-.91 6.78 6.78 0 001.8-2 3 3 0 003.33 3 5.54 5.54 0 002.66-.85zm-9.25-2.32a1.69 1.69 0 01-1.36-.52 1.81 1.81 0 01-.43-1.21 1.67 1.67 0 01.86-1.68 4.63 4.63 0 012-.42 7.69 7.69 0 011.07.07l1.06.13a3.58 3.58 0 01-1.08 2.74 3.24 3.24 0 01-2.11.89z"></path></svg></a><button type="button" class="ghost main-menu-toggle" aria-haspopup="true" aria-label="Show Menu"></button><div class="page-header-main "><nav class="main-nav" aria-label="Main menu"><ul class="main-menu nojs"><li class="top-level-entry-container"><button id="technologies-button" type="button" class="top-level-entry" aria-haspopup="menu" aria-expanded="false">Technologies</button><ul class="technologies " role="menu" aria-labelledby="technologies-button"><li role="none"><a tabindex="-1" href="/es/docs/Web" role="menuitem">Technologies Overview</a></li><li role="none"><a tabindex="-1" href="/es/docs/Web/HTML" role="menuitem">HTML</a></li><li role="none"><a tabindex="-1" href="/es/docs/Web/CSS" role="menuitem">CSS</a></li><li role="none"><a tabindex="-1" href="/es/docs/Web/JavaScript" role="menuitem">JavaScript</a></li><li role="none"><a tabindex="-1" href="/es/docs/Web/Guide/Graphics" role="menuitem">Graphics</a></li><li role="none"><a tabindex="-1" href="/es/docs/Web/HTTP" role="menuitem">HTTP</a></li><li role="none"><a tabindex="-1" href="/es/docs/Web/API" role="menuitem">APIs</a></li><li role="none"><a tabindex="-1" href="/es/docs/Mozilla/Add-ons/WebExtensions" role="menuitem">Browser Extensions</a></li><li role="none"><a tabindex="-1" href="/es/docs/Web/MathML" role="menuitem">MathML</a></li></ul></li><li class="top-level-entry-container"><button id="references-guides-button" type="button" class="top-level-entry" aria-haspopup="menu" aria-expanded="false">References &amp; Guides</button><ul class="references-guides " role="menu" aria-labelledby="references-guides-button"><li role="none"><a tabindex="-1" href="/es/docs/Learn" role="menuitem">Learn web development</a></li><li role="none"><a tabindex="-1" href="/es/docs/Web/Tutorials" role="menuitem">Tutorials</a></li><li role="none"><a tabindex="-1" href="/es/docs/Web/Reference" role="menuitem">References</a></li><li role="none"><a tabindex="-1" href="/es/docs/Web/Guide" role="menuitem">Developer Guides</a></li><li role="none"><a tabindex="-1" href="/es/docs/Web/Accessibility" role="menuitem">Accessibility</a></li><li role="none"><a tabindex="-1" href="/es/docs/Games" role="menuitem">Game development</a></li><li role="none"><a tabindex="-1" href="/es/docs/Web" role="menuitem">...more docs</a></li></ul></li><li class="top-level-entry-container"><button id="feedback-button" type="button" class="top-level-entry" aria-haspopup="menu" aria-expanded="false">Feedback</button><ul class="feedback " role="menu" aria-labelledby="feedback-button"><li role="none"><a tabindex="-1" href="/es/docs/MDN/Contribute/Feedback" role="menuitem">Send Feedback</a></li><li role="none"><a tabindex="-1" href="/es/docs/MDN/Contribute" role="menuitem">Contribute to MDN</a></li><li role="none"><a tabindex="-1" target="_blank" rel="noopener noreferrer" href="https://github.com/mdn/content/issues/new" role="menuitem">Report a content issue<!-- --> üåê</a></li><li role="none"><a tabindex="-1" target="_blank" rel="noopener noreferrer" href="https://github.com/mdn/yari/issues/new" role="menuitem">Report a platform issue<!-- --> üåê</a></li></ul></li></ul></nav><div class="header-search"><form action="/es/search" class="search-form search-widget" role="search"><label for="main-q" class="visually-hidden">Search MDN</label><input type="search" name="q" id="main-q" class="search-input-field" placeholder="Site search... (Press &quot;/&quot; to focus)" pattern="(.|\s)*\S(.|\s)*" required="" value=""><input type="submit" class="ghost search-button" value="" aria-label="Search"></form></div><div class="auth-container"></div></div></header><div class="breadcrumb-locale-container"><nav class="breadcrumbs-container" aria-label="Breadcrumb navigation"><ol typeof="BreadcrumbList" vocab="https://schema.org/" aria-label="breadcrumbs"><li property="itemListElement" typeof="ListItem"><a class="breadcrumb" property="item" typeof="WebPage" href="/es/docs/Web"><span property="name">Tecnolog√≠a para desarrolladores web</span></a><meta property="position" content="1"></li><li property="itemListElement" typeof="ListItem"><a class="breadcrumb" property="item" typeof="WebPage" href="/es/docs/Web/API"><span property="name">Referencia de la API Web</span></a><meta property="position" content="2"></li><li property="itemListElement" typeof="ListItem"><a class="breadcrumb-penultimate" property="item" typeof="WebPage" href="/es/docs/Web/API/Web_Speech_API"><span property="name">Web Speech API</span></a><meta property="position" content="3"></li><li property="itemListElement" typeof="ListItem"><a class="breadcrumb-current-page" property="item" typeof="WebPage" href="/es/docs/Web/API/Web_Speech_API/Using_the_Web_Speech_API"><span property="name">Uso de la Web Speech API</span></a><meta property="position" content="4"></li></ol></nav><ul class="language-toggle"><li><a href="#select-language" class="language-icon"><span class="show-desktop">Change language</span></a></li><li><a class="view-in-english" href="/en-US/docs/Web/API/Web_Speech_API/Using_the_Web_Speech_API"><span class="show-desktop">View in</span> English</a></li></ul></div><div class="localized-content-note notecard inline neutral"><a href="/en-US/docs/MDN/Contribute/Localize#active_locales">This page was translated from English by the community. Learn more and join the MDN Web Docs community.</a></div><aside class="document-toc-container"><section class="document-toc"><header><h2>Table of contents</h2><button type="button" class="ghost toc-trigger-mobile" aria-controls="toc-entries" aria-expanded="false">Table of contents</button></header><ul id="toc-entries"><li><a href="#reconocimiento_de_voz">Reconocimiento de voz</a></li><li><a href="#s√≠ntesis_de_voz">S√≠ntesis de voz</a></li></ul></section></aside><main id="content" class="main-content" role="main"><article class="main-page-content" lang="es"><h1>Uso de la Web Speech API</h1><div><p class="summary">La API Web Speech API proporciona dos funcionalidades distintas ‚Äî reconocimiento de voz, y s√≠ntesis de voz (tambi√©n conocido como texto a voz o tts) ‚Äî lo que nos ofrece nuevas e interesantes posibilidades para accesibilidad y otros mecanismos. Este art√≠culo ofrece una breve introducci√≥n en las dos √°reas, as√≠ como unas demos.</p></div><h2 id="reconocimiento_de_voz"><a href="#reconocimiento_de_voz" title="Permalink to Reconocimiento de voz">Reconocimiento de voz</a></h2><div><p>El reconocimiento de voz implica recibir voz a trav√©s del micr√≥fono de un dispositivo, luego es verificado por un servicio de reconocimiento de voz contra una lista de palabras o frases 'grammar' (esta lista b√°sicamente es el vocabulario a reconocer en una app particular). Cuando se reconoce con √©xito una palabra o frase, esta se devuelve como una cadena de texto y as√≠ poder iniciar otras acciones.</p>

<p>La API Web Speech tiene una interfaz principal de control para el - <a class="only-in-en-us" title="Currently only available in English (US)" href="/en-US/docs/Web/API/SpeechRecognition"><code>SpeechRecognition</code> <small>(en-US)</small></a> -, adem√°s de una serie de interfaces estrechamente relacionadas para representar la gram√°tica, los resultados, etc. Normalmente, el sistema de reconocimiento de voz predeterminado que dispone el dispositivo se utilizar√° para el reconocimiento de voz: la mayor√≠a de los sistemas operativos modernos tienen un sistema de reconocimiento de voz para emitir comandos de voz. Piense en Dictado en macOS, Siri en iOS, Cortana en Windows 10, Android Speech, etc.</p>

<div class="note notecard" id="sect1">
<p><strong>Note</strong>: En algunos navegadores como Chrome, el uso del reconocimiento de voz implica el uso de un motor de reconocimiento basado en un servidor. Tu audio se env√≠a a un servicio de reconocimiento web para ser procesado, por lo que no funcionar√° offline.</p>
</div></div><h3 id="demo"><a href="#demo" title="Permalink to Demo">Demo</a></h3><div><p>Para mostrar un uso sencillo del reconocimiento de voz Web, hemos escrito una demo llamada <a href="https://github.com/mdn/web-speech-api/tree/master/speech-color-changer" class="external" rel=" noopener">Speech color changer</a>. Cuando se toca o hace click en la pantalla, se puede decir un color HTML, y el color de fondo de la aplicaci√≥n cambiar√° a ese color.</p>

<p><img alt="The UI of an app titled Speech Color changer. It invites the user to tap the screen and say a color, and then it turns the background of the app that colour. In this case it has turned the background red." src="https://mdn.mozillademos.org/files/11975/speech-color-changer.png" style="border: 1px solid black; display: block; margin: 0px auto;" loading="lazy"></p>

<p>Para ejecutar la demo, se puede clonar (o <a href="https://github.com/mdn/web-speech-api/archive/master.zip" class="external" rel=" noopener">directamente descargar</a>) el repositorio Github donde se encuentra, abrir el fichero index HTML en un navegador de escritorio compatible, o navegar a trav√©s del enlace <a href="https://mdn.github.io/web-speech-api/speech-color-changer/" class="external" rel=" noopener">live demo URL</a> en un navegador de m√≥vil compatible como Chrome.</p></div><h3 id="compatibilidad_de_navegadores"><a href="#compatibilidad_de_navegadores" title="Permalink to Compatibilidad de navegadores">Compatibilidad de navegadores</a></h3><div><p>Actualmente, la compatibilidad de la Web Speech API para el reconocimiento de voz se limita a Chrome para escritorio y Android ‚Äî Chrome tiene soporte desde la versi√≥n 33 pero con interfaces 'prefixed', por lo que se deben incluir ese tipo de interfaces 'prefixed', por ejemplo <code>webkitSpeechRecognition</code>.</p></div><h3 id="html_y_css"><a href="#html_y_css" title="Permalink to HTML y CSS">HTML y CSS</a></h3><div><p>El HTML y el CSS para esta app no son importantes. Solo tenemos un t√≠tulo, instrucciones en un p√°rrafo, y un div dentro del cual visualizaremos los mensajes de diagn√≥sticos.</p>

<div class="code-example"><pre class="brush: html notranslate"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>Speech color changer<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>Tap/click then say a color to change the background color of the app.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>output<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>em</span><span class="token punctuation">&gt;</span></span>...diagnostic messages<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>em</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></code></pre></div>

<p>El CSS proporciona un estilo responsive muy simple para que se visualice bien en todos los dispositivos.</p></div><h3 id="javascript"><a href="#javascript" title="Permalink to JavaScript">JavaScript</a></h3><div><p>Miremos el JavaScript con un poco m√°s de detalle.</p>

<h4 id="compatibilidad_con_chrome">Compatibilidad con Chrome </h4>

<p>Como se ha mencionado anteriormente, Chrome actualmente admite el reconocimiento de voz con propiedades 'prefixed', por lo tanto, al principio de nuestro c√≥digo incluiremos las siguientes l√≠neas para usar los objetos que correspondan a Chrome, y as√≠ cualquier implementaci√≥n en el futuro pueda admitir estas caracter√≠sticas sin ning√∫n 'prefixed':</p>

<div class="code-example"><pre class="brush: js notranslate"><code><span class="token keyword">var</span> SpeechRecognition <span class="token operator">=</span> SpeechRecognition <span class="token operator">||</span> webkitSpeechRecognition
<span class="token keyword">var</span> SpeechGrammarList <span class="token operator">=</span> SpeechGrammarList <span class="token operator">||</span> webkitSpeechGrammarList
<span class="token keyword">var</span> SpeechRecognitionEvent <span class="token operator">=</span> SpeechRecognitionEvent <span class="token operator">||</span> webkitSpeechRecognitionEvent</code></pre></div>

<h4 id="la_gram√°tica_-grammar-">La gram√°tica -grammar-</h4>

<p>Las siguientes l√≠neas de c√≥digo definen la gram√°tica que queremos que reconozca nuestra app. Se define una variable para contener nuestra gram√°tica:</p>

<div class="code-example"><pre class="brush: js notranslate"><code><span class="token keyword">var</span> colors <span class="token operator">=</span> <span class="token punctuation">[</span> <span class="token string">'aqua'</span> <span class="token punctuation">,</span> <span class="token string">'azure'</span> <span class="token punctuation">,</span> <span class="token string">'beige'</span><span class="token punctuation">,</span> <span class="token string">'bisque'</span><span class="token punctuation">,</span> <span class="token string">'black'</span><span class="token punctuation">,</span> <span class="token string">'blue'</span><span class="token punctuation">,</span> <span class="token string">'brown'</span><span class="token punctuation">,</span> <span class="token string">'chocolate'</span><span class="token punctuation">,</span> <span class="token string">'coral'</span> <span class="token operator">...</span> <span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> grammar <span class="token operator">=</span> <span class="token string">'#JSGF V1.0; grammar colors; public &lt;color&gt; = '</span> <span class="token operator">+</span> colors<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">' | '</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">' ;'</span></code></pre></div>

<p>El formato usado para 'grammar' es <a class="external external-icon" href="https://www.w3.org/TR/jsgf/" rel=" noopener">JSpeech Grammar Format</a> (<strong>JSGF</strong>) ‚Äî Se puede encontrar m√°s sobre las especificaciones de este formato en el anterior enlace. Sin embargo y por ahora vamos a echarle un vistazo r√°pidamente:</p>

<ul>
 <li>Las l√≠neas se separan con punto y coma como en JavaScript.</li>
 <li>La primera l√≠nea ‚Äî <code>#JSGF V1.0;</code> ‚Äî establece el formato y versi√≥n utilizados. Esto siempre se debe incluir primero.</li>
 <li>La segunda l√≠nea indica el tipo de t√©rminos que queremos que se reconozcan. <code>public</code> declara que es una regla p√∫blica, la cadena entre los par√©ntesis angulares definen el nombre reconocido para √©ste t√©rmino (<code>color</code>), y la lista de elementos que siguen al signo igual son los valores alternativos que se reconocer√°n y aceptaran como valores apropiados al t√©rmino. Observar como cada elemento se separa con el car√°cter pipe ' | ' .</li>
 <li>Se pueden definir tantos t√©rminos como se desee en l√≠neas separadas siguiendo la estructura anterior, e incluir definiciones gramaticales complejas. Esta demostraci√≥n b√°sica la mantenemos lo m√°s simple posible.</li>
</ul>

<h4 id="conectando_la_gram√°tica_a_nuestro_reconocimiento_de_voz">Conectando la gram√°tica a nuestro reconocimiento de voz</h4>

<p>Lo siguiente que tenemos que hacer es definir una instancia de reconocimiento de voz para el control en nuestra aplicaci√≥n. Esto se hace usando el constructor <a class="only-in-en-us" title="Currently only available in English (US)" href="/en-US/docs/Web/API/SpeechRecognition/SpeechRecognition"><code>SpeechRecognition()</code> <small>(en-US)</small></a>. Tambi√©n creamos una lista de gram√°tica de voz para contener nuestra gram√°tica usando el constructor <a class="only-in-en-us" title="Currently only available in English (US)" href="/en-US/docs/Web/API/SpeechGrammarList/SpeechGrammarList"><code>SpeechGrammarList()</code> <small>(en-US)</small></a>.</p>

<div class="code-example"><pre class="brush: js notranslate"><code><span class="token keyword">var</span> recognition <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SpeechRecognition</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> speechRecognitionList <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SpeechGrammarList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>

<p>A√±adimos nuestra  <code>grammar</code>  a la lista anterior usando el m√©todo <a class="only-in-en-us" title="Currently only available in English (US)" href="/en-US/docs/Web/API/SpeechGrammarList/addFromString"><code>SpeechGrammarList.addFromString()</code> <small>(en-US)</small></a>. Este m√©todo acepta como par√°metro la cadena que queremos a√±adir, as√≠ como opcionalmente, un valor que especifique la importancia de esta gram√°tica en relaci√≥n a otras gram√°ticas disponibles en la lista (el rango del valor va desde 0 hasta 1 inclusive). La gram√°tica agregada est√° disponible en la lista como una instancia del objeto <a class="only-in-en-us" title="Currently only available in English (US)" href="/en-US/docs/Web/API/SpeechGrammar"><code>SpeechGrammar</code> <small>(en-US)</small></a>.</p>

<div class="code-example"><pre class="brush: js notranslate"><code>speechRecognitionList<span class="token punctuation">.</span><span class="token function">addFromString</span><span class="token punctuation">(</span>grammar<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>

<p>Despu√©s a√±adimos la lista <a class="only-in-en-us" title="Currently only available in English (US)" href="/en-US/docs/Web/API/SpeechGrammarList"><code>SpeechGrammarList</code> <small>(en-US)</small></a> a la instancia del reconocimiento de voz estableci√©ndola en la propiedad <a class="only-in-en-us" title="Currently only available in English (US)" href="/en-US/docs/Web/API/SpeechRecognition/grammars"><code>SpeechRecognition.grammars</code> <small>(en-US)</small></a>. Tambi√©n establecemos algunas otras propiedades a la instancia de reconocimiento antes de continuar:</p>

<ul>
 <li><a class="only-in-en-us" title="Currently only available in English (US)" href="/en-US/docs/Web/API/SpeechRecognition/continuous"><code>SpeechRecognition.continuous</code> <small>(en-US)</small></a>: Controla si se capturan los resultados de forma continua (<code>true</code>), o solo un resultado cada vez que se inicia el reconocimiento (<code>false</code>).</li>
 <li><a class="only-in-en-us" title="Currently only available in English (US)" href="/en-US/docs/Web/API/SpeechRecognition/lang"><code>SpeechRecognition.lang</code> <small>(en-US)</small></a>: Establece el idioma del reconocimiento. Esto es una buena pr√°ctica y, por lo tanto, recomendable.</li>
 <li><a class="only-in-en-us" title="Currently only available in English (US)" href="/en-US/docs/Web/API/SpeechRecognition/interimResults"><code>SpeechRecognition.interimResults</code> <small>(en-US)</small></a>: Define si el sistema de reconocimiento de voz debe devolver resultados provisionales o solo resultados finales. Para nuestra demo es suficiente con los resultados finales.</li>
 <li><a class="only-in-en-us" title="Currently only available in English (US)" href="/en-US/docs/Web/API/SpeechRecognition/maxAlternatives"><code>SpeechRecognition.maxAlternatives</code> <small>(en-US)</small></a>:  Establece el n√∫mero de posibles coincidencias alternativas que se deben devolver por resultado. Esto a veces puede ser √∫til, por ejemplo, si un resultado no est√° completamente claro y desea mostrar una lista de alternativas para que el usuario elija la correcta. Esta opci√≥n no es necesaria para la demo, por lo que solo especificamos una (la cual es la predeterminada).</li>
</ul>

<div class="code-example"><pre class="brush: js notranslate"><code>recognition<span class="token punctuation">.</span>grammars <span class="token operator">=</span> speechRecognitionList<span class="token punctuation">;</span>
recognition<span class="token punctuation">.</span>continuous <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
recognition<span class="token punctuation">.</span>lang <span class="token operator">=</span> <span class="token string">'en-US'</span><span class="token punctuation">;</span>
recognition<span class="token punctuation">.</span>interimResults <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
recognition<span class="token punctuation">.</span>maxAlternatives <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span></code></pre></div>

<h4 id="comenzando_el_reconocimiento_de_voz">Comenzando el reconocimiento de voz</h4>

<p>Tomamos las referencias de la salida <a href="/es/docs/Web/HTML/Element/div"><code>&lt;div&gt;</code></a> y del elemento HTML (para que podamos enviar mensajes de diagnostico y actualizar el color de fondo de la aplicaci√≥n m√°s adelante), e implementamos un manejador onclick para que cuando se haga click o se toque la pantalla, se inicie el reconocimiento de voz. Esto se logra llamando al m√©todo <a class="only-in-en-us" title="Currently only available in English (US)" href="/en-US/docs/Web/API/SpeechRecognition/start"><code>SpeechRecognition.start()</code> <small>(en-US)</small></a>. El m√©todo <code>forEach()</code> se usa para visualizar indicadores de colores que muestran qu√© colores intenta decir.</p>

<div class="code-example"><pre class="brush: js notranslate"><code><span class="token keyword">var</span> diagnostic <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.output'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> bg <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'html'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> hints <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.hints'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> colorHTML<span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>
colors<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">v<span class="token punctuation">,</span> i<span class="token punctuation">,</span> a</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>v<span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
  colorHTML <span class="token operator">+=</span> <span class="token string">'&lt;span style="background-color:'</span> <span class="token operator">+</span> v <span class="token operator">+</span> <span class="token string">';"&gt; '</span> <span class="token operator">+</span> v <span class="token operator">+</span> <span class="token string">' &lt;/span&gt;'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
hints<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token string">'Tap/click then say a color to change the background color of the app. Try '</span> <span class="token operator">+</span> colorHTML <span class="token operator">+</span> <span class="token string">'.'</span><span class="token punctuation">;</span>

document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  recognition<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Ready to receive a color command.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>

<h4 id="recepci√≥n_y_manejo_de_resultados">Recepci√≥n y manejo de resultados</h4>

<p>Una vez que comienza el reconocimiento de voz, hay muchos manejadores de eventos que se pueden usar para recuperar los resultados, as√≠ como otros elementos de informaci√≥n adicional (ver <a href="/en-US/docs/Web/API/SpeechRecognition#Event_handlers"><code>SpeechRecognition</code> event handlers list</a>.) El m√°s com√∫n que probablemente usar√°s es <a class="only-in-en-us" title="Currently only available in English (US)" href="/en-US/docs/Web/API/SpeechRecognition/result_event"><code>SpeechRecognition.onresult</code> <small>(en-US)</small></a>, el cual es lanzado cuando se recibe el resultado con √©xito:</p>

<div class="code-example"><pre class="brush: js notranslate"><code>recognition<span class="token punctuation">.</span><span class="token function-variable function">onresult</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> color <span class="token operator">=</span> event<span class="token punctuation">.</span>results<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>transcript<span class="token punctuation">;</span>
  diagnostic<span class="token punctuation">.</span>textContent <span class="token operator">=</span> <span class="token string">'Result received: '</span> <span class="token operator">+</span> color <span class="token operator">+</span> <span class="token string">'.'</span><span class="token punctuation">;</span>
  bg<span class="token punctuation">.</span>style<span class="token punctuation">.</span>backgroundColor <span class="token operator">=</span> color<span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Confidence: '</span> <span class="token operator">+</span> event<span class="token punctuation">.</span>results<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>confidence<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>

<p>La tercera l√≠nea es un poco m√°s compleja, as√≠ que vamos a explicarla paso a paso. La propiedad <a class="only-in-en-us" title="Currently only available in English (US)" href="/en-US/docs/Web/API/SpeechRecognitionEvent/results"><code>SpeechRecognitionEvent.results</code> <small>(en-US)</small></a> devuelve un objeto <a class="only-in-en-us" title="Currently only available in English (US)" href="/en-US/docs/Web/API/SpeechRecognitionResultList"><code>SpeechRecognitionResultList</code> <small>(en-US)</small></a> que contiene los objetos <a class="only-in-en-us" title="Currently only available in English (US)" href="/en-US/docs/Web/API/SpeechRecognitionResult"><code>SpeechRecognitionResult</code> <small>(en-US)</small></a>. Tiene un getter para que pueda ser accesible como si fuera un array ‚Äî as√≠ el primer <code>[0]</code> devuelve el <code>SpeechRecognitionResult</code> en la posici√≥n 0. Cada objeto <code>SpeechRecognitionResult</code> contiene objetos <a class="only-in-en-us" title="Currently only available in English (US)" href="/en-US/docs/Web/API/SpeechRecognitionAlternative"><code>SpeechRecognitionAlternative</code> <small>(en-US)</small></a> que contienen palabras individuales reconocidas. Estos tambi√©n tienen getters para que se puedan acceder a ellos como arrays ‚Äî por lo tanto el segundo <code>[0]</code> devuelve <code>SpeechRecognitionAlternative</code> en la posici√≥n 0. Luego devolvemos su propiedad <code>transcript</code> para obtener una cadena que contenga  el resultado individual reconocido como un string, estableciendo el color de fondo a ese color, e informando del color reconocido como un mensaje de diagn√≥stico en el IU.</p>

<p>Tambi√©n usamos el manejador <a class="only-in-en-us" title="Currently only available in English (US)" href="/en-US/docs/Web/API/SpeechRecognition/speechend_event"><code>SpeechRecognition.onspeechend</code> <small>(en-US)</small></a> para parar el servicio de reconocimiento de voz (usando <a class="only-in-en-us" title="Currently only available in English (US)" href="/en-US/docs/Web/API/SpeechRecognition/stop"><code>SpeechRecognition.stop()</code> <small>(en-US)</small></a>) cuando se ha reconocido una sola palabra y se ha finalizado de hablar:</p>

<div class="code-example"><pre class="brush: js notranslate"><code>recognition<span class="token punctuation">.</span><span class="token function-variable function">onspeechend</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  recognition<span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>

<h4 id="manejo_de_errores_y_voz_no_reconocida">Manejo de errores y voz no reconocida</h4>

<p>Los dos √∫ltimos manejadores son para controlar los casos donde no se reconoce ninguna de las palabras definidas en la gram√°tica, o cuando ocurre un error. <a class="only-in-en-us" title="Currently only available in English (US)" href="/en-US/docs/Web/API/SpeechRecognition/nomatch_event"><code>SpeechRecognition.onnomatch</code> <small>(en-US)</small></a> maneja el primer caso mencionado, pero tenga en cuenta que de momento no parece que se dispare correctamente; solo devuelve lo que ha reconocido:</p>

<div class="code-example"><pre class="brush: js notranslate"><code>recognition<span class="token punctuation">.</span><span class="token function-variable function">onnomatch</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  diagnostic<span class="token punctuation">.</span>textContent <span class="token operator">=</span> <span class="token string">'I didnt recognise that color.'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>

<p><a class="only-in-en-us" title="Currently only available in English (US)" href="/en-US/docs/Web/API/SpeechRecognition/error_event"><code>SpeechRecognition.onerror</code> <small>(en-US)</small></a> maneja los casos donde se ha producido en error en el reconocimiento  ‚Äî la propiedad <a class="only-in-en-us" title="Currently only available in English (US)" href="/en-US/docs/Web/API/SpeechRecognitionErrorEvent/error"><code>SpeechRecognitionError.error</code> <small>(en-US)</small></a> contiene el error devuelto:</p>

<div class="code-example"><pre class="brush: js notranslate"><code>recognition<span class="token punctuation">.</span><span class="token function-variable function">onerror</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  diagnostic<span class="token punctuation">.</span>textContent <span class="token operator">=</span> <span class="token string">'Error occurred in recognition: '</span> <span class="token operator">+</span> event<span class="token punctuation">.</span>error<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div></div><h2 id="s√≠ntesis_de_voz"><a href="#s√≠ntesis_de_voz" title="Permalink to S√≠ntesis de voz">S√≠ntesis de voz</a></h2><div><p>La s√≠ntesis de voz (tambi√©n  conocida como texto a voz o tts) implica recibir  contenido en forma de texto dentro de una aplicaci√≥n y convertirla en voz a trav√©s del altavoz del dispositivo o de la conexi√≥n de salida del audio.</p>

<p>La Web Speech API tiene una interface principal controladora ‚Äî <a class="only-in-en-us" title="Currently only available in English (US)" href="/en-US/docs/Web/API/SpeechSynthesis"><code>SpeechSynthesis</code> <small>(en-US)</small></a> ‚Äî adem√°s de una serie de interfaces estrechamente relacionadas para representar  el texto que se va a sintetizar (conocido como dictados 'utterances'), voces que se usar√°n para los dictados, etc. De nuevo, la mayor√≠a de sistemas operativos disponen de alg√∫n sistema de s√≠ntesis de voz que pueden ser√°n usados por la API si est√°n disponibles.</p></div><h3 id="demo_2"><a href="#demo_2" title="Permalink to Demo">Demo</a></h3><div><p>Para mostrar un uso sencillo de la s√≠ntesis de voz Web, tenemos la demo llamada <a href="https://mdn.github.io/web-speech-api/speak-easy-synthesis/" class="external" rel=" noopener">Speak easy synthesis</a>. Esta incluye un juego de controles de formulario para introducir texto a sintetizar, configurar el tono, velocidad de reproducci√≥n y la voz a usar cuando el texto sea pronunciado.  Despu√©s de introducir el texto se puede presionar <kbd>Enter</kbd>/<kbd>Return</kbd> para escucharlo.</p>

<p><img alt="UI of an app called speak easy synthesis. It has an input field in which to input text to be synthesised, slider controls to change the rate and pitch of the speech, and a drop down menu to choose between different voices." src="https://mdn.mozillademos.org/files/11977/speak-easy-synthesis.png" style="border: 1px solid black; display: block; margin: 0px auto;" loading="lazy"></p>

<p>Para ejecutar la demo, se puede clonar (o <a href="https://github.com/mdn/web-speech-api/archive/master.zip" class="external" rel=" noopener">directamente descargar</a>) el repositorio Github donde se encuentra, abrir el fichero index HTML en un navegador de escritorio compatible, o navegar a trav√©s del enlace <a href="https://mdn.github.io/web-speech-api/speech-color-changer/" class="external" rel=" noopener">live demo URL</a> en un navegador de m√≥vil compatible como Chrome.</p></div><h3 id="compatibilidad_de_navegadores_2"><a href="#compatibilidad_de_navegadores_2" title="Permalink to Compatibilidad de navegadores">Compatibilidad de navegadores</a></h3><div><p>El soporte para la s√≠ntesis de voz Web Speech API solo ha llegado a los navegadores m√°s importantes  y actualmente se limita a los siguientes:</p>

<ul>
 <li>
  <p>Firefox para escritorio y dispositivos m√≥viles en Gecko 42+ (Windows)/44+, sin prefijos, y se puede activar configurando el flag <code>media.webspeech.synth.enabled</code> a <code>true</code> en <code>about:config</code>.</p>
 </li>
 <li>
  <p>Firefox OS 2.5+ lo soporta por defecto y sin ser necesario ning√∫n permiso.</p>
 </li>
 <li>
  <p>Chrome para escritorio y  Android tienen soporte desde la versi√≥n 33, sin prefijos.</p>
 </li>
</ul></div><h3 id="html_y_css_2"><a href="#html_y_css_2" title="Permalink to HTML y CSS">HTML y CSS</a></h3><div><p>El HTML y CSS de nuevo no son fundamentales, simplemente contiene un titulo, algunas instrucciones de uso y un formulario con algunos controles sencillos. El elemento <a href="/es/docs/Web/HTML/Element/select"><code>&lt;select&gt;</code></a> inicialmente est√° vac√≠o pero se rellena con <a href="/es/docs/Web/HTML/Element/option"><code>&lt;option&gt;</code></a> mediante JavaScript (ver m√°s adelante.)</p>

<div class="code-example"><pre class="brush: html notranslate"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>Speech synthesiser<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>Enter some text in the input below and press return to hear it. change voices using the dropdown menu.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>txt<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>rate<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Rate<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>range<span class="token punctuation">"</span></span> <span class="token attr-name">min</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>0.5<span class="token punctuation">"</span></span> <span class="token attr-name">max</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>2<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>1<span class="token punctuation">"</span></span> <span class="token attr-name">step</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>0.1<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>rate<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>rate-value<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>clearfix<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>pitch<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Pitch<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>range<span class="token punctuation">"</span></span> <span class="token attr-name">min</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>0<span class="token punctuation">"</span></span> <span class="token attr-name">max</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>2<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>1<span class="token punctuation">"</span></span> <span class="token attr-name">step</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>0.1<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>pitch<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>pitch-value<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>clearfix<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span><span class="token punctuation">&gt;</span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span></code></pre></div></div><h3 id="javascript_2"><a href="#javascript_2" title="Permalink to JavaScript">JavaScript</a></h3><div><p>Analicemos el JavaScript usado en esta app.</p>

<h4 id="configurar_variables">Configurar variables</h4>

<p>En primer lugar, capturamos las referencias de todos los elementos DOM involucrados en la IU, pero lo m√°s importante es capturar una referencia a  <a class="only-in-en-us" title="Currently only available in English (US)" href="/en-US/docs/Web/API/Window/speechSynthesis"><code>Window.speechSynthesis</code> <small>(en-US)</small></a>. Este es el punto de entrada a la API ‚Äî devuelve una instancia a <a class="only-in-en-us" title="Currently only available in English (US)" href="/en-US/docs/Web/API/SpeechSynthesis"><code>SpeechSynthesis</code> <small>(en-US)</small></a>, la interface controladora para la s√≠ntesis de voz en la web.</p>

<div class="code-example"><pre class="brush: js notranslate"><code><span class="token keyword">var</span> synth <span class="token operator">=</span> window<span class="token punctuation">.</span>speechSynthesis<span class="token punctuation">;</span>

<span class="token keyword">var</span> inputForm <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'form'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> inputTxt <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.txt'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> voiceSelect <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'select'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> pitch <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'#pitch'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> pitchValue <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.pitch-value'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> rate <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'#rate'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> rateValue <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.rate-value'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> voices <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div>

<h4 id="rellenar_el_elemento_select">Rellenar el elemento select </h4>

<p>Para rellenar el elemento <a href="/es/docs/Web/HTML/Element/select"><code>&lt;select&gt;</code></a> con las diferentes opciones de voz del que dispone el dispositivo, hemos escrito la funci√≥n <code>populateVoiceList()</code>. Primero invocamos <a class="only-in-en-us" title="Currently only available in English (US)" href="/en-US/docs/Web/API/SpeechSynthesis/getVoices"><code>SpeechSynthesis.getVoices()</code> <small>(en-US)</small></a>, que devuelve una lista de todas las voces disponibles representadas por objetos <a class="only-in-en-us" title="Currently only available in English (US)" href="/en-US/docs/Web/API/SpeechSynthesisVoice"><code>SpeechSynthesisVoice</code> <small>(en-US)</small></a>. Despu√©s recorremos esa lista ‚Äî para cada voz creamos un elemento <a href="/es/docs/Web/HTML/Element/option"><code>&lt;option&gt;</code></a>, establecemos su contenido con el nombre de la voz (desde <a class="only-in-en-us" title="Currently only available in English (US)" href="/en-US/docs/Web/API/SpeechSynthesisVoice/name"><code>SpeechSynthesisVoice.name</code> <small>(en-US)</small></a>), y el lenguaje de la misma (desde <a class="only-in-en-us" title="Currently only available in English (US)" href="/en-US/docs/Web/API/SpeechSynthesisVoice/lang"><code>SpeechSynthesisVoice.lang</code> <small>(en-US)</small></a>), y <code>-- DEFAULT</code> si la voz es la predeterminada para el motor de s√≠ntesis (verificando si <a class="only-in-en-us" title="Currently only available in English (US)" href="/en-US/docs/Web/API/SpeechSynthesisVoice/default"><code>SpeechSynthesisVoice.default</code> <small>(en-US)</small></a> devuelve <code>true</code>.)</p>

<p>Para cada opci√≥n tambi√©n creamos atributos <code>data-</code>, conteniendo el nombre y lenguaje de la voz asociada, para que m√°s tarde podamos usarlos f√°cilmente, y despu√©s a√±adimos las opciones 'option' como hijos del select.</p>

<div class="code-example"><pre class="brush: js notranslate"><code><span class="token keyword">function</span> <span class="token function">populateVoiceList</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  voices <span class="token operator">=</span> synth<span class="token punctuation">.</span><span class="token function">getVoices</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">for</span><span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> voices<span class="token punctuation">.</span>length <span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> option <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'option'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    option<span class="token punctuation">.</span>textContent <span class="token operator">=</span> voices<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>name <span class="token operator">+</span> <span class="token string">' ('</span> <span class="token operator">+</span> voices<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>lang <span class="token operator">+</span> <span class="token string">')'</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span><span class="token punctuation">(</span>voices<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>default<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      option<span class="token punctuation">.</span>textContent <span class="token operator">+=</span> <span class="token string">' -- DEFAULT'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    option<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'data-lang'</span><span class="token punctuation">,</span> voices<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>lang<span class="token punctuation">)</span><span class="token punctuation">;</span>
    option<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'data-name'</span><span class="token punctuation">,</span> voices<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    voiceSelect<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>option<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>

<p>Cuando vamos a ejecutar la funci√≥n hacemos lo siguiente debido a que Firefox no soporta <a class="only-in-en-us" title="Currently only available in English (US)" href="/en-US/docs/Web/API/SpeechSynthesis/voiceschanged_event"><code>SpeechSynthesis.onvoiceschanged</code> <small>(en-US)</small></a>, y s√≥lo devolver√° una lista de voces cuando se ejecute <a class="only-in-en-us" title="Currently only available in English (US)" href="/en-US/docs/Web/API/SpeechSynthesis/getVoices"><code>SpeechSynthesis.getVoices()</code> <small>(en-US)</small></a>. Sin embargo con Chrome solo hay que esperar a que se active el evento antes de rellenar la lista, de ah√≠ la siguiente parte de c√≥digo.</p>

<div class="code-example"><pre class="brush: js notranslate"><code><span class="token function">populateVoiceList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>speechSynthesis<span class="token punctuation">.</span>onvoiceschanged <span class="token operator">!==</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  speechSynthesis<span class="token punctuation">.</span>onvoiceschanged <span class="token operator">=</span> populateVoiceList<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>

<h4 id="reproduciendo_el_texto_introducido">Reproduciendo el texto introducido</h4>

<p>A continuaci√≥n, creamos un manejador de eventos para comenzar a reproducir el texto introducido en el campo de texto. Usamos un manejador <a href="/en-US/docs/Web/API/HTMLFormElement/submit_event">onsubmit</a> en el formulario para que la acci√≥n ocurra cuando se presione <kbd>Enter</kbd>/<kbd>Return</kbd>. Primero creamos una nueva instancia de  <a class="only-in-en-us" title="Currently only available in English (US)" href="/en-US/docs/Web/API/SpeechSynthesisUtterance/SpeechSynthesisUtterance"><code>SpeechSynthesisUtterance()</code> <small>(en-US)</small></a> usando su constructor ‚Äî a este se le pasa el valor de la entrada de texto como par√°metro.</p>

<p>A continuaci√≥n, debemos obtener la voz que queremos utilizar. Usamos la propiedad <a href="/es/docs/Web/API/HTMLSelectElement"><code>HTMLSelectElement</code></a> <code>selectedOptions</code> para devolver el elemento seleccionado <a href="/es/docs/Web/HTML/Element/option"><code>&lt;option&gt;</code></a>. Entonces usamos el atributo de este elemento <code>data-name</code>, encontrando el objeto <a class="only-in-en-us" title="Currently only available in English (US)" href="/en-US/docs/Web/API/SpeechSynthesisVoice"><code>SpeechSynthesisVoice</code> <small>(en-US)</small></a> cuyo nombre coincida con el valor del atributo. Y configuramos la propiedad de <a class="only-in-en-us" title="Currently only available in English (US)" href="/en-US/docs/Web/API/SpeechSynthesisUtterance/voice"><code>SpeechSynthesisUtterance.voice</code> <small>(en-US)</small></a> con el valor que coincida con la opci√≥n seleccionada.</p>

<p>Por √∫ltimo, configuramos <a class="only-in-en-us" title="Currently only available in English (US)" href="/en-US/docs/Web/API/SpeechSynthesisUtterance/pitch"><code>SpeechSynthesisUtterance.pitch</code> <small>(en-US)</small></a> y <a class="only-in-en-us" title="Currently only available in English (US)" href="/en-US/docs/Web/API/SpeechSynthesisUtterance/rate"><code>SpeechSynthesisUtterance.rate</code> <small>(en-US)</small></a> con los valores de los elementos del formulario correspondientes. Entonces y ya configurado todo lo necesario, comenzamos la reproducci√≥n invocando  <a class="only-in-en-us" title="Currently only available in English (US)" href="/en-US/docs/Web/API/SpeechSynthesis/speak"><code>SpeechSynthesis.speak()</code> <small>(en-US)</small></a>, y pas√°ndolo a la instancia <a class="only-in-en-us" title="Currently only available in English (US)" href="/en-US/docs/Web/API/SpeechSynthesisUtterance"><code>SpeechSynthesisUtterance</code> <small>(en-US)</small></a> como par√°metro.</p>

<div class="code-example"><pre class="brush: js notranslate"><code>inputForm<span class="token punctuation">.</span><span class="token function-variable function">onsubmit</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  event<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">var</span> utterThis <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SpeechSynthesisUtterance</span><span class="token punctuation">(</span>inputTxt<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> selectedOption <span class="token operator">=</span> voiceSelect<span class="token punctuation">.</span>selectedOptions<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">'data-name'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span><span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> voices<span class="token punctuation">.</span>length <span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>voices<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>name <span class="token operator">===</span> selectedOption<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      utterThis<span class="token punctuation">.</span>voice <span class="token operator">=</span> voices<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  utterThis<span class="token punctuation">.</span>pitch <span class="token operator">=</span> pitch<span class="token punctuation">.</span>value<span class="token punctuation">;</span>
  utterThis<span class="token punctuation">.</span>rate <span class="token operator">=</span> rate<span class="token punctuation">.</span>value<span class="token punctuation">;</span>
  synth<span class="token punctuation">.</span><span class="token function">speak</span><span class="token punctuation">(</span>utterThis<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>

<p>Al final del manejador incluimos un manejador <a class="only-in-en-us" title="Currently only available in English (US)" href="/en-US/docs/Web/API/SpeechSynthesisUtterance/pause_event"><code>SpeechSynthesisUtterance.onpause</code> <small>(en-US)</small></a> para mostrar c√≥mo usar <a class="only-in-en-us" title="Currently only available in English (US)" href="/en-US/docs/Web/API/SpeechSynthesisEvent"><code>SpeechSynthesisEvent</code> <small>(en-US)</small></a>. Cuando se invoca a  <a class="only-in-en-us" title="Currently only available in English (US)" href="/en-US/docs/Web/API/SpeechSynthesis/pause"><code>SpeechSynthesis.pause()</code> <small>(en-US)</small></a>,este devuelve un mensaje informando del n√∫mero y nombre del car√°cter en el que se detuvo la reproducci√≥n.</p>

<div class="code-example"><pre class="brush: js notranslate"><code>   utterThis<span class="token punctuation">.</span><span class="token function-variable function">onpause</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> char <span class="token operator">=</span> event<span class="token punctuation">.</span>utterance<span class="token punctuation">.</span>text<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>charIndex<span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Speech paused at character '</span> <span class="token operator">+</span> event<span class="token punctuation">.</span>charIndex <span class="token operator">+</span> <span class="token string">' of "'</span> <span class="token operator">+</span>
    event<span class="token punctuation">.</span>utterance<span class="token punctuation">.</span>text <span class="token operator">+</span> <span class="token string">'", which is "'</span> <span class="token operator">+</span> char <span class="token operator">+</span> <span class="token string">'".'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span></code></pre></div>

<p>Por √∫ltimo, llamamos a <a href="/en-US/docs/Web/API/HTMLElement/blur">blur()</a> en la entrada de texto. Esto permite ocultar la entrada de texto en Firefox OS.</p>

<div class="code-example"><pre class="brush: js notranslate"><code>  inputTxt<span class="token punctuation">.</span><span class="token function">blur</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>

<h4 id="actualizando_los_valores_de_tono_y_velocidad_mostrados">Actualizando los valores de tono y velocidad mostrados</h4>

<p>La √∫ltima parte del c√≥digo simplemente actualiza los valores <code>pitch</code>/<code>rate</code> mostrados en la IU, cada vez que el slider cambia de posici√≥n.</p>

<div class="code-example"><pre class="brush: js notranslate"><code>pitch<span class="token punctuation">.</span><span class="token function-variable function">onchange</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  pitchValue<span class="token punctuation">.</span>textContent <span class="token operator">=</span> pitch<span class="token punctuation">.</span>value<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

rate<span class="token punctuation">.</span><span class="token function-variable function">onchange</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  rateValue<span class="token punctuation">.</span>textContent <span class="token operator">=</span> rate<span class="token punctuation">.</span>value<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div></div></article><aside class="metadata"><div class="metadata-content-container"><div id="on-github" class="on-github"><h3>Found a problem with this page?</h3><ul><li><a href="https://github.com/mdn/translated-content/edit/main/files/es/web/api/web_speech_api/using_the_web_speech_api/index.html" title="You're going to need to sign in to GitHub first (Opens in a new tab)" target="_blank" rel="noopener noreferrer">Edit on <b>GitHub</b></a></li><li><a href="https://github.com/mdn/translated-content/blob/main/files/es/web/api/web_speech_api/using_the_web_speech_api/index.html" title="Folder: es/web/api/web_speech_api/using_the_web_speech_api (Opens in a new tab)" target="_blank" rel="noopener noreferrer">Source on <b>GitHub</b></a></li><li><a href="https://github.com/mdn/translated-content/issues/new?body=MDN+URL%3A+https%3A%2F%2Fdeveloper.mozilla.org%2Fes%2Fdocs%2FWeb%2FAPI%2FWeb_Speech_API%2FUsing_the_Web_Speech_API%0A%0A%23%23%23%23+What+information+was+incorrect%2C+unhelpful%2C+or+incomplete%3F%0A%0A%0A%23%23%23%23+Specific+section+or+headline%3F%0A%0A%0A%23%23%23%23+What+did+you+expect+to+see%3F%0A%0A%0A%23%23%23%23+Did+you+test+this%3F+If+so%2C+how%3F%0A%0A%0A%3C%21--+Do+not+make+changes+below+this+line+--%3E%0A%3Cdetails%3E%0A%3Csummary%3EMDN+Content+page+report+details%3C%2Fsummary%3E%0A%0A*+Folder%3A+%60es%2Fweb%2Fapi%2Fweb_speech_api%2Fusing_the_web_speech_api%60%0A*+MDN+URL%3A+https%3A%2F%2Fdeveloper.mozilla.org%2Fes%2Fdocs%2FWeb%2FAPI%2FWeb_Speech_API%2FUsing_the_Web_Speech_API%0A*+GitHub+URL%3A+https%3A%2F%2Fgithub.com%2Fmdn%2Ftranslated-content%2Fblob%2Fmain%2Ffiles%2Fes%2Fweb%2Fapi%2Fweb_speech_api%2Fusing_the_web_speech_api%2Findex.html%0A*+Last+commit%3A+https%3A%2F%2Fgithub.com%2Fmdn%2Ftranslated-content%2Fcommit%2F921c46a374ab0a9f4cc809af0370f8c412e54701%0A*+Document+last+modified%3A+2022-10-01T03%3A41%3A16.000Z%0A%0A%3C%2Fdetails%3E&amp;title=Issue+with+%22Uso+de+la+Web+Speech+API%22%3A+%28short+summary+here+please%29&amp;labels=needs-triage%2Cl10n-es" title="This will take you to https://github.com/mdn/content to file a new issue" target="_blank" rel="noopener noreferrer">Report a problem with this content on <b>GitHub</b></a></li><li>Want to fix the problem yourself? See<!-- --> <a href="https://github.com/mdn/content/blob/main/README.md" target="_blank" rel="noopener noreferrer">our Contribution guide</a>.</li></ul></div><p class="last-modified-date"><b>Last modified:</b> <time datetime="2022-10-01T03:41:16.000Z">Oct 1, 2022</time>,<!-- --> <a href="/es/docs/Web/API/Web_Speech_API/Using_the_Web_Speech_API/contributors.txt">by MDN contributors</a></p><form class="language-menu"><fieldset id="select-language"><legend>Change your language</legend><label for="language-selector" class="visually-hidden">Select your preferred language</label> <select id="language-selector" name="language"><option selected="" value="es">Espa√±ol</option><option value="en-US">English (US)</option><option value="fr">Fran√ßais</option><option value="ja">Êó•Êú¨Ë™û</option><option value="ru">–†—É—Å—Å–∫–∏–π</option><option value="zh-CN">‰∏≠Êñá (ÁÆÄ‰Ωì)</option></select> <button type="submit" class="button minimal">Change language</button></fieldset></form></div></aside></main></div><footer id="nav-footer" class="page-footer"><div class="content-container"><div class="page-footer-logo"><a href="/es/" class="logo" aria-label="MDN Web Docs"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 451.74 135" fill="#fff"><path d="M7.14 8.35v111.06h111.05V8.35zm103.71 56c-.48.92-1 1.79-1.46 2.71a3.44 3.44 0 01-3.54 2 2.4 2.4 0 00-1.55.5c-1.37.9-2.76 1.79-4.18 2.63a7.33 7.33 0 01-6.35.34 29.71 29.71 0 00-10.63-2 11.7 11.7 0 00-9.46 4.31 14.84 14.84 0 00-2.13 4.29c-1.24 3.07-2.3 21.38-2.3 26.05 0 0-17.62-3.42-34.15-20.34l4.31-11.32h-13.5l9.76-10.35h-16.8l9.77-10.34H12.69L30.45 34a40.9 40.9 0 0119.77-10.83c7.1-1.22 8.93-.53 13.31.77l2.43.73.85.25 3.1.95a12.56 12.56 0 006.21.09 11.37 11.37 0 018.25 1 8.24 8.24 0 014.1 6.22 7.29 7.29 0 003.61 5.49 59.45 59.45 0 009.32 4.11c2.27.86 4.54 1.84 6.79 2.72a6.81 6.81 0 012.86 2.06 4.81 4.81 0 011.1 2.73c.14 2 .37 4 .47 6a15.24 15.24 0 01-1.77 8.03zM320.12 39.62a5.42 5.42 0 00-4.53 2.13 7.36 7.36 0 00-1.7 4.43v2.36a6.28 6.28 0 001.7 4.46 5.63 5.63 0 004.3 1.82 5.12 5.12 0 004.57-2.27A9.7 9.7 0 00326 47a8.11 8.11 0 00-1.67-5.52 5.36 5.36 0 00-4.21-1.86zM387.38 39.53a5.52 5.52 0 00-4.7 2.15 8.8 8.8 0 00-1.63 5.49 9.23 9.23 0 001.58 5.45 5.38 5.38 0 004.7 2.25 5.61 5.61 0 004.74-2.2 8.91 8.91 0 001.68-5.59 8.24 8.24 0 00-1.75-5.52 5.76 5.76 0 00-4.62-2.03zM299.47 41.35a4.34 4.34 0 00-4-1.92 4.55 4.55 0 00-3.89 1.73 8.37 8.37 0 00-1.58 4.17h10.48a6.3 6.3 0 00-1.01-3.98zM357.74 30.75H352v23.31h5.72q5.47 0 8.35-3t2.93-8.65q0-5.43-2.88-8.55t-8.38-3.11z"></path><path d="M121.55 8.35v70.8h323V8.35zm42.21 22.45h-4V54h3.68v3.73h-11.25V54h3.31V36.79h-.19l-9.63 19.12h-2.12l-10-19.4h-.19V54h3.45v3.73h-11.15V54h3.68V30.8h-4v-3.73H133l11.66 22.56h.19l11.18-22.56h7.7zm29.12 22.67q-4.11 4.28-11.38 4.28h-14.06v-3.69h3.73V30.75h-3.73v-3.68h13.83q7.59 0 11.66 4.29a15.4 15.4 0 014 11 15.33 15.33 0 01-4.05 11.11zm38.89-22.67h-3.68v27h-2.6L208.08 35h-.19v19h4.67v3.73h-12.22V54h3.49V30.8h-4v-3.73h7.08l16.9 22.09h.19V30.8h-4.58v-3.73h12.32zm43.8 27h-3.31l-7.83-23.18h-.19l-7.55 23.18h-3.35l-8.78-27h-2.65v-3.73H253v3.73h-3.87L255 50.71h.23l6.61-19.91H259v-3.73h11v3.73h-2.78l6.61 20.1h.23l5.43-20.1h-4.15v-3.73h11v3.73h-2.54zm26.71-1.51a9.66 9.66 0 01-6.42 2 10.2 10.2 0 01-7.41-2.74c-1.89-1.82-2.83-4.47-2.83-7.93a12.37 12.37 0 012.64-8.12 9 9 0 017.32-3.21 8.62 8.62 0 016.75 2.69 9.65 9.65 0 012.45 6.52 13.67 13.67 0 01-.28 2.69H290q.29 6.71 6.18 6.7a5.2 5.2 0 003.71-1.18 5.82 5.82 0 001.67-2.83l3.45.71a7.21 7.21 0 01-2.73 4.65zm25.77-1.63c-1.51 2.4-3.92 3.61-7.22 3.61s-5.84-1.29-7.22-3.87c0 .25-.1.82-.21 1.7s-.19 1.44-.22 1.7H309c.16-1 .31-2 .47-3.07a21.42 21.42 0 00.24-3.16v-23h-3.4v-3.3h7.55V40.9a9.76 9.76 0 012.67-3.28 7.33 7.33 0 014.74-1.4 8.48 8.48 0 016.5 2.78q2.55 2.74 2.55 7.74a14.6 14.6 0 01-2.27 7.87zm41.39-1.14q-4.11 4.28-11.37 4.28H344v-3.74h3.73V30.75H344v-3.68h13.83q7.59 0 11.66 4.29a15.41 15.41 0 014.06 11 15.34 15.34 0 01-4.11 11.11zm25.65 1.68a10.53 10.53 0 01-7.9 3.07 10 10 0 01-7.63-3 10.93 10.93 0 01-2.8-7.83 12.13 12.13 0 012.69-7.93q2.69-3.3 8-3.3t8 3.28a12 12 0 012.64 7.76 10.86 10.86 0 01-3 7.9zm22.61.57c-1.4 1.66-3.63 2.5-6.68 2.5a9.58 9.58 0 01-7.15-2.76q-2.72-2.76-2.71-7.91a12.25 12.25 0 012.69-8 9.17 9.17 0 017.5-3.28 15 15 0 013.82.48 10.37 10.37 0 013.5 1.65l.85 5.47-3.35.38-.76-3.54a8.07 8.07 0 00-4.11-1 4.9 4.9 0 00-4.39 2.15 9.93 9.93 0 00-1.41 5.55 8.9 8.9 0 001.5 5.38 5.23 5.23 0 004.44 2c2.92 0 4.67-1.7 5.23-5.1l3.5.71a10.34 10.34 0 01-2.47 5.27zm20.48.75a11.68 11.68 0 01-6.63 1.75 15.52 15.52 0 01-8.26-2.08L424 51l3.26.33-.1 2.74a7 7 0 002.06.66 12.63 12.63 0 002.19.19 8.68 8.68 0 003.66-.75 2.5 2.5 0 001.63-2.36 2.25 2.25 0 00-1.32-2.2 12.65 12.65 0 00-3.28-1 47.39 47.39 0 01-3.9-.82 7.5 7.5 0 01-3.25-1.7 4.67 4.67 0 01-1.33-3.66c0-2.36.88-4 2.62-4.91a12 12 0 015.6-1.37 15 15 0 014.08.55 16.65 16.65 0 013.47 1.39l.47 5.1-3.3.37-.48-3.3a9.5 9.5 0 00-4.06-.9 5.62 5.62 0 00-2.87.66 2.33 2.33 0 00-1.15 2.25 2.13 2.13 0 001.3 2.07 11.91 11.91 0 003.21.92 36.69 36.69 0 013.82.83 7.46 7.46 0 013.21 1.74 4.9 4.9 0 011.3 3.73 5.56 5.56 0 01-2.66 4.91z"></path><path d="M181.17 30.75h-5.71v23.31h5.71q5.47 0 8.36-3t2.88-8.61q0-5.43-2.88-8.55t-8.36-3.15zM121.63 119.32V81.74h114.91v37.58zM153.22 109h-2v-6.85a4.8 4.8 0 00-1.58-4 5.57 5.57 0 00-3.55-1.26 5 5 0 00-4.92 3.26 4.19 4.19 0 00-1.88-2.46 5.82 5.82 0 00-3-.8 4.89 4.89 0 00-4.56 2.56v-2.21h-6.28v3.26h2v8.5h-2v3.23h9.11V109h-2.86v-5.25a4.4 4.4 0 01.69-2.56 2.47 2.47 0 012.21-1q2.57 0 2.56 3.63v8.41h6.29V109h-2v-5.25a4.47 4.47 0 01.67-2.56 2.42 2.42 0 012.19-1q2.63 0 2.63 3.63v8.41h6.28zm9.88-12.07q-4 0-6 2.36a8.41 8.41 0 00-2 5.66 7.25 7.25 0 002.17 5.62 8 8 0 005.65 2 8.54 8.54 0 005.94-2.11 7.27 7.27 0 002.34-5.67 8.21 8.21 0 00-2-5.51q-2.07-2.34-6.1-2.34zm-.1 12.35a3 3 0 01-2.63-1.33 5.68 5.68 0 01-.9-3.26 5 5 0 011-3.28 3.23 3.23 0 012.61-1.18 3.5 3.5 0 012.59 1.08 4.56 4.56 0 011.07 3.31 5.21 5.21 0 01-1 3.41 3.33 3.33 0 01-2.74 1.25zm25-2.3l-3.39-.29-.7 2.32H179l8.32-9.54-.32-2.23h-13.19l-.53 5.25 3.16.34.67-2.36h4.65l-8.25 9.53.44 2.26h13.13zm7.62-9.74h-4.46v5.39h4.46zm0 9.61h-4.46v5.39h4.46zm13.54-17.49h-4.23l-6.48 22.88h4.22zm8.68 0h-4.23l-6.45 22.88h4.19zm15 22.51l-.07-2.26a1.22 1.22 0 01-.56.1c-.69 0-1-.39-1-1.16v-6.49a4.39 4.39 0 00-1.8-3.84 7 7 0 00-4.16-1.28 14.55 14.55 0 00-3.16.3 24.14 24.14 0 00-3.29 1.06l-.56 3.46 3.39.4.5-1.69a2.78 2.78 0 011.08-.37 11.3 11.3 0 011.25-.07c1.19 0 1.89.37 2.09 1.1a8.55 8.55 0 01.3 2.26v.5a8.91 8.91 0 00-1.18-.11h-1.21a12.64 12.64 0 00-4.81.88 3.53 3.53 0 00-2.18 3.64 3.66 3.66 0 001.48 3.33 5.63 5.63 0 003.11 1 4.67 4.67 0 003-.91 6.78 6.78 0 001.8-2 3 3 0 003.33 3 5.54 5.54 0 002.66-.85zm-9.25-2.32a1.69 1.69 0 01-1.36-.52 1.81 1.81 0 01-.43-1.21 1.67 1.67 0 01.86-1.68 4.63 4.63 0 012-.42 7.69 7.69 0 011.07.07l1.06.13a3.58 3.58 0 01-1.08 2.74 3.24 3.24 0 01-2.11.89z"></path></svg></a></div><ul class="link-list-mdn"><li><a href="/es/docs/Web">Web Technologies</a></li><li><a href="/es/docs/Learn">Learn Web Development</a></li><li><a href="/es/docs/MDN/About">About MDN</a></li><li><a href="/es/docs/MDN/Feedback">Feedback</a></li></ul><ul class="link-list-moz"><li><a href="https://www.mozilla.org/about/" target="_blank" rel="noopener noreferrer">About</a></li><li><a href="https://shop.spreadshirt.com/mdn-store/" target="_blank" rel="noopener noreferrer">MDN Web Docs Store</a></li><li><a href="https://www.mozilla.org/contact/" target="_blank" rel="noopener noreferrer">Contact Us</a></li><li><a href="https://www.mozilla.org/firefox/?utm_source=developer.mozilla.org&amp;utm_campaign=footer&amp;utm_medium=referral" target="_blank" rel="noopener noreferrer">Firefox</a></li></ul><div class="social social-mdn"><h4>MDN</h4><ul><li><a class="social-icon twitter" href="https://twitter.com/mozdevnet" target="_blank" rel="noopener noreferrer"><span class="visually-hidden">MDN on Twitter</span></a></li><li><a class="social-icon github" href="https://github.com/mdn/" target="_blank" rel="noopener noreferrer"><span class="visually-hidden">MDN on Github</span></a></li></ul></div><div class="social social-moz"><h4>Mozilla</h4><ul><li><a class="social-icon twitter" href="https://twitter.com/mozilla" target="_blank" rel="noopener noreferrer"><span class="visually-hidden">Mozilla on Twitter</span></a></li><li><a class="social-icon instagram" href="https://www.instagram.com/mozillagram/" target="_blank" rel="noopener noreferrer"><span class="visually-hidden">Mozilla on Instagram</span></a></li></ul></div><p id="license" class="footer-license">¬© 2005-<!-- -->2022<!-- --> Mozilla and individual contributors. Content is available under<!-- --> <a href="/docs/MDN/About#Copyrights_and_licenses">these licenses</a>.</p><ul class="footer-legal"><li><a href="https://www.mozilla.org/about/legal/terms/mozilla" target="_blank" rel="noopener noreferrer">Terms</a></li><li><a href="https://www.mozilla.org/privacy/websites/" target="_blank" rel="noopener noreferrer">Privacy</a></li><li><a href="https://www.mozilla.org/privacy/websites/#cookies" target="_blank" rel="noopener noreferrer">Cookies</a></li></ul></div></footer><div class="page-overlay hidden"></div></div><script type="application/json" id="hydration">{"doc":{"isMarkdown":false,"isTranslated":true,"isActive":true,"flaws":{},"title":"Uso de la Web Speech API","mdn_url":"/es/docs/Web/API/Web_Speech_API/Using_the_Web_Speech_API","locale":"es","native":"Espa√±ol","sidebarHTML":"","body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<p class=\"summary\">La API Web Speech API proporciona dos funcionalidades distintas ‚Äî reconocimiento de voz, y s√≠ntesis de voz (tambi√©n conocido como texto a voz o tts) ‚Äî lo que nos ofrece nuevas e interesantes posibilidades para accesibilidad y otros mecanismos. Este art√≠culo ofrece una breve introducci√≥n en las dos √°reas, as√≠ como unas demos.</p>"}},{"type":"prose","value":{"id":"reconocimiento_de_voz","title":"Reconocimiento de voz","isH3":false,"content":"<p>El reconocimiento de voz implica recibir voz a trav√©s del micr√≥fono de un dispositivo, luego es verificado por un servicio de reconocimiento de voz contra una lista de palabras o frases 'grammar' (esta lista b√°sicamente es el vocabulario a reconocer en una app particular). Cuando se reconoce con √©xito una palabra o frase, esta se devuelve como una cadena de texto y as√≠ poder iniciar otras acciones.</p>\n\n<p>La API Web Speech tiene una interfaz principal de control para el - <a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/SpeechRecognition\"><code>SpeechRecognition</code> <small>(en-US)</small></a> -, adem√°s de una serie de interfaces estrechamente relacionadas para representar la gram√°tica, los resultados, etc. Normalmente, el sistema de reconocimiento de voz predeterminado que dispone el dispositivo se utilizar√° para el reconocimiento de voz: la mayor√≠a de los sistemas operativos modernos tienen un sistema de reconocimiento de voz para emitir comandos de voz. Piense en Dictado en macOS, Siri en iOS, Cortana en Windows 10, Android Speech, etc.</p>\n\n<div class=\"note notecard\" id=\"sect1\">\n<p><strong>Note</strong>: En algunos navegadores como Chrome, el uso del reconocimiento de voz implica el uso de un motor de reconocimiento basado en un servidor. Tu audio se env√≠a a un servicio de reconocimiento web para ser procesado, por lo que no funcionar√° offline.</p>\n</div>"}},{"type":"prose","value":{"id":"demo","title":"Demo","isH3":true,"content":"<p>Para mostrar un uso sencillo del reconocimiento de voz Web, hemos escrito una demo llamada <a href=\"https://github.com/mdn/web-speech-api/tree/master/speech-color-changer\" class=\"external\" rel=\" noopener\">Speech color changer</a>. Cuando se toca o hace click en la pantalla, se puede decir un color HTML, y el color de fondo de la aplicaci√≥n cambiar√° a ese color.</p>\n\n<p><img alt=\"The UI of an app titled Speech Color changer. It invites the user to tap the screen and say a color, and then it turns the background of the app that colour. In this case it has turned the background red.\" src=\"https://mdn.mozillademos.org/files/11975/speech-color-changer.png\" style=\"border: 1px solid black; display: block; margin: 0px auto;\" loading=\"lazy\"></p>\n\n<p>Para ejecutar la demo, se puede clonar (o <a href=\"https://github.com/mdn/web-speech-api/archive/master.zip\" class=\"external\" rel=\" noopener\">directamente descargar</a>) el repositorio Github donde se encuentra, abrir el fichero index HTML en un navegador de escritorio compatible, o navegar a trav√©s del enlace <a href=\"https://mdn.github.io/web-speech-api/speech-color-changer/\" class=\"external\" rel=\" noopener\">live demo URL</a> en un navegador de m√≥vil compatible como Chrome.</p>"}},{"type":"prose","value":{"id":"compatibilidad_de_navegadores","title":"Compatibilidad de navegadores","isH3":true,"content":"<p>Actualmente, la compatibilidad de la Web Speech API para el reconocimiento de voz se limita a Chrome para escritorio y Android ‚Äî Chrome tiene soporte desde la versi√≥n 33 pero con interfaces 'prefixed', por lo que se deben incluir ese tipo de interfaces 'prefixed', por ejemplo <code>webkitSpeechRecognition</code>.</p>"}},{"type":"prose","value":{"id":"html_y_css","title":"HTML y CSS","isH3":true,"content":"<p>El HTML y el CSS para esta app no son importantes. Solo tenemos un t√≠tulo, instrucciones en un p√°rrafo, y un div dentro del cual visualizaremos los mensajes de diagn√≥sticos.</p>\n\n<div class=\"code-example\"><pre class=\"brush: html notranslate\"><code><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h1</span><span class=\"token punctuation\">&gt;</span></span>Speech color changer<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h1</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">&gt;</span></span>Tap/click then say a color to change the background color of the app.<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>output<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>em</span><span class=\"token punctuation\">&gt;</span></span>...diagnostic messages<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>em</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span></code></pre></div>\n\n<p>El CSS proporciona un estilo responsive muy simple para que se visualice bien en todos los dispositivos.</p>"}},{"type":"prose","value":{"id":"javascript","title":"JavaScript","isH3":true,"content":"<p>Miremos el JavaScript con un poco m√°s de detalle.</p>\n\n<h4 id=\"compatibilidad_con_chrome\">Compatibilidad con Chrome </h4>\n\n<p>Como se ha mencionado anteriormente, Chrome actualmente admite el reconocimiento de voz con propiedades 'prefixed', por lo tanto, al principio de nuestro c√≥digo incluiremos las siguientes l√≠neas para usar los objetos que correspondan a Chrome, y as√≠ cualquier implementaci√≥n en el futuro pueda admitir estas caracter√≠sticas sin ning√∫n 'prefixed':</p>\n\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">var</span> SpeechRecognition <span class=\"token operator\">=</span> SpeechRecognition <span class=\"token operator\">||</span> webkitSpeechRecognition\n<span class=\"token keyword\">var</span> SpeechGrammarList <span class=\"token operator\">=</span> SpeechGrammarList <span class=\"token operator\">||</span> webkitSpeechGrammarList\n<span class=\"token keyword\">var</span> SpeechRecognitionEvent <span class=\"token operator\">=</span> SpeechRecognitionEvent <span class=\"token operator\">||</span> webkitSpeechRecognitionEvent</code></pre></div>\n\n<h4 id=\"la_gram√°tica_-grammar-\">La gram√°tica -grammar-</h4>\n\n<p>Las siguientes l√≠neas de c√≥digo definen la gram√°tica que queremos que reconozca nuestra app. Se define una variable para contener nuestra gram√°tica:</p>\n\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">var</span> colors <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span> <span class=\"token string\">'aqua'</span> <span class=\"token punctuation\">,</span> <span class=\"token string\">'azure'</span> <span class=\"token punctuation\">,</span> <span class=\"token string\">'beige'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'bisque'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'black'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'blue'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'brown'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'chocolate'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'coral'</span> <span class=\"token operator\">...</span> <span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> grammar <span class=\"token operator\">=</span> <span class=\"token string\">'#JSGF V1.0; grammar colors; public &lt;color&gt; = '</span> <span class=\"token operator\">+</span> colors<span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span><span class=\"token string\">' | '</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">' ;'</span></code></pre></div>\n\n<p>El formato usado para 'grammar' es <a class=\"external external-icon\" href=\"https://www.w3.org/TR/jsgf/\" rel=\" noopener\">JSpeech Grammar Format</a> (<strong>JSGF</strong>) ‚Äî Se puede encontrar m√°s sobre las especificaciones de este formato en el anterior enlace. Sin embargo y por ahora vamos a echarle un vistazo r√°pidamente:</p>\n\n<ul>\n <li>Las l√≠neas se separan con punto y coma como en JavaScript.</li>\n <li>La primera l√≠nea ‚Äî <code>#JSGF V1.0;</code> ‚Äî establece el formato y versi√≥n utilizados. Esto siempre se debe incluir primero.</li>\n <li>La segunda l√≠nea indica el tipo de t√©rminos que queremos que se reconozcan. <code>public</code> declara que es una regla p√∫blica, la cadena entre los par√©ntesis angulares definen el nombre reconocido para √©ste t√©rmino (<code>color</code>), y la lista de elementos que siguen al signo igual son los valores alternativos que se reconocer√°n y aceptaran como valores apropiados al t√©rmino. Observar como cada elemento se separa con el car√°cter pipe ' | ' .</li>\n <li>Se pueden definir tantos t√©rminos como se desee en l√≠neas separadas siguiendo la estructura anterior, e incluir definiciones gramaticales complejas. Esta demostraci√≥n b√°sica la mantenemos lo m√°s simple posible.</li>\n</ul>\n\n<h4 id=\"conectando_la_gram√°tica_a_nuestro_reconocimiento_de_voz\">Conectando la gram√°tica a nuestro reconocimiento de voz</h4>\n\n<p>Lo siguiente que tenemos que hacer es definir una instancia de reconocimiento de voz para el control en nuestra aplicaci√≥n. Esto se hace usando el constructor <a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/SpeechRecognition/SpeechRecognition\"><code>SpeechRecognition()</code> <small>(en-US)</small></a>. Tambi√©n creamos una lista de gram√°tica de voz para contener nuestra gram√°tica usando el constructor <a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/SpeechGrammarList/SpeechGrammarList\"><code>SpeechGrammarList()</code> <small>(en-US)</small></a>.</p>\n\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">var</span> recognition <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">SpeechRecognition</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> speechRecognitionList <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">SpeechGrammarList</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n\n<p>A√±adimos nuestra  <code>grammar</code>  a la lista anterior usando el m√©todo <a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/SpeechGrammarList/addFromString\"><code>SpeechGrammarList.addFromString()</code> <small>(en-US)</small></a>. Este m√©todo acepta como par√°metro la cadena que queremos a√±adir, as√≠ como opcionalmente, un valor que especifique la importancia de esta gram√°tica en relaci√≥n a otras gram√°ticas disponibles en la lista (el rango del valor va desde 0 hasta 1 inclusive). La gram√°tica agregada est√° disponible en la lista como una instancia del objeto <a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/SpeechGrammar\"><code>SpeechGrammar</code> <small>(en-US)</small></a>.</p>\n\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code>speechRecognitionList<span class=\"token punctuation\">.</span><span class=\"token function\">addFromString</span><span class=\"token punctuation\">(</span>grammar<span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n\n<p>Despu√©s a√±adimos la lista <a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/SpeechGrammarList\"><code>SpeechGrammarList</code> <small>(en-US)</small></a> a la instancia del reconocimiento de voz estableci√©ndola en la propiedad <a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/SpeechRecognition/grammars\"><code>SpeechRecognition.grammars</code> <small>(en-US)</small></a>. Tambi√©n establecemos algunas otras propiedades a la instancia de reconocimiento antes de continuar:</p>\n\n<ul>\n <li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/SpeechRecognition/continuous\"><code>SpeechRecognition.continuous</code> <small>(en-US)</small></a>: Controla si se capturan los resultados de forma continua (<code>true</code>), o solo un resultado cada vez que se inicia el reconocimiento (<code>false</code>).</li>\n <li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/SpeechRecognition/lang\"><code>SpeechRecognition.lang</code> <small>(en-US)</small></a>: Establece el idioma del reconocimiento. Esto es una buena pr√°ctica y, por lo tanto, recomendable.</li>\n <li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/SpeechRecognition/interimResults\"><code>SpeechRecognition.interimResults</code> <small>(en-US)</small></a>: Define si el sistema de reconocimiento de voz debe devolver resultados provisionales o solo resultados finales. Para nuestra demo es suficiente con los resultados finales.</li>\n <li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/SpeechRecognition/maxAlternatives\"><code>SpeechRecognition.maxAlternatives</code> <small>(en-US)</small></a>:  Establece el n√∫mero de posibles coincidencias alternativas que se deben devolver por resultado. Esto a veces puede ser √∫til, por ejemplo, si un resultado no est√° completamente claro y desea mostrar una lista de alternativas para que el usuario elija la correcta. Esta opci√≥n no es necesaria para la demo, por lo que solo especificamos una (la cual es la predeterminada).</li>\n</ul>\n\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code>recognition<span class=\"token punctuation\">.</span>grammars <span class=\"token operator\">=</span> speechRecognitionList<span class=\"token punctuation\">;</span>\nrecognition<span class=\"token punctuation\">.</span>continuous <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\nrecognition<span class=\"token punctuation\">.</span>lang <span class=\"token operator\">=</span> <span class=\"token string\">'en-US'</span><span class=\"token punctuation\">;</span>\nrecognition<span class=\"token punctuation\">.</span>interimResults <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\nrecognition<span class=\"token punctuation\">.</span>maxAlternatives <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span></code></pre></div>\n\n<h4 id=\"comenzando_el_reconocimiento_de_voz\">Comenzando el reconocimiento de voz</h4>\n\n<p>Tomamos las referencias de la salida <a href=\"/es/docs/Web/HTML/Element/div\"><code>&lt;div&gt;</code></a> y del elemento HTML (para que podamos enviar mensajes de diagnostico y actualizar el color de fondo de la aplicaci√≥n m√°s adelante), e implementamos un manejador onclick para que cuando se haga click o se toque la pantalla, se inicie el reconocimiento de voz. Esto se logra llamando al m√©todo <a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/SpeechRecognition/start\"><code>SpeechRecognition.start()</code> <small>(en-US)</small></a>. El m√©todo <code>forEach()</code> se usa para visualizar indicadores de colores que muestran qu√© colores intenta decir.</p>\n\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">var</span> diagnostic <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.output'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> bg <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">'html'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> hints <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.hints'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">var</span> colorHTML<span class=\"token operator\">=</span> <span class=\"token string\">''</span><span class=\"token punctuation\">;</span>\ncolors<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">v<span class=\"token punctuation\">,</span> i<span class=\"token punctuation\">,</span> a</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>v<span class=\"token punctuation\">,</span> i<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  colorHTML <span class=\"token operator\">+=</span> <span class=\"token string\">'&lt;span style=\"background-color:'</span> <span class=\"token operator\">+</span> v <span class=\"token operator\">+</span> <span class=\"token string\">';\"&gt; '</span> <span class=\"token operator\">+</span> v <span class=\"token operator\">+</span> <span class=\"token string\">' &lt;/span&gt;'</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nhints<span class=\"token punctuation\">.</span>innerHTML <span class=\"token operator\">=</span> <span class=\"token string\">'Tap/click then say a color to change the background color of the app. Try '</span> <span class=\"token operator\">+</span> colorHTML <span class=\"token operator\">+</span> <span class=\"token string\">'.'</span><span class=\"token punctuation\">;</span>\n\ndocument<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onclick</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  recognition<span class=\"token punctuation\">.</span><span class=\"token function\">start</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Ready to receive a color command.'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n\n<h4 id=\"recepci√≥n_y_manejo_de_resultados\">Recepci√≥n y manejo de resultados</h4>\n\n<p>Una vez que comienza el reconocimiento de voz, hay muchos manejadores de eventos que se pueden usar para recuperar los resultados, as√≠ como otros elementos de informaci√≥n adicional (ver <a href=\"/en-US/docs/Web/API/SpeechRecognition#Event_handlers\"><code>SpeechRecognition</code> event handlers list</a>.) El m√°s com√∫n que probablemente usar√°s es <a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/SpeechRecognition/result_event\"><code>SpeechRecognition.onresult</code> <small>(en-US)</small></a>, el cual es lanzado cuando se recibe el resultado con √©xito:</p>\n\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code>recognition<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onresult</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">event</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">var</span> color <span class=\"token operator\">=</span> event<span class=\"token punctuation\">.</span>results<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>transcript<span class=\"token punctuation\">;</span>\n  diagnostic<span class=\"token punctuation\">.</span>textContent <span class=\"token operator\">=</span> <span class=\"token string\">'Result received: '</span> <span class=\"token operator\">+</span> color <span class=\"token operator\">+</span> <span class=\"token string\">'.'</span><span class=\"token punctuation\">;</span>\n  bg<span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">.</span>backgroundColor <span class=\"token operator\">=</span> color<span class=\"token punctuation\">;</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Confidence: '</span> <span class=\"token operator\">+</span> event<span class=\"token punctuation\">.</span>results<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>confidence<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n\n<p>La tercera l√≠nea es un poco m√°s compleja, as√≠ que vamos a explicarla paso a paso. La propiedad <a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/SpeechRecognitionEvent/results\"><code>SpeechRecognitionEvent.results</code> <small>(en-US)</small></a> devuelve un objeto <a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/SpeechRecognitionResultList\"><code>SpeechRecognitionResultList</code> <small>(en-US)</small></a> que contiene los objetos <a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/SpeechRecognitionResult\"><code>SpeechRecognitionResult</code> <small>(en-US)</small></a>. Tiene un getter para que pueda ser accesible como si fuera un array ‚Äî as√≠ el primer <code>[0]</code> devuelve el <code>SpeechRecognitionResult</code> en la posici√≥n 0. Cada objeto <code>SpeechRecognitionResult</code> contiene objetos <a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/SpeechRecognitionAlternative\"><code>SpeechRecognitionAlternative</code> <small>(en-US)</small></a> que contienen palabras individuales reconocidas. Estos tambi√©n tienen getters para que se puedan acceder a ellos como arrays ‚Äî por lo tanto el segundo <code>[0]</code> devuelve <code>SpeechRecognitionAlternative</code> en la posici√≥n 0. Luego devolvemos su propiedad <code>transcript</code> para obtener una cadena que contenga  el resultado individual reconocido como un string, estableciendo el color de fondo a ese color, e informando del color reconocido como un mensaje de diagn√≥stico en el IU.</p>\n\n<p>Tambi√©n usamos el manejador <a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/SpeechRecognition/speechend_event\"><code>SpeechRecognition.onspeechend</code> <small>(en-US)</small></a> para parar el servicio de reconocimiento de voz (usando <a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/SpeechRecognition/stop\"><code>SpeechRecognition.stop()</code> <small>(en-US)</small></a>) cuando se ha reconocido una sola palabra y se ha finalizado de hablar:</p>\n\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code>recognition<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onspeechend</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  recognition<span class=\"token punctuation\">.</span><span class=\"token function\">stop</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n\n<h4 id=\"manejo_de_errores_y_voz_no_reconocida\">Manejo de errores y voz no reconocida</h4>\n\n<p>Los dos √∫ltimos manejadores son para controlar los casos donde no se reconoce ninguna de las palabras definidas en la gram√°tica, o cuando ocurre un error. <a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/SpeechRecognition/nomatch_event\"><code>SpeechRecognition.onnomatch</code> <small>(en-US)</small></a> maneja el primer caso mencionado, pero tenga en cuenta que de momento no parece que se dispare correctamente; solo devuelve lo que ha reconocido:</p>\n\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code>recognition<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onnomatch</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">event</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  diagnostic<span class=\"token punctuation\">.</span>textContent <span class=\"token operator\">=</span> <span class=\"token string\">'I didnt recognise that color.'</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n\n<p><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/SpeechRecognition/error_event\"><code>SpeechRecognition.onerror</code> <small>(en-US)</small></a> maneja los casos donde se ha producido en error en el reconocimiento  ‚Äî la propiedad <a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/SpeechRecognitionErrorEvent/error\"><code>SpeechRecognitionError.error</code> <small>(en-US)</small></a> contiene el error devuelto:</p>\n\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code>recognition<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onerror</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">event</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  diagnostic<span class=\"token punctuation\">.</span>textContent <span class=\"token operator\">=</span> <span class=\"token string\">'Error occurred in recognition: '</span> <span class=\"token operator\">+</span> event<span class=\"token punctuation\">.</span>error<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>"}},{"type":"prose","value":{"id":"s√≠ntesis_de_voz","title":"S√≠ntesis de voz","isH3":false,"content":"<p>La s√≠ntesis de voz (tambi√©n  conocida como texto a voz o tts) implica recibir  contenido en forma de texto dentro de una aplicaci√≥n y convertirla en voz a trav√©s del altavoz del dispositivo o de la conexi√≥n de salida del audio.</p>\n\n<p>La Web Speech API tiene una interface principal controladora ‚Äî <a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/SpeechSynthesis\"><code>SpeechSynthesis</code> <small>(en-US)</small></a> ‚Äî adem√°s de una serie de interfaces estrechamente relacionadas para representar  el texto que se va a sintetizar (conocido como dictados 'utterances'), voces que se usar√°n para los dictados, etc. De nuevo, la mayor√≠a de sistemas operativos disponen de alg√∫n sistema de s√≠ntesis de voz que pueden ser√°n usados por la API si est√°n disponibles.</p>"}},{"type":"prose","value":{"id":"demo_2","title":"Demo","isH3":true,"content":"<p>Para mostrar un uso sencillo de la s√≠ntesis de voz Web, tenemos la demo llamada <a href=\"https://mdn.github.io/web-speech-api/speak-easy-synthesis/\" class=\"external\" rel=\" noopener\">Speak easy synthesis</a>. Esta incluye un juego de controles de formulario para introducir texto a sintetizar, configurar el tono, velocidad de reproducci√≥n y la voz a usar cuando el texto sea pronunciado.  Despu√©s de introducir el texto se puede presionar <kbd>Enter</kbd>/<kbd>Return</kbd> para escucharlo.</p>\n\n<p><img alt=\"UI of an app called speak easy synthesis. It has an input field in which to input text to be synthesised, slider controls to change the rate and pitch of the speech, and a drop down menu to choose between different voices.\" src=\"https://mdn.mozillademos.org/files/11977/speak-easy-synthesis.png\" style=\"border: 1px solid black; display: block; margin: 0px auto;\" loading=\"lazy\"></p>\n\n<p>Para ejecutar la demo, se puede clonar (o <a href=\"https://github.com/mdn/web-speech-api/archive/master.zip\" class=\"external\" rel=\" noopener\">directamente descargar</a>) el repositorio Github donde se encuentra, abrir el fichero index HTML en un navegador de escritorio compatible, o navegar a trav√©s del enlace <a href=\"https://mdn.github.io/web-speech-api/speech-color-changer/\" class=\"external\" rel=\" noopener\">live demo URL</a> en un navegador de m√≥vil compatible como Chrome.</p>"}},{"type":"prose","value":{"id":"compatibilidad_de_navegadores_2","title":"Compatibilidad de navegadores","isH3":true,"content":"<p>El soporte para la s√≠ntesis de voz Web Speech API solo ha llegado a los navegadores m√°s importantes  y actualmente se limita a los siguientes:</p>\n\n<ul>\n <li>\n  <p>Firefox para escritorio y dispositivos m√≥viles en Gecko 42+ (Windows)/44+, sin prefijos, y se puede activar configurando el flag <code>media.webspeech.synth.enabled</code> a <code>true</code> en <code>about:config</code>.</p>\n </li>\n <li>\n  <p>Firefox OS 2.5+ lo soporta por defecto y sin ser necesario ning√∫n permiso.</p>\n </li>\n <li>\n  <p>Chrome para escritorio y  Android tienen soporte desde la versi√≥n 33, sin prefijos.</p>\n </li>\n</ul>"}},{"type":"prose","value":{"id":"html_y_css_2","title":"HTML y CSS","isH3":true,"content":"<p>El HTML y CSS de nuevo no son fundamentales, simplemente contiene un titulo, algunas instrucciones de uso y un formulario con algunos controles sencillos. El elemento <a href=\"/es/docs/Web/HTML/Element/select\"><code>&lt;select&gt;</code></a> inicialmente est√° vac√≠o pero se rellena con <a href=\"/es/docs/Web/HTML/Element/option\"><code>&lt;option&gt;</code></a> mediante JavaScript (ver m√°s adelante.)</p>\n\n<div class=\"code-example\"><pre class=\"brush: html notranslate\"><code><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h1</span><span class=\"token punctuation\">&gt;</span></span>Speech synthesiser<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h1</span><span class=\"token punctuation\">&gt;</span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">&gt;</span></span>Enter some text in the input below and press return to hear it. change voices using the dropdown menu.<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">&gt;</span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>form</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>txt<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>label</span> <span class=\"token attr-name\">for</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>rate<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>Rate<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>label</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>range<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">min</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>0.5<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">max</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>2<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">value</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>1<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">step</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>0.1<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>rate<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>rate-value<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>1<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>clearfix<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>label</span> <span class=\"token attr-name\">for</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>pitch<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>Pitch<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>label</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>range<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">min</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>0<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">max</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>2<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">value</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>1<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">step</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>0.1<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>pitch<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>pitch-value<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>1<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>clearfix<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>select</span><span class=\"token punctuation\">&gt;</span></span>\n\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>select</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>form</span><span class=\"token punctuation\">&gt;</span></span></code></pre></div>"}},{"type":"prose","value":{"id":"javascript_2","title":"JavaScript","isH3":true,"content":"<p>Analicemos el JavaScript usado en esta app.</p>\n\n<h4 id=\"configurar_variables\">Configurar variables</h4>\n\n<p>En primer lugar, capturamos las referencias de todos los elementos DOM involucrados en la IU, pero lo m√°s importante es capturar una referencia a  <a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/Window/speechSynthesis\"><code>Window.speechSynthesis</code> <small>(en-US)</small></a>. Este es el punto de entrada a la API ‚Äî devuelve una instancia a <a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/SpeechSynthesis\"><code>SpeechSynthesis</code> <small>(en-US)</small></a>, la interface controladora para la s√≠ntesis de voz en la web.</p>\n\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">var</span> synth <span class=\"token operator\">=</span> window<span class=\"token punctuation\">.</span>speechSynthesis<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">var</span> inputForm <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">'form'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> inputTxt <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.txt'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> voiceSelect <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">'select'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">var</span> pitch <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">'#pitch'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> pitchValue <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.pitch-value'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> rate <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">'#rate'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> rateValue <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.rate-value'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">var</span> voices <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n\n<h4 id=\"rellenar_el_elemento_select\">Rellenar el elemento select </h4>\n\n<p>Para rellenar el elemento <a href=\"/es/docs/Web/HTML/Element/select\"><code>&lt;select&gt;</code></a> con las diferentes opciones de voz del que dispone el dispositivo, hemos escrito la funci√≥n <code>populateVoiceList()</code>. Primero invocamos <a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/SpeechSynthesis/getVoices\"><code>SpeechSynthesis.getVoices()</code> <small>(en-US)</small></a>, que devuelve una lista de todas las voces disponibles representadas por objetos <a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/SpeechSynthesisVoice\"><code>SpeechSynthesisVoice</code> <small>(en-US)</small></a>. Despu√©s recorremos esa lista ‚Äî para cada voz creamos un elemento <a href=\"/es/docs/Web/HTML/Element/option\"><code>&lt;option&gt;</code></a>, establecemos su contenido con el nombre de la voz (desde <a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/SpeechSynthesisVoice/name\"><code>SpeechSynthesisVoice.name</code> <small>(en-US)</small></a>), y el lenguaje de la misma (desde <a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/SpeechSynthesisVoice/lang\"><code>SpeechSynthesisVoice.lang</code> <small>(en-US)</small></a>), y <code>-- DEFAULT</code> si la voz es la predeterminada para el motor de s√≠ntesis (verificando si <a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/SpeechSynthesisVoice/default\"><code>SpeechSynthesisVoice.default</code> <small>(en-US)</small></a> devuelve <code>true</code>.)</p>\n\n<p>Para cada opci√≥n tambi√©n creamos atributos <code>data-</code>, conteniendo el nombre y lenguaje de la voz asociada, para que m√°s tarde podamos usarlos f√°cilmente, y despu√©s a√±adimos las opciones 'option' como hijos del select.</p>\n\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">function</span> <span class=\"token function\">populateVoiceList</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  voices <span class=\"token operator\">=</span> synth<span class=\"token punctuation\">.</span><span class=\"token function\">getVoices</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">for</span><span class=\"token punctuation\">(</span>i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> voices<span class=\"token punctuation\">.</span>length <span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">var</span> option <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">createElement</span><span class=\"token punctuation\">(</span><span class=\"token string\">'option'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    option<span class=\"token punctuation\">.</span>textContent <span class=\"token operator\">=</span> voices<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>name <span class=\"token operator\">+</span> <span class=\"token string\">' ('</span> <span class=\"token operator\">+</span> voices<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>lang <span class=\"token operator\">+</span> <span class=\"token string\">')'</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>voices<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>default<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      option<span class=\"token punctuation\">.</span>textContent <span class=\"token operator\">+=</span> <span class=\"token string\">' -- DEFAULT'</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    option<span class=\"token punctuation\">.</span><span class=\"token function\">setAttribute</span><span class=\"token punctuation\">(</span><span class=\"token string\">'data-lang'</span><span class=\"token punctuation\">,</span> voices<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>lang<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    option<span class=\"token punctuation\">.</span><span class=\"token function\">setAttribute</span><span class=\"token punctuation\">(</span><span class=\"token string\">'data-name'</span><span class=\"token punctuation\">,</span> voices<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    voiceSelect<span class=\"token punctuation\">.</span><span class=\"token function\">appendChild</span><span class=\"token punctuation\">(</span>option<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n\n<p>Cuando vamos a ejecutar la funci√≥n hacemos lo siguiente debido a que Firefox no soporta <a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/SpeechSynthesis/voiceschanged_event\"><code>SpeechSynthesis.onvoiceschanged</code> <small>(en-US)</small></a>, y s√≥lo devolver√° una lista de voces cuando se ejecute <a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/SpeechSynthesis/getVoices\"><code>SpeechSynthesis.getVoices()</code> <small>(en-US)</small></a>. Sin embargo con Chrome solo hay que esperar a que se active el evento antes de rellenar la lista, de ah√≠ la siguiente parte de c√≥digo.</p>\n\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token function\">populateVoiceList</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>speechSynthesis<span class=\"token punctuation\">.</span>onvoiceschanged <span class=\"token operator\">!==</span> <span class=\"token keyword\">undefined</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  speechSynthesis<span class=\"token punctuation\">.</span>onvoiceschanged <span class=\"token operator\">=</span> populateVoiceList<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n\n<h4 id=\"reproduciendo_el_texto_introducido\">Reproduciendo el texto introducido</h4>\n\n<p>A continuaci√≥n, creamos un manejador de eventos para comenzar a reproducir el texto introducido en el campo de texto. Usamos un manejador <a href=\"/en-US/docs/Web/API/HTMLFormElement/submit_event\">onsubmit</a> en el formulario para que la acci√≥n ocurra cuando se presione <kbd>Enter</kbd>/<kbd>Return</kbd>. Primero creamos una nueva instancia de  <a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/SpeechSynthesisUtterance/SpeechSynthesisUtterance\"><code>SpeechSynthesisUtterance()</code> <small>(en-US)</small></a> usando su constructor ‚Äî a este se le pasa el valor de la entrada de texto como par√°metro.</p>\n\n<p>A continuaci√≥n, debemos obtener la voz que queremos utilizar. Usamos la propiedad <a href=\"/es/docs/Web/API/HTMLSelectElement\"><code>HTMLSelectElement</code></a> <code>selectedOptions</code> para devolver el elemento seleccionado <a href=\"/es/docs/Web/HTML/Element/option\"><code>&lt;option&gt;</code></a>. Entonces usamos el atributo de este elemento <code>data-name</code>, encontrando el objeto <a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/SpeechSynthesisVoice\"><code>SpeechSynthesisVoice</code> <small>(en-US)</small></a> cuyo nombre coincida con el valor del atributo. Y configuramos la propiedad de <a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/SpeechSynthesisUtterance/voice\"><code>SpeechSynthesisUtterance.voice</code> <small>(en-US)</small></a> con el valor que coincida con la opci√≥n seleccionada.</p>\n\n<p>Por √∫ltimo, configuramos <a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/SpeechSynthesisUtterance/pitch\"><code>SpeechSynthesisUtterance.pitch</code> <small>(en-US)</small></a> y <a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/SpeechSynthesisUtterance/rate\"><code>SpeechSynthesisUtterance.rate</code> <small>(en-US)</small></a> con los valores de los elementos del formulario correspondientes. Entonces y ya configurado todo lo necesario, comenzamos la reproducci√≥n invocando  <a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/SpeechSynthesis/speak\"><code>SpeechSynthesis.speak()</code> <small>(en-US)</small></a>, y pas√°ndolo a la instancia <a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/SpeechSynthesisUtterance\"><code>SpeechSynthesisUtterance</code> <small>(en-US)</small></a> como par√°metro.</p>\n\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code>inputForm<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onsubmit</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">event</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  event<span class=\"token punctuation\">.</span><span class=\"token function\">preventDefault</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">var</span> utterThis <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">SpeechSynthesisUtterance</span><span class=\"token punctuation\">(</span>inputTxt<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">var</span> selectedOption <span class=\"token operator\">=</span> voiceSelect<span class=\"token punctuation\">.</span>selectedOptions<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">getAttribute</span><span class=\"token punctuation\">(</span><span class=\"token string\">'data-name'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">for</span><span class=\"token punctuation\">(</span>i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> voices<span class=\"token punctuation\">.</span>length <span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>voices<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>name <span class=\"token operator\">===</span> selectedOption<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      utterThis<span class=\"token punctuation\">.</span>voice <span class=\"token operator\">=</span> voices<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n  utterThis<span class=\"token punctuation\">.</span>pitch <span class=\"token operator\">=</span> pitch<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">;</span>\n  utterThis<span class=\"token punctuation\">.</span>rate <span class=\"token operator\">=</span> rate<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">;</span>\n  synth<span class=\"token punctuation\">.</span><span class=\"token function\">speak</span><span class=\"token punctuation\">(</span>utterThis<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n\n<p>Al final del manejador incluimos un manejador <a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/SpeechSynthesisUtterance/pause_event\"><code>SpeechSynthesisUtterance.onpause</code> <small>(en-US)</small></a> para mostrar c√≥mo usar <a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/SpeechSynthesisEvent\"><code>SpeechSynthesisEvent</code> <small>(en-US)</small></a>. Cuando se invoca a  <a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/SpeechSynthesis/pause\"><code>SpeechSynthesis.pause()</code> <small>(en-US)</small></a>,este devuelve un mensaje informando del n√∫mero y nombre del car√°cter en el que se detuvo la reproducci√≥n.</p>\n\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code>   utterThis<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onpause</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">event</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">var</span> char <span class=\"token operator\">=</span> event<span class=\"token punctuation\">.</span>utterance<span class=\"token punctuation\">.</span>text<span class=\"token punctuation\">.</span><span class=\"token function\">charAt</span><span class=\"token punctuation\">(</span>event<span class=\"token punctuation\">.</span>charIndex<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Speech paused at character '</span> <span class=\"token operator\">+</span> event<span class=\"token punctuation\">.</span>charIndex <span class=\"token operator\">+</span> <span class=\"token string\">' of \"'</span> <span class=\"token operator\">+</span>\n    event<span class=\"token punctuation\">.</span>utterance<span class=\"token punctuation\">.</span>text <span class=\"token operator\">+</span> <span class=\"token string\">'\", which is \"'</span> <span class=\"token operator\">+</span> char <span class=\"token operator\">+</span> <span class=\"token string\">'\".'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span></code></pre></div>\n\n<p>Por √∫ltimo, llamamos a <a href=\"/en-US/docs/Web/API/HTMLElement/blur\">blur()</a> en la entrada de texto. Esto permite ocultar la entrada de texto en Firefox OS.</p>\n\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code>  inputTxt<span class=\"token punctuation\">.</span><span class=\"token function\">blur</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n\n<h4 id=\"actualizando_los_valores_de_tono_y_velocidad_mostrados\">Actualizando los valores de tono y velocidad mostrados</h4>\n\n<p>La √∫ltima parte del c√≥digo simplemente actualiza los valores <code>pitch</code>/<code>rate</code> mostrados en la IU, cada vez que el slider cambia de posici√≥n.</p>\n\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code>pitch<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onchange</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  pitchValue<span class=\"token punctuation\">.</span>textContent <span class=\"token operator\">=</span> pitch<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\nrate<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onchange</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  rateValue<span class=\"token punctuation\">.</span>textContent <span class=\"token operator\">=</span> rate<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>"}}],"toc":[{"text":"Reconocimiento de voz","id":"reconocimiento_de_voz"},{"text":"S√≠ntesis de voz","id":"s√≠ntesis_de_voz"}],"summary":"La API Web Speech API proporciona dos funcionalidades distintas ‚Äî reconocimiento de voz, y s√≠ntesis de voz (tambi√©n conocido como texto a voz o tts) ‚Äî lo que nos ofrece nuevas e interesantes posibilidades para accesibilidad y otros mecanismos. Este art√≠culo ofrece una breve introducci√≥n en las dos √°reas, as√≠ como unas demos.","popularity":0.0008,"modified":"2022-10-01T03:41:16.000Z","other_translations":[{"title":"Using the Web Speech API","locale":"en-US","native":"English (US)"},{"title":"Utiliser l'API Web Speech","locale":"fr","native":"Fran√ßais"},{"title":"Web Speech API„Çí‰Ωø„ÅÜ","locale":"ja","native":"Êó•Êú¨Ë™û"},{"title":"–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ Web Speech API","locale":"ru","native":"–†—É—Å—Å–∫–∏–π"},{"title":"‰ΩøÁî® Web Speech API","locale":"zh-CN","native":"‰∏≠Êñá (ÁÆÄ‰Ωì)"}],"source":{"folder":"es/web/api/web_speech_api/using_the_web_speech_api","github_url":"https://github.com/mdn/translated-content/blob/main/files/es/web/api/web_speech_api/using_the_web_speech_api/index.html","last_commit_url":"https://github.com/mdn/translated-content/commit/921c46a374ab0a9f4cc809af0370f8c412e54701","filename":"index.html"},"parents":[{"uri":"/es/docs/Web","title":"Tecnolog√≠a para desarrolladores web"},{"uri":"/es/docs/Web/API","title":"Referencia de la API Web"},{"uri":"/es/docs/Web/API/Web_Speech_API","title":"Web Speech API"},{"uri":"/es/docs/Web/API/Web_Speech_API/Using_the_Web_Speech_API","title":"Uso de la Web Speech API"}],"pageTitle":"Uso de la Web Speech API - Referencia de la API Web | MDN","noIndexing":false}}</script></body></html>