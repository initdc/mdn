{"doc":{"isMarkdown":false,"isTranslated":true,"isActive":true,"flaws":{},"title":"IDBObjectStore.add","mdn_url":"/es/docs/Web/API/IDBObjectStore/add","locale":"es","native":"Español","sidebarHTML":"<ol><li><strong><a href=\"/es/docs/Web/API/IDBObjectStore\"><code>IDBObjectStore</code></a></strong></li><li class=\"toggle\"><details open=\"\"><summary>Propiedades</summary><ol><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/IDBObjectStore/autoIncrement\"><code>autoIncrement</code> <small>(en-US)</small></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/IDBObjectStore/indexNames\"><code>indexNames</code> <small>(en-US)</small></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/IDBObjectStore/keyPath\"><code>keyPath</code> <small>(en-US)</small></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/IDBObjectStore/name\"><code>name</code> <small>(en-US)</small></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/IDBObjectStore/transaction\"><code>transaction</code> <small>(en-US)</small></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>Métodos</summary><ol><li><em><code>add()</code></em></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/IDBObjectStore/clear\"><code>clear()</code> <small>(en-US)</small></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/IDBObjectStore/count\"><code>count()</code> <small>(en-US)</small></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/IDBObjectStore/createIndex\"><code>createIndex()</code> <small>(en-US)</small></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/IDBObjectStore/delete\"><code>delete()</code> <small>(en-US)</small></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/IDBObjectStore/deleteIndex\"><code>deleteIndex()</code> <small>(en-US)</small></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/IDBObjectStore/get\"><code>get()</code> <small>(en-US)</small></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/IDBObjectStore/getAll\"><code>getAll()</code> <small>(en-US)</small></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/IDBObjectStore/getAllKeys\"><code>getAllKeys()</code> <small>(en-US)</small></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/IDBObjectStore/getKey\"><code>getKey()</code> <small>(en-US)</small></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/IDBObjectStore/index\"><code>index()</code> <small>(en-US)</small></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/IDBObjectStore/openCursor\"><code>openCursor()</code> <small>(en-US)</small></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/IDBObjectStore/openKeyCursor\"><code>openKeyCursor()</code> <small>(en-US)</small></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/IDBObjectStore/put\"><code>put()</code> <small>(en-US)</small></a></li></ol></details></li></ol>","body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<p></p><p></p>\n<div id=\"sect1\">\n <p>El metodo <code>add()</code> de la interfaz <a href=\"/es/docs/Web/API/IDBObjectStore\"><code>IDBObjectStore</code></a> retorna un objeto <a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/IDBRequest\"><code>IDBRequest</code> <small>(en-US)</small></a>, y, un hilo separado, crea un <a href=\"https://www.whatwg.org/specs/web-apps/current-work/multipage/common-dom-interfaces.html#structured-clone\" class=\"external\" rel=\" noopener\">clone estructurado</a> del valor, y almacena el valor clonado en el almacén de objetos. Esto es para agregar nevos registros a un almacén de objetos.</p>\n <p>Para determinar si la operación de agregar fue completada satisfactoriamente, escucha el evento <code>complete</code> de la transaccion en adicion al evento <code>success</code> de la peticion <code>IDBojectStore.add</code>, porque la transaccion y todavía puede fallar después de lanzar el evento success. En otras palabras, el eventos success sólo es lanzado cuando la transacción ha sido puesta en cola satisfactoriamente.</p>\n <p>El método agregar es un método de <em>sólo inserción</em>. Si un registro ya existe en el almacén de objetos con el argumento <code>key</code> como su clave, entonces un error <code>ConstrainError</code> es lanzado en el objeto petición devuelto. Para actualizar registros existentes, debes usar el método <a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/IDBObjectStore/put\"><code>IDBObjectStore.put</code> <small>(en-US)</small></a> en su lugar.</p>\n</div>"}},{"type":"prose","value":{"id":"sintaxis","title":"Sintaxis","isH3":false,"content":"<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">var</span> request <span class=\"token operator\">=</span> objectStore<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>myItem<span class=\"token punctuation\">,</span> optionalKey<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>"}},{"type":"prose","value":{"id":"retorno","title":"Retorno","isH3":true,"content":"<p>Un objeto <span style=\"line-height: 1.5;\"><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/IDBRequest\"><code>IDBRequest</code> <small>(en-US)</small></a> en el que los eventos subsecuentes relacionados a esta operación son lanzados.</span></p>"}},{"type":"prose","value":{"id":"excepciones","title":"Excepciones","isH3":true,"content":"<p>Este método puede generar un <span style=\"line-height: 1.5;\"><a href=\"/es/docs/Web/API/DomException\"><code>DOMException</code></a></span> con un <span style=\"line-height: 1.5;\"><a href=\"/es/docs/Web/API/DOMError\"><code>DOMError</code></a></span> de uno de los siguiente tipos:</p>\n<table class=\"standard-table\">\n <thead>\n  <tr>\n   <th scope=\"col\">Excepción</th>\n   <th scope=\"col\">Descripción</th>\n  </tr>\n </thead>\n <tbody>\n  <tr>\n   <td><code>ReadOnlyError</code></td>\n   <td>La transacción asociada con esta operación está en un <a href=\"/en-US/docs/Web/API/IDBTransaction#mode_constants\" title=\"/en-US/docs/IndexedDB/IDBTransaction#mode_constants\">modo</a> de sólo lectura.</td>\n  </tr>\n  <tr>\n   <td><code>TransactionInactiveError</code></td>\n   <td>Esta transacción de <a href=\"/es/docs/Web/API/IDBObjectStore\"><code>IDBObjectStore</code></a>'s está inactiva.</td>\n  </tr>\n  <tr>\n   <td><code><span style=\"line-height: normal;\">DataError</span></code></td>\n   <td>\n    <p>Cualquiera de los siguientes condiciones aplica:</p>\n    <ul>\n     <li>El almacén de objetos usa llaves en línea o tiene un generador de llaves, y una argumento llave fue proporcionado.</li>\n     <li>El almacén de objetos usa llaves fuera de línea y no tiene un generador de llaves, y un argumento llave fue proporcionado.</li>\n     <li>El almacén de objetos usa llaves en línea pero no un generador de llaves, y la ruta de la llave del almacén de objetos no da una llave válida.</li>\n     <li>El argumento llave fue proporcionado pero no contiene una llave válida.</li>\n    </ul>\n   </td>\n  </tr>\n  <tr>\n   <td><code>InvalidStateError</code></td>\n   <td>El <a href=\"/es/docs/Web/API/IDBObjectStore\"><code>IDBObjectStore</code></a> ha sido borrado o removido.</td>\n  </tr>\n  <tr>\n   <td><code>DataCloneError</code></td>\n   <td>Los datos siendo almacenados no pueden ser clonados por el algoritmo de clonado estructurado interno.</td>\n  </tr>\n </tbody>\n</table>"}},{"type":"prose","value":{"id":"ejemplo","title":"Ejemplo","isH3":false,"content":"<p>En el siguiente código, abrimos una transacción read/write en nuestra base de datos y agregado algunos datos al almacén de datos usando <code>add()</code>. También ten en cuenta que las funciones adjuntas a los manejadores de eventos de la transacción para informar en la salida de la apertura de transacciones en el evento de éxito o falla. Para un ejemplo completo funcionando, mira nuestra aplicación <a href=\"https://github.com/mdn/to-do-notifications/\" style=\"line-height: 1.5;\" class=\"external\" rel=\" noopener\">To-do Notifications</a><span style=\"line-height: 1.5;\"> (</span><a href=\"https://mdn.github.io/to-do-notifications/\" style=\"line-height: 1.5;\" class=\"external\" rel=\" noopener\">ver ejemplo</a><span style=\"line-height: 1.5;\">)</span>.</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\" style=\"font-size: 14px;\"><code><span class=\"token comment\">// Abrimos nuestra base de datos</span>\n<span class=\"token keyword\">var</span> DBOpenRequest <span class=\"token operator\">=</span> window<span class=\"token punctuation\">.</span>indexedDB<span class=\"token punctuation\">.</span><span class=\"token function\">open</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"toDoList\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nDBOpenRequest<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onsuccess</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">event</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  note<span class=\"token punctuation\">.</span>innerHTML <span class=\"token operator\">+=</span> <span class=\"token string\">'&lt;li&gt;Database initialised.&lt;/li&gt;'</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// Almacenar el resultado de la apertura de la base de datos en la variable db. Esta es usada mucho después</span>\n  db <span class=\"token operator\">=</span> DBOpenRequest<span class=\"token punctuation\">.</span>result<span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// Ejecuta la función addData() para agregar los datos</span>\n  <span class=\"token function\">addData</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">addData</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// Crea un nuevo objeto listo para ser insertado en la IDB</span>\n  <span class=\"token keyword\">var</span> newItem <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">taskTitle</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Walk dog\"</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">hours</span><span class=\"token operator\">:</span> <span class=\"token number\">19</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">minutes</span><span class=\"token operator\">:</span> <span class=\"token number\">30</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">day</span><span class=\"token operator\">:</span> <span class=\"token number\">24</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">month</span><span class=\"token operator\">:</span> <span class=\"token string\">\"December\"</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">year</span><span class=\"token operator\">:</span> <span class=\"token number\">2013</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">notified</span><span class=\"token operator\">:</span> <span class=\"token string\">\"no\"</span> <span class=\"token punctuation\">}</span> <span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// Inicia una transacción de lectura/escritura db transaction, lista para agregar los datos</span>\n  <span class=\"token keyword\">var</span> transaction <span class=\"token operator\">=</span> db<span class=\"token punctuation\">.</span><span class=\"token function\">transaction</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"toDoList\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"readwrite\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// Informa sobre el éxito de la inicio de la transacción</span>\n  transaction<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">oncomplete</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">event</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    note<span class=\"token punctuation\">.</span>innerHTML <span class=\"token operator\">+=</span> <span class=\"token string\">'&lt;li&gt;Transaction completed: database modification finished.&lt;/li&gt;'</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n\n  transaction<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onerror</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">event</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  note<span class=\"token punctuation\">.</span>innerHTML <span class=\"token operator\">+=</span> <span class=\"token string\">'&lt;li&gt;Transaction not opened due to error. Duplicate items not allowed.&lt;/li&gt;'</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// Crea una almacén de objetos en la transacción</span>\n  <span class=\"token keyword\">var</span> objectStore <span class=\"token operator\">=</span> transaction<span class=\"token punctuation\">.</span><span class=\"token function\">objectStore</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"toDoList\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// Agrega nuestro objeto newItem al almacén de objetos</span>\n  <span class=\"token keyword\">var</span> objectStoreRequest <span class=\"token operator\">=</span> objectStore<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>newItem<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  objectStoreRequest<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onsuccess</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">event</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">//Informa sobre el éxito de nuestro nuevo elemento en la base de datos</span>\n    note<span class=\"token punctuation\">.</span>innerHTML <span class=\"token operator\">+=</span> <span class=\"token string\">'&lt;li&gt;New item added to database.&lt;/li&gt;'</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>"}},{"type":"prose","value":{"id":"parámetros","title":"Parámetros","isH3":false,"content":"<dl>\n <dt id=\"value\">\n  value</dt>\n <dd>\n  El valor para ser almacenado.</dd>\n <dt id=\"key\">\n  key</dt>\n <dd>\n  La llave a usar para identificar el registro. Si no es especificada, el resultado es nulo.</dd>\n</dl>"}},{"type":"prose","value":{"id":"especificación","title":"<span style=\"font-size: 2.14285714285714rem;\">Especificación</span>","isH3":false,"content":"<table class=\"standard-table\">\n <tbody>\n  <tr>\n   <th scope=\"col\">Especificación</th>\n   <th scope=\"col\">Estado</th>\n   <th scope=\"col\">Comentario</th>\n  </tr>\n  <tr>\n   <td><a href=\"https://www.w3.org/TR/IndexedDB/#widl-IDBObjectStore-add-IDBRequest-any-value-any-key\" hreflang=\"en\" lang=\"en\" class=\"external\" rel=\" noopener\">Indexed Database API 2.0<br><small lang=\"es\">La definición de 'add()' en esta especificación.</small></a></td>\n   <td><span class=\"spec-rec\">Recommendation</span></td>\n   <td> </td>\n  </tr>\n </tbody>\n</table>","titleAsText":"Especificación"}},{"type":"browser_compatibility","value":{"title":null,"id":null,"isH3":false,"query":"api.IDBObjectStore.add","dataURL":"/es/docs/Web/API/IDBObjectStore/add/bcd.json"}},{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<div id=\"sect2\">\n\n\n\n<ul>\n <li><a href=\"/en-US/docs/Web/API/IndexedDB_API/Using_IndexedDB\">Usando IndexedDB</a></li>\n <li>Iniciando transacciones: <a href=\"/es/docs/Web/API/IDBDatabase\"><code>IDBDatabase</code></a></li>\n <li>Usando transacciones: <a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/IDBTransaction\"><code>IDBTransaction</code> <small>(en-US)</small></a></li>\n <li>Estableciendo un rango de llaves: <a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/IDBKeyRange\"><code>IDBKeyRange</code> <small>(en-US)</small></a></li>\n <li>Obteniendo y haciendo cambios a tus datos: <a href=\"/es/docs/Web/API/IDBObjectStore\"><code>IDBObjectStore</code></a></li>\n <li>Usando cursores: <a href=\"/es/docs/Web/API/IDBCursor\"><code>IDBCursor</code></a></li>\n <li>Ejemplo de referencia: <a class=\"external\" href=\"https://github.com/mdn/to-do-notifications/tree/gh-pages\" rel=\" noopener\">To-do Notifications</a> (<a class=\"external\" href=\"https://mdn.github.io/to-do-notifications/\" rel=\" noopener\">ver ejemplo</a>.)</li>\n</ul>\n</div>"}}],"toc":[{"text":"Sintaxis","id":"sintaxis"},{"text":"Ejemplo","id":"ejemplo"},{"text":"Parámetros","id":"parámetros"},{"text":"<span style=\"font-size: 2.14285714285714rem;\">Especificación</span>","id":"especificación"}],"summary":"El metodo add() de la interfaz IDBObjectStore retorna un objeto IDBRequest (en-US), y, un hilo separado, crea un clone estructurado del valor, y almacena el valor clonado en el almacén de objetos. Esto es para agregar nevos registros a un almacén de objetos.","popularity":0,"modified":"2022-10-01T03:41:16.000Z","other_translations":[{"title":"IDBObjectStore.add()","locale":"en-US","native":"English (US)"},{"title":"IDBObjectStore.add()","locale":"fr","native":"Français"},{"title":"IDBObjectStore.add()","locale":"zh-CN","native":"中文 (简体)"}],"source":{"folder":"es/web/api/idbobjectstore/add","github_url":"https://github.com/mdn/translated-content/blob/main/files/es/web/api/idbobjectstore/add/index.html","last_commit_url":"https://github.com/mdn/translated-content/commit/921c46a374ab0a9f4cc809af0370f8c412e54701","filename":"index.html"},"parents":[{"uri":"/es/docs/Web","title":"Tecnología para desarrolladores web"},{"uri":"/es/docs/Web/API","title":"Referencia de la API Web"},{"uri":"/es/docs/Web/API/IDBObjectStore","title":"IDBObjectStore"},{"uri":"/es/docs/Web/API/IDBObjectStore/add","title":"IDBObjectStore.add"}],"pageTitle":"IDBObjectStore.add - Referencia de la API Web | MDN","noIndexing":false}}