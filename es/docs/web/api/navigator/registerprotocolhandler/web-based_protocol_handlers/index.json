{"doc":{"isMarkdown":false,"isTranslated":true,"isActive":true,"flaws":{},"title":"Controladores de protocolos basados en web","mdn_url":"/es/docs/Web/API/Navigator/registerProtocolHandler/Web-based_protocol_handlers","locale":"es","native":"Español","sidebarHTML":"","body":[{"type":"prose","value":{"id":"background","title":"Antecedentes","isH3":false,"content":"<p>Es bastante común encontrar enlaces de páginas web a recursos que no usan protocolos <code>http</code>. Un ejemplo es el protocolo <code>mailto:</code>:</p>\n\n<div style=\"overflow: hidden;\" id=\"sect1\">\n<div class=\"code-example\"><pre class=\"brush:html notranslate\"><code><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>mailto:webmaster@example.com<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>Web Master<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">&gt;</span></span></code></pre></div>\n</div>\n\n<p>Los autores de la Web pueden usar un enlace <code>mailto:</code> cuando quieren proporcionar una forma conveniente para que los usuarios envién un correo electrónico, directamente desde la página web. Cuando el enlace está activo, el navegador debería lanzar la aplicación de escritorio predeterminada para gestionar correos electrónicos. Se puede pensar en esto como un controlador de protocolos <em>basados en escritorio</em>.</p>\n\n<p>Los controladores de protocolos basados en web permiten a las aplicaciones basadas en web participar en el proceso también. <span id=\"result_box\" lang=\"es\"><span>Esto es cada vez más importante a medida que más tipos de aplicaciones migren a la web</span></span>. De hecho, hay muchas aplicaciones basadas en web que gestionan correo electrónicos podrían procesar un enlace <code>mailto</code>.</p>"}},{"type":"prose","value":{"id":"registering","title":"Registro","isH3":false,"content":"<p>Configurar una aplicación web como un controlador de protocolo no es un proceso difícil. Básicamente la aplicación web usa <code><a href=\"/en-US/docs/Web/API/Navigator/registerProtocolHandler\" title=\"DOM/window.navigator.registerProtocolHandler\">registerProtocolHandler()</a></code> para registrarse a sí mismo con el navegador como un controlador potencial para un protocolo dado. Por ejemplo:</p>\n\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code>navigator<span class=\"token punctuation\">.</span><span class=\"token function\">registerProtocolHandler</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"burger\"</span><span class=\"token punctuation\">,</span>\n                                  <span class=\"token string\">\"http://www.google.co.uk/?uri=%s\"</span><span class=\"token punctuation\">,</span>\n                                  <span class=\"token string\">\"Burger handler\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n\n<p>En donde los parámetros son:</p>\n\n<ul>\n <li>El protocolo.</li>\n <li>La plantilla de la URL, usada como el controlador. El \"%s\" es reemplazado con el <code>href</code> del enlace y una petición GET es ejecutada en la URL resultante.</li>\n <li>El nombre fácil de usar para el controlador del protocolo.</li>\n</ul>\n\n<p>Cuando un navegador ejecuta este código, se le mostrará un mensaje al usuario, pidiendo permiso para permitir a la aplicación web registrase como controlador para el protocolo. Firefox muestra un mensaje en el área de la barra de notificaciones:</p>\n\n<p><img alt=\"\" src=\"https://mdn.mozillademos.org/files/9683/protocolregister.png\" style=\"display: block; margin: 0px auto;\" loading=\"lazy\"></p>\n\n<div class=\"note notecard\" id=\"sect2\"><strong>Nota:</strong> La plantila de la URL proporcionada al registrar <strong>debe</strong> ser del mismo dominio que el de la página que intenta realizar el registro o el registro fallará. Por ejemplo, <code class=\"plain\">http://example.com/homepage.html</code> puede registrar un controlador de protocolo para <code class=\"plain\">http://example.com/handle_mailto/%s</code>, pero no para <code class=\"plain\">http://example.<em><strong>org</strong></em>/handle_mailto/%s</code>.</div>\n\n<p>Al registrar el mismo controlador de protocolo más de una vez aparecerá una notifiación diferente, indicando que el controlador del protocolo ya ha está registrado. Por lo tanto, es una buena idea cuidar el registro del controlador de protocolo con una verificación para saber si ya está registrado, como con el siguiente ejemplo.</p>"}},{"type":"prose","value":{"id":"example","title":"Ejemplo","isH3":true,"content":"<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token operator\">&lt;</span><span class=\"token operator\">!</span><span class=\"token constant\">DOCTYPE</span> <span class=\"token constant\">HTML</span> <span class=\"token constant\">PUBLIC</span> <span class=\"token string\">\"-//W3C//DTD HTML 4.01//EN\"</span><span class=\"token operator\">&gt;</span>\n<span class=\"token operator\">&lt;</span>html lang<span class=\"token operator\">=</span><span class=\"token string\">\"en\"</span><span class=\"token operator\">&gt;</span>\n<span class=\"token operator\">&lt;</span>head<span class=\"token operator\">&gt;</span>\n  <span class=\"token operator\">&lt;</span>title<span class=\"token operator\">&gt;</span>Ejemplo de Controlador de Protocolo Web <span class=\"token operator\">-</span> Registro<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>title<span class=\"token operator\">&gt;</span>\n  <span class=\"token operator\">&lt;</span>script type<span class=\"token operator\">=</span><span class=\"token string\">\"text/javascript\"</span><span class=\"token operator\">&gt;</span>\n    navigator<span class=\"token punctuation\">.</span><span class=\"token function\">registerProtocolHandler</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"burger\"</span><span class=\"token punctuation\">,</span>\n                                  <span class=\"token string\">\"http://www.google.co.uk/?uri=%s\"</span><span class=\"token punctuation\">,</span>\n                                  <span class=\"token string\">\"Burger handler\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>script<span class=\"token operator\">&gt;</span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>head<span class=\"token operator\">&gt;</span>\n<span class=\"token operator\">&lt;</span>body<span class=\"token operator\">&gt;</span>\n  <span class=\"token operator\">&lt;</span>h1<span class=\"token operator\">&gt;</span>Ejemplo de Controlador de Protocolo Web<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>h1<span class=\"token operator\">&gt;</span>\n  <span class=\"token operator\">&lt;</span>p<span class=\"token operator\">&gt;</span>Esta página web instalará un controlador de protocolo web para el protocolo <span class=\"token operator\">&lt;</span>code<span class=\"token operator\">&gt;</span>burger<span class=\"token operator\">:</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>code<span class=\"token operator\">&gt;</span><span class=\"token punctuation\">.</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>p<span class=\"token operator\">&gt;</span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>body<span class=\"token operator\">&gt;</span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>html<span class=\"token operator\">&gt;</span>\n</code></pre></div>"}},{"type":"prose","value":{"id":"activating","title":"Activando","isH3":false,"content":"<p>Ahora, cada vez que el usuario active un enlace que usa el protocolo registrado, el navegador enrutará la acción a la URL suministrada cuando la aplicación web se haya registrado. Firefox, de manera predeterminada, alertará al usaurio antes de controlar la acción.</p>"}},{"type":"prose","value":{"id":"example_2","title":"Ejemplo","isH3":true,"content":"<div class=\"code-example\"><pre class=\"brush: html notranslate\"><code><span class=\"token doctype\"><span class=\"token punctuation\">&lt;!</span><span class=\"token doctype-tag\">DOCTYPE</span> <span class=\"token name\">HTML</span> <span class=\"token name\">PUBLIC</span> <span class=\"token string\">\"-//W3C//DTD HTML 4.01//EN\"</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>html</span> <span class=\"token attr-name\">lang</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>en<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>head</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>title</span><span class=\"token punctuation\">&gt;</span></span>Ejemplo de Controlador de Protocolo Web - Prueba<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>title</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>head</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">&gt;</span></span>Oye ¿Has visto <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>burger:cheeseburger<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>esto<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">&gt;</span></span> antes?<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>html</span><span class=\"token punctuation\">&gt;</span></span>\n</code></pre></div>"}},{"type":"prose","value":{"id":"handling","title":"Controlando","isH3":false,"content":"<p>La siguiente fase es controlar la acción. El navgador extrae el <code>href</code> desde el enlace activado, lo combina con la plantilla de la URL suministrada durante el registro del controlador y realzia una petición HTTP GET sobre la URL. Luego, usando los ejemplos anteriores, el navegador realizará una petición GET sobre esta URL:</p>\n\n<pre class=\"notranslate\">http://www.google.co.uk/?uri=burger:cheeseburger\n</pre>\n\n<p>El código del lado del servidor puede extraer los parámetros de la cadena de petición y realizar la acción deseada.</p>\n\n<div class=\"note notecard\" id=\"sect3\"><strong>Nota:</strong> Al código del lado del servidor se le pasa todo el contenido del <code>href</code>.  Esto significa que el código del lado del servidor tendrá que analizar el protocolo desde los datos.</div>"}},{"type":"prose","value":{"id":"example_3","title":"Example","isH3":true,"content":"<div class=\"code-example\"><pre class=\"brush: php notranslate\"><code><span class=\"token php language-php\"><span class=\"token delimiter important\">&lt;?php</span>\n<span class=\"token variable\">$value</span> <span class=\"token operator\">=</span> <span class=\"token string double-quoted-string\">\"\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span> <span class=\"token keyword\">isset</span> <span class=\"token punctuation\">(</span> <span class=\"token variable\">$_GET</span><span class=\"token punctuation\">[</span><span class=\"token string double-quoted-string\">\"value\"</span><span class=\"token punctuation\">]</span> <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token variable\">$value</span> <span class=\"token operator\">=</span> <span class=\"token variable\">$_GET</span><span class=\"token punctuation\">[</span><span class=\"token string double-quoted-string\">\"value\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token delimiter important\">?&gt;</span></span>\n\n<span class=\"token doctype\"><span class=\"token punctuation\">&lt;!</span><span class=\"token doctype-tag\">DOCTYPE</span> <span class=\"token name\">html</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>html</span> <span class=\"token attr-name\">lang</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>en<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>head</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>title</span><span class=\"token punctuation\">&gt;</span></span>Ejemplo de Controlador de Protocolo Web<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>title</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>head</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h1</span><span class=\"token punctuation\">&gt;</span></span>Ejemplo de Controlador de Protocolo Web - Controlador<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h1</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">&gt;</span></span>Esta página es llamada al controlar una acción del protocolo <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>code</span><span class=\"token punctuation\">&gt;</span></span>burger:<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>code</span><span class=\"token punctuation\">&gt;</span></span>. Datos enviados:<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>textarea</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token php language-php\"><span class=\"token delimiter important\">&lt;?php</span> <span class=\"token keyword\">echo</span><span class=\"token punctuation\">(</span><span class=\"token function\">htmlspecialchars</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$value</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">ENT_QUOTES</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'UTF-8'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token delimiter important\">?&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>textarea</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>html</span><span class=\"token punctuation\">&gt;</span></span>\n</code></pre></div>"}},{"type":"prose","value":{"id":"references","title":"Referencias","isH3":false,"content":"<ul>\n <li><a href=\"https://www.w3.org/TR/2011/WD-html5-20110525/timers.html#custom-handlers\" class=\"external\" rel=\" noopener\">http://www.w3.org/TR/2011/WD-html5-20110525/timers.html#custom-handlers</a></li>\n</ul>"}},{"type":"prose","value":{"id":"see_also","title":"Véase también","isH3":false,"content":"<ul>\n <li><a href=\"/en-US/docs/DOM/window.navigator.registerContentHandler\" title=\"This is a link to an unwritten page\" class=\"page-not-created\">window.navigator.registerContentHandler</a></li>\n <li><a href=\"/en-US/docs/XPCOM_Interface_Reference/nsIProtocolHandler\" title=\"This is a link to an unwritten page\" class=\"page-not-created\">nsIProtocolHandler</a> (solamente XUL)</li>\n <li><a class=\"external\" href=\"https://blog.mozilla.com/webdev/2010/07/26/registerprotocolhandler-enhancing-the-federated-web/\" rel=\" noopener\">RegisterProtocolHandler, la mejora a la Web federada</a> en Mozilla Webdev</li>\n <li><a href=\"https://developers.google.com/web/updates/2011/06/Registering-a-custom-protocol-handler\" class=\"external\" rel=\" noopener\">Registrar un protocolHandler personalizado</a> en Google Developers.</li>\n</ul>"}}],"toc":[{"text":"Antecedentes","id":"background"},{"text":"Registro","id":"registering"},{"text":"Activando","id":"activating"},{"text":"Controlando","id":"handling"},{"text":"Referencias","id":"references"},{"text":"Véase también","id":"see_also"}],"summary":"Es bastante común encontrar enlaces de páginas web a recursos que no usan protocolos http. Un ejemplo es el protocolo mailto::","popularity":0,"modified":"2022-10-01T03:41:16.000Z","other_translations":[{"title":"Web-based protocol handlers","locale":"en-US","native":"English (US)"},{"title":"Gestionnaires de protocoles web","locale":"fr","native":"Français"},{"title":"ウェブベースのプロトコルハンドラー","locale":"ja","native":"日本語"},{"title":"Web-based protocol handlers","locale":"zh-CN","native":"中文 (简体)"},{"title":"Firefox 3 Web-based protocol handler","locale":"zh-TW","native":"正體中文 (繁體)"}],"source":{"folder":"es/web/api/navigator/registerprotocolhandler/web-based_protocol_handlers","github_url":"https://github.com/mdn/translated-content/blob/main/files/es/web/api/navigator/registerprotocolhandler/web-based_protocol_handlers/index.html","last_commit_url":"https://github.com/mdn/translated-content/commit/921c46a374ab0a9f4cc809af0370f8c412e54701","filename":"index.html"},"parents":[{"uri":"/es/docs/Web","title":"Tecnología para desarrolladores web"},{"uri":"/es/docs/Web/API","title":"Referencia de la API Web"},{"uri":"/es/docs/Web/API/Navigator","title":"Navigator"},{"uri":"/es/docs/Web/API/Navigator/registerProtocolHandler","title":"window.navigator.registerProtocolHandler"},{"uri":"/es/docs/Web/API/Navigator/registerProtocolHandler/Web-based_protocol_handlers","title":"Controladores de protocolos basados en web"}],"pageTitle":"Controladores de protocolos basados en web - Referencia de la API Web | MDN","noIndexing":false}}