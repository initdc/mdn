{"doc":{"isMarkdown":true,"isTranslated":true,"isActive":true,"flaws":{},"title":"DOM on-event 處理器","mdn_url":"/zh-TW/docs/Web/Events/Event_handlers","locale":"zh-TW","native":"正體中文 (繁體)","sidebarHTML":"","body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<p>Web 平台提供了多種獲得 <a href=\"/zh-TW/docs/Web/Events\">DOM 事件</a>通知的方式。兩種常見的風格為：通用的 <a href=\"/zh-TW/docs/Web/API/EventTarget/addEventListener\" title=\"addEventListener()\"><code>addEventListener()</code></a> 及一組特定的 <em><strong>on-event</strong></em> 處理器。本頁聚焦在後者如何運作的細節。</p>"}},{"type":"prose","value":{"id":"註冊_on-event_處理器","title":"註冊 <em>on-event</em> 處理器","isH3":true,"content":"<p><em><strong>on-event</strong></em> 處理器為一群由 DOM 元素提供的屬性（<a href=\"/zh-TW/docs/Glossary/property\">property</a>），用來協助管理元素要如何應對事件。元素可以是具互動性的（如：links、buttons、images、forms）或非互動性的（如頁面基礎 document）。事件為一個操作，像是點擊（clicked）、偵測按下按鍵（pressed keys）、取得焦點（focus）等。on-event 處理器通常是根據它被設計來應對的事件，例如 <code>onclick</code>、<code>onkeypress</code>、<code>onfocus</code> 等等。</p>\n<p>你可以使用兩種不同的方式來為一個物件的特定事件（例如：<code><a href=\"/zh-TW/docs/Web/API/Element/click_event\" title=\"/zh-TW/docs/Web/Reference/Events/click\">click</a></code>）指定一個 <code>on&lt;...&gt;</code> 事件處理器：</p>\n<ul>\n  <li>在元素上使用一個名稱為 <code>on{eventtype}</code> 的 HTML 標籤屬性（<a href=\"/zh-TW/docs/Glossary/Attribute\">attribute</a>），例如：</li>\n</ul>\n<p><code>&lt;button onclick=\"return handleClick(event);\"&gt;</code>,</p>\n<ul>\n  <li>或藉由設定相對應的 JavaScript 屬性（<a href=\"/zh-TW/docs/Glossary/property/JavaScript\">property</a>），例如：<code>document.getElementById(\"mybutton\").onclick = function(event) { ... }</code>.</li>\n</ul>\n<p>Note that each object can have <strong>only one</strong> <em>on-event</em> handler for a given event (though that handler could call multiple sub-handlers). This is why <a href=\"/zh-TW/docs/Web/API/EventTarget/addEventListener\" title=\"addEventListener()\"><code>addEventListener()</code></a> is often the better way to get notified of events, especially when wishing to apply various event handlers independently from each other, even for the same event and/or to the same element.</p>\n<p>Also note that <em>on-event</em> handlers are called automatically, not at the programmer's will (although you can, like <code>mybutton.onclick(myevent); )</code> since they serve more as placeholders to which a real handler function can be <strong>assigned</strong>.</p>","titleAsText":"註冊 on-event 處理器"}},{"type":"prose","value":{"id":"非元素物件","title":"非元素物件","isH3":true,"content":"<p>Event handlers can also be set using properties on many non-element objects that generate events, including <a href=\"/zh-TW/docs/Web/API/Window\"><code>window</code></a>, <a href=\"/zh-TW/docs/Web/API/Document\"><code>document</code></a>, <a href=\"/zh-TW/docs/Web/API/XMLHttpRequest\"><code>XMLHttpRequest</code></a>, and others, for example:</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code>xhr<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onprogress</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token operator\">...</span> <span class=\"token punctuation\">}</span>\n</code></pre></div>"}},{"type":"prose","value":{"id":"細節","title":"細節","isH3":false,"content":""}},{"type":"prose","value":{"id":"html_的_on..._屬性值及對應的_javascript_屬性","title":"HTML 的 on&lt;...&gt; 屬性值及對應的 JavaScript 屬性","isH3":true,"content":"<p>A handler registered via an <code>on&lt;...&gt;</code> attribute will be available via the corresponding <code>on&lt;...&gt;</code> property, but not the other way around:</p>\n<div class=\"code-example\"><pre class=\"brush: html notranslate\"><code><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>a<span class=\"token punctuation\">\"</span></span> <span class=\"token special-attr\"><span class=\"token attr-name\">onclick</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token value javascript language-javascript\"><span class=\"token function\">alert</span><span class=\"token punctuation\">(</span><span class=\"token string\">'old'</span><span class=\"token punctuation\">)</span></span><span class=\"token punctuation\">\"</span></span></span><span class=\"token punctuation\">&gt;</span></span>Open the Developer Tools Console to see the output.<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token script\"><span class=\"token language-javascript\">\nwindow<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onload</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">var</span> div <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"a\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Attribute reflected as a property: \"</span><span class=\"token punctuation\">,</span> div<span class=\"token punctuation\">.</span>onclick<span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token comment\">// Prints: function onclick(event) { alert('old') }</span>\n  div<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onclick</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span><span class=\"token string\">'new'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Changed property to: \"</span><span class=\"token punctuation\">,</span> div<span class=\"token punctuation\">.</span>onclick<span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token comment\">// Prints: function () { alert('new') }</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Attribute value is unchanged: \"</span><span class=\"token punctuation\">,</span> div<span class=\"token punctuation\">.</span><span class=\"token function\">getAttribute</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"onclick\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token comment\">// Prints: alert('old')</span>\n<span class=\"token punctuation\">}</span>\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">&gt;</span></span>\n</code></pre></div>\n<p>For historical reasons, some attributes/properties on the <a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/HTML/Element/body\"><code>&lt;body&gt;</code> <small>(en-US)</small></a> and <a href=\"/zh-TW/docs/Web/HTML/Element/frameset\"><code>&lt;frameset&gt;</code></a> elements actually set event handlers on their parent <a href=\"/zh-TW/docs/Web/API/Window\"><code>Window</code></a> object. (The HTML specification names these: <code>onblur</code>, <code>onerror</code>, <code>onfocus</code>, <code>onload</code>, <code>onscroll</code>.)</p>","titleAsText":"HTML 的 on<...> 屬性值及對應的 JavaScript 屬性"}},{"type":"prose","value":{"id":"事件處理器的參數、this_綁定及回傳值","title":"事件處理器的參數、<code>this</code> 綁定及回傳值","isH3":true,"content":"<p>當一個事件處理被定義成為一個 <strong>HTML</strong> 的屬性時，給定的程式碼會被包成一個具有下列參數的函式：</p>\n<ul>\n  <li><code>event</code> - 除了<a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/Window/error_event\"><code>onerror</code> <small>(en-US)</small></a>的事件以外，其他所有的事件都會有此參數。</li>\n  <li><code>event</code>, <code>source</code>, <code>lineno</code>, <code>colno</code>, 還有專為 <a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/Window/error_event\"><code>onerror</code> <small>(en-US)</small></a> 事件處理的 <code>error</code> 。請注意： <code>event</code> 參數實際上擁有以字串形式呈現的錯誤訊息。</li>\n</ul>\n<p>當事件處理函式被觸發時，處理函式中的關鍵字： <code>this</code> 被設定成為註冊這個事件處理函式的 DOM 元件。 請參閱 <a href=\"/zh-TW/docs/Web/JavaScript/Reference/Operators/this#in_an_in–line_event_handler\">this 關鍵字說明</a> 獲得更多細節。</p>\n<p>The return value from the handler determines if the event is canceled. The specific handling of the return value depends on the kind of event, for details see <a href=\"https://html.spec.whatwg.org/multipage/webappapis.html#the-event-handler-processing-algorithm\" class=\"external\" rel=\" noopener\">\"The event handler processing algorithm\" in the HTML specification</a>.</p>","titleAsText":"事件處理器的參數、this 綁定及回傳值"}},{"type":"prose","value":{"id":"當事件處理器被調用","title":"當事件處理器被調用","isH3":true,"content":"<p>TBD (non-capturing listener)</p>"}},{"type":"prose","value":{"id":"術語","title":"術語","isH3":true,"content":"<p>The term <strong>event handler</strong> may be used to refer to:</p>\n<ul>\n  <li>any function or object registered to be notified of events,</li>\n  <li>or, more specifically, to the mechanism of registering event listeners via <code>on...</code> attributes in HTML or properties in web APIs, such as <code>&lt;button onclick=\"alert(this)\"&gt;</code> or <code>window.onload = function() { /* ... */ }</code>.</li>\n</ul>\n<p>When discussing the various methods of listening to events,</p>\n<ul>\n  <li><strong>event listener</strong> refers to a function or object registered via <a href=\"/zh-TW/docs/Web/API/EventTarget/addEventListener\"><code>EventTarget.addEventListener()</code></a>,</li>\n  <li>whereas <strong>event handler</strong> refers to a function registered via <code>on...</code> attributes or properties.</li>\n</ul>"}},{"type":"prose","value":{"id":"規格","title":"規格","isH3":false,"content":"{{Specifications}}"}},{"type":"prose","value":{"id":"瀏覽器相容性","title":"瀏覽器相容性","isH3":false,"content":"{{Compat}}"}},{"type":"prose","value":{"id":"event_handler_changes_in_firefox_9","title":"Event handler changes in Firefox 9","isH3":true,"content":"<p>In order to better match the specifications, and improve cross-browser compatibility, the way event handlers were implemented at a fundamental level changed in Gecko 9.0 (Firefox 9.0 / Thunderbird 9.0 / SeaMonkey 2.6).</p>\n<p>Specifically, in the past, event handlers were not correctly implemented as standard IDL attributes. In Gecko 9.0, this was changed. Because of this, certain behaviors of event handlers in Gecko have changed. In particular, they now behave in all the ways standard IDL attributes behave. In most cases, this shouldn't affect web or add-on content at all; however, there are a few specific things to watch out for.</p>\n<h4 id=\"detecting_the_presence_of_event_handler_properties\">Detecting the presence of event handler properties</h4>\n<p>You can now detect the presence of an event handler property (that is, for example, <code>onload</code>), using the JavaScript <a href=\"/zh-TW/docs/JavaScript/Reference/Operators/in\"><code>in</code></a> operator. For example:</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token string\">\"onsomenewfeature\"</span> <span class=\"token keyword\">in</span> window<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">/* do something amazing */</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<h4 id=\"event_handlers_and_prototypes\">Event handlers and prototypes</h4>\n<p>You can't set or access the values of any IDL-defined attributes on DOM prototype objects; that means you can't, for example, change <code>Window.prototype.onload</code> anymore. In the past, event handlers (<code>onload</code>, etc.) weren't implemented as IDL attributes in Gecko, so you were able to do this for those. Now you can't. This improves compatibility.</p>"}}],"toc":[{"text":"細節","id":"細節"},{"text":"規格","id":"規格"},{"text":"瀏覽器相容性","id":"瀏覽器相容性"}],"summary":"Web 平台提供了多種獲得 DOM 事件通知的方式。兩種常見的風格為：通用的 addEventListener() 及一組特定的 on-event 處理器。本頁聚焦在後者如何運作的細節。","popularity":0,"modified":"2022-10-01T03:41:16.000Z","other_translations":[{"title":"Event handling (overview)","locale":"en-US","native":"English (US)"},{"title":"イベントの扱い (概要)","locale":"ja","native":"日本語"}],"source":{"folder":"zh-tw/web/events/event_handlers","github_url":"https://github.com/mdn/translated-content/blob/main/files/zh-tw/web/events/event_handlers/index.md","last_commit_url":"https://github.com/mdn/translated-content/commit/921c46a374ab0a9f4cc809af0370f8c412e54701","filename":"index.md"},"parents":[{"uri":"/zh-TW/docs/Web","title":"給開發者的網頁技術文件"},{"uri":"/zh-TW/docs/Web/Events","title":"Event reference"},{"uri":"/zh-TW/docs/Web/Events/Event_handlers","title":"DOM on-event 處理器"}],"pageTitle":"DOM on-event 處理器 - Event reference | MDN","noIndexing":false}}