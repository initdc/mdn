<!DOCTYPE html><html lang="en-US" prefix="og: https://ogp.me/ns#"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="icon" href="/favicon-48x48.97046865.png"><link rel="apple-touch-icon" href="/apple-touch-icon.0ea0fa02.png"><meta name="theme-color" content="#ffffff"><link rel="manifest" href="/manifest.56b1cedc.json"><link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" title="MDN Web Docs"><script>Array.prototype.flat&&Array.prototype.includes||document.write('<script src="https://polyfill.io/v3/polyfill.min.js?features=Array.prototype.flat%2Ces6"><\/script>')</script><title>å…¥é–€ç¯‡ - Web é–‹ç™¼è€…æŒ‡å¼• | MDN</title><link rel="preload" as="font" type="font/woff2" crossorigin="" href="/static/media/ZillaSlab-Bold.subset.0beac26b.woff2"><link rel="alternate" title="å…¥é–€ç¯‡" href="https://developer.mozilla.org/zh-TW/docs/Web/Guide/AJAX/Getting_Started" hreflang="zh-TW"><link rel="alternate" title="Getting Started" href="https://developer.mozilla.org/zh-CN/docs/Web/Guide/AJAX/Getting_Started" hreflang="zh"><link rel="alternate" title="Ğ¡ Ñ‡ĞµĞ³Ğ¾ Ğ½Ğ°Ñ‡Ğ°Ñ‚ÑŒ" href="https://developer.mozilla.org/ru/docs/Web/Guide/AJAX/Getting_Started" hreflang="ru"><link rel="alternate" title="Primeiros passos" href="https://developer.mozilla.org/pt-BR/docs/Web/Guide/AJAX/Getting_Started" hreflang="pt"><link rel="alternate" title="Ajax ì‹œì‘í•˜ê¸°" href="https://developer.mozilla.org/ko/docs/Web/Guide/AJAX/Getting_Started" hreflang="ko"><link rel="alternate" title="å§‹ã‚ã¾ã—ã‚‡ã†" href="https://developer.mozilla.org/ja/docs/Web/Guide/AJAX/Getting_Started" hreflang="ja"><link rel="alternate" title="Premiers pas" href="https://developer.mozilla.org/fr/docs/Web/Guide/AJAX/Getting_Started" hreflang="fr"><link rel="alternate" title="Primeros Pasos" href="https://developer.mozilla.org/es/docs/Web/Guide/AJAX/Getting_Started" hreflang="es"><link rel="alternate" title="Getting Started" href="https://developer.mozilla.org/en-US/docs/Web/Guide/AJAX/Getting_Started" hreflang="en"><meta name="description" content="é€™ç¯‡æ–‡ç« èªªæ˜ AJAX ç›¸é—œæŠ€è¡“çš„åŸºç¤ï¼Œä¸¦æä¾›å…©å€‹ç°¡å–®çš„å¯¦éš›æ“ä½œç¯„ä¾‹ä¾›æ‚¨å…¥é–€ã€‚"><meta property="og:url" content="https://developer.mozilla.org/zh-TW/docs/Web/Guide/AJAX/Getting_Started"><meta property="og:title" content="å…¥é–€ç¯‡ - Web é–‹ç™¼è€…æŒ‡å¼• | MDN"><meta property="og:description" content="é€™ç¯‡æ–‡ç« èªªæ˜ AJAX ç›¸é—œæŠ€è¡“çš„åŸºç¤ï¼Œä¸¦æä¾›å…©å€‹ç°¡å–®çš„å¯¦éš›æ“ä½œç¯„ä¾‹ä¾›æ‚¨å…¥é–€ã€‚"><meta property="og:locale" content="zh-TW"><meta property="og:image" content="https://developer.mozilla.org/mdn-social-share.0ca9dbda.png"><meta property="twitter:card" content="summary_large_image"><meta name="robots" content="index, follow"><link rel="canonical" href="https://developer.mozilla.org/zh-TW/docs/Web/Guide/AJAX/Getting_Started"><style media="print">.breadcrumbs-container,.document-toc-container,.language-menu,.language-toggle,.on-github,.page-footer,.page-header-main,nav.sidebar,ul.prev-next{display:none!important}.main-page-content,.main-page-content pre{padding:2px}.main-page-content pre{border-left-width:2px}</style><link href="/static/css/main.55b68e13.chunk.css" rel="stylesheet"><script src="/static/js/runtime-main.4bb4c356.js" defer=""></script><script src="/static/js/4.a756dea3.chunk.js" defer=""></script><script src="/static/js/main.d4d565e0.chunk.js" defer=""></script></head><body><div id="root"><ul id="nav-access" class="a11y-nav"><li><a id="skip-main" href="#content">Skip to main content</a></li><li><a id="skip-search" href="#main-q">Skip to search</a></li><li><a id="skip-select-language" href="#select-language">Skip to select language</a></li></ul><div class="page-wrapper document-page"><header class="page-header"><a href="/zh-TW/" class="logo" aria-label="MDN Web Docs"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 451.74 135"><path d="M7.14 8.35v111.06h111.05V8.35zm103.71 56c-.48.92-1 1.79-1.46 2.71a3.44 3.44 0 01-3.54 2 2.4 2.4 0 00-1.55.5c-1.37.9-2.76 1.79-4.18 2.63a7.33 7.33 0 01-6.35.34 29.71 29.71 0 00-10.63-2 11.7 11.7 0 00-9.46 4.31 14.84 14.84 0 00-2.13 4.29c-1.24 3.07-2.3 21.38-2.3 26.05 0 0-17.62-3.42-34.15-20.34l4.31-11.32h-13.5l9.76-10.35h-16.8l9.77-10.34H12.69L30.45 34a40.9 40.9 0 0119.77-10.83c7.1-1.22 8.93-.53 13.31.77l2.43.73.85.25 3.1.95a12.56 12.56 0 006.21.09 11.37 11.37 0 018.25 1 8.24 8.24 0 014.1 6.22 7.29 7.29 0 003.61 5.49 59.45 59.45 0 009.32 4.11c2.27.86 4.54 1.84 6.79 2.72a6.81 6.81 0 012.86 2.06 4.81 4.81 0 011.1 2.73c.14 2 .37 4 .47 6a15.24 15.24 0 01-1.77 8.03zM320.12 39.62a5.42 5.42 0 00-4.53 2.13 7.36 7.36 0 00-1.7 4.43v2.36a6.28 6.28 0 001.7 4.46 5.63 5.63 0 004.3 1.82 5.12 5.12 0 004.57-2.27A9.7 9.7 0 00326 47a8.11 8.11 0 00-1.67-5.52 5.36 5.36 0 00-4.21-1.86zM387.38 39.53a5.52 5.52 0 00-4.7 2.15 8.8 8.8 0 00-1.63 5.49 9.23 9.23 0 001.58 5.45 5.38 5.38 0 004.7 2.25 5.61 5.61 0 004.74-2.2 8.91 8.91 0 001.68-5.59 8.24 8.24 0 00-1.75-5.52 5.76 5.76 0 00-4.62-2.03zM299.47 41.35a4.34 4.34 0 00-4-1.92 4.55 4.55 0 00-3.89 1.73 8.37 8.37 0 00-1.58 4.17h10.48a6.3 6.3 0 00-1.01-3.98zM357.74 30.75H352v23.31h5.72q5.47 0 8.35-3t2.93-8.65q0-5.43-2.88-8.55t-8.38-3.11z"></path><path d="M121.55 8.35v70.8h323V8.35zm42.21 22.45h-4V54h3.68v3.73h-11.25V54h3.31V36.79h-.19l-9.63 19.12h-2.12l-10-19.4h-.19V54h3.45v3.73h-11.15V54h3.68V30.8h-4v-3.73H133l11.66 22.56h.19l11.18-22.56h7.7zm29.12 22.67q-4.11 4.28-11.38 4.28h-14.06v-3.69h3.73V30.75h-3.73v-3.68h13.83q7.59 0 11.66 4.29a15.4 15.4 0 014 11 15.33 15.33 0 01-4.05 11.11zm38.89-22.67h-3.68v27h-2.6L208.08 35h-.19v19h4.67v3.73h-12.22V54h3.49V30.8h-4v-3.73h7.08l16.9 22.09h.19V30.8h-4.58v-3.73h12.32zm43.8 27h-3.31l-7.83-23.18h-.19l-7.55 23.18h-3.35l-8.78-27h-2.65v-3.73H253v3.73h-3.87L255 50.71h.23l6.61-19.91H259v-3.73h11v3.73h-2.78l6.61 20.1h.23l5.43-20.1h-4.15v-3.73h11v3.73h-2.54zm26.71-1.51a9.66 9.66 0 01-6.42 2 10.2 10.2 0 01-7.41-2.74c-1.89-1.82-2.83-4.47-2.83-7.93a12.37 12.37 0 012.64-8.12 9 9 0 017.32-3.21 8.62 8.62 0 016.75 2.69 9.65 9.65 0 012.45 6.52 13.67 13.67 0 01-.28 2.69H290q.29 6.71 6.18 6.7a5.2 5.2 0 003.71-1.18 5.82 5.82 0 001.67-2.83l3.45.71a7.21 7.21 0 01-2.73 4.65zm25.77-1.63c-1.51 2.4-3.92 3.61-7.22 3.61s-5.84-1.29-7.22-3.87c0 .25-.1.82-.21 1.7s-.19 1.44-.22 1.7H309c.16-1 .31-2 .47-3.07a21.42 21.42 0 00.24-3.16v-23h-3.4v-3.3h7.55V40.9a9.76 9.76 0 012.67-3.28 7.33 7.33 0 014.74-1.4 8.48 8.48 0 016.5 2.78q2.55 2.74 2.55 7.74a14.6 14.6 0 01-2.27 7.87zm41.39-1.14q-4.11 4.28-11.37 4.28H344v-3.74h3.73V30.75H344v-3.68h13.83q7.59 0 11.66 4.29a15.41 15.41 0 014.06 11 15.34 15.34 0 01-4.11 11.11zm25.65 1.68a10.53 10.53 0 01-7.9 3.07 10 10 0 01-7.63-3 10.93 10.93 0 01-2.8-7.83 12.13 12.13 0 012.69-7.93q2.69-3.3 8-3.3t8 3.28a12 12 0 012.64 7.76 10.86 10.86 0 01-3 7.9zm22.61.57c-1.4 1.66-3.63 2.5-6.68 2.5a9.58 9.58 0 01-7.15-2.76q-2.72-2.76-2.71-7.91a12.25 12.25 0 012.69-8 9.17 9.17 0 017.5-3.28 15 15 0 013.82.48 10.37 10.37 0 013.5 1.65l.85 5.47-3.35.38-.76-3.54a8.07 8.07 0 00-4.11-1 4.9 4.9 0 00-4.39 2.15 9.93 9.93 0 00-1.41 5.55 8.9 8.9 0 001.5 5.38 5.23 5.23 0 004.44 2c2.92 0 4.67-1.7 5.23-5.1l3.5.71a10.34 10.34 0 01-2.47 5.27zm20.48.75a11.68 11.68 0 01-6.63 1.75 15.52 15.52 0 01-8.26-2.08L424 51l3.26.33-.1 2.74a7 7 0 002.06.66 12.63 12.63 0 002.19.19 8.68 8.68 0 003.66-.75 2.5 2.5 0 001.63-2.36 2.25 2.25 0 00-1.32-2.2 12.65 12.65 0 00-3.28-1 47.39 47.39 0 01-3.9-.82 7.5 7.5 0 01-3.25-1.7 4.67 4.67 0 01-1.33-3.66c0-2.36.88-4 2.62-4.91a12 12 0 015.6-1.37 15 15 0 014.08.55 16.65 16.65 0 013.47 1.39l.47 5.1-3.3.37-.48-3.3a9.5 9.5 0 00-4.06-.9 5.62 5.62 0 00-2.87.66 2.33 2.33 0 00-1.15 2.25 2.13 2.13 0 001.3 2.07 11.91 11.91 0 003.21.92 36.69 36.69 0 013.82.83 7.46 7.46 0 013.21 1.74 4.9 4.9 0 011.3 3.73 5.56 5.56 0 01-2.66 4.91z"></path><path d="M181.17 30.75h-5.71v23.31h5.71q5.47 0 8.36-3t2.88-8.61q0-5.43-2.88-8.55t-8.36-3.15zM121.63 119.32V81.74h114.91v37.58zM153.22 109h-2v-6.85a4.8 4.8 0 00-1.58-4 5.57 5.57 0 00-3.55-1.26 5 5 0 00-4.92 3.26 4.19 4.19 0 00-1.88-2.46 5.82 5.82 0 00-3-.8 4.89 4.89 0 00-4.56 2.56v-2.21h-6.28v3.26h2v8.5h-2v3.23h9.11V109h-2.86v-5.25a4.4 4.4 0 01.69-2.56 2.47 2.47 0 012.21-1q2.57 0 2.56 3.63v8.41h6.29V109h-2v-5.25a4.47 4.47 0 01.67-2.56 2.42 2.42 0 012.19-1q2.63 0 2.63 3.63v8.41h6.28zm9.88-12.07q-4 0-6 2.36a8.41 8.41 0 00-2 5.66 7.25 7.25 0 002.17 5.62 8 8 0 005.65 2 8.54 8.54 0 005.94-2.11 7.27 7.27 0 002.34-5.67 8.21 8.21 0 00-2-5.51q-2.07-2.34-6.1-2.34zm-.1 12.35a3 3 0 01-2.63-1.33 5.68 5.68 0 01-.9-3.26 5 5 0 011-3.28 3.23 3.23 0 012.61-1.18 3.5 3.5 0 012.59 1.08 4.56 4.56 0 011.07 3.31 5.21 5.21 0 01-1 3.41 3.33 3.33 0 01-2.74 1.25zm25-2.3l-3.39-.29-.7 2.32H179l8.32-9.54-.32-2.23h-13.19l-.53 5.25 3.16.34.67-2.36h4.65l-8.25 9.53.44 2.26h13.13zm7.62-9.74h-4.46v5.39h4.46zm0 9.61h-4.46v5.39h4.46zm13.54-17.49h-4.23l-6.48 22.88h4.22zm8.68 0h-4.23l-6.45 22.88h4.19zm15 22.51l-.07-2.26a1.22 1.22 0 01-.56.1c-.69 0-1-.39-1-1.16v-6.49a4.39 4.39 0 00-1.8-3.84 7 7 0 00-4.16-1.28 14.55 14.55 0 00-3.16.3 24.14 24.14 0 00-3.29 1.06l-.56 3.46 3.39.4.5-1.69a2.78 2.78 0 011.08-.37 11.3 11.3 0 011.25-.07c1.19 0 1.89.37 2.09 1.1a8.55 8.55 0 01.3 2.26v.5a8.91 8.91 0 00-1.18-.11h-1.21a12.64 12.64 0 00-4.81.88 3.53 3.53 0 00-2.18 3.64 3.66 3.66 0 001.48 3.33 5.63 5.63 0 003.11 1 4.67 4.67 0 003-.91 6.78 6.78 0 001.8-2 3 3 0 003.33 3 5.54 5.54 0 002.66-.85zm-9.25-2.32a1.69 1.69 0 01-1.36-.52 1.81 1.81 0 01-.43-1.21 1.67 1.67 0 01.86-1.68 4.63 4.63 0 012-.42 7.69 7.69 0 011.07.07l1.06.13a3.58 3.58 0 01-1.08 2.74 3.24 3.24 0 01-2.11.89z"></path></svg></a><button type="button" class="ghost main-menu-toggle" aria-haspopup="true" aria-label="Show Menu"></button><div class="page-header-main "><nav class="main-nav" aria-label="Main menu"><ul class="main-menu nojs"><li class="top-level-entry-container"><button id="technologies-button" type="button" class="top-level-entry" aria-haspopup="menu" aria-expanded="false">Technologies</button><ul class="technologies " role="menu" aria-labelledby="technologies-button"><li role="none"><a tabindex="-1" href="/zh-TW/docs/Web" role="menuitem">Technologies Overview</a></li><li role="none"><a tabindex="-1" href="/zh-TW/docs/Web/HTML" role="menuitem">HTML</a></li><li role="none"><a tabindex="-1" href="/zh-TW/docs/Web/CSS" role="menuitem">CSS</a></li><li role="none"><a tabindex="-1" href="/zh-TW/docs/Web/JavaScript" role="menuitem">JavaScript</a></li><li role="none"><a tabindex="-1" href="/zh-TW/docs/Web/Guide/Graphics" role="menuitem">Graphics</a></li><li role="none"><a tabindex="-1" href="/zh-TW/docs/Web/HTTP" role="menuitem">HTTP</a></li><li role="none"><a tabindex="-1" href="/zh-TW/docs/Web/API" role="menuitem">APIs</a></li><li role="none"><a tabindex="-1" href="/zh-TW/docs/Mozilla/Add-ons/WebExtensions" role="menuitem">Browser Extensions</a></li><li role="none"><a tabindex="-1" href="/zh-TW/docs/Web/MathML" role="menuitem">MathML</a></li></ul></li><li class="top-level-entry-container"><button id="references-guides-button" type="button" class="top-level-entry" aria-haspopup="menu" aria-expanded="false">References &amp; Guides</button><ul class="references-guides " role="menu" aria-labelledby="references-guides-button"><li role="none"><a tabindex="-1" href="/zh-TW/docs/Learn" role="menuitem">Learn web development</a></li><li role="none"><a tabindex="-1" href="/zh-TW/docs/Web/Tutorials" role="menuitem">Tutorials</a></li><li role="none"><a tabindex="-1" href="/zh-TW/docs/Web/Reference" role="menuitem">References</a></li><li role="none"><a tabindex="-1" href="/zh-TW/docs/Web/Guide" role="menuitem">Developer Guides</a></li><li role="none"><a tabindex="-1" href="/zh-TW/docs/Web/Accessibility" role="menuitem">Accessibility</a></li><li role="none"><a tabindex="-1" href="/zh-TW/docs/Games" role="menuitem">Game development</a></li><li role="none"><a tabindex="-1" href="/zh-TW/docs/Web" role="menuitem">...more docs</a></li></ul></li><li class="top-level-entry-container"><button id="feedback-button" type="button" class="top-level-entry" aria-haspopup="menu" aria-expanded="false">Feedback</button><ul class="feedback " role="menu" aria-labelledby="feedback-button"><li role="none"><a tabindex="-1" href="/zh-TW/docs/MDN/Contribute/Feedback" role="menuitem">Send Feedback</a></li><li role="none"><a tabindex="-1" href="/zh-TW/docs/MDN/Contribute" role="menuitem">Contribute to MDN</a></li><li role="none"><a tabindex="-1" target="_blank" rel="noopener noreferrer" href="https://github.com/mdn/content/issues/new" role="menuitem">Report a content issue<!-- --> ğŸŒ</a></li><li role="none"><a tabindex="-1" target="_blank" rel="noopener noreferrer" href="https://github.com/mdn/yari/issues/new" role="menuitem">Report a platform issue<!-- --> ğŸŒ</a></li></ul></li></ul></nav><div class="header-search"><form action="/zh-TW/search" class="search-form search-widget" role="search"><label for="main-q" class="visually-hidden">Search MDN</label><input type="search" name="q" id="main-q" class="search-input-field" placeholder="Site search... (Press &quot;/&quot; to focus)" pattern="(.|\s)*\S(.|\s)*" required="" value=""><input type="submit" class="ghost search-button" value="" aria-label="Search"></form></div><div class="auth-container"></div></div></header><div class="breadcrumb-locale-container"><nav class="breadcrumbs-container" aria-label="Breadcrumb navigation"><ol typeof="BreadcrumbList" vocab="https://schema.org/" aria-label="breadcrumbs"><li property="itemListElement" typeof="ListItem"><a class="breadcrumb" property="item" typeof="WebPage" href="/zh-TW/docs/Web"><span property="name">çµ¦é–‹ç™¼è€…çš„ç¶²é æŠ€è¡“æ–‡ä»¶</span></a><meta property="position" content="1"></li><li property="itemListElement" typeof="ListItem"><a class="breadcrumb" property="item" typeof="WebPage" href="/zh-TW/docs/Web/Guide"><span property="name">Web é–‹ç™¼è€…æŒ‡å¼•</span></a><meta property="position" content="2"></li><li property="itemListElement" typeof="ListItem"><a class="breadcrumb-penultimate" property="item" typeof="WebPage" href="/zh-TW/docs/Web/Guide/AJAX"><span property="name">Ajax</span></a><meta property="position" content="3"></li><li property="itemListElement" typeof="ListItem"><a class="breadcrumb-current-page" property="item" typeof="WebPage" href="/zh-TW/docs/Web/Guide/AJAX/Getting_Started"><span property="name">å…¥é–€ç¯‡</span></a><meta property="position" content="4"></li></ol></nav><ul class="language-toggle"><li><a href="#select-language" class="language-icon"><span class="show-desktop">Change language</span></a></li><li><a class="view-in-english" href="/en-US/docs/Web/Guide/AJAX/Getting_Started"><span class="show-desktop">View in</span> English</a></li></ul></div><div class="localized-content-note notecard inline neutral"><a href="/en-US/docs/MDN/Contribute/Localize#active_locales">This page was translated from English by the community. Learn more and join the MDN Web Docs community.</a></div><main id="content" class="main-content" role="main"><article class="main-page-content" lang="zh-TW"><h1>å…¥é–€ç¯‡</h1><div><p>é€™ç¯‡æ–‡ç« èªªæ˜ AJAX ç›¸é—œæŠ€è¡“çš„åŸºç¤ï¼Œä¸¦æä¾›å…©å€‹ç°¡å–®çš„å¯¦éš›æ“ä½œç¯„ä¾‹ä¾›æ‚¨å…¥é–€ã€‚</p></div><h3 id="ajax_æ˜¯ä»€éº¼ï¼Ÿ"><a href="#ajax_æ˜¯ä»€éº¼ï¼Ÿ" title="Permalink to AJAX æ˜¯ä»€éº¼ï¼Ÿ">AJAX æ˜¯ä»€éº¼ï¼Ÿ</a></h3><div><p>AJAX ä»£è¡¨ <strong>A</strong>synchronous <strong>J</strong>avaScript <strong>A</strong>nd <strong>X</strong>MLï¼Œå³éåŒæ­¥ JavaScript åŠ XMLã€‚ç°¡å–®åœ°èªªï¼ŒAJAX ä½¿ç”¨ <a href="/zh-TW/docs/Web/API/XMLHttpRequest"><code>XMLHttpRequest</code></a> ç‰©ä»¶ä¾†èˆ‡ä¼ºæœå™¨é€²è¡Œé€šè¨Šã€‚å®ƒå¯ä»¥å‚³é€ä¸¦æ¥æ”¶å¤šç¨®æ ¼å¼çš„è³‡è¨Šï¼ŒåŒ…æ‹¬ JSONã€XMLã€HTMLã€ä»¥åŠæ–‡å­—æª”æ¡ˆã€‚AJAX æœ€å¸å¼•äººçš„ç‰¹é»æ˜¯ã€ŒéåŒæ­¥ã€çš„æœ¬è³ªï¼Œé€™ä»£è¡¨å®ƒå¯ä»¥èˆ‡ä¼ºæœæºé€šã€äº¤æ›è³‡æ–™ã€ä»¥åŠæ›´æ–°é é¢ï¼Œä¸”ç„¡é ˆé‡æ•´ç¶²é ã€‚</p>
<p>æœ‰å…©é …å³å°‡è¨è«–åˆ°çš„ç‰¹é»å¦‚ä¸‹ï¸°</p>
<ul>
  <li>ç„¡é ˆé‡æ–°è¼‰å…¥æ•´å€‹é é¢ï¼Œä¾¿èƒ½å°ä¼ºæœå™¨ç™¼é€è«‹æ±‚</li>
  <li>åˆ†æä¸¦é‹ç”¨ XML æ–‡ä»¶</li>
</ul></div><h3 id="ç¬¬ä¸€æ­¥_â€“_å¦‚ä½•ç™¼å‡º_http_è«‹æ±‚"><a href="#ç¬¬ä¸€æ­¥_â€“_å¦‚ä½•ç™¼å‡º_http_è«‹æ±‚" title="Permalink to ç¬¬ä¸€æ­¥ â€“ å¦‚ä½•ç™¼å‡º HTTP è«‹æ±‚">ç¬¬ä¸€æ­¥ â€“ å¦‚ä½•ç™¼å‡º HTTP è«‹æ±‚</a></h3><div><p>ç‚ºäº†ä½¿ç”¨ JavaScript å‘ä¼ºæœå™¨ç™¼é€ HTTP è«‹æ±‚ï¼Œä¾¿éœ€è¦ä¸€å€‹èƒ½å¤ æä¾›ç›¸é—œåŠŸèƒ½çš„é¡åˆ¥å¯¦é«”ï¼ˆan instance of a classï¼‰ã€‚é€™æ¨£çš„é¡åˆ¥æœ€åˆç”± Internet Explorer ä»¥ ActiveX ç‰©ä»¶çš„æ–¹å¼å¼•å…¥ï¼Œç¨±ç‚º <code>XMLHTTP</code>ã€‚Mozillaã€Safari åŠå…¶ä»–ç€è¦½å™¨å‰‡éš¨å¾Œè·Ÿé€²ï¼Œå¯¦ä½œäº† <code>XMLHttpRequest</code> é¡åˆ¥ï¼Œä»¥æä¾›å¾®è»Ÿæœ€åˆçš„ ActiveX ç‰©ä»¶ä¸­çš„æ–¹æ³•åŠå±¬æ€§ã€‚</p>
<p>å› æ­¤ï¼Œç‚ºäº†å»ºç«‹èƒ½å¤ è·¨ç€è¦½å™¨çš„ç‰©ä»¶å¯¦é«”ï¼Œå¯ä»¥é€™éº¼å¯«ï¼š</p>
<div class="code-example"><pre class="brush: js notranslate"><code><span class="token comment">// Old compatibility code, no longer needed.</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>window<span class="token punctuation">.</span>XMLHttpRequest<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// Mozilla, Safari, IE7+ ...</span>
    httpRequest <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>window<span class="token punctuation">.</span>ActiveXObject<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// IE 6 and older</span>
    httpRequest <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ActiveXObject</span><span class="token punctuation">(</span><span class="token string">"Microsoft.XMLHTTP"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div>
<div class="notecard note" id="sect1">
  <p><strong>å‚™è¨»ï¼š</strong> å‡ºæ–¼è§£èªªä¸Šçš„éœ€è¦ï¼Œä¸Šè¿°ä»£ç¢¼ä½¿ç”¨æœ€ç°¡æ–¹å¼å»ºç«‹ XMLHTTP çš„å¯¦é«”ã€‚è¼ƒè²¼è¿‘å¯¦éš›é‹ç”¨çš„ç¯„ä¾‹ï¼Œè¦‹ç¬¬ä¸‰æ­¥ã€‚</p>
</div>
<p>éƒ¨åˆ†ç‰ˆæœ¬çš„ Mozilla ç€è¦½å™¨ï¼Œåœ¨ä¼ºæœå™¨é€å›çš„è³‡æ–™æœªå« XML <code>mime-type</code> æ¨™é ­ï¼ˆheaderï¼‰æ™‚æœƒå‡ºéŒ¯ã€‚ç‚ºäº†é¿å…é€™å€‹å•é¡Œï¼Œä½ å¯ä»¥ç”¨ä¸‹åˆ—æ–¹æ³•è¦†å¯«ä¼ºæœå™¨å‚³å›çš„æª”é ­ï¼Œä»¥å…å‚³å›çš„ä¸æ˜¯ <code>text/xml</code>ã€‚</p>
<div class="code-example"><pre class="brush: plain notranslate">httpRequest = new XMLHttpRequest();
httpRequest.overrideMimeType('text/xml');
</pre></div>
<p>æ¥ä¸‹ä¾†æ˜¯è¦æ±ºå®šä¼ºæœå™¨å‚³å›è³‡æ–™å¾Œçš„è™•ç†æ–¹å¼ï¼Œæ­¤æ™‚ä½ åªè¦ä»¥ <code>onreadystatechange</code> é€™å€‹å±¬æ€§æŒ‡æ˜è¦è™•ç†å‚³å›å€¼çš„ JavaScript å‡½å¼åç¨±å³å¯ï¼Œä¾‹å¦‚ï¼š</p>
<div class="code-example"><pre class="brush: js notranslate"><code>httpRequest<span class="token punctuation">.</span>onreadystatechange <span class="token operator">=</span> nameOfTheFunction<span class="token punctuation">;</span>
</code></pre></div>
<p>æ³¨æ„ï¼ŒæŒ‡å®šçš„å‡½å¼åç¨±å¾Œä¸åŠ æ‹¬è™Ÿä¹Ÿæ²’æœ‰åƒæ•¸ã€‚é€™åªæ˜¯ç°¡å–®çš„è³¦å€¼ï¼Œè€ŒéçœŸçš„å‘¼å«å‡½æ•¸ã€‚é™¤äº†æŒ‡å®šå‡½å¼åç¨±å¤–ï¼Œä½ ä¹Ÿèƒ½ç”¨ Javascript å³æ™‚å®šç¾©å‡½å¼çš„æŠ€å·§ï¼ˆç¨±ç‚ºã€åŒ¿åå‡½æ•¸ã€ï¼‰ä¾†å®šä¸€å€‹æ–°çš„è™•ç†å‡½å¼ï¼Œå¦‚ä¸‹ï¼š</p>
<div class="code-example"><pre class="brush: js notranslate"><code>httpRequest<span class="token punctuation">.</span><span class="token function-variable function">onreadystatechange</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">// åšäº›äº‹</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div>
<p>æ±ºå®šè™•ç†æ–¹å¼ä¹‹å¾Œä½ å¾—ç¢ºå¯¦ç™¼å‡º requestï¼Œæ­¤æ™‚éœ€å«ç”¨ HTTP request é¡åˆ¥çš„ <code>open()</code> åŠ <code>send()</code> æ–¹æ³•ï¼Œå¦‚ä¸‹ï¼š</p>
<div class="code-example"><pre class="brush: js notranslate"><code>httpRequest<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> <span class="token string">'http://www.example.org/some.file'</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
httpRequest<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div>
<ul>
  <li><code>open()</code> çš„ç¬¬ä¸€å€‹åƒæ•¸æ˜¯ HTTP request çš„æ–¹æ³•ï¼Œä¹Ÿå°±æ˜¯å¾ GETã€POSTã€HEAD ç­‰ä¼ºæœå™¨æ”¯æ´çš„æ–¹æ³•ä¸­æ“‡ä¸€ä½¿ç”¨ã€‚ç‚ºéµå¾ª HTTP æ¨™æº–ï¼Œè«‹è¨˜å¾—é€™äº›æ–¹æ³•éƒ½æ˜¯å¤§å¯«ï¼Œå¦å‰‡æœ‰çš„ç€è¦½å™¨ï¼ˆå¦‚ Firefoxï¼‰ä¸æœƒè™•ç†é€™äº›è«‹æ±‚ã€‚å…¶ä»–å¯ç”¨çš„ HTTP request æ–¹æ³•çš„åˆ—è¡¨è«‹åƒè€ƒ <a href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html" class="external" rel=" noopener">W3C è¦æ ¼æ›¸</a>ã€‚</li>
  <li>ç¬¬äºŒå€‹åƒæ•¸æ˜¯è«‹æ±‚é é¢çš„ URLã€‚åŸºæ–¼å®‰å…¨è€ƒé‡ï¼Œä½ ä¸èƒ½å«ç”¨åŒç¶²åŸŸä»¥å¤–çš„ç¶²é ã€‚å¦‚æœç¶²åŸŸä¸åŒï¼Œå‰‡å«ç”¨ <code>open()</code> æ™‚æœƒå‡ºç¾ã€Œæ¬Šé™ä¸è¶³ï¼Œæ‹’çµ•å­˜å–ã€é‚£é¡çš„éŒ¯èª¤ã€‚å¸¸è¦‹çš„éŒ¯èª¤å¤šç‚ºåœ¨ domain.tld çš„ç¶²ç«™ä¸‹å‘¼å« www.domain.tld ä¸­çš„ç¶²é ï¼Œåƒ…æ˜¯ä¸€é»é»å·®åˆ¥éƒ½ä¸è¡Œã€‚</li>
  <li>ç¬¬ä¸‰å€‹åƒæ•¸æ±ºå®šæ­¤ request æ˜¯å¦ä¸åŒæ­¥é€²è¡Œï¼Œå¦‚æœè¨­å®šç‚º <code>TRUE</code> å‰‡å³ä½¿ä¼ºæœå™¨å°šæœªå‚³å›è³‡æ–™ä¹Ÿæœƒç¹¼çºŒåŸ·è¡Œå…¶é¤˜çš„ç¨‹å¼ï¼Œé€™ä¹Ÿå°±æ˜¯ AJAX ä¸­ç¬¬ä¸€å€‹ A ä»£è¡¨çš„æ„ç¾©ã€‚</li>
</ul>
<p><code>send()</code> çš„åƒæ•¸åœ¨ä»¥ POST ç™¼å‡º request æ™‚ï¼Œå¯ä»¥æ˜¯ä»»ä½•æƒ³å‚³çµ¦ä¼ºæœå™¨çš„æ±è¥¿ï¼Œè€Œè³‡æ–™å‰‡ä»¥æŸ¥è©¢å­—ä¸²çš„æ–¹å¼åˆ—å‡ºï¼Œä¾‹å¦‚ï¼š</p>
<div class="code-example"><pre class="brush: plain notranslate">"name=value&amp;anothername="+encodeURIComponent(myVar)+"&amp;so=on"
</pre></div>
<p>ä¸éå¦‚æœä½ æƒ³è¦ä»¥ POST æ–¹å¼å‚³é€è³‡æ–™ï¼Œå‰‡å¿…é ˆå…ˆå°‡ MIME å‹æ…‹æ”¹å¥½ï¼Œå¦‚ä¸‹ï¼š</p>
<div class="code-example"><pre class="brush: js notranslate"><code>httpRequest<span class="token punctuation">.</span><span class="token function">setRequestHeader</span><span class="token punctuation">(</span><span class="token string">'Content-Type'</span><span class="token punctuation">,</span> <span class="token string">'application/x-www-form-urlencoded'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div>
<p>å¦å‰‡ä¼ºæœå™¨å°±ä¸æœƒç†ä½ å‚³éä¾†çš„è³‡æ–™äº†ã€‚</p></div><h3 id="ç¬¬äºŒæ­¥_â€“_è™•ç†ä¼ºæœå™¨å‚³å›çš„è³‡æ–™"><a href="#ç¬¬äºŒæ­¥_â€“_è™•ç†ä¼ºæœå™¨å‚³å›çš„è³‡æ–™" title="Permalink to ç¬¬äºŒæ­¥ â€“ è™•ç†ä¼ºæœå™¨å‚³å›çš„è³‡æ–™">ç¬¬äºŒæ­¥ â€“ è™•ç†ä¼ºæœå™¨å‚³å›çš„è³‡æ–™</a></h3><div><p>å‚³å‡º request æ™‚å¿…é ˆæä¾›è™•ç†å‚³å›å€¼çš„å‡½æ•¸åç¨±ï¼Œé€™å€‹å‡½æ•¸æ˜¯ç”¨ä¾†è™•ç†ä¼ºæœå™¨çš„å›æ‡‰ã€‚</p>
<div class="code-example"><pre class="brush: js notranslate"><code>httpRequest<span class="token punctuation">.</span>onreadystatechange <span class="token operator">=</span> nameOfTheFunction<span class="token punctuation">;</span>
</code></pre></div>
<p>é‚£éº¼ä¾†çœ‹çœ‹é€™å€‹å‡½æ•¸è©²åšäº›ä»€éº¼ã€‚é¦–å…ˆï¼Œå®ƒå¿…é ˆæª¢æŸ¥ request ç›®å‰çš„ç‹€æ…‹ã€‚å¦‚æœç‹€æ…‹å€¼ç‚º 4 ä»£è¡¨ä¼ºæœå™¨å·²ç¶“å‚³å›æ‰€æœ‰è³‡è¨Šäº†ï¼Œä¾¿å¯ä»¥é–‹å§‹è§£ææ‰€å¾—è³‡è¨Šã€‚</p>
<div class="code-example"><pre class="brush: js notranslate"><code><span class="token keyword">if</span> <span class="token punctuation">(</span>httpRequest<span class="token punctuation">.</span>readyState <span class="token operator">===</span> XMLHttpRequest<span class="token punctuation">.</span><span class="token constant">DONE</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ä¸€åˆ‡ ok, ç¹¼çºŒè§£æ</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token comment">// é‚„æ²’å®Œæˆ</span>
<span class="token punctuation">}</span>
</code></pre></div>
<p><code>readyState</code> æ‰€æœ‰å¯èƒ½çš„å€¼å¦‚ä¸‹ï¼š</p>
<ul>
  <li>0ï¼ˆé‚„æ²’é–‹å§‹ï¼‰</li>
  <li>1ï¼ˆè®€å–ä¸­ï¼‰</li>
  <li>2ï¼ˆå·²è®€å–ï¼‰</li>
  <li>3ï¼ˆè³‡è¨Šäº¤æ›ä¸­ï¼‰</li>
  <li>4ï¼ˆä¸€åˆ‡å®Œæˆï¼‰</li>
</ul>
<p>ï¼ˆ<a href="http://msdn.microsoft.com/workshop/author/dhtml/reference/properties/readystate_1.asp" class="external" rel=" noopener">è³‡æ–™ä¾†æºï¼šMSDN</a>ï¼‰</p>
<p>æ¥ä¸‹ä¾†è¦æª¢æŸ¥ä¼ºæœå™¨å‚³å›çš„ HTTP ç‹€æ…‹ç¢¼ã€‚æ‰€æœ‰ç‹€æ…‹ç¢¼åˆ—è¡¨å¯æ–¼ <a href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html" class="external" rel=" noopener">W3C ç¶²ç«™</a>ä¸ŠæŸ¥åˆ°ï¼Œä½†æˆ‘å€‘è¦ç®¡çš„æ˜¯ <code>200 OK</code> é€™ç¨®ç‹€æ…‹ã€‚</p>
<div class="code-example"><pre class="brush: js notranslate"><code><span class="token keyword">if</span> <span class="token punctuation">(</span>httpRequest<span class="token punctuation">.</span>status <span class="token operator">===</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// è¬äº‹å…·å‚™</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token comment">// ä¼¼ä¹æœ‰é»å•é¡Œã€‚</span>
    <span class="token comment">// æˆ–è¨±ä¼ºæœå™¨å‚³å›äº† 404ï¼ˆæŸ¥ç„¡æ­¤é ï¼‰</span>
    <span class="token comment">// æˆ–è€… 500ï¼ˆå…§éƒ¨éŒ¯èª¤ï¼‰ä»€éº¼çš„ã€‚</span>
<span class="token punctuation">}</span>
</code></pre></div>
<p>æª¢æŸ¥å‚³å›çš„ HTTP ç‹€æ…‹ç¢¼å¾Œï¼Œè¦æ€éº¼è™•ç†å‚³å›çš„è³‡æ–™å°±ç”±ä½ æ±ºå®šäº†ã€‚æœ‰å…©ç¨®å­˜å–è³‡æ–™çš„æ–¹å¼ï¼š</p>
<ul>
  <li><code>httpRequest.responseText</code> â€“ é€™æ¨£æœƒæŠŠå‚³å›å€¼è¦–ç‚ºå­—ä¸²ç”¨</li>
  <li><code>httpRequest.responseXML</code> â€“ é€™æ¨£æœƒæŠŠå‚³å›å€¼è¦–ç‚º <code>XMLDocument</code> ç‰©ä»¶ï¼Œè€Œå¾Œå¯ç”¨ JavaScript DOM ç›¸é—œå‡½å¼è™•ç†</li>
</ul></div><h3 id="ç¬¬ä¸‰æ­¥_â€“_ç°¡å–®ç¯„ä¾‹"><a href="#ç¬¬ä¸‰æ­¥_â€“_ç°¡å–®ç¯„ä¾‹" title="Permalink to ç¬¬ä¸‰æ­¥ â€“ ç°¡å–®ç¯„ä¾‹">ç¬¬ä¸‰æ­¥ â€“ ç°¡å–®ç¯„ä¾‹</a></h3><div><p>å¥½ï¼Œæ¥è‘—å°±åšä¸€æ¬¡ç°¡å–®çš„ HTTP ç¯„ä¾‹ï¼Œæ¼”ç¤ºæ–¹æ‰çš„å„é …æŠ€å·§ã€‚é€™æ®µ JavaScript æœƒå‘ä¼ºæœå™¨è¦ä¸€ä»½è£¡é ­æœ‰ã€ŒI'm a test.ã€å­—æ¨£çš„ HTML æ–‡ä»¶(<code>test.html</code>)ï¼Œè€Œå¾Œä»¥ <code>alert()</code> å°‡æ–‡ä»¶å…§å®¹åˆ—å‡ºã€‚</p>
<div class="code-example"><pre class="brush: html notranslate"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ajaxButton<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Make a request<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> httpRequest<span class="token punctuation">;</span>
  document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"ajaxButton"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> makeRequest<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">function</span> <span class="token function">makeRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    httpRequest <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>httpRequest<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'Giving up :( Cannot create an XMLHTTP instance'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    httpRequest<span class="token punctuation">.</span>onreadystatechange <span class="token operator">=</span> alertContents<span class="token punctuation">;</span>
    httpRequest<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> <span class="token string">'test.html'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    httpRequest<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">function</span> <span class="token function">alertContents</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>httpRequest<span class="token punctuation">.</span>readyState <span class="token operator">===</span> XMLHttpRequest<span class="token punctuation">.</span><span class="token constant">DONE</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>httpRequest<span class="token punctuation">.</span>status <span class="token operator">===</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">alert</span><span class="token punctuation">(</span>httpRequest<span class="token punctuation">.</span>responseText<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'There was a problem with the request.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div>
<p>åœ¨æ­¤ç¯„ä¾‹ä¸­ï¼š</p>
<ul>
  <li>é¦–å…ˆä½¿ç”¨è€…æŒ‰ä¸‹ã€ŒMake a requestã€</li>
  <li>é€™éº¼ä¸€ä¾†å°±æœƒå‘¼å« <code>makeRequest()</code> å‡½å¼ï¼Œäº¦å‚³å…¥åƒæ•¸å€¼ <code>test.html</code> (ä¹Ÿå°±æ˜¯é‚£ä»½ HTML æª”çš„åç¨±ï¼Œæ”¾åœ¨åŒç›®éŒ„ä¸‹)</li>
  <li>æ¥è‘—ç™¼å‡º requestï¼Œè€Œå¾Œæœƒå°‡ä¸»å°æ¬Šäº¤çµ¦ <code>onreadystatechange</code> æŒ‡å®šçš„ <code>alertContents()</code> å‡½å¼</li>
  <li><code>alertContents()</code> æª¢æŸ¥å›æ‡‰æ˜¯å¦æ­£å¸¸ï¼Œè€Œå¾Œä»¥ <code>alert()</code> å°‡ <code>test.html</code> çš„å…§å®¹åˆ—å‡º</li>
</ul>
<p>ä½ å¯ä»¥<a href="https://www.w3clubs.com/mozdev/httprequest_test.html" class="external" rel=" noopener">ç”±æ­¤æ¸¬è©¦æœ¬ä¾‹</a>ï¼Œä¹Ÿå¯ä»¥åƒè€ƒ<a href="https://www.w3clubs.com/mozdev/test.html" class="external" rel=" noopener">æ¸¬è©¦æª”æ¡ˆ</a>ã€‚</p>
<div class="notecard note" id="sect2">
  <p><strong>å‚™è¨»ï¼š</strong> å¦‚æœä½ å‚³é€ä¸€å€‹è¦æ±‚åˆ°ä¸€æ®µä»£ç¢¼ï¼Œè€Œé€™æ®µä»£ç¢¼å°‡å›æ‡‰ XML è€Œééœæ…‹çš„ HTML æª”ï¼Œé‚£å‰‡å¿…é ˆè¦è¨­å®šä¸€å€‹å¯ä»¥åœ¨ IE ä¸­é‹ä½œçš„ headerã€‚å¦‚æœæˆ‘å€‘ä¸è¨­å®š header <code>Content-Type: application/xml</code>ï¼ŒIE å°‡æœƒåœ¨æˆ‘å€‘è©¦åœ–é‹ä½œçš„ XML é …ç›®è¡Œä¸‹ï¼Œå›æ‡‰ä¸€å€‹"Object Expected" çš„éŒ¯èª¤ã€‚</p>
</div>
<div class="notecard note" id="sect3">
  <p><strong>å‚™è¨»ï¼š</strong> å¦‚æœæˆ‘å€‘æ²’æœ‰è¨­å®š header <code>Cache-Control: no-cache</code>ï¼Œé‚£ç€è¦½å™¨å°‡æœƒè—åŒ¿ response ä¸¦ä¸”ä¸å†é‡æ–°å‚³é€ requestï¼Œé€ æˆé™¤éŒ¯ä¸Šçš„æŒ‘æˆ°ã€‚æˆ‘å€‘ä¹Ÿå¯ä»¥å¢åŠ ä¸€å€‹ always-different GET åƒæ•¸ï¼Œåƒæ˜¯ timestamp æˆ– random number (è©³è¦‹<a href="/zh-TW/docs/Web/API/XMLHttpRequest/Using_XMLHttpRequest#bypassing_the_cache">bypassing the cache</a>)</p>
</div>
<div class="notecard note" id="sect4">
  <p><strong>å‚™è¨»ï¼š</strong> If the <code>httpRequest</code> variable is used globally, competing functions calling <code>makeRequest()</code> can overwrite each other, causing a race condition. Declaring the <code>httpRequest</code> variable local to a <a href="/zh-TW/docs/JavaScript/Guide/Closures">closure</a> containing the AJAX functions avoids this.</p>
</div>
<p>In the event of a communication error (such as the server going down), an exception will be thrown in the <code>onreadystatechange</code> method when accessing the response status. To mitigate this problem, you could wrap your <code>if...then</code> statement in a <code>try...catch</code>:</p>
<div class="code-example"><pre class="brush: js notranslate"><code><span class="token keyword">function</span> <span class="token function">alertContents</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">try</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>httpRequest<span class="token punctuation">.</span>readyState <span class="token operator">===</span> XMLHttpRequest<span class="token punctuation">.</span><span class="token constant">DONE</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>httpRequest<span class="token punctuation">.</span>status <span class="token operator">===</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">alert</span><span class="token punctuation">(</span>httpRequest<span class="token punctuation">.</span>responseText<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'There was a problem with the request.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">catch</span><span class="token punctuation">(</span> e <span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'Caught Exception: '</span> <span class="token operator">+</span> e<span class="token punctuation">.</span>description<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></div><h3 id="ç¬¬å››æ­¥_â€“_é‹ç”¨_xml_è³‡æ–™"><a href="#ç¬¬å››æ­¥_â€“_é‹ç”¨_xml_è³‡æ–™" title="Permalink to ç¬¬å››æ­¥ â€“ é‹ç”¨ XML è³‡æ–™">ç¬¬å››æ­¥ â€“ é‹ç”¨ XML è³‡æ–™</a></h3><div><p>å‰é¢çš„ä¾‹å­ä¸­ï¼Œåœ¨æ”¶åˆ° HTTP å‚³å›å€¼å¾Œæˆ‘å€‘ä»¥ç‰©ä»¶çš„ <code>reponseText</code> å±¬æ€§æ¥æ”¶ <code>test.html</code> æª”æ¡ˆçš„å…§å®¹ï¼Œæ¥è‘—ä¾†è©¦è©¦ <code>responseXML</code> å±¬æ€§ã€‚</p>
<p>é¦–å…ˆï¼Œæˆ‘å€‘å¾—åšå€‹æ ¼å¼æ­£ç¢ºçš„ XML æ–‡ä»¶ä»¥ä¾¿ç¨å¾Œå–ç”¨ã€‚æ–‡ä»¶ (<code>test.xml</code>) å…§å®¹å¦‚ä¸‹ï¼š</p>
<div class="code-example"><pre class="brush: html notranslate"><code><span class="token prolog">&lt;?xml version="1.0" ?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>root</span><span class="token punctuation">&gt;</span></span>
    I'm a test.
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>root</span><span class="token punctuation">&gt;</span></span>
</code></pre></div>
<p>åœ¨ç¨‹å¼ä¸­ï¼Œæˆ‘å€‘å«ç”¨æª”æ¡ˆçš„åœ°æ–¹åªé ˆç•¥äº‹ä¿®æ”¹å¦‚ä¸‹ï¼š</p>
<div class="code-example"><pre class="brush: html notranslate"><code>...
onclick="makeRequest('test.xml')"&gt;
...
</code></pre></div>
<p>æ¥è‘—åœ¨ <code>alertContents()</code> ä¸­ï¼Œæˆ‘å€‘æŠŠ <code>alert(http_request.responseText);</code> æ”¹æˆé€™æ¨£ï¼š</p>
<div class="code-example"><pre class="brush: js notranslate"><code><span class="token keyword">var</span> xmldoc <span class="token operator">=</span> httpRequest<span class="token punctuation">.</span>responseXML<span class="token punctuation">;</span>
<span class="token keyword">var</span> root_node <span class="token operator">=</span> xmldoc<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">'root'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">item</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span>root_node<span class="token punctuation">.</span>firstChild<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div>
<p>é€™æ¨£ä¸€ä¾†æˆ‘å€‘ä¾¿å¯å–å¾— <code>responseXML</code> æ‰€å‚³å›çš„ <code>XMLDocument</code> ç‰©ä»¶ï¼Œè€Œå¾Œä»¥ DOM æ–¹æ³•å–ç”¨ XML æ–‡ä»¶çš„å…§å®¹ã€‚ä½ å¯ä»¥åƒè€ƒ <a href="https://www.w3clubs.com/mozdev/test.xml" class="external" rel=" noopener"><code>test.xml</code> çš„åŸå§‹ç¢¼</a> ä»¥åŠä¿®æ”¹éå¾Œçš„<a href="https://www.w3clubs.com/mozdev/httprequest_test_xml.html" class="external" rel=" noopener">æ¸¬è©¦ç¨‹å¼</a>ã€‚</p>
<p>é—œæ–¼ DOM æ–¹æ³•ï¼Œè«‹åƒè€ƒ <a href="https://www.mozilla.org/docs/dom/" class="external" rel=" noopener">Mozilla DOM</a> æ–‡ä»¶ã€‚</p></div><h3 id="step_5_â€“_working_with_data"><a href="#step_5_â€“_working_with_data" title="Permalink to Step 5 â€“ Working with data">Step 5 â€“ Working with data</a></h3><div><p>Finally, let's send some data to the server and receive a response. Our JavaScript will request a dynamic page this time, <code>test.php</code>, which will take the data we send and return a "computed" string - "Hello, [user data]!" - which we'll <code>alert().</code></p>
<p>First we'll add a text box to our HTML so the user can enter their name:</p>
<div class="code-example"><pre class="brush: html notranslate"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span><span class="token punctuation">&gt;</span></span>Your name:
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ajaxTextbox<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ajaxButton<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">cursor</span><span class="token punctuation">:</span> pointer<span class="token punctuation">;</span> <span class="token property">text-decoration</span><span class="token punctuation">:</span> underline</span><span class="token punctuation">"</span></span></span><span class="token punctuation">&gt;</span></span>
  Make a request
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
</code></pre></div>
<p>We'll also add a line to our event handler to get the user's data from the text box and send it to the <code>makeRequest()</code> function along with the URL of our server-side script:</p>
<div class="code-example"><pre class="brush: js notranslate"><code>  document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"ajaxButton"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">var</span> userName <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"ajaxTextbox"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value<span class="token punctuation">;</span>
      <span class="token function">makeRequest</span><span class="token punctuation">(</span><span class="token string">'test.php'</span><span class="token punctuation">,</span>userName<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div>
<p>We need to modify <code>makeRequest()</code> to accept the user data and pass it along to the server. We'll change the request method from <code>GET</code> to <code>POST</code>, and include our data as a parameter in the call to <code>httpRequest.send()</code>:</p>
<div class="code-example"><pre class="brush: js notranslate"><code>  <span class="token keyword">function</span> <span class="token function">makeRequest</span><span class="token punctuation">(</span><span class="token parameter">url<span class="token punctuation">,</span> userName</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token operator">...</span>

    httpRequest<span class="token punctuation">.</span>onreadystatechange <span class="token operator">=</span> alertContents<span class="token punctuation">;</span>
    httpRequest<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> url<span class="token punctuation">)</span><span class="token punctuation">;</span>
    httpRequest<span class="token punctuation">.</span><span class="token function">setRequestHeader</span><span class="token punctuation">(</span><span class="token string">'Content-Type'</span><span class="token punctuation">,</span> <span class="token string">'application/x-www-form-urlencoded'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    httpRequest<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">'userName='</span> <span class="token operator">+</span> <span class="token function">encodeURIComponent</span><span class="token punctuation">(</span>userName<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</code></pre></div>
<p>The function <code>alertContents()</code> can be written the same way it was in Step 3 to alert our computed string, if that's all the server returns. However, let's say the server is going to return both the computed string and the original user data. So if our user typed "Jane" in the text box, the server's response would look like this:</p>
<p><code>{"userData":"Jane","computedString":"Hi, Jane!"}</code></p>
<p>To use this data within <code>alertContents()</code>, we can't just alert the <code>responseText</code>, we have to parse it and alert <code>computedString</code>, the property we want:</p>
<div class="code-example"><pre class="brush: js notranslate"><code><span class="token keyword">function</span> <span class="token function">alertContents</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>httpRequest<span class="token punctuation">.</span>readyState <span class="token operator">===</span> XMLHttpRequest<span class="token punctuation">.</span><span class="token constant">DONE</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>httpRequest<span class="token punctuation">.</span>status <span class="token operator">===</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">var</span> response <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>httpRequest<span class="token punctuation">.</span>responseText<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">alert</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>computedString<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'There was a problem with the request.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div>
<p>The <code>test.php file should contain the following:</code></p>
<div class="code-example"><pre class="brush: php notranslate"><code><span class="token variable">$name</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">isset</span><span class="token punctuation">(</span><span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'userName'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'userName'</span><span class="token punctuation">]</span> <span class="token punctuation">:</span> <span class="token string single-quoted-string">'no name'</span><span class="token punctuation">;</span>
<span class="token variable">$computedString</span> <span class="token operator">=</span> <span class="token string double-quoted-string">"Hi, "</span> <span class="token operator">.</span> <span class="token variable">$name</span><span class="token punctuation">;</span>
<span class="token variable">$array</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string single-quoted-string">'userName'</span> <span class="token operator">=&gt;</span> <span class="token variable">$name</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'computedString'</span> <span class="token operator">=&gt;</span> <span class="token variable">$computedString</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">echo</span> <span class="token function">json_encode</span><span class="token punctuation">(</span><span class="token variable">$array</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div>
<p><code>For more on DOM methods, be sure to check Mozilla's DOM implementation documents.</code></p></div></article><aside class="metadata"><div class="metadata-content-container"><div id="on-github" class="on-github"><h3>Found a problem with this page?</h3><ul><li><a href="https://github.com/mdn/translated-content/edit/main/files/zh-tw/web/guide/ajax/getting_started/index.md" title="You're going to need to sign in to GitHub first (Opens in a new tab)" target="_blank" rel="noopener noreferrer">Edit on <b>GitHub</b></a></li><li><a href="https://github.com/mdn/translated-content/blob/main/files/zh-tw/web/guide/ajax/getting_started/index.md" title="Folder: zh-tw/web/guide/ajax/getting_started (Opens in a new tab)" target="_blank" rel="noopener noreferrer">Source on <b>GitHub</b></a></li><li><a href="https://github.com/mdn/translated-content/issues/new?body=MDN+URL%3A+https%3A%2F%2Fdeveloper.mozilla.org%2Fzh-TW%2Fdocs%2FWeb%2FGuide%2FAJAX%2FGetting_Started%0A%0A%23%23%23%23+What+information+was+incorrect%2C+unhelpful%2C+or+incomplete%3F%0A%0A%0A%23%23%23%23+Specific+section+or+headline%3F%0A%0A%0A%23%23%23%23+What+did+you+expect+to+see%3F%0A%0A%0A%23%23%23%23+Did+you+test+this%3F+If+so%2C+how%3F%0A%0A%0A%3C%21--+Do+not+make+changes+below+this+line+--%3E%0A%3Cdetails%3E%0A%3Csummary%3EMDN+Content+page+report+details%3C%2Fsummary%3E%0A%0A*+Folder%3A+%60zh-tw%2Fweb%2Fguide%2Fajax%2Fgetting_started%60%0A*+MDN+URL%3A+https%3A%2F%2Fdeveloper.mozilla.org%2Fzh-TW%2Fdocs%2FWeb%2FGuide%2FAJAX%2FGetting_Started%0A*+GitHub+URL%3A+https%3A%2F%2Fgithub.com%2Fmdn%2Ftranslated-content%2Fblob%2Fmain%2Ffiles%2Fzh-tw%2Fweb%2Fguide%2Fajax%2Fgetting_started%2Findex.md%0A*+Last+commit%3A+https%3A%2F%2Fgithub.com%2Fmdn%2Ftranslated-content%2Fcommit%2F921c46a374ab0a9f4cc809af0370f8c412e54701%0A*+Document+last+modified%3A+2022-10-01T03%3A41%3A16.000Z%0A%0A%3C%2Fdetails%3E&amp;title=Issue+with+%22%E5%85%A5%E9%96%80%E7%AF%87%22%3A+%28short+summary+here+please%29&amp;labels=needs-triage%2Cl10n-zh" title="This will take you to https://github.com/mdn/content to file a new issue" target="_blank" rel="noopener noreferrer">Report a problem with this content on <b>GitHub</b></a></li><li>Want to fix the problem yourself? See<!-- --> <a href="https://github.com/mdn/content/blob/main/README.md" target="_blank" rel="noopener noreferrer">our Contribution guide</a>.</li></ul></div><p class="last-modified-date"><b>Last modified:</b> <time datetime="2022-10-01T03:41:16.000Z">Oct 1, 2022</time>,<!-- --> <a href="/zh-TW/docs/Web/Guide/AJAX/Getting_Started/contributors.txt">by MDN contributors</a></p><form class="language-menu"><fieldset id="select-language"><legend>Change your language</legend><label for="language-selector" class="visually-hidden">Select your preferred language</label> <select id="language-selector" name="language"><option selected="" value="zh-TW">æ­£é«”ä¸­æ–‡ (ç¹é«”)</option><option value="en-US">English (US)</option><option value="es">EspaÃ±ol</option><option value="fr">FranÃ§ais</option><option value="ja">æ—¥æœ¬èª</option><option value="ko">í•œêµ­ì–´</option><option value="pt-BR">PortuguÃªs (do&nbsp;Brasil)</option><option value="ru">Ğ ÑƒÑÑĞºĞ¸Ğ¹</option><option value="zh-CN">ä¸­æ–‡ (ç®€ä½“)</option></select> <button type="submit" class="button minimal">Change language</button></fieldset></form></div></aside></main></div><footer id="nav-footer" class="page-footer"><div class="content-container"><div class="page-footer-logo"><a href="/zh-TW/" class="logo" aria-label="MDN Web Docs"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 451.74 135" fill="#fff"><path d="M7.14 8.35v111.06h111.05V8.35zm103.71 56c-.48.92-1 1.79-1.46 2.71a3.44 3.44 0 01-3.54 2 2.4 2.4 0 00-1.55.5c-1.37.9-2.76 1.79-4.18 2.63a7.33 7.33 0 01-6.35.34 29.71 29.71 0 00-10.63-2 11.7 11.7 0 00-9.46 4.31 14.84 14.84 0 00-2.13 4.29c-1.24 3.07-2.3 21.38-2.3 26.05 0 0-17.62-3.42-34.15-20.34l4.31-11.32h-13.5l9.76-10.35h-16.8l9.77-10.34H12.69L30.45 34a40.9 40.9 0 0119.77-10.83c7.1-1.22 8.93-.53 13.31.77l2.43.73.85.25 3.1.95a12.56 12.56 0 006.21.09 11.37 11.37 0 018.25 1 8.24 8.24 0 014.1 6.22 7.29 7.29 0 003.61 5.49 59.45 59.45 0 009.32 4.11c2.27.86 4.54 1.84 6.79 2.72a6.81 6.81 0 012.86 2.06 4.81 4.81 0 011.1 2.73c.14 2 .37 4 .47 6a15.24 15.24 0 01-1.77 8.03zM320.12 39.62a5.42 5.42 0 00-4.53 2.13 7.36 7.36 0 00-1.7 4.43v2.36a6.28 6.28 0 001.7 4.46 5.63 5.63 0 004.3 1.82 5.12 5.12 0 004.57-2.27A9.7 9.7 0 00326 47a8.11 8.11 0 00-1.67-5.52 5.36 5.36 0 00-4.21-1.86zM387.38 39.53a5.52 5.52 0 00-4.7 2.15 8.8 8.8 0 00-1.63 5.49 9.23 9.23 0 001.58 5.45 5.38 5.38 0 004.7 2.25 5.61 5.61 0 004.74-2.2 8.91 8.91 0 001.68-5.59 8.24 8.24 0 00-1.75-5.52 5.76 5.76 0 00-4.62-2.03zM299.47 41.35a4.34 4.34 0 00-4-1.92 4.55 4.55 0 00-3.89 1.73 8.37 8.37 0 00-1.58 4.17h10.48a6.3 6.3 0 00-1.01-3.98zM357.74 30.75H352v23.31h5.72q5.47 0 8.35-3t2.93-8.65q0-5.43-2.88-8.55t-8.38-3.11z"></path><path d="M121.55 8.35v70.8h323V8.35zm42.21 22.45h-4V54h3.68v3.73h-11.25V54h3.31V36.79h-.19l-9.63 19.12h-2.12l-10-19.4h-.19V54h3.45v3.73h-11.15V54h3.68V30.8h-4v-3.73H133l11.66 22.56h.19l11.18-22.56h7.7zm29.12 22.67q-4.11 4.28-11.38 4.28h-14.06v-3.69h3.73V30.75h-3.73v-3.68h13.83q7.59 0 11.66 4.29a15.4 15.4 0 014 11 15.33 15.33 0 01-4.05 11.11zm38.89-22.67h-3.68v27h-2.6L208.08 35h-.19v19h4.67v3.73h-12.22V54h3.49V30.8h-4v-3.73h7.08l16.9 22.09h.19V30.8h-4.58v-3.73h12.32zm43.8 27h-3.31l-7.83-23.18h-.19l-7.55 23.18h-3.35l-8.78-27h-2.65v-3.73H253v3.73h-3.87L255 50.71h.23l6.61-19.91H259v-3.73h11v3.73h-2.78l6.61 20.1h.23l5.43-20.1h-4.15v-3.73h11v3.73h-2.54zm26.71-1.51a9.66 9.66 0 01-6.42 2 10.2 10.2 0 01-7.41-2.74c-1.89-1.82-2.83-4.47-2.83-7.93a12.37 12.37 0 012.64-8.12 9 9 0 017.32-3.21 8.62 8.62 0 016.75 2.69 9.65 9.65 0 012.45 6.52 13.67 13.67 0 01-.28 2.69H290q.29 6.71 6.18 6.7a5.2 5.2 0 003.71-1.18 5.82 5.82 0 001.67-2.83l3.45.71a7.21 7.21 0 01-2.73 4.65zm25.77-1.63c-1.51 2.4-3.92 3.61-7.22 3.61s-5.84-1.29-7.22-3.87c0 .25-.1.82-.21 1.7s-.19 1.44-.22 1.7H309c.16-1 .31-2 .47-3.07a21.42 21.42 0 00.24-3.16v-23h-3.4v-3.3h7.55V40.9a9.76 9.76 0 012.67-3.28 7.33 7.33 0 014.74-1.4 8.48 8.48 0 016.5 2.78q2.55 2.74 2.55 7.74a14.6 14.6 0 01-2.27 7.87zm41.39-1.14q-4.11 4.28-11.37 4.28H344v-3.74h3.73V30.75H344v-3.68h13.83q7.59 0 11.66 4.29a15.41 15.41 0 014.06 11 15.34 15.34 0 01-4.11 11.11zm25.65 1.68a10.53 10.53 0 01-7.9 3.07 10 10 0 01-7.63-3 10.93 10.93 0 01-2.8-7.83 12.13 12.13 0 012.69-7.93q2.69-3.3 8-3.3t8 3.28a12 12 0 012.64 7.76 10.86 10.86 0 01-3 7.9zm22.61.57c-1.4 1.66-3.63 2.5-6.68 2.5a9.58 9.58 0 01-7.15-2.76q-2.72-2.76-2.71-7.91a12.25 12.25 0 012.69-8 9.17 9.17 0 017.5-3.28 15 15 0 013.82.48 10.37 10.37 0 013.5 1.65l.85 5.47-3.35.38-.76-3.54a8.07 8.07 0 00-4.11-1 4.9 4.9 0 00-4.39 2.15 9.93 9.93 0 00-1.41 5.55 8.9 8.9 0 001.5 5.38 5.23 5.23 0 004.44 2c2.92 0 4.67-1.7 5.23-5.1l3.5.71a10.34 10.34 0 01-2.47 5.27zm20.48.75a11.68 11.68 0 01-6.63 1.75 15.52 15.52 0 01-8.26-2.08L424 51l3.26.33-.1 2.74a7 7 0 002.06.66 12.63 12.63 0 002.19.19 8.68 8.68 0 003.66-.75 2.5 2.5 0 001.63-2.36 2.25 2.25 0 00-1.32-2.2 12.65 12.65 0 00-3.28-1 47.39 47.39 0 01-3.9-.82 7.5 7.5 0 01-3.25-1.7 4.67 4.67 0 01-1.33-3.66c0-2.36.88-4 2.62-4.91a12 12 0 015.6-1.37 15 15 0 014.08.55 16.65 16.65 0 013.47 1.39l.47 5.1-3.3.37-.48-3.3a9.5 9.5 0 00-4.06-.9 5.62 5.62 0 00-2.87.66 2.33 2.33 0 00-1.15 2.25 2.13 2.13 0 001.3 2.07 11.91 11.91 0 003.21.92 36.69 36.69 0 013.82.83 7.46 7.46 0 013.21 1.74 4.9 4.9 0 011.3 3.73 5.56 5.56 0 01-2.66 4.91z"></path><path d="M181.17 30.75h-5.71v23.31h5.71q5.47 0 8.36-3t2.88-8.61q0-5.43-2.88-8.55t-8.36-3.15zM121.63 119.32V81.74h114.91v37.58zM153.22 109h-2v-6.85a4.8 4.8 0 00-1.58-4 5.57 5.57 0 00-3.55-1.26 5 5 0 00-4.92 3.26 4.19 4.19 0 00-1.88-2.46 5.82 5.82 0 00-3-.8 4.89 4.89 0 00-4.56 2.56v-2.21h-6.28v3.26h2v8.5h-2v3.23h9.11V109h-2.86v-5.25a4.4 4.4 0 01.69-2.56 2.47 2.47 0 012.21-1q2.57 0 2.56 3.63v8.41h6.29V109h-2v-5.25a4.47 4.47 0 01.67-2.56 2.42 2.42 0 012.19-1q2.63 0 2.63 3.63v8.41h6.28zm9.88-12.07q-4 0-6 2.36a8.41 8.41 0 00-2 5.66 7.25 7.25 0 002.17 5.62 8 8 0 005.65 2 8.54 8.54 0 005.94-2.11 7.27 7.27 0 002.34-5.67 8.21 8.21 0 00-2-5.51q-2.07-2.34-6.1-2.34zm-.1 12.35a3 3 0 01-2.63-1.33 5.68 5.68 0 01-.9-3.26 5 5 0 011-3.28 3.23 3.23 0 012.61-1.18 3.5 3.5 0 012.59 1.08 4.56 4.56 0 011.07 3.31 5.21 5.21 0 01-1 3.41 3.33 3.33 0 01-2.74 1.25zm25-2.3l-3.39-.29-.7 2.32H179l8.32-9.54-.32-2.23h-13.19l-.53 5.25 3.16.34.67-2.36h4.65l-8.25 9.53.44 2.26h13.13zm7.62-9.74h-4.46v5.39h4.46zm0 9.61h-4.46v5.39h4.46zm13.54-17.49h-4.23l-6.48 22.88h4.22zm8.68 0h-4.23l-6.45 22.88h4.19zm15 22.51l-.07-2.26a1.22 1.22 0 01-.56.1c-.69 0-1-.39-1-1.16v-6.49a4.39 4.39 0 00-1.8-3.84 7 7 0 00-4.16-1.28 14.55 14.55 0 00-3.16.3 24.14 24.14 0 00-3.29 1.06l-.56 3.46 3.39.4.5-1.69a2.78 2.78 0 011.08-.37 11.3 11.3 0 011.25-.07c1.19 0 1.89.37 2.09 1.1a8.55 8.55 0 01.3 2.26v.5a8.91 8.91 0 00-1.18-.11h-1.21a12.64 12.64 0 00-4.81.88 3.53 3.53 0 00-2.18 3.64 3.66 3.66 0 001.48 3.33 5.63 5.63 0 003.11 1 4.67 4.67 0 003-.91 6.78 6.78 0 001.8-2 3 3 0 003.33 3 5.54 5.54 0 002.66-.85zm-9.25-2.32a1.69 1.69 0 01-1.36-.52 1.81 1.81 0 01-.43-1.21 1.67 1.67 0 01.86-1.68 4.63 4.63 0 012-.42 7.69 7.69 0 011.07.07l1.06.13a3.58 3.58 0 01-1.08 2.74 3.24 3.24 0 01-2.11.89z"></path></svg></a></div><ul class="link-list-mdn"><li><a href="/zh-TW/docs/Web">Web Technologies</a></li><li><a href="/zh-TW/docs/Learn">Learn Web Development</a></li><li><a href="/zh-TW/docs/MDN/About">About MDN</a></li><li><a href="/zh-TW/docs/MDN/Feedback">Feedback</a></li></ul><ul class="link-list-moz"><li><a href="https://www.mozilla.org/about/" target="_blank" rel="noopener noreferrer">About</a></li><li><a href="https://shop.spreadshirt.com/mdn-store/" target="_blank" rel="noopener noreferrer">MDN Web Docs Store</a></li><li><a href="https://www.mozilla.org/contact/" target="_blank" rel="noopener noreferrer">Contact Us</a></li><li><a href="https://www.mozilla.org/firefox/?utm_source=developer.mozilla.org&amp;utm_campaign=footer&amp;utm_medium=referral" target="_blank" rel="noopener noreferrer">Firefox</a></li></ul><div class="social social-mdn"><h4>MDN</h4><ul><li><a class="social-icon twitter" href="https://twitter.com/mozdevnet" target="_blank" rel="noopener noreferrer"><span class="visually-hidden">MDN on Twitter</span></a></li><li><a class="social-icon github" href="https://github.com/mdn/" target="_blank" rel="noopener noreferrer"><span class="visually-hidden">MDN on Github</span></a></li></ul></div><div class="social social-moz"><h4>Mozilla</h4><ul><li><a class="social-icon twitter" href="https://twitter.com/mozilla" target="_blank" rel="noopener noreferrer"><span class="visually-hidden">Mozilla on Twitter</span></a></li><li><a class="social-icon instagram" href="https://www.instagram.com/mozillagram/" target="_blank" rel="noopener noreferrer"><span class="visually-hidden">Mozilla on Instagram</span></a></li></ul></div><p id="license" class="footer-license">Â© 2005-<!-- -->2022<!-- --> Mozilla and individual contributors. Content is available under<!-- --> <a href="/docs/MDN/About#Copyrights_and_licenses">these licenses</a>.</p><ul class="footer-legal"><li><a href="https://www.mozilla.org/about/legal/terms/mozilla" target="_blank" rel="noopener noreferrer">Terms</a></li><li><a href="https://www.mozilla.org/privacy/websites/" target="_blank" rel="noopener noreferrer">Privacy</a></li><li><a href="https://www.mozilla.org/privacy/websites/#cookies" target="_blank" rel="noopener noreferrer">Cookies</a></li></ul></div></footer><div class="page-overlay hidden"></div></div><script type="application/json" id="hydration">{"doc":{"isMarkdown":true,"isTranslated":true,"isActive":true,"flaws":{},"title":"å…¥é–€ç¯‡","mdn_url":"/zh-TW/docs/Web/Guide/AJAX/Getting_Started","locale":"zh-TW","native":"æ­£é«”ä¸­æ–‡ (ç¹é«”)","sidebarHTML":"","body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<p>é€™ç¯‡æ–‡ç« èªªæ˜ AJAX ç›¸é—œæŠ€è¡“çš„åŸºç¤ï¼Œä¸¦æä¾›å…©å€‹ç°¡å–®çš„å¯¦éš›æ“ä½œç¯„ä¾‹ä¾›æ‚¨å…¥é–€ã€‚</p>"}},{"type":"prose","value":{"id":"ajax_æ˜¯ä»€éº¼ï¼Ÿ","title":"AJAX æ˜¯ä»€éº¼ï¼Ÿ","isH3":true,"content":"<p>AJAX ä»£è¡¨ <strong>A</strong>synchronous <strong>J</strong>avaScript <strong>A</strong>nd <strong>X</strong>MLï¼Œå³éåŒæ­¥ JavaScript åŠ XMLã€‚ç°¡å–®åœ°èªªï¼ŒAJAX ä½¿ç”¨ <a href=\"/zh-TW/docs/Web/API/XMLHttpRequest\"><code>XMLHttpRequest</code></a> ç‰©ä»¶ä¾†èˆ‡ä¼ºæœå™¨é€²è¡Œé€šè¨Šã€‚å®ƒå¯ä»¥å‚³é€ä¸¦æ¥æ”¶å¤šç¨®æ ¼å¼çš„è³‡è¨Šï¼ŒåŒ…æ‹¬ JSONã€XMLã€HTMLã€ä»¥åŠæ–‡å­—æª”æ¡ˆã€‚AJAX æœ€å¸å¼•äººçš„ç‰¹é»æ˜¯ã€ŒéåŒæ­¥ã€çš„æœ¬è³ªï¼Œé€™ä»£è¡¨å®ƒå¯ä»¥èˆ‡ä¼ºæœæºé€šã€äº¤æ›è³‡æ–™ã€ä»¥åŠæ›´æ–°é é¢ï¼Œä¸”ç„¡é ˆé‡æ•´ç¶²é ã€‚</p>\n<p>æœ‰å…©é …å³å°‡è¨è«–åˆ°çš„ç‰¹é»å¦‚ä¸‹ï¸°</p>\n<ul>\n  <li>ç„¡é ˆé‡æ–°è¼‰å…¥æ•´å€‹é é¢ï¼Œä¾¿èƒ½å°ä¼ºæœå™¨ç™¼é€è«‹æ±‚</li>\n  <li>åˆ†æä¸¦é‹ç”¨ XML æ–‡ä»¶</li>\n</ul>"}},{"type":"prose","value":{"id":"ç¬¬ä¸€æ­¥_â€“_å¦‚ä½•ç™¼å‡º_http_è«‹æ±‚","title":"ç¬¬ä¸€æ­¥ â€“ å¦‚ä½•ç™¼å‡º HTTP è«‹æ±‚","isH3":true,"content":"<p>ç‚ºäº†ä½¿ç”¨ JavaScript å‘ä¼ºæœå™¨ç™¼é€ HTTP è«‹æ±‚ï¼Œä¾¿éœ€è¦ä¸€å€‹èƒ½å¤ æä¾›ç›¸é—œåŠŸèƒ½çš„é¡åˆ¥å¯¦é«”ï¼ˆan instance of a classï¼‰ã€‚é€™æ¨£çš„é¡åˆ¥æœ€åˆç”± Internet Explorer ä»¥ ActiveX ç‰©ä»¶çš„æ–¹å¼å¼•å…¥ï¼Œç¨±ç‚º <code>XMLHTTP</code>ã€‚Mozillaã€Safari åŠå…¶ä»–ç€è¦½å™¨å‰‡éš¨å¾Œè·Ÿé€²ï¼Œå¯¦ä½œäº† <code>XMLHttpRequest</code> é¡åˆ¥ï¼Œä»¥æä¾›å¾®è»Ÿæœ€åˆçš„ ActiveX ç‰©ä»¶ä¸­çš„æ–¹æ³•åŠå±¬æ€§ã€‚</p>\n<p>å› æ­¤ï¼Œç‚ºäº†å»ºç«‹èƒ½å¤ è·¨ç€è¦½å™¨çš„ç‰©ä»¶å¯¦é«”ï¼Œå¯ä»¥é€™éº¼å¯«ï¼š</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token comment\">// Old compatibility code, no longer needed.</span>\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>window<span class=\"token punctuation\">.</span>XMLHttpRequest<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token comment\">// Mozilla, Safari, IE7+ ...</span>\n    httpRequest <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">XMLHttpRequest</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>window<span class=\"token punctuation\">.</span>ActiveXObject<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token comment\">// IE 6 and older</span>\n    httpRequest <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ActiveXObject</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Microsoft.XMLHTTP\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<div class=\"notecard note\" id=\"sect1\">\n  <p><strong>å‚™è¨»ï¼š</strong> å‡ºæ–¼è§£èªªä¸Šçš„éœ€è¦ï¼Œä¸Šè¿°ä»£ç¢¼ä½¿ç”¨æœ€ç°¡æ–¹å¼å»ºç«‹ XMLHTTP çš„å¯¦é«”ã€‚è¼ƒè²¼è¿‘å¯¦éš›é‹ç”¨çš„ç¯„ä¾‹ï¼Œè¦‹ç¬¬ä¸‰æ­¥ã€‚</p>\n</div>\n<p>éƒ¨åˆ†ç‰ˆæœ¬çš„ Mozilla ç€è¦½å™¨ï¼Œåœ¨ä¼ºæœå™¨é€å›çš„è³‡æ–™æœªå« XML <code>mime-type</code> æ¨™é ­ï¼ˆheaderï¼‰æ™‚æœƒå‡ºéŒ¯ã€‚ç‚ºäº†é¿å…é€™å€‹å•é¡Œï¼Œä½ å¯ä»¥ç”¨ä¸‹åˆ—æ–¹æ³•è¦†å¯«ä¼ºæœå™¨å‚³å›çš„æª”é ­ï¼Œä»¥å…å‚³å›çš„ä¸æ˜¯ <code>text/xml</code>ã€‚</p>\n<div class=\"code-example\"><pre class=\"brush: plain notranslate\">httpRequest = new XMLHttpRequest();\nhttpRequest.overrideMimeType('text/xml');\n</pre></div>\n<p>æ¥ä¸‹ä¾†æ˜¯è¦æ±ºå®šä¼ºæœå™¨å‚³å›è³‡æ–™å¾Œçš„è™•ç†æ–¹å¼ï¼Œæ­¤æ™‚ä½ åªè¦ä»¥ <code>onreadystatechange</code> é€™å€‹å±¬æ€§æŒ‡æ˜è¦è™•ç†å‚³å›å€¼çš„ JavaScript å‡½å¼åç¨±å³å¯ï¼Œä¾‹å¦‚ï¼š</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code>httpRequest<span class=\"token punctuation\">.</span>onreadystatechange <span class=\"token operator\">=</span> nameOfTheFunction<span class=\"token punctuation\">;</span>\n</code></pre></div>\n<p>æ³¨æ„ï¼ŒæŒ‡å®šçš„å‡½å¼åç¨±å¾Œä¸åŠ æ‹¬è™Ÿä¹Ÿæ²’æœ‰åƒæ•¸ã€‚é€™åªæ˜¯ç°¡å–®çš„è³¦å€¼ï¼Œè€ŒéçœŸçš„å‘¼å«å‡½æ•¸ã€‚é™¤äº†æŒ‡å®šå‡½å¼åç¨±å¤–ï¼Œä½ ä¹Ÿèƒ½ç”¨ Javascript å³æ™‚å®šç¾©å‡½å¼çš„æŠ€å·§ï¼ˆç¨±ç‚ºã€åŒ¿åå‡½æ•¸ã€ï¼‰ä¾†å®šä¸€å€‹æ–°çš„è™•ç†å‡½å¼ï¼Œå¦‚ä¸‹ï¼š</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code>httpRequest<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onreadystatechange</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// åšäº›äº‹</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<p>æ±ºå®šè™•ç†æ–¹å¼ä¹‹å¾Œä½ å¾—ç¢ºå¯¦ç™¼å‡º requestï¼Œæ­¤æ™‚éœ€å«ç”¨ HTTP request é¡åˆ¥çš„ <code>open()</code> åŠ <code>send()</code> æ–¹æ³•ï¼Œå¦‚ä¸‹ï¼š</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code>httpRequest<span class=\"token punctuation\">.</span><span class=\"token function\">open</span><span class=\"token punctuation\">(</span><span class=\"token string\">'GET'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'http://www.example.org/some.file'</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nhttpRequest<span class=\"token punctuation\">.</span><span class=\"token function\">send</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<ul>\n  <li><code>open()</code> çš„ç¬¬ä¸€å€‹åƒæ•¸æ˜¯ HTTP request çš„æ–¹æ³•ï¼Œä¹Ÿå°±æ˜¯å¾ GETã€POSTã€HEAD ç­‰ä¼ºæœå™¨æ”¯æ´çš„æ–¹æ³•ä¸­æ“‡ä¸€ä½¿ç”¨ã€‚ç‚ºéµå¾ª HTTP æ¨™æº–ï¼Œè«‹è¨˜å¾—é€™äº›æ–¹æ³•éƒ½æ˜¯å¤§å¯«ï¼Œå¦å‰‡æœ‰çš„ç€è¦½å™¨ï¼ˆå¦‚ Firefoxï¼‰ä¸æœƒè™•ç†é€™äº›è«‹æ±‚ã€‚å…¶ä»–å¯ç”¨çš„ HTTP request æ–¹æ³•çš„åˆ—è¡¨è«‹åƒè€ƒ <a href=\"https://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html\" class=\"external\" rel=\" noopener\">W3C è¦æ ¼æ›¸</a>ã€‚</li>\n  <li>ç¬¬äºŒå€‹åƒæ•¸æ˜¯è«‹æ±‚é é¢çš„ URLã€‚åŸºæ–¼å®‰å…¨è€ƒé‡ï¼Œä½ ä¸èƒ½å«ç”¨åŒç¶²åŸŸä»¥å¤–çš„ç¶²é ã€‚å¦‚æœç¶²åŸŸä¸åŒï¼Œå‰‡å«ç”¨ <code>open()</code> æ™‚æœƒå‡ºç¾ã€Œæ¬Šé™ä¸è¶³ï¼Œæ‹’çµ•å­˜å–ã€é‚£é¡çš„éŒ¯èª¤ã€‚å¸¸è¦‹çš„éŒ¯èª¤å¤šç‚ºåœ¨ domain.tld çš„ç¶²ç«™ä¸‹å‘¼å« www.domain.tld ä¸­çš„ç¶²é ï¼Œåƒ…æ˜¯ä¸€é»é»å·®åˆ¥éƒ½ä¸è¡Œã€‚</li>\n  <li>ç¬¬ä¸‰å€‹åƒæ•¸æ±ºå®šæ­¤ request æ˜¯å¦ä¸åŒæ­¥é€²è¡Œï¼Œå¦‚æœè¨­å®šç‚º <code>TRUE</code> å‰‡å³ä½¿ä¼ºæœå™¨å°šæœªå‚³å›è³‡æ–™ä¹Ÿæœƒç¹¼çºŒåŸ·è¡Œå…¶é¤˜çš„ç¨‹å¼ï¼Œé€™ä¹Ÿå°±æ˜¯ AJAX ä¸­ç¬¬ä¸€å€‹ A ä»£è¡¨çš„æ„ç¾©ã€‚</li>\n</ul>\n<p><code>send()</code> çš„åƒæ•¸åœ¨ä»¥ POST ç™¼å‡º request æ™‚ï¼Œå¯ä»¥æ˜¯ä»»ä½•æƒ³å‚³çµ¦ä¼ºæœå™¨çš„æ±è¥¿ï¼Œè€Œè³‡æ–™å‰‡ä»¥æŸ¥è©¢å­—ä¸²çš„æ–¹å¼åˆ—å‡ºï¼Œä¾‹å¦‚ï¼š</p>\n<div class=\"code-example\"><pre class=\"brush: plain notranslate\">\"name=value&amp;anothername=\"+encodeURIComponent(myVar)+\"&amp;so=on\"\n</pre></div>\n<p>ä¸éå¦‚æœä½ æƒ³è¦ä»¥ POST æ–¹å¼å‚³é€è³‡æ–™ï¼Œå‰‡å¿…é ˆå…ˆå°‡ MIME å‹æ…‹æ”¹å¥½ï¼Œå¦‚ä¸‹ï¼š</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code>httpRequest<span class=\"token punctuation\">.</span><span class=\"token function\">setRequestHeader</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Content-Type'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'application/x-www-form-urlencoded'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<p>å¦å‰‡ä¼ºæœå™¨å°±ä¸æœƒç†ä½ å‚³éä¾†çš„è³‡æ–™äº†ã€‚</p>"}},{"type":"prose","value":{"id":"ç¬¬äºŒæ­¥_â€“_è™•ç†ä¼ºæœå™¨å‚³å›çš„è³‡æ–™","title":"ç¬¬äºŒæ­¥ â€“ è™•ç†ä¼ºæœå™¨å‚³å›çš„è³‡æ–™","isH3":true,"content":"<p>å‚³å‡º request æ™‚å¿…é ˆæä¾›è™•ç†å‚³å›å€¼çš„å‡½æ•¸åç¨±ï¼Œé€™å€‹å‡½æ•¸æ˜¯ç”¨ä¾†è™•ç†ä¼ºæœå™¨çš„å›æ‡‰ã€‚</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code>httpRequest<span class=\"token punctuation\">.</span>onreadystatechange <span class=\"token operator\">=</span> nameOfTheFunction<span class=\"token punctuation\">;</span>\n</code></pre></div>\n<p>é‚£éº¼ä¾†çœ‹çœ‹é€™å€‹å‡½æ•¸è©²åšäº›ä»€éº¼ã€‚é¦–å…ˆï¼Œå®ƒå¿…é ˆæª¢æŸ¥ request ç›®å‰çš„ç‹€æ…‹ã€‚å¦‚æœç‹€æ…‹å€¼ç‚º 4 ä»£è¡¨ä¼ºæœå™¨å·²ç¶“å‚³å›æ‰€æœ‰è³‡è¨Šäº†ï¼Œä¾¿å¯ä»¥é–‹å§‹è§£ææ‰€å¾—è³‡è¨Šã€‚</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>httpRequest<span class=\"token punctuation\">.</span>readyState <span class=\"token operator\">===</span> XMLHttpRequest<span class=\"token punctuation\">.</span><span class=\"token constant\">DONE</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// ä¸€åˆ‡ ok, ç¹¼çºŒè§£æ</span>\n<span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// é‚„æ²’å®Œæˆ</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p><code>readyState</code> æ‰€æœ‰å¯èƒ½çš„å€¼å¦‚ä¸‹ï¼š</p>\n<ul>\n  <li>0ï¼ˆé‚„æ²’é–‹å§‹ï¼‰</li>\n  <li>1ï¼ˆè®€å–ä¸­ï¼‰</li>\n  <li>2ï¼ˆå·²è®€å–ï¼‰</li>\n  <li>3ï¼ˆè³‡è¨Šäº¤æ›ä¸­ï¼‰</li>\n  <li>4ï¼ˆä¸€åˆ‡å®Œæˆï¼‰</li>\n</ul>\n<p>ï¼ˆ<a href=\"http://msdn.microsoft.com/workshop/author/dhtml/reference/properties/readystate_1.asp\" class=\"external\" rel=\" noopener\">è³‡æ–™ä¾†æºï¼šMSDN</a>ï¼‰</p>\n<p>æ¥ä¸‹ä¾†è¦æª¢æŸ¥ä¼ºæœå™¨å‚³å›çš„ HTTP ç‹€æ…‹ç¢¼ã€‚æ‰€æœ‰ç‹€æ…‹ç¢¼åˆ—è¡¨å¯æ–¼ <a href=\"https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html\" class=\"external\" rel=\" noopener\">W3C ç¶²ç«™</a>ä¸ŠæŸ¥åˆ°ï¼Œä½†æˆ‘å€‘è¦ç®¡çš„æ˜¯ <code>200 OK</code> é€™ç¨®ç‹€æ…‹ã€‚</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>httpRequest<span class=\"token punctuation\">.</span>status <span class=\"token operator\">===</span> <span class=\"token number\">200</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// è¬äº‹å…·å‚™</span>\n<span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// ä¼¼ä¹æœ‰é»å•é¡Œã€‚</span>\n    <span class=\"token comment\">// æˆ–è¨±ä¼ºæœå™¨å‚³å›äº† 404ï¼ˆæŸ¥ç„¡æ­¤é ï¼‰</span>\n    <span class=\"token comment\">// æˆ–è€… 500ï¼ˆå…§éƒ¨éŒ¯èª¤ï¼‰ä»€éº¼çš„ã€‚</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>æª¢æŸ¥å‚³å›çš„ HTTP ç‹€æ…‹ç¢¼å¾Œï¼Œè¦æ€éº¼è™•ç†å‚³å›çš„è³‡æ–™å°±ç”±ä½ æ±ºå®šäº†ã€‚æœ‰å…©ç¨®å­˜å–è³‡æ–™çš„æ–¹å¼ï¼š</p>\n<ul>\n  <li><code>httpRequest.responseText</code> â€“ é€™æ¨£æœƒæŠŠå‚³å›å€¼è¦–ç‚ºå­—ä¸²ç”¨</li>\n  <li><code>httpRequest.responseXML</code> â€“ é€™æ¨£æœƒæŠŠå‚³å›å€¼è¦–ç‚º <code>XMLDocument</code> ç‰©ä»¶ï¼Œè€Œå¾Œå¯ç”¨ JavaScript DOM ç›¸é—œå‡½å¼è™•ç†</li>\n</ul>"}},{"type":"prose","value":{"id":"ç¬¬ä¸‰æ­¥_â€“_ç°¡å–®ç¯„ä¾‹","title":"ç¬¬ä¸‰æ­¥ â€“ ç°¡å–®ç¯„ä¾‹","isH3":true,"content":"<p>å¥½ï¼Œæ¥è‘—å°±åšä¸€æ¬¡ç°¡å–®çš„ HTTP ç¯„ä¾‹ï¼Œæ¼”ç¤ºæ–¹æ‰çš„å„é …æŠ€å·§ã€‚é€™æ®µ JavaScript æœƒå‘ä¼ºæœå™¨è¦ä¸€ä»½è£¡é ­æœ‰ã€ŒI'm a test.ã€å­—æ¨£çš„ HTML æ–‡ä»¶(<code>test.html</code>)ï¼Œè€Œå¾Œä»¥ <code>alert()</code> å°‡æ–‡ä»¶å…§å®¹åˆ—å‡ºã€‚</p>\n<div class=\"code-example\"><pre class=\"brush: html notranslate\"><code><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>ajaxButton<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>button<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>Make a request<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">&gt;</span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">&gt;</span></span><span class=\"token script\"><span class=\"token language-javascript\">\n<span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">var</span> httpRequest<span class=\"token punctuation\">;</span>\n  document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ajaxButton\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'click'</span><span class=\"token punctuation\">,</span> makeRequest<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">function</span> <span class=\"token function\">makeRequest</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    httpRequest <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">XMLHttpRequest</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>httpRequest<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Giving up :( Cannot create an XMLHTTP instance'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    httpRequest<span class=\"token punctuation\">.</span>onreadystatechange <span class=\"token operator\">=</span> alertContents<span class=\"token punctuation\">;</span>\n    httpRequest<span class=\"token punctuation\">.</span><span class=\"token function\">open</span><span class=\"token punctuation\">(</span><span class=\"token string\">'GET'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'test.html'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    httpRequest<span class=\"token punctuation\">.</span><span class=\"token function\">send</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">function</span> <span class=\"token function\">alertContents</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>httpRequest<span class=\"token punctuation\">.</span>readyState <span class=\"token operator\">===</span> XMLHttpRequest<span class=\"token punctuation\">.</span><span class=\"token constant\">DONE</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>httpRequest<span class=\"token punctuation\">.</span>status <span class=\"token operator\">===</span> <span class=\"token number\">200</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span>httpRequest<span class=\"token punctuation\">.</span>responseText<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span><span class=\"token string\">'There was a problem with the request.'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">&gt;</span></span>\n</code></pre></div>\n<p>åœ¨æ­¤ç¯„ä¾‹ä¸­ï¼š</p>\n<ul>\n  <li>é¦–å…ˆä½¿ç”¨è€…æŒ‰ä¸‹ã€ŒMake a requestã€</li>\n  <li>é€™éº¼ä¸€ä¾†å°±æœƒå‘¼å« <code>makeRequest()</code> å‡½å¼ï¼Œäº¦å‚³å…¥åƒæ•¸å€¼ <code>test.html</code> (ä¹Ÿå°±æ˜¯é‚£ä»½ HTML æª”çš„åç¨±ï¼Œæ”¾åœ¨åŒç›®éŒ„ä¸‹)</li>\n  <li>æ¥è‘—ç™¼å‡º requestï¼Œè€Œå¾Œæœƒå°‡ä¸»å°æ¬Šäº¤çµ¦ <code>onreadystatechange</code> æŒ‡å®šçš„ <code>alertContents()</code> å‡½å¼</li>\n  <li><code>alertContents()</code> æª¢æŸ¥å›æ‡‰æ˜¯å¦æ­£å¸¸ï¼Œè€Œå¾Œä»¥ <code>alert()</code> å°‡ <code>test.html</code> çš„å…§å®¹åˆ—å‡º</li>\n</ul>\n<p>ä½ å¯ä»¥<a href=\"https://www.w3clubs.com/mozdev/httprequest_test.html\" class=\"external\" rel=\" noopener\">ç”±æ­¤æ¸¬è©¦æœ¬ä¾‹</a>ï¼Œä¹Ÿå¯ä»¥åƒè€ƒ<a href=\"https://www.w3clubs.com/mozdev/test.html\" class=\"external\" rel=\" noopener\">æ¸¬è©¦æª”æ¡ˆ</a>ã€‚</p>\n<div class=\"notecard note\" id=\"sect2\">\n  <p><strong>å‚™è¨»ï¼š</strong> å¦‚æœä½ å‚³é€ä¸€å€‹è¦æ±‚åˆ°ä¸€æ®µä»£ç¢¼ï¼Œè€Œé€™æ®µä»£ç¢¼å°‡å›æ‡‰ XML è€Œééœæ…‹çš„ HTML æª”ï¼Œé‚£å‰‡å¿…é ˆè¦è¨­å®šä¸€å€‹å¯ä»¥åœ¨ IE ä¸­é‹ä½œçš„ headerã€‚å¦‚æœæˆ‘å€‘ä¸è¨­å®š header <code>Content-Type: application/xml</code>ï¼ŒIE å°‡æœƒåœ¨æˆ‘å€‘è©¦åœ–é‹ä½œçš„ XML é …ç›®è¡Œä¸‹ï¼Œå›æ‡‰ä¸€å€‹\"Object Expected\" çš„éŒ¯èª¤ã€‚</p>\n</div>\n<div class=\"notecard note\" id=\"sect3\">\n  <p><strong>å‚™è¨»ï¼š</strong> å¦‚æœæˆ‘å€‘æ²’æœ‰è¨­å®š header <code>Cache-Control: no-cache</code>ï¼Œé‚£ç€è¦½å™¨å°‡æœƒè—åŒ¿ response ä¸¦ä¸”ä¸å†é‡æ–°å‚³é€ requestï¼Œé€ æˆé™¤éŒ¯ä¸Šçš„æŒ‘æˆ°ã€‚æˆ‘å€‘ä¹Ÿå¯ä»¥å¢åŠ ä¸€å€‹ always-different GET åƒæ•¸ï¼Œåƒæ˜¯ timestamp æˆ– random number (è©³è¦‹<a href=\"/zh-TW/docs/Web/API/XMLHttpRequest/Using_XMLHttpRequest#bypassing_the_cache\">bypassing the cache</a>)</p>\n</div>\n<div class=\"notecard note\" id=\"sect4\">\n  <p><strong>å‚™è¨»ï¼š</strong> If the <code>httpRequest</code> variable is used globally, competing functions calling <code>makeRequest()</code> can overwrite each other, causing a race condition. Declaring the <code>httpRequest</code> variable local to a <a href=\"/zh-TW/docs/JavaScript/Guide/Closures\">closure</a> containing the AJAX functions avoids this.</p>\n</div>\n<p>In the event of a communication error (such as the server going down), an exception will be thrown in the <code>onreadystatechange</code> method when accessing the response status. To mitigate this problem, you could wrap your <code>if...then</code> statement in a <code>try...catch</code>:</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">function</span> <span class=\"token function\">alertContents</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>httpRequest<span class=\"token punctuation\">.</span>readyState <span class=\"token operator\">===</span> XMLHttpRequest<span class=\"token punctuation\">.</span><span class=\"token constant\">DONE</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>httpRequest<span class=\"token punctuation\">.</span>status <span class=\"token operator\">===</span> <span class=\"token number\">200</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span>httpRequest<span class=\"token punctuation\">.</span>responseText<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span><span class=\"token string\">'There was a problem with the request.'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token keyword\">catch</span><span class=\"token punctuation\">(</span> e <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Caught Exception: '</span> <span class=\"token operator\">+</span> e<span class=\"token punctuation\">.</span>description<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>"}},{"type":"prose","value":{"id":"ç¬¬å››æ­¥_â€“_é‹ç”¨_xml_è³‡æ–™","title":"ç¬¬å››æ­¥ â€“ é‹ç”¨ XML è³‡æ–™","isH3":true,"content":"<p>å‰é¢çš„ä¾‹å­ä¸­ï¼Œåœ¨æ”¶åˆ° HTTP å‚³å›å€¼å¾Œæˆ‘å€‘ä»¥ç‰©ä»¶çš„ <code>reponseText</code> å±¬æ€§æ¥æ”¶ <code>test.html</code> æª”æ¡ˆçš„å…§å®¹ï¼Œæ¥è‘—ä¾†è©¦è©¦ <code>responseXML</code> å±¬æ€§ã€‚</p>\n<p>é¦–å…ˆï¼Œæˆ‘å€‘å¾—åšå€‹æ ¼å¼æ­£ç¢ºçš„ XML æ–‡ä»¶ä»¥ä¾¿ç¨å¾Œå–ç”¨ã€‚æ–‡ä»¶ (<code>test.xml</code>) å…§å®¹å¦‚ä¸‹ï¼š</p>\n<div class=\"code-example\"><pre class=\"brush: html notranslate\"><code><span class=\"token prolog\">&lt;?xml version=\"1.0\" ?&gt;</span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>root</span><span class=\"token punctuation\">&gt;</span></span>\n    I'm a test.\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>root</span><span class=\"token punctuation\">&gt;</span></span>\n</code></pre></div>\n<p>åœ¨ç¨‹å¼ä¸­ï¼Œæˆ‘å€‘å«ç”¨æª”æ¡ˆçš„åœ°æ–¹åªé ˆç•¥äº‹ä¿®æ”¹å¦‚ä¸‹ï¼š</p>\n<div class=\"code-example\"><pre class=\"brush: html notranslate\"><code>...\nonclick=\"makeRequest('test.xml')\"&gt;\n...\n</code></pre></div>\n<p>æ¥è‘—åœ¨ <code>alertContents()</code> ä¸­ï¼Œæˆ‘å€‘æŠŠ <code>alert(http_request.responseText);</code> æ”¹æˆé€™æ¨£ï¼š</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">var</span> xmldoc <span class=\"token operator\">=</span> httpRequest<span class=\"token punctuation\">.</span>responseXML<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> root_node <span class=\"token operator\">=</span> xmldoc<span class=\"token punctuation\">.</span><span class=\"token function\">getElementsByTagName</span><span class=\"token punctuation\">(</span><span class=\"token string\">'root'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">item</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">alert</span><span class=\"token punctuation\">(</span>root_node<span class=\"token punctuation\">.</span>firstChild<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<p>é€™æ¨£ä¸€ä¾†æˆ‘å€‘ä¾¿å¯å–å¾— <code>responseXML</code> æ‰€å‚³å›çš„ <code>XMLDocument</code> ç‰©ä»¶ï¼Œè€Œå¾Œä»¥ DOM æ–¹æ³•å–ç”¨ XML æ–‡ä»¶çš„å…§å®¹ã€‚ä½ å¯ä»¥åƒè€ƒ <a href=\"https://www.w3clubs.com/mozdev/test.xml\" class=\"external\" rel=\" noopener\"><code>test.xml</code> çš„åŸå§‹ç¢¼</a> ä»¥åŠä¿®æ”¹éå¾Œçš„<a href=\"https://www.w3clubs.com/mozdev/httprequest_test_xml.html\" class=\"external\" rel=\" noopener\">æ¸¬è©¦ç¨‹å¼</a>ã€‚</p>\n<p>é—œæ–¼ DOM æ–¹æ³•ï¼Œè«‹åƒè€ƒ <a href=\"https://www.mozilla.org/docs/dom/\" class=\"external\" rel=\" noopener\">Mozilla DOM</a> æ–‡ä»¶ã€‚</p>"}},{"type":"prose","value":{"id":"step_5_â€“_working_with_data","title":"Step 5 â€“ Working with data","isH3":true,"content":"<p>Finally, let's send some data to the server and receive a response. Our JavaScript will request a dynamic page this time, <code>test.php</code>, which will take the data we send and return a \"computed\" string - \"Hello, [user data]!\" - which we'll <code>alert().</code></p>\n<p>First we'll add a text box to our HTML so the user can enter their name:</p>\n<div class=\"code-example\"><pre class=\"brush: html notranslate\"><code><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>label</span><span class=\"token punctuation\">&gt;</span></span>Your name:\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>ajaxTextbox<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>label</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>span</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>ajaxButton<span class=\"token punctuation\">\"</span></span> <span class=\"token special-attr\"><span class=\"token attr-name\">style</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token value css language-css\"><span class=\"token property\">cursor</span><span class=\"token punctuation\">:</span> pointer<span class=\"token punctuation\">;</span> <span class=\"token property\">text-decoration</span><span class=\"token punctuation\">:</span> underline</span><span class=\"token punctuation\">\"</span></span></span><span class=\"token punctuation\">&gt;</span></span>\n  Make a request\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>span</span><span class=\"token punctuation\">&gt;</span></span>\n</code></pre></div>\n<p>We'll also add a line to our event handler to get the user's data from the text box and send it to the <code>makeRequest()</code> function along with the URL of our server-side script:</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code>  document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ajaxButton\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onclick</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">var</span> userName <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ajaxTextbox\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">;</span>\n      <span class=\"token function\">makeRequest</span><span class=\"token punctuation\">(</span><span class=\"token string\">'test.php'</span><span class=\"token punctuation\">,</span>userName<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<p>We need to modify <code>makeRequest()</code> to accept the user data and pass it along to the server. We'll change the request method from <code>GET</code> to <code>POST</code>, and include our data as a parameter in the call to <code>httpRequest.send()</code>:</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code>  <span class=\"token keyword\">function</span> <span class=\"token function\">makeRequest</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">url<span class=\"token punctuation\">,</span> userName</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token operator\">...</span>\n\n    httpRequest<span class=\"token punctuation\">.</span>onreadystatechange <span class=\"token operator\">=</span> alertContents<span class=\"token punctuation\">;</span>\n    httpRequest<span class=\"token punctuation\">.</span><span class=\"token function\">open</span><span class=\"token punctuation\">(</span><span class=\"token string\">'POST'</span><span class=\"token punctuation\">,</span> url<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    httpRequest<span class=\"token punctuation\">.</span><span class=\"token function\">setRequestHeader</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Content-Type'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'application/x-www-form-urlencoded'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    httpRequest<span class=\"token punctuation\">.</span><span class=\"token function\">send</span><span class=\"token punctuation\">(</span><span class=\"token string\">'userName='</span> <span class=\"token operator\">+</span> <span class=\"token function\">encodeURIComponent</span><span class=\"token punctuation\">(</span>userName<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>The function <code>alertContents()</code> can be written the same way it was in Step 3 to alert our computed string, if that's all the server returns. However, let's say the server is going to return both the computed string and the original user data. So if our user typed \"Jane\" in the text box, the server's response would look like this:</p>\n<p><code>{\"userData\":\"Jane\",\"computedString\":\"Hi, Jane!\"}</code></p>\n<p>To use this data within <code>alertContents()</code>, we can't just alert the <code>responseText</code>, we have to parse it and alert <code>computedString</code>, the property we want:</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">function</span> <span class=\"token function\">alertContents</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>httpRequest<span class=\"token punctuation\">.</span>readyState <span class=\"token operator\">===</span> XMLHttpRequest<span class=\"token punctuation\">.</span><span class=\"token constant\">DONE</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>httpRequest<span class=\"token punctuation\">.</span>status <span class=\"token operator\">===</span> <span class=\"token number\">200</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">var</span> response <span class=\"token operator\">=</span> <span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">parse</span><span class=\"token punctuation\">(</span>httpRequest<span class=\"token punctuation\">.</span>responseText<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">.</span>computedString<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span><span class=\"token string\">'There was a problem with the request.'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>The <code>test.php file should contain the following:</code></p>\n<div class=\"code-example\"><pre class=\"brush: php notranslate\"><code><span class=\"token variable\">$name</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">isset</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$_POST</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'userName'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">?</span> <span class=\"token variable\">$_POST</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'userName'</span><span class=\"token punctuation\">]</span> <span class=\"token punctuation\">:</span> <span class=\"token string single-quoted-string\">'no name'</span><span class=\"token punctuation\">;</span>\n<span class=\"token variable\">$computedString</span> <span class=\"token operator\">=</span> <span class=\"token string double-quoted-string\">\"Hi, \"</span> <span class=\"token operator\">.</span> <span class=\"token variable\">$name</span><span class=\"token punctuation\">;</span>\n<span class=\"token variable\">$array</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'userName'</span> <span class=\"token operator\">=&gt;</span> <span class=\"token variable\">$name</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'computedString'</span> <span class=\"token operator\">=&gt;</span> <span class=\"token variable\">$computedString</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">echo</span> <span class=\"token function\">json_encode</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$array</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<p><code>For more on DOM methods, be sure to check Mozilla's DOM implementation documents.</code></p>"}}],"toc":[],"summary":"é€™ç¯‡æ–‡ç« èªªæ˜ AJAX ç›¸é—œæŠ€è¡“çš„åŸºç¤ï¼Œä¸¦æä¾›å…©å€‹ç°¡å–®çš„å¯¦éš›æ“ä½œç¯„ä¾‹ä¾›æ‚¨å…¥é–€ã€‚","popularity":0.0002,"modified":"2022-10-01T03:41:16.000Z","other_translations":[{"title":"Getting Started","locale":"en-US","native":"English (US)"},{"title":"Primeros Pasos","locale":"es","native":"EspaÃ±ol"},{"title":"Premiers pas","locale":"fr","native":"FranÃ§ais"},{"title":"å§‹ã‚ã¾ã—ã‚‡ã†","locale":"ja","native":"æ—¥æœ¬èª"},{"title":"Ajax ì‹œì‘í•˜ê¸°","locale":"ko","native":"í•œêµ­ì–´"},{"title":"Primeiros passos","locale":"pt-BR","native":"PortuguÃªs (doÂ Brasil)"},{"title":"Ğ¡ Ñ‡ĞµĞ³Ğ¾ Ğ½Ğ°Ñ‡Ğ°Ñ‚ÑŒ","locale":"ru","native":"Ğ ÑƒÑÑĞºĞ¸Ğ¹"},{"title":"Getting Started","locale":"zh-CN","native":"ä¸­æ–‡ (ç®€ä½“)"}],"source":{"folder":"zh-tw/web/guide/ajax/getting_started","github_url":"https://github.com/mdn/translated-content/blob/main/files/zh-tw/web/guide/ajax/getting_started/index.md","last_commit_url":"https://github.com/mdn/translated-content/commit/921c46a374ab0a9f4cc809af0370f8c412e54701","filename":"index.md"},"parents":[{"uri":"/zh-TW/docs/Web","title":"çµ¦é–‹ç™¼è€…çš„ç¶²é æŠ€è¡“æ–‡ä»¶"},{"uri":"/zh-TW/docs/Web/Guide","title":"Web é–‹ç™¼è€…æŒ‡å¼•"},{"uri":"/zh-TW/docs/Web/Guide/AJAX","title":"Ajax"},{"uri":"/zh-TW/docs/Web/Guide/AJAX/Getting_Started","title":"å…¥é–€ç¯‡"}],"pageTitle":"å…¥é–€ç¯‡ - Web é–‹ç™¼è€…æŒ‡å¼• | MDN","noIndexing":false}}</script></body></html>