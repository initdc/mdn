{"doc":{"isMarkdown":true,"isTranslated":true,"isActive":true,"flaws":{},"title":"WebSocket","mdn_url":"/zh-TW/docs/Web/API/WebSocket","locale":"zh-TW","native":"正體中文 (繁體)","sidebarHTML":"","body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<div class=\"notecard experimental\" id=\"sect1\"><p><strong>Experimental:</strong> <strong>這是一個實驗中的功能</strong><br>此功能在某些瀏覽器尚在開發中，請參考<a href=\"#browser_compatibility\">兼容表格</a>以得到不同瀏覽器用的前輟。</p></div>\n<p><code>WebSocket</code> 物件提供了建立、管理 <a href=\"/zh-TW/WebSockets\">WebSocket</a> 伺服器連線的 API，它也有在連線中傳送、接收資料的能力。</p>"}},{"type":"prose","value":{"id":"方法一覽","title":"方法一覽","isH3":false,"content":"<table>\n  <thead>\n    <tr>\n      <th><code>void close(in optional unsigned long code, in optional DOMString reason);</code></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <td><code>void send(in DOMString data);</code></td>\n    </tr>\n  </tbody>\n</table>"}},{"type":"prose","value":{"id":"屬性","title":"屬性","isH3":false,"content":"<table>\n  <thead>\n    <tr>\n      <th>屬性</th>\n      <th>形態</th>\n      <th>描述</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <td><code>binaryType</code></td>\n      <td><a href=\"/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/String\"><code>DOMString</code></a></td>\n      <td>表示連線傳輸的二進制資料形態的字串，若使用 <a href=\"/zh-TW/docs/Web/API/Blob\"><code>Blob</code></a> 物件則為 \"blob\"，使用 <a href=\"/zh-TW/JavaScript_typed_arrays/ArrayBuffer\"><code>ArrayBuffer</code></a> 物件則為 \"arraybuffer\"。</td>\n    </tr>\n    <tr>\n      <td><code>bufferedAmount</code></td>\n      <td><a href=\"/zh-TW/unsigned_long\" class=\"page-not-created\" title=\"This is a link to an unwritten page\"><code>unsigned long</code></a></td>\n      <td>呼叫 <a href=\"#send\"><code>send()</code></a> 隊列但尚未傳輸至網路上資料的位元數。連線關閉時此值不會重設為零。連續呼叫 <a href=\"#send\"><code>send()</code></a> 會讓此值不斷上升。<strong>唯讀</strong></td>\n    </tr>\n    <tr>\n      <td><code>extensions</code></td>\n      <td><a href=\"/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/String\"><code>DOMString</code></a></td>\n      <td>伺服器選擇的擴展。目前僅有空字串或表示資料經過壓縮的 \"deflate-stream\"。<strong>唯讀</strong></td>\n    </tr>\n    <tr>\n      <td><code>onclose</code></td>\n      <td><a href=\"/zh-TW/docs/Web/API/EventTarget/addEventListener\"><code>EventListener</code></a></td>\n      <td>當 WebSocket 連線的 <code>readyState</code> 切換至 <code>CLOSED</code> 時呼叫的事件監聽器。監聽器接收命名為 \"close\" 的 <a href=\"/zh-TW/WebSockets/WebSockets_reference/CloseEvent\"><code>CloseEvent</code></a>。</td>\n    </tr>\n    <tr>\n      <td><code>onerror</code></td>\n      <td><a href=\"/zh-TW/docs/Web/API/EventTarget/addEventListener\"><code>EventListener</code></a></td>\n      <td>當錯誤發生時呼叫的事件監聽器。事件為命名 \"error\" 的簡單事件。</td>\n    </tr>\n    <tr>\n      <td><code>onmessage</code></td>\n      <td><a href=\"/zh-TW/docs/Web/API/EventTarget/addEventListener\"><code>EventListener</code></a></td>\n      <td>當瀏覽器接收伺服器的訊息時呼叫的事件監聽器。監聽器接收命名為 \"message\" 的 <a href=\"/zh-TW/WebSockets/WebSockets_reference/MessageEvent\"><code>MessageEvent</code></a>。</td>\n    </tr>\n    <tr>\n      <td><code>onopen</code></td>\n      <td><a href=\"/zh-TW/docs/Web/API/EventTarget/addEventListener\"><code>EventListener</code></a></td>\n      <td>當 WebSocket 連線的 <code>readyState</code> 切換至 <code>OPEN</code> 時呼叫的事件監聽器，表示連線已準備傳送、接收資料。事件為命名 \"open\" 的簡單事件。</td>\n    </tr>\n    <tr>\n      <td><code>protocol</code></td>\n      <td><a href=\"/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/String\"><code>DOMString</code></a></td>\n      <td>伺服器選擇的子協定，這是建立 WebSocket 物件時 <code>protocols</code> 參數裡的其中一個字串。</td>\n    </tr>\n    <tr>\n      <td><code>readyState</code></td>\n      <td><a href=\"/zh-TW/unsigned_short\" class=\"page-not-created\" title=\"This is a link to an unwritten page\"><code>unsigned short</code></a></td>\n      <td>連線的目前狀態，是就緒狀態常數的其中一個。<strong>唯讀</strong></td>\n    </tr>\n    <tr>\n      <td><code>url</code></td>\n      <td><a href=\"/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/String\"><code>DOMString</code></a></td>\n      <td>建構方法解析出來的 URL，總是絕對 URL。<strong>唯讀</strong></td>\n    </tr>\n  </tbody>\n</table>"}},{"type":"prose","value":{"id":"常數","title":"常數","isH3":false,"content":""}},{"type":"prose","value":{"id":"就緒狀態常數","title":"就緒狀態常數","isH3":true,"content":"<p><code>readyState</code> 屬性使用以下常數描述 WebSocket 的連線狀態。</p>\n<table>\n  <thead>\n    <tr>\n      <th>常數</th>\n      <th>值</th>\n      <th>描述</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <td><code>CONNECTING</code></td>\n      <td><code>0</code></td>\n      <td>連線尚未打開。</td>\n    </tr>\n    <tr>\n      <td><code>OPEN</code></td>\n      <td><code>1</code></td>\n      <td>連線已打開，可以進行通訊。</td>\n    </tr>\n    <tr>\n      <td><code>CLOSING</code></td>\n      <td><code>2</code></td>\n      <td>連線正在進行關閉程序。</td>\n    </tr>\n    <tr>\n      <td><code>CLOSED</code></td>\n      <td><code>3</code></td>\n      <td>連線已關閉／連線不能打開。</td>\n    </tr>\n  </tbody>\n</table>"}},{"type":"prose","value":{"id":"方法","title":"方法","isH3":false,"content":""}},{"type":"prose","value":{"id":"close","title":"close()","isH3":true,"content":"<p>關閉 WebSocket 連線／連線嘗試，若連線已為 <code>CLOSED</code>，此方法沒有作用。</p>\n<div class=\"code-example\"><pre class=\"brush: plain notranslate\">void close(\n  in optional unsigned short code,\n  in optional DOMString reason\n);\n</pre></div>\n<h4 id=\"參數\">參數</h4>\n<dl>\n  <dt id=\"code\"><code>code</code> <span class=\"badge inline optional\">選擇性</span></dt>\n  <dd>\n    <p>表示狀態代碼，狀態代碼用以解釋連線關閉的原因。若未指定參數，預設值為 1000（表示正常的「事務完結（transaction complete）」關閉）。請參考 <a href=\"/zh-TW/WebSockets/WebSockets_reference/CloseEvent\"><code>CloseEvent</code></a> 頁面的<a href=\"/zh-TW/WebSockets/WebSockets_reference/CloseEvent#.e7.8b.80.e6.85.8b.e4.bb.a3.e7.a2.bc\">狀態代碼列表</a>，有所有的合法值。</p>\n  </dd>\n  <dt id=\"reason\"><code>reason</code> <span class=\"badge inline optional\">選擇性</span></dt>\n  <dd>\n    <p>解釋連線關閉原因的人類可讀字串，字串必不可大於 123 個 UTF-8 字符。</p>\n  </dd>\n</dl>\n<h4 id=\"可丟例外\">可丟例外</h4>\n<dl>\n  <dt id=\"invalid_access_err\"><code>INVALID_ACCESS_ERR</code></dt>\n  <dd>\n    <p>指定不合法的 <code>code</code>。</p>\n  </dd>\n  <dt id=\"syntax_err\"><code>SYNTAX_ERR</code></dt>\n  <dd>\n    <p><code>reason</code> 字串太長或是含有未配對的代理對。</p>\n  </dd>\n</dl>"}},{"type":"prose","value":{"id":"send","title":"send()","isH3":true,"content":"<p>透過 WebSocket 連線傳輸資料至伺服器。</p>\n<div class=\"code-example\"><pre class=\"brush: plain notranslate\">void send(\n  in DOMString data\n);\n\nvoid send(\n  in ArrayBuffer data\n);\n\nvoid send(\n  in Blob data\n);\n</pre></div>\n<h4 id=\"參數_2\">參數</h4>\n<dl>\n  <dt id=\"data\"><code>data</code></dt>\n  <dd>\n    <p>要傳送至伺服器的字串。</p>\n  </dd>\n</dl>\n<h4 id=\"可丟例外_2\">可丟例外</h4>\n<dl>\n  <dt id=\"invalid_state_err\"><code>INVALID_STATE_ERR</code></dt>\n  <dd>\n    <p>目前連線不為 <code>OPEN</code>。</p>\n  </dd>\n  <dt id=\"syntax_err_2\"><code>SYNTAX_ERR</code></dt>\n  <dd>\n    <p>資料為帶有未配對代理對的字串。</p>\n  </dd>\n</dl>\n<h4 id=\"註釋\">註釋</h4>\n<div class=\"notecard note\" id=\"sect2\">\n  <p><strong>備註：</strong> Gecko <code>send()</code> 方法的實作與 Gecko 6.0 的規範有差別。Gecko 回傳一個 <code>boolean</code> 以表示連線是否仍處於開啟狀態（且資料成功隊列／傳輸）。另外，此時此刻，Gecko 不支援 <a href=\"/zh-TW/JavaScript_typed_arrays/ArrayBuffer\"><code>ArrayBuffer</code></a> 或 <a href=\"/zh-TW/docs/Web/API/Blob\"><code>Blob</code></a> 作為資料形態。</p>\n</div>"}},{"type":"prose","value":{"id":"參見","title":"參見","isH3":false,"content":"<ul>\n  <li><a href=\"/zh-TW/WebSockets/Writing_WebSocket_client_applications\">製作 WebSocket 客戶端應用程式</a></li>\n  <li><a href=\"https://dev.w3.org/html5/websockets/\" class=\"external\" rel=\" noopener\">HTML5: WebSockets</a></li>\n</ul>"}},{"type":"browser_compatibility","value":{"title":"瀏覽器兼容","id":"瀏覽器兼容","isH3":false,"query":"api.WebSocket","dataURL":"/zh-TW/docs/Web/API/WebSocket/bcd.json"}}],"toc":[{"text":"方法一覽","id":"方法一覽"},{"text":"屬性","id":"屬性"},{"text":"常數","id":"常數"},{"text":"方法","id":"方法"},{"text":"參見","id":"參見"},{"text":"瀏覽器兼容","id":"瀏覽器兼容"}],"summary":"WebSocket 物件提供了建立、管理 WebSocket 伺服器連線的 API，它也有在連線中傳送、接收資料的能力。","popularity":0.0005,"modified":"2022-10-01T03:41:16.000Z","other_translations":[{"title":"WebSocket","locale":"en-US","native":"English (US)"},{"title":"WebSocket","locale":"es","native":"Español"},{"title":"WebSocket","locale":"fr","native":"Français"},{"title":"WebSocket","locale":"ja","native":"日本語"},{"title":"WebSocket","locale":"ko","native":"한국어"},{"title":"WebSocket","locale":"pt-BR","native":"Português (do Brasil)"},{"title":"WebSocket","locale":"ru","native":"Русский"},{"title":"WebSocket","locale":"zh-CN","native":"中文 (简体)"}],"source":{"folder":"zh-tw/web/api/websocket","github_url":"https://github.com/mdn/translated-content/blob/main/files/zh-tw/web/api/websocket/index.md","last_commit_url":"https://github.com/mdn/translated-content/commit/921c46a374ab0a9f4cc809af0370f8c412e54701","filename":"index.md"},"parents":[{"uri":"/zh-TW/docs/Web","title":"給開發者的網頁技術文件"},{"uri":"/zh-TW/docs/Web/API","title":"Web APIs"},{"uri":"/zh-TW/docs/Web/API/WebSocket","title":"WebSocket"}],"pageTitle":"WebSocket - Web APIs | MDN","noIndexing":false}}