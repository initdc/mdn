{"doc":{"isMarkdown":true,"isTranslated":true,"isActive":true,"flaws":{},"title":"data URIs","mdn_url":"/zh-TW/docs/Web/HTTP/Basics_of_HTTP/Data_URLs","locale":"zh-TW","native":"正體中文 (繁體)","sidebarHTML":"","body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<p><code>data</code> URIs, 由 <a href=\"https://tools.ietf.org/html/rfc2397\" class=\"external\" rel=\" noopener\">RFC 2397</a> 文件定義, 允許作者在文件中嵌入檔案.</p>"}},{"type":"prose","value":{"id":"表達式","title":"表達式","isH3":false,"content":"<p>data URI 的表達式如下：</p>\n<div class=\"code-example\"><pre class=\"brush: plain notranslate\">data:[&lt;mediatype&gt;][;base64],&lt;data&gt;\n</pre></div>\n<p><code>mediatype</code> 為一 MIME type 字串，例如 JPEG 圖檔為「<code>image/jpeg</code>」，為非必要參數，若省略的話，默認值為「<code>text/plain;charset=US-ASCII</code>」。</p>\n<p>If the data is textual, you can simply embed the text (using the appropriate entities or escapes based on the enclosing document's type). Otherwise, you can specify <code>base64</code> to embed base64-encoded binary data.</p>"}},{"type":"prose","value":{"id":"範例","title":"範例","isH3":true,"content":"<dl>\n  <dt id=\"datahello2c20world!\">data:,Hello%2C%20World!</dt>\n  <dd>\n    <p>一個簡單的 text/plain data</p>\n  </dd>\n  <dt id=\"datatextplainbase64sgvsbg8sifdvcmxkiq3d3d\">data:text/plain;base64,SGVsbG8sIFdvcmxkIQ%3D%3D</dt>\n  <dd>\n    <p>同前者，但經過 base64 編碼。</p>\n  </dd>\n  <dt id=\"datatexthtml3ch13ehello2c20world!3c2fh13e\">data:text/html,%3Ch1%3EHello%2C%20World!%3C%2Fh1%3E</dt>\n  <dd>\n    <p>一 HTML 檔，內容為<code>&lt;h1&gt;Hello, World&lt;/h1&gt;</code></p>\n  </dd>\n</dl>"}},{"type":"prose","value":{"id":"以_base64_格式編碼資料","title":"以 base64 格式編碼資料","isH3":false,"content":"<p>在 Linux 和 Mac OS X 中，可以在終端機輸入下面的程式碼來進行編碼：</p>\n<div class=\"code-example\"><pre class=\"brush: plain notranslate\">uuencode -m infile remotename\n</pre></div>\n<p>The <code>infile</code> parameter is the name of the file you wish to encode into base64 format, and <code>remotename</code> is the remote name for the file, which isn't actually used in <code>data</code> URLs.</p>\n<p>輸出結果如下所示：</p>\n<div class=\"code-example\"><pre class=\"brush: plain notranslate\">begin-base64 664 test\nYSBzbGlnaHRseSBsb25nZXIgdGVzdCBmb3IgdGV2ZXIK\n====\n</pre></div>\n<p>The <code>data</code> URI will use the encoded data after the initial header line.</p>"}},{"type":"prose","value":{"id":"javascript","title":"JavaScript","isH3":true,"content":"<p>請先閱讀文章《 <a href=\"/en-US/docs/Glossary/Base64\" class=\"only-in-en-us\" title=\"Currently only available in English (US)\">Base64 encoding and decoding (en-US)</a>. 》。</p>"}},{"type":"prose","value":{"id":"轉換_nsifile_至_data_uri","title":"轉換 nsIFile 至 data URI","isH3":false,"content":"<p>This function returns a base 64-encoded data URI from the passed <a href=\"/zh-TW/XPCOM_Interface_Reference/nsIFile\" class=\"page-not-created\" title=\"This is a link to an unwritten page\">nsIFile</a>.</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">function</span> <span class=\"token function\">generateDataURI</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">file</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">var</span> contentType <span class=\"token operator\">=</span> Components<span class=\"token punctuation\">.</span>classes<span class=\"token punctuation\">[</span><span class=\"token string\">\"@mozilla.org/mime;1\"</span><span class=\"token punctuation\">]</span>\n                              <span class=\"token punctuation\">.</span><span class=\"token function\">getService</span><span class=\"token punctuation\">(</span>Components<span class=\"token punctuation\">.</span>interfaces<span class=\"token punctuation\">.</span>nsIMIMEService<span class=\"token punctuation\">)</span>\n                              <span class=\"token punctuation\">.</span><span class=\"token function\">getTypeFromFile</span><span class=\"token punctuation\">(</span>file<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">var</span> inputStream <span class=\"token operator\">=</span> Components<span class=\"token punctuation\">.</span>classes<span class=\"token punctuation\">[</span><span class=\"token string\">\"@mozilla.org/network/file-input-stream;1\"</span><span class=\"token punctuation\">]</span>\n                              <span class=\"token punctuation\">.</span><span class=\"token function\">createInstance</span><span class=\"token punctuation\">(</span>Components<span class=\"token punctuation\">.</span>interfaces<span class=\"token punctuation\">.</span>nsIFileInputStream<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  inputStream<span class=\"token punctuation\">.</span><span class=\"token function\">init</span><span class=\"token punctuation\">(</span>file<span class=\"token punctuation\">,</span> <span class=\"token number\">0x01</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0600</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">var</span> stream <span class=\"token operator\">=</span> Components<span class=\"token punctuation\">.</span>classes<span class=\"token punctuation\">[</span><span class=\"token string\">\"@mozilla.org/binaryinputstream;1\"</span><span class=\"token punctuation\">]</span>\n                         <span class=\"token punctuation\">.</span><span class=\"token function\">createInstance</span><span class=\"token punctuation\">(</span>Components<span class=\"token punctuation\">.</span>interfaces<span class=\"token punctuation\">.</span>nsIBinaryInputStream<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  stream<span class=\"token punctuation\">.</span><span class=\"token function\">setInputStream</span><span class=\"token punctuation\">(</span>inputStream<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">var</span> encoded <span class=\"token operator\">=</span> <span class=\"token function\">btoa</span><span class=\"token punctuation\">(</span>stream<span class=\"token punctuation\">.</span><span class=\"token function\">readBytes</span><span class=\"token punctuation\">(</span>stream<span class=\"token punctuation\">.</span><span class=\"token function\">available</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> <span class=\"token string\">\"data:\"</span> <span class=\"token operator\">+</span> contentType <span class=\"token operator\">+</span> <span class=\"token string\">\";base64,\"</span> <span class=\"token operator\">+</span> encoded<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>"}},{"type":"prose","value":{"id":"安全","title":"安全","isH3":false,"content":"<div class=\"notecard note\" id=\"sect1\">\n  <p><strong>備註：</strong> Prior to <span title=\"(Firefox 6.0 / Thunderbird 6.0 / SeaMonkey 2.3)\">Gecko&nbsp;6.0</span>, <code>data</code> URIs inherited the security context of the page currently in the browser window if the user enters a <code>data</code> URI into the location bar. Now <code>data</code> URIs get a new, empty, security context.</p>\n</div>"}},{"type":"prose","value":{"id":"常見的問題","title":"常見的問題","isH3":false,"content":"<p>以下列舉幾個再使用 <code>data</code> URIs 時常遇到的問題.</p>\n<dl>\n  <dt id=\"表達式_2\">表達式</dt>\n  <dd>\n    <p><code>data</code> URIs 的格式十分簡單, 但是我們容易忘記在 \"data\" 區塊前面使用逗號, 或是不正確的將資料轉換為 base64 的格式.</p>\n  </dd>\n  <dt id=\"在_html_的格式\">在 HTML 的格式</dt>\n  <dd>\n    <p>A <code>data</code> URI provides a file within a file, which can potentially be very wide relative to the width of the enclosing document. As a URL, the <code>data</code> should be formatable with whitespace (linefeed, tab, or spaces), but there are practical issues that arise <a href=\"https://bugzilla.mozilla.org/show_bug.cgi?id=73026#c12\" class=\"external\" rel=\" noopener\">when using base64 encoding</a>.</p>\n  </dd>\n  <dt id=\"長度限制\">長度限制</dt>\n  <dd>\n    <p>Although Mozilla supports <code>data</code> URIs of essentially unlimited length, browsers are not required to support any particular maximum length of data. For example, the Opera 11 browser limits <code>data</code> URIs to around 65000 characters.</p>\n  </dd>\n  <dt id=\"缺乏錯誤處理\">缺乏錯誤處理</dt>\n  <dd>\n    <p>Invalid parameters in media, or typos when specifying \"base64\", are ignored, but no error is provided.</p>\n  </dd>\n  <dt id=\"未支援_query_字串_etc\">未支援 query 字串, etc.</dt>\n  <dd>\n    <p>The data portion of a data URI is opaque, so an attempt to use a query string (page-specific parameters, with the syntax <code>&lt;url&gt;?parameter-data</code>) with a data URI will just include the query string in the data the URI represents. For example:</p>\n    <div class=\"code-example\"><pre class=\"brush: plain notranslate\">data:text/html,lots of text...&lt;p&gt;&lt;a name%3D\"bottom\"&gt;bottom&lt;/a&gt;?arg=val\n</pre></div>\n    <p>This represents an HTML resource whose contents are:</p>\n    <div class=\"code-example\"><pre class=\"brush: plain notranslate\">lots of text...&lt;p&gt;&lt;a name=\"bottom\"&gt;bottom&lt;/a&gt;?arg=val\n</pre></div>\n    <p>Note: as of Firefox 6, fragments (anchors) are processed consistent with other URI schemes, thus a bare \"#\" in the content needs to be escaped as '%23'.</p>\n  </dd>\n</dl>"}},{"type":"prose","value":{"id":"瀏覽器的支援","title":"瀏覽器的支援","isH3":false,"content":"<p>The <code>data</code> scheme is supported by Opera 7.20 and above, as well as Safari and Konqueror. Internet Explorer 7 and below, however, do not currently support it. Internet Explorer 8 and above only supports <code>data</code> URIs for images in CSS, &lt;link&gt;, and &lt;img&gt;.</p>"}},{"type":"prose","value":{"id":"參見","title":"參見","isH3":false,"content":"<ul>\n  <li><a href=\"/en-US/docs/Glossary/Base64\" class=\"only-in-en-us\" title=\"Currently only available in English (US)\">Base64 encoding and decoding (en-US)</a></li>\n  <li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/atob\"><code>atob()</code> <small>(en-US)</small></a></li>\n  <li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/btoa\"><code>btoa()</code> <small>(en-US)</small></a></li>\n  <li><a href=\"/en-US/docs/Web/CSS/url\" class=\"only-in-en-us\" title=\"Currently only available in English (US)\">CSS url() (en-US)</a></li>\n  <li><a href=\"/en-US/docs/Glossary/URI\" class=\"only-in-en-us\" title=\"Currently only available in English (US)\">URI (en-US)</a></li>\n</ul>"}},{"type":"prose","value":{"id":"資源","title":"資源","isH3":false,"content":"<ul>\n  <li><a href=\"https://tools.ietf.org/html/rfc2397\" class=\"external\" rel=\" noopener\">RFC 2397</a> -- The \"data\" URL scheme\"</li>\n</ul>"}}],"toc":[{"text":"表達式","id":"表達式"},{"text":"以 base64 格式編碼資料","id":"以_base64_格式編碼資料"},{"text":"轉換 nsIFile 至 data URI","id":"轉換_nsifile_至_data_uri"},{"text":"安全","id":"安全"},{"text":"常見的問題","id":"常見的問題"},{"text":"瀏覽器的支援","id":"瀏覽器的支援"},{"text":"參見","id":"參見"},{"text":"資源","id":"資源"}],"summary":"data URIs, 由 RFC 2397 文件定義, 允許作者在文件中嵌入檔案.","popularity":0.0004,"modified":"2022-10-01T03:41:16.000Z","other_translations":[{"title":"Data URLs","locale":"en-US","native":"English (US)"},{"title":"Datos URIs","locale":"es","native":"Español"},{"title":"URLs de données","locale":"fr","native":"Français"},{"title":"データ URL","locale":"ja","native":"日本語"},{"title":"Data URIs","locale":"ko","native":"한국어"},{"title":"Data URL","locale":"ru","native":"Русский"},{"title":"Data URLs","locale":"zh-CN","native":"中文 (简体)"}],"source":{"folder":"zh-tw/web/http/basics_of_http/data_urls","github_url":"https://github.com/mdn/translated-content/blob/main/files/zh-tw/web/http/basics_of_http/data_urls/index.md","last_commit_url":"https://github.com/mdn/translated-content/commit/921c46a374ab0a9f4cc809af0370f8c412e54701","filename":"index.md"},"parents":[{"uri":"/zh-TW/docs/Web","title":"給開發者的網頁技術文件"},{"uri":"/zh-TW/docs/Web/HTTP","title":"HTTP"},{"uri":"/zh-TW/docs/Web/HTTP/Basics_of_HTTP","title":"Basics of HTTP"},{"uri":"/zh-TW/docs/Web/HTTP/Basics_of_HTTP/Data_URLs","title":"data URIs"}],"pageTitle":"data URIs - HTTP | MDN","noIndexing":false}}