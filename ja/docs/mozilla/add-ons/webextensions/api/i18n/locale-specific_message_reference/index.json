{"doc":{"isMarkdown":true,"isTranslated":true,"isActive":true,"flaws":{},"title":"ロケール固有のメッセージ参照","mdn_url":"/ja/docs/Mozilla/Add-ons/WebExtensions/API/i18n/Locale-Specific_Message_reference","locale":"ja","native":"日本語","sidebarHTML":"","body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<p>国際化対応 (i18n) した拡張機能は、ロケール固有のメッセージを提供する少なくとも 1 個の <code>messages.json</code> というファイルを持っています。このページでは、<code>messages.json</code> の書式を説明します。</p>\n<div class=\"notecard note\" id=\"sect1\">\n  <p><strong>Note:</strong> <strong>補足</strong>: 拡張機能を国際化する方法についての情報は、<a href=\"/ja/docs/Mozilla/Add-ons/WebExtensions/WebExtension_i18n\">i18n</a> ガイドを参照してください。</p>\n</div>"}},{"type":"prose","value":{"id":"messages.json_example","title":"messages.json example","isH3":false,"content":"<p>次のコードは、<a href=\"https://github.com/mdn/webextensions-examples/tree/master/notify-link-clicks-i18n\" class=\"external\" rel=\" noopener\">notify-link-clicks-i18n example</a> 拡張機能から取られた <code>messages.json ファイル</code> の例示です。\"<em>name</em>\" と \"message\" のフィールドのみが必須です。</p>\n<div class=\"code-example\"><pre class=\"brush: json notranslate\"><code><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"extensionName\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"message\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Notify link clicks i18n\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"description\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Name of the extension.\"</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\n  <span class=\"token property\">\"extensionDescription\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"message\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"ユーザーがリンクをクリックしたときに通知を表示します。\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"description\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Description of the extension.\"</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\n  <span class=\"token property\">\"notificationTitle\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"message\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"クリック通知\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"description\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Title of the click notification.\"</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\n  <span class=\"token property\">\"notificationContent\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"message\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"$URL$ をクリックしました。\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"description\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Tells the user which link they clicked.\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"placeholders\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"url\"</span> <span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token property\">\"content\"</span> <span class=\"token operator\">:</span> <span class=\"token string\">\"$1\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"example\"</span> <span class=\"token operator\">:</span> <span class=\"token string\">\"https://developer.mozilla.org\"</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>"}},{"type":"prose","value":{"id":"ファイルの配置","title":"ファイルの配置","isH3":false,"content":"<p><code>messages.json</code> ファイルは、サポートされたロケール名 (<code>en</code>, <code>de</code>, <code>ja</code> など) のディレクトリー内に置く必要があります。さらにこれらは、拡張機能のルートディレクトリ内の <code>_locales</code> と呼ばれるディレクトリー内に置く必要があります。</p>"}},{"type":"prose","value":{"id":"メンバーの詳細","title":"メンバーの詳細","isH3":false,"content":"<p>このセクションは、<code>messages.json</code> 内に記述される各メンバーについて説明します。</p>"}},{"type":"prose","value":{"id":"name","title":"name","isH3":true,"content":"<p>各トップレベルのメンバーは、ローカライズするメッセージ文字列の name の後に名付けられます。例えば、上記の例の <code>\"extensionName\"</code> や <code>\"notificationContent\"</code> です。name は大文字と小文字が区別され、ローカライズされたメッセージテキストを受け取るためのキーとして振る舞います。</p>\n<p>name には、次の文字が使用できます:</p>\n<ul>\n  <li>A-Z</li>\n  <li>a-z</li>\n  <li>0-9</li>\n  <li>_ (アンダースコア)</li>\n  <li>@</li>\n</ul>\n<div class=\"notecard note\" id=\"sect2\">\n  <p><strong>Note:</strong> @@ で始まる name を定義してはいけません。この名前は <a href=\"/ja/docs/Mozilla/Add-ons/WebExtensions/Internationalization#predefined_messages\">事前定義されたメッセージ</a> で予約されています。</p>\n</div>"}},{"type":"prose","value":{"id":"message","title":"message","isH3":true,"content":"<p><code>\"message\"</code> メンバーは、<a href=\"#placeholders\">placeholders</a> を含むことのできるローカライズされた文字列を含みます。次のように使用します:</p>\n<ul>\n  <li><em>$placeholder_name$</em> (大文字と小文字を区別) は、文字列に特定のプレースホルダー (例えば、上記の例の $URL$) を挿入します。</li>\n  <li><code>$1</code>, <code>$2</code>, <code>$3</code> 等は、<a href=\"/ja/docs/Mozilla/Add-ons/WebExtensions/API/i18n/getMessage\"><code>i18n.getMessage()</code></a> 呼び出し時に取得した値を文字列に直接挿入します。</li>\n</ul>\n<p>他の注意すべき点:</p>\n<ul>\n  <li>文字列の前後に現れるいくつかのドル記号は、その個数から 1 を引いた数分のドル記号に置き換えられます。つまり、$$ は $ に、$$$ は $$ になります。</li>\n  <li>ロケールファイルの読み込み時に、<code>/\\$([a-z0-9_@]+)\\$/i</code> と一致するトークンは、文字列の \"置き換え\" オブジェクトからの一致する値に置き換えられます。これらの置換は、メッセージ内の任意の <code>/\\$\\d/</code> トークンの処理よりも優先して行われます。</li>\n  <li>ロケール文字列が使用される時に、<code>/\\$\\d+/</code> と一致するトークンは、<a href=\"/ja/docs/Mozilla/Add-ons/WebExtensions/API/i18n/getMessage\"><code>i18n.getMessage()</code></a> に渡される replacement に置き換えられます。</li>\n  <li><code>getMessage()</code> は、placeholder/substitution の呼び出しを 9 個までしか処理しません。</li>\n</ul>"}},{"type":"prose","value":{"id":"description","title":"description","isH3":true,"content":"<span class=\"badge inline optional\">省略可</span>\n<p><code>\"description\"</code> メンバーは、文字列に最適な訳語を作成する助けとなる情報を翻訳者に提供するために、メッセージ文字列の内容についての説明を含みます。</p>"}},{"type":"prose","value":{"id":"placeholders","title":"placeholders","isH3":true,"content":"<span class=\"badge inline optional\">省略可</span>\n<p><code>\"placeholders\"</code> メンバーは、メッセージ内で使用されるいくつかのプレースホルダー補助文字列を定義します。これらは、翻訳してほしくないハードコードされたアイテムや変数を参照するアイテムに利用できます。</p>\n<p>各プレースホルダー補助文字列の定義は、それ自身がいくつかの値を持っています:</p>\n<div class=\"code-example\"><pre class=\"brush: json notranslate\"><code><span class=\"token property\">\"url\"</span> <span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"content\"</span> <span class=\"token operator\">:</span> <span class=\"token string\">\"$1\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"example\"</span> <span class=\"token operator\">:</span> <span class=\"token string\">\"https://developer.mozilla.org\"</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<h4 id=\"プレースホルダー名\">プレースホルダー名</h4>\n<p>プレースホルダー名は、補助文字列内の placeholder を表すために使用します (<code>\"url\"</code> は <code>$url$</code> になります)。これは、大文字と小文字が区別され、メッセージ文字列と同じ文字が使用できます <a href=\"#name\">name</a>。</p>\n<h4 id=\"content\">content</h4>\n<p>\"content\" アイテムは、placeholder の内容を定義します。これは、\"My placeholder\" などハードコードされた文字列にすることができますが、<a href=\"/ja/docs/Mozilla/Add-ons/WebExtensions/API/i18n/getMessage\"><code>i18n.getMessage()</code></a> 呼び出しから取得した値も含められます。詳しい情報は、<a href=\"/ja/docs/Mozilla/Add-ons/WebExtensions/Internationalization#retrieving_message_strings_from_javascript\">JavaScript からメッセージ文字列を取得する</a> を参照してください。</p>\n<h4 id=\"example\">example</h4><span class=\"badge inline optional\">省略可</span>\n<p>任意の \"example\" アイテムは、プレースホルダーがエンドユーザーにどのように表示されるかの例を示すことによって翻訳者を助けるためのものです。これにより、翻訳者がファイルをローカライズするときに最適な選択ができるようになるでしょう。</p>"}}],"toc":[{"text":"messages.json example","id":"messages.json_example"},{"text":"ファイルの配置","id":"ファイルの配置"},{"text":"メンバーの詳細","id":"メンバーの詳細"}],"summary":"国際化対応 (i18n) した拡張機能は、ロケール固有のメッセージを提供する少なくとも 1 個の messages.json というファイルを持っています。このページでは、messages.json の書式を説明します。","popularity":0,"modified":"2022-10-01T03:41:16.000Z","other_translations":[{"title":"Locale-specific message reference","locale":"en-US","native":"English (US)"},{"title":"Locale-specific message reference","locale":"fr","native":"Français"}],"source":{"folder":"ja/mozilla/add-ons/webextensions/api/i18n/locale-specific_message_reference","github_url":"https://github.com/mdn/translated-content/blob/main/files/ja/mozilla/add-ons/webextensions/api/i18n/locale-specific_message_reference/index.md","last_commit_url":"https://github.com/mdn/translated-content/commit/921c46a374ab0a9f4cc809af0370f8c412e54701","filename":"index.md"},"parents":[{"uri":"/ja/docs/Mozilla","title":"Mozilla"},{"uri":"/ja/docs/Mozilla/Add-ons","title":"アドオン"},{"uri":"/ja/docs/Mozilla/Add-ons/WebExtensions","title":"ブラウザー拡張機能"},{"uri":"/ja/docs/Mozilla/Add-ons/WebExtensions/API","title":"JavaScript API 群"},{"uri":"/ja/docs/Mozilla/Add-ons/WebExtensions/API/i18n","title":"i18n"},{"uri":"/ja/docs/Mozilla/Add-ons/WebExtensions/API/i18n/Locale-Specific_Message_reference","title":"ロケール固有のメッセージ参照"}],"pageTitle":"ロケール固有のメッセージ参照 - Mozilla | MDN","noIndexing":false}}