{"doc":{"isMarkdown":true,"isTranslated":true,"isActive":true,"flaws":{},"title":"ネイティブマニフェスト","mdn_url":"/ja/docs/Mozilla/Add-ons/WebExtensions/Native_manifests","locale":"ja","native":"日本語","sidebarHTML":"\n  <ol>\n    <li><a href=\"/ja/docs/Mozilla/Add-ons/WebExtensions\"><strong>ブラウザー拡張機能</strong></a></li>\n    <li class=\"toggle\">\n      <details>\n        <summary>始めましょう</summary>\n        <ol>\n          <li><a href=\"/ja/docs/Mozilla/Add-ons/WebExtensions/What_are_WebExtensions\">拡張機能とは何か?</a></li>\n          <li><a href=\"/ja/docs/Mozilla/Add-ons/WebExtensions/Your_first_WebExtension\">初めての拡張機能</a></li>\n          <li><a href=\"/ja/docs/Mozilla/Add-ons/WebExtensions/Your_second_WebExtension\">2つめの拡張機能</a></li>\n          <li><a href=\"/ja/docs/Mozilla/Add-ons/WebExtensions/Anatomy_of_a_WebExtension\">拡張機能の中身</a></li>\n          <li><a href=\"/ja/docs/Mozilla/Add-ons/WebExtensions/Examples\">拡張機能の例</a></li>\n          <li><a href=\"/ja/docs/Mozilla/Add-ons/WebExtensions/What_next_\">次にどうするのか？</a></li>\n        </ol>\n      </details>\n    </li>\n    <li class=\"toggle\">\n      <details>\n        <summary>概念</summary>\n        <ol>\n          <li><a href=\"/ja/docs/Mozilla/Add-ons/WebExtensions/Using_the_JavaScript_APIs\">JavaScript API 群の利用</a></li>\n          <li><a href=\"/ja/docs/Mozilla/Add-ons/WebExtensions/Content_scripts\">コンテンツスクリプト</a></li>\n          <li><a href=\"/ja/docs/Mozilla/Add-ons/WebExtensions/Match_patterns\">マッチパターン</a></li>\n          <li><a href=\"/ja/docs/Mozilla/Add-ons/WebExtensions/Working_with_files\">ファイルの操作</a></li>\n          <li><a href=\"/ja/docs/Mozilla/Add-ons/WebExtensions/Internationalization\">多言語対応</a></li>\n          <li><a href=\"/ja/docs/Mozilla/Add-ons/WebExtensions/Content_Security_Policy\">Content Security Policy</a></li>\n          <li><a href=\"/ja/docs/Mozilla/Add-ons/WebExtensions/Native_messaging\">Native messaging</a></li>\n          <li><a href=\"/ja/docs/Mozilla/Add-ons/WebExtensions/Differences_between_API_implementations\">Differences between API implementations</a></li>\n          <li><a href=\"/ja/docs/Mozilla/Add-ons/WebExtensions/Chrome_incompatibilities\">Chrome との非互換性</a></li>\n        </ol>\n      </details>\n    </li>\n    <li class=\"toggle\">\n      <details>\n        <summary>ユーザーインターフェイス</summary>\n        <ol>\n          <li><a href=\"/ja/docs/Mozilla/Add-ons/WebExtensions/user_interface\">ユーザーインターフェイス</a></li>\n          <li><a href=\"/ja/docs/Mozilla/Add-ons/WebExtensions/user_interface/Browser_action\">ブラウザーツールバーボタン</a></li>\n          <li><a href=\"/ja/docs/Mozilla/Add-ons/WebExtensions/user_interface/Page_actions\">アドレスバーボタン</a></li>\n          <li><a href=\"/ja/docs/Mozilla/Add-ons/WebExtensions/user_interface/Sidebars\">サイドバー</a></li>\n          <li><a href=\"/ja/docs/Mozilla/Add-ons/WebExtensions/user_interface/Context_menu_items\">コンテキストメニュー項目</a></li>\n          <li><a href=\"/ja/docs/Mozilla/Add-ons/WebExtensions/user_interface/Options_pages\">オプションページ</a></li>\n          <li><a href=\"/ja/docs/Mozilla/Add-ons/WebExtensions/user_interface/Extension_pages\">ページ拡張</a></li>\n          <li><a href=\"/ja/docs/Mozilla/Add-ons/WebExtensions/user_interface/Notifications\">通知</a></li>\n          <li><a href=\"/ja/docs/Mozilla/Add-ons/WebExtensions/user_interface/Omnibox\">Address bar suggestions</a></li>\n          <li><a href=\"/ja/docs/Mozilla/Add-ons/WebExtensions/user_interface/devtools_panels\">開発ツールパネル</a></li>\n        </ol>\n      </details>\n    </li>\n    <li class=\"toggle\">\n      <details>\n        <summary>逆引きリファレンス</summary>\n        <ol>\n          <li><a href=\"/ja/docs/Mozilla/Add-ons/WebExtensions/Intercept_HTTP_requests\">HTTP リクエストへの介入</a></li>\n          <li><a href=\"/ja/docs/Mozilla/Add-ons/WebExtensions/Modify_a_web_page\">web ページの変更</a></li>\n          <li><a href=\"/ja/docs/Mozilla/Add-ons/WebExtensions/Safely_inserting_external_content_into_a_page\">外部コンテンツの挿入</a></li>\n          <li><a href=\"/ja/docs/Mozilla/Add-ons/WebExtensions/Sharing_objects_with_page_scripts\">Share objects with page scripts</a></li>\n          <li><a href=\"/ja/docs/Mozilla/Add-ons/WebExtensions/Add_a_button_to_the_toolbar\">ツールバーボタンの追加</a></li>\n          <li><a href=\"/ja/docs/Mozilla/Add-ons/WebExtensions/Implement_a_settings_page\">設定画面の実装</a></li>\n          <li><a href=\"/ja/docs/Mozilla/Add-ons/WebExtensions/Working_with_the_Tabs_API\">Tabs API 群の使い方</a></li>\n          <li><a href=\"/ja/docs/Mozilla/Add-ons/WebExtensions/Work_with_the_Bookmarks_API\">Bookmark API 群の使い方</a></li>\n          <li><a href=\"/ja/docs/Mozilla/Add-ons/WebExtensions/Work_with_the_Cookies_API\">Cookie API 群の使い方</a></li>\n          <li><a href=\"/ja/docs/Mozilla/Add-ons/WebExtensions/Work_with_contextual_identities\">contextual identities の使い方</a></li>\n          <li><a href=\"/ja/docs/Mozilla/Add-ons/WebExtensions/Interact_with_the_clipboard\">クリップボードとのやりとり</a></li>\n          <li><a href=\"/ja/docs/Mozilla/Add-ons/WebExtensions/Build_a_cross_browser_extension\">Build a cross-browser extension</a></li>\n        </ol>\n      </details>\n    </li>\n    <li class=\"toggle\">\n      <details>\n        <summary><a href=\"/ja/docs/Mozilla/Add-ons/WebExtensions/Firefox_differentiators\">Firefox differentiators</a></summary>\n      </details>\n    </li>\n    <li class=\"toggle\">\n      <details>\n        <summary>JavaScript API 群</summary>\n        <ol><li><a href=\"/ja/docs/Mozilla/Add-ons/WebExtensions/Browser_support_for_JavaScript_APIs\">Browser support for JavaScript APIs</a></li><li><a href=\"/ja/docs/Mozilla/Add-ons/WebExtensions/API/alarms\">alarms</a></li><li><a href=\"/ja/docs/Mozilla/Add-ons/WebExtensions/API/bookmarks\">bookmarks</a></li><li><a href=\"/ja/docs/Mozilla/Add-ons/WebExtensions/API/browserAction\">browserAction</a></li><li><a href=\"/ja/docs/Mozilla/Add-ons/WebExtensions/API/browserSettings\">browserSettings</a></li><li><a href=\"/ja/docs/Mozilla/Add-ons/WebExtensions/API/browsingData\">browsingData</a></li><li><a href=\"/ja/docs/Mozilla/Add-ons/WebExtensions/API/clipboard\">clipboard</a></li><li><a href=\"/ja/docs/Mozilla/Add-ons/WebExtensions/API/commands\">commands</a></li><li><a href=\"/ja/docs/Mozilla/Add-ons/WebExtensions/API/contentScripts\">contentScripts</a></li><li><a href=\"/ja/docs/Mozilla/Add-ons/WebExtensions/API/contextualIdentities\">contextualIdentities</a></li><li><a href=\"/ja/docs/Mozilla/Add-ons/WebExtensions/API/cookies\">cookies</a></li><li><a href=\"/ja/docs/Mozilla/Add-ons/WebExtensions/API/downloads\">downloads</a></li><li><a href=\"/ja/docs/Mozilla/Add-ons/WebExtensions/API/events\">events</a></li><li><a href=\"/ja/docs/Mozilla/Add-ons/WebExtensions/API/extension\">extension</a></li><li><a href=\"/ja/docs/Mozilla/Add-ons/WebExtensions/API/extensionTypes\">extensionTypes</a></li><li><a href=\"/ja/docs/Mozilla/Add-ons/WebExtensions/API/find\">find</a></li><li><a href=\"/ja/docs/Mozilla/Add-ons/WebExtensions/API/history\">history</a></li><li><a href=\"/ja/docs/Mozilla/Add-ons/WebExtensions/API/i18n\">i18n</a></li><li><a href=\"/ja/docs/Mozilla/Add-ons/WebExtensions/API/identity\">identity</a></li><li><a href=\"/ja/docs/Mozilla/Add-ons/WebExtensions/API/idle\">idle</a></li><li><a href=\"/ja/docs/Mozilla/Add-ons/WebExtensions/API/management\">management</a></li><li><a href=\"/ja/docs/Mozilla/Add-ons/WebExtensions/API/menus\">menus</a></li><li><a href=\"/ja/docs/Mozilla/Add-ons/WebExtensions/API/notifications\">notifications</a></li><li><a href=\"/ja/docs/Mozilla/Add-ons/WebExtensions/API/omnibox\">omnibox</a></li><li><a href=\"/ja/docs/Mozilla/Add-ons/WebExtensions/API/pageAction\">pageAction</a></li><li><a href=\"/ja/docs/Mozilla/Add-ons/WebExtensions/API/permissions\">permissions</a></li><li><a href=\"/ja/docs/Mozilla/Add-ons/WebExtensions/API/pkcs11\">pkcs11</a></li><li><a href=\"/ja/docs/Mozilla/Add-ons/WebExtensions/API/privacy\">privacy</a></li><li><a href=\"/ja/docs/Mozilla/Add-ons/WebExtensions/API/proxy\">proxy</a></li><li><a href=\"/ja/docs/Mozilla/Add-ons/WebExtensions/API/runtime\">runtime</a></li><li><a href=\"/ja/docs/Mozilla/Add-ons/WebExtensions/API/sessions\">sessions</a></li><li><a href=\"/ja/docs/Mozilla/Add-ons/WebExtensions/API/sidebarAction\">sidebarAction</a></li><li><a href=\"/ja/docs/Mozilla/Add-ons/WebExtensions/API/storage\">storage</a></li><li><a href=\"/ja/docs/Mozilla/Add-ons/WebExtensions/API/tabs\">tabs</a></li><li><a href=\"/ja/docs/Mozilla/Add-ons/WebExtensions/API/theme\">theme</a></li><li><a href=\"/ja/docs/Mozilla/Add-ons/WebExtensions/API/topSites\">topSites</a></li><li><a href=\"/ja/docs/Mozilla/Add-ons/WebExtensions/API/types\">types</a></li><li><a href=\"/ja/docs/Mozilla/Add-ons/WebExtensions/API/webNavigation\">webNavigation</a></li><li><a href=\"/ja/docs/Mozilla/Add-ons/WebExtensions/API/webRequest\">webRequest</a></li><li><a href=\"/ja/docs/Mozilla/Add-ons/WebExtensions/API/windows\">windows</a></li></ol>\n      </details>\n    </li>\n    <li class=\"toggle\">\n      <details>\n      <summary>Manifest keys</summary>\n        <ol>\n          <li><a href=\"/ja/docs/Mozilla/Add-ons/WebExtensions/manifest.json\">序章</a></li>\n        </ol>\n      <ol><li><a href=\"/ja/docs/Mozilla/Add-ons/WebExtensions/manifest.json/author\">author</a></li><li><a href=\"/ja/docs/Mozilla/Add-ons/WebExtensions/manifest.json/background\">background</a></li><li><a href=\"/ja/docs/Mozilla/Add-ons/WebExtensions/manifest.json/browser_action\">browser_action</a></li><li><a href=\"/ja/docs/Mozilla/Add-ons/WebExtensions/manifest.json/browser_specific_settings\">browser_specific_settings</a></li><li><a href=\"/ja/docs/Mozilla/Add-ons/WebExtensions/manifest.json/chrome_settings_overrides\">chrome_settings_overrides</a></li><li><a href=\"/ja/docs/Mozilla/Add-ons/WebExtensions/manifest.json/chrome_url_overrides\">chrome_url_overrides</a></li><li><a href=\"/ja/docs/Mozilla/Add-ons/WebExtensions/manifest.json/commands\">commands</a></li><li><a href=\"/ja/docs/Mozilla/Add-ons/WebExtensions/manifest.json/content_scripts\">content_scripts</a></li><li><a href=\"/ja/docs/Mozilla/Add-ons/WebExtensions/manifest.json/content_security_policy\">content_security_policy</a></li><li><a href=\"/ja/docs/Mozilla/Add-ons/WebExtensions/manifest.json/default_locale\">default_locale</a></li><li><a href=\"/ja/docs/Mozilla/Add-ons/WebExtensions/manifest.json/description\">description</a></li><li><a href=\"/ja/docs/Mozilla/Add-ons/WebExtensions/manifest.json/developer\">developer</a></li><li><a href=\"/ja/docs/Mozilla/Add-ons/WebExtensions/manifest.json/devtools_page\">devtools_page</a></li><li><a href=\"/ja/docs/Mozilla/Add-ons/WebExtensions/manifest.json/homepage_url\">homepage_url</a></li><li><a href=\"/ja/docs/Mozilla/Add-ons/WebExtensions/manifest.json/icons\">icons</a></li><li><a href=\"/ja/docs/Mozilla/Add-ons/WebExtensions/manifest.json/incognito\">incognito</a></li><li><a href=\"/ja/docs/Mozilla/Add-ons/WebExtensions/manifest.json/manifest_version\">manifest_version</a></li><li><a href=\"/ja/docs/Mozilla/Add-ons/WebExtensions/manifest.json/name\">name</a></li><li><a href=\"/ja/docs/Mozilla/Add-ons/WebExtensions/manifest.json/omnibox\">omnibox</a></li><li><a href=\"/ja/docs/Mozilla/Add-ons/WebExtensions/manifest.json/optional_permissions\">optional_permissions</a></li><li><a href=\"/ja/docs/Mozilla/Add-ons/WebExtensions/manifest.json/options_ui\">options_ui</a></li><li><a href=\"/ja/docs/Mozilla/Add-ons/WebExtensions/manifest.json/page_action\">page_action</a></li><li><a href=\"/ja/docs/Mozilla/Add-ons/WebExtensions/manifest.json/permissions\">permissions</a></li><li><a href=\"/ja/docs/Mozilla/Add-ons/WebExtensions/manifest.json/protocol_handlers\">protocol_handlers</a></li><li><a href=\"/ja/docs/Mozilla/Add-ons/WebExtensions/manifest.json/short_name\">short_name</a></li><li><a href=\"/ja/docs/Mozilla/Add-ons/WebExtensions/manifest.json/sidebar_action\">sidebar_action</a></li><li><a href=\"/ja/docs/Mozilla/Add-ons/WebExtensions/manifest.json/theme\">theme</a></li><li><a href=\"/ja/docs/Mozilla/Add-ons/WebExtensions/manifest.json/version\">version</a></li><li><a href=\"/ja/docs/Mozilla/Add-ons/WebExtensions/manifest.json/version_name\">version_name</a></li><li><a href=\"/ja/docs/Mozilla/Add-ons/WebExtensions/manifest.json/web_accessible_resources\">web_accessible_resources</a></li></ol>\n      </details>\n    </li>\n     <li class=\"toggle\">\n      <details>\n        <summary>Extension Workshop</summary>\n        <ol>\n          <li><a href=\"https://extensionworkshop.com/documentation/develop/\">Develop</a></li>\n          <li><a href=\"https://extensionworkshop.com/documentation/publish/\">Publish</a></li>\n          <li><a href=\"https://extensionworkshop.com/documentation/manage/\">Manage</a></li>\n          <li><a href=\"https://extensionworkshop.com/documentation/enterprise/\">Enterprise</a></li>\n        </ol>\n      </details>\n    </li>\n    <li><a href=\"/ja/docs/Mozilla/Add-ons/Contact_us\"><strong>コンタクト</strong></a></li>\n    <li class=\"toggle\">\n      <details>\n        <summary>チャンネル</summary>\n        <ol>\n          <li><a href=\"https://blog.mozilla.org/addons\">ブログ</a></li>\n          <li><a href=\"https://discourse.mozilla.org/c/add-ons\">フォーラム</a></li>\n          <li><a href=\"https://chat.mozilla.org/#/room/%23addons:mozilla.org\">Add-ons chat</a></li>\n        </ol>\n      </details>\n    </li>\n  </ol>\n","body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<p>ネイティブマニフェストは特別な形式の JSON ファイルで、拡張機能のインストールプロセスの範囲外の方法でユーザーのコンピューターに配布されます。例えば、ネイティブマニフェストは端末の管理者やネイティブアプリケーションのインストーラーによって配布されます。</p>\n<p>3 つの異なる種類のネイティブマニフェストがあります:</p>\n<table>\n  <thead>\n    <tr>\n      <th><a href=\"#native_messaging_manifests\">Native messaging マニフェスト</a></th>\n      <th><a href=\"/ja/docs/Mozilla/Add-ons/WebExtensions/Native_messaging\">native messaging</a> と呼ぶ機能を可能にします、ここでは拡張機能は端末にインストールされたネイティブアプリとやりとりできます。</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <td><a href=\"#managed_storage_manifests\">Managed storage マニフェスト</a></td>\n      <td><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/storage/managed\" class=\"only-in-en-us\" title=\"Currently only available in English (US)\">storage.managed (en-US)</a> API 使って拡張機能がアクセスする読み込み専用データを定義します。</td>\n    </tr>\n    <tr>\n      <td><a href=\"#pkcs_11_manifests\">PKCS #11 マニフェスト</a></td>\n      <td>拡張機能が <a href=\"/ja/docs/Mozilla/Add-ons/WebExtensions/API/pkcs11\"><code>pkcs11</code></a> API を使って PKCS #11 セキュリティモジュールを列挙して、Firefox にインストールできるようにします。</td>\n    </tr>\n  </tbody>\n</table>\n<p>すべてのネイティブマニフェスト用に、ブラウザーがマニフェストを見つけられるように調整する必要があります。 <a href=\"#manifest_location\">マニフェストの場所</a> のセクションでこのルールを述べています。</p>"}},{"type":"prose","value":{"id":"native_messaging_マニフェスト","title":"Native messaging マニフェスト","isH3":false,"content":"<p>native messaging マニフェストは以下のプロパティを含む単一の JSON オブジェクトです:</p>\n<table>\n  <thead>\n    <tr>\n      <th>名前</th>\n      <th>種類</th>\n      <th>説明</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <td><code>name</code></td>\n      <td>String</td>\n      <td>ネイティブアプリケーションの名前です。この名前は拡張機能の <a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/runtime/connectNative\" class=\"only-in-en-us\" title=\"Currently only available in English (US)\">runtime.connectNative() (en-US)</a> か <a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/runtime/sendNativeMessage\" class=\"only-in-en-us\" title=\"Currently only available in English (US)\">runtime.sendNativeMessage() (en-US)</a> に渡される名前と一致している必要があります。OS X と Linux では、native messaging マニフェストの（.json 拡張子を除いた）ファイル名とも一致していなければなりません。Windows では、native messaging マニフェストの場所を記した作成済みレジストリキーの名前と一致している必要があります。次の正規表現にマッチする必要があります: \"^\\w+(\\.\\w+)*$\" つまり、名前には(大文字か小文字の)英数字とアンダースコア、ドットのみ含めることができます。最初または最後の文字にドットを使用することはできず、ドットを 2 つ以上連続させることもできません。</td>\n    </tr>\n    <tr>\n      <td><code>description</code></td>\n      <td>String</td>\n      <td>ネイティブアプリケーションの説明です。</td>\n    </tr>\n    <tr>\n      <td><code>path</code></td>\n      <td>String</td>\n      <td>ネイティブアプリケーションのパスです。Windows では、マニフェスト自身からの相対パスを指定することもできます。OS X や Linux では絶対パスでなければなりません。</td>\n    </tr>\n    <tr>\n      <td><code>type</code></td>\n      <td>String</td>\n      <td>拡張機能にアプリケーションが接続するために使用する方法を記述します。現在のところ、\"stdio\" のみが指定可能です。これはアプリケーションが標準入力 (stdin) を介してメッセージを受信し、標準出力 (stdout) を使用してメッセージを送信することを示します。</td>\n    </tr>\n    <tr>\n      <td><code>allowed_extensions</code></td>\n      <td>Array of String</td>\n      <td><a href=\"https://extensionworkshop.com/documentation/develop/extensions-and-the-add-on-id/\" class=\"external\" rel=\" noopener\">Add-on ID</a> の配列です。配列中のそれぞれの値はこのネイティブアプリケーションとの通信が許可されている拡張機能を表します。つまり、作成する拡張機能の manifest.json ファイルに <a href=\"/ja/docs/Mozilla/Add-ons/WebExtensions/manifest.json/browser_specific_settings\">applications</a> キーを含めたくなるものと思われるため、開発中に明示的な ID を設定しておくと良いでしょう。</td>\n    </tr>\n  </tbody>\n</table>\n<p>例として、\"ping_pong\" ネイティブアプリケーションのマニフェストを以下に示します:</p>\n<div class=\"code-example\"><pre class=\"brush: json notranslate\"><code><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"ping_pong\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"description\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Example host for native messaging\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"path\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"/path/to/native-messaging/app/ping_pong.py\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"type\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"stdio\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"allowed_extensions\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span> <span class=\"token string\">\"ping_pong@example.org\"</span> <span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>この設定では、\"ping_pong@example.org\" という ID の拡張機能が \"ping_pong\" という名前を適切な <a href=\"/ja/docs/Mozilla/Add-ons/WebExtensions/API/runtime\"><code>runtime</code></a> API 関数に渡すことで接続を許可されます。 アプリケーション自体は \"/path/to/native-messaging/app/ping_pong.py\" にあります。</p>"}},{"type":"prose","value":{"id":"managed_storage_マニフェスト","title":"Managed storage マニフェスト","isH3":false,"content":"<p>managed storage マニフェストには次のプロパティを含む単一の JSON オブジェクトです:</p>\n<table>\n  <thead>\n    <tr>\n      <th>名前</th>\n      <th>種類</th>\n      <th>説明</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <td><code>name</code></td>\n      <td>String</td>\n      <td>ストレージにアクセスできる拡張機能の ID で、拡張機能の <a href=\"/ja/docs/Mozilla/Add-ons/WebExtensions/manifest.json/browser_specific_settings\">applications</a> キーで指定したのと同じものです。</td>\n    </tr>\n    <tr>\n      <td><code>description</code></td>\n      <td>String</td>\n      <td>人間が読める説明で、Firefox には無視されます。</td>\n    </tr>\n    <tr>\n      <td><code>type</code></td>\n      <td>String</td>\n      <td>\"storage\" でなければなりません。</td>\n    </tr>\n    <tr>\n      <td><code>data</code></td>\n      <td>Object</td>\n      <td>JSON オブジェクトで、その中にあらゆる有効な JSON 値(文字列、数値、真偽値、配列、オブジェクトを含む)が入ります。これは <code>browser.storage.managed</code> ストレージ領域内のデータになります。</td>\n    </tr>\n  </tbody>\n</table>\n<p>例えば:</p>\n<div class=\"code-example\"><pre class=\"brush: json notranslate\"><code><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"favourite-colour-examples@mozilla.org\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"description\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"ignored\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"type\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"storage\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"data\"</span><span class=\"token operator\">:</span>\n  <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"colour\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"management thinks it should be blue!\"</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>この JSON マニフェストでは、\"favourite-colour-examples@mozilla.org\" 拡張機能は次のようなコードを使ってデータにアクセスできます:</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">var</span> storageItem <span class=\"token operator\">=</span> browser<span class=\"token punctuation\">.</span>storage<span class=\"token punctuation\">.</span>managed<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'colour'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nstorageItem<span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">res</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">Managed colour is: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>res<span class=\"token punctuation\">.</span>colour<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>"}},{"type":"prose","value":{"id":"pkcs_11_マニフェスト","title":"PKCS #11 マニフェスト","isH3":false,"content":"<p>PKCS #11 マニフェストは以下のプロパティを持った JSON オブジェクトを含むファイルです:</p>\n<table>\n  <thead>\n    <tr>\n      <th>名前</th>\n      <th>種類</th>\n      <th>説明</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <td><code>name</code></td>\n      <td>String</td>\n      <td>PKCS #11 モジュールの名前です。<code>pkcs11</code> API で使われている名前と一致している必要があります。OS X と Linux では、マニフェストの (拡張子を除いた) ファイル名とも一致していなければなりません。Windows では、マニフェストの場所を記した作成済みレジストリキーの名前と一致している必要があります。次の正規表現にマッチする必要があります: \"^\\w+(\\.\\w+)*$\" つまり、名前には(大文字か小文字の)英数字とアンダースコア、ドットのみ含めることができます。最初または最後の文字にドットを使用することはできず、ドットを 2 つ以上連続させることもできません。</td>\n    </tr>\n    <tr>\n      <td><code>description</code></td>\n      <td>String</td>\n      <td>モジュールの説明です。ブラウザー UI (例えば、Firefox の \"Security Devices\" ダイアログ) で表示される、読みやすい名前を付けるのに使われます。</td>\n    </tr>\n    <tr>\n      <td><code>path</code></td>\n      <td>String</td>\n      <td>モジュールのパスです。Windows では、マニフェスト自身からの相対パスを指定することもできます。OS X や Linux では絶対パスでなければなりません。</td>\n    </tr>\n    <tr>\n      <td><code>type</code></td>\n      <td>String</td>\n      <td>\"pkcs11\" でなければなりません。</td>\n    </tr>\n    <tr>\n      <td><code>allowed_extensions</code></td>\n      <td>Array of String</td>\n      <td><a href=\"https://extensionworkshop.com/documentation/develop/extensions-and-the-add-on-id/\" class=\"external\" rel=\" noopener\">Add-on ID</a> の配列です。配列中のそれぞれの値はモジュールとの通信が許可されている拡張機能を表します。つまり、作成する拡張機能の manifest.json ファイルに <a href=\"/ja/docs/Mozilla/Add-ons/WebExtensions/manifest.json/browser_specific_settings\">applications</a> キーを含めたくなるものと思われるため、開発中に明示的な ID を設定しておくと良いでしょう。</td>\n    </tr>\n  </tbody>\n</table>\n<p>例えば:</p>\n<div class=\"code-example\"><pre class=\"brush: json notranslate\"><code><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"my_module\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"description\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"My test module\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"type\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"pkcs11\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"path\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"/path/to/libpkcs11testmodule.dylib\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"allowed_extensions\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"my-extension@mozilla.org\"</span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>この JSON マニフェストでは、\"my_module.json\" として保存すれば、\"my-extension@mozilla.org\" 拡張機能はこのようなコードから \"/path/to/libpkcs11testmodule.dylib\" のセキュリティーモジュールをインストールすることもできます:</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code>browser<span class=\"token punctuation\">.</span>pkcs11<span class=\"token punctuation\">.</span><span class=\"token function\">installModule</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"my_module\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>"}},{"type":"prose","value":{"id":"マニフェストの場所","title":"マニフェストの場所","isH3":false,"content":"<p>Linux と Mac OS X では、マニフェストを特定の場所に保管する必要があります。Windows では、マニフェストの場所を指定するレジストリキーを作成する必要があります。</p>\n<p>詳しいルールはどのマニフェストの種類でも同じですが、例外として最後から 2 番目のパスのコンポーネントはマニフェストの種類を特定します。下記の例では、3 種類のそれぞれの形を示しています。すべての例において、<em>&lt;name&gt;</em> はマニフェスト内の <code>name</code> プロパティの値です。</p>"}},{"type":"prose","value":{"id":"windows","title":"Windows","isH3":true,"content":"<p>グローバルな設定としては、以下の名前のレジストリキーを作成します:</p>\n<pre class=\"notranslate\">HKEY_LOCAL_MACHINE\\SOFTWARE\\Mozilla\\NativeMessagingHosts\\&lt;name&gt;\nHKEY_LOCAL_MACHINE\\SOFTWARE\\Mozilla\\ManagedStorage\\&lt;name&gt;\nHKEY_LOCAL_MACHINE\\SOFTWARE\\Mozilla\\PKCS11Modules\\&lt;name&gt;\n</pre>\n<p>このキーにマニフェストへのパスを示す単一の既定の値を設定します。</p>\n<p>Firefox バージョン 64 以降では、32 ビットレジストリ view (<a href=\"https://en.wikipedia.org/wiki/WoW64#Registry_and_file_system\" class=\"external\" rel=\" noopener\">Wow6432Node)</a> がこれらのキーの中でまずチェックされ、\"native\" レジストリ view が続いてチェックされます。いずれの view にしてもアプリケーションにふさわしいレジストリを使用してください。</p>\n<p><em>Firefox バージョン 63 　以前では、もし 32 ビットのアプリケーションであっても、このキーは <a href=\"https://en.wikipedia.org/wiki/WoW64#Registry_and_file_system\" class=\"external\" rel=\" noopener\">Wow6432Node</a> 下に作成しないで下さい。以前のバージョンのブラウザは常に 32-bit エミュレーションではなくレジストリの \"native\" view 下のキーを探します。確実に \"native\" view にキーを作成するために、KEY_WOW64_64KEY または KEY_WOW64_32KEY フラグを RegCreateKeyEx に渡すことができます。<a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/aa384129(v=vs.85).aspx\" class=\"external\" rel=\" noopener\">Accessing an Alternate Registry View</a> を参照して下さい。</em></p>\n<p>ユーザごとの設定としては、以下の名前のレジストリキーを作成します:</p>\n<pre class=\"notranslate\">HKEY_CURRENT_USER\\SOFTWARE\\Mozilla\\NativeMessagingHosts\\&lt;name&gt;\nHKEY_CURRENT_USER\\SOFTWARE\\Mozilla\\ManagedStorage\\&lt;name&gt;\nHKEY_CURRENT_USER\\SOFTWARE\\Mozilla\\PKCS11Modules\\&lt;name&gt;\n</pre>\n<p>このキーにマニフェストへのパスを示す単一の既定の値を設定します。</p>"}},{"type":"prose","value":{"id":"mac_os_x","title":"Mac OS X","isH3":true,"content":"<p>グローバルな設定としては、マニフェストを以下に配置します:</p>\n<pre class=\"notranslate\">/Library/Application Support/Mozilla/NativeMessagingHosts/&lt;name&gt;.json\n/Library/Application Support/Mozilla/ManagedStorage/&lt;name&gt;.json\n/Library/Application Support/Mozilla/PKCS11Modules/&lt;name&gt;.json\n</pre>\n<p>個人ごとの設定としては、マニフェストを以下に配置します:</p>\n<pre class=\"notranslate\">~/Library/Application Support/Mozilla/NativeMessagingHosts/&lt;name&gt;.json\n~/Library/Application Support/Mozilla/ManagedStorage/&lt;name&gt;.json\n~/Library/Application Support/Mozilla/PKCS11Modules/&lt;name&gt;.json\n</pre>"}},{"type":"prose","value":{"id":"linux","title":"Linux","isH3":true,"content":"<p>グローバルな設定としては、マニフェストを以下のいずれかに配置します:</p>\n<pre class=\"notranslate\">/usr/lib/mozilla/native-messaging-hosts/&lt;name&gt;.json\n/usr/lib/mozilla/managed-storage/&lt;name&gt;.json\n/usr/lib/mozilla/pkcs11-modules/&lt;name&gt;.json\n</pre>\n<p>あるいは:</p>\n<pre class=\"notranslate\">/usr/lib64/mozilla/native-messaging-hosts/&lt;name&gt;.json\n/usr/lib64/mozilla/managed-storage/&lt;name&gt;.json\n/usr/lib64/mozilla/pkcs11-modules/&lt;name&gt;.json\n</pre>\n<p>個人ごとの設定としては、マニフェストを以下に配置します:</p>\n<pre class=\"notranslate\">~/.mozilla/native-messaging-hosts/&lt;name&gt;.json\n~/.mozilla/managed-storage/&lt;name&gt;.json\n~/.mozilla/pkcs11-modules/&lt;name&gt;.json\n</pre>"}}],"toc":[{"text":"Native messaging マニフェスト","id":"native_messaging_マニフェスト"},{"text":"Managed storage マニフェスト","id":"managed_storage_マニフェスト"},{"text":"PKCS #11 マニフェスト","id":"pkcs_11_マニフェスト"},{"text":"マニフェストの場所","id":"マニフェストの場所"}],"summary":"ネイティブマニフェストは特別な形式の JSON ファイルで、拡張機能のインストールプロセスの範囲外の方法でユーザーのコンピューターに配布されます。例えば、ネイティブマニフェストは端末の管理者やネイティブアプリケーションのインストーラーによって配布されます。","popularity":0,"modified":"2022-10-01T03:41:16.000Z","other_translations":[{"title":"Native manifests","locale":"en-US","native":"English (US)"},{"title":"manifests Natif","locale":"fr","native":"Français"},{"title":"原生应用清单","locale":"zh-CN","native":"中文 (简体)"}],"source":{"folder":"ja/mozilla/add-ons/webextensions/native_manifests","github_url":"https://github.com/mdn/translated-content/blob/main/files/ja/mozilla/add-ons/webextensions/native_manifests/index.md","last_commit_url":"https://github.com/mdn/translated-content/commit/921c46a374ab0a9f4cc809af0370f8c412e54701","filename":"index.md"},"parents":[{"uri":"/ja/docs/Mozilla","title":"Mozilla"},{"uri":"/ja/docs/Mozilla/Add-ons","title":"アドオン"},{"uri":"/ja/docs/Mozilla/Add-ons/WebExtensions","title":"ブラウザー拡張機能"},{"uri":"/ja/docs/Mozilla/Add-ons/WebExtensions/Native_manifests","title":"ネイティブマニフェスト"}],"pageTitle":"ネイティブマニフェスト - Mozilla | MDN","noIndexing":false}}