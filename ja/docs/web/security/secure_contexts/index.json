{"doc":{"isMarkdown":true,"isTranslated":true,"isActive":true,"flaws":{},"title":"安全なコンテキスト","mdn_url":"/ja/docs/Web/Security/Secure_Contexts","locale":"ja","native":"日本語","sidebarHTML":"\n<ol><li><a href=\"/ja/docs/Web/Security/Referer_header:_privacy_and_security_concerns\">Referer ヘッダーのプライバシーとセキュリティの考慮事項</a></li><li><a href=\"/ja/docs/Web/Security/Subdomain_takeovers\">Subdomain takeovers</a></li><li><a href=\"/ja/docs/Web/Security/Transport_Layer_Security\">Transport Layer Security</a></li><li><a href=\"/ja/docs/Web/Security/Securing_your_site\">サイトの安全化</a><ol><li><a href=\"/ja/docs/Web/Security/Securing_your_site\">サイトの安全化</a></li><li><a href=\"/ja/docs/Web/Security/Securing_your_site/Turning_off_form_autocompletion\">フォームの自動補完を無効にするには</a></li></ol></li><li><a href=\"/ja/docs/Web/Security/Subresource_Integrity\">サブリソース完全性</a></li><li><a href=\"/ja/docs/Web/Security/Same-origin_policy\">同一オリジンポリシー</a></li><li><a href=\"/ja/docs/Web/Security/Insecure_passwords\">安全でないパスワード</a></li><li><a href=\"/ja/docs/Web/Security/Secure_Contexts\">安全なコンテキスト</a><ol><li><a href=\"/ja/docs/Web/Security/Secure_Contexts\">安全なコンテキスト</a></li><li><a href=\"/ja/docs/Web/Security/Secure_Contexts/features_restricted_to_secure_contexts\">安全なコンテキストに制限されている機能</a></li></ol></li><li><a href=\"/ja/docs/Web/Security/Types_of_attacks\">攻撃の種類</a></li><li><a href=\"/ja/docs/Web/Security/Mixed_content\">混在コンテンツ</a><ol><li><a href=\"/ja/docs/Web/Security/Mixed_content\">混在コンテンツ</a></li><li><a href=\"/ja/docs/Web/Security/Mixed_content/How_to_fix_website_with_mixed_content\">混在コンテンツでブロックされるウェブサイトを修正するには</a></li></ol></li><li><a href=\"/ja/docs/Web/Security/Weak_Signature_Algorithm\">脆弱な署名アルゴリズム</a></li><li><a href=\"/ja/docs/Web/Security/Certificate_Transparency\">証明書の透明性</a></li></ol>\n","body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<p><strong>セキュアコンテキスト</strong>とは、認証と機密性の一定の最低基準を満たしている <code>Window</code> や <code>Worker</code> のことです。多くの Web API や機能は安全なコンテキストでのみアクセス可能です。セキュアコンテキストの主な目的は、<a title=\"中間者攻撃\" href=\"https://ja.wikipedia.org/wiki/中間者攻撃\" class=\"external\" rel=\" noopener\">中間者攻撃</a> が攻撃の犠牲者をさらに危険にさらす可能性のある強力な API にアクセスすることを防ぐことです。</p>"}},{"type":"prose","value":{"id":"機能をアクセス制限すべき理由","title":"機能をアクセス制限すべき理由","isH3":false,"content":"<p>Web の API には強力なものもあり、攻撃者に対して以下のような (それよりも多くの) 能力を与えてしまう可能性があります。</p>\n<ul>\n  <li>ユーザーのプライバシーを侵害する</li>\n  <li>ユーザーのコンピューターに対して低水準のアクセス権限を得る</li>\n  <li>ユーザーの認証情報のようなデータへのアクセス権限を得る</li>\n</ul>"}},{"type":"prose","value":{"id":"コンテキストが安全とみなされるのはいつですか？","title":"コンテキストが安全とみなされるのはいつですか？","isH3":false,"content":"<p>コンテキストは、<a href=\"https://w3c.github.io/webappsec-secure-contexts/\" class=\"external\" rel=\" noopener\">Secure Contexts</a> 仕様で定義されている認証および機密性の一定の最低基準を満たしている場合に、セキュアなコンテキストとみなされます。特定の文書がセキュアコンテキストである<a href=\"https://html.spec.whatwg.org/multipage/browsers.html#top-level-browsing-context\" class=\"external\" rel=\" noopener\">トップレベルのブラウジングコンテキスト</a> (基本的には、セキュアコンテキストであるウィンドウやタブを含むコンテキスト) の<a href=\"https://html.spec.whatwg.org/multipage/browsers.html#active-document\" class=\"external\" rel=\" noopener\">アクティブな文書</a>である場合、その文書はセキュアコンテキストにあるとみなされます。</p>\n<p>例えば、<a href=\"/ja/docs/Web/HTML/Element/iframe\"><code>&lt;iframe&gt;</code></a> 内で TLS 上で配信された文書であっても、TLS 上で配信されなかった祖先がある場合には、そのコンテキストは安全であるとは見なされ<strong>ません</strong>。</p>\n<p>しかし、安全ではないコンテキストによって (<a href=\"/ja/docs/Web/API/Window/open#noopener\">noopener</a> を指定してもしなくても) 新しいウィンドウが作成された場合、 オープナーが安全ではないという事実は、新しいウィンドウが安全であるとみなされるかどうかに影響を与えないことに注意してください。これは、特定の文書が安全なコンテキストにあるかどうかの判断は、それが関連付けられているトップレベルのブラウジングコンテキスト内でそれを考慮することにのみ基づいており、安全でないコンテキストがたまたまその文書を作成するために使用されたかどうかではないからです。</p>\n<p><code>http://127.0.0.1</code> の URL、<code>http://localhost</code> の URL (一定の条件の下で)、<code>file://</code> の URL など、ローカルに配信されたリソースも安全に配信されていると考えられます。</p>\n<p>ローカルではないリソースが安全であるとみなされるためには、以下の基準を満たす必要があります。</p>\n<ul>\n  <li><em>https://</em> または <em>wss://</em> URL で提供されなければなりません</li>\n  <li>リソースを配信するために使用されるネットワークチャネルのセキュリティプロパティは、非推奨と見なされてはなりません</li>\n</ul>"}},{"type":"prose","value":{"id":"機能の判別","title":"機能の判別","isH3":false,"content":"<p>グローバルスコープで利用できる <a href=\"/ja/docs/Web/API/isSecureContext\" title=\"isSecureContext\"><code>isSecureContext</code></a> の真偽値を用いることで、そのページ自身が安全なコンテキストの中にいるかどうか確かめることができます。</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>window<span class=\"token punctuation\">.</span>isSecureContext<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// Service Worker が実行されているので、このページは安全なコンテキストです</span>\n  navigator<span class=\"token punctuation\">.</span>serviceWorker<span class=\"token punctuation\">.</span><span class=\"token function\">register</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/offline-worker.js\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token operator\">...</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>"}},{"type":"prose","value":{"id":"仕様","title":"仕様","isH3":false,"content":"<table>\n  <thead>\n    <tr>\n      <th>仕様書</th>\n      <th>状態</th>\n      <th>備考</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <td><a href=\"https://w3c.github.io/webappsec-secure-contexts/\" hreflang=\"en\" lang=\"en\" class=\"external\" title=\"Secure Contextsの仕様書\" rel=\" noopener\">Secure Contexts</a></td>\n      <td><span class=\"spec-cr\">勧告候補</span></td>\n      <td>編集者による草稿</td>\n    </tr>\n  </tbody>\n</table>"}},{"type":"prose","value":{"id":"関連情報","title":"関連情報","isH3":false,"content":"<ul>\n  <li><a href=\"/ja/docs/Web/Security/Secure_Contexts/features_restricted_to_secure_contexts\">安全なコンテキストに制限されたプラットフォーム機能</a> — 安全なコンテキストでのみ使用できる機能のリスト</li>\n  <li><a href=\"/ja/docs/orphaned/Web/API/Window/isSecureContext\"><code>Window.isSecureContext</code></a></li>\n  <li><a href=\"https://permission.site\" class=\"external\" rel=\" noopener\">https://permission.site</a> — HTTP と HTTPS を使用して、ブラウザーが使用している API のアクセス許可チェックを確認できるサイト。</li>\n  <li><a href=\"/ja/docs/Web/HTTP/Headers/Strict-Transport-Security\">Strict-Transport-Security</a> HTTP ヘッダー</li>\n</ul>"}}],"toc":[{"text":"機能をアクセス制限すべき理由","id":"機能をアクセス制限すべき理由"},{"text":"コンテキストが安全とみなされるのはいつですか？","id":"コンテキストが安全とみなされるのはいつですか？"},{"text":"機能の判別","id":"機能の判別"},{"text":"仕様","id":"仕様"},{"text":"関連情報","id":"関連情報"}],"summary":"セキュアコンテキストとは、認証と機密性の一定の最低基準を満たしている Window や Worker のことです。多くの Web API や機能は安全なコンテキストでのみアクセス可能です。セキュアコンテキストの主な目的は、中間者攻撃 が攻撃の犠牲者をさらに危険にさらす可能性のある強力な API にアクセスすることを防ぐことです。","popularity":0,"modified":"2022-10-01T03:41:16.000Z","other_translations":[{"title":"Secure contexts","locale":"en-US","native":"English (US)"},{"title":"Secure Contexts","locale":"fr","native":"Français"},{"title":"安全上下文","locale":"zh-CN","native":"中文 (简体)"}],"source":{"folder":"ja/web/security/secure_contexts","github_url":"https://github.com/mdn/translated-content/blob/main/files/ja/web/security/secure_contexts/index.md","last_commit_url":"https://github.com/mdn/translated-content/commit/921c46a374ab0a9f4cc809af0370f8c412e54701","filename":"index.md"},"parents":[{"uri":"/ja/docs/Web","title":"開発者向けのウェブ技術"},{"uri":"/ja/docs/Web/Security","title":"ウェブセキュリティ"},{"uri":"/ja/docs/Web/Security/Secure_Contexts","title":"安全なコンテキスト"}],"pageTitle":"安全なコンテキスト - ウェブセキュリティ | MDN","noIndexing":false}}