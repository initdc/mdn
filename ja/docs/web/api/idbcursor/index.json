{"doc":{"isMarkdown":true,"isTranslated":true,"isActive":true,"flaws":{},"title":"IDBCursor","mdn_url":"/ja/docs/Web/API/IDBCursor","locale":"ja","native":"日本語","sidebarHTML":"<ol><li><strong><a href=\"/ja/docs/Web/API/IndexedDB_API\">IndexedDB API</a></strong></li><li><strong><a href=\"/ja/docs/Web/API/IDBCursor\"><code>IDBCursor</code></a></strong></li><li class=\"toggle\"><details open=\"\"><summary>プロパティ</summary><ol><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/IDBCursor/direction\"><code>direction</code> <small>(en-US)</small></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/IDBCursor/key\"><code>key</code> <small>(en-US)</small></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/IDBCursor/primaryKey\"><code>primaryKey</code> <small>(en-US)</small></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/IDBCursor/request\"><code>request</code> <small>(en-US)</small></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/IDBCursor/source\"><code>source</code> <small>(en-US)</small></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>メソッド</summary><ol><li><a href=\"/ja/docs/Web/API/IDBCursor/advance\"><code>advance()</code></a></li><li><a href=\"/ja/docs/Web/API/IDBCursor/continue\"><code>continue()</code></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/IDBCursor/continuePrimaryKey\"><code>continuePrimaryKey()</code> <small>(en-US)</small></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/IDBCursor/delete\"><code>delete()</code> <small>(en-US)</small></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/IDBCursor/update\"><code>update()</code> <small>(en-US)</small></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>IndexedDB に関連するページ</summary><ol><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/IDBCursorWithValue\"><code>IDBCursorWithValue</code> <small>(en-US)</small></a></li><li><a href=\"/ja/docs/Web/API/IDBDatabase\"><code>IDBDatabase</code></a></li><li><a href=\"/ja/docs/Web/API/IDBFactory\"><code>IDBFactory</code></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/IDBIndex\"><code>IDBIndex</code> <small>(en-US)</small></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/IDBKeyRange\"><code>IDBKeyRange</code> <small>(en-US)</small></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/IDBObjectStore\"><code>IDBObjectStore</code> <small>(en-US)</small></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/IDBOpenDBRequest\"><code>IDBOpenDBRequest</code> <small>(en-US)</small></a></li><li><a href=\"/ja/docs/Web/API/IDBRequest\"><code>IDBRequest</code></a></li><li><a href=\"/ja/docs/Web/API/IDBTransaction\"><code>IDBTransaction</code></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/IDBVersionChangeEvent\"><code>IDBVersionChangeEvent</code> <small>(en-US)</small></a></li></ol></details></li></ol>","body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<p><a href=\"/ja/docs/Web/API/IndexedDB_API\">IndexedDB API</a> の <strong><code>IDBCursor</code></strong> インターフェイスはデータベースの複数レコードを横断したり繰り返すための<a href=\"/en-US/docs/Web/API/IndexedDB_API/Basic_Terminology#gloss_cursor\" class=\"only-in-en-us\" title=\"Currently only available in English (US)\">カーソル (en-US)</a>です。</p>\n<p>このカーソルはどのインデックスやオブジェクトをループしているかを示す元です。これは範囲内の位置を示す持ち、レコードのキー順に増/減して動きます。カーソルはアプリケーションからカーソル範囲内の全レコードに非同期に処理できるようにします。</p>\n<p>一度に無制限の数のカーソルを持つことができます。あるカーソルを表す同一の <code>IDBCursor</code> オブジェクトを取得できます。操作はインデックスやオブジェクトストアに対して実行されます。</p><div class=\"notecard note\" id=\"sect1\">\n  <p><strong>注:</strong> この機能は <a href=\"/ja/docs/Web/API/Web_Workers_API\">Web Worker</a> 内で利用可能です</p>\n</div>"}},{"type":"prose","value":{"id":"プロパティ","title":"プロパティ","isH3":false,"content":"<dl>\n  <dt id=\"idbcursor.source_en-us\"><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/IDBCursor/source\"><code>IDBCursor.source</code> <small>(en-US)</small></a> <span title=\"This value may not be changed.\" class=\"badge inline readonly\">読取専用 </span></dt>\n  <dd>\n    <p>カーソルが繰り返している<a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/IDBObjectStore\"><code>IDBObjectStore</code> <small>(en-US)</small></a> か <a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/IDBIndex\"><code>IDBIndex</code> <small>(en-US)</small></a> を返します。この関数は、カーソルが現在繰り返されていたり、繰り返しが終わりを過ぎたり、トランザクションがアクティブでなくても、null や例外を返しません。</p>\n  </dd>\n  <dt id=\"idbcursor.direction_en-us\"><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/IDBCursor/direction\"><code>IDBCursor.direction</code> <small>(en-US)</small></a> <span title=\"This value may not be changed.\" class=\"badge inline readonly\">読取専用 </span></dt>\n  <dd>\n    <p>カーソルの横断の向きを返します。取りうる値については <a href=\"/ja/docs/Web/API/IDBCursor$edit#const_next\" class=\"page-not-created\" title=\"This is a link to an unwritten page\">Constants</a> を見てください。</p>\n  </dd>\n  <dt id=\"idbcursor.key_en-us\"><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/IDBCursor/key\"><code>IDBCursor.key</code> <small>(en-US)</small></a> <span title=\"This value may not be changed.\" class=\"badge inline readonly\">読取専用 </span></dt>\n  <dd>\n    <p>カーソル位置のレコードのキーを返します。カーソルが範囲外の場合、<code>undefined</code> にセットされます。カーソルキーはあらゆるデータ型となりえます。</p>\n  </dd>\n  <dt id=\"idbcursor.value\"><a class=\"page-not-created\" title=\"この項目についての文書はまだ書かれていません。書いてみませんか？\"><code>IDBCursor.value</code></a> <span title=\"This value may not be changed.\" class=\"badge inline readonly\">読取専用 </span></dt>\n  <dd>\n    <p>カーソル位置のレコードの値を返します。カーソルの値はあらゆるデータ型となりえます。</p>\n  </dd>\n  <dt id=\"idbcursor.primarykey_en-us\"><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/IDBCursor/primaryKey\"><code>IDBCursor.primaryKey</code> <small>(en-US)</small></a> <span title=\"This value may not be changed.\" class=\"badge inline readonly\">読取専用 </span></dt>\n  <dd>\n    <p>カーソルの現在有効な主キーを返します。カーソルが現在繰り返されていたり範囲外で繰り返されていた場合、これは <code>undefined</code> にセットされます。カーソルの主キーはあらゆるデータ型となりえます。</p>\n  </dd>\n</dl>"}},{"type":"prose","value":{"id":"メソッド","title":"メソッド","isH3":false,"content":"<dl>\n  <dt id=\"idbcursor.advance\"><a href=\"/ja/docs/Web/API/IDBCursor/advance\"><code>IDBCursor.advance()</code></a></dt>\n  <dd>\n    <p>Sets the number times a cursor should move its position forward.</p>\n  </dd>\n  <dt id=\"idbcursor.continue\"><a href=\"/ja/docs/Web/API/IDBCursor/continue\"><code>IDBCursor.continue()</code></a></dt>\n  <dd>\n    <p>Advances the cursor to the next position along its direction, to the item whose key matches the optional <code>key</code> parameter.</p>\n  </dd>\n  <dt id=\"idbcursor.continueprimarykey_en-us\"><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/IDBCursor/continuePrimaryKey\"><code>IDBCursor.continuePrimaryKey()</code> <small>(en-US)</small></a></dt>\n  <dd>\n    <p>Sets the cursor to the given index key and primary key given as arguments.</p>\n  </dd>\n  <dt id=\"idbcursor.delete_en-us\"><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/IDBCursor/delete\"><code>IDBCursor.delete()</code> <small>(en-US)</small></a></dt>\n  <dd>\n    <p>Returns an <a href=\"/ja/docs/Web/API/IDBRequest\"><code>IDBRequest</code></a> object, and, in a separate thread, deletes the record at the cursor's position, without changing the cursor's position. This can be used to delete specific records.</p>\n  </dd>\n  <dt id=\"idbcursor.update_en-us\"><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/IDBCursor/update\"><code>IDBCursor.update()</code> <small>(en-US)</small></a></dt>\n  <dd>\n    <p>Returns an <a href=\"/ja/docs/Web/API/IDBRequest\"><code>IDBRequest</code></a> object, and, in a separate thread, updates the value at the current position of the cursor in the object store. This can be used to update specific records.</p>\n  </dd>\n</dl>"}},{"type":"prose","value":{"id":"constants","title":"Constants","isH3":false,"content":"<div class=\"notecard deprecated\" id=\"sect2\"><p><strong>非推奨 Gecko 13 (Firefox 13 / Thunderbird 13 / SeaMonkey 2.10):</strong> この機能は非推奨になりました。まだ対応しているブラウザーがあるかもしれませんが、すでに関連するウェブ標準から削除されているか、削除の手続き中であるか、互換性のためだけに残されている可能性があります。使用を避け、できれば既存のコードは更新してください。このページの下部にある<a href=\"#browser_compatibility\">互換性一覧表</a>を見て判断してください。この機能は突然動作しなくなる可能性があることに注意してください。</p></div>\n<div class=\"notecard warning\" id=\"sect3\">\n  <p><strong>Warning:</strong> これらの constants は利用できません — Gecko 25 で削除されました。代わりに直接 string constants を使う必要があります。(<a href=\"https://bugzilla.mozilla.org/show_bug.cgi?id=891944\" class=\"external\" rel=\" noopener\">バグ&nbsp;891944</a>)</p>\n</div>\n<ul>\n  <li><code>NEXT</code>: <code>\"next\"</code> : The cursor shows all records, including duplicates. It starts at the lower bound of the key range and moves upwards (monotonically increasing in the order of keys).</li>\n  <li><code>NEXTUNIQUE</code> : <code>\"nextunique\"</code> : The cursor shows all records, excluding duplicates. If multiple records exist with the same key, only the first one iterated is retrieved. It starts at the lower bound of the key range and moves upwards.</li>\n  <li><code>PREV</code>: <code>\"prev\"</code> : The cursor shows all records, including duplicates. It starts at the upper bound of the key range and moves downwards (monotonically decreasing in the order of keys).</li>\n  <li><code>PREVUNIQUE</code>: <code>\"prevunique\"</code> : The cursor shows all records, excluding duplicates. If multiple records exist with the same key, only the first one iterated is retrieved. It starts at the upper bound of the key range and moves downwards.</li>\n</ul>"}},{"type":"prose","value":{"id":"例","title":"例","isH3":false,"content":"<p>In this simple fragment we create a transaction, retrieve an object store, then use a cursor to iterate through all the records in the object store. The cursor does not require us to select the data based on a key; we can just grab all of it. Also note that in each iteration of the loop, you can grab data from the current record under the cursor object using <code>cursor.value.foo</code>. For a complete working example, see our <a href=\"https://github.com/mdn/IDBcursor-example/\" class=\"external\" rel=\" noopener\">IDBCursor example</a> (<a href=\"https://mdn.github.io/IDBcursor-example/\" class=\"external\" rel=\" noopener\">view example live</a>.)</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">function</span> <span class=\"token function\">displayData</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">var</span> transaction <span class=\"token operator\">=</span> db<span class=\"token punctuation\">.</span><span class=\"token function\">transaction</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token string\">'rushAlbumList'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"readonly\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">var</span> objectStore <span class=\"token operator\">=</span> transaction<span class=\"token punctuation\">.</span><span class=\"token function\">objectStore</span><span class=\"token punctuation\">(</span><span class=\"token string\">'rushAlbumList'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  objectStore<span class=\"token punctuation\">.</span><span class=\"token function\">openCursor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onsuccess</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">event</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">var</span> cursor <span class=\"token operator\">=</span> event<span class=\"token punctuation\">.</span>target<span class=\"token punctuation\">.</span>result<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>cursor<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">var</span> listItem <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">createElement</span><span class=\"token punctuation\">(</span><span class=\"token string\">'li'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      listItem<span class=\"token punctuation\">.</span>innerHTML <span class=\"token operator\">=</span> cursor<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">.</span>albumTitle <span class=\"token operator\">+</span> <span class=\"token string\">', '</span> <span class=\"token operator\">+</span> cursor<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">.</span>year<span class=\"token punctuation\">;</span>\n      list<span class=\"token punctuation\">.</span><span class=\"token function\">appendChild</span><span class=\"token punctuation\">(</span>listItem<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n      cursor<span class=\"token punctuation\">.</span><span class=\"token function\">continue</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n      console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Entries all displayed.'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>"}},{"type":"prose","value":{"id":"仕様","title":"仕様","isH3":false,"content":"<table>\n  <thead>\n    <tr>\n      <th>仕様書</th>\n      <th>策定状況</th>\n      <th>コメント</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <td><a href=\"https://www.w3.org/TR/IndexedDB/#idl-def-IDBCursor\" hreflang=\"en\" lang=\"en\" class=\"external\" rel=\" noopener\">Indexed Database API 2.0<br><small lang=\"ja\">cursor の定義</small></a></td>\n      <td><span class=\"spec-rec\">勧告</span></td>\n      <td></td>\n    </tr>\n  </tbody>\n</table>"}},{"type":"browser_compatibility","value":{"title":"ブラウザー実装状況","id":"ブラウザー実装状況","isH3":false,"query":"api.IDBCursor","dataURL":"/ja/docs/Web/API/IDBCursor/bcd.json"}},{"type":"prose","value":{"id":"関連情報","title":"関連情報","isH3":false,"content":"<ul>\n  <li><a href=\"/ja/docs/Web/API/IndexedDB_API/Using_IndexedDB\">IndexedDB を使用する</a></li>\n  <li>トランザクションを開始する: <a href=\"/ja/docs/Web/API/IDBDatabase\"><code>IDBDatabase</code></a></li>\n  <li>トランザクションを使用する: <a href=\"/ja/docs/Web/API/IDBTransaction\"><code>IDBTransaction</code></a></li>\n  <li>キーの範囲をセットする: <a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/IDBKeyRange\"><code>IDBKeyRange</code> <small>(en-US)</small></a></li>\n  <li>データを取得、変更する: <a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/IDBObjectStore\"><code>IDBObjectStore</code> <small>(en-US)</small></a></li>\n  <li>カーソルを使用する: <a href=\"/ja/docs/Web/API/IDBCursor\" aria-current=\"page\"><code>IDBCursor</code></a></li>\n  <li>リファレンスの例: <a href=\"https://github.com/mdn/to-do-notifications/tree/gh-pages\" class=\"external\" rel=\" noopener\">To-do Notifications</a> (<a href=\"https://mdn.github.io/to-do-notifications/\" class=\"external\" rel=\" noopener\">view example live</a>.)</li>\n</ul>"}}],"toc":[{"text":"プロパティ","id":"プロパティ"},{"text":"メソッド","id":"メソッド"},{"text":"Constants","id":"constants"},{"text":"例","id":"例"},{"text":"仕様","id":"仕様"},{"text":"ブラウザー実装状況","id":"ブラウザー実装状況"},{"text":"関連情報","id":"関連情報"}],"summary":"IndexedDB API の IDBCursor インターフェイスはデータベースの複数レコードを横断したり繰り返すためのカーソル (en-US)です。","popularity":0,"modified":"2022-10-01T03:41:16.000Z","other_translations":[{"title":"IDBCursor","locale":"en-US","native":"English (US)"},{"title":"IDBCursor","locale":"es","native":"Español"},{"title":"IDBCursor","locale":"fr","native":"Français"},{"title":"IDBCursor","locale":"pt-BR","native":"Português (do Brasil)"},{"title":"IDBCursor","locale":"zh-CN","native":"中文 (简体)"}],"source":{"folder":"ja/web/api/idbcursor","github_url":"https://github.com/mdn/translated-content/blob/main/files/ja/web/api/idbcursor/index.md","last_commit_url":"https://github.com/mdn/translated-content/commit/921c46a374ab0a9f4cc809af0370f8c412e54701","filename":"index.md"},"parents":[{"uri":"/ja/docs/Web","title":"開発者向けのウェブ技術"},{"uri":"/ja/docs/Web/API","title":"Web API"},{"uri":"/ja/docs/Web/API/IDBCursor","title":"IDBCursor"}],"pageTitle":"IDBCursor - Web API | MDN","noIndexing":false}}