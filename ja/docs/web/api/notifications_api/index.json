{"doc":{"isMarkdown":true,"isTranslated":true,"isActive":true,"flaws":{},"title":"通知 API","mdn_url":"/ja/docs/Web/API/Notifications_API","locale":"ja","native":"日本語","sidebarHTML":"<ol><li><strong><a href=\"/ja/docs/Web/API/Notifications_API\">Notifications API</a></strong></li><li class=\"toggle\"><details open=\"\"><summary>ガイド</summary><ol><li><a href=\"/ja/docs/Web/API/Notifications_API/Using_the_Notifications_API\">Using the Notifications API</a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>インターフェイス</summary><ol><li><a href=\"/ja/docs/Web/API/Notification\"><code>Notification</code></a></li><li><a href=\"/ja/docs/Web/API/NotificationEvent\"><code>NotificationEvent</code></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>メソッド</summary><ol><li><a href=\"/ja/docs/Web/API/ServiceWorkerRegistration/showNotification\"><code>ServiceWorkerRegistration.showNotification()</code></a></li><li><a href=\"/ja/docs/Web/API/ServiceWorkerRegistration/getNotifications\"><code>ServiceWorkerRegistration.getNotifications()</code></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>イベント</summary><ol><li><a href=\"/ja/docs/Web/API/ServiceWorkerGlobalScope/notificationclick_event\"><code>ServiceWorkerGlobalScope</code>: <code>notificationclick</code></a></li></ol></details></li></ol>","body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<div class=\"notecard note\" id=\"sect1\">\n  <p><strong>注:</strong> この機能は <a href=\"/ja/docs/Web/API/Web_Workers_API\">Web Worker</a> 内で利用可能です</p>\n</div><div class=\"notecard secure\" id=\"sect2\"><p><strong>安全なコンテキスト用:</strong> この機能は一部またはすべての<a href=\"#browser_compatibility\">対応しているブラウザー</a>において、<a href=\"/ja/docs/Web/Security/Secure_Contexts\">安全なコンテキスト</a> (HTTPS) でのみ利用できます。</p></div>\n<p>通知 API を使えば、ウェブページがエンドユーザーに表示するシステム通知を制御できるようになります。これらのシステムは、最上位の閲覧コンテキストのビューポートの外にあるため、ユーザーがタブを切り替えたり、別のアプリに移動していても表示されます。また、この API は既存の通知システムと互換性を持つように設計されているので、異なるプラットフォームでも動作します。</p>"}},{"type":"prose","value":{"id":"概要と使い方","title":"概要と使い方","isH3":false,"content":"<p>対応済みのプラットフォームでは、システム通知を表示するには、一般的に 2 つのことが必要です。まず、ユーザーが現在のオリジンに対してシステム通知を表示する許可を与える必要があります。これは一般的にアプリやサイトが初期化されたとき、 <a href=\"/ja/docs/Web/API/Notification/requestPermission\"><code>Notification.requestPermission()</code></a> を使用して行われます。これは、例えばボタンをクリックするなど、ユーザーの操作に反応して行う必要があります。</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code>btn<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'click'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">let</span> promise <span class=\"token operator\">=</span> Notification<span class=\"token punctuation\">.</span><span class=\"token function\">requestPermission</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token comment\">// wait for permission</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n</code></pre></div>\n<p>これはベストプラクティスで、ユーザーが同意していない通知でユーザーに迷惑をかけるべきではありません。しかし、今後ブラウザーはユーザーの操作から起動されていない通知を明示的に拒否するようになるでしょう。例えば、 Firefox はバージョン 72 からすでにこれを行っています。</p>\n<p>これは以下のようにリクエストダイアログを起動します。</p>\n<p>\n  <img src=\"/en-US/docs/Web/API/Notifications_API/screen_shot_2019-12-11_at_9.59.14_am.png\" alt=\"\" width=\"643\" height=\"183\" loading=\"lazy\">\n</p>\n<p>ここでは、ユーザーはこのオリジンからの通知を許可するかどうかを選択できます。一度決定がなされると、現在のセッションの間はその設定が保存されます。</p>\n<div class=\"notecard note\" id=\"sect3\">\n  <p><strong>Note:</strong> Firefox 44 からは、通知と<a href=\"/ja/docs/Web/API/Push_API\">プッシュ通知</a>の許可が統合されました。通知に許可が与えられれば、プッシュ通知も同時に有効になります。</p>\n</div>\n<p>つぎに、新しい通知は <a href=\"/ja/docs/Web/API/Notification/Notification\" title=\"Notification()\"><code>Notification()</code></a> コンストラクターを使って作られます。このコンストラクターには、必須の title 引数と、オプションを指定する引数として options オブジェクトを与えることができます。オプションには、テキストの方向、本文テキスト、表示アイコン、通知サウンドなどが指定可能です。</p>\n<p>さらに、通知 API の仕様には、いくつかの<a href=\"/ja/docs/Web/API/Service_Worker_API\">サービスワーカー API</a> が定義されており、サービスワーカーが通知を発行できるようになっています。</p>\n<div class=\"notecard note\" id=\"sect4\">\n  <p><strong>Note:</strong> 自分のアプリでの通知の詳しい使い方については、<a href=\"/ja/docs/Web/API/Notifications_API/Using_the_Notifications_API\">通知 API の使用</a>を参照してください。</p>\n</div>"}},{"type":"prose","value":{"id":"通知インターフェイス","title":"通知インターフェイス","isH3":false,"content":"<dl>\n  <dt id=\"notification\"><a href=\"/ja/docs/Web/API/Notification\"><code>Notification</code></a></dt>\n  <dd>\n    <p>通知オブジェクトを定義します。</p>\n  </dd>\n</dl>"}},{"type":"prose","value":{"id":"サービスワーカーの追加要素","title":"サービスワーカーの追加要素","isH3":true,"content":"<dl>\n  <dt id=\"serviceworkerregistration\"><a href=\"/ja/docs/Web/API/ServiceWorkerRegistration\"><code>ServiceWorkerRegistration</code></a></dt>\n  <dd>\n    <p><a href=\"/ja/docs/Web/API/ServiceWorkerRegistration/showNotification\"><code>ServiceWorkerRegistration.showNotification()</code></a> および <a href=\"/ja/docs/Web/API/ServiceWorkerRegistration/getNotifications\"><code>ServiceWorkerRegistration.getNotifications()</code></a> メソッドが含まれており、通知の表示の制御に使用できます。</p>\n  </dd>\n  <dt id=\"serviceworkerglobalscope\"><a href=\"/ja/docs/Web/API/ServiceWorkerGlobalScope\"><code>ServiceWorkerGlobalScope</code></a></dt>\n  <dd>\n    <p><a href=\"/ja/docs/Web/API/ServiceWorkerGlobalScope/notificationclick_event\" title=\"onnotificationclick\"><code>onnotificationclick</code></a> ハンドラーが含まれており、通知がクリックされた時にカスタム関数を実行させることができるようになります。</p>\n  </dd>\n  <dt id=\"notificationevent\"><a href=\"/ja/docs/Web/API/NotificationEvent\"><code>NotificationEvent</code></a></dt>\n  <dd>\n    <p><a href=\"/ja/docs/Web/API/ExtendableEvent\"><code>ExtendableEvent</code></a> を基本とした、特定の型ののイベントオブジェクトです。すでに実行された通知を表現します。</p>\n  </dd>\n</dl>"}},{"type":"specifications","value":{"title":"仕様書","id":"仕様書","isH3":false,"specifications":[{"bcdSpecificationURL":"https://notifications.spec.whatwg.org/#api","title":"Notifications API Standard"}],"query":"api.Notification"}},{"type":"browser_compatibility","value":{"title":"ブラウザーの互換性","id":"ブラウザーの互換性","isH3":false,"query":"api.Notification","dataURL":"/ja/docs/Web/API/Notifications_API/bcd.json"}},{"type":"prose","value":{"id":"関連情報","title":"関連情報","isH3":false,"content":"<ul>\n  <li><a href=\"/ja/docs/Web/API/Notifications_API/Using_the_Notifications_API\">通知 API の使用</a></li>\n</ul>"}}],"toc":[{"text":"概要と使い方","id":"概要と使い方"},{"text":"通知インターフェイス","id":"通知インターフェイス"},{"text":"仕様書","id":"仕様書"},{"text":"ブラウザーの互換性","id":"ブラウザーの互換性"},{"text":"関連情報","id":"関連情報"}],"summary":"通知 API を使えば、ウェブページがエンドユーザーに表示するシステム通知を制御できるようになります。これらのシステムは、最上位の閲覧コンテキストのビューポートの外にあるため、ユーザーがタブを切り替えたり、別のアプリに移動していても表示されます。また、この API は既存の通知システムと互換性を持つように設計されているので、異なるプラットフォームでも動作します。","popularity":0,"modified":"2022-10-01T03:41:16.000Z","other_translations":[{"title":"Notifications API","locale":"en-US","native":"English (US)"},{"title":"Notifications API","locale":"es","native":"Español"},{"title":"API de Notifications","locale":"fr","native":"Français"},{"title":"Notifications API","locale":"ko","native":"한국어"},{"title":"Notifications API","locale":"ru","native":"Русский"},{"title":"Notifications API","locale":"zh-CN","native":"中文 (简体)"},{"title":"Notifications API","locale":"zh-TW","native":"正體中文 (繁體)"}],"source":{"folder":"ja/web/api/notifications_api","github_url":"https://github.com/mdn/translated-content/blob/main/files/ja/web/api/notifications_api/index.md","last_commit_url":"https://github.com/mdn/translated-content/commit/921c46a374ab0a9f4cc809af0370f8c412e54701","filename":"index.md"},"parents":[{"uri":"/ja/docs/Web","title":"開発者向けのウェブ技術"},{"uri":"/ja/docs/Web/API","title":"Web API"},{"uri":"/ja/docs/Web/API/Notifications_API","title":"通知 API"}],"pageTitle":"通知 API - Web API | MDN","noIndexing":false}}