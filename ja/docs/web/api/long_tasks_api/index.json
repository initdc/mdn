{"doc":{"isMarkdown":true,"isTranslated":true,"isActive":true,"flaws":{},"title":"Long Tasks API","mdn_url":"/ja/docs/Web/API/Long_Tasks_API","locale":"ja","native":"日本語","sidebarHTML":"","body":[{"type":"prose","value":{"id":"動機","title":"動機","isH3":false,"content":"<p>実験的な Long Tasks API（長いタスク API）により、50 ミリ秒以上かかるタスクを可視化できます。 50 ミリ秒のしきい値は、<a href=\"https://developers.google.com/web/fundamentals/performance/rail\" class=\"external\" rel=\" noopener\">RAIL モデル</a>、特に「<a href=\"https://developers.google.com/web/fundamentals/performance/rail#response\" class=\"external\" rel=\" noopener\">Response: process events in under 50ms</a>（応答: 50 ミリ秒未満でイベントを処理、英語版を参照のこと）」のセクションから来ています。</p>\n<p>50 ミリ秒以上メインスレッドをブロックするタスクは、次のような問題があります。</p>\n<ul>\n  <li>「<a href=\"/ja/docs/Glossary/Time_to_interactive\">対話までの時間</a>」の遅延</li>\n  <li>高/可変入力待ち時間</li>\n  <li>高/可変イベント処理待ち時間</li>\n  <li>ぎくしゃくしたアニメーションとスクロール</li>\n</ul>"}},{"type":"prose","value":{"id":"概念","title":"概念","isH3":false,"content":"<p>Long Tasks API によって使用されるいくつかの重要な用語またはアイデア。</p>"}},{"type":"prose","value":{"id":"長いタスク","title":"長いタスク","isH3":true,"content":"<p>メイン UI スレッドが 50 ミリ秒以上ビジーである継続期間。 一般的な例は次のとおりです。</p>\n<ul>\n  <li>長期実行イベントハンドラ</li>\n  <li>高価なリフローやその他の再レンダリング</li>\n  <li>50 ミリ秒を超えるイベントループの異なるターンの間にブラウザーが実行する作業</li>\n</ul>"}},{"type":"prose","value":{"id":"犯人の閲覧コンテキストコンテナ","title":"犯人の閲覧コンテキストコンテナ","isH3":true,"content":"<p>「犯人の閲覧コンテキストコンテナ（Culprit browsing context container）」、または略して「コンテナ」は、タスクが発生した最上位ページ、iframe、embed、object です。</p>"}},{"type":"prose","value":{"id":"帰属（attributions）","title":"帰属（Attributions）","isH3":true,"content":"<p>タスクが発生したコンテナのリスト。 トップレベルページ内で発生しないタスクの場合、<code>containerId</code>、<code>containerName</code>、<code>containerSrc</code> の各フィールドは、タスクのソースに関する情報を提供することがあります。</p>"}},{"type":"prose","value":{"id":"使用法","title":"使用法","isH3":false,"content":"<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">var</span> observer <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">PerformanceObserver</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">list</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">var</span> perfEntries <span class=\"token operator\">=</span> list<span class=\"token punctuation\">.</span><span class=\"token function\">getEntries</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">var</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> perfEntries<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// 長いタスク通知を処理します</span>\n        <span class=\"token comment\">// 分析とモニタリングについて報告する</span>\n        <span class=\"token comment\">// ...</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// 長いタスク通知用のオブザーバーを登録する</span>\nobserver<span class=\"token punctuation\">.</span><span class=\"token function\">observe</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><span class=\"token literal-property property\">entryTypes</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"longtask\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// この後スクリプトを長時間実行すると、オブザーバー内で</span>\n<span class=\"token comment\">// \"longtask\" エントリがキューに入れられ、受信されます。</span>\n</code></pre></div>"}},{"type":"prose","value":{"id":"インターフェイス","title":"インターフェイス","isH3":false,"content":"<dl>\n  <dt id=\"performancelongtasktiming\"><a href=\"/ja/docs/Web/API/PerformanceLongTaskTiming\"><code>PerformanceLongTaskTiming</code></a></dt>\n  <dd>\n    <p>長いタスクのインスタンスを報告します。</p>\n  </dd>\n  <dt id=\"taskattributiontiming\"><a href=\"/ja/docs/Web/API/TaskAttributionTiming\"><code>TaskAttributionTiming</code></a></dt>\n  <dd>\n    <p>長いタスクに関連する作業とそれに関連するフレームコンテキストに関する情報を返します。</p>\n  </dd>\n</dl>"}},{"type":"prose","value":{"id":"仕様","title":"仕様","isH3":false,"content":"<table>\n  <thead>\n    <tr>\n      <th>仕様</th>\n      <th>状態</th>\n      <th>コメント</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <td><a href=\"https://w3c.github.io/longtasks/\" hreflang=\"en\" lang=\"en\" class=\"external\" title=\"Long Tasks API 1の仕様書\" rel=\" noopener\">Long Tasks API 1</a></td>\n      <td><span class=\"spec-wd\">草案</span></td>\n      <td>初期定義</td>\n    </tr>\n  </tbody>\n</table>"}},{"type":"prose","value":{"id":"ブラウザーの互換性","title":"ブラウザーの互換性","isH3":false,"content":""}},{"type":"browser_compatibility","value":{"title":"PerformanceLongTaskTiming","id":"performancelongtasktiming_2","isH3":true,"query":"api.PerformanceLongTaskTiming","dataURL":"/ja/docs/Web/API/Long_Tasks_API/bcd.json"}},{"type":"browser_compatibility","value":{"title":"TaskAttributionTiming","id":"taskattributiontiming_2","isH3":true,"query":"api.TaskAttributionTiming","dataURL":"/ja/docs/Web/API/Long_Tasks_API/bcd-2.json"}},{"type":"prose","value":{"id":"関連情報","title":"関連情報","isH3":false,"content":"<ul>\n  <li><a href=\"https://github.com/w3c/longtasks\" class=\"external\" rel=\" noopener\">GitHub リポジトリ</a>にはドキュメントといくつかのコードサンプルが含まれています。</li>\n  <li>2017 年 12 月 20 日の Long Tasks API に関する <a href=\"https://calendar.perfplanet.com/2017/tracking-cpu-with-long-tasks-api/\" class=\"external\" rel=\" noopener\">PerfPlanet の記事</a>。</li>\n</ul>"}}],"toc":[{"text":"動機","id":"動機"},{"text":"概念","id":"概念"},{"text":"使用法","id":"使用法"},{"text":"インターフェイス","id":"インターフェイス"},{"text":"仕様","id":"仕様"},{"text":"ブラウザーの互換性","id":"ブラウザーの互換性"},{"text":"関連情報","id":"関連情報"}],"summary":"実験的な Long Tasks API（長いタスク API）により、50 ミリ秒以上かかるタスクを可視化できます。 50 ミリ秒のしきい値は、RAIL モデル、特に「Response: process events in under 50ms（応答: 50 ミリ秒未満でイベントを処理、英語版を参照のこと）」のセクションから来ています。","popularity":0,"modified":"2022-10-01T03:41:16.000Z","other_translations":[{"title":"Long Tasks API","locale":"en-US","native":"English (US)"},{"title":"Long Tasks API","locale":"zh-CN","native":"中文 (简体)"}],"source":{"folder":"ja/web/api/long_tasks_api","github_url":"https://github.com/mdn/translated-content/blob/main/files/ja/web/api/long_tasks_api/index.md","last_commit_url":"https://github.com/mdn/translated-content/commit/921c46a374ab0a9f4cc809af0370f8c412e54701","filename":"index.md"},"parents":[{"uri":"/ja/docs/Web","title":"開発者向けのウェブ技術"},{"uri":"/ja/docs/Web/API","title":"Web API"},{"uri":"/ja/docs/Web/API/Long_Tasks_API","title":"Long Tasks API"}],"pageTitle":"Long Tasks API - Web API | MDN","noIndexing":false}}