{"doc":{"isMarkdown":true,"isTranslated":true,"isActive":true,"flaws":{},"title":"PublicKeyCredentialCreationOptions.authenticatorSelection","mdn_url":"/ja/docs/Web/API/CredentialsContainer/create","locale":"ja","native":"日本語","sidebarHTML":"<ol><li><strong><a href=\"/ja/docs/Web/API/Web_Authentication_API\">Web Authentication API</a></strong></li><li><strong><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/CredentialsContainer\"><code>CredentialsContainer</code> <small>(en-US)</small></a></strong></li><li class=\"toggle\"><details open=\"\"><summary>メソッド</summary><ol><li><em><code>create()</code></em></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/CredentialsContainer/get\"><code>get()</code> <small>(en-US)</small></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/CredentialsContainer/preventSilentAccess\"><code>preventSilentAccess()</code> <small>(en-US)</small></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/CredentialsContainer/store\"><code>store()</code> <small>(en-US)</small></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>Web Authentication API に関連するページ</summary><ol><li><a href=\"/ja/docs/Web/API/AuthenticatorAssertionResponse\"><code>AuthenticatorAssertionResponse</code></a></li><li><a href=\"/ja/docs/Web/API/AuthenticatorAttestationResponse\"><code>AuthenticatorAttestationResponse</code></a></li><li><a href=\"/ja/docs/Web/API/AuthenticatorResponse\"><code>AuthenticatorResponse</code></a></li><li><a href=\"/ja/docs/Web/API/PublicKeyCredential\"><code>PublicKeyCredential</code></a></li></ol></details></li></ol>","body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<div class=\"notecard secure\" id=\"sect1\"><p><strong>安全なコンテキスト用:</strong> この機能は一部またはすべての<a href=\"#browser_compatibility\">対応しているブラウザー</a>において、<a href=\"/ja/docs/Web/Security/Secure_Contexts\">安全なコンテキスト</a> (HTTPS) でのみ利用できます。</p></div>\n<p><strong><code>authenticatorSelection</code></strong> は <a href=\"/ja/docs/conflicting/Web/API/CredentialsContainer/create_18148a708412fc42b1affe2f08eab270\"><code>PublicKeyCredentialCreationOptions</code></a> 辞書の任意のプロパティであり、生成操作に使用される認証機器をフィルタリングする条件を指定するオブジェクトです。</p>"}},{"type":"prose","value":{"id":"構文","title":"構文","isH3":false,"content":"<pre class=\"notranslate\">authenticatorSelection = publicKeyCredentialCreationOptions.authenticatorSelection\n</pre>"}},{"type":"prose","value":{"id":"値","title":"値","isH3":true,"content":"<p>以下のプロパティを持つオブジェクトです。</p>\n<dl>\n  <dt id=\"authenticatorattachment\"><code>authenticatorAttachment</code><span class=\"badge inline optional\">省略可</span></dt>\n  <dd>\n    <p>文字列で、 \"<code>platform</code>\" または \"<code>cross-platform</code>\" のどちらかです。前者は認証機器がクライアントに接続されており、通常は取り外し不可能であることを示します。後者は機器が異なるプラットフォームをまたがって使用される可能性があることを示します (USB や NFC 端末など)。</p>\n  </dd>\n  <dt id=\"requireresidentkey\"><code>requireResidentKey</code><span class=\"badge inline optional\">省略可</span></dt>\n  <dd>\n    <p>論理値で、認証情報の秘密鍵を認証機器、クライアント、クライアント端末の中に格納する必要があるのか、どうかを示します。既定値は <code>false</code> です。</p>\n  </dd>\n  <dt id=\"userverification\"><code>userVerification</code><span class=\"badge inline optional\">省略可</span></dt>\n  <dd>\n    <p>A string qualifying how the user verification should be part of the authentication process. The values may be:</p>\n    <ul>\n      <li>\"<code>required</code>\": user verification is required, the operation will fail if the <a href=\"/ja/docs/Web/API/AuthenticatorAttestationResponse\" title=\"response\">response</a> does not have the UV flag (as part of the <code>authenticatorData</code> property of <a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/AuthenticatorAttestationResponse/attestationObject\"><code>AuthenticatorAttestationResponse.attestationObject</code> <small>(en-US)</small></a>)</li>\n      <li>\"<code>preferred</code>\": user verification is prefered, the operation will not fail if the <a href=\"/ja/docs/Web/API/AuthenticatorAttestationResponse\" title=\"response\">response</a> does not have the UV flag (as part of the <code>authenticatorData</code> property of <a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/AuthenticatorAttestationResponse/attestationObject\"><code>AuthenticatorAttestationResponse.attestationObject</code> <small>(en-US)</small></a>)</li>\n      <li>\"<code>discouraged</code>\": user verification should not be employed as to minimize the user interaction during the process.</li>\n    </ul>\n    <p>The default value is \"<code>preferred</code>\".</p>\n  </dd>\n</dl>\n<p>The authenticator used for the creation of the public key credential must comply with the requirements.</p>\n<blockquote>\n  <p>**Note:**See <a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/PublicKeyCredential/isUserVerifyingPlatformAuthenticatorAvailable\"><code>PublicKeyCredential.isUserVerifyingPlatformAuthenticatorAvailable()</code> <small>(en-US)</small></a> which resolves to <code>true</code> when a user-verifiying platform authenticator is available.</p>\n</blockquote>"}},{"type":"prose","value":{"id":"例","title":"例","isH3":false,"content":"<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">var</span> publicKey <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">authenticatorSelection</span><span class=\"token operator\">:</span><span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">authenticatorAttachment</span><span class=\"token operator\">:</span> <span class=\"token string\">\"cross-platform\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">requireResidentKey</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">userVerification</span><span class=\"token operator\">:</span> <span class=\"token string\">\"required\"</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">challenge</span><span class=\"token operator\">:</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Uint8Array</span><span class=\"token punctuation\">(</span><span class=\"token number\">26</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">/* this actually is given from the server */</span><span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">rp</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Example CORP\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">id</span>  <span class=\"token operator\">:</span> <span class=\"token string\">\"login.example.com\"</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">user</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">id</span><span class=\"token operator\">:</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Uint8Array</span><span class=\"token punctuation\">(</span><span class=\"token number\">26</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">/* To be changed for each user */</span>\n    <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">\"jdoe@example.com\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">displayName</span><span class=\"token operator\">:</span> <span class=\"token string\">\"John Doe\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">pubKeyCredParams</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">type</span><span class=\"token operator\">:</span> <span class=\"token string\">\"public-key\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">alg</span><span class=\"token operator\">:</span> <span class=\"token operator\">-</span><span class=\"token number\">7</span> <span class=\"token punctuation\">}</span> <span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\nnavigator<span class=\"token punctuation\">.</span>credentials<span class=\"token punctuation\">.</span><span class=\"token function\">create</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> publicKey <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">newCredentialInfo</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// send attestation response and client extensions</span>\n    <span class=\"token comment\">// to the server to proceed with the registration</span>\n    <span class=\"token comment\">// of the credential</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">catch</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">err</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n     console<span class=\"token punctuation\">.</span><span class=\"token function\">error</span><span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>"}},{"type":"prose","value":{"id":"仕様書","title":"仕様書","isH3":false,"content":"<table>\n  <thead>\n    <tr>\n      <th>仕様書</th>\n      <th>状態</th>\n      <th>備考</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <td><a href=\"https://w3c.github.io/webauthn/#dom-publickeycredentialcreationoptions-authenticatorselection\" hreflang=\"en\" lang=\"en\" class=\"external\" rel=\" noopener\">Web Authentication: An API for accessing Public Key Credentials Level 1<br><small lang=\"ja\">authenticatorSelection の定義</small></a></td>\n      <td><span class=\"spec-rec\">勧告</span></td>\n      <td>初回定義</td>\n    </tr>\n  </tbody>\n</table>"}},{"type":"browser_compatibility","value":{"title":"ブラウザーの互換性","id":"ブラウザーの互換性","isH3":false,"data":null,"query":"api.PublicKeyCredentialCreationOptions.excludeCredentials","browsers":null}},{"type":"prose","value":{"id":"see_also","title":"See also","isH3":false,"content":"<ul>\n  <li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/PublicKeyCredential/isUserVerifyingPlatformAuthenticatorAvailable\"><code>PublicKeyCredential.isUserVerifyingPlatformAuthenticatorAvailable()</code> <small>(en-US)</small></a></li>\n  <li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/AuthenticatorAssertionResponse/authenticatorData\"><code>AuthenticatorAssertionResponse.authenticatorData</code> <small>(en-US)</small></a> whose structure contains the UV flag (please note that for the creation operation, <a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/AuthenticatorAttestationResponse/attestationObject\"><code>AuthenticatorAttestationResponse.attestationObject</code> <small>(en-US)</small></a> only contains a CBOR encoded version of this data and does not give an immediate access to the flag).</li>\n</ul>"}}],"toc":[{"text":"構文","id":"構文"},{"text":"例","id":"例"},{"text":"仕様書","id":"仕様書"},{"text":"ブラウザーの互換性","id":"ブラウザーの互換性"},{"text":"See also","id":"see_also"}],"summary":"authenticatorSelection は PublicKeyCredentialCreationOptions 辞書の任意のプロパティであり、生成操作に使用される認証機器をフィルタリングする条件を指定するオブジェクトです。","popularity":0,"modified":"2022-10-01T03:41:16.000Z","other_translations":[{"title":"CredentialsContainer.create()","locale":"en-US","native":"English (US)"},{"title":"CredentialsContainer.create()","locale":"fr","native":"Français"}],"source":{"folder":"ja/web/api/credentialscontainer/create","github_url":"https://github.com/mdn/translated-content/blob/main/files/ja/web/api/credentialscontainer/create/index.md","last_commit_url":"https://github.com/mdn/translated-content/commit/921c46a374ab0a9f4cc809af0370f8c412e54701","filename":"index.md"},"parents":[{"uri":"/ja/docs/Web","title":"開発者向けのウェブ技術"},{"uri":"/ja/docs/Web/API","title":"Web API"},{"uri":"/ja/docs/Web/API/CredentialsContainer/create","title":"PublicKeyCredentialCreationOptions.authenticatorSelection"}],"pageTitle":"PublicKeyCredentialCreationOptions.authenticatorSelection - Web API | MDN","noIndexing":false}}