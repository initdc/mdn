{"doc":{"isMarkdown":true,"isTranslated":true,"isActive":true,"flaws":{},"title":"IDBDatabase.createObjectStore","mdn_url":"/ja/docs/Web/API/IDBDatabase/createObjectStore","locale":"ja","native":"日本語","sidebarHTML":"<ol><li><strong><a href=\"/ja/docs/Web/API/IDBDatabase\"><code>IDBDatabase</code></a></strong></li><li class=\"toggle\"><details open=\"\"><summary>プロパティ</summary><ol><li><a href=\"/ja/docs/Web/API/IDBDatabase/name\"><code>name</code></a></li><li><a href=\"/ja/docs/Web/API/IDBDatabase/objectStoreNames\"><code>objectStoreNames</code></a></li><li><a href=\"/ja/docs/Web/API/IDBDatabase/version\"><code>version</code></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>メソッド</summary><ol><li><a href=\"/ja/docs/Web/API/IDBDatabase/close\"><code>close()</code></a></li><li><em><code>createObjectStore()</code></em></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/IDBDatabase/deleteObjectStore\"><code>deleteObjectStore()</code> <small>(en-US)</small></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/IDBDatabase/transaction\"><code>transaction()</code> <small>(en-US)</small></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>イベント</summary><ol><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/IDBDatabase/close_event\"><code>close</code> <small>(en-US)</small></a></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/IDBDatabase/versionchange_event\"><code>versionchange</code> <small>(en-US)</small></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>継承</summary><ol><li><a href=\"/ja/docs/Web/API/EventTarget\"><code>EventTarget</code></a></li></ol></details></li></ol>","body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<p><a href=\"/ja/docs/Web/API/IDBDatabase\"><code>IDBDatabase</code></a> インターフェイスの<code>createObjectStore()</code> メソッドは、新しいオブジェクトストアやインデックスを生成して返します。</p>\n<p>このメソッドは、ストアの名前をとるだけでなく、重要なオプションプロパティを定義するためのオプションオブジェクトもとります。ストアの個々のオブジェクトを一意にするために、プロパティを使用できます。 プロパティが識別子ならば、それはすべてのオブジェクトで一意であり、すべてのオブジェクトはそのプロパティを持つべきです。</p>\n<p>WebKit ブラウザでは、オブジェクトストアやインデックスを生成できるようになる前に、<a class=\"page-not-created\" title=\"この項目についての文書はまだ書かれていません。書いてみませんか？\"><code>IDBVersionChangeRequest.setVersion</code></a>メソッドを呼び出さなければなりません。</p>"}},{"type":"prose","value":{"id":"構文","title":"構文","isH3":false,"content":"<pre class=\"notranslate\">IDBDatabase.createObjectStore(name);\nIDBDatabase.createObjectStore(name, options);\n</pre>"}},{"type":"prose","value":{"id":"戻り値","title":"戻り値","isH3":true,"content":"<dl>\n  <dt id=\"idbobjectstore_en-us\"><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/IDBObjectStore\"><code>IDBObjectStore</code> <small>(en-US)</small></a></dt>\n  <dd>\n    <p>新しく生成されたオブジェクトストア。</p>\n  </dd>\n</dl>"}},{"type":"prose","value":{"id":"例外","title":"例外","isH3":true,"content":"<p>このメソッドは、次の型の 1 つを含む<a href=\"/ja/docs/Web/API/DOMError\"><code>DOMError</code></a>を伴う<a href=\"/ja/docs/Web/API/DOMException\"><code>DOMException</code></a>を発生させるかもしれません。</p>\n<table>\n  <thead>\n    <tr>\n      <th>Exception</th>\n      <th>Description</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <td><code>InvalidStateError</code></td>\n      <td>このメソッドが<code>versionchange</code>トランザクションのコールバックとして呼び出されなかった。WebKit ブラウザでは、はじめに を呼び出さなければならない。既に削除されたか取り除かれたオブジェクトを要求した場合も発生する。</td>\n    </tr>\n    <tr>\n      <td><code>ConstraintError</code></td>\n      <td>与えられた名前のオブジェクトストア(based on case-sensitive comparison) が接続中のデータベースに既に存在する。</td>\n    </tr>\n    <tr>\n      <td><code>InvalidAccessError</code></td>\n      <td><code>autoIncrement</code>が true に設定されていて、<code>keyPathが空文字か空文字を含む配列の場合。</code></td>\n    </tr>\n  </tbody>\n</table>"}},{"type":"prose","value":{"id":"例","title":"例","isH3":false,"content":"<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code> <span class=\"token comment\">// Let us open our database</span>\n  <span class=\"token keyword\">var</span> request <span class=\"token operator\">=</span> window<span class=\"token punctuation\">.</span>indexedDB<span class=\"token punctuation\">.</span><span class=\"token function\">open</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"toDoList\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// This event handles the event whereby a new version of the database needs to be created</span>\n  <span class=\"token comment\">// Either one has not been created before, or a new version number has been submitted via the</span>\n  <span class=\"token comment\">// window.indexedDB.open line above</span>\n  <span class=\"token comment\">//it is only implemented in recent browsers</span>\n  request<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onupgradeneeded</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">event</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">var</span> db <span class=\"token operator\">=</span> event<span class=\"token punctuation\">.</span>target<span class=\"token punctuation\">.</span>result<span class=\"token punctuation\">;</span>\n\n    db<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onerror</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">event</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      note<span class=\"token punctuation\">.</span>innerHTML <span class=\"token operator\">+=</span> <span class=\"token string\">'&lt;li&gt;Error loading database.&lt;/li&gt;'</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">// Create an objectStore for this database</span>\n\n    <span class=\"token keyword\">var</span> objectStore <span class=\"token operator\">=</span> db<span class=\"token punctuation\">.</span><span class=\"token function\">createObjectStore</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"toDoList\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">keyPath</span><span class=\"token operator\">:</span> <span class=\"token string\">\"taskTitle\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">// define what data items the objectStore will contain</span>\n\n    objectStore<span class=\"token punctuation\">.</span><span class=\"token function\">createIndex</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"hours\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"hours\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">unique</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    objectStore<span class=\"token punctuation\">.</span><span class=\"token function\">createIndex</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"minutes\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"minutes\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">unique</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    objectStore<span class=\"token punctuation\">.</span><span class=\"token function\">createIndex</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"day\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"day\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">unique</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    objectStore<span class=\"token punctuation\">.</span><span class=\"token function\">createIndex</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"month\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"month\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">unique</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    objectStore<span class=\"token punctuation\">.</span><span class=\"token function\">createIndex</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"year\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"year\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">unique</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    objectStore<span class=\"token punctuation\">.</span><span class=\"token function\">createIndex</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"notified\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"notified\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">unique</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    note<span class=\"token punctuation\">.</span>innerHTML <span class=\"token operator\">+=</span> <span class=\"token string\">'&lt;li&gt;Object store created.&lt;/li&gt;'</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n</code></pre></div>"}},{"type":"prose","value":{"id":"パラメーター","title":"パラメーター","isH3":false,"content":"<dl>\n  <dt id=\"name\">name</dt>\n  <dd>\n    <p>新しく作られるオブジェクトストア名。</p>\n  </dd>\n  <dt id=\"optionalparameters\">optionalParameters</dt>\n  <dd>\n    <p>*オプション。*メソッドのオプションパラメーターとなる属性を持つオプションオブジェクト。これは次のプロパティを持つ。</p>\n    <table>\n      <thead>\n        <tr>\n          <th>Attribute</th>\n          <th>Description</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr>\n          <td><code>keyPath</code></td>\n          <td>新しいオブジェクトストアで使用される<a href=\"/ja/docs/Web/API/IndexedDB_API/Basic_Terminology#gloss_keypath\">key path</a>。空や特定されていない場合、オブジェクトストアは Key Path なしで生成されて、<a href=\"/ja/docs/Web/API/IndexedDB_API#gloss_out-of-line_key\">out-of-line keys</a>が使用される。</td>\n        </tr>\n        <tr>\n          <td><code>autoIncrement</code></td>\n          <td><code>trueだった場合、オブジェクトストアは</code><a href=\"/ja/docs/Web/API/IndexedDB_API#gloss_key_generator\">key generator</a>を持つ。既定値は<code>false。</code></td>\n        </tr>\n      </tbody>\n    </table>\n    <p>未知のパラメーターは無視される。</p>\n  </dd>\n</dl>"}},{"type":"prose","value":{"id":"仕様","title":"仕様","isH3":false,"content":"<table>\n  <thead>\n    <tr>\n      <th>Specification</th>\n      <th>Status</th>\n      <th>Comment</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <td><a href=\"https://www.w3.org/TR/IndexedDB/#widl-IDBDatabase-createObjectStore-IDBObjectStore-DOMString-name-IDBObjectStoreParameters-optionalParameters\" hreflang=\"en\" lang=\"en\" class=\"external\" rel=\" noopener\">Indexed Database API 2.0<br><small lang=\"ja\">createObjectStore() の定義</small></a></td>\n      <td><span class=\"spec-rec\">勧告</span></td>\n      <td></td>\n    </tr>\n  </tbody>\n</table>"}},{"type":"browser_compatibility","value":{"title":"ブラウザ実装状況","id":"ブラウザ実装状況","isH3":false,"query":"api.IDBDatabase.createObjectStore","dataURL":"/ja/docs/Web/API/IDBDatabase/createObjectStore/bcd.json"}},{"type":"prose","value":{"id":"関連項目","title":"関連項目","isH3":false,"content":"<ul>\n  <li><a href=\"/ja/docs/Web/API/IndexedDB_API/Using_IndexedDB\">Using IndexedDB</a></li>\n  <li>Starting transactions: <a href=\"/ja/docs/Web/API/IDBDatabase\"><code>IDBDatabase</code></a></li>\n  <li>Using transactions: <a href=\"/ja/docs/Web/API/IDBTransaction\"><code>IDBTransaction</code></a></li>\n  <li>Setting a range of keys: <a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/IDBKeyRange\"><code>IDBKeyRange</code> <small>(en-US)</small></a></li>\n  <li>Retrieving and making changes to your data: <a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/IDBObjectStore\"><code>IDBObjectStore</code> <small>(en-US)</small></a></li>\n  <li>Using cursors: <a href=\"/ja/docs/Web/API/IDBCursor\"><code>IDBCursor</code></a></li>\n  <li>Reference example: <a href=\"https://github.com/mdn/to-do-notifications/tree/gh-pages\" class=\"external\" rel=\" noopener\">To-do Notifications</a> (<a href=\"https://mdn.github.io/to-do-notifications/\" class=\"external\" rel=\" noopener\">view example live</a>.)</li>\n</ul>"}}],"toc":[{"text":"構文","id":"構文"},{"text":"例","id":"例"},{"text":"パラメーター","id":"パラメーター"},{"text":"仕様","id":"仕様"},{"text":"ブラウザ実装状況","id":"ブラウザ実装状況"},{"text":"関連項目","id":"関連項目"}],"summary":"IDBDatabase インターフェイスのcreateObjectStore() メソッドは、新しいオブジェクトストアやインデックスを生成して返します。","popularity":0,"modified":"2022-10-01T03:41:16.000Z","other_translations":[{"title":"IDBDatabase.createObjectStore()","locale":"en-US","native":"English (US)"},{"title":"IDBDatabase.createObjectStore()","locale":"fr","native":"Français"},{"title":"IDBDatabase.createObjectStore()","locale":"zh-CN","native":"中文 (简体)"}],"source":{"folder":"ja/web/api/idbdatabase/createobjectstore","github_url":"https://github.com/mdn/translated-content/blob/main/files/ja/web/api/idbdatabase/createobjectstore/index.md","last_commit_url":"https://github.com/mdn/translated-content/commit/921c46a374ab0a9f4cc809af0370f8c412e54701","filename":"index.md"},"parents":[{"uri":"/ja/docs/Web","title":"開発者向けのウェブ技術"},{"uri":"/ja/docs/Web/API","title":"Web API"},{"uri":"/ja/docs/Web/API/IDBDatabase","title":"IDBDatabase"},{"uri":"/ja/docs/Web/API/IDBDatabase/createObjectStore","title":"IDBDatabase.createObjectStore"}],"pageTitle":"IDBDatabase.createObjectStore - Web API | MDN","noIndexing":false}}