{"doc":{"isMarkdown":true,"isTranslated":true,"isActive":true,"flaws":{},"title":"Crypto.getRandomValues()","mdn_url":"/ja/docs/Web/API/Crypto/getRandomValues","locale":"ja","native":"日本語","sidebarHTML":"<ol><li><strong><a href=\"/ja/docs/Web/API/Web_Crypto_API\">Web Crypto API</a></strong></li><li><strong><a href=\"/ja/docs/Web/API/Crypto\"><code>Crypto</code></a></strong></li><li class=\"toggle\"><details open=\"\"><summary>プロパティ</summary><ol><li><a href=\"/ja/docs/Web/API/Crypto/subtle\"><code>subtle</code></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>メソッド</summary><ol><li><em><code>getRandomValues()</code></em></li><li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/Crypto/randomUUID\"><code>randomUUID()</code> <small>(en-US)</small></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>Web Crypto API に関連するページ</summary><ol><li><a href=\"/ja/docs/Web/API/CryptoKey\"><code>CryptoKey</code></a></li><li><a href=\"/ja/docs/Web/API/SubtleCrypto\"><code>SubtleCrypto</code></a></li><li><a href=\"/ja/docs/Web/API/crypto_property\"><code>crypto_property</code></a></li></ol></details></li></ol>","body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<p>\n  <strong><code>Crypto.getRandomValues()</code></strong> メソッドは、暗号強度の強い乱数値を取得します。\n  引数で与えた配列は、すべて乱数 （暗号学的な意味でランダムに）で埋められます。\n</p>\n<p>\n  十分な性能を保証するために、実装は真に乱数発生器を使用しているのではないものの、十分なエントロピーを有する<em>シード値</em>を用いた擬似乱数発生器を使用しています。\n  擬似乱数発生器アルゴリズム (PRNG) は、<a href=\"/ja/docs/Glossary/User_agent\">ユーザーエージェント</a>によって異なる可能性がありますが、暗号化の目的には適しています。\n</p>\n<p><code>getRandomValues()</code> は <code>Crypto</code> インターフェイスで安全なコンテキスト外から使用することができる唯一のメンバーです。</p>"}},{"type":"prose","value":{"id":"構文","title":"構文","isH3":false,"content":"<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token function\">getRandomValues</span><span class=\"token punctuation\">(</span>typedArray<span class=\"token punctuation\">)</span>\n</code></pre></div>"}},{"type":"prose","value":{"id":"引数","title":"引数","isH3":true,"content":"<dl>\n  <dt id=\"typedarray\"><code>typedArray</code></dt>\n  <dd>\n    <p>\n      整数値ベースの <a href=\"/ja/docs/Web/JavaScript/Reference/Global_Objects/TypedArray\"><code>TypedArray</code></a> です。 <a href=\"/ja/docs/Web/JavaScript/Reference/Global_Objects/Int8Array\"><code>Int8Array</code></a>, <a href=\"/ja/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array\"><code>Uint8Array</code></a>, <a href=\"/ja/docs/Web/JavaScript/Reference/Global_Objects/Uint8ClampedArray\"><code>Uint8ClampedArray</code></a>, <a href=\"/ja/docs/Web/JavaScript/Reference/Global_Objects/Int16Array\"><code>Int16Array</code></a>, <a href=\"/ja/docs/Web/JavaScript/Reference/Global_Objects/Uint16Array\"><code>Uint16Array</code></a>, <a href=\"/ja/docs/Web/JavaScript/Reference/Global_Objects/Int32Array\"><code>Int32Array</code></a>, <a href=\"/ja/docs/Web/JavaScript/Reference/Global_Objects/Uint32Array\"><code>Uint32Array</code></a>, <a href=\"/ja/docs/Web/JavaScript/Reference/Global_Objects/BigInt64Array\"><code>BigInt64Array</code></a>, <a href=\"/ja/docs/Web/JavaScript/Reference/Global_Objects/BigUint64Array\"><code>BigUint64Array</code></a> の何れかです（ただし <code>Float32Array</code> や <code>Float64Array</code> では<strong>ありません</strong>）。\n      配列内のすべての要素は乱数で上書きされます。\n    </p>\n  </dd>\n</dl>"}},{"type":"prose","value":{"id":"返値","title":"返値","isH3":true,"content":"<p>\n  <code>typedArray</code> と同じ配列が渡されますが、その内容は新しく生成された乱数で置き換えられます。\n  <code>typedArray</code> はその場で変更され、コピーは行われないことに注意してください。\n</p>"}},{"type":"prose","value":{"id":"例外","title":"例外","isH3":true,"content":"<dl>\n  <dt id=\"quotaexceedederror\"><code>QuotaExceededError</code><a href=\"/ja/docs/Web/API/DOMException\"><code>DOMException</code></a></dt>\n  <dd>\n    <p><code>typedArray</code> の <a href=\"/ja/docs/Web/JavaScript/Reference/Global_Objects/TypedArray/byteLength\"><code>byteLength</code></a> が 65,536 バイトを超えた場合に発生します。</p>\n  </dd>\n</dl>"}},{"type":"prose","value":{"id":"使用上の注意","title":"使用上の注意","isH3":false,"content":"<p>\n  暗号鍵を生成するために <code>getRandomValues()</code> 使用しないでください。代わりに <a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/SubtleCrypto/generateKey\"><code>generateKey()</code> <small>(en-US)</small></a> メソッドを使用してください。\n  これにはいくつかの理由があります。例えば、 <code>getRandomValues()</code> が安全なコンテキストで動作することが保証されていないことなどです。\n</p>\n<p>\n  ウェブ暗号仕様書では、エントロピーの最小値は規定されていません。\n  その代わり、ユーザーエージェントは乱数を生成する際に、ユーザーエージェント自身に組み込まれた、よく定義された効率的な擬似乱数発生器を用いて、可能な限り最高のエントロピーを提供することが求められていますが、プラットフォーム固有の乱数関数、 Unix の <code>/dev/urandom</code> デバイス、または他のランダムまたは擬似乱数データのソースなど、外部の擬似乱数ソースから取得したシード値が用いられます。\n</p>"}},{"type":"prose","value":{"id":"例","title":"例","isH3":false,"content":"<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">const</span> array <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Uint32Array</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nself<span class=\"token punctuation\">.</span>crypto<span class=\"token punctuation\">.</span><span class=\"token function\">getRandomValues</span><span class=\"token punctuation\">(</span>array<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Your lucky numbers:\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">const</span> num <span class=\"token keyword\">of</span> array<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>num<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>"}},{"type":"specifications","value":{"title":"仕様書","id":"仕様書","isH3":false,"specifications":[{"bcdSpecificationURL":"https://w3c.github.io/webcrypto/#Crypto-method-getRandomValues","title":"Web Cryptography API"}],"query":"api.Crypto.getRandomValues"}},{"type":"browser_compatibility","value":{"title":"ブラウザーの互換性","id":"ブラウザーの互換性","isH3":false,"query":"api.Crypto.getRandomValues","dataURL":"/ja/docs/Web/API/Crypto/getRandomValues/bcd.json"}},{"type":"prose","value":{"id":"関連情報","title":"関連情報","isH3":false,"content":"<ul>\n  <li><a href=\"/ja/docs/Web/API/Web_Crypto_API\">ウェブ暗号 API</a></li>\n  <li><a href=\"/ja/docs/Web/API/Crypto\"><code>Crypto</code></a> オブジェクトを取得する <a href=\"/ja/docs/Web/API/crypto_property\"><code>Window.crypto</code></a>。</li>\n  <li><a href=\"/ja/docs/Web/JavaScript/Reference/Global_Objects/Math/random\"><code>Math.random</code></a> 暗号学的に安全ではない乱数値。</li>\n</ul>"}}],"toc":[{"text":"構文","id":"構文"},{"text":"使用上の注意","id":"使用上の注意"},{"text":"例","id":"例"},{"text":"仕様書","id":"仕様書"},{"text":"ブラウザーの互換性","id":"ブラウザーの互換性"},{"text":"関連情報","id":"関連情報"}],"summary":"Crypto.getRandomValues() メソッドは、暗号強度の強い乱数値を取得します。\n  引数で与えた配列は、すべて乱数 （暗号学的な意味でランダムに）で埋められます。","popularity":0.0002,"modified":"2022-10-01T03:41:16.000Z","other_translations":[{"title":"Crypto.getRandomValues()","locale":"en-US","native":"English (US)"},{"title":"Crypto.getRandomValues()","locale":"es","native":"Español"},{"title":"Crypto.getRandomValues()","locale":"fr","native":"Français"},{"title":"Crypto.getRandomValues()","locale":"ko","native":"한국어"},{"title":"RandomSource.getRandomValues()","locale":"pt-BR","native":"Português (do Brasil)"},{"title":"RandomSource.getRandomValues()","locale":"ru","native":"Русский"},{"title":"Crypto.getRandomValues()","locale":"zh-CN","native":"中文 (简体)"}],"source":{"folder":"ja/web/api/crypto/getrandomvalues","github_url":"https://github.com/mdn/translated-content/blob/main/files/ja/web/api/crypto/getrandomvalues/index.md","last_commit_url":"https://github.com/mdn/translated-content/commit/921c46a374ab0a9f4cc809af0370f8c412e54701","filename":"index.md"},"parents":[{"uri":"/ja/docs/Web","title":"開発者向けのウェブ技術"},{"uri":"/ja/docs/Web/API","title":"Web API"},{"uri":"/ja/docs/Web/API/Crypto","title":"Crypto"},{"uri":"/ja/docs/Web/API/Crypto/getRandomValues","title":"Crypto.getRandomValues()"}],"pageTitle":"Crypto.getRandomValues() - Web API | MDN","noIndexing":false}}