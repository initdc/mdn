{"doc":{"isMarkdown":true,"isTranslated":true,"isActive":true,"flaws":{},"title":"History API","mdn_url":"/ja/docs/Web/API/History_API","locale":"ja","native":"日本語","sidebarHTML":"<ol><li><strong><a href=\"/ja/docs/Web/API/History_API\">History API</a></strong></li><li class=\"toggle\"><details open=\"\"><summary>ガイド</summary><ol><li><a href=\"/ja/docs/Web/API/History_API/Working_with_the_History_API\">Working with the History API</a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>インターフェイス</summary><ol><li><a href=\"/ja/docs/Web/API/History\"><code>History</code></a></li></ol></details></li></ol>","body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<p>DOM の <a href=\"/ja/docs/Web/API/Window\"><code>Window</code></a> オブジェクトは、ブラウザーのセッション履歴 (<a href=\"/ja/docs/Mozilla/Add-ons/WebExtensions/API/history\">WebExtensions history</a> と混同しないように) へのアクセスを <a href=\"/ja/docs/Web/API/Window/history\" title=\"history\"><code>history</code></a> オブジェクトを介して提供しています。このオブジェクトは、ユーザーの履歴の中を前のページや後のページへ移動したり、履歴スタックの中を操作したりするのに便利なメソッドやプロパティが提供されています。</p>"}},{"type":"prose","value":{"id":"概念と使用方法","title":"概念と使用方法","isH3":false,"content":"<p>ユーザーの履歴の中を前のページや次のページへ移動するには、 <a href=\"/ja/docs/Web/API/History/back\" title=\"back()\"><code>back()</code></a>, <a href=\"/ja/docs/Web/API/History/forward\" title=\"forward()\"><code>forward()</code></a>, <a href=\"/ja/docs/Web/API/History/go\" title=\"go()\"><code>go()</code></a> の各メソッドを使用します。</p>"}},{"type":"prose","value":{"id":"前のページや次のページへの移動","title":"前のページや次のページへの移動","isH3":true,"content":"<p>履歴を前に遡るには、次のようにします。</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code>window<span class=\"token punctuation\">.</span>history<span class=\"token punctuation\">.</span><span class=\"token function\">back</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n</code></pre></div>\n<p>これは、ちょうどユーザーがブラウザーのツールバーの<kbd><strong>前のページへ戻る</strong></kbd>ボタンをクリックしたときのような動作です。</p>\n<p>同様に、次のようにして (ユーザーが<kbd><strong>次のページへ進む</strong></kbd>ボタンをクリックしたときのように) 次のページへ進むこともできます。</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code>window<span class=\"token punctuation\">.</span>history<span class=\"token punctuation\">.</span><span class=\"token function\">forward</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n</code></pre></div>"}},{"type":"prose","value":{"id":"履歴内の特定の位置まで移動","title":"履歴内の特定の位置まで移動","isH3":true,"content":"<p><a href=\"/ja/docs/Web/API/History/go\" title=\"go()\"><code>go()</code></a> メソッドを使うと、セッション履歴において現在のページから相対的な位置を指定して特定のページを読み込むことができます。 (現在のページの相対位置は <code>0</code> となります。)</p>\n<p>ひとつ前のページへと戻る例です (<a href=\"/ja/docs/Web/API/History/back\" title=\"back()\"><code>back()</code></a> と同様の動き)。</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code>window<span class=\"token punctuation\">.</span>history<span class=\"token punctuation\">.</span><span class=\"token function\">go</span><span class=\"token punctuation\">(</span><span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n</code></pre></div>\n<p>ページを進める例で、 <a href=\"/ja/docs/Web/API/History/forward\" title=\"forward()\"><code>forward()</code></a> を呼び出すのと同様です。</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code>window<span class=\"token punctuation\">.</span>history<span class=\"token punctuation\">.</span><span class=\"token function\">go</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n</code></pre></div>\n<p>同様に、 <code>2</code> を渡すことで 2 ページ分を進めることができます。</p>\n<p><code>go()</code> メソッドの他の使い方として、 <code>0</code> を渡すか、引数なしで呼び出すことで、現在のページを再読み込みすることができます。</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token comment\">// 以下の文は、</span>\n<span class=\"token comment\">// どちらもページを再読み込みする</span>\n<span class=\"token comment\">// 効果があります。</span>\nwindow<span class=\"token punctuation\">.</span>history<span class=\"token punctuation\">.</span><span class=\"token function\">go</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\nwindow<span class=\"token punctuation\">.</span>history<span class=\"token punctuation\">.</span><span class=\"token function\">go</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n</code></pre></div>\n<p><code>length</code> プロパティの値を参照することにより、履歴スタック中のページの数を知ることができます。</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">let</span> numberOfEntries <span class=\"token operator\">=</span> window<span class=\"token punctuation\">.</span>history<span class=\"token punctuation\">.</span>length\n</code></pre></div>"}},{"type":"prose","value":{"id":"インターフェイス","title":"インターフェイス","isH3":false,"content":"<dl>\n  <dt id=\"history\"><a href=\"/ja/docs/Web/API/History\"><code>History</code></a></dt>\n  <dd>\n    <p>ブラウザーの<em>セッション履歴</em> (すなわち、現在のページが読み込まれているタブやフレームで表示したことがあるページ群) の操作ができます。</p>\n  </dd>\n</dl>"}},{"type":"prose","value":{"id":"例","title":"例","isH3":false,"content":"<p>以下の例では <code>onpopstate</code> プロパティにリスナーを割り当てています。そして、 history オブジェクトのメソッドで現在のタブのブラウザー履歴の追加、置換、移動など、いくつかの操作を説明しています。</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code>window<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onpopstate</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">event</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">location: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>document<span class=\"token punctuation\">.</span>location<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">, state: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">stringify</span><span class=\"token punctuation\">(</span>event<span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">)</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\nhistory<span class=\"token punctuation\">.</span><span class=\"token function\">pushState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><span class=\"token literal-property property\">page</span><span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"title 1\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"?page=1\"</span><span class=\"token punctuation\">)</span>\nhistory<span class=\"token punctuation\">.</span><span class=\"token function\">pushState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><span class=\"token literal-property property\">page</span><span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"title 2\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"?page=2\"</span><span class=\"token punctuation\">)</span>\nhistory<span class=\"token punctuation\">.</span><span class=\"token function\">replaceState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><span class=\"token literal-property property\">page</span><span class=\"token operator\">:</span> <span class=\"token number\">3</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"title 3\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"?page=3\"</span><span class=\"token punctuation\">)</span>\nhistory<span class=\"token punctuation\">.</span><span class=\"token function\">back</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// alerts \"location: http://example.com/example.html?page=1, state: {\"page\":1}\"</span>\nhistory<span class=\"token punctuation\">.</span><span class=\"token function\">back</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// alerts \"location: http://example.com/example.html, state: null\"</span>\nhistory<span class=\"token punctuation\">.</span><span class=\"token function\">go</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\">// alerts \"location: http://example.com/example.html?page=3, state: {\"page\":3}\"</span>\n</code></pre></div>"}},{"type":"prose","value":{"id":"仕様書","title":"仕様書","isH3":false,"content":"<table>\n  <thead>\n    <tr>\n      <th>仕様書</th>\n      <th>状態</th>\n      <th>備考</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <td><a href=\"https://html.spec.whatwg.org/multipage/browsers.html#history\" hreflang=\"en\" lang=\"en\" class=\"external\" rel=\" noopener\">HTML Living Standard<br><small lang=\"ja\">History の定義</small></a></td>\n      <td><span class=\"spec-living\">現行の標準</span></td>\n      <td><a href=\"https://www.w3.org/TR/html52/\" hreflang=\"en\" lang=\"en\" class=\"external\" title=\"HTML5の仕様書\" rel=\" noopener\">HTML5</a> から変更なし</td>\n    </tr>\n    <tr>\n      <td><a href=\"https://www.w3.org/TR/html52/browsers.html#history\" hreflang=\"en\" lang=\"en\" class=\"external\" rel=\" noopener\">HTML5<br><small lang=\"ja\">History の定義</small></a></td>\n      <td><span class=\"spec-rec\">勧告</span></td>\n      <td>初回定義</td>\n    </tr>\n  </tbody>\n</table>"}},{"type":"browser_compatibility","value":{"title":"ブラウザーの互換性","id":"ブラウザーの互換性","isH3":false,"query":"api.History","dataURL":"/ja/docs/Web/API/History_API/bcd.json"}},{"type":"prose","value":{"id":"関連情報","title":"関連情報","isH3":false,"content":""}},{"type":"prose","value":{"id":"リファレンス","title":"リファレンス","isH3":true,"content":"<ul>\n  <li><a href=\"/ja/docs/Web/API/Window/history\"><code>window.history</code></a></li>\n  <li><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/Window/popstate_event\"><code>window.onpopstate</code> <small>(en-US)</small></a></li>\n</ul>"}},{"type":"prose","value":{"id":"ガイド","title":"ガイド","isH3":true,"content":"<ul>\n  <li><a href=\"/ja/docs/Web/API/History_API/Working_with_the_History_API\">History API の操作</a></li>\n</ul>"}}],"toc":[{"text":"概念と使用方法","id":"概念と使用方法"},{"text":"インターフェイス","id":"インターフェイス"},{"text":"例","id":"例"},{"text":"仕様書","id":"仕様書"},{"text":"ブラウザーの互換性","id":"ブラウザーの互換性"},{"text":"関連情報","id":"関連情報"}],"summary":"DOM の Window オブジェクトは、ブラウザーのセッション履歴 (WebExtensions history と混同しないように) へのアクセスを history オブジェクトを介して提供しています。このオブジェクトは、ユーザーの履歴の中を前のページや後のページへ移動したり、履歴スタックの中を操作したりするのに便利なメソッドやプロパティが提供されています。","popularity":0.0005,"modified":"2022-10-01T03:41:16.000Z","other_translations":[{"title":"History API","locale":"en-US","native":"English (US)"},{"title":"Manipulando el historial del navegador","locale":"es","native":"Español"},{"title":"Manipuler l'historique du navigateur","locale":"fr","native":"Français"},{"title":"History API","locale":"ko","native":"한국어"},{"title":"Manipulando o histórico do navegador","locale":"pt-BR","native":"Português (do Brasil)"},{"title":"History API","locale":"ru","native":"Русский"},{"title":"History API","locale":"zh-CN","native":"中文 (简体)"},{"title":"操控瀏覽器歷史紀錄","locale":"zh-TW","native":"正體中文 (繁體)"}],"source":{"folder":"ja/web/api/history_api","github_url":"https://github.com/mdn/translated-content/blob/main/files/ja/web/api/history_api/index.md","last_commit_url":"https://github.com/mdn/translated-content/commit/921c46a374ab0a9f4cc809af0370f8c412e54701","filename":"index.md"},"parents":[{"uri":"/ja/docs/Web","title":"開発者向けのウェブ技術"},{"uri":"/ja/docs/Web/API","title":"Web API"},{"uri":"/ja/docs/Web/API/History_API","title":"History API"}],"pageTitle":"History API - Web API | MDN","noIndexing":false}}