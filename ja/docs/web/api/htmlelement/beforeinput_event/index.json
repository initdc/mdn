{"doc":{"isMarkdown":true,"isTranslated":true,"isActive":true,"flaws":{},"title":"HTMLElement: beforeinput イベント","mdn_url":"/ja/docs/Web/API/HTMLElement/beforeinput_event","locale":"ja","native":"日本語","sidebarHTML":"<ol><li><strong><a href=\"/ja/docs/Web/API/HTMLElement\"><code>HTMLElement</code></a></strong></li><li class=\"toggle\"><details open=\"\"><summary>プロパティ</summary><ol><li><a href=\"/ja/docs/Web/API/HTMLElement/contentEditable\"><code>contentEditable</code></a></li><li><svg class=\"icon icon-nonstandard\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-nonstandard\"></use>\n</svg><svg class=\"icon icon-deprecated\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-deprecated\"></use>\n</svg><a href=\"/ja/docs/Web/API/HTMLElement/contextMenu\"><code>contextMenu</code></a></li><li><a href=\"/ja/docs/Web/API/HTMLElement/dataset\"><code>dataset</code></a></li><li><a href=\"/ja/docs/Web/API/HTMLElement/dir\"><code>dir</code></a></li><li><a href=\"/ja/docs/Web/API/HTMLElement/enterKeyHint\"><code>enterKeyHint</code></a></li><li><a href=\"/ja/docs/Web/API/HTMLElement/hidden\"><code>hidden</code></a></li><li><a href=\"/ja/docs/Web/API/HTMLElement/inert\"><code>inert</code></a></li><li><a href=\"/ja/docs/Web/API/HTMLElement/innerText\"><code>innerText</code></a></li><li><a href=\"/ja/docs/Web/API/HTMLElement/isContentEditable\"><code>isContentEditable</code></a></li><li><a href=\"/ja/docs/Web/API/HTMLElement/lang\"><code>lang</code></a></li><li><a href=\"/ja/docs/Web/API/HTMLElement/nonce\"><code>nonce</code></a></li><li><a href=\"/ja/docs/Web/API/HTMLElement/offsetHeight\"><code>offsetHeight</code></a></li><li><a href=\"/ja/docs/Web/API/HTMLElement/offsetLeft\"><code>offsetLeft</code></a></li><li><a href=\"/ja/docs/Web/API/HTMLElement/offsetParent\"><code>offsetParent</code></a></li><li><a href=\"/ja/docs/Web/API/HTMLElement/offsetTop\"><code>offsetTop</code></a></li><li><a href=\"/ja/docs/Web/API/HTMLElement/offsetWidth\"><code>offsetWidth</code></a></li><li><a href=\"/ja/docs/Web/API/HTMLElement/outerText\"><code>outerText</code></a></li><li><a href=\"/ja/docs/Web/API/HTMLElement/style\"><code>style</code></a></li><li><a href=\"/ja/docs/Web/API/HTMLElement/tabIndex\"><code>tabIndex</code></a></li><li><a href=\"/ja/docs/Web/API/HTMLElement/title\"><code>title</code></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>メソッド</summary><ol><li><a href=\"/ja/docs/Web/API/HTMLElement/attachInternals\"><code>attachInternals()</code></a></li><li><a href=\"/ja/docs/Web/API/HTMLElement/blur\"><code>blur()</code></a></li><li><a href=\"/ja/docs/Web/API/HTMLElement/click\"><code>click()</code></a></li><li><a href=\"/ja/docs/Web/API/HTMLElement/focus\"><code>focus()</code></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>イベント</summary><ol><li><em><code>beforeinput</code></em></li><li><a href=\"/ja/docs/Web/API/HTMLElement/change_event\"><code>change</code></a></li><li><a href=\"/ja/docs/Web/API/HTMLElement/copy_event\"><code>copy</code></a></li><li><a href=\"/ja/docs/Web/API/HTMLElement/cut_event\"><code>cut</code></a></li><li><a href=\"/ja/docs/Web/API/HTMLElement/drag_event\"><code>drag</code></a></li><li><a href=\"/ja/docs/Web/API/HTMLElement/dragend_event\"><code>dragend</code></a></li><li><a href=\"/ja/docs/Web/API/HTMLElement/dragenter_event\"><code>dragenter</code></a></li><li><a href=\"/ja/docs/Web/API/HTMLElement/dragleave_event\"><code>dragleave</code></a></li><li><a href=\"/ja/docs/Web/API/HTMLElement/dragover_event\"><code>dragover</code></a></li><li><a href=\"/ja/docs/Web/API/HTMLElement/dragstart_event\"><code>dragstart</code></a></li><li><a href=\"/ja/docs/Web/API/HTMLElement/drop_event\"><code>drop</code></a></li><li><a href=\"/ja/docs/Web/API/HTMLElement/input_event\"><code>input</code></a></li><li><svg class=\"icon icon-nonstandard\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-nonstandard\"></use>\n</svg><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/HTMLElement/mscandidatewindowhide_event\"><code>mscandidatewindowhide</code> <small>(en-US)</small></a></li><li><svg class=\"icon icon-nonstandard\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-nonstandard\"></use>\n</svg><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/HTMLElement/mscandidatewindowshow_event\"><code>mscandidatewindowshow</code> <small>(en-US)</small></a></li><li><svg class=\"icon icon-nonstandard\" tabindex=\"0\">\n    <use xlink:href=\"/assets/badges.svg#icon-nonstandard\"></use>\n</svg><a class=\"only-in-en-us\" title=\"Currently only available in English (US)\" href=\"/en-US/docs/Web/API/HTMLElement/mscandidatewindowupdate_event\"><code>mscandidatewindowupdate</code> <small>(en-US)</small></a></li><li><a href=\"/ja/docs/Web/API/HTMLElement/paste_event\"><code>paste</code></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>継承</summary><ol><li><a href=\"/ja/docs/Web/API/Element\"><code>Element</code></a></li><li><a href=\"/ja/docs/Web/API/Node\"><code>Node</code></a></li><li><a href=\"/ja/docs/Web/API/EventTarget\"><code>EventTarget</code></a></li></ol></details></li></ol>","body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<p>DOM の <strong><code>beforeinput</code></strong> イベントは、<a href=\"/ja/docs/Web/HTML/Element/input\"><code>&lt;input&gt;</code></a>、<a href=\"/ja/docs/Web/HTML/Element/select\"><code>&lt;select&gt;</code></a>、<a href=\"/ja/docs/Web/HTML/Element/textarea\"><code>&lt;textarea&gt;</code></a> 要素の値が変更されようとしているときに発生します。 このイベントは、<a href=\"/ja/docs/Web/API/HTMLElement/contentEditable\" title=\"contenteditable\"><code>contenteditable</code></a> が有効になっている要素、および <a href=\"/ja/docs/Web/API/Document/designMode\" title=\"designMode\"><code>designMode</code></a> がオンになっている要素にも適用されます。</p>\n<p>これにより、ブラウザーが DOM ツリーを変更する前に、ウェブアプリケーションがテキスト編集の動作を上書きすることができ、入力イベントをより詳細に制御してパフォーマンスを向上させることができます。</p>\n<p><code>contenteditable</code> や <code>designMode</code> の場合、イベントのターゲットは<strong>編集ホスト</strong>です。これらのプロパティが複数の要素に適用された場合、編集ホストは、親が編集可能ではない直近の先祖要素になります。</p>\n<table class=\"properties\">\n  <tbody>\n    <tr>\n      <th>バブリング</th>\n      <td>あり</td>\n    </tr>\n    <tr>\n      <th>キャンセル</th>\n      <td>可</td>\n    </tr>\n    <tr>\n      <th>インターフェイス</th>\n      <td><a href=\"/ja/docs/Web/API/InputEvent\"><code>InputEvent</code></a></td>\n    </tr>\n    <tr>\n      <th>イベントハンドラープロパティ</th>\n      <td>なし</td>\n    </tr>\n    <tr>\n      <th>同期 / 非同期</th>\n      <td>同期</td>\n    </tr>\n    <tr>\n      <th>Composed</th>\n      <td>はい</td>\n    </tr>\n    <tr>\n      <th>既定のアクション</th>\n      <td>DOM 要素の更新</td>\n    </tr>\n  </tbody>\n</table>"}},{"type":"prose","value":{"id":"例","title":"例","isH3":false,"content":""}},{"type":"prose","value":{"id":"機能の検出","title":"機能の検出","isH3":true,"content":"<p>以下の関数は、 <code>beforeinput</code> に対応していれば true を返します。</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">function</span> <span class=\"token function\">isBeforeInputEventAvailable</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> window<span class=\"token punctuation\">.</span>InputEvent <span class=\"token operator\">&amp;&amp;</span> <span class=\"token keyword\">typeof</span> <span class=\"token class-name\">InputEvent</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">.</span>getTargetRanges <span class=\"token operator\">===</span> <span class=\"token string\">\"function\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>"}},{"type":"prose","value":{"id":"単純なロガー","title":"単純なロガー","isH3":true,"content":"<p>この例では、 <a href=\"/ja/docs/Web/HTML/Element/input\"><code>&lt;input&gt;</code></a> 要素に適用された新しい値に置き換える直前に、要素の現在の値をログに記録します。</p>\n<h4 id=\"html\">HTML</h4>\n<div class=\"code-example\"><pre class=\"brush: html notranslate\"><code><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">placeholder</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>テキストを入力<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>name<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>values<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">&gt;</span></span>\n</code></pre></div>\n<h4 id=\"javascript\">JavaScript</h4>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">const</span> input <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">'input'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> log <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">'values'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\ninput<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'beforeinput'</span><span class=\"token punctuation\">,</span> updateValue<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">updateValue</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">e</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  log<span class=\"token punctuation\">.</span>textContent <span class=\"token operator\">=</span> e<span class=\"token punctuation\">.</span>target<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<h4 id=\"結果\">結果</h4><iframe class=\"sample-code-frame\" title=\"単純なロガー\" id=\"frame_simple_logger\" src=\"https://yari-demos.prod.mdn.mozit.cloud/ja/docs/Web/API/HTMLElement/beforeinput_event/_sample_.simple_logger.html\" loading=\"lazy\"></iframe>"}},{"type":"specifications","value":{"title":"仕様書","id":"仕様書","isH3":false,"specifications":[{"bcdSpecificationURL":"https://w3c.github.io/uievents/#event-type-beforeinput","title":"UI Events"}],"query":"api.HTMLElement.beforeinput_event"}},{"type":"browser_compatibility","value":{"title":"ブラウザーの互換性","id":"ブラウザーの互換性","isH3":false,"query":"api.HTMLElement.beforeinput_event","dataURL":"/ja/docs/Web/API/HTMLElement/beforeinput_event/bcd.json"}},{"type":"prose","value":{"id":"関連情報","title":"関連情報","isH3":false,"content":"<ul>\n  <li>関連イベント: <a href=\"/ja/docs/Web/API/HTMLElement/input_event\"><code>input</code></a></li>\n</ul>"}}],"toc":[{"text":"例","id":"例"},{"text":"仕様書","id":"仕様書"},{"text":"ブラウザーの互換性","id":"ブラウザーの互換性"},{"text":"関連情報","id":"関連情報"}],"summary":"DOM の beforeinput イベントは、<input>、<select>、<textarea> 要素の値が変更されようとしているときに発生します。 このイベントは、contenteditable が有効になっている要素、および designMode がオンになっている要素にも適用されます。","popularity":0,"modified":"2022-10-01T03:41:16.000Z","other_translations":[{"title":"HTMLElement: beforeinput event","locale":"en-US","native":"English (US)"},{"title":"HTMLElement: beforeinput event","locale":"fr","native":"Français"},{"title":"HTMLElement: beforeinput event","locale":"zh-CN","native":"中文 (简体)"}],"source":{"folder":"ja/web/api/htmlelement/beforeinput_event","github_url":"https://github.com/mdn/translated-content/blob/main/files/ja/web/api/htmlelement/beforeinput_event/index.md","last_commit_url":"https://github.com/mdn/translated-content/commit/921c46a374ab0a9f4cc809af0370f8c412e54701","filename":"index.md"},"parents":[{"uri":"/ja/docs/Web","title":"開発者向けのウェブ技術"},{"uri":"/ja/docs/Web/API","title":"Web API"},{"uri":"/ja/docs/Web/API/HTMLElement","title":"HTMLElement"},{"uri":"/ja/docs/Web/API/HTMLElement/beforeinput_event","title":"HTMLElement: beforeinput イベント"}],"pageTitle":"HTMLElement: beforeinput イベント - Web API | MDN","noIndexing":false}}