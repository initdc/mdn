{"doc":{"isMarkdown":true,"isTranslated":true,"isActive":true,"flaws":{},"title":"Setting up adaptive streaming media sources","mdn_url":"/ja/docs/Web/Guide/Audio_and_video_delivery/Setting_up_adaptive_streaming_media_sources","locale":"ja","native":"日本語","sidebarHTML":"","body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<p>たとえば、 HTML5 メディア要素内で利用するために、サーバー上の適応型ストリーミングメディアソースを設定するとします。あなたはどうしますか？この記事では、最も一般的な形式である MPEG-DASH と HLS (HTTP Live Streaming) の二つについて見ていきます。</p>"}},{"type":"prose","value":{"id":"フォーマットの選択","title":"フォーマットの選択","isH3":false,"content":"<p>アダプティブ・ストリーミング・フォーマットに関しては、選択肢がたくさんあります。私たちは次の 2 つを選ぶことにしました。これらはモダンブラウザがサポートすることができます。</p>\n<ul>\n  <li>MPEG-DASH</li>\n  <li>HLS (HTTP Live Streaming)</li>\n</ul>\n<p>アダプティブストリーミングを行うためにメディアをチャンクに分割します。いくらかの時間ごとに複数の異なるクオリティのファイルを提供することが必要です。よりたくさんのビットレートでエンコードを行い、より細かく時間を分割すればより 'アダプティブ' なストリーミングになりますが、通常はサイズとエンコード時間とアダプティブさの間でバランスを取ります。</p>\n<p>The good news is that once we have encoded our media in the appropriate format we are pretty good to go. HTTP 上のアダプティブストリーミングのためには特別なサーバーサイドのコンポーネントは必要ありません。</p>\n<p>Both MPEG-DASH and HLS use a playlist format to structure the component piece of media that make the possible streams. Various bitrate streams are broken into segments and placed in appropriate server folders — we have to provide our media players with a link to lookup files or playlists specifying the name and location of these stream folders.</p>"}},{"type":"prose","value":{"id":"mpeg-dash_エンコーディング","title":"MPEG-DASH エンコーディング","isH3":false,"content":"<p>MPEG-DASH は従来の HTTP Web サーバーでメディアコンテンツのアダプティブビットレートストリーミングを可能にする技術です。</p>\n<p>Media Presentation Description (MPD) ファイルが複数のストリームの解像度やコーデックや帯域情報などを持ちます。video 要素の src 属性では、メディアを指定する代わりに MPD を指定します。</p>\n<p>The MPD file tells the browser where the various pieces of media are located, it also includes meta data such as mimeType and codecs and there are other details such as byte-ranges in there too - it is an XML document and in many cases will be generated for you.</p>\n<p>There are a few profiles we can use. We're going to take a look at Ondemand profile for Video On Demand (VOD) and the LIVE profile.</p>\n<p>For live services streaming, the LIVE profile is a requirement. The stream switching capabilities are identical between the profiles.</p>\n<p>Other reasons to use LIVE profile over Ondemand for VOD content may be:</p>\n<ol>\n  <li>クライアントかサーバーがレンジリクエストをサポートしていない</li>\n  <li>サーバーがレンジリクエストを効率的にキャッシュしない</li>\n  <li>サーバーがレンジリクエストを効率的にプリフェッチできない</li>\n  <li>The SIDX* is large and having to load it first slows down startup a little</li>\n  <li>同じオリジナルファイルをその他の配信方式でも使用したい (たとえば Microsoft Smooth Streaming)</li>\n  <li>同じメディアファイルをライブストリーミングで配信した後 VOD でも配信したい</li>\n</ol>\n<p>*SIDX or SegmentIndexBox is a structure describing a segment by giving its earliest presentation time and other meta-data and can often make up a large portion of the MPD file.</p>"}},{"type":"prose","value":{"id":"オンデマンドプロファイル","title":"オンデマンドプロファイル","isH3":true,"content":"<p>このプロファイルでは、オンデマンドでストリームを切り替えることができます。つまり、一連の連続ファイルを用意し、それぞれの帯域幅を指定するだけで、適切なファイルが自動的に選択されます。</p>\n<p>オーディオトラック表現と 4 つの別々のビデオ表現を提供する簡単な例を示します。</p>\n<div class=\"code-example\"><pre class=\"brush: xml notranslate\"><code><span class=\"token prolog\">&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;</span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>MPD</span> <span class=\"token attr-name\"><span class=\"token namespace\">xmlns:</span>xsi</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://www.w3.org/2001/XMLSchema-instance<span class=\"token punctuation\">\"</span></span>\n  <span class=\"token attr-name\">xmlns</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>urn:mpeg:dash:schema:mpd:2011<span class=\"token punctuation\">\"</span></span>\n  <span class=\"token attr-name\"><span class=\"token namespace\">xsi:</span>schemaLocation</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>urn:mpeg:dash:schema:mpd:2011 DASH-MPD.xsd<span class=\"token punctuation\">\"</span></span>\n  <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>static<span class=\"token punctuation\">\"</span></span>\n  <span class=\"token attr-name\">mediaPresentationDuration</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>PT654S<span class=\"token punctuation\">\"</span></span>\n  <span class=\"token attr-name\">minBufferTime</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>PT2S<span class=\"token punctuation\">\"</span></span>\n  <span class=\"token attr-name\">profiles</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>urn:mpeg:dash:profile:isoff-on-demand:2011<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>BaseURL</span><span class=\"token punctuation\">&gt;</span></span>http://example.com/ondemand/<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>BaseURL</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Period</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token comment\">&lt;!-- English Audio --&gt;</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>AdaptationSet</span> <span class=\"token attr-name\">mimeType</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>audio/mp4<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">codecs</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>mp4a.40.5<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">lang</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>en<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">subsegmentAlignment</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>true<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">subsegmentStartsWithSAP</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>1<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Representation</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>1<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">bandwidth</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>64000<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>BaseURL</span><span class=\"token punctuation\">&gt;</span></span>ElephantsDream_AAC48K_064.mp4.dash<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>BaseURL</span><span class=\"token punctuation\">&gt;</span></span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>Representation</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>AdaptationSet</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token comment\">&lt;!-- Video --&gt;</span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>AdaptationSet</span> <span class=\"token attr-name\">mimeType</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>video/mp4<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">codecs</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>avc1.42401E<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">subsegmentAlignment</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>true<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">subsegmentStartsWithSAP</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>1<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Representation</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>2<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">bandwidth</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>100000<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">width</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>480<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">height</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>360<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>BaseURL</span><span class=\"token punctuation\">&gt;</span></span>ElephantsDream_H264BPL30_0100.264.dash<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>BaseURL</span><span class=\"token punctuation\">&gt;</span></span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>Representation</span><span class=\"token punctuation\">&gt;</span></span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Representation</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>3<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">bandwidth</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>175000<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">width</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>480<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">height</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>360<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>BaseURL</span><span class=\"token punctuation\">&gt;</span></span>ElephantsDream_H264BPL30_0175.264.dash<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>BaseURL</span><span class=\"token punctuation\">&gt;</span></span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>Representation</span><span class=\"token punctuation\">&gt;</span></span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Representation</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>4<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">bandwidth</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>250000<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">width</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>480<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">height</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>360<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>BaseURL</span><span class=\"token punctuation\">&gt;</span></span>ElephantsDream_H264BPL30_0250.264.dash<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>BaseURL</span><span class=\"token punctuation\">&gt;</span></span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>Representation</span><span class=\"token punctuation\">&gt;</span></span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Representation</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>5<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">bandwidth</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>500000<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">width</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>480<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">height</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>360<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>BaseURL</span><span class=\"token punctuation\">&gt;</span></span>ElephantsDream_H264BPL30_0500.264.dash<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>BaseURL</span><span class=\"token punctuation\">&gt;</span></span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>Representation</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>AdaptationSet</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>Period</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>MPD</span><span class=\"token punctuation\">&gt;</span></span>\n</code></pre></div>\n<p>MPD ファイルを生成すれば、video タグから参照することができます。</p>\n<div class=\"code-example\"><pre class=\"brush: html notranslate\"><code><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>video</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>my.mpd<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>application/dash+xml<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>video</span><span class=\"token punctuation\">&gt;</span></span>\n</code></pre></div>\n<p>MPEG-DASH をサポートしないブラウザのためのフォールバックを与えるとより良いでしょう:</p>\n<div class=\"code-example\"><pre class=\"brush: html notranslate\"><code><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>video</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>source</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>my.mpd<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>application/dash+xml<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token comment\">&lt;!-- fallback --&gt;</span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>source</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>my.mp4<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>video/mp4<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>source</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>my.webm<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>video/webm<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>video</span><span class=\"token punctuation\">&gt;</span></span>\n</code></pre></div>"}},{"type":"prose","value":{"id":"live_プロファイル","title":"LIVE プロファイル","isH3":true,"content":"<p>MPEG-DASH を取り扱うための良いソフトウェアは <a href=\"https://github.com/slederer/DASHEncoder\" class=\"external\" rel=\" noopener\">Dash Encoder</a> です。これは <a href=\"https://gpac.wp.mines-telecom.fr/mp4box/dash/\" class=\"external\" rel=\" noopener\">MP4Box</a> を使ってメディアを MPEG-DASH フォーマットにエンコードします。</p>\n<div class=\"notecard note\" id=\"sect1\">\n  <p><strong>Note:</strong> You will need to be comfortable with make files and installing dependencies to get this software up and running.</p>\n</div>\n<div class=\"notecard note\" id=\"sect2\">\n  <p><strong>Note:</strong> Since MPEG-DASH decoding is done partially using JavaScript and MSE files are often grabbed using XHR, keep same origin rules in mind.</p>\n</div>\n<div class=\"notecard note\" id=\"sect3\">\n  <p><strong>Note:</strong> If you use WebM you can use the methods shown in this tutorial <a href=\"/en-US/docs/Web/Media/DASH_Adaptive_Streaming_for_HTML_5_Video\" class=\"only-in-en-us\" title=\"Currently only available in English (US)\">DASH Adaptive Streaming for HTML 5 Video (en-US)</a>.</p>\n</div>\n<p>エンコードされるとファイル構造はこのようになります。</p>\n<pre class=\"notranslate\">play list -&gt;                /segments/news.mp4.mpd\n\nmain segment folder -&gt;      /segments/main/\n\n100 Kbps segment folder -&gt;  /segments/main/news100 contains (1.m4s, 2.m4s, 3.m4s ... )\n\n200 Kbps segment folder -&gt;  /segments/main/news200 contains (1.m4s, 2.m4s, 3.m4s ... )\n\n300 Kbps segment folder -&gt;  /segments/main/news300 contains (1.m4s, 2.m4s, 3.m4s ... )\n\n400 Kbps segment folder -&gt;  /segments/main/news400 contains (1.m4s, 2.m4s, 3.m4s ... )\n</pre>\n<p>プレイリスト(<code>.mpd</code> ファイル)はすべてのさまざまなビットレートファイルが存在する場所を明示的に示す XML です。</p>\n<div class=\"code-example\"><pre class=\"brush: xml notranslate\"><code><span class=\"token prolog\">&lt;?xml version=\"1.0\"?&gt;</span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>MPD</span> <span class=\"token attr-name\"><span class=\"token namespace\">xmlns:</span>xsi</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://www.w3.org/2001/XMLSchema-instance<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">xmlns</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>urn:mpeg:DASH:schema:MPD:2011<span class=\"token punctuation\">\"</span></span>  <span class=\"token attr-name\"><span class=\"token namespace\">xsi:</span>schemaLocation</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>urn:mpeg:DASH:schema:MPD:2011<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">profiles</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>urn:mpeg:dash:profile:isoff-main:2011<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>static<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">mediaPresentationDuration</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>PT0H9M56.46S<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>BaseURL</span><span class=\"token punctuation\">&gt;</span></span>\n      http://example.com/segments\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>BaseURL</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Period</span> <span class=\"token attr-name\">start</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>PT0S<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>AdaptationSet</span> <span class=\"token attr-name\">bitstreamSwitching</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>true<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Representation</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>0<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">codecs</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>avc1<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">mimeType</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>video/mp4<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">width</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>320<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">height</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>240<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">startWithSAP</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>1<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">bandwidth</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>46986<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n          <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>SegmentBase</span><span class=\"token punctuation\">&gt;</span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Initialization</span> <span class=\"token attr-name\">sourceURL</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>main/news100/1.m4s<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">range</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>0-862<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/&gt;</span></span>\n          <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>SegmentBase</span><span class=\"token punctuation\">&gt;</span></span>\n          <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>SegmentList</span> <span class=\"token attr-name\">duration</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>1<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>SegmentURL</span> <span class=\"token attr-name\">media</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>main/news100/2.m4s<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">mediaRange</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>863-7113<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/&gt;</span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>SegmentURL</span> <span class=\"token attr-name\">media</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>main/news100/3.m4s<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">mediaRange</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>7114-14104<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/&gt;</span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>SegmentURL</span> <span class=\"token attr-name\">media</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>main/news100/4.m4s<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">mediaRange</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>14105-17990<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/&gt;</span></span>\n          <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>SegmentList</span><span class=\"token punctuation\">&gt;</span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>Representation</span><span class=\"token punctuation\">&gt;</span></span>\n\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Representation</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>1<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">codecs</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>avc1<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">mimeType</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>video/mp4<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">width</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>320<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">height</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>240<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">startWithSAP</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>1<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">bandwidth</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>91932<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n          <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>SegmentBase</span><span class=\"token punctuation\">&gt;</span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Initialization</span> <span class=\"token attr-name\">sourceURL</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>main/news200/1.m4s<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">range</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>0-864<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/&gt;</span></span>\n          <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>SegmentBase</span><span class=\"token punctuation\">&gt;</span></span>\n          <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>SegmentList</span> <span class=\"token attr-name\">duration</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>1<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>SegmentURL</span> <span class=\"token attr-name\">media</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>main/news200/2.m4s<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">mediaRange</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>865-11523<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/&gt;</span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>SegmentURL</span> <span class=\"token attr-name\">media</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>main/news200/3.m4s<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">mediaRange</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>11524-25621<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/&gt;</span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>SegmentURL</span> <span class=\"token attr-name\">media</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>main/news200/4.m4s<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">mediaRange</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>25622-33693<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/&gt;</span></span>\n          <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>SegmentList</span><span class=\"token punctuation\">&gt;</span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>Representation</span><span class=\"token punctuation\">&gt;</span></span>\n\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Representation</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>1<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">codecs</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>avc1<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">mimeType</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>video/mp4<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">width</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>320<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">height</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>240<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">startWithSAP</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>1<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">bandwidth</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>270370<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n          <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>SegmentBase</span><span class=\"token punctuation\">&gt;</span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Initialization</span> <span class=\"token attr-name\">sourceURL</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>main/news300/1.m4s<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">range</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>0-865<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/&gt;</span></span>\n          <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>SegmentBase</span><span class=\"token punctuation\">&gt;</span></span>\n          <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>SegmentList</span> <span class=\"token attr-name\">duration</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>1<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>SegmentURL</span> <span class=\"token attr-name\">media</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>main/news300/2.m4s<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">mediaRange</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>866-26970<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/&gt;</span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>SegmentURL</span> <span class=\"token attr-name\">media</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>main/news300/3.m4s<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">mediaRange</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>26971-72543<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/&gt;</span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>SegmentURL</span> <span class=\"token attr-name\">media</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>main/news300/4.m4s<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">mediaRange</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>72544-95972<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/&gt;</span></span>\n          <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>SegmentList</span><span class=\"token punctuation\">&gt;</span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>Representation</span><span class=\"token punctuation\">&gt;</span></span>\n\n        ...\n\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>AdaptationSet</span><span class=\"token punctuation\">&gt;</span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>Period</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>MPD</span><span class=\"token punctuation\">&gt;</span></span>\n</code></pre></div>\n<p>MPD ファイルは、さまざまなメディアが配置されている場所をブラウザに伝え、 mimeType やコーデックなどのメタデータも含み、そこにはバイト範囲などの詳細も含まれています。一般的にこれらのファイルは自動的に生成されます。</p>\n<div class=\"notecard note\" id=\"sect4\">\n  <p><strong>Note:</strong> 音声と動画のストリームを異なるファイルに分割することも可能です。帯域幅に応じて優先順位を付けて個別に処理することができます。</p>\n</div>\n<p>MPD ファイルを生成すれば、 <a href=\"/ja/docs/Web/HTML/Element/video\"><code>&lt;video&gt;</code></a> 要素で参照することができます。</p>\n<div class=\"code-example\"><pre class=\"brush: html notranslate\"><code><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>video</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>my.mpd<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>application/dash+xml<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>video</span><span class=\"token punctuation\">&gt;</span></span>\n</code></pre></div>\n<p>MPEG-DASH をサポートしないブラウザのためのフォールバックを与えるとより良いでしょう:</p>\n<div class=\"code-example\"><pre class=\"brush: html notranslate\"><code><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>video</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>source</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>my.mpd<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>application/dash+xml<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token comment\">&lt;!-- fallback --&gt;</span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>source</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>my.mp4<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>video/mp4<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>source</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>my.webm<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>video/webm<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>video</span><span class=\"token punctuation\">&gt;</span></span>\n</code></pre></div>\n<div class=\"notecard note\" id=\"sect5\">\n  <p><strong>Note:</strong> MPEG-DASH の再生は <a href=\"https://github.com/Dash-Industry-Forum/dash.js/\" class=\"external\" rel=\" noopener\">dash.js</a> と <a href=\"https://dvcs.w3.org/hg/html-media/raw-file/tip/media-source/media-source.html\" class=\"external\" rel=\" noopener\">Media Source Extensions</a> のブラウザ対応に依存します。最新の <a href=\"https://dashif.org/reference/players/javascript/index.html\" class=\"external\" rel=\" noopener\">dash.js リファレンスプレイヤー</a> を参照してください。</p>\n</div>"}},{"type":"prose","value":{"id":"hls_エンコーディング","title":"HLS エンコーディング","isH3":false,"content":"<p>HTTP Live Streaming (HLS) is an HTTP-based media streaming protocol implemented by Apple. It's incorporated into iOS and OSX platforms and works well on <a href=\"https://www.jwplayer.com/html5/hls/\" class=\"external\" rel=\" noopener\">mobile and desktop Safari and most Android devices with some caveats</a>.</p>\n<p>Media is usually encoded as MPEG-4 (H.264 video and AAC audio) and packaged into an MPEG-2 Transport Stream, which is then broken into segments and saved as one or more <code>.ts</code> media files. Apple provides tools to convert media files to the appropriate format.</p>"}},{"type":"prose","value":{"id":"hls_エンコーディングツール","title":"HLS エンコーディングツール","isH3":true,"content":"<p>HLS エンコードのための役立つツールがいくつかあります。</p>\n<ul>\n  <li>For HLS live stream encoding <a href=\"https://www.adobe.com/support/downloads/product.jsp?product=160&amp;platform=Macintosh\" class=\"external\" rel=\" noopener\">Adobe provide a Media Encoder for Mac</a>.</li>\n  <li>The Stream Segmenter — provided by Apple for Mac platforms — takes a media stream from a local network and splits media into equally sized media files together with an index file.</li>\n  <li>Apple also provides a File Segmenter for Mac — which takes a suitably encoded file, splits it up and produces a index file, in a similar fashion to the Stream Segmenter.</li>\n</ul>\n<div class=\"notecard note\" id=\"sect6\">\n  <p><strong>Note:</strong> これらのツールについて詳しくは <a href=\"https://developer.apple.com/library/mac/documentation/networkinginternet/conceptual/streamingmediaguide/UsingHTTPLiveStreaming/UsingHTTPLiveStreaming.html\" class=\"external\" rel=\" noopener\">Using HTTP Live Streaming</a> を読んでください。</p>\n</div>"}},{"type":"prose","value":{"id":"インデックスファイル_プレイリスト","title":"インデックスファイル (プレイリスト)","isH3":true,"content":"<p>The HLS Index File (much like MPEG-DASH's <code>.mpd</code> file) contains the information on where all the media segments reside, as well as other meta data such as bandwidth application. Apple uses the <code>.m3u8</code> format (an extension of its <code>.m3u</code> playlist format) for index files — see below for an example:</p>\n<pre class=\"notranslate\">#EXT-X-VERSION:3\n#EXTM3U\n#EXT-X-TARGETDURATION:10\n#EXT-X-MEDIA-SEQUENCE:1\n\n# Old-style integer duration; avoid for newer clients.\n#EXTINF:10,\nhttp://media.example.com/segment0.ts\n\n# New-style floating-point duration; use for modern clients.\n#EXTINF:10.0,\nhttp://media.example.com/segment1.ts\n#EXTINF:9.5,\nhttp://media.example.com/segment2.ts\n#EXT-X-ENDLIST\n</pre>\n<div class=\"notecard note\" id=\"sect7\">\n  <p><strong>Note:</strong> Comprehensive information on how to encode media for Apple's HLS format can be found on <a href=\"https://developer.apple.com/streaming/\" class=\"external\" rel=\" noopener\">Apple's Developer Pages</a>.</p>\n</div>"}},{"type":"prose","value":{"id":"see_also","title":"See Also","isH3":false,"content":"<p>Further resources on adaptive streaming.</p>"}},{"type":"prose","value":{"id":"general_information","title":"General information","isH3":true,"content":"<ul>\n  <li><a href=\"https://www.streamingmedia.com/Articles/Editorial/Featured-Articles/Adaptive-Streaming-in-the-Field-73017.aspx\" class=\"external\" rel=\" noopener\">Adaptive Streaming in the Field</a></li>\n</ul>"}},{"type":"prose","value":{"id":"hls_overview_and_references","title":"HLS overview and references","isH3":true,"content":"<ul>\n  <li><a href=\"https://developer.apple.com/streaming/\" class=\"external\" rel=\" noopener\">HTTP Live Streaming</a></li>\n  <li><a href=\"https://www.streamingmedia.com/Articles/Editorial/What-Is-.../What-is-HLS-(HTTP-Live-Streaming)-78221.aspx\" class=\"external\" rel=\" noopener\">What is HLS (HTTP-Live-Streaming)?</a></li>\n  <li><a href=\"https://developer.apple.com/library/ios/documentation/networkinginternet/conceptual/streamingmediaguide/Introduction/Introduction.html\" class=\"external\" rel=\" noopener\">HTTP Live Streaming Overview</a></li>\n</ul>"}},{"type":"prose","value":{"id":"mpeg-dash_overview_and_references","title":"MPEG-DASH overview and references","isH3":true,"content":"<ul>\n  <li><a href=\"https://www-itec.uni-klu.ac.at/bib/files/p89-lederer.pdf\" class=\"external\" rel=\" noopener\">Dynamic Adaptive Streaming over HTTP Dataset</a></li>\n  <li><a href=\"http://msdn.microsoft.com/en-us/library/dn551370(v=vs.85).aspx\" class=\"external\" rel=\" noopener\">MPEG-DASH and streaming reference and resources (MSDN)</a></li>\n  <li><a href=\"/en-US/docs/Web/Media/DASH_Adaptive_Streaming_for_HTML_5_Video\" class=\"only-in-en-us\" title=\"Currently only available in English (US)\">DASH Adaptive Streaming for HTML 5 Video (en-US)</a></li>\n  <li><a href=\"https://www.slideshare.net/christian.timmerer/dynamic-adaptive-streaming-over-http-from-content-creation-to-consumption\" class=\"external\" rel=\" noopener\">Dynamic Adaptive Streaming over HTTP: From Content Creation to Consumption</a></li>\n</ul>"}},{"type":"prose","value":{"id":"mpeg-dash_tools","title":"MPEG-DASH tools","isH3":true,"content":"<ul>\n  <li><a href=\"https://github.com/slederer/DASHEncoder\" class=\"external\" rel=\" noopener\">DASHEncoder</a></li>\n  <li><a href=\"https://gpac.wp.mines-telecom.fr/mp4box\" class=\"external\" rel=\" noopener\">MP4Box</a></li>\n  <li><a href=\"https://github.com/Dash-Industry-Forum/dash.js/wiki\" class=\"external\" rel=\" noopener\">DASH.js Wiki</a></li>\n  <li><a href=\"https://groups.google.com/forum/#!forum/dashjs\" class=\"external\" rel=\" noopener\">DASH.js Google Group</a></li>\n  <li><a href=\"http://mediapm.edgesuite.net/dash/public/support-player/current/index.html\" class=\"external\" rel=\" noopener\">Akamai Dash Diagnostic Player</a></li>\n</ul>\n<p>Adaptive streaming examples</p>\n<ul>\n  <li><a href=\"https://www-itec.uni-klu.ac.at/dash/?page_id=207\" class=\"external\" rel=\" noopener\">ITEC – Dynamic Adaptive Streaming over HTTP</a></li>\n  <li><a href=\"https://dash-mse-test.appspot.com/media.html\" class=\"external\" rel=\" noopener\">MPEG DASH Media Source Demo</a></li>\n</ul>"}}],"toc":[{"text":"フォーマットの選択","id":"フォーマットの選択"},{"text":"MPEG-DASH エンコーディング","id":"mpeg-dash_エンコーディング"},{"text":"HLS エンコーディング","id":"hls_エンコーディング"},{"text":"See Also","id":"see_also"}],"summary":"たとえば、 HTML5 メディア要素内で利用するために、サーバー上の適応型ストリーミングメディアソースを設定するとします。あなたはどうしますか？この記事では、最も一般的な形式である MPEG-DASH と HLS (HTTP Live Streaming) の二つについて見ていきます。","popularity":0,"modified":"2022-10-01T03:41:16.000Z","other_translations":[{"title":"Setting up adaptive streaming media sources","locale":"en-US","native":"English (US)"}],"source":{"folder":"ja/web/guide/audio_and_video_delivery/setting_up_adaptive_streaming_media_sources","github_url":"https://github.com/mdn/translated-content/blob/main/files/ja/web/guide/audio_and_video_delivery/setting_up_adaptive_streaming_media_sources/index.md","last_commit_url":"https://github.com/mdn/translated-content/commit/921c46a374ab0a9f4cc809af0370f8c412e54701","filename":"index.md"},"parents":[{"uri":"/ja/docs/Web","title":"開発者向けのウェブ技術"},{"uri":"/ja/docs/Web/Guide","title":"開発者ガイド"},{"uri":"/ja/docs/Web/Guide/Audio_and_video_delivery","title":"音声と動画の配信"},{"uri":"/ja/docs/Web/Guide/Audio_and_video_delivery/Setting_up_adaptive_streaming_media_sources","title":"Setting up adaptive streaming media sources"}],"pageTitle":"Setting up adaptive streaming media sources - 開発者ガイド | MDN","noIndexing":false}}