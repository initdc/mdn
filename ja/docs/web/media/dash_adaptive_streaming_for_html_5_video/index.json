{"doc":{"isMarkdown":true,"isTranslated":true,"isActive":true,"flaws":{},"title":"HTML 5 ビデオ用の DASH アダプティブストリーミング","mdn_url":"/ja/docs/Web/Media/DASH_Adaptive_Streaming_for_HTML_5_Video","locale":"ja","native":"日本語","sidebarHTML":"","body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<p>Dynamic Adaptive Streaming over HTTP (DASH) は、アダプティブストリーミングプロトコルです。これは動画の再生を維持するためにネットワークパフォーマンスに応じてビデオストリームのビットレートを切り替えることを可能にします。</p>"}},{"type":"prose","value":{"id":"ブラウザーの対応","title":"ブラウザーの対応","isH3":false,"content":"<p>Firefox 21 は HTML5 WebM のための DASH の実装を含んでいますが、既定では無効になっています。これは \"about:config\" の \"media.dash.enabled\" 設定によって有効にすることができます。</p>\n<p>Firefox 23 では HTML5 WebM のための DASH は削除されました。これは <a href=\"https://www.w3.org/TR/media-source/\" class=\"external\" rel=\" noopener\">Media Source Extensions API</a> の実装で置き換えられました。これは dash.js のような JavaScript ライブラリによる DASH のサポートを可能にするものです。詳しくはバグ <a href=\"https://bugzilla.mozilla.org/show_bug.cgi?id=778617\" class=\"external\" rel=\" noopener\">778617</a> を見てください。</p>"}},{"type":"prose","value":{"id":"dash_の使い方_-_サーバーサイド","title":"DASH の使い方 - サーバーサイド","isH3":false,"content":"<p>まず、 WebM ビデオをさまざまなビットレートのビデオファイルとともに DASH マニフェストに変換する必要があります。 まず、 ffmpeg.org の ffpmeg プログラム、 libvpx と libvorbis の WebM ビデオとオーディオ、少なくともバージョン 2.5 (おそらく、これは 3.2.5 でテスト済みです) を必要とします。</p>"}},{"type":"prose","value":{"id":"1._すでに存在する_webm_ファイルを使って一つの音声と複数の動画ファイルを作成する。","title":"1. すでに存在する WebM ファイルを使って一つの音声と複数の動画ファイルを作成する。","isH3":true,"content":"<p>たとえば:</p>\n<p><strong><em>in.video</em></strong> というファイルが ffmpeg でデコード可能な一つ以上の音声と一つ以上の動画ストリームを含むなんらかのコンテナーであるとすると、</p>\n<p>音声はこのように作ります:</p>\n<pre class=\"notranslate\">ffmpeg -i in.video -vn -acodec libvorbis -ab 128k -dash 1 my_audio.webm\n</pre>\n<p>それぞれのビデオはこのように作ります。</p>\n<pre class=\"notranslate\">ffmpeg -i in.video -c:v libvpx-vp9 -keyint_min 150 -g 150 -tile-columns 4 -frame-parallel 1 -f webm -dash 1 \\\n-an -vf scale=160:90 -b:v 250k -dash 1 video_160x90_250k.webm\n\nffmpeg -i in.video -c:v libvpx-vp9 -keyint_min 150 -g 150 -tile-columns 4 -frame-parallel 1  -f webm -dash 1 \\\n-an -vf scale=320:180 -b:v 500k -dash 1 video_320x180_500k.webm\n\nffmpeg -i in.video -c:v libvpx-vp9 -keyint_min 150 -g 150 -tile-columns 4 -frame-parallel 1  -f webm -dash 1 \\\n-an -vf scale=640:360 -b:v 750k -dash 1 video_640x360_750k.webm\n\nffmpeg -i in.video -c:v libvpx-vp9 -keyint_min 150 -g 150 -tile-columns 4 -frame-parallel 1  -f webm -dash 1 \\\n-an -vf scale=640:360 -b:v 1000k -dash 1 video_640x360_1000k.webm\n\nffmpeg -i in.video -c:v libvpx-vp9 -keyint_min 150 -g 150 -tile-columns 4 -frame-parallel 1  -f webm -dash 1 \\\n-an -vf scale=1280:720 -b:v 1500k -dash 1 video_1280x720_1500k.webm\n</pre>\n<p>もしくは全てを一つのコマンドで一度に行います。</p>\n<pre class=\"notranslate\">ffmpeg -i in.video -c:v libvpx-vp9 -keyint_min 150 \\\n-g 150 -tile-columns 4 -frame-parallel 1  -f webm -dash 1 \\\n-an -vf scale=160:90 -b:v 250k -dash 1 video_160x90_250k.webm \\\n-an -vf scale=320:180 -b:v 500k -dash 1 video_320x180_500k.webm \\\n-an -vf scale=640:360 -b:v 750k -dash 1 video_640x360_750k.webm \\\n-an -vf scale=640:360 -b:v 1000k -dash 1 video_640x360_1000k.webm \\\n-an -vf scale=1280:720 -b:v 1500k -dash 1 video_1280x720_1500k.webm\n</pre>"}},{"type":"prose","value":{"id":"2._マニフェストファイルを作成する","title":"2. マニフェストファイルを作成する:","isH3":true,"content":"<pre class=\"notranslate\">ffmpeg \\\n  -f webm_dash_manifest -i video_160x90_250k.webm \\\n  -f webm_dash_manifest -i video_320x180_500k.webm \\\n  -f webm_dash_manifest -i video_640x360_750k.webm \\\n  -f webm_dash_manifest -i video_1280x720_1500k.webm \\\n  -f webm_dash_manifest -i my_audio.webm \\\n  -c copy \\\n  -map 0 -map 1 -map 2 -map 3 -map 4 \\\n  -f webm_dash_manifest \\\n  -adaptation_sets \"id=0,streams=0,1,2,3 id=1,streams=4\" \\\n  my_video_manifest.mpd\n</pre>\n<p>-map 引数は、指定された順序で入力ファイルに対応します。 ファイルごとに 1 つずつ作成する必要があります。 -adaptation_sets 引数は、それらをアダプテーションセットに割り当てます。 たとえば、ストリーム 0,1,2 および 3（ビデオ）を含む 1 つのセット（0）、およびストリーム 4（オーディオストリーム）のみを含む別のセット（1）が作成されます。</p>\n<p>マニフェストと関連する動画ファイルをウェブサーバーや CDN に置いてください。 DASH は HTTP 上で動作するので、 HTTP サーバーがバイトレンジリクエストをサポートしていて .mpd ファイルが mimetype=\"application/dash+xml\" で配信するように設定されていれば、これで全て完了です。</p>"}},{"type":"prose","value":{"id":"dash_の使い方_-_クライアントサイド","title":"DASH の使い方 - クライアントサイド","isH3":false,"content":"<p>ビデオファイルの代わりに DASH マニフェストを参照するようにウェブページを修正します:</p>\n<div class=\"code-example\"><pre class=\"brush: html notranslate\"><code><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>video</span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>source</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>movie.mpd<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>source</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>movie.webm<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n  Your browser does not support the video tag.\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>video</span><span class=\"token punctuation\">&gt;</span></span>\n</code></pre></div>\n<p>これだけです！ブラウザーで DASH がサポートされていれば、動画はアダプティブストリーミングで再生されます。</p>"}},{"type":"prose","value":{"id":"リンク","title":"リンク","isH3":false,"content":"<p><a href=\"http://wiki.webmproject.org/adaptive-streaming/webm-dash-specification\" class=\"external\" rel=\" noopener\">WebM DASH Specification at The WebM Project</a></p>\n<p><a href=\"https://dashif.org/\" class=\"external\" rel=\" noopener\">DASH Industry Forum</a></p>\n<p><a href=\"http://wiki.webmproject.org/adaptive-streaming/instructions-to-playback-adaptive-webm-using-dash\" class=\"external\" rel=\" noopener\">WebM project description of how to create DASH files with FFMPEG</a></p>"}}],"toc":[{"text":"ブラウザーの対応","id":"ブラウザーの対応"},{"text":"DASH の使い方 - サーバーサイド","id":"dash_の使い方_-_サーバーサイド"},{"text":"DASH の使い方 - クライアントサイド","id":"dash_の使い方_-_クライアントサイド"},{"text":"リンク","id":"リンク"}],"summary":"Dynamic Adaptive Streaming over HTTP (DASH) は、アダプティブストリーミングプロトコルです。これは動画の再生を維持するためにネットワークパフォーマンスに応じてビデオストリームのビットレートを切り替えることを可能にします。","popularity":0,"modified":"2022-10-01T03:41:16.000Z","other_translations":[{"title":"DASH Adaptive Streaming for HTML 5 Video","locale":"en-US","native":"English (US)"},{"title":"Transmisión Adaptativa DASH para Video en HTML 5","locale":"es","native":"Español"},{"title":"Utiliser DASH avec les vidéos en HTML","locale":"fr","native":"Français"},{"title":"为 HTML 5 视频提供的 DASH 自适应串流","locale":"zh-CN","native":"中文 (简体)"}],"source":{"folder":"ja/web/media/dash_adaptive_streaming_for_html_5_video","github_url":"https://github.com/mdn/translated-content/blob/main/files/ja/web/media/dash_adaptive_streaming_for_html_5_video/index.md","last_commit_url":"https://github.com/mdn/translated-content/commit/921c46a374ab0a9f4cc809af0370f8c412e54701","filename":"index.md"},"parents":[{"uri":"/ja/docs/Web","title":"開発者向けのウェブ技術"},{"uri":"/ja/docs/Web/Media","title":"ウェブメディア技術"},{"uri":"/ja/docs/Web/Media/DASH_Adaptive_Streaming_for_HTML_5_Video","title":"HTML 5 ビデオ用の DASH アダプティブストリーミング"}],"pageTitle":"HTML 5 ビデオ用の DASH アダプティブストリーミング - ウェブメディア技術 | MDN","noIndexing":false}}