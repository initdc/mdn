{"doc":{"isMarkdown":true,"isTranslated":true,"isActive":true,"flaws":{},"title":"alert ロールの使用","mdn_url":"/ja/docs/conflicting/Web/Accessibility/ARIA/Roles/alert_role","locale":"ja","native":"日本語","sidebarHTML":"","body":[{"type":"prose","value":{"id":"説明","title":"説明","isH3":true,"content":"<p><a href=\"https://www.w3.org/TR/wai-aria-1.1/#alert\" class=\"external\" rel=\" noopener\">alert</a> ロールの使用方法についての技術デモとブラウザおよび支援技術に及ぼす影響の説明。</p>\n<p>alert ロールは重要かつ一般に時間的制約のあるメッセージをユーザーへ伝えるために使用されます。このロールが要素へ追加されたとき、ブラウザはアクセシブルなアラートイベントをユーザーに向けて通知可能な支援技術製品へ送信します。 アラートロールはユーザの注意を即座に必要とする場合において最も便利です、例えば:</p>\n<ul>\n  <li>不正な値がフォームフィールドに入れられたとき</li>\n  <li>ユーザーのログインセッションが切れようとしているとき</li>\n  <li>サーバーとの接続が切れ、ローカルの変更が保存されないとき</li>\n</ul>\n<p>その押し付けがましい性質から、アラートロールはユーザーの注意を直ちに引く必要があるときにだけかつ控えめに使用されるべきです。 緊急度の低い動的な変更は、aria-live=\"polite\" や他のライブリージョンロールなどのあまり積極的ではない方法を使うべきです。</p>"}},{"type":"prose","value":{"id":"ユーザーエージェントと支援技術への影響","title":"ユーザーエージェントと支援技術への影響","isH3":true,"content":"<p>アラートロールが要素へ追加されたとき、もしくはそのような要素が可視になったときにユーザーエージェントは以下のことを実行する必要があります:</p>\n<ul>\n  <li>オペレーティングシステムのアクセシビリティ API にアラートロールを持った要素を公開します。</li>\n  <li>もしサポートしていればオペレーティングシステムのアクセシビリティ API を使ったアクセシブルなアラートイベントを発火する。</li>\n</ul>\n<p>支援技術製品はそのようなイベントを監視し、それに応じてユーザへ通知すべきです:</p>\n<ul>\n  <li>スクリーンリーダーは現在のアウトプット（音声または点字関係なく）を妨害し、直ちにアラートメッセージをアナウンスもしくは表示すことがあります。</li>\n  <li>画面拡大鏡はアラートが起こったこと、およびアラートテキストが何であるかを視覚的に示すことがあります。</li>\n</ul>\n<div class=\"notecard note\" id=\"sect1\">\n  <p><strong>Note:</strong> 支援技術がこの技術をどのように処理すべきかについては意見が異なる場合があります。上記の情報は意見の一つで、したがって標準ではありません。</p>\n</div>"}},{"type":"prose","value":{"id":"例","title":"例","isH3":true,"content":"<h4 id=\"例_1_html_コードへのロールの追加\">例 1: HTML コードへのロールの追加</h4>\n<p>下のスニペットは html ソースコードへどうのようにアラートロールが直接追加されるかを示しています。要素が読み込み完了した瞬間にスクリーンリーダーはアラートの通知をするはずです。ページが読み込み終わったとき、もし要素がすでにオリジナルのソースコードにあったら、スクリーンリーダーはページタイトルをアナウンスした後にすぐにエラーを知らせるでしょう。</p>\n<div class=\"code-example\"><pre class=\"brush: html notranslate\"><code><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h2</span> <span class=\"token attr-name\">role</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>alert<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>Your form could not be submitted because of 3 validation errors.<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h2</span><span class=\"token punctuation\">&gt;</span></span>\n</code></pre></div>\n<h4 id=\"例_2_動的にアラートロールをもつ要素を追加\">例 2: 動的にアラートロールをもつ要素を追加</h4>\n<p>このスニペットはアラートロールを持つ要素を動的に生成し、ドキュメント構造へ追加します。</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">var</span> myAlert <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">createElement</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"p\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nmyAlert<span class=\"token punctuation\">.</span><span class=\"token function\">setAttribute</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"role\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"alert\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> myAlertText <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">createTextNode</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"You must agree with our terms of service to create an account.\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nmyAlert<span class=\"token punctuation\">.</span><span class=\"token function\">appendChild</span><span class=\"token punctuation\">(</span>myAlertText<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\ndocument<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">appendChild</span><span class=\"token punctuation\">(</span>myAlert<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<p><strong>注:</strong> jQuery のようなスクリプトライブラリを使ったときはより少ないコードで同じ結果を実現することができます:</p>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"&lt;p role='alert'&gt;You must agree with our terms of service to create an account.&lt;/p&gt;\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">appendTo</span><span class=\"token punctuation\">(</span>document<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<h4 id=\"例_3_存在する要素へのアラートロールの追加\">例 3: 存在する要素へのアラートロールの追加</h4>\n<p>時々新しい要素を作るよりもすでにページに見えている要素にアラートロールを追加するほうが便利なことがあります。これにより開発者はユーザーへより関連度や緊急性の高い情報を繰り返し表示することができます。例えば、フォームコントロールは期待値についての指示を持っているかもしれません。違う値が入力されたら、スクリーンリーダーがそれを警告としてアナウンスするために <code>role=\"alert</code> を指示文へ追加される場合があります。以下の疑似スニペットコードはこのアプローチを示しています:</p>\n<div class=\"code-example\"><pre class=\"brush: html notranslate\"><code><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>formInstruction<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>You must select at least 3 options<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">&gt;</span></span>\n</code></pre></div>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token comment\">// When the user tries to submit the form with less than 3 checkboxes selected:</span>\ndocument<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"formInstruction\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">setAttribute</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"role\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"alert\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<h4 id=\"例_4_アラートロールをもつ要素を表示する\">例 4: アラートロールをもつ要素を表示する</h4>\n<p>要素が既に <code>role=\"alert\"</code> を持ち、CSS を使用して最初に非表示になっている場合、それを表示することはページにちょうど追加されたかのようにアラートをが発せられます。存在するアラートを何回も \"再利用\" できるということを意味しています。</p>\n<p><strong>注:</strong> ほとんどのケースではこのアプローチは推奨されません、なぜなら現在適応できないエラーやアラート文を隠すことは理想的ではないからです。古い支援技術のユーザーは現在アラートが適応されてないときにもかかわらずアラート文を認識して、ユーザへ問題があると間違って信じこませてしまうかもしれません。</p>\n<div class=\"code-example\"><pre class=\"brush: css notranslate\"><code><span class=\"token selector\">.hidden</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">display</span><span class=\"token punctuation\">:</span>none<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<div class=\"code-example\"><pre class=\"brush: html notranslate\"><code><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>expirationWarning<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">role</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>alert<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>hidden<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>Your log in session will expire in 2 minutes<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">&gt;</span></span>\n</code></pre></div>\n<div class=\"code-example\"><pre class=\"brush: js notranslate\"><code><span class=\"token comment\">// removing the 'hidden' class makes the element visible, which will make the screen reader announce the alert:</span>\ndocument<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"expirationWarning\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>className <span class=\"token operator\">=</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">;</span>\n</code></pre></div>"}},{"type":"prose","value":{"id":"注記","title":"注記","isH3":true,"content":"<ul>\n  <li>要素でのアラートロールの使用は要素が <code>aria-live=\"assertive\"</code> を持っていることを意味します。</li>\n  <li>アラートロールは静的な文章のためにのみ使用されるべきです。アラートロールが使用された要素はフォーカスを受け取ることができず、スクリーンリーダーはキーボードフォーカスが現在位置している場所にかかわらずに自動的にアラートをアナウンスするかもしれません。</li>\n  <li>もしアラートが双方向のコントロール (ユーザが問題を修正できるフォームコントロールや、アラートを破棄する \"OK\" ボタンなど) を提供する場合、<a href=\"/ja/Accessibility/ARIA/ARIA_Techniques/Using_the_alertdialog_role\" class=\"page-not-created\" title=\"This is a link to an unwritten page\">アラートダイアログ</a>ロールを代わりに使用するべきです。</li>\n</ul>"}},{"type":"prose","value":{"id":"使用される_aria_属性","title":"使用される ARIA 属性","isH3":true,"content":"<ul>\n  <li><a href=\"https://www.w3.org/TR/wai-aria-1.1/#alert\" class=\"external\" rel=\" noopener\">alert</a></li>\n</ul>"}},{"type":"prose","value":{"id":"関連_aria_技術","title":"関連 ARIA 技術","isH3":true,"content":"<ul>\n  <li><a href=\"/ja/Accessibility/ARIA/ARIA_Techniques/Using_the_alertdialog_role\" class=\"page-not-created\" title=\"This is a link to an unwritten page\">Using the alertdialog role</a></li>\n  <li><a href=\"/ja/Accessibility/ARIA/ARIA_Techniques/Using_the_aria-invalid_property\" class=\"page-not-created\" title=\"This is a link to an unwritten page\">Using the aria-invalid property</a></li>\n</ul>"}},{"type":"prose","value":{"id":"互換性","title":"互換性","isH3":true,"content":"<p>TBD: Add support information for common UA and AT product combinations</p>"}},{"type":"prose","value":{"id":"その他のリソース","title":"その他のリソース","isH3":true,"content":"<ul>\n  <li>ARIA Best Practices - Alert Role: <a href=\"https://www.w3.org/TR/wai-aria-practices/#alert\" class=\"external\" rel=\" noopener\">http://www.w3.org/TR/wai-aria-practices/#alert</a></li>\n</ul>"}}],"toc":[],"summary":"alert ロールの使用方法についての技術デモとブラウザおよび支援技術に及ぼす影響の説明。","popularity":0,"modified":"2022-10-01T03:41:16.000Z","source":{"folder":"ja/conflicting/web/accessibility/aria/roles/alert_role","github_url":"https://github.com/mdn/translated-content/blob/main/files/ja/conflicting/web/accessibility/aria/roles/alert_role/index.md","last_commit_url":"https://github.com/mdn/translated-content/commit/921c46a374ab0a9f4cc809af0370f8c412e54701","filename":"index.md"},"parents":[{"uri":"/ja/docs/conflicting/Web/Accessibility/ARIA","title":"アラート"},{"uri":"/ja/docs/conflicting/Web/Accessibility/ARIA/Roles/alert_role","title":"alert ロールの使用"}],"pageTitle":"alert ロールの使用 | MDN","noIndexing":true}}